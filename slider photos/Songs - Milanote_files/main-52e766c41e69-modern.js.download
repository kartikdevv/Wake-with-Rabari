(self.webpackChunkmilanote=self.webpackChunkmilanote||[]).push([[179],{45350:e=>{e.exports={APPLICATION_MODE:{development:"development",test:"test",production:"production"},DEBUG_LEVEL:{OFF:0,ERROR:0,WARN:100,INFO:200,FINE:300,FINER:400,FINEST:500},ENV:{PRODUCTION:"production",DEVELOPMENT:"development"},SERVER_TYPE:{development:"development",staging:"staging",production:"production",test:"test"},ROLE_TYPE:{worker:"Worker",app:"App",media:"Media",migration:"Migration",notifications:"Notifications",collab:"Collab",search:"Search-index-worker"}}},56884:(e,t,n)=>{"use strict";n.d(t,{aQ:()=>v,lr:()=>f,aY:()=>g,XX:()=>I,Or:()=>C,dO:()=>y,$:()=>b,q0:()=>E});var r=n(15077),o=n(59161);const i="SET_AMPLITUDE_USER";var s=n(10048);const a=e=>(...t)=>{var n,r,i,s;return null!==(n=window)&&void 0!==n&&null!==(r=n.webkit)&&void 0!==r&&null!==(i=r.messageHandlers)&&void 0!==i&&i.milanoteAmplitudeAnalytics&&null!==(s=(0,o.Z)().analytics)&&void 0!==s&&s.passToSwift?e(...t):(e=>t=>{console.warn("Amplitude is attempting to be invoked, but it's not available",e.name,t)})(e)(...t)},l=a((e=>{window.webkit.messageHandlers.milanoteAmplitudeAnalytics.postMessage({messageType:i,userId:e._id}).catch((t=>{s.Z.error("Amplitude user ID message could not be posted: ",e._id,t)}))})),c=a((()=>{window.webkit.messageHandlers.milanoteAmplitudeAnalytics.postMessage({messageType:i,userId:null}).catch((e=>{s.Z.error("Amplitude clear user ID message could not be posted: ",e)}))})),d=a((({userProperties:e})=>{e&&window.webkit.messageHandlers.milanoteAmplitudeAnalytics.postMessage({messageType:"SET_AMPLITUDE_USER_PROPERTIES",userProperties:e}).catch((t=>{s.Z.error("Amplitude user properties could not be posted: ",e,t)}))})),u=a((({eventType:e,eventProperties:t,userProperties:n})=>{d({userProperties:n}),e&&window.webkit.messageHandlers.milanoteAmplitudeAnalytics.postMessage({messageType:"SEND_AMPLITUDE_EVENT",eventType:e,eventProperties:t}).catch((n=>{s.Z.error("Amplitude analytics event could not be posted: ",e,t,n)}))})),m=a((e=>{window.webkit.messageHandlers.milanoteAmplitudeAnalytics.postMessage({messageType:"INITIALISE_AMPLITUDE",config:e}).catch((t=>{s.Z.error("Amplitude initialise message could not be posted: ",e,t)}))})),p=()=>{var e;return null===(e=(0,o.Z)().analytics)||void 0===e?void 0:e.passToSwift},h=()=>{},g=p()?h:r.aY,f=p()?h:r.lr,E=p()?l:r.q0,v=p()?c:r.aQ,b=p()?d:r.$,y=p()?u:r.dO,I=p()?m:r.XX,C=p()?h:r.Or},15077:(e,t,n)=>{"use strict";n.d(t,{$:()=>O,Or:()=>D,XX:()=>A,aQ:()=>w,aY:()=>C,dO:()=>_,lr:()=>S,q0:()=>T});var r=n(23560),o=n.n(r),i=n(84486),s=n.n(i),a=n(57557),l=n.n(a),c=n(10048),d=n(76849),u=n(68071),m=n(68494),p=n(56426),h=n(47915),g=n(20354),f=n(16547),E=n(95372),v=n(53976),b=n(26434),y=n(33853);const I=(0,d.T)("Amplitude",(()=>!!window.amplitude&&o()(window.amplitude.getInstance))),C=I((function(){var e,t;return null===(e=window.amplitude.getInstance())||void 0===e||null===(t=e.options)||void 0===t?void 0:t.deviceId})),S=I((function(e){window.amplitude.getInstance().setOptOut(!e),e&&(0,f.Hc)((()=>window.amplitude.getInstance().enableTracking()),(()=>window.amplitude.getInstance()._isInitialized)).then((()=>{c.Z.info("%cAmplitude analytics successfully enabled","color: green")})).catch((e=>{(0,g.vl)({errorMessage:"Amplitude: Fail to enable Amplitude tracking",level:y.n.WARNING,error:e})}))})),T=I((function(e){window.amplitude.getInstance().setUserId(e._id)})),w=I((function(){window.amplitude.getInstance().setUserId(null)})),O=I((function({userProperties:e}){if(!e)return;if(!!e[v.YV.EXAMPLE_BOARDS]){const t=(new window.amplitude.Identify).append(v.YV.EXAMPLE_BOARDS,e[v.YV.EXAMPLE_BOARDS]);window.amplitude.identify(t)}const t=l()(e,[v.YV.EXAMPLE_BOARDS]);window.amplitude.getInstance().setUserProperties(t)})),_=I((function({eventType:e,eventProperties:t,userProperties:n}){O({userProperties:n}),e&&window.amplitude.getInstance().logEvent(e,t)})),R=I((function(){const e=(0,m.M)(document.location.href,document.referrer);if(!e)return;const t=new window.amplitude.Identify;s()(e,((e,n)=>{t.set(n,e),t.setOnce(`initial_${n}`,e)})),window.amplitude.identify(t)})),A=I((function(e){const t={deferInitialization:!0,forceHttps:!0,deviceIdFromUrlParam:!0,includeGclid:!0,includeUtm:!0,includeReferrer:!0,transport:"beacon",trackingOptions:{ip_address:!1}};t.platform=(0,E.k)(),window.amplitude.getInstance().init(e.analytics.amplitudeApiKey,null,t,(()=>c.Z.info("%cAmplitude analytics successfully loaded","color: green")))})),D=I((function(e){(0,h.$)()&&_({eventType:b.Xc.LOADED_IN_IFRAME,eventProperties:{referrer:document.referrer}});(0,u.Z$)()?(window.amplitude.getInstance().setVersionName(e.appVersion),O({userProperties:{[v.YV.FEATURE]:{[v.x2.DESKTOP_APP]:!0}}})):(0,p.z)()?O({userProperties:{[v.YV.FEATURE]:{[v.x2.PWA]:!0}}}):R()}))},95683:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,F:()=>o});var r=n(85743);const o=()=>({type:r.Ny}),i=()=>({type:r.gC})},85743:(e,t,n)=>{"use strict";n.d(t,{Ny:()=>o,gC:()=>i,hn:()=>r});const r={trackEvent:"trackEvent",boot:"boot",shutdown:"shutdown",update:"update",show:"show",onUnreadCountChange:"onUnreadCountChange"},o="INTERCOM_SHOW_MESSAGES",i="INTERCOM_SHOW_HELP_CENTER"},76849:(e,t,n)=>{"use strict";n.d(t,{T:()=>s,z:()=>i});var r=n(44379);const o=r.ZP.createChannel(r.SI.ANALYTICS),i=(e,t,n,...r)=>{o.log(`%c${e}%s: %s`,"color: grey",t?"":" (⨯)",n,...r)},s=(e,t)=>n=>(...r)=>{const o=t();i(e,o,n.name,...r),o&&n(...r)}},18260:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r});const r=n(9101).Q3},9101:(e,t,n)=>{"use strict";n.d(t,{Q3:()=>v,WY:()=>E,au:()=>y,kC:()=>f,o6:()=>C,qi:()=>b});var r,o,i=n(23279),s=n.n(i),a=n(88306),l=n.n(a),c=n(59161),d=n(10048),u=n(76849),m=n(85743),p=n(19092);const h=l()((()=>{var e;return null===(e=(0,c.Z)().analytics)||void 0===e?void 0:e.enabled})),g=e=>(t,n)=>{var r,o,i,s,a;const l=h();if((0,u.z)("Intercom",l,e,t,n),l){if(null===(r=(0,c.Z)())||void 0===r||null===(o=r.analytics)||void 0===o||!o.passToSwift||null===(i=window)||void 0===i||null===(s=i.webkit)||void 0===s||null===(a=s.messageHandlers)||void 0===a||!a.milanoteIntercomAnalytics)return window&&void 0!==window.Intercom?void window.Intercom(e,t,n):d.Z.warn("Intercom not initialized yet");window.webkit.messageHandlers.milanoteIntercomAnalytics.postMessage({action:e,data:t,metadata:n}).catch((e=>{d.Z.error("Intercom analytics event could not be posted: ",t,n,e)}))}},f=g(m.hn.boot),E=g(m.hn.shutdown),v=g(m.hn.trackEvent),b=g(m.hn.show),y=(g(m.hn.onUnreadCountChange),(e,t)=>f(Object.assign({app_id:(0,c.Z)().analytics.appId,user_id:e},t))),I=g(m.hn.update),C=s()(I,p.yu.SECOND*(null===(r=(0,c.Z)().analytics)||void 0===r?void 0:r.debounceTimeSeconds),{maxWait:p.yu.SECOND*(null===(o=(0,c.Z)().analytics)||void 0===o?void 0:o.debounceMaxWaitSeconds)})},19495:(e,t,n)=>{"use strict";n.d(t,{Kh:()=>m,Ku:()=>c,LJ:()=>l,Lw:()=>o,Tc:()=>a,gz:()=>i,hh:()=>d,mE:()=>u});var r=n(76849);let o,i;!function(e){e.APP_MULTI_REFRESH="appMultiRefresh",e.BOARD_NAVIGATION="boardNavigation",e.ELEMENT_CREATION="elementCreation",e.FEATURE_FORCE_DISABLE="featureForceDisable",e.ELEMENT_PURGE="elementPurge",e.LOCAL_CACHE_KEYVAL_IDB_INIT="localCache.keyvalIdbInit",e.LOCAL_CACHE_GET_CACHED_REDUX_STATE="localCache.getCachedReduxState",e.LOCAL_CACHE_GET_CACHED_REDUX_STATE_CACHE_OBJECT_RETRIEVAL="localCache.getCachedReduxState.cacheObjectRetrieval",e.LOCAL_CACHE_GET_CACHED_REDUX_STATE_GET_PERSISTED_STATE="localCache.getCachedReduxState.getPersistedState"}(o||(o={})),function(e){e.CLIENT_LOCAL_CACHE="clientLocalCache",e.CLIENT_LOCAL_CACHE_REHYDRATION="clientLocalCacheRehydration",e.SUPPORTS_PERSISTENCE_LAYER="supportsPersistenceLayer",e.CLIENT_PERSISTENCE_ENABLED="clientPersistenceEnabled"}(i||(i={}));const s=(0,r.T)("New Relic",(()=>!!window.newrelic&&"object"==typeof window.newrelic)),a=s((function(e){window.newrelic.setApplicationVersion(e)})),l=s((function(e){window.newrelic.setUserId(e||"guest")})),c=s((function(e,t){window.newrelic.setCustomAttribute(e,t)})),d=s((function(e){for(const t in e)window.newrelic.setCustomAttribute(t,e[t])})),u=s((function(e){window.newrelic.finished(e)})),m=s((function(e,t={}){window.newrelic.addPageAction(e,t)}))},10992:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(59161);const o=e=>new Promise(((t,n)=>{if(!window.grecaptcha)return t(null);window.grecaptcha.ready((()=>{window.grecaptcha.execute((0,r.Z)().recaptcha.siteKey,{action:e}).then(((e,r)=>{if(r)return n(r);t(e)}))}))}))},33853:(e,t,n)=>{"use strict";n.d(t,{n:()=>r});const r={CRITICAL:"critical",ERROR:"error",WARNING:"warning",INFO:"info",DEBUG:"debug"}},20354:(e,t,n)=>{"use strict";n.d(t,{rp:()=>d,vl:()=>m,kd:()=>u});var r=n(59242),o=n.n(r);const i=e=>Object.assign({},e,{data:void 0,errorDetails:void 0}),s=({error:e,custom:t})=>Object.assign({code:e.code,custom:t},(e=>{if(e)return{apiUrl:e.url,method:e.method,data:e.data}})(e.config),(e=>{if(e)return Object.assign({status:e.status,statusText:e.statusText},(e=>{if(e)return{apiUrl:e.responseURL}})(e.request),(e=>{if(!e||!e.error)return;const{error:t}=e;return{errorName:t.name,errorCode:t.code,errorMessage:t.message,errorDetails:t.details||t.detail}})(e.data))})(e.response));var a=n(33853),l=n(10048);const c=()=>{try{return window.Rollbar}catch(e){return l.Z.error("Unable to retrieve Rollbar",e),null}},d=()=>{const e=c();e&&e.configure({captureIp:"anonymize",captureUsername:!1,captureEmail:!1})},u=e=>{const t=c();t&&t.configure({payload:{person:{id:e._id}}})},m=e=>{const{errorMessage:t,error:n={},sensitive:r,custom:l,level:d=a.n.ERROR,getState:u}=e,m=c();if(!m)return;const p=m[d]?d:a.n.ERROR;let h=(({error:e,custom:t,sensitive:n})=>{const r=[s];return n&&r.push(i),o()(r)({error:e,custom:t})})({error:n,sensitive:r,custom:l});h=((e,t)=>{if(!e.user_id&&!e.user&&t){const n=t().getIn(["app","currentUser","_id"]);n&&(e.user_id=n)}return e})(h,u),m[p](t,n,h)}},78453:(e,t,n)=>{"use strict";n.d(t,{Ad:()=>h,T_:()=>g,a7:()=>p,bO:()=>d,f8:()=>u,iX:()=>m});var r=n(44379),o=n(19495),i=n(80743),s=n(19092);const a={[o.Lw.LOCAL_CACHE_KEYVAL_IDB_INIT]:20*s.yu.SECOND,[o.Lw.LOCAL_CACHE_GET_CACHED_REDUX_STATE]:20*s.yu.SECOND,[o.Lw.LOCAL_CACHE_GET_CACHED_REDUX_STATE_CACHE_OBJECT_RETRIEVAL]:20*s.yu.SECOND,[o.Lw.LOCAL_CACHE_GET_CACHED_REDUX_STATE_GET_PERSISTED_STATE]:20*s.yu.SECOND,[o.Lw.BOARD_NAVIGATION]:20*s.yu.SECOND,[o.Lw.ELEMENT_CREATION]:5*s.yu.SECOND},l=new Map,c=r.ZP.createChannel(r.SI.ANALYTICS),d=(e,t)=>{performance.mark(`MN-${e}-start`),l.set(e,Object.assign({},t,{startTime:Date.now()}))},u=e=>l.has(e),m=e=>{l.delete(e)},p=(e,t)=>{const n=l.get(e);if(!n)return null;performance.mark(`MN-${e}-end`),performance.measure(`MN-${e}-duration`,`MN-${e}-start`,`MN-${e}-end`);const r=Date.now()-n.startTime;l.delete(e);const s=a[e]||1/0;if(r>s)return c.warn(`New Relic: Ignoring "${e}" operation that took longer than ${s} seconds`,r),null;const d=Object.assign({},n,t);return delete d.startTime,i.Q7(),(0,o.Kh)(e,Object.assign({duration:r},d)),r},h=e=>{i.Ad(e)},g=(e,t)=>function(...n){return d(t),e(...n).finally((()=>{p(t)}))}},80743:(e,t,n)=>{"use strict";n.d(t,{Ad:()=>v,Q7:()=>y,TR:()=>b});var r=n(68929),o=n.n(r),i=n(63749),s=n(68468),a=n(63978),l=n(81897),c=n(43831),d=n(47566),u=n(7923),m=n(19495),p=n(11111),h=n(47404),g=n(99489),f=n(80275);let E=null;const v=e=>{E=e},b=(e="currentBoard")=>{if(!E)return{};const t={},n=E.getState(),r=(0,c.qo)((0,l.zP)(n)).reduce(h.HH,{});let i=0;for(const s of p.Hu){const n=r[s]||0;i+=n,t[`elementCounts.${e}.${o()(s)}`]=n}return t[`elementCounts.${e}.total`]=i,t},y=()=>{const e=(()=>{if(!E)return null;const e=E.getState(),t=(0,g.YK)((0,f.ts)(e))||!1,n=(0,c.kE)((0,s.$3)(e)),r=(0,c.kE)((0,i.R)(e)),o=(0,a.S)(e),l={"endUser.isSubscribed":t,"storeCounts.elements":n,"storeCounts.users":r,"canvasDimensions.width":(0,d.wM)((0,u.dz)(o)),"canvasDimensions.height":(0,d.wM)((0,u.Cr)(o))},m=b();return Object.assign({},l,m)})();e&&(0,m.hh)(e)}},16582:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294),o=n(56884);const i=({eventType:e,eventProperties:t,userProperties:n})=>{(0,r.useEffect)((()=>{(0,o.dO)({eventType:e,eventProperties:t,userProperties:n})}),[])}},68494:(e,t,n)=>{"use strict";n.d(t,{M:()=>u,v:()=>c});var r=n(41609),o=n.n(r),i=n(21053);const s=["google","bing","yahoo"],a=["milanote.com"],l=(e,t)=>({utm_medium:e,utm_source:t}),c=e=>{var t;if(!e)return null;const n=new URL(e);if(!n)return null;if(null!=n&&null!==(t=n.searchParams)&&void 0!==t&&t.has("gclid"))return l("cpc","google");const r=n.searchParams.get("utm_medium"),o=n.searchParams.get("utm_source");return r&&o?l(r,o):null},d=e=>{if(o()(e))return null;const t=(0,i.ge)(e);if((e=>a.some((t=>-1!==e.indexOf(t))))(t))return null;const n=s.reduce(((e,n)=>e||(-1!==t.indexOf(n)?n:null)),null);return n?l("organic",n):l("referral",t)},u=(e,t)=>c(e)||d(t)},73715:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(16226),o=n.n(r),i=n(63422),s=n.n(i),a=n(67294),l=n(45697),c=n.n(l),d=n(37974),u=n(22222),m=n(29812),p=n(37574),h=n(81410),g=n(81188),f=n(87430),E=n(91040),v=n(75763),b=n(39301);const y=s()("slug"),I=s()(["location","pathname"]),C=o()("/preview"),S=o()("/publish-preview"),T=(0,u.zB)({isCurrentBoardError:g.XJ,stateCurrentBoardId:h.s4,currentBoard:h.tQ,isPreviewRoute:(e,t)=>C(I(t)),isPublishPreviewRoute:(e,t)=>S(I(t)),currentUrlPermissionId:f.en,bestUrlPermissionId:E.XE,hasRetrievedReadableAncestors:E.ZP}),w=({params:e,currentBoard:t,routeParams:n,isPreviewRoute:r,isPublishPreviewRoute:o,stateCurrentBoardId:i,dispatchCurrentBoardIdSet:s,dispatchReplaceBoardUrl:l,isCurrentBoardError:c,currentUrlPermissionId:d,bestUrlPermissionId:u,hasRetrievedReadableAncestors:m})=>{const p=(0,a.useRef)(),{currentBoardId:h}=e,g=y(n);return(0,a.useEffect)((()=>{h&&h!==p.current&&h!==i&&s(h),p.current=h}),[h,i,c]),(0,a.useEffect)((()=>{if(!t||r||o)return;if((0,v.nRF)(t)!==h)return;if(!m)return;const e=(0,v.YQ0)(t),n=e&&(0,b.lV)(e);d==u&&g===n||l({boardId:h,slug:n,permissionId:u})}),[t,u]),null};w.propTypes={currentBoard:c().object,stateCurrentBoardId:c().string,isPreviewRoute:c().bool,isPublishPreviewRoute:c().bool,dispatchCurrentBoardIdSet:c().func,dispatchReplaceBoardUrl:c().func,params:c().object.isRequired,routeParams:c().object.isRequired,isCurrentBoardError:c().bool,currentUrlPermissionId:c().string,bestUrlPermissionId:c().string,hasRetrievedReadableAncestors:c().bool};const O=(0,d.$j)(T,(e=>({dispatchCurrentBoardIdSet:t=>e((0,m.D)({boardId:t})),dispatchReplaceBoardUrl:({boardId:t,slug:n,permissionId:r})=>e((0,p.HT)({boardId:t,slug:n,permissionId:r}))})))(w)},30413:(e,t,n)=>{"use strict";n.d(t,{Z:()=>FM});var r=n(63422),o=n.n(r),i=n(71570),s=n(67294),a=n(45697),l=n.n(a),c=n(37974),d=n(61409),u=n(49611),m=n.n(u),p=n(68356),h=n.n(p),g=n(94184),f=n.n(g),E=n(22222),v=n(76491),b=n(89546),y=n(19092);const I=({id:e,location:t,content:n,timestamp:r,temp:o,meta:i={}})=>({id:e,location:t,content:n,temp:o,meta:Object.assign({},i,{modifiedTime:r||(0,y.u3)()})}),C=e=>{const{content:t}=e;return Object.assign({},I(e),{elementType:v.WK,content:Object.assign({textContent:null},t)})};var S=n(65792),T=n.n(S),w=n(61473),O=n(43831),_=n(1174),R=n.n(_),A=n(39702),D=n(75763),N=n(87701);const x=e=>{const{className:t,icon:n,added:r,children:o}=e,i=n?s.createElement("div",{className:"icon-container"},n):null;return s.createElement("div",{className:f()("ElementTip",t,{added:r})},s.createElement("div",{className:"relative-container"},s.createElement("div",{className:"absolute-container"},i,o)))};x.propTypes={children:l().oneOfType([l().arrayOf(l().node),l().node]),added:l().bool,icon:l().object,className:l().string};const M=x;var P=n(19690),L=n(48791),k=n(60434),F=n(82520),B=n(39301),j=n(53106),z=n(72522),U=n(29176),H=n(17503);const Z=(e,t)=>{const n=((e,t)=>e.getIn(["elements",t.elementId]))(e,t);return e.getIn(["app","cloneInstances",(0,D.G8z)(n)])};var G=n(97596),K=n(26457);const W=e=>{const{children:t,className:n}=e;return s.createElement("div",{className:f()("CardCloneInstancesPopupContentInfo",n)},t)};W.propTypes={children:l().oneOfType([l().arrayOf(l().node),l().node]),className:l().string};const V=W;var $=n(51752),q=n(81410),Y=n(68468),X=n(37574),Q=n(98540);const J=(0,E.zB)({element:Y.sb,currentBoardId:q.nv});var ee=s.createElement(N.Z,{name:"chevron-right"});let te=e=>{const{element:t,elementId:n,currentBoardId:r,dispatchNavigateToBoard:o}=e;return n===r?null:s.createElement("div",{className:"CloneInstanceBoardEntry",onClick:o},s.createElement(Q.Z,{element:t}),s.createElement("div",{className:"title"},(0,D.YQ0)(t)),ee)};te.propTypes={elementId:l().string,currentBoardId:l().string,element:l().object,dispatchNavigateToBoard:l().func},te=(0,c.$j)(J,((e,t)=>({dispatchNavigateToBoard:n=>e((0,X.Db)({boardId:t.elementId,keepSelection:!1,newTab:(0,$.lk)(n)}))})))(te);const ne=(0,E.zB)({reachableInstanceBoardIds:(e,t)=>(0,O.vg)("reachableInstanceBoardIds",Z(e,t))}),re=e=>{const{reachableInstanceBoardIds:t}=e;return s.createElement("div",{className:"CardCloneInstancesPopupContentMultiBoards",onClick:A.hE},t.map((e=>s.createElement(te,{key:e,elementId:e}))))};re.propTypes={reachableInstanceBoardIds:l().object};const oe=(0,c.$j)(ne)(re),ie=(0,E.zB)({mode:(e,t)=>{const n=e.getIn(["elements",t.elementId]),r=(0,D.G8z)(n),o=((e,t)=>(0,z.Rf)(e,U.P6.cloneInstances,t))(e,r),i=(0,j.rD)(o),s=(0,j.Z3)(o);if(!i&&!s)return H.t.LOADING;const a=(0,j.pl)(o),l=(0,O.su)(Z(e,{elementId:r}));if(!l&&a)return H.t.LOADING;if(s)return H.t.ERROR;if(!l)return H.t.INVALID;if(1===l.validInstanceCount)return H.t.NO_CLONES;const c=l.validInstanceCount!==l.reachableInstanceCount;return 1===l.reachableInstanceBoardCount?c?H.t.PRIVATE_BOARDS:H.t.CURRENT_BOARD_ONLY:H.t.MANY_BOARDS},reachableInstanceCount:(e,t)=>(0,O.vg)("reachableInstanceCount",Z(e,t))});var se=s.createElement("div",{className:"CardCloneInstancesPopupContentLoading"},s.createElement(K.Z,{show:!0})),ae=s.createElement(V,{className:"error"},"Something went wrong while fetching synced cards"),le=s.createElement(V,null,"All other synced cards have now been removed"),ce=s.createElement(V,null,s.createElement("div",null,"All other synced copies are on private boards")),de=s.createElement(V,{className:"error"},"Invalid state");const ue=e=>{const{mode:t,elementId:n,reachableInstanceCount:r,dispatchFetchCloneInstances:o}=e;switch(s.useEffect((()=>{o(n)}),[]),t){case H.t.LOADING:return se;case H.t.ERROR:return ae;case H.t.NO_CLONES:return le;case H.t.CURRENT_BOARD_ONLY:return s.createElement(V,{className:"current-board-only"},"There ",(0,B.E0)(r,"is","are")," ",r," synced copies on the current board");case H.t.MANY_BOARDS:return s.createElement(oe,e);case H.t.PRIVATE_BOARDS:return ce;default:return de}};ue.propTypes={mode:l().string,elementId:l().string,reachableInstanceCount:l().number,dispatchFetchCloneInstances:l().func};const me=(0,c.$j)(ie,(e=>({dispatchFetchCloneInstances:t=>e((0,G.R)({elementId:t,checkCloneProps:!0}))})))(ue);var pe=n(57390),he=n(77875);const ge=(0,E.P1)(P._W,((e,t)=>t.popupId),L.FP,((e,t,n)=>({isPopupOpen:e.has(t),gridSize:n}))),fe=e=>{const{className:t,popupId:n,isPopupOpen:r,dispatchClosePopup:o,gridSize:i}=e;if(!r)return null;return s.createElement(pe.Z,{selector:`.popup-trigger-${n}`,className:f()("CardCloneInstancesPopup",t,"light"),arrowColor:"var(--ui-modal-background-primary)",arrowStrokeColor:"var(--ui-background-primary)",arrowWidth:13,arrowHeight:8,arrowStrokeWidth:0,distance:10,offset:0,position:he.as.BOTTOM,gridSize:i,responsive:!0,pollPosition:!0},s.createElement(F.Z,Object.assign({},e,{visible:r,popupId:n,closePopup:()=>o(n)}),s.createElement("div",{className:"popup-content",onClick:A.hE},s.createElement(me,e))))};fe.propTypes={children:l().oneOfType([l().arrayOf(l().node),l().node]),className:l().string,popupId:l().string.isRequired,isPopupOpen:l().bool,dispatchClosePopup:l().func,gridSize:l().number};const Ee=(0,c.$j)(ge,(e=>({dispatchClosePopup:t=>e((0,k.j4)(t,!1))})))(fe);var ve=n(12767),be=s.createElement(N.Z,{name:"clone"}),ye=s.createElement("span",null,"other copies");const Ie=e=>{const{isClone:t,elementId:n,element:r}=e,[o,i]=s.useState(!1),a=s.useCallback((e=>{i(e)}),[]),l=`card-clone-popup-${n}`,c=t||(0,D.rtd)(r)||o?s.createElement(s.Fragment,null,s.createElement(M,{icon:be},s.createElement("div",{className:"text"},"There are ",s.createElement(ve.ZP,{popupId:l,onClick:A.hE,onToggle:a},(e=>ye))," of this card")),s.createElement(Ee,Object.assign({popupId:l},e))):null;return s.createElement("div",{className:"CardCloneSection"},s.createElement(R(),{transitionName:"slide",transitionAppear:!0,transitionAppearTimeout:3e3,transitionEnterTimeout:3e3,transitionLeaveTimeout:3e3},c))};Ie.propTypes={elementId:l().string,element:l().object,isClone:l().bool};const Ce=Ie;var Se=n(54688),Te=n(13784);const we="top",Oe=({colorName:e,isSelected:t,isEditing:n,orientation:r=we})=>{const o={backgroundColor:(0,Te.yp)(e)},i=f()("ColorBar",r,{"color-target":t||n});return s.createElement("div",{className:i,style:o})};Oe.propTypes={isSelected:l().bool,isEditing:l().bool,colorName:l().string,orientation:l().string};const _e=(0,Se.cr)(Oe);var Re=n(42653),Ae=n(94121),De=n(68302),Ne=n.n(De),xe=n(64242),Me=n(25926),Pe=n(80415);var Le=n(31650),ke=n(26515);function Fe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Be={onStartResize:({elementId:e,dispatchStartResizing:t})=>()=>t(e),onEndResize:({dispatchEndResizing:e})=>()=>Ne()(e)};var je=s.createElement(N.Z,{name:"element-resize-handle"});const ze=e=>{const{onPointerDown:t,onTouchStart:n,onDoubleClick:r,showHandle:o,documentMode:i}=e;return!o||i?null:s.createElement("div",{className:"ElementResizeHandle",onPointerDown:t,onTouchStart:n,onDoubleClick:r},je)};ze.propTypes={element:l().object,elementId:l().string,gridSize:l().number,showHandle:l().bool,onPointerDown:l().func,onTouchStart:l().func,onDoubleClick:l().func,documentMode:l().bool,getContextZoomScale:l().func,getCurrentMeasurements:l().func,dispatchMeasurementsSet:l().func};const Ue=(0,Se.qC)((0,c.$j)(null,(e=>({dispatchStartResizing:t=>e((e=>({type:Pe.R6,elementId:e}))(t)),dispatchEndResizing:()=>e({type:Pe.RS})}))),(0,Se.CA)(Be),(0,xe.Z)(null,(e=>({getCurrentMeasurements:t=>e(((e,n)=>{const r=n();return(0,Me.gd)(r).get(t)})),dispatchMeasurementsSet:({id:t,measurements:n})=>e((0,Le.XB)({id:t,measurements:n}))}))),(e=>{class t extends s.Component{constructor(...e){super(...e),Fe(this,"onTouchStart",(e=>{this.attachedTouchHandlers=!0,e.preventDefault(),e.stopPropagation(),document.addEventListener("touchmove",this.onTouchMove,{passive:!1}),document.addEventListener("touchend",this.onTouchEnd,{passive:!1})})),Fe(this,"onTouchMove",(e=>{e.preventDefault(),e.stopPropagation()})),Fe(this,"onTouchEnd",(e=>{document.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),document.removeEventListener("touchend",this.onTouchEnd,{passive:!1}),this.attachedTouchHandlers=!1})),Fe(this,"onPointerDown",(e=>{const{setTempElementSize:t,getCurrentMeasurements:n,elementId:r,setAllowAnyAspectRatio:o,onStartResize:i}=this.props;t&&1!==e.button&&2!==e.button&&(e.preventDefault(),e.stopPropagation(),this.initialMeasurements=n(r),this.initialMeasurements&&(this.currentWidth=this.initialMeasurements.get("width"),this.currentHeight=this.initialMeasurements.get("height"),this.startX=e.clientX,this.startY=e.clientY,document.addEventListener("pointermove",this.startDragging),o&&document.addEventListener("keydown",this.onKeyDown),o&&document.addEventListener("keyup",this.onKeyUp),document.addEventListener("pointerup",this.cancelDragging),i&&i()))})),Fe(this,"onPointerMove",(e=>{const{setTempElementSize:t,setAllowAnyAspectRatio:n}=this.props;if(ke.Z.getIsZooming())return this.cancelPointerMoveDragging();n&&n((0,$.lk)(e)),e.preventDefault(),e.stopPropagation(),this.currentX=e.clientX,this.currentY=e.clientY,t(this.getElementSize(e.clientX,e.clientY))})),Fe(this,"onKeyDown",(e=>{const{setAllowAnyAspectRatio:t}=this.props;if(t&&t((0,$.$u)(e)),this.currentX&&this.currentY){const{setTempElementSize:e}=this.props;e(this.getElementSize(this.currentX,this.currentY))}})),Fe(this,"onKeyUp",(e=>{const{setAllowAnyAspectRatio:t}=this.props;(0,$.$u)(e)&&t&&t(!1)})),Fe(this,"onPointerUp",(e=>{const{setElementSize:t,setAllowAnyAspectRatio:n,onEndResize:r}=this.props;e.preventDefault(),e.stopPropagation(),this.currentX=null,this.currentY=null,document.addEventListener("click",this.onClick,!0),document.removeEventListener("pointermove",this.onPointerMove),document.removeEventListener("pointerup",this.onPointerUp),n&&document.removeEventListener("keydown",this.onKeyDown),n&&document.removeEventListener("keyup",this.onKeyUp),t(this.getElementSize(e.clientX,e.clientY)),n&&n(!1),r&&r()})),Fe(this,"onClick",(e=>{e.preventDefault(),e.stopPropagation(),document.removeEventListener("click",this.onClick,!0)})),Fe(this,"onDoubleClick",(e=>{const{handleDoubleClick:t}=this.props;t&&t(e)})),Fe(this,"getElementSize",((e,t)=>{const{gridSize:n,getContextZoomScale:r}=this.props,o=r(),i=(e-this.startX)/(n*o),s=(t-this.startY)/(n*o);return{width:this.currentWidth/n+i,height:this.currentHeight/n+s}})),Fe(this,"startDragging",(e=>{e.preventDefault(),e.stopPropagation(),document.removeEventListener("pointermove",this.startDragging),document.removeEventListener("pointerup",this.cancelDragging),document.addEventListener("pointermove",this.onPointerMove),document.addEventListener("pointerup",this.onPointerUp)})),Fe(this,"cancelDragging",(()=>{document.removeEventListener("pointermove",this.startDragging),document.removeEventListener("pointerup",this.cancelDragging)})),Fe(this,"cancelPointerMoveDragging",(()=>{const{elementId:e,setTempElementSize:t,setAllowAnyAspectRatio:n,onEndResize:r,dispatchMeasurementsSet:o}=this.props;this.currentX=null,this.currentY=null,document.removeEventListener("pointermove",this.onPointerMove),document.removeEventListener("pointerup",this.onPointerUp),n&&document.removeEventListener("keydown",this.onKeyDown),n&&document.removeEventListener("keyup",this.onKeyUp),this.cancelDragging(),o({id:e,measurements:(0,O.su)(this.initialMeasurements)}),r&&r(),t(null)}))}componentWillUnmount(){this.attachedTouchHandlers&&(document.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),document.removeEventListener("touchend",this.onTouchEnd,{passive:!1}))}render(){return s.createElement(e,Object.assign({},this.props,{onTouchStart:this.onTouchStart,onPointerDown:this.onPointerDown,onDoubleClick:this.onDoubleClick}))}}return t.propTypes={children:l().node,gridSize:l().number,inList:l().string,showHandle:l().bool,setElementSize:l().func,setTempElementSize:l().func,elementId:l().string,getCurrentMeasurements:l().func,dispatchMeasurementsSet:l().func,handleDoubleClick:l().func,setAllowAnyAspectRatio:l().func,onStartResize:l().func,onEndResize:l().func,getContextZoomScale:l().func},t}))(ze);var He=n(14849),Ze=n(9553);const Ge=(0,O.P2)(["editorState"]),Ke=(0,E.P1)(Ze.c,(e=>({localEditorState:Ge(e)}))),We=(0,c.$j)(Ke);var Ve=n(91033),$e=n(28644),qe=n(62107),Ye=n(6307);function Xe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Qe=(0,$e.zO)("isResizing"),Je=(0,$e.FB)("isResizing");function et(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const tt=(0,$e.zO)("isEditing"),nt=(0,$e.FB)("isEditing");var rt=n(23279),ot=n.n(rt),it=n(897);const st=(0,O.P2)(["suggestions"]),at=(e,t)=>!!(0,O.P2)(["suggestions",t],e);var lt=n(495),ct=n(83547),dt=n(59916);const ut=e=>({id:t,feature:n})=>(r,o)=>{const i=o(),s=(0,ct.$)(i),a=(0,lt.sb)(s,t),l=(0,Ze.c)(i,{element:a});if(!a)return;let c=st(l);c=c?c.toJS():{};const d=!!(0,O.vg)(n,c);return e!==d?r((0,dt.T)({id:t,data:{suggestions:Object.assign({},c,{[n]:e})}})):void 0},mt=ut(!0),pt=ut(!1);var ht=n(92544);function gt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ft=(0,$e.zO)("isEditing"),Et=(0,$e.FB)("isEditing"),vt=(e,t)=>e>48*t,bt=(0,E.zB)({elementLocalData:Ze.c}),yt=e=>({dispatchSuggestFeature:({id:t,feature:n})=>e(mt({id:t,feature:n})),dispatchUnsuggestFeature:({id:t,feature:n})=>e(pt({id:t,feature:n}))});var It=n(72923),Ct=n(43095),St=n(4367),Tt=n(79606),wt=n(35302),Ot=n(86082);const _t=(e,t)=>(n,r)=>{const o=e(),i=(0,Ot.ZP)(o,n,r);t(i)};var Rt=n(81629),At=n.n(Rt),Dt=n(9041);const Nt=({isEditing:e},{getEditorState:t,setEditorState:n})=>()=>{if(!e)return;const r=t().getSelection();At()((()=>{const e=t(),o=Dt.EditorState.forceSelection(e,r);n(o)}))};var xt=n(57595),Mt=n(85263),Pt=n(61134);function Lt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const kt=(0,Mt.vU)();var Ft=s.createElement("span",null);class Bt extends s.Component{constructor(...e){super(...e),Lt(this,"toggleChecked",(e=>{const{blockProps:t,block:n}=this.props,{updateMetadataFn:r,returnFocusToEditor:o,checked:i}=t;if(!t.isEditable)return;e.stopPropagation();r(n,{checked:!i}),o()}))}render(){const{offsetKey:e,blockProps:t}=this.props,{checked:n,isEditable:r}=t,o=f()("ChecklistEditorBlock",{checked:n,editable:r});return s.createElement("div",{className:o,"data-offset-key":e},kt&&Ft,s.createElement(xt.Z,{checked:n,onMouseDown:this.toggleChecked,onClick:Pt.hE}),s.createElement("div",{className:"text"},s.createElement(Dt.EditorBlock,this.props)))}}Bt.propTypes={block:l().object.isRequired,blockProps:l().object.isRequired,offsetKey:l().string.isRequired};var jt=n(26911);const zt=jt.K2.CHECKLIST,Ut=(e,{getEditorState:t,setEditorState:n,getProps:r})=>{if(e.getType()!==zt)return null;const o=r();return{component:Bt,props:{isEditable:o.isEditable,updateMetadataFn:_t(t,n),returnFocusToEditor:Nt(o,{getEditorState:t,setEditorState:n}),checked:!!e.getData().get("checked")}}};var Ht=n(43393);const Zt=Ht.Map({[zt]:{element:"li",wrapper:s.createElement("ul",{className:"checklist-ul"})}});var Gt=n(51900),Kt=n(56884),Wt=n(75146),Vt=n(53976),$t=n(26434);const qt=/^(\[ \]|\[\]|\[x\])$/i,Yt=(e,t,n,{setEditorState:r})=>{if(" "!==e)return Wt.wz.notHandled;const o=t.getSelection(),i=o.getStartKey(),s=t.getCurrentContent().getBlockForKey(i),a=s.getText(),l=o.getAnchorOffset(),c=a.slice(0,l),d=a.slice(l);if(c.match(qt)){let e=(0,Gt.Z)(t,zt,d);return"[x]"!==c&&"[X]"!==c||(e=(0,Ot.ZP)(e,s,{checked:!0})),r(e),(0,Kt.dO)({eventType:$t.Xc.CHECKLIST,userProperties:{[Vt.YV.FEATURE]:{[Vt.x2.CHECKLIST]:!0}}}),Wt.wz.handled}return Wt.wz.notHandled};var Xt=n(6414),Qt=n(40253);const Jt="app-undo",en="app-redo",tn=(e,{getEditorState:t})=>{if(e.keyCode!==Qt.nx.Z||!(0,$.lk)(e))return;const n=t();if((0,$.p9)(e)){return n.getRedoStack().size>0?void 0:en}return n.getUndoStack().size>0?void 0:Jt},nn=(e,t,n,{getProps:r})=>{switch(e){case Jt:{const{onAppUndo:e}=r();return e&&e(),Wt.wz.handled}case en:{const{onAppRedo:e}=r();return e&&e(),Wt.wz.handled}default:return Wt.wz.notHandled}},rn=()=>({keyBindingFn:tn,handleKeyCommand:nn});var on=n(31013),sn=n(35066),an=n(95528),ln=n(62900),cn=n(89855);const dn=({children:e})=>s.createElement("span",{className:"ClippedText"},e);dn.propTypes={children:l().oneOfType([l().arrayOf(l().node),l().node])};const un=dn,mn=(e,t,n)=>{n&&e.findEntityRanges((e=>{const t=e.getEntity();return null!==t&&n.getEntity(t).getType()===jt.l3.CLIP}),t)},pn=e=>{const t=e.getSelection(),n=e.getCurrentContent(),r=t.getStartKey();return n.getBlockForKey(r).getType()===jt.K2.CODE_BLOCK};var hn=n(10696),gn=n(93350),fn=n(34143),En=n(31412);const vn=(e,{getEditorState:t,setEditorState:n})=>{const r=t();if(pn(r))return(e=>"}"===e.key||"]"===e.key||")"===e.key)(e)?((e,{getEditorState:t,setEditorState:n})=>{const r=t(),o=r.getSelection(),i=r.getCurrentContent();if(!o.isCollapsed())return;const s=o.getStartKey(),a=o.getStartOffset(),l=i.getBlockForKey(s).getText(),c=(0,fn.Z)(l),d=(0,hn.Z)(l,c);if(d.length<2)return;const u=(0,gn.Z)(l,a,c).line,m=d[u],p=d[u-1],h=(0,En.Z)(m),g=(0,En.Z)(p);if(!(m.length>0&&h===g&&h.length===m.length))return;const f=Math.min(En.E.length,h.length),E=o.merge({focusKey:s,focusOffset:a-f,anchorKey:s,anchorOffset:a,isBackward:!0}),v=Dt.Modifier.removeRange(i,E,Wt.$4.backward);let b=Dt.EditorState.push(r,v,Wt.m_.REMOVE_RANGE);return b=Dt.EditorState.forceSelection(b,v.getSelectionAfter()),n(b)})(0,{getEditorState:t,setEditorState:n}):void 0},bn=(e,t=document)=>{if(t&&e)return t.querySelector(`div[data-offset-key='${e}-0-0']`)},yn=e=>{const t=e.getCurrentContent(),n=e.getSelection();if(!n.isCollapsed())return;const r=n.getStartKey(),o=n.getStartOffset(),i=t.getBlockForKey(r).getText(),s=(0,fn.Z)(i),a=En.E,l=(0,hn.Z)(i,s),c=(0,gn.Z)(i,o,s),d=l[c.line].slice(0,c.offset-1);var u;if(c.line>0&&c.offset<=1&&(u=r,requestAnimationFrame((()=>{const e=(0,Dt.getVisibleSelectionRect)(window),t=bn(u);if(!t)return;const n=t.getBoundingClientRect(),r=e.left;r<n.right||(t.scrollLeft=r-n.width)}))),!d.endsWith(a))return;const m=d.length%a.length,p=o-(0===m?a.length:m),h=n.merge({focusKey:r,focusOffset:p,anchorKey:r,anchorOffset:o,isBackward:!0}),g=Dt.Modifier.removeRange(t,h,Wt.$4.backward),f=Dt.EditorState.push(e,g,Wt.m_.REMOVE_RANGE);return Dt.EditorState.forceSelection(f,g.getSelectionAfter())},In=(e,t,n,{setEditorState:r})=>{if(!pn(t))return Wt.wz.notHandled;const o=((e,t)=>{if(t===Wt.CK.BACKSPACE)return yn(e)})(t,e);return o?(r(o),Wt.wz.handled):Wt.wz.notHandled};var Cn=n(99983),Sn=n.n(Cn);const Tn=e=>Sn()(e).indent||"";var wn=n(62067);const On=e=>{const t=e.getCurrentContent(),n=e.getSelection(),r=n.getStartKey(),o=n.getStartOffset(),i=t.getBlockForKey(r).getText(),s=(0,fn.Z)(i),a=(0,hn.Z)(i,s),l=(0,gn.Z)(i,o,s).line,c=a[l];if(o===i.length&&""===a[l]){const i=n.merge({focusKey:r,focusOffset:o-1,anchorKey:r,anchorOffset:o,isBackward:!0}),s=Dt.Modifier.removeRange(t,i,Wt.$4.backward),a=Dt.EditorState.push(e,s,Wt.m_.REMOVE_RANGE);return(0,wn.Z)(a,jt.K2.UNSTYLED)}const d=i[o-1],u=En.E,m=(e=>"{"===e||"["===e||"("===e||":"===e)(d),p=`${s}${Tn(c)}${m?u:""}`,h=n.isCollapsed()?Dt.Modifier.insertText(t,n,p):Dt.Modifier.replaceText(t,n,p),g=Dt.EditorState.push(e,h,Wt.m_.INSERT_CHARACTERS);return requestAnimationFrame((()=>{const e=n.getStartKey();bn(e).scrollLeft=0})),Dt.EditorState.forceSelection(g,h.getSelectionAfter())},_n=(e,t,{setEditorState:n})=>pn(t)?(n(On(t)),Wt.wz.handled):Wt.wz.notHandled;var Rn=n(96068);const An=/\r\n?|\n|\r/g,Dn=/\t/g,Nn=(e,t,n,{setEditorState:r})=>{if(!e)return Wt.wz.notHandled;if(!pn(n))return Wt.wz.notHandled;const o=e.replace(An,"\n").replace(Dn,En.E);return r((0,Rn.Z)(o)(n)),Wt.wz.handled};var xn=n(13586);const Mn=(e,t)=>{if(!pn(t))return;const n=t.getSelection().getStartKey();requestAnimationFrame((()=>{const e=bn(n);if(!e)return;const t=(0,xn.Z)(),r=e.getBoundingClientRect();if(!t||!r)return;t.left<r.right-10||(e.scrollLeft=e.scrollLeft+7)}))},Pn=()=>({handleKeyCommand:In,keyBindingFn:vn,handleReturn:_n,handlePastedText:Nn,handleBeforeInput:Mn});var Ln=n(17790);const kn=({clickableLinks:e=!1})=>{const t={decorators:[{strategy:mn,component:un}]},n=(0,St.BN)(),r=(0,St.LV)(),o=(0,St.PG)(),i={blockRendererFn:Ut,blockRenderMap:Zt,handleBeforeInput:Yt},a=(0,wt.Z)(),c=(0,on.Z)({enableBlockStyles:!0}),d=(0,Xt.Z)(),u=rn(),m=(0,sn.Z)({enableBlockStyles:!0}),p=(0,an.Z)(),h=(0,ln.Z)(),g=(0,Tt.i)({clickableLinks:e}),E=(0,Tt.T)({clickableLinks:e}),v=(0,cn.Z)(),b=[Pn(),t,v,a,n,r,o,E,g,c,d,u,i,h,m,p,(0,Ln.Z)()],y=e=>s.createElement(Ct.Z,Object.assign({},e,{plugins:b,className:f()("RichTextEditor",e.className)}));return y.propTypes={className:l().string},(0,It.Z)(y)},Fn=kn({clickableLinks:!1}),Bn=e=>{const{element:t,isEditable:n,isEditing:r,isClone:o,isSelected:i,filterQuery:a,saveContent:l,startEditing:c,stopEditing:d,moveElementsToTrash:u,editorRef:m,currentEditorKey:p,currentEditorId:h,updateElementType:g,createNewCard:f,spellCheck:E,placeholder:v,localEditorState:b,onAppUndo:y,onAppRedo:I,textContent:C,originalEditorId:S,shouldFocusOnlyWhenSelected:T,isFocusedBackgroundElement:w,isSingleSelected:O}=e,_=(0,qe.iS)(e),R=(0,qe.s6)(e),A=r&&!w;return s.createElement(Fn,{className:"CardEditor",placeholder:v||"Start typing...",element:t,localEditorState:b,textContent:C,isEditing:A,shouldFocusOnlyWhenSelected:T,isSingleSelected:O,isSelected:i,isClone:o,filterQuery:a,saveContent:l,startEditing:c,stopEditing:d,isEditable:n,onEmptyBackspace:u,editorId:R,originalEditorId:S,editorKey:_,editorRef:m,currentEditorKey:p,currentEditorId:h,updateElementType:g,createNewCard:f,spellCheck:E,onAppUndo:y,onAppRedo:I})};Bn.propTypes={element:l().object.isRequired,isEditable:l().bool,isEditing:l().bool,isClone:l().bool,isSelected:l().bool,isSingleSelected:l().bool,shouldFocusOnlyWhenSelected:l().bool,filterQuery:l().string,saveContent:l().func,startEditing:l().func,stopEditing:l().func,moveElementsToTrash:l().func,editorRef:l().func,currentEditorKey:l().string,currentEditorId:l().string,updateElementType:l().func,createNewCard:l().func,spellCheck:l().bool,placeholder:l().string,localEditorState:l().object,originalEditorId:l().string,onAppUndo:l().func,onAppRedo:l().func,textContent:l().oneOfType([l().object,l().string]),isFocusedBackgroundElement:l().bool};const jn=Bn;var zn=n(75583),Un=n(78327),Hn=n(24040),Zn=n(12896);const Gn=()=>(0,E.P1)(Y.sb,D.G8z),Kn=()=>(0,Un.y1)(Y.$3,Gn(),lt.sb),Wn=(e,t)=>{const{element:n,isClone:r,isEditing:o,originalEditorId:i}=t;return!(o||!r&&!(0,D.rtd)(n))&&i===(0,Zn.vJ)(e)},Vn=(e,t)=>{const{element:n}=t,r=(0,D.FBA)(n);if(!Wn(e,t))return r;const o=(0,Zn.hZ)(e),i=null==o?void 0:o.getCurrentContent();return i&&(0,Dt.convertToRaw)(i)||r};function $n(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class qn extends s.Component{constructor(...e){super(...e),$n(this,"startEditing",((...e)=>{const{startEditing:t,isEditingClone:n}=this.props;if(!n||!t)return t&&t(...e);setTimeout((()=>t(...e)),0)}))}render(){return s.createElement(jn,Object.assign({},this.props,{startEditing:this.startEditing}))}}qn.propTypes={element:l().object,textContent:l().object,startEditing:l().func,isClone:l().bool,isEditingClone:l().bool,isEditing:l().bool};const Yn=(0,zn.Z)((()=>(0,E.zB)({textContent:Vn,isEditingClone:Wn})))(qn),Xn=e=>s.createElement(jn,Object.assign({textContent:(0,D.FBA)(e.element)},e)),Qn=e=>{const{element:t,isClone:n}=e;return(0,D.rtd)(t)||n?s.createElement(Yn,e):s.createElement(Xn,e)};Yn.propTypes=Xn.propTypes=Qn.propTypes={element:l().object,isClone:l().bool,isEditing:l().bool};const Jn=Qn,er=({show:e})=>s.createElement("div",{className:f()("CardOverflowOverlay",{show:e})});er.propTypes={show:l().bool};const tr=er;var nr=n(31600),rr=n(89165);const or=e=>{const t=((e,t)=>{const n=t.getStartKey(),r=t.getStartOffset(),o=t.getEndKey(),i=t.getEndOffset(),s=e.getBlockForKey(n),a=e.getBlockForKey(o),l=a.getLength(),c=e.getBlockMap(),d=c.first().getKey(),u=c.last().getKey(),m=0===r,p=i===l,h=n!==o;if((!m||!h&&!p)&&(!p||!h&&!m)||m&&d===n&&p&&u===o)return Dt.Modifier.removeRange(e,t,Wt.$4.forward);let g=null,f=null;if(!m||!p){const e=s.getCharacterList().slice(0,r),t=a.getCharacterList().slice(i),l=e.concat(t),c=s.getText().slice(0,r)+a.getText().slice(i);f=m?o:n,g=m?a:s,g=g.merge({text:c,characterList:l})}const E=c.toSeq().skipUntil(((e,t)=>t===n)).takeUntil(((e,t)=>t===o)).concat(Ht.Map([[o,null]])).map(((e,t)=>t===f?g:null)),v=c.merge(E).filter((e=>!!e)),b=e.getBlockAfter(o),y=e.getBlockBefore(n);let I,C;m?p?b?(I=b.getKey(),C=0):(I=y.getKey(),C=y.getLength()):(I=n,C=0):(I=n,C=r);const S=t.merge({anchorKey:I,anchorOffset:C,focusKey:I,focusOffset:C,isBackward:!1});return e.merge({blockMap:v,selectionBefore:t,selectionAfter:S})})(e.getCurrentContent(),e.getSelection()),n=Dt.EditorState.push(e,t,Wt.m_.REMOVE_RANGE);return Dt.EditorState.forceSelection(n,t.getSelectionAfter())};var ir=n(49845),sr=n(5191),ar=n(31368);var lr=n(10615);function cr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const dr=e=>({dispatchSetTemporaryEditorState:({id:t,editorState:n})=>e((0,dt.T)({id:t,data:{editorState:n}})),dispatchClearLocalEditorState:({id:t})=>e((0,dt.T)({id:t,data:{editorState:null}})),dispatchClipperSet:({clippedElementId:t,clippedText:n})=>e((({clippedElementId:e,clippedText:t})=>({type:ar.zI,clippedElementId:e,clippedText:t}))({clippedElementId:t,clippedText:n})),dispatchClipperClear:()=>e({type:ar.SH}),dispatchClipperOperationComplete:t=>e((e=>({type:ar.Bf,transactionId:e}))(t)),dispatchGetElementCreateTransactionId:()=>e((0,lr.cP)())}),ur=(0,sr.JH)({entityType:jt.l3.CLIP,mutability:Wt.NQ.MUTABLE});var mr=n(40565),pr=n(23615),hr=n(58669),gr=n(84984),fr=n(12265);const Er=({clippedText:e})=>({textContent:e}),vr=({selectionHeight:e,gridSize:t,getContextZoomScale:n})=>({x:-29*t*n(),y:2-e/2}),br=e=>mr.bA(-1,vr(e));var yr=s.createElement("div",{className:"draggable-shadow"},s.createElement(N.Z,{name:"element-card"})),Ir=s.createElement(N.Z,{name:"element-card"});const Cr=e=>{const{currentBoardId:t,gridSize:n,getContextZoomScale:r}=e;let o=null;if(e.isClipping){const i=Ht.fromJS(b.O4({id:fr.eW,elementType:v.WK,content:Er(e)})),a=r(),l=vr(e),c=mr.xH(a,l),d={unscaledElementOffsetsMap:{[fr.eW]:c},grabbedElement:i,element:i};o=s.createElement(hr.Z,{item:d,currentBoardId:t,element:i,isPresentational:!0,gridSize:n})}return s.createElement("div",{className:"CardClipperButton",style:(0,pr.aX)({x:0,y:e.y})},s.createElement(gr.Z,Object.assign({},e,{getElementScaledCustomDragOffset:vr,getElementScaledGrabOffset:br,getDefaultContent:Er,elementType:v.WK}),o,yr,Ir))};Cr.propTypes={y:l().number,selectionHeight:l().number,connectDragSource:l().func,connectDragPreview:l().func,currentBoardId:l().string,isClipping:l().bool,gridSize:l().number,getContextZoomScale:l().func};const Sr=Cr;function Tr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class wr extends s.Component{constructor(...e){super(...e),Tr(this,"onPointerDown",(e=>{const{onMouseDown:t,onClipStart:n}=this.props;t&&t(e),n&&n(),document.addEventListener("mouseup",this.onPointerUp),document.addEventListener("touchend",this.onPointerUp)})),Tr(this,"onPointerUp",(e=>{const{onMouseUp:t}=this.props;t&&t(e),this.onDragEnd(!1)})),Tr(this,"beforeDragStart",(e=>{const{beforeDragStart:t}=this.props;t&&t(e),document.removeEventListener("mouseup",this.onPointerUp),document.removeEventListener("touchend",this.onPointerUp)})),Tr(this,"onDragEnd",(e=>{const{onDragEnd:t,onClipEnd:n}=this.props;t&&t(e),n&&n(e),document.removeEventListener("mouseup",this.onPointerUp),document.removeEventListener("touchend",this.onPointerUp)}))}render(){const{isClipping:e,selectionYMidpoint:t}=this.props;return s.createElement(R(),{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:100,transitionEnterTimeout:100,transitionLeaveTimeout:100},0!==t?s.createElement("div",{className:f()("CardClipperTool",{clipping:e}),onTouchStart:this.onPointerDown,onTouchEnd:this.onPointerUp,onMouseDown:this.onPointerDown,onMouseUp:this.onPointerUp},s.createElement(Sr,Object.assign({},this.props,{y:t,beforeDragStart:this.beforeDragStart,onDragEnd:this.onDragEnd}))):null)}}wr.propTypes={selectionYMidpoint:l().number,isClipping:l().bool,onMouseDown:l().func,onMouseUp:l().func,beforeDragStart:l().func,beforeDragEnd:l().func,onDragEnd:l().func,onClipStart:l().func,onClipEnd:l().func};const Or=wr;var _r;function Rr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ar=(0,$e.t4)("isClipping");let Dr=(0,nr.Z)(_r=(e=>{var t;let n=(0,c.$j)(null,dr)(t=class extends s.Component{constructor(...e){super(...e),cr(this,"onClipStart",(e=>{const{element:t,editorState:n,onClipStart:r,dispatchSetTemporaryEditorState:o,dispatchClipperSet:i}=this.props;this.wasCopy=!1;const s=(0,D.nRF)(t);this.originalSelection=n.getSelection();const a=(0,rr.Z)(n);i({clippedElementId:s,clippedText:(0,Dt.convertToRaw)(a)});o({id:s,editorState:(0,ir.Z)(n,ur)}),r&&r(e)})),cr(this,"beforeDragEnd",(e=>{const{element:t,beforeDragEnd:n,editorState:r,dispatchSetTemporaryEditorState:o,isClipCopy:i}=this.props;if(this.wasCopy=i,!i&&e){const e=or(r);o({id:(0,D.nRF)(t),editorState:e})}n&&n(e)})),cr(this,"onClipEnd",(e=>{const{onClipEnd:t}=this.props;t&&t(e),e?this.onCommit():this.onRevert()})),cr(this,"onCommit",(()=>{const{saveContent:e,editorState:t,dispatchGetElementCreateTransactionId:n,element:r,dispatchClearLocalEditorState:o,dispatchClipperClear:i,dispatchClearEditorUndoRedoStack:s,dispatchClipperOperationComplete:a}=this.props;s(),i();const l=(0,D.nRF)(r);this.wasCopy&&o({id:l}),Ne()((()=>{const r=n();if(!this.wasCopy){const n=or(t),i=(0,Dt.convertToRaw)(n.getCurrentContent());e(i,r),o({id:l})}a(r)}))})),cr(this,"onRevert",(()=>{const{dispatchStartEditingElement:e,dispatchSaveEditorSelection:t,element:n,dispatchClearLocalEditorState:r,dispatchClipperClear:o}=this.props,i=(0,D.nRF)(n);r({id:i}),o();const s=(0,qe.s6)(this.props);t({editorId:s,selection:this.originalSelection}),e({id:i,editorKey:(0,qe.iS)(this.props),editorId:s})}))}render(){return s.createElement(e,Object.assign({},this.props,{beforeDragEnd:this.beforeDragEnd,onClipStart:this.onClipStart,onClipEnd:this.onClipEnd,onDragEnd:this.onDragEnd}))}})||t;return n.propTypes={element:l().object,editorId:l().string,editorState:l().object,isClipCopy:l().bool,onClipStart:l().func,onClipEnd:l().func,dispatchSetTemporaryEditorState:l().func,dispatchClearLocalEditorState:l().func,dispatchClipperSet:l().func,dispatchClipperClear:l().func,dispatchEditorEntityChange:l().func,dispatchClearEditorUndoRedoStack:l().func,focusOnEditor:l().func,dispatchSaveEditorSelection:l().func,saveContent:l().func,dispatchStartEditingElement:l().func,dispatchGetElementCreateTransactionId:l().func,beforeDragEnd:l().func,dispatchClipperOperationComplete:l().func},n})(_r=class extends s.Component{constructor(e){super(e),Rr(this,"findClipperLocation",(({editorState:e,getContextZoomScale:t})=>{if(!e||!e.getSelection)return;const n=t();if(e.getSelection().isCollapsed())return void this.setState({selectionYMidpoint:0});if(!document.activeElement)return;if(!document.activeElement.closest(".CardEditor"))return;const r=(0,xn.Z)(),o=this.clipperContainerElement.getBoundingClientRect();if(!r||!o)return void this.setState({selectionYMidpoint:0});const i=r.bottom-r.top,s=(r.bottom+r.top)/2,a=Math.round(s-o.top)/n;this.setState({selectionYMidpoint:a,selectionHeight:i})})),Rr(this,"clipperContainerRef",(e=>{this.clipperContainerElement=e})),this.state={selectionYMidpoint:0}}componentDidMount(){this.props.editorState&&this.props.editorState.getSelection()&&!this.props.editorState.getSelection().isCollapsed()&&requestAnimationFrame((()=>this.findClipperLocation(this.props)))}componentWillReceiveProps(e){this.props.editorState&&e.editorState&&Ar(this.props,e)&&this.props.editorState.getSelection()!==e.editorState.getSelection()&&this.findClipperLocation(e)}render(){const{selectionYMidpoint:e,selectionHeight:t}=this.state;return s.createElement("div",{className:"CardClipper",ref:this.clipperContainerRef},s.createElement(Or,Object.assign({},this.props,{selectionYMidpoint:e,selectionHeight:t})))}})||_r)||_r;Dr.propTypes={isClipping:l().bool,isEditing:l().bool,editorState:l().object,getContextZoomScale:l().func,beforeDragStart:l().func};const Nr=Dr,xr=e=>{const{isEditing:t,documentMode:n,isClipping:r}=e;return r||t&&!n?s.createElement(Nr,Object.assign({},e,{editorId:(0,qe.s6)(e)})):null};xr.propTypes={isEditing:l().bool,documentMode:l().bool,editorState:l().object,isClipping:l().bool,onClipStart:l().func,onClipEnd:l().func};const Mr=xr,Pr=(e=>{class t extends s.Component{constructor(...e){super(...e),et(this,"onEditorResize",(e=>{const{onHeightChange:t,isResizing:n}=this.props;if(n)return;const r=o()([0,"contentRect","height"],e);t&&t(r)})),et(this,"editorRef",(e=>{const{editorRef:t}=this.props;this.editorElement=e,t&&t(e)}))}componentDidMount(){this.props.isEditing&&this.attachResizeObserver()}componentWillReceiveProps(e){!this.resizeObserverAttached&&tt(this.props,e)&&this.attachResizeObserver(),this.resizeObserverAttached&&nt(this.props,e)&&this.removeResizeObserver()}componentWillUnmount(){this.removeResizeObserver()}attachResizeObserver(){this.resizeObserver=new Ve.Z(this.onEditorResize),this.editorContentsElement=this.editorElement.getTextDomElement(),this.resizeObserver.observe(this.editorContentsElement),this.resizeObserverAttached=!0}removeResizeObserver(){this.resizeObserverAttached&&this.resizeObserver&&(this.resizeObserver.disconnect(this.editorContentsElement),this.resizeObserverAttached=!1)}render(){return s.createElement(e,Object.assign({},this.props,{editorRef:this.editorRef}))}}return t.propTypes={editorRef:l().func,onHeightChange:l().func,isEditing:l().bool,isResizing:l().bool},t})(Jn),Lr=e=>{const{element:t,gridSize:n,tempContainerHeight:r,isEditing:o,currentEditorKey:i}=e;if(r)return{height:r};if((0,He.fN)(t))return;const s=(0,He.o)({element:t,gridSize:n}),a=!(o&&i===v.WK);return Object.assign({},s,{maxHeight:a?s.maxHeight:null})},kr=e=>{const{element:t,isClone:n}=e,r=(({element:e,elementId:t,isClone:n})=>`${n?(0,D.Sb0)(e):t}-${v.WK}`)({element:t,elementId:(0,D.nRF)(t),isClone:n});return s.createElement("div",{className:"ResizableCardEditorContainer",style:Lr(e),ref:e.containerRef},s.createElement("div",{className:"card-editor-container-contents"},s.createElement(Pr,Object.assign({},e,{originalEditorId:r})),s.createElement(tr,{show:!e.transparent&&e.editorOverflowed})),s.createElement(Mr,e))},Fr=(0,Se.qC)((e=>{class t extends s.Component{constructor(e){super(e),Xe(this,"attachResizeObserver",(()=>{this.resizeObserverAttached||(this.resizeObserver=new Ve.Z(this.onEditorResize),this.editorContentsElement=this.editorElement.getTextDomElement(),this.resizeObserver.observe(this.editorContentsElement),this.resizeObserver.observe(this.containerElement),this.resizeObserverAttached=!0)})),Xe(this,"removeResizeObserver",(()=>{this.resizeObserverAttached&&this.resizeObserver&&(this.resizeObserver.disconnect(this.editorContentsElement),this.resizeObserverAttached=!1)})),Xe(this,"onEditorResize",(e=>{const{tempContainerHeight:t,gridSize:n}=this.props;if(e.forEach((e=>{this.editorContentsElement===e.target&&(this.editorHeight=o()(["contentRect","height"],e))})),!this.editorHeight||!t)return;const r=(0,He.Sj)(t,this.editorHeight,n);this.setState({editorOverflowed:r})})),Xe(this,"manuallyCheckEditorSize",(e=>{if(!this.editorElement)return;if(!(0,He.n9)(e.element))return;const{element:t,gridSize:n}=e,r=this.editorElement.getBoundingClientRect().height,{maxHeight:o}=(0,He.o)({element:t,gridSize:n}),i=(0,He.Sj)(o,r,n);this.setState({editorOverflowed:i})})),Xe(this,"editorRef",(e=>{const{editorRef:t}=this.props;this.editorElement=e,t&&t(e)})),Xe(this,"containerRef",(e=>{const{containerRef:t}=this.props;this.containerElement=e,t&&t(e)})),this.resizeObserverAttached=!1,this.editorHeight=null,this.state={editorOverflowed:!1}}componentDidMount(){(0,He.n9)(this.props.element)&&this.manuallyCheckEditorSize(this.props)}componentWillReceiveProps(e){!this.resizeObserverAttached&&Qe(this.props,e)&&this.attachResizeObserver(),this.resizeObserverAttached&&Je(this.props,e)&&this.removeResizeObserver();const t=(0,qe.s6)(e);(0,He.n9)(e.element)&&(0,Ye.wK)(Object.assign({},this.props,{editorId:t}),Object.assign({},e,{editorId:t}))&&this.manuallyCheckEditorSize(e)}componentWillUnmount(){this.removeResizeObserver()}render(){const{isResizing:t,isEditing:n,currentEditorKey:r}=this.props,{editorOverflowed:o}=this.state,i=n&&r===v.WK,a=o&&(t||!i&&!(0,He.fN)(this.props.element));return s.createElement(e,Object.assign({},this.props,{containerRef:this.containerRef,editorRef:this.editorRef,editorOverflowed:a}))}}return t.propTypes={element:l().object,editorRef:l().func,containerRef:l().func,tempContainerHeight:l().number,gridSize:l().number,isResizing:l().bool,isEditing:l().bool,isOverflowed:l().bool,currentEditorKey:l().string},t}),(e=>{var t;let n=(0,c.$j)(bt,yt)(t=class extends s.Component{constructor(e){super(e),gt(this,"onEditorHeightChange",(e=>{const{gridSize:t,element:n,dispatchUnsuggestFeature:r,dispatchSuggestFeature:o,elementLocalData:i}=this.props,s=this.editorHeight?e-this.editorHeight:0;this.editorHeight=e,(0,it.DP)(n,ht.A.DOCUMENT)&&(at(i,ht.A.DOCUMENT)?vt(e,t)||r({id:(0,D.nRF)(n),feature:ht.A.DOCUMENT}):this.initialEditorHeight?vt(e,t)&&s>v.vR*t?o({id:(0,D.nRF)(n),feature:ht.A.DOCUMENT}):this.keyPressListenerAttached||vt(e,t)&&s>0&&this.attachKeypressListener():this.initialEditorHeight=e)})),gt(this,"attachKeypressListener",(()=>{this.keyPressListenerAttached||(this.keyPressListenerAttached=!0,this.editorContainerElement.addEventListener("keydown",this.debouncedOnKeypress))})),gt(this,"removeKeypressListener",(()=>{this.keyPressListenerAttached&&(this.keyPressListenerAttached=!1,this.editorContainerElement.removeEventListener("keydown",this.debouncedOnKeypress))})),gt(this,"onKeypress",(()=>{const{dispatchSuggestFeature:e,element:t,gridSize:n}=this.props;this.removeKeypressListener(),vt(this.editorHeight,n)&&e({id:(0,D.nRF)(t),feature:ht.A.DOCUMENT})})),gt(this,"debouncedOnKeypress",ot()(this.onKeypress,1e3)),gt(this,"containerRef",(e=>{const{containerRef:t}=this.props;this.editorContainerElement=e,t&&t(e)})),this.initialEditorHeight=null,this.editorHeight=null}componentWillReceiveProps(e){ft(this.props,e)&&(this.initialEditorHeight=null),this.keyPressListenerAttached&&Et(this.props,e)&&this.debouncedOnKeypress.flush()}componentWillUnmount(){this.removeKeypressListener()}render(){return s.createElement(e,Object.assign({},this.props,{containerRef:this.containerRef,onHeightChange:this.onEditorHeightChange}))}})||t;return n.propTypes={element:l().object.isRequired,elementLocalData:l().object,isEditing:l().bool,gridSize:l().number,dispatchSuggestFeature:l().func,dispatchUnsuggestFeature:l().func,containerRef:l().func},n}),We);kr.propTypes={element:l().object.isRequired,gridSize:l().number.isRequired,tempContainerHeight:l().number,isClone:l().bool,editorOverflowed:l().bool,containerRef:l().func,isEditing:l().bool,transparent:l().bool};const Br=Fr(kr);var jr=n(4623),zr=n(73141),Ur=n(41572),Hr=n(3309),Zr=n(17351),Gr=n.n(Zr),Kr=n(10910),Wr=n.n(Kr),Vr=n(77606),$r=n.n(Vr),qr=n(90252),Yr=n(41609),Xr=n.n(Yr),Qr=n(37407),Jr=n(87447);var eo=n(80275),to=n(97245);function no(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ro=(0,$e.aU)("forceHide"),oo=(0,$e.aU)("forceRender"),io=(0,$e.aU)("cardWidth"),so=(0,$e.aU)("addedSuggestions"),ao=[];class lo extends s.Component{constructor(e){super(e),no(this,"hideInstantly",(()=>{this.setState({forceHide:!0}),Ne()(this.resetHide)})),no(this,"resetHide",(()=>{this.setState({forceHide:!1})})),this.state={forceHide:!1,forceRender:!1,addedSuggestions:[],removedSuggestions:[]}}componentWillReceiveProps(e){const{element:t,suggestions:n,suggestionsToClear:r,dispatchClearFeatureSuggestion:o}=e,i=this.props.suggestions,s=Gr()(n,i),a=Gr()(i,n);(s.length||a.length)&&this.setState({addedSuggestions:s,removedSuggestions:a,forceRender:!!a.length}),r&&r.forEach((e=>{o({id:(0,D.nRF)(t),feature:e.feature})}))}shouldComponentUpdate(e,t){return e.suggestions.length!==this.props.suggestions.length||oo(this.state,t)||ro(this.state,t)||so(this.state,t)||io(this.props,e)}render(){const{forceRender:e,addedSuggestions:t,forceHide:n}=this.state,{suggestions:r,cardWidth:o,fullWidth:i,dispatchToggleElementFeature:a}=this.props;return n||o<to.cv||!e&&$r()(r)?null:s.createElement("div",{className:f()("FeatureSuggestions",{"full-width":i})},s.createElement(R(),{transitionName:"slide",transitionAppear:!0,transitionAppearTimeout:300,transitionEnterTimeout:300,transitionLeaveTimeout:300},r.map((e=>{const n=e.component;return s.createElement(n,Object.assign({key:e.feature,added:Wr()(e,t),hideInstantly:this.hideInstantly,resetHide:this.resetHide,dispatchToggleElementFeature:a},this.props,e))}))))}}const co=(0,Se.qC)(Se.Le,(0,c.$j)((()=>(0,Un.hH)(eo.ts,((e,{element:t})=>t),((e,{possibleSuggestions:t})=>t),((e,{isClone:t})=>t),Ze.c,((e,t,n,r,o)=>{const i=(e=>{var t;const n=null===(t=st(e))||void 0===t?void 0:t.filter(Boolean);return n?(0,O.RR)(n):[]})(o),s=[],a=[];return n.forEach((n=>{const o=(0,D.GAd)(t),l=(0,O.vg)(n.feature,(0,qr.Vu)(e)),c=null!==l,d=l&&l>o;Wr()(n.feature,i)&&n.shouldShow(t,r)&&c&&!d&&s.push(n),Wr()(n.feature,i)&&d&&a.push(n)})),{suggestions:s.length?s:ao,suggestionsToClear:a}}))),(e=>({dispatchToggleElementFeature:(t,n)=>e(((e,t)=>(n,r)=>{let o=t;if(void 0===o){const e=r();o=(0,O.su)((0,Jr.CX)(e))}if(Xr()(o))return;const i=o[0],s=(0,it._2)(e)(i);n((0,Qr.Az)({updates:o.map((t=>({id:(0,D.nRF)(t),changes:Object.assign({[e]:Object.assign({},(0,it.ak)(e)(t),{enabled:!s})},{})})))}));const a=Vt.x2[e];a&&(0,Kt.dO)({eventType:$t.Xc.ELEMENT_UPDATE,userProperties:{[Vt.YV.FEATURE]:{[a]:!0}}})})(t,n)),dispatchNavigateToElement:({elementId:t})=>e((0,X.nI)({elementId:t})),dispatchClearFeatureSuggestion:({id:t,feature:n})=>e(pt({id:t,feature:n}))}))));lo.propTypes={element:l().object.isRequired,possibleSuggestions:l().array.isRequired,suggestions:l().array,suggestionsToClear:l().array,dispatchUpdateElement:l().func,dispatchNavigateToElement:l().func,dispatchToggleElementFeature:l().func,dispatchClearFeatureSuggestion:l().func,cardWidth:l().number,fullWidth:l().bool};const uo=co(lo);var mo,po=n(60742),ho=n(13292);function go(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let fo=(0,c.$j)(null,(e=>({dispatchUnsuggestFeature:({id:t,suggestion:n})=>e(pt({id:t,feature:n}))})))(mo=class extends s.Component{constructor(...e){super(...e),go(this,"onConfirm",(e=>{const{dispatchUnsuggestFeature:t,suggestion:n,element:r,onConfirm:o}=this.props,i=(0,po.k)();t({id:(0,D.nRF)(r),suggestion:n,transactionId:i}),o(e,i)})),go(this,"onDismiss",(e=>{const{dispatchUnsuggestFeature:t,suggestion:n,element:r,onDismiss:o}=this.props;e.preventDefault(),e.stopPropagation(),t({id:(0,D.nRF)(r),suggestion:n}),o(e)}))}render(){const{question:e}=this.props;return s.createElement(M,Object.assign({className:"FeatureSuggestion"},this.props),s.createElement("span",{className:"question"},e),s.createElement(ho.Z,{onClickFn:this.onConfirm},"Yes"),s.createElement(ho.Z,{onMouseDown:this.onDismiss},"No thanks"))}})||mo;fo.propTypes={question:l().string.isRequired,onConfirm:l().func.isRequired,onDismiss:l().func.isRequired,added:l().bool,icon:l().object,suggestion:l().string,element:l().object,dispatchUnsuggestFeature:l().func};const Eo=fo;function vo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class bo extends s.Component{constructor(...e){super(...e),vo(this,"onConfirm",((e,t)=>{const{onConfirm:n}=this.props;this.onAcknowledgement(!0,t),n&&n(this.props,t)})),vo(this,"onDismiss",(()=>{this.onAcknowledgement(!1)})),vo(this,"onAcknowledgement",((e,t)=>{const{element:n,feature:r,dispatchUpdateElement:o,dispatchToggleElementFeature:i}=this.props,s=(0,O.P2)(["content",r],n);o({id:(0,D.nRF)(n),changes:{[r]:Object.assign({},s,{suggestionAck:!0})},transactionId:t}),!0===e&&i(r,[n])}))}render(){const{question:e,added:t}=this.props;return s.createElement(Eo,Object.assign({},this.props,{question:e,onConfirm:this.onConfirm,onDismiss:this.onDismiss,added:t}))}}bo.propTypes={element:l().object.isRequired,feature:l().string.isRequired,question:l().string.isRequired,added:l().bool,onConfirm:l().func,dispatchUpdateElement:l().func,dispatchToggleElementFeature:l().func};const yo=bo,Io=(0,E.zB)({copiedElementId:jr.sY}),Co=[{feature:ht.A.DOCUMENT,component:yo,shouldShow:(0,it.DP)(ht.A.DOCUMENT),question:"Convert to document?",onConfirm:({element:e,dispatchConvertElementsToDocument:t})=>t([(0,D.nRF)(e)])},{feature:ht.A.CLONE,component:yo,shouldShow:(e,t)=>(0,it.DP)(ht.A.CLONE)(e)&&!(0,D.rtd)(e)&&!t,question:"Keep this copy in sync?",onConfirm:({element:e,dispatchConvertDuplicateToClone:t},n)=>t(e,n)}],So=e=>{const{elementId:t,copiedElementId:n,dispatchSuggestClone:r,dispatchUnsuggestClone:o}=e;return s.useEffect((()=>{n&&r(t)}),[n]),(0,Hr.Z)((()=>{n||o(t)}),[n]),s.createElement(uo,Object.assign({},e,{possibleSuggestions:Co}))};So.propTypes={elementId:l().string,copiedElementId:l().string,dispatchSuggestClone:l().func,dispatchUnsuggestClone:l().func,dispatchConvertDuplicateToClone:l().func};const To=(0,c.$j)(Io,(e=>({dispatchSuggestClone:t=>e(mt({id:t,feature:ht.A.CLONE})),dispatchUnsuggestClone:t=>e(pt({id:t,feature:ht.A.CLONE})),dispatchConvertDuplicateToClone:(t,n)=>e((0,zr.i_)(t,n)),dispatchConvertElementsToDocument:t=>e((0,Ur.Z)(t))})))(So);var wo=n(98433),Oo=n(63749),_o=n(70555),Ro=n(70766),Ao=n(50568),Do=n(603),No=n(45271);const xo=({activityType:e,activityUserNames:t})=>{const n=(0,B.fU)(t);switch(e){case No.C.ADD:return s.createElement(s.Fragment,null,"Added by ",s.createElement("strong",null,n));case No.C.SHARE:return s.createElement(s.Fragment,null,"Shared by ",s.createElement("strong",null,n));case No.C.MENTION:return s.createElement(s.Fragment,null,"Mentioned by ",s.createElement("strong",null,n));case No.C.COMMENT:return s.createElement(s.Fragment,null,s.createElement("strong",null,n)," commented");case No.C.CHANGE:return s.createElement(s.Fragment,null,s.createElement("strong",null,n)," changed");case No.C.REACTION:return s.createElement(s.Fragment,null,s.createElement("strong",null,n)," reacted");case No.C.UPDATE:default:return s.createElement(s.Fragment,null,"Updated by ",s.createElement("strong",null,n))}};xo.propTypes={activityType:l().string,activityUserNames:l().array};const Mo=xo;var Po=n(41563);const Lo=(0,E.P1)(((e,{currentUserId:t})=>t),((e,{elementActivity:t,commentActivity:n})=>t||n),Oo.R,((e,t,n)=>{const r=[],o=(t.actorIds?(0,O.su)(t.actorIds):[]).map((t=>{const o=n.get(t);return o||r.push(t),t===e?"You":(0,_o.VQ)(o)}));if(o.length>6){const e=o.length-6;return[...o.slice(0,6),`${e} ${(0,B.E0)(e,"other","others")}`]}return{activityUserNames:o,missingUserIds:r}})),ko=(0,E.P1)(Lo,(e=>e)),Fo=(0,c.$j)(ko)((({activityUserNames:e,missingUserIds:t,elementActivity:n,commentActivity:r})=>{const o=n||r;return s.createElement(s.Fragment,null,s.createElement(Do.Z,{missingUserIds:t}),s.createElement("span",{className:"ActivityIndicatorTooltipContent"},s.createElement(Mo,{activityType:null==o?void 0:o.type,activityUserNames:e})," ",s.createElement(Ao.Z,{timestamp:o.timestamp,showSuffix:!0,lessThanMinuteMessage:"a few seconds ago"})))}));var Bo=s.createElement("div",{className:"SimpleActivityIndicator"});const jo=e=>Bo,zo=s.createElement(jo,null),Uo=(0,Ro.Z)((e=>s.createElement("div",{className:"ActivityIndicator"},s.createElement(Po.Z,{enabled:!0,triggerOnMouseEnter:!0,delay:0,tooltipText:s.createElement(Fo,e)},zo)))),Ho=e=>{const{toggleVal:t}=e,[n,r]=s.useState(!1);return(0,Hr.Z)((()=>{t||r(!0)}),[t]),n?null:s.createElement(Uo,e)};Ho.propTypes={toggleVal:l().bool};const Zo=Ho,Go=e=>{const{elementActivity:t,elementId:n,isSelected:r}=e;return $r()(t)?null:s.createElement(Zo,{toggleVal:r,elementId:n,elementActivity:t})};Go.propTypes={elementId:l().string,elementActivity:l().object,indicatorType:l().string,actors:l().array,className:l().string,isSelected:l().bool};const Ko=(0,c.$j)((()=>(0,E.zB)({elementActivity:(0,wo.Yz)()})))(Go);var Wo=n(48294),Vo=n(89030),$o=n(53555);const qo=(0,E.zB)({lastCheckedQuickNotes:eo.rx}),Yo=(0,Se.qC)(Wo.W,(0,c.$j)(qo));var Xo=s.createElement(jo,null);const Qo=e=>{const{element:t,boardSection:n,lastCheckedQuickNotes:r}=e;if(n!==$o.j.QUICK_NOTES)return null;const o=(0,D.XfM)(t);if(o!==Vo.VT.IPHONE&&o!==Vo.VT.ANDROID)return null;return(0,D.Gzf)(t)<r?null:Xo};Qo.propTypes={element:l().object,boardSection:l().string,lastCheckedQuickNotes:l().number};const Jo=Yo(Qo);var ei=n(67179),ti=n(90471),ni=n(52432),ri=n(49965),oi=n(81897),ii=n(91310);const si=(0,E.zB)({isPopupOpen:P.Z$,gridSize:L.FP,currentBoard:oi.tQ}),ai=e=>{const{className:t,popupId:n,isPopupOpen:r,dispatchClosePopup:o,gridSize:i,currentBoard:a}=e;if(!r)return null;const l=()=>o(n);return s.createElement(pe.Z,{selector:`.popup-trigger-${n}`,className:f()("ReactionPopup",t,"light"),arrowColor:"var(--ui-modal-background-primary)",arrowStrokeColor:"var(--ui-background-primary)",arrowWidth:13,arrowHeight:8,arrowStrokeWidth:0,arrowStyle:{transform:"translate(0px, 1px)"},distance:15,offset:2,position:he.as.RIGHT,gridSize:i,responsive:!0,pollPosition:!0,insets:(0,ri.W)(i,a)},s.createElement(F.Z,Object.assign({},e,{visible:r,popupId:n,closePopup:l}),s.createElement("div",{className:"popup-content"},s.createElement(ii.Z,Object.assign({},e,{closePopup:l})))))};ai.propTypes={children:l().oneOfType([l().arrayOf(l().node),l().node]),className:l().string,currentBoard:l().object,popupId:l().string.isRequired,isPopupOpen:l().bool,dispatchClosePopup:l().func,gridSize:l().number};const li=(0,c.$j)(si,(e=>({dispatchClosePopup:t=>e((0,k.j4)(t,!1))})))(ai);var ci=s.createElement(N.Z,{name:"reaction-add"});const di=({className:e,elementId:t,onPopupToggleCb:n})=>{const r=`reaction-${t}`;return s.createElement("div",{className:f()("ElementReactionAddButton",e),onClick:A.hE},s.createElement(ve.ZP,{popupId:r,onToggle:n},(e=>s.createElement("div",{className:f()("add-icon",{active:e})},ci))),s.createElement(li,{popupId:r,elementIds:[t]}))};di.propTypes={elementId:l().string,className:l().string,onPopupToggleCb:l().func};const ui=di;var mi=n(99452),pi=n(45781),hi=n(80877);const gi=(0,E.P1)(((e,{currentUserId:t})=>t),((e,{userIds:t})=>t),Oo.R,((e,t,n)=>{const r=[];let o=t.sort(((t,n)=>t===e?-1:n===e?1:0)).map((t=>{const o=n.get(t);return o||r.push(t),t===e?"You":(0,_o.VQ)(o)}));if(o.length>6){const e=o.length-6;o=[...o.slice(0,6),`${e} ${(0,B.E0)(e,"other","others")}`]}return{reactingUserNames:o,missingUserIds:r}})),fi=(0,E.P1)(gi,(e=>e)),Ei=(0,c.$j)(fi)((({reactingUserNames:e=[],missingUserIds:t=[]})=>s.createElement("span",{className:"ElementReactionPillTooltip"},s.createElement(Do.Z,{userIds:t}),s.createElement("strong",null,(0,B.fU)(e))," reacted"))),vi=({tooltipText:e,currentUserId:t,userIds:n,emojiCode:r,children:o})=>s.createElement(Po.Z,{enabled:!0,triggerOnMouseEnter:!0,delay:300,tooltipText:s.createElement(Ei,{currentUserId:t,userIds:n,emojiCode:r})},o);vi.propTypes={children:l().oneOfType([l().element,l().array,l().string]),tooltipText:l().oneOfType([l().element,l().array,l().string]),emojiCode:l().string,currentUserId:l().string,userIds:l().array,missingUserIds:l().array};const bi=vi,yi=({className:e,emojiCode:t,currentUserId:n,userIds:r,gridSize:o,toggleReaction:i,disabled:a})=>s.createElement(bi,{emojiCode:t,currentUserId:n,userIds:r},s.createElement(hi.Z,{className:f()("ElementReactionPill",e,{active:r.indexOf(n)>-1}),disabled:a,onClickFn:e=>{e.stopPropagation(),i(t)}},s.createElement(pi.Z,{emojiCode:t,size:1.6*o}),s.createElement("span",{className:"count"},(0,O.kE)(r))));yi.propTypes={className:l().string,emojiCode:l().string,currentUserId:l().string,disabled:l().bool,gridSize:l().number,userIds:l().array,toggleReaction:l().func};const Ii=yi,Ci=(0,c.$j)(null,(e=>({toggleReaction:({elementIds:t,emojiCode:n})=>e((0,mi.r)({updateIds:t,emojiCode:n}))})))((e=>{const{toggleReaction:t,elementId:n,permissions:r}=e,o=(0,ni.Od)(r)||(0,ni.YC)(r);return s.createElement(Ii,Object.assign({},e,{toggleReaction:e=>t({elementIds:[n],emojiCode:e}),disabled:!o}))})),Si=(0,E.zB)({gridSize:L.FP,currentUserId:eo.rc}),Ti=({element:e,elementId:t,reactions:n,currentUserId:r,gridSize:o,permissions:i})=>{const a=t||(0,D.nRF)(e),l=n||(0,D.YmW)(e)||[],c=(0,O.kE)(l),d=s.useMemo((()=>Object.values((0,ti.Fj)(l))),[l]);if(!c)return null;const u=(0,ni.Od)(i)||(0,ni.YC)(i);return s.createElement("div",{className:"ElementReactions"},d.map((({emojiCode:e,userIds:t})=>s.createElement(Ci,{elementId:a,key:e,disabled:!u,emojiCode:e,userIds:t,currentUserId:r,gridSize:o,permissions:i}))),u&&s.createElement(ui,{elementId:a}))};Ti.propTypes={currentUserId:l().string,elementId:l().string,permissions:l().number,gridSize:l().number,reactions:l().object,element:l().object,toggleReaction:l().func};const wi=(0,c.$j)(Si)(Ti);var Oi=n(46488),_i=n.n(Oi),Ri=n(13984),Ai=n(28719),Di=n(11111),Ni=n(99010),xi=n(48213),Mi=n(27461),Pi=n(45449),Li=n(927),ki=n(49905),Fi=n(56860),Bi=n(54142);const ji=(0,$e.zO)("canDrop"),zi=(0,$e.zO)("isHovered"),Ui=(e,t)=>(0,Ni.C_)(e)===t.elementId,Hi=(e,t,n)=>{var r;if(null==n||null===(r=n.dropTargetRef)||void 0===r||!r.current)return;const{gridSize:o,isRelative:i,getContextZoomScale:s}=e,a=s(),l=n.dropTargetRef.current.getBoundingClientRect(),c=t.getClientOffset(),d=mr.Yw(l,c),u={x:(0,Ri.X)({val:d.x/a,min:0,max:l.width/a,isRelative:i,gridSize:o}),y:(0,Ri.X)({val:d.y/a,min:0,max:l.height/a,isRelative:i,gridSize:o})};return(0,Kt.dO)({eventType:$t.Xc.ATTACHED_COMMENT_THREAD,userProperties:{[Vt.YV.FEATURE]:{[Vt.x2.ATTACHED_COMMENT_THREAD]:!0}}}),{parentId:e.elementId,section:Fi.WI.ATTACHED,position:u}},Zi={drop:(e,t,n)=>{const r=t.getItem().draggedElementIds;return(0,Ai.$V)(Hi)(e,t,n,r)},canDrop:(e,t)=>{const{isAttachModeThisElement:n}=e,r=t.getItem(),{element:o,draggedElementIds:i}=r;return n&&1===i.length&&(0,Di.Iw)(o)}};class Gi extends s.Component{constructor(e){super(e),this.dropTargetRef=s.createRef()}componentWillReceiveProps(e){const{setParentHoveredChildAcceptsDrop:t,isHovered:n,canDrop:r}=e;(t&&n&&ji(this.props,e)||t&&zi(this.props,e))&&t(r)}render(){const{connectDropTarget:e,isHovered:t,isDragging:n,elementId:r,isAttachModeEnabled:o,isAttachModeThisElement:i,dispatchStartAttachMode:a,dispatchEndAttachMode:l,immediatelyEnterAttachMode:c}=this.props,d=e||_i(),u=f()("AttachedCommentsDropTarget",{hovered:t,"is-dragging":n}),m=d(s.createElement("div",{ref:this.dropTargetRef,className:u}));return s.createElement(Li.Z,{elementId:r,isHovered:t,isHoveredShallow:t,isAttachMode:o,isAttachModeThisElement:i,immediatelyEnterAttachMode:c||o,dispatchStartAttachMode:a,dispatchEndAttachMode:l},m)}}Gi.propTypes={elementId:l().string,element:l().object.isRequired,isPresentational:l().bool,isHovered:l().bool,isRelative:l().bool,isDragging:l().bool,canDrop:l().bool,connectDropTarget:l().func,immediatelyEnterAttachMode:l().bool,isAttachModeThisElement:l().bool,isAttachModeEnabled:l().bool,dispatchStartAttachMode:l().func,dispatchEndAttachMode:l().func,setParentHoveredChildAcceptsDrop:l().func,getContextZoomScale:l().func};const Ki=(0,Se.qC)(ki.Z,(0,Mi.Z)(["element"]),(0,c.$j)((()=>(0,E.zB)({isAttachModeEnabled:Ni.GB,isAttachModeThisElement:Ui})),(e=>({dispatchStartAttachMode:t=>e((0,xi.I)(t,Bi.XZ.HOT_SPOT)),dispatchEndAttachMode:t=>e((0,xi.Z)(t))}))),(0,Pi.Z)(Zi,null,((e,t,n)=>{const r=t.getItem(),o=!!r&&t.getItemType()===to.XX&&1===r.draggedElementIds.length&&(0,Di.Iw)(r.element);return{connectDropTarget:e.dropTarget(),isHovered:t.isOver({shallow:!0}),canDrop:t.canDrop()||!1,isDragging:o,immediatelyEnterAttachMode:o&&(0,D.esd)(r.element)}}))),Wi=Ki(Gi);var Vi=n(77299),$i=n(60658),qi=n(92918);const Yi=e=>({top:`clamp(0%, ${(0,O.vg)("y",e)}, 100%)`,left:`clamp(0%, ${(0,O.vg)("x",e)}, 100%)`}),Xi=e=>{const{currentBoardId:t,elementId:n,element:r,gridSize:o,permissions:i,isPresentational:a}=e;if(!(0,Di.Iw)(r)||!(0,$i.N0)(r))return null;const l=(0,D.FX_)(r);return s.createElement("div",{className:"CommentAttached HotSpot",style:Yi(l)},s.createElement(qi.Z,{currentBoardId:t,permissions:i,isPresentational:a,elementId:n,element:r,gridSize:o}))},Qi=(0,Se.qC)((0,c.$j)((()=>(0,E.zB)({element:Y.sb}))));Xi.propTypes={currentBoardId:l().string,elementId:l().string,element:l().object,permissions:l().number,gridSize:l().number,isPresentational:l().bool};const Ji=Qi(Xi),es=e=>{const{childIds:t}=e;return $r()(t)?null:s.createElement("div",{className:"AttachedCommentsContainer"},t.map((t=>s.createElement(Ji,Object.assign({key:t},e,{element:null,elementId:t})))))};es.propTypes={elementId:l().string,element:l().object,childIds:l().array,permissions:l().number,gridSize:l().number,isPresentational:l().bool};const ts=(0,c.$j)((()=>(0,E.zB)({childIds:(0,Vi.zC)()})))(es);var ns=n(9300),rs=n(8686),os=n(83311),is=n(74830);const ss=e=>{const{element:t,gridSize:n,isClone:r,inList:o,isLocked:i,isEditable:a,elementEvents:l,tempSize:c,dispatchUpdateElement:d,cardEditorRef:u,focusOnEditor:m,isClipping:p,isClipDragging:h,isClipCopy:g,isSelected:E,isPresentational:v,isDragging:b,currentBoardId:y,permissions:I,setParentHoveredChildAcceptsDrop:C,getContextZoomScale:S,getContextZoomTranslationPx:_,isPresentationModeEnabled:R}=e,A=(0,D.A7z)(t),N=(0,it._2)(ht.A.TRANSPARENT)(t),x=(0,D.Lq4)(t),M=N,P=(0,D.dFx)(t),L=(0,Te.yp)(P),k=f()("Card drag-handle contrast-shadow",Object.assign({clipping:p,"clip-copy":g,"clip-dragging":h,"background-color-target":E,"background-color-contrast-target":E},(e=>{var t;if(!e)return;const n=(0,rs.Sq)(e)?e:(null===(t=(0,is.ZA)(e))||void 0===t?void 0:t.hex)||"#ffffff",r=T().contrast("#3d4554",n)>T().contrast("#ffffff",n);return{"colored-background":!0,"colored-background-light":r,"colored-background-dark":!r}})(P))),F=(0,w.UX)(k,Object.assign({},e,{transparent:M})),B=(0,D.nRF)(t),j=(0,D.KTp)(t),z=(0,D.dzi)(t),U=(0,O.vg)("width",c)||z||to.cv,H=!i&&a&&!(o&&(0,He.fN)(t)),Z=!(o&&b),G=Object.assign({},(0,ns.bS)(U,n,o),{background:Z&&L,"--ws-element-background-primary":Z&&L});return s.createElement("div",Object.assign({id:(0,w.Oc)(B),className:F},l,{style:G}),s.createElement(_e,{colorName:x,isSelected:E}),s.createElement(ei.Z,{show:(0,os.Z)(e),elementId:B,element:t,currentBoardId:y,gridSize:n,getContextZoomScale:S,getContextZoomTranslationPx:_}),s.createElement(Ko,e),s.createElement(Jo,e),s.createElement(Ae.Z,e),s.createElement(Br,Object.assign({editorRef:u,transparent:M},e)),s.createElement(wi,e),s.createElement(Ce,{isClone:r,elementId:B,element:t}),!R&&s.createElement(To,{focusOnEditor:m,elementId:B,element:t,isClone:r,cardWidth:U,dispatchUpdateElement:d}),s.createElement(Re.Z,Object.assign({},e,{placeholder:"Add a description",textContent:j,captionVisible:A})),!v&&s.createElement(Ue,Object.assign({},e,{elementId:B,defaultMaxWidth:2*to.cv*n,showHandle:H})),s.createElement(Wi,{setParentHoveredChildAcceptsDrop:C,gridSize:n,isPresentational:v,element:t,elementId:B,getContextZoomScale:S}),s.createElement(ts,{gridSize:n,elementId:B,element:t,isPresentational:v,currentBoardId:y,permissions:I}))};ss.propTypes={element:l().object.isRequired,gridSize:l().number,inList:l().string,isLocked:l().bool,isSelected:l().bool,isSingleSelected:l().bool,isEditing:l().bool,isEditable:l().bool,isHovered:l().bool,isPresentational:l().bool,permissions:l().number,spellCheck:l().bool,startEditing:l().func,stopEditing:l().func,saveContent:l().func,documentMode:l().bool,currentEditorKey:l().string,currentEditorId:l().string,currentBoardId:l().string,createNewCard:l().func,onEmptyBackspace:l().func,saveCaptionContent:l().func,elementEvents:l().object,tempSize:l().object,filterQuery:l().string,updateElementType:l().func,dispatchUpdateElement:l().func,cardEditorRef:l().func,focusOnEditor:l().func,isDragging:l().bool,isPresentationModeEnabled:l().bool,isClipping:l().bool,isClipDragging:l().bool,isClipCopy:l().bool,setParentHoveredChildAcceptsDrop:l().func,isClone:l().bool,getContextZoomScale:l().func,getContextZoomTranslationPx:l().func};const as=ss;var ls=n(75703),cs=n.n(ls),ds=n(6557),us=n.n(ds),ms=n(73935);function ps(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const hs=e=>{class t extends s.Component{constructor(...e){super(...e),ps(this,"createNewElementInList",(e=>{const{dispatchCreateAndEditNewElement:t,element:n,elementId:r,getListIndex:o,currentBoardId:i}=this.props,s=o&&o(r)||0,a=(0,$i.mK)({listId:(0,D.CKs)(n),index:s+1});return t(Object.assign({},e,{location:a,currentBoardId:i,element:n}))})),ps(this,"createNewElementOnCanvas",(e=>{const{dispatchCreateAndEditNewElement:t,element:n,gridSize:r,currentBoardId:o}=this.props,i=ms.findDOMNode(this),s=Math.round(i.offsetHeight/r),a={parentId:(0,D.CKs)(n),section:Fi.WI.CANVAS,position:{x:(0,D.oNe)(n),y:(0,D.uLQ)(n)+s+1}},l={};return(0,D.dzi)(n)&&(l.width=(0,D.dzi)(n)),t(Object.assign({},e,{location:a,currentBoardId:o,element:n,content:l}))})),ps(this,"createNewElement",((e={})=>this.props.inList?this.createNewElementInList(e):this.createNewElementOnCanvas(e)))}render(){return s.createElement(e,Object.assign({},this.props,{createNewElement:this.createNewElement}))}}return t.propTypes={dispatchCreateAndEditNewElement:l().func,element:l().object,elementId:l().string,getListIndex:l().func,gridSize:l().number,currentBoardId:l().string,inList:l().string},t};function gs(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fs=n(21055),Es=n(64791),vs=n(23680),bs=n(18260),ys=n(83263);function Is(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Cs=e=>{var t;let n=(0,c.$j)()(t=class extends s.Component{constructor(...e){super(...e),Is(this,"onEmptyBackspace",(()=>{const{isEditable:e,dispatch:t,element:n,stopEditing:r}=this.props;if(!e)return;const o=(0,D.nRF)(n);if(t((0,Es.pb)({elementId:o})),!(0,Di.F_)(n))return r();t((0,vs.il)(o))})),Is(this,"captionKeyHandler",(e=>{const{stopEditing:t,startEditing:n,element:r,isEditing:o}=this.props;if(e.which===Qt.nx.ESC)return void t();if(e.which===Qt.nx.BACKSPACE)return void e.preventDefault();if((0,$.lk)(e))return;if(-1!==Qt.XS.indexOf(e.which))return;if((0,D.A7z)(r)||this.showCaption(),o)return;(0,w.Nn)(this.props)||n({editorId:`${(0,D.nRF)(r)}-${ys.h}`,editorKey:ys.h})})),Is(this,"saveCaptionContent",((e,t)=>{const{element:n,isEditable:r,dispatchUpdateElement:o}=this.props;if(!r)return;const i={caption:e};(0,Di.k5)(n)&&(i.captionModified=!0),o({id:(0,D.nRF)(n),changes:i,sync:t})})),Is(this,"showCaption",(()=>{const{element:e,isEditable:t,dispatch:n}=this.props;t&&((0,bs.Y)(`added-${(0,D.BGE)(e)}-caption`,{shortcut:!0}),n((0,Es.zs)({elementId:(0,D.nRF)(e)})))}))}render(){return s.createElement(e,Object.assign({},this.props,{captionKeyHandler:this.captionKeyHandler,saveCaptionContent:this.saveCaptionContent,showCaption:this.showCaption,onEmptyBackspace:this.onEmptyBackspace}))}})||t;return n.propTypes={element:l().object.isRequired,dispatchUpdateElement:l().func.isRequired,dispatch:l().func,stopEditing:l().func,startEditing:l().func,showCaption:l().func,isEditing:l().bool,isEditable:l().bool},n};var Ss=n(14253);function Ts(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ws=({getMinWidth:e,getMinHeight:t,enableHeight:n})=>r=>{class o extends s.Component{constructor(r){super(r),Ts(this,"setTempElementSize",(r=>{if(!r)return void this.setState({size:null});const o={width:Math.max(r.width,e(this.props))};if(n){const e=t?t(this.props):0;o.height=Math.max(r.height,e)}this.setState({size:o}),this.setIsResizing(!0)})),Ts(this,"setElementSize",(()=>{const{size:e}=this.state;if(this.setIsResizing(!1),(0,bs.Y)("resized-element"),!e)return this.cleanupSetSize();this.animationId&&cancelAnimationFrame(this.animationId);const{width:t,height:n}=e,r=(e,t)=>{if(!e||!t)return this.cleanupSetSize();if(Math.abs(t.width-e.width)<.1&&(!e.height||Math.abs(t.height-e.height)<.1))return this.cleanupSetSize();const n={width:(t.width-e.width)*Pe.f3+e.width};e.height&&(n.height=(t.height-e.height)*Pe.f3+e.height),this.setState({size:n}),requestAnimationFrame((()=>r(n,t)))},o={width:Math.round(t),height:Math.round(n)};r(e,o)})),Ts(this,"cleanupSetSize",(()=>{this.setState({size:null})})),Ts(this,"setIsResizing",(e=>{if(this.state.isResizing===e)return;this.setState({isResizing:e});const t=Ss.Z.getCanvasViewportDomElement();this.state.isResizing?t.classList.add("resizing-element"):t.classList.remove("resizing-element")})),this.state={size:null,isResizing:!1},this.animationId=null}componentWillUnmount(){this.animationId&&cancelAnimationFrame(this.animationId)}render(){const{size:e,isResizing:t}=this.state;return s.createElement(r,Object.assign({},this.props,{tempSize:e,isResizing:t,setElementSize:this.setElementSize,setTempElementSize:this.setTempElementSize}))}}return o.propTypes={dispatchUpdateElement:l().func},o};function Os(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _s=to.cv/2,Rs=e=>{const{width:t,height:n}=e,r=Math.abs(t-to.cv);return Object.assign({},e,{height:Math.round(n)-.2,width:r<2?to.cv:t})},As=e=>({dispatchNavigateToElement:({elementId:t})=>e((0,X.nI)({elementId:t})),dispatchGetNextUndoTransactionId:()=>e((0,lr.cn)())}),Ds=e=>({getCurrentElementHeight:t=>e(((e,n)=>{const r=n();return(0,Me.gd)(r).getIn([t,"height"])}))});var Ns=n(8737),xs=n(80903);const Ms=(0,E.P1)(Y.nR,(e=>e.getIn(["app","clipper"])),Ns.U,((e,t,n)=>{const r=(0,O.vg)("clippedElementId",t)===e;return{isClipping:r,isClipCopy:r&&n.get(xs.nl.altKey),isClipDragging:!!r&&(0,O.vg)("isClipDragging",t),clippedText:r?(0,O.vg)("clippedText",t):null}})),Ps=(0,c.$j)(Ms);var Ls,ks,Fs,Bs=n(25066);function js(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const zs=(0,$e.zO)("isDragging"),Us=(0,Se.qC)(ws({getMinWidth:cs()(to.cv/2)}),(e=>{var t;let n=(0,c.$j)(null,As)(t=(0,xe.Z)(null,Ds)(t=class extends s.Component{constructor(e){super(e),Os(this,"containerRef",(e=>{this.containerElement=e})),Os(this,"editorRef",(e=>{this.editorElement=e})),Os(this,"getCurrentContainerHeight",(()=>{const{getContextZoomScale:e}=this.props,t=e();return this.containerElement.getBoundingClientRect().height/t})),Os(this,"getEditorHeight",(()=>this.editorElement.getBoundingClientRect().height)),Os(this,"initialiseComponentHeights",(()=>{const{element:e,getCurrentElementHeight:t}=this.props;this.initialised=!0,this.initialElementHeight=t((0,D.nRF)(e)),this.initialContainerHeight=this.getCurrentContainerHeight()})),Os(this,"getMinimumContainerHeight",(e=>{const{gridSize:t,element:n}=this.props,r=(0,it._2)(ht.A.TRANSPARENT)(n),o=v.vR*t;return r||!(e>o)?5.8*t:8.6*t})),Os(this,"getNewContainerHeight",(({height:e},t)=>{const{gridSize:n}=this.props,r=this.getMinimumContainerHeight(t),o=e*n;return Math.max(o-this.initialElementHeight+this.initialContainerHeight,r)})),Os(this,"setContainerSizeWhileResizing",(e=>{const{setTempElementSize:t}=this.props;if(!e)return void t(e);this.initialised||this.initialiseComponentHeights();const n=this.getNewContainerHeight(e,this.editorHeight);this.setState({tempContainerHeight:n});t(Rs(e))})),Os(this,"onResizeComplete",(e=>{this.initialised||this.initialiseComponentHeights();const{setElementSize:t,dispatchUpdateElement:n,dispatchStopEditing:r,element:o,gridSize:i,isEditing:s,inList:a}=this.props;this.initialised=!1;const l=Rs(e);this.editorHeight=this.getEditorHeight(),this.containerHeight=this.getNewContainerHeight(l,this.editorHeight);const c=this.containerHeight/i,d=(0,He.Sj)(this.containerHeight,this.editorHeight,i),u={minHeight:d?null:c,maxHeight:d?c:null,autoHeight:!1};a||(u.width=Math.max(Math.round(l.width),_s));const m=(0,D.nRF)(o);n({id:m,changes:u}),this.setState({tempContainerHeight:null}),d&&s&&r(m),t(e),(0,Kt.dO)({eventType:$t.Xc.ELEMENT_UPDATE,userProperties:{[Vt.YV.FEATURE]:{[Vt.x2.RESIZE_CARD]:!0}}})})),Os(this,"handleDoubleClick",(()=>{const{element:e,dispatchUpdateElement:t,gridSize:n}=this.props;this.editorHeight=this.getEditorHeight();const{minHeight:r,maxHeight:o}=(0,He.o)({element:e,gridSize:n}),i=(0,He.fN)(e);if(r&&this.editorHeight<r||o&&(0,He.Sj)(o,this.editorHeight,n))return t({id:(0,D.nRF)(e),changes:{autoHeight:!i}})})),this.initialised=!1,this.initialElementHeight=null,this.initialContainerHeight=null,this.editorHeight=null,this.containerElement=null,this.editorElement=null,this.state={tempContainerHeight:null}}render(){const{tempContainerHeight:t}=this.state;return s.createElement(e,Object.assign({},this.props,{cardEditorRef:this.editorRef,containerRef:this.containerRef,tempContainerHeight:t,handleDoubleClick:this.handleDoubleClick,setElementSize:this.onResizeComplete,setTempElementSize:this.setContainerSizeWhileResizing}))}})||t)||t;return n.propTypes={element:l().object.isRequired,setElementSize:l().func.isRequired,setTempElementSize:l().func.isRequired,getCurrentElementHeight:l().func,dispatchUpdateElement:l().func,dispatchNavigateToElement:l().func,dispatchStopEditing:l().func,gridSize:l().number,getContextZoomScale:l().func,isEditing:l().bool,inList:l().string,dispatchGetNextUndoTransactionId:l().func},n}),Ps,(e=>{class t extends s.Component{constructor(...e){super(...e),gs(this,"cardEditorRef",(e=>{const{cardEditorRef:t}=this.props;this.editorElement=e,t&&t(e)})),gs(this,"focusOnEditor",(()=>{this.editorElement&&this.editorElement.focusOnEditor&&this.editorElement.focusOnEditor()}))}render(){return s.createElement(e,Object.assign({},this.props,{focusOnEditor:this.focusOnEditor,cardEditorRef:this.cardEditorRef}))}}return t.propTypes={cardEditorRef:l().func},t}));let Hs=(Ls=(0,c.$j)(L.jE,(e=>({dispatchSaveTextContent:({id:t,textContent:n,transactionId:r})=>e((0,Qr.yj)({id:t,changes:{textContent:n},transactionId:r})),dispatchCreateAndEditNewElement:({location:t,currentBoardId:n,element:r,creationSource:o,content:i})=>{(0,bs.Y)("created-card-cmd-return");const s=(0,D.KTp)(r);return e((0,Qr.bc)({creationSource:o,elementType:v.WK,location:t,currentBoardId:n,content:Object.assign({caption:s&&s.toJS(),showCaption:(0,D.A7z)(r)},i),select:!0}))},dispatchMoveElementsToTrash:({currentBoardId:t,elementIds:n})=>e((0,zr.fC)({currentBoardId:t,elementIds:n})),dispatchUpdateElementType:t=>e((0,Bs.k)(t)),onAppUndo:()=>{const t=e((0,lr.tJ)()),n=e((0,lr.AU)());t&&n===t&&e((0,lr.wK)())},onAppRedo:()=>{const t=e((0,lr.lC)()),n=e((0,lr.wr)());t&&n===t&&e((0,lr.b)())}}))),ks=(0,Mi.Z)(["dragModifierKeys"]),Ls(Fs=(0,fs.Z)(Fs=ks(Fs=Cs(Fs=Us(Fs=hs(Fs=class extends s.Component{constructor(...e){super(...e),js(this,"saveContent",((e,t)=>{const{isEditable:n,element:r,dispatchSaveTextContent:o}=this.props;n&&o({id:(0,D.nRF)(r),textContent:e,transactionId:t})})),js(this,"moveElementsToTrash",(()=>{const{currentBoardId:e,element:t,dispatchMoveElementsToTrash:n}=this.props;n({currentBoardId:e,elementIds:[(0,D.nRF)(t)]})})),js(this,"updateElementType",(({elementType:e,data:t})=>{const{element:n,dispatchUpdateElementType:r}=this.props;r({id:(0,D.nRF)(n),elementType:e,data:t})}))}componentDidUpdate(e){const{elementId:t}=this.props;zs(e,this.props)&&(e=>{const t=(0,w.Oc)(e),n=document.getElementById(t);if(!n)return;const r=n.querySelectorAll("pre div.public-DraftStyleDefault-block");for(const o of r)o.scrollLeft=0})(t)}shouldComponentUpdate(e){return!e.isElementOpenInModal||!this.props.isElementOpenInModal}render(){const{connectLineEdgeDropTarget:e,canConnectLineEdge:t,createNewElement:n}=this.props;return(e&&t?e:us())(s.createElement("div",null,s.createElement(as,Object.assign({},this.props,{updateElementType:this.updateElementType,saveContent:this.saveContent,createNewCard:n,moveElementsToTrash:this.moveElementsToTrash}))))}})||Fs)||Fs)||Fs)||Fs)||Fs)||Fs);Hs.propTypes={element:l().object.isRequired,elementId:l().string,currentBoardId:l().string.isRequired,createNewElement:l().func,inList:l().string,canConnectLineEdge:l().bool,gridSize:l().number,isElementOpenInModal:l().bool,connectDropTarget:l().func,dispatchSaveTextContent:l().func,dispatchMoveElementsToTrash:l().func,isEditable:l().bool,connectLineEdgeDropTarget:l().func,dispatchUpdateElementType:l().func};const Zs=Hs;var Gs=n(68071),Ks=n(12248),Ws=n(58123);const Vs=()=>((e={})=>(0,b.QS)(Object.assign({elementType:v.WK,objectConstructorFn:C,displayName:v.mO},e)))({containerComponent:Zs,presentationalComponent:as,tools:[Ks.Tk.RICH_TEXT,Ks.Tk.COLOR,Ks.Tk.REACTION],features:[ht.A.DOCUMENT,ht.A.DESCRIPTION,ht.A.TRANSPARENT],selectedTools:[Object.assign({},Ws.z.COLOR,{name:"Card color"}),Ws.z.REACTION,...Ws.l.MULTI_SELECT_ARRANGEMENT],editingTools:(0,Gs.cE)()?[]:Ws.l.TEXT_EDITING_INLINE_AND_BLOCK,tooltip:Mt.mL?"⌃⌘N":"Ctrl+Alt+N"});var $s=n(96886),qs=n(22453);const Ys=e=>{const{content:t}=e;return Object.assign({},I(e),{elementType:$s.tE,content:Object.assign({textContent:null,displayMode:qs.oE.ICON_VIEW,showMedia:!1},t)})};var Xs=n(79319);const Qs=s.forwardRef((function(e,t){const{className:n,style:r,previewElement:o,iconElement:i,secondaryElement:a,titleElement:l}=e;return s.createElement("div",{className:f()("DetailView",n),style:r,ref:t},o,s.createElement("div",{className:"metadata-container"},s.createElement("div",{className:"icon-container"},i),s.createElement("div",{className:"details-container"},s.createElement("div",{className:"title-container"},l),a&&s.createElement("div",{className:"secondary-details-container"},a))))}));Qs.propTypes={className:l().string,style:l().object,previewElement:l().oneOfType([l().arrayOf(l().node),l().node]),iconElement:l().oneOfType([l().arrayOf(l().node),l().node]).isRequired,titleElement:l().oneOfType([l().arrayOf(l().node),l().node]).isRequired,secondaryElement:l().oneOfType([l().arrayOf(l().node),l().node])};const Js=Qs;var ea=n(66774);const ta=/(?:\r\n|\r|\n)/g,na=({rawState:e})=>{const t=e?(e=>{const t=(0,ea.Z)(e).replace(ta," ").trim().match(/\S+/g);return t?t.length:0})(e):0;return s.createElement("span",{className:"WordCount"},t," ",(0,B.gY)("word",t))};na.propTypes={rawState:l().object};const ra=(0,Se.Le)(na);var oa=n(70452);const ia=e=>{const{element:t,disabled:n,isSingleSelected:r,dispatchNavigateToElement:o,dispatchHandleArrowKeys:i,dispatchStartEditingTitle:a,moveElementsToTrash:l,isElementOpenInModal:c}=e,d=(0,s.useRef)(null),u=(0,s.useCallback)((()=>{d.current.focus()}),[]);(0,s.useEffect)((()=>{r&&!n&&u()}),[r,n]),(0,s.useEffect)((()=>{c||!r||n||u()}),[c]);const m=(0,s.useCallback)((e=>{if(e.persist(),!r)return;if((0,$.jv)(e))return l();if((0,$.gq)(e))return i(e);if(e.keyCode===Qt.nx.ENTER)return e.preventDefault(),a(t);if(e.keyCode===Qt.nx.SHIFT)return;if((0,$.lk)(e))return;if((0,$._W)(e))return;if((0,$.nY)(e))return;const n=(0,D.nRF)(t);e.stopPropagation(),e.preventDefault(),o({elementId:n})}),[t,r]),p=(0,s.useCallback)((e=>{e.preventDefault(),oa.wK(e.data)}),[]);return s.createElement("div",{type:"text",className:"HiddenInput enable-workspace-clipboard",tabIndex:-1,ref:d,onKeyDown:m,onBeforeInput:p})};ia.propTypes={element:l().object.isRequired,isSingleSelected:l().bool,disabled:l().bool,moveElementsToTrash:l().func,isElementOpenInModal:l().bool,dispatchNavigateToElement:l().func,dispatchHandleArrowKeys:l().func,dispatchStartEditingTitle:l().func};const sa=ia;var aa=n(1931);const la=kn({clickableLinks:!1});var ca=s.createElement(N.Z,{name:"content-empty"});const da=()=>s.createElement("div",{className:"EmptyDocumentPreview"},ca,s.createElement("span",{className:"preview-text"},(0,Mt.oZ)()?"Double click to start typing":"Double tap to start typing"));var ua=s.createElement(da,null),ma=s.createElement(aa.Z,{iconName:"file-document"});const pa=e=>{const{element:t,className:n,inList:r,gridSize:o,elementEvents:i,permissions:a,isPresentational:l,isEditing:c,isSelected:d,isClone:u,currentBoardId:m,textContent:p,titleElement:h,setParentHoveredChildAcceptsDrop:g,getContextZoomScale:E,getContextZoomTranslationPx:v}=e,b=(0,D.nRF)(t),y=(0,D.Lq4)(t),I=(0,D.KTp)(t),C=(0,D.A7z)(t),S=(0,Xs.Z)(p);return s.createElement("div",Object.assign({id:(0,w.Oc)(b),className:f()("DocumentDetailView drag-handle contrast-shadow",n),style:(0,ns.bS)(to.cv,o,r)},i),s.createElement(sa,Object.assign({},e,{disabled:c})),s.createElement(Ae.Z,e),s.createElement(ei.Z,{show:(0,os.Z)(e),elementId:b,element:t,currentBoardId:m,gridSize:o,getContextZoomScale:E,getContextZoomTranslationPx:v}),s.createElement(_e,{colorName:y,isSelected:d}),s.createElement(Js,{className:"document-content",inList:r,gridSize:o,previewElement:s.createElement("div",{className:"document-preview"},S?s.createElement(la,Object.assign({},e,{textContent:p,isEditable:!1,editorId:(0,qe.s6)(e),editorKey:(0,qe.iS)(e)})):ua),iconElement:ma,titleElement:h,secondaryElement:s.createElement(ra,{rawState:p})}),s.createElement(Re.Z,Object.assign({},e,{onDoubleClick:A.hE,placeholder:"Add a description",textContent:I,captionVisible:C})),s.createElement(wi,e),s.createElement(Ce,{isClone:u,elementId:b,element:t}),s.createElement(Wi,{setParentHoveredChildAcceptsDrop:g,gridSize:o,isPresentational:l,element:t,elementId:b,getContextZoomScale:E}),s.createElement(ts,{gridSize:o,elementId:b,element:t,isPresentational:l,currentBoardId:m,permissions:a}))};pa.propTypes={element:l().object.isRequired,className:l().string,inList:l().string,gridSize:l().number,permissions:l().number,isPresentational:l().bool,isSelected:l().bool,isSingleSelected:l().bool,isEditing:l().bool,isEditable:l().bool,isClone:l().bool,currentBoardId:l().string,elementEvents:l().object,textContent:l().object,isElementOpenInModal:l().bool,moveElementsToTrash:l().func,dispatchHandleArrowKeys:l().func,dispatchNavigateToElement:l().func,setParentHoveredChildAcceptsDrop:l().func,titleElement:l().oneOfType([l().arrayOf(l().node),l().node]).isRequired,getContextZoomScale:l().func,getContextZoomTranslationPx:l().func};const ha=(0,c.$j)((()=>(0,E.zB)({textContent:Vn})))(pa);var ga=n(49870),fa=n(27092),Ea=s.createElement("div",{className:"DocumentStatus"},s.createElement(Po.Z,{enabled:!0,delay:300,className:"document-clone-tooltip",tooltipId:"tooltip-document-status",tooltipText:s.createElement("div",{className:"document-clone-message"},s.createElement(N.Z,{name:"clone"}),s.createElement("div",{className:"text"},"There are other copies of this document")),distance:10,triggerOnMouseEnter:!0},s.createElement(N.Z,{name:"clone-outlined"})));const va=e=>{const{element:t,isClone:n}=e;return n||(0,D.rtd)(t)?Ea:null};va.propTypes={element:l().object.isRequired,elementId:l().string.isRequired,isClone:l().bool};const ba=va;var ya=n(63291),Ia=s.createElement("feOffset",{dy:"2",in:"SourceAlpha",result:"shadowOffsetOuter1"}),Ca=s.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"5"}),Sa=s.createElement("feColorMatrix",{in:"shadowBlurOuter1",result:"shadowMatrixOuter1",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"}),Ta=s.createElement("feOffset",{dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter2"}),wa=s.createElement("feGaussianBlur",{in:"shadowOffsetOuter2",result:"shadowBlurOuter2",stdDeviation:"1.5"}),Oa=s.createElement("feColorMatrix",{in:"shadowBlurOuter2",result:"shadowMatrixOuter2",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),_a=s.createElement("feMerge",null,s.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),s.createElement("feMergeNode",{in:"shadowMatrixOuter2"}));const Ra=({gridSize:e,width:t,height:n})=>{const r=Math.round((0,ns.wh)(t,e)),o=Math.round((0,ns.wh)(n,e)),i=Math.round(o-r),a=Math.round(r+2),l=Math.round(o+2),c=`M 1 1 h ${r-i} l ${i} ${i} v ${o-i} H 1 z`,d=`M ${r-i+1} 1 l ${i} ${i} h ${-i} z`,u=`paper-filter-${(0,ya.Z)(10)}`;return s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:l,viewBox:`0 0 ${a} ${l}`},s.createElement("defs",null,s.createElement("filter",{id:u,width:"300%",height:"300%",x:"-100%",y:"-87.5%",filterUnits:"objectBoundingBox"},Ia,Ca,Sa,Ta,wa,Oa,_a)),s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("path",{fill:"var(--ws-document-icon-background-color)",style:{transform:"translate(0,0)"},shapeRendering:"crispEdges",d:c}),s.createElement("path",{filter:`url(#${u})`,shapeRendering:"crispEdges",fill:"#000",d}),s.createElement("path",{fill:"var(--ws-document-icon-fold-color)",shapeRendering:"crispEdges",d}),s.createElement("path",{stroke:"var(--ws-document-icon-selection-border-color)",strokeWidth:"2",className:"selection-stroke",d:c})))};Ra.propTypes={gridSize:l().number,width:l().number,height:l().number};const Aa=s.memo(Ra);var Da=s.createElement("div",{className:"drag-preview-shadow"});const Na=({children:e,iconElement:t,style:n,gridSize:r,inList:o,documentMode:i,className:a})=>{const{width:l,height:c}=(({inList:e,documentMode:t})=>t?{width:4,height:5}:e?{width:4.8,height:6}:{width:5.6,height:7.2})({inList:o,documentMode:i});return s.createElement("div",{className:f()("ElementPaperIcon",a),style:n},Da,s.createElement(Aa,{gridSize:r,width:l,height:c}),e,t&&s.createElement("div",{className:"icon"},t))};Na.propTypes={className:l().string,gridSize:l().number,inList:l().string,documentMode:l().bool,style:l().object,children:l().oneOfType([l().arrayOf(l().node),l().node]),iconElement:l().oneOfType([l().arrayOf(l().node),l().node])};const xa=Na,Ma=e=>{const{element:t,className:n,inList:r,documentMode:o,gridSize:i,elementEvents:a,currentBoardId:l,titleElement:c,getContextZoomScale:d,getContextZoomTranslationPx:u}=e,m=(0,D.nRF)(t),p=(0,D.Lq4)(t),h=(0,Te.yp)(p),g=(0,ga.vB)(p),E=h&&(g?"light":"dark");return s.createElement("div",Object.assign({id:(0,w.Oc)(m),className:f()("DocumentIconView",n),style:(0,ns.bS)(qs.B,i,r)},a),s.createElement(sa,e),s.createElement(fa.Z,{className:"document-content",iconElement:s.createElement(xa,{className:E&&`background-${E}`,gridSize:i,inList:r,documentMode:o,style:{"--ws-document-icon-background-color":h,"--ws-document-icon-fold-color":h},iconElement:s.createElement(aa.Z,{iconName:"file-document",iconStyle:"large",iconTheme:E})},s.createElement(Ae.Z,e),s.createElement(ei.Z,{show:(0,os.Z)(e),elementId:m,element:t,currentBoardId:l,gridSize:i,getContextZoomScale:d,getContextZoomTranslationPx:u}),s.createElement(ba,Object.assign({},e,{elementId:m}))),titleElement:c,secondaryElement:s.createElement(ra,{rawState:(0,D.FBA)(t)})}))};Ma.propTypes={element:l().object.isRequired,className:l().string,inList:l().string,documentMode:l().bool,gridSize:l().number,isSingleSelected:l().bool,isEditable:l().bool,currentBoardId:l().string,elementEvents:l().object,isElementOpenInModal:l().bool,moveElementsToTrash:l().func,dispatchHandleArrowKeys:l().func,dispatchNavigateToElement:l().func,titleElement:l().oneOfType([l().arrayOf(l().node),l().node]).isRequired,getContextZoomScale:l().func,getContextZoomTranslationPx:l().func};const Pa=Ma;var La=n(61750);const ka=e=>{const{element:t,isSingleSelected:n,filterQuery:r}=e,o=(0,D.nRF)(t),i=(0,qe.iS)(e);return s.createElement(La.Z,Object.assign({},e,{elementId:o,initialValue:"New Document",selectFirst:!0,isSelected:n,selectAllOnEdit:!0,editorKey:i,filterQuery:r,editDelay:(0,Mt.T)()?0:100}))};ka.propTypes={element:l().object.isRequired,isSingleSelected:l().bool,filterQuery:l().string};const Fa=ka;var Ba=n(18758);const ja=e=>{const{element:t,elementEvents:n,dispatchNavigateToElement:r}=e,o=(0,D.nRF)(t),i=(0,D.olH)(t),a=f()("Document"),l=(0,w.UX)(a,e),c=Object.assign({},n,{onDoubleClick:e=>{n.onDoubleClick(e),(0,$.lk)(e)||r({elementId:o})}});switch(i){case qs.oE.DETAIL_VIEW:return s.createElement(ha,Object.assign({},e,{className:l,elementEvents:c,titleElement:s.createElement(Fa,e)}));case qs.oE.ICON_VIEW:default:return s.createElement(Pa,Object.assign({},e,{className:l,elementEvents:c,titleElement:s.createElement(Fa,e)}))}};ja.propTypes={element:l().object.isRequired,gridSize:l().number,inList:l().string,isSingleSelected:l().bool,isSelected:l().bool,isEditing:l().bool,isEditable:l().bool,currentBoardId:l().string,elementEvents:l().object,isElementOpenInModal:l().bool,moveElementsToTrash:l().func,dispatchHandleArrowKeys:l().func,dispatchNavigateToElement:l().func,dispatchStartEditingTitle:l().func};const za=(0,c.$j)(null,(e=>({dispatchNavigateToElement:({elementId:t})=>e((0,X.nI)({elementId:t})),dispatchHandleArrowKeys:t=>e((0,Ba.sx)(t)),dispatchStartEditingTitle:t=>e((0,vs.TV)({id:(0,D.nRF)(t),editorKey:(0,qe.iS)({element:t})}))})))(ja);var Ua,Ha,Za;function Ga(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ka=(0,$e.zO)("isDragging");let Wa=(Ua=(0,c.$j)(L.jE,(e=>({dispatchSaveTextContent:({id:t,textContent:n,transactionId:r})=>e((0,Qr.yj)({id:t,changes:{textContent:n},transactionId:r})),dispatchMoveElementsToTrash:({currentBoardId:t,elementIds:n})=>e((0,zr.fC)({currentBoardId:t,elementIds:n})),dispatchUpdateElementType:({id:t,elementType:n,data:r})=>e((0,Qr.TK)({id:t,elementType:n,changes:r})),onAppUndo:()=>{const t=e((0,lr.tJ)()),n=e((0,lr.AU)());t&&n===t&&e((0,lr.wK)())},onAppRedo:()=>{const t=e((0,lr.lC)()),n=e((0,lr.wr)());t&&n===t&&e((0,lr.b)())}}))),Ha=(0,Mi.Z)(["dragModifierKeys"]),Ua(Za=(0,fs.Z)(Za=Ha(Za=Cs(Za=class extends s.Component{constructor(...e){super(...e),Ga(this,"saveContent",((e,t)=>{const{isEditable:n,element:r,dispatchSaveTextContent:o}=this.props;n&&o({id:(0,D.nRF)(r),textContent:e,transactionId:t})})),Ga(this,"moveElementsToTrash",(()=>{const{currentBoardId:e,element:t,dispatchMoveElementsToTrash:n}=this.props;n({currentBoardId:e,elementIds:[(0,D.nRF)(t)]})})),Ga(this,"updateElementType",(({elementType:e,data:t})=>{const{element:n,dispatchUpdateElementType:r}=this.props;r({id:(0,D.nRF)(n),elementType:e,data:t})}))}componentDidUpdate(e){const{elementId:t}=this.props;Ka(e,this.props)&&(e=>{const t=(0,w.Oc)(e),n=document.getElementById(t);if(!n)return;const r=n.querySelectorAll("pre div.public-DraftStyleDefault-block");for(const o of r)o.scrollLeft=0})(t)}shouldComponentUpdate(e){return!e.isElementOpenInModal||!this.props.isElementOpenInModal}render(){const{connectLineEdgeDropTarget:e,canConnectLineEdge:t}=this.props;return(e&&t?e:us())(s.createElement("div",null,s.createElement(za,Object.assign({},this.props,{updateElementType:this.updateElementType,saveContent:this.saveContent,moveElementsToTrash:this.moveElementsToTrash}))))}})||Za)||Za)||Za)||Za);Wa.propTypes={element:l().object.isRequired,elementId:l().string,currentBoardId:l().string.isRequired,createNewElement:l().func,inList:l().string,canConnectLineEdge:l().bool,gridSize:l().number,isElementOpenInModal:l().bool,connectDropTarget:l().func,dispatchSaveTextContent:l().func,dispatchMoveElementsToTrash:l().func,isEditable:l().bool,connectLineEdgeDropTarget:l().func,dispatchUpdateElementType:l().func};const Va=Wa;var $a=n(7923),qa=n(45138),Ya=n(23842),Xa=n(51354),Qa=n(10305),Ja=n(10025),el=n(96326),tl=n(56313),nl=n(41013);const rl=e=>{const[t,n]=(0,s.useState)(0);return s.createElement("div",{className:"DocumentModalSidebar"},s.createElement(el.Z,{setAvailableHeight:n,unavailableHeight:0}),e.isEditable&&s.createElement(Ja.Z,Object.assign({},e,{gridSize:10,gridSizeName:nl.HR.LARGE.name,editorKey:tl.U,availableHeight:t,unavailableHeight:0})))};rl.propTypes={isEditable:l().bool};const ol=rl;function il(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const sl=(0,$e.zO)("isEditing"),al=(0,$e.FB)("isEditing");var ll=n(82862),cl=n(61542),dl=n(39956),ul=n(91727),ml=(n(11993),s.createElement("h3",null,"Export as..."));const pl=({elementId:e})=>s.createElement("div",{className:"ExportPopup"},s.createElement("div",{className:"export-section"},s.createElement("div",{className:"export-options"},ml,s.createElement(ll.Z,{elementId:e,mimeType:cl.L.PDF,fileType:ul.ld.PDF.type,format:dl.o.linear,quality:dl.d6.high},"PDF"),s.createElement(ll.Z,{elementId:e,mimeType:cl.L.DOCX,fileType:ul.ld.DOCX.type,format:dl.o.linear},"Word document"),s.createElement(ll.Z,{elementId:e,mimeType:cl.L.MARKDOWN,fileType:ul.ld.TEXT.type,format:dl.o.linear},"Markdown"),s.createElement(ll.Z,{elementId:e,mimeType:cl.L.PLAIN_TEXT,fileType:ul.ld.TEXT.type,format:dl.o.linear},"Plain text"))));var hl=n(97173),gl=n(69129),fl=s.createElement("div",{className:"header-left"});const El=e=>{const{element:t,elementId:n,isEditable:r,editorKey:o,onStopEditing:i}=e;return s.createElement("div",{className:"DocumentModalHeader"},fl,s.createElement("div",{className:"header-center"},s.createElement(La.Z,{selectAllOnEdit:!0,element:t,elementId:n,isEditable:r,editorKey:o,initialValue:$s.uE,onStopEditing:i})),s.createElement("div",{className:"header-right"},s.createElement(hl.Z,{popupId:gl.K2.EXPORT_DOCUMENT,popupSection:gl.kZ.MODAL_HEADER,exportPopupElement:s.createElement(pl,{elementId:n})})))};El.propTypes={element:l().object,elementId:l().string,editorKey:l().string,isEditable:l().bool,onStopEditing:l().func};const vl=El;var bl,yl=n(62287);function Il(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Cl=(e=>{class t extends s.Component{constructor(...e){super(...e),il(this,"onEditorResize",(e=>{const{onHeightChange:t,isResizing:n}=this.props;if(n)return;const r=o()([0,"contentRect","height"],e);t&&t(r)})),il(this,"editorRef",(e=>{const{editorRef:t}=this.props;this.editorElement=e,t&&t(e)}))}componentDidMount(){this.props.isEditing&&this.attachResizeObserver()}componentWillReceiveProps(e){!this.resizeObserverAttached&&sl(this.props,e)&&this.attachResizeObserver(),this.resizeObserverAttached&&al(this.props,e)&&this.removeResizeObserver()}componentWillUnmount(){this.removeResizeObserver()}attachResizeObserver(){this.resizeObserver=new Ve.Z(this.onEditorResize),this.editorContentsElement=this.editorElement.getTextDomElement(),this.resizeObserver.observe(this.editorContentsElement),this.resizeObserverAttached=!0}removeResizeObserver(){this.resizeObserverAttached&&this.resizeObserver&&(this.resizeObserver.disconnect(this.editorContentsElement),this.resizeObserverAttached=!1)}render(){return s.createElement(e,Object.assign({},this.props,{editorRef:this.editorRef}))}}return t.propTypes={editorRef:l().func,onHeightChange:l().func,isEditing:l().bool,isResizing:l().bool},t})(kn({clickableLinks:!0})),Sl=e=>`${e}-${tl.U}`,Tl=(0,Un.y1)(((e,t)=>Sl(t.elementId)),(0,Y.m7)(),L.ZP,L.Og,(0,Xa.D)(yl.Iu.documentDiffSyncing),((e,t,n,r,o)=>Object.assign({editorId:e},t,{gridSize:n,gridSizeName:r,isDocumentDiffSyncingEnabled:o})));let wl=(0,c.$j)(Tl,(e=>({dispatchSaveTextContent:(t,n,r)=>{e(r?(0,Qa.rz)({id:t,changes:{textContent:n}}):(0,Qr.yj)({id:t,changes:{textContent:n}}))},dispatchPopUndoStackTo:t=>e((0,lr.fK)(t)),dispatchUndoAction:()=>e((0,lr.wK)()),dispatchRedoAction:()=>e((0,lr.b)()),dispatchGetNextUndoTransactionId:()=>e((0,lr.WQ)()),dispatchGetNextRedoTransactionId:()=>e((0,lr.lC)()),dispatchStartEditingElement:({id:t,editorId:n,editorKey:r})=>e((0,vs.TV)({id:t,editorId:n,editorKey:r})),dispatchStopEditing:t=>e((0,vs.gR)(t)),dispatchDeselectAllElements:()=>e((0,vs.yJ)())})))(bl=(0,nr.Z)(bl=class extends s.Component{constructor(e){super(e),Il(this,"willClose",(()=>{this.editorComponent&&this.editorComponent.saveCurrentContent()})),Il(this,"onBeforeUnload",(()=>{this.editorComponent.saveCurrentContent()})),Il(this,"onEditStart",(e=>{const{dispatchStartEditingElement:t,elementId:n}=e;setTimeout((()=>{t({id:n,editorKey:tl.U,editorId:Sl(n)})}),0)})),Il(this,"onAppUndo",(()=>{const{dispatchPopUndoStackTo:e,dispatchUndoAction:t}=this.props;this.modalOpenUndoTransactionId&&(this.editorComponent.saveCurrentContent(),this.openedViaUndo||e(this.modalOpenUndoTransactionId),requestAnimationFrame((()=>t())))})),Il(this,"onAppRedo",(()=>{const{dispatchRedoAction:e,dispatchGetNextRedoTransactionId:t}=this.props;t()&&requestAnimationFrame((()=>e()))})),Il(this,"saveContent",(e=>{const{element:t,dispatchSaveTextContent:n,isDocumentDiffSyncingEnabled:r}=this.props;n((0,D.nRF)(t),e,r)})),Il(this,"stopEditing",(()=>{const{close:e}=this.props;this.editorComponent.saveCurrentContent(),e()})),Il(this,"onHeightChange",(e=>{if(!this.isHeightInitialised)return this.onHeightInitialisation(e);const{gridSize:t}=this.props,n=(0,xn.Z)();if(!n)return;const r=document.querySelector("#document-modal-content .public-DraftEditor-content");if(!r)return;const o=(0,$a.lG)({top:0,left:0,bottom:7*t,right:0},n),i=(0,Ya.ns)(r,o);(0,Ya.UJ)(r,i)&&(this.scrollAnimation=(0,qa.Z)({scrollableElement:r,targetRect:i,interpolationFactor:.2}))})),Il(this,"onHeightInitialisation",(e=>{const{gridSize:t}=this.props;if(this.isHeightInitialised=!0,!this.modalDomRef.current)return;const n=this.modalDomRef.current.getBoundingClientRect();null!=n&&n.height&&(e<n.height-6*t||this.editorComponent.forceEditorBlur())})),Il(this,"onStopEditingTitle",(()=>{const{isEditable:e}=this.props;e&&this.onEditStart(this.props)}));const{dispatchGetNextUndoTransactionId:t,dispatchGetNextRedoTransactionId:n,elementInstanceModalRef:r}=e;this.modalOpenUndoTransactionId=t(),this.openedViaUndo=!!n(),this.isHeightInitialised=!1,this.modalDomRef=s.createRef(),r&&r(this)}componentWillMount(){const{isEditable:e}=this.props;window.addEventListener("beforeunload",this.onBeforeUnload),e&&this.onEditStart(this.props)}componentWillUnmount(){const{dispatchEditorUnmount:e,dispatchStopEditing:t,dispatchDeselectAllElements:n}=this.props;e&&e(),t(),n(),window.removeEventListener("beforeunload",this.onBeforeUnload),this.scrollAnimation&&this.scrollAnimation()}render(){const{element:e,elementId:t,isEditable:n,isEditing:r,spellCheck:o,currentEditorId:i,isPreview:a}=this.props,l=f()("DocumentModal",{preview:a}),c=!a&&!(0,Gs.cE)();return s.createElement("div",{className:l,ref:this.modalDomRef},!a&&s.createElement(vl,{element:e,elementId:t,editorKey:tl.P,isEditable:n,onStopEditing:this.onStopEditingTitle}),s.createElement("div",{className:"document-modal-body"},c&&s.createElement(ol,this.props),s.createElement("div",{id:"document-modal-content",className:"content editing"},s.createElement(Cl,{editorRef:e=>{this.editorComponent=e},className:"documentContent",placeholder:"Start typing...",element:e,textContent:(0,D.FBA)(e),isEditing:r,isEditable:n,saveContent:this.saveContent,startEditing:()=>this.onEditStart(this.props),stopEditing:this.stopEditing,editorId:Sl((0,D.nRF)(e)),editorKey:tl.U,currentEditorId:i,currentEditorKey:tl.U,onHeightChange:this.onHeightChange,onAppUndo:this.onAppUndo,onAppRedo:this.onAppRedo,spellCheck:o}))))}})||bl)||bl;wl.propTypes={element:l().object,elementId:l().string,editorState:l().object,currentEditorId:l().string,isEditing:l().bool,isEditable:l().bool,isPreview:l().bool,isDocumentDiffSyncingEnabled:l().bool,dispatchGetNextUndoTransactionId:l().func,dispatchGetNextRedoTransactionId:l().func,dispatchPopUndoStackTo:l().func,dispatchUndoAction:l().func,dispatchRedoAction:l().func,dispatchStartModalEditOperation:l().func,dispatchEndModalEditOperation:l().func,dispatchEditorUnmount:l().func,dispatchSaveTextContent:l().func,close:l().func,gridSize:l().number,elementInstanceModalRef:l().func,spellCheck:l().bool,dispatchStartEditingElement:l().func,dispatchStopEditing:l().func,dispatchDeselectAllElements:l().func};const Ol=wl;var _l=n(8698),Rl=n(59837);const Al=({selectedElements:e})=>(0,Rl.YB)(e),Dl=()=>((e={})=>(0,b.QS)(Object.assign({elementType:$s.tE,objectConstructorFn:Ys,displayName:$s.Pj},e)))({containerComponent:Va,presentationalComponent:za,modalComponent:Ol,tools:[Ks.Tk.RICH_TEXT,Ks.Tk.COLOR,Ks.Tk.DISPLAY_MODE,Object.assign({},Ks.Tk.CAPTION,{predicate:e=>!(0,_l.KX)(e)}),Object.assign({},Ks.Tk.REACTION,{predicate:e=>!(0,_l.KX)(e)})],selectedTools:[Ws.z.COLOR,Ws.z.DISPLAY_MODE,Object.assign({},Ws.z.CAPTION,{availabilityPredicate:Al}),Object.assign({},Ws.z.REACTION,{availabilityPredicate:Al}),...Ws.l.MULTI_SELECT_ARRANGEMENT],editingTools_CAPTION:Ws.l.TEXT_EDITING_CAPTION});var Nl=n(35572);const xl=e=>{const{content:t,acl:n}=e,r=Math.floor(Math.random()*Nl.k.length),o=(null==t?void 0:t.defaultColorPalette)||Nl.k[r];return Object.assign({},I(e),{elementType:Fi.V_,content:Object.assign({title:Fi.q2,icon:null,color:null,secondaryColor:null,defaultColorPalette:o},t),acl:n})};var Ml=n(89663),Pl=n(52740),Ll=n(87975),kl=n(81188),Fl=n(395),Bl=n(34595);function jl(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const zl=(e=>{let t,n=[],r=!1;return(o,i,s)=>(a,l)=>{n.push(o),r=r||i,clearTimeout(t),t=setTimeout((()=>{const t=l(),o=(0,Xa.E)(t),i=[],c=[];n.forEach((e=>{const n=(0,z.Rf)(t,U.P6.boards,e);o&&(!n||(0,j.OT)(n))?i.push(e):c.push(e)})),$r()(i)||a(e({cache:!0,boardIds:i,loadAncestors:r,excludeSelf:!0,canvasOrder:s})),$r()(c)||a(e({cache:!1,boardIds:c,loadAncestors:r,excludeSelf:!0,canvasOrder:s})),n=[],r=!1}),250)}})(Pl.Po);class Ul extends s.Component{constructor(e){var t;if(super(e),t=this,jl(this,"intersectionCallback",(async function([e]){const{isIntersecting:n}=e,{boardResourceEntity:r,fetchBoard:o,element:i,localCacheHydrationTimestamp:s,documentMode:a}=t.props;if(!n)return;Ll.Z.registerBoardCountsWaiting(),t.observeDiv.current&&t.observer&&t.observer.unobserve(t.observeDiv.current);(0,j.Zb)(r,s)&&o((0,D.G8z)(i),(0,Di.lA)(i),a)})),this.observeDiv=(0,s.createRef)(),!window.IntersectionObserver)return void this.intersectionCallback([{isIntersecting:!0}]);this.observer=new IntersectionObserver(this.intersectionCallback,{root:(()=>{switch((0,Gs.uT)()){case Bl.Q.ANDROID_BOARD_LIST:case Bl.Q.IOS_BOARD_LIST:return null;case Bl.Q.IOS_CANVAS:case Bl.Q.IPAD_OS:default:return document.querySelector(".App")}})(),threshold:.25})}componentDidMount(){this.observeDiv.current&&this.observer&&this.observer.observe(this.observeDiv.current)}componentWillUnmount(){this.observeDiv.current&&this.observer&&this.observer.unobserve(this.observeDiv.current)}render(){const{children:e}=this.props;return s.createElement("div",{ref:this.observeDiv},e)}}Ul.propTypes={children:l().oneOfType([l().arrayOf(l().node),l().node]),element:l().object,fetchBoard:l().func,boardResourceEntity:l().object,localCacheHydrationTimestamp:l().number,documentMode:l().bool};const Hl=(0,c.$j)((()=>(0,E.zB)({boardResourceEntity:kl.Y9,localCacheHydrationTimestamp:Fl.X})),(e=>({fetchBoard:(t,n,r)=>e(zl(t,n,r))})))(Ul);var Zl=n(91040),Gl=n(26954);const Kl=(0,Se.qC)((0,c.$j)((()=>(0,E.P1)((0,Zl.ft)(),(e=>({elementPermissions:e})))),(e=>({dispatchNavigateToBoard:(t,n,r)=>e((0,X.Db)({boardId:t,keepSelection:n,resetScroll:!0,newTab:r})),dispatchInitializeBoard:(t,n,r,o,i)=>e((0,Gl.Xc)({id:t,title:n,currentColor:r,currentSecondaryColor:o,transactionId:i})),dispatchUpdateTitle:(t,n,r)=>e((0,Qr.yj)({id:t,changes:{title:n},transactionId:r}))}))),(0,Se.CA)({dispatchNavigateToBoard:e=>e.navigateToAlias||e.dispatchNavigateToBoard})),Wl=s.memo((function(e){const{isEditing:t,element:n,startEditing:r,dispatchUpdateTitle:o,dispatchInitializeBoard:i,forceMeasure:a,elementEvents:l,dispatchNavigateToBoard:c,documentMode:d}=e,u=(0,s.useRef)(),m=(0,D.nRF)(n),p=(0,s.useCallback)((e=>{e.stopPropagation(),t||r({id:m})}),[t,r,m]),h=(0,s.useCallback)((({title:e,transactionId:t})=>{const r=(0,D.q7_)(n);a&&a();const s=(0,D.YQ0)(n),l=(0,D.Lq4)(n),c=(0,D.pww)(n);if(!r&&((e,t)=>e===Fi.q2&&t!==Fi.q2)(s,e))return i(m,e,l,c,t);e!==s&&o(m,e,t)}),[n,o,i,a]),g=(0,s.useCallback)((e=>c(m,!1,(0,$.lk)(e))),[c,m]),f=(0,s.useMemo)((()=>Object.assign({},l,{onDoubleClick(e){g(e),l.onDoubleClick(e)},onClick:e=>d?(e&&e.stopPropagation(),c(m)):l.onClick(e)})),[l,c,d,m]);return s.createElement(Hl,Object.assign({},e,{ref:u}),s.createElement(Ml.Z,Object.assign({},e,{elementId:m,elementEvents:f,navigateToBoard:g,onHeadingClick:p,onTitleEditDone:h})))}));Wl.propTypes={element:l().object.isRequired,isEditing:l().bool,documentMode:l().bool,dispatchUpdateTitle:l().func,dispatchInitializeBoard:l().func,dispatchNavigateToBoard:l().func,navigateToAlias:l().func,startEditing:l().func,isHovered:l().bool,elementEvents:l().object,isAlias:l().bool,setParentHoveredChildAcceptsDrop:l().func,forceMeasure:l().func};const Vl=Kl(Wl),$l=()=>((e={})=>(0,b.QS)(Object.assign({elementType:Fi.V_,objectConstructorFn:xl,displayName:Fi.RJ},e)))({containerComponent:Vl,presentationalComponent:Ml.Z,tools:[Ks.Tk.COLOR,Ks.Tk.ICON],selectedTools:[Ws.z.COLOR,Ws.z.ICON,...Ws.l.MULTI_SELECT_ARRANGEMENT],tooltip:Mt.mL?"⌃⌘B":"Ctrl+Alt+B"});var ql=n(94081);const Yl=e=>{const{content:t}=e;return Object.assign({},I(e),{elementType:ql.nr,content:Object.assign({image:null},t)})};var Xl=n(53632),Ql=n.n(Xl),Jl=n(54114),ec=n(13612),tc=n(27097),nc=n(95803);function rc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oc=s.createElement(N.Z,{name:"error-alert"}),ic=s.createElement("br",null);class sc extends s.Component{constructor(...e){super(...e),rc(this,"clearError",(()=>{const{elementId:e,dispatchClearError:t}=this.props;t(e)}))}render(){const{error:e,type:t}=this.props;return s.createElement("div",{className:"FileUploaderErrorContent"},oc,s.createElement("span",{className:"details"},(0,O.vg)("message",e)||`Unable to upload ${t}`,ic,(0,O.vg)("explanation",e)||"Sorry, something went wrong"),s.createElement(tc.Z,{className:"cta",onClickFn:this.clearError},"Try another ",t))}}sc.propTypes={error:l().object,dispatchClearError:l().func,elementId:l().string,type:l().string.isRequired};const ac=(0,c.$j)(null,(e=>({dispatchClearError:t=>e((0,nc.A0)({id:t}))})))(sc);var lc=n(21007);function cc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class dc extends s.Component{constructor(e){super(e),cc(this,"openFileSelect",(e=>{this.fileInputRef.current&&this.fileInputRef.current.click()})),this.fileInputRef=s.createRef()}render(){const{uploadFile:e,elementId:t,type:n,message:r,hint:o,accept:i,isPresentational:a}=this.props;return s.createElement("div",{className:"uploader-content"},s.createElement("div",{className:"click-area",onClick:a?null:this.openFileSelect},s.createElement(lc.Z,{ref:this.fileInputRef,id:t,uploadFile:e,accept:i,multiple:!0}),s.createElement("div",{className:`${n}-icon-container`},s.createElement(N.Z,{name:`${n}-form-upload`})),r&&s.createElement("span",{className:"cta"},r)),o&&s.createElement("p",{className:"hint"},o))}}dc.propTypes={elementId:l().string,uploadFile:l().func,type:l().string,message:l().string,hint:l().oneOfType([l().string,l().node]),accept:l().string,isPresentational:l().bool};const uc=dc;class mc extends s.Component{render(){const{element:e,className:t,fileIsHovered:n,fileCanDrop:r,connectFileDropTarget:o,attachment:i}=this.props,a=(0,ec.by)(i),l=a?s.createElement(ac,Object.assign({elementId:(0,D.nRF)(e),error:a},this.props)):s.createElement(uc,Object.assign({elementId:(0,D.nRF)(e)},this.props)),c=f()("FileUploader drag-handle",t,{hovered:n&&r}),d=s.createElement("div",{className:c},l);return o?o(d):d}}mc.propTypes={element:l().object.isRequired,className:l().string,attachment:l().object,uploadFile:l().func,fileIsHovered:l().bool,fileCanDrop:l().bool,connectFileDropTarget:l().func};const pc=(0,Se.cr)(mc),hc=e=>{const{element:t,gridSize:n,tempMediaSize:r,inList:o,isResizing:i}=e,s=(0,D.omV)(t)||ql.i3,a=(0,w.Gn)(e),l=(0,w.tw)(o);return(0,Jl.ZP)({savedSize:s,widthPx:a,forcedSize:r,roundSaved:!1,cropToGrid:!i,cropInset:l,gridSize:n})};class gc extends s.Component{render(){const{registerMediaElement:e,fileIsHovered:t,fileCanDrop:n}=this.props,r=t&&n,o=e||_i(),i=f()("ImageUploader",{hovered:r});return o(s.createElement("div",{className:i,style:hc(this.props)},s.createElement(pc,Object.assign({},this.props,{type:"image",accept:"*"}))))}}gc.propTypes={registerMediaElement:l().func,fileIsHovered:l().bool,fileCanDrop:l().bool};const fc=gc;var Ec=n(49364),vc=n(33740),bc=n(30845);const yc=e=>(0,D.Cch)(e)||(0,D.ywY)(e),Ic=(0,O.P2)(["content","imageEditorData"]),Cc=(0,O.P2)(["content","imageEditorData","rotate"]),Sc=(0,O.vg)("width"),Tc=(0,O.vg)("height"),wc=({element:e,gridSize:t,attachment:n})=>(0,D.OY1)(e)?(0,D.OY1)(e)*t:Sc((0,ec.Yu)(n)||(0,D.ywY)(e)),Oc=({element:e,gridSize:t,attachment:n})=>(0,D.m_A)(e)?(0,D.m_A)(e)*t:Tc((0,ec.Yu)(n)||(0,D.ywY)(e)),_c=({element:e,gridSize:t,attachment:n})=>(0,$a.dz)(yc(e))||wc({element:e,gridSize:t,attachment:n}),Rc=({element:e,gridSize:t,attachment:n})=>(0,$a.Cr)(yc(e))||Oc({element:e,gridSize:t,attachment:n}),Ac=(0,O.vg)("original"),Dc=(0,O.vg)("large"),Nc=(0,O.vg)("regular"),xc=e=>(Ac(e)?"original":Dc(e)&&"large")||Nc(e)&&"regular",Mc=(0,bc.default)(((e,t)=>{const n=Ic(e),r=t||(0,D.omV)(e);if(!n&&!r)return null;const o=(e=>{const t=Ic(e),n=(0,D.Cch)(e)||(0,D.ywY)(e);if(!t)return(0,$a.rI)({x:0,y:0,width:(0,$a.dz)(n),height:(0,$a.Cr)(n)});const r=(0,D._Ap)(e),o=(0,$a.dz)(r),i=Cc(e),s=!!i&&-180!==i,a=(0,D.Cch)(e),l=s?(0,$a.Cr)(a):(0,$a.dz)(a),c=o?o/l:1,d=c*(0,$a.nZ)(t),u=c*(0,$a.Ff)(t),m=c*(0,$a.dz)(t),p=c*(0,$a.Cr)(t);return(0,$a.rI)({x:d,y:u,width:m,height:p})})(e);return((e,t)=>{if(!t)return e;const n=(0,$a.dz)(t)/(0,$a.Cr)(t),r=(0,$a.dz)(e),o=(0,$a.Cr)(e),i=r/o;if(n===i)return null;if(n<i){const t=o*n;return{x:(r-t)/2+(0,$a.nZ)(e),y:(0,$a.Ff)(e),width:t,height:o}}const s=r/n;return{x:(0,$a.nZ)(e),y:(o-s)/2+(0,$a.Ff)(e),width:r,height:s}})(o,r)})),Pc=/viewBox=".+?"/,Lc=s.forwardRef((function(e,t){const{children:n,element:r,onDoubleClick:o,viewBox:i}=e,a=((e,t)=>{const n=(0,D.DPh)(e);return t&&n?n.includes(t)?n.replace(Pc,`viewBox="${t}"`):n.replace("<svg ",`<svg viewBox="${t}"`):n})(r,i);return s.createElement("div",{className:"DrawingSvg",ref:t,onDoubleClick:o},s.createElement("div",{className:"svg-content",dangerouslySetInnerHTML:(0,vc.MP)(a)}),n)}));Lc.propTypes={children:l().oneOfType([l().arrayOf(l().node),l().node]),element:l().object,viewBox:l().string,onDoubleClick:l().func};const kc=e=>{const{disableDrag:t,enableDrag:n}=e,r=s.useRef();return s.useEffect((()=>(t&&t(),()=>{n&&n()})),[]),s.createElement(Lc,Object.assign({ref:r},e))};kc.propTypes={enableDrag:l().func,disableDrag:l().func};const Fc=e=>{const{isPresentational:t,isDragPreview:n,isSelected:r,isRemotelySelected:o,enableDrag:i,element:a}=e;return!(0,D.CYk)(a)||r||o||t||n||!i?s.createElement(Lc,e):s.createElement(kc,e)};Fc.propTypes={element:l().object,isSelected:l().bool,isRemotelySelected:l().bool,isPresentational:l().bool,isDragPreview:l().bool,enableDrag:l().func};const Bc=Fc,jc=e=>{const{element:t,tempMediaSize:n}=e;if(!(0,D.Yo_)(t))return null;const r=Mc(t,n),o=(0,vc.l1)(r);return s.createElement("div",{className:"ImageDrawing"},s.createElement(Lc,Object.assign({},e,{viewBox:o})))};jc.propTypes={element:l().object,tempMediaSize:l().object};const zc=jc;var Uc=n(58339),Hc=n(44339),Zc=s.createElement("div",{className:"overlay-icon"},s.createElement(N.Z,{name:"image-hover-replace"}));const Gc=({fileType:e})=>s.createElement("div",{className:"ImageReplacementOverlay"},Zc,s.createElement("div",{className:"overlay-text"},e===Hc.m.VIDEO?"Replace preview":"Replace image"));Gc.propTypes={fileType:l().string};const Kc=Gc;var Wc=n(81248);function Vc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $c=s.createElement(Kc,null);class qc extends s.Component{constructor(...e){super(...e),Vc(this,"openFullSizeImage",(e=>{e.preventDefault();const{element:t,dispatchNavigateToImage:n}=this.props;n((0,D.nRF)(t))}))}componentDidUpdate(e){const{isEditing:t,isSingleSelected:n,isElementOpenInModal:r}=this.props;this.imageRenderer&&(!n||t||r||this.imageRenderer.focus())}render(){const{element:e,inList:t,isHovered:n,handleKey:r,gridSize:o,renderHighQualityImages:i,tempMediaSize:a,registerMediaElement:l,connectFileDropTarget:c,isResizing:d,isTransparent:u,canDrop:m,isPresentationModeEnabled:p}=this.props,h=(0,w.Gn)(this.props),g=i?ql.Af:h,E=(0,w.Gn)(Object.assign({},this.props,{tempSize:null})),v=(0,Ec.x)({savedSize:(0,D.ywY)(e),renderedWidth:h})/o>5,b=l||_i(),y=c||_i(),I=!((0,D.QI4)(e)||d||u),C=(0,w.tw)(t);return b(y(s.createElement("div",{className:f()("ImageRenderer focusable",{canDrop:n}),ref:e=>{this.imageRenderer=e},tabIndex:"-1",onKeyDown:r,onDoubleClick:p?null:this.openFullSizeImage},m&&n&&$c,s.createElement(Uc.Z,{useSecureMediaUrl:!0,showBrokenIconOnError:!0,element:e,cropToGrid:I,cropInset:C,gridSize:o,imageType:Wc.v.ELEMENT,widthPx:h,imageQualityWidthPxOverride:g,savedWidthPx:E,forcedSize:a},v&&s.createElement(wi,this.props),s.createElement(zc,this.props)))))}}qc.propTypes={gridSize:l().number,element:l().object.isRequired,isHovered:l().bool,tempMediaSize:l().object,size:l().number,inList:l().string,isSelected:l().bool,isSingleSelected:l().bool,isEditing:l().bool,isElementOpenInModal:l().bool,isResizing:l().bool,isTransparent:l().bool,canDrop:l().bool,handleKey:l().func,startEditing:l().func,stopEditing:l().func,saveContent:l().func,textContent:l().string,showCaption:l().func,onEmptyBackspace:l().func,renderHighQualityImages:l().bool,tempSize:l().object,registerMediaElement:l().func,connectFileDropTarget:l().func,dispatchNavigateToImage:l().func,deselectAll:l().func,isPresentationModeEnabled:l().bool};const Yc=qc;var Xc=n(4588),Qc=n.n(Xc),Jc=n(76262),ed=n.n(Jc),td=n(42166),nd=n(23493),rd=n.n(nd),od=n(90733);function id(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const sd=(0,$e.zO)("isHovered"),ad=(0,$e.zO)("canDrop"),ld=(0,$e.FB)("isHovered"),cd=e=>{class t extends s.Component{constructor(...e){super(...e),id(this,"onDragOver",(e=>{e.clientX===this.prevClientX&&e.clientY===this.prevClientY||(this.prevClientX=e.clientX,this.prevClientY=e.clientY,this.debouncedEnableDropTarget())})),id(this,"throttledOnDragOver",rd()(this.onDragOver,20)),id(this,"enableDropTarget",(()=>{const{setParentHoveredChildAcceptsDrop:e}=this.props;this.props.setAllowDrop(!0),e&&e(this.props.canDrop),this.throttledOnDragOver.cancel(),document.removeEventListener("dragover",this.throttledOnDragOver)})),id(this,"debouncedEnableDropTarget",ot()(this.enableDropTarget,500)),id(this,"disableDropTarget",(()=>{const{setParentHoveredChildAcceptsDrop:e}=this.props;this.throttledOnDragOver.cancel(),document.removeEventListener("dragover",this.throttledOnDragOver),this.debouncedEnableDropTarget.cancel(),this.props.setAllowDrop(!1),e&&e(!1),this.forcedHoverEffect&&(this.forcedHoverEffect=!1,this.props.dispatchClearHoverEffect())}))}componentWillReceiveProps(e){if(ld(this.props,e)&&this.disableDropTarget(),sd(this.props,e)){if((0,D.cOT)(this.props.element))return;if(!(0,od.xZ)(e)){const{setParentHoveredChildAcceptsDrop:t,canDrop:n}=e;return void(t&&t(n))}this.debouncedEnableDropTarget(),document.addEventListener("dragover",this.throttledOnDragOver)}(0,od.xZ)(e)&&ad(this.props,e)&&(this.forcedHoverEffect=!0,this.props.dispatchForceHoverEffect(to.vc.IMAGE))}componentWillUnmount(){this.disableDropTarget()}render(){return s.createElement(e,this.props)}}return t.propTypes={element:l().object,placeholder:l().object,setAllowDrop:l().func,canDrop:l().bool,dispatchForceHoverEffect:l().func,dispatchClearHoverEffect:l().func,setParentHoveredChildAcceptsDrop:l().func},t},dd=e=>{class t extends s.Component{render(){const t=(0,od.xZ)(this.props)?null:{allowDrop:!0};return s.createElement(e,Object.assign({},this.props,t))}}return t.propTypes={element:l().object,attachment:l().object},t};var ud=n(86937);const md={acceptDropTypes:[td.FILE],drop:(e,t,n)=>{const{elementId:r,element:o,currentBoardId:i,dispatchUpdateElement:s,dispatchAtomicMoveAndUpdate:a,dispatchMoveElementsToTrash:l,dispatchSwitchConnectedElementParents:c,dispatchAcceptElementAttachmentUndo:d}=e;if(t.getItemType()===td.FILE){const o=(0,po.k)();return d({id:r,transactionId:o}),(0,ud.g)(Object.assign({},e,{transactionId:o}),t,n)}const u=t.getItem().element,m=(0,D.nRF)(u);if(m===fr.eW){const e=(0,O.su)((0,D.L5g)(u)),t=ed()(["media","width"],e);return t.showCaption=(0,D.A7z)(o)||!1,s({id:r,changes:t,sync:!0}),{handledBy:ms.findDOMNode(n)}}const p=(0,O.su)((0,D.qEr)(o)),h=(0,O.su)((0,D.L5g)(o)),g=Qc()(["media","width"],h);g.showCaption=(0,D.A7z)(o)||!1,g.caption=(({droppedElement:e,element:t})=>{const n=(0,O.su)((0,D.KTp)(t)),r=(0,O.su)((0,D.KTp)(e)),o=(0,Xs.Z)(r);return(0,D.A7z)(e)&&o?r:n})({droppedElement:u,element:o});const f=(0,po.k)();return a({id:m,location:p,changes:g,transactionId:f}),c({initialConnectedId:r,newConnectedId:m,transactionId:f}),Ne()((()=>l({elementId:r,currentBoardId:i,transactionId:f}))),{handledBy:ms.findDOMNode(n)}},canDrop:(e,t)=>{const{allowDrop:n}=e;if(!n)return!1;if(t.getItemType()===td.FILE)return!0;const r=t.getItem();if(!r.element||1!==r.draggedElements.length)return!1;const{attachment:o,element:i}=r;if(!(0,Di.Or)(i))return!1;const s=(0,D.ywY)(i),a=(0,ec.Yu)(o);return(0,O.OE)(s)>0||(0,O.OE)(a)>0}},pd=(e,t)=>({connectFileDropTarget:e.dropTarget(),isHovered:t.isOver(),canDrop:t.canDrop()}),hd=(e={})=>{const{onDropHandler:t}=e;let n=Object.assign({},md);return t&&(n=Object.assign({},n,{drop:t})),(0,Se.qC)((0,Se.xJ)("allowDrop","setAllowDrop",!1),dd,(0,Pi.Z)(n,to.vc.IMAGE,pd),cd)};var gd;let fd=(0,Se.WY)((({allowHoverReplaceImage:e})=>e),hd(),us())(gd=class extends s.Component{render(){const{currentBoardId:e,elementId:t,element:n,gridSize:r,inList:o,tempSize:i,elementEvents:a,isEditable:l,isLocked:c,attachment:d,isSelected:u,permissions:m,isPresentational:p,setParentHoveredChildAcceptsDrop:h,getContextZoomScale:g,getContextZoomTranslationPx:f}=this.props,E=(0,ec.Yu)(d),v=(0,D.ywY)(n)||E,b=(0,O.OE)(v)>0;if((0,D.Dxk)(n)&&!b)return null;const y=(0,D.Lq4)(n),I=(0,D.KTp)(n),C=(0,D.A7z)(n)&&!(0,w.Nn)(this.props),S=(0,D.dzi)(n);let T=(0,od.aw)({element:n,attachmentData:E});if(b&&!T)return null;T=(0,D.cwh)(n)?to.cv*r:(0,ns.RK)(T,r);const _=i&&i.width||S||Ql()([(0,ns.Rk)(T,r),to.cv]),R=!(0,D.Cmh)(n)&&(0,O.vg)("transparent",v),A=(0,w.UX)("Image drag-handle",Object.assign({},this.props,{transparent:R}),{"small-width":_<15,"caption-visible":C,"minimum-width":_<ql.jq}),N=b?s.createElement(Yc,Object.assign({},this.props,{isTransparent:R})):s.createElement(fc,this.props);return s.createElement("div",Object.assign({id:(0,w.Oc)((0,D.nRF)(n)),className:A,style:(0,ns.bS)(_,r,o)},a),s.createElement(_e,{colorName:y,isSelected:u}),s.createElement(ei.Z,{show:(0,os.Z)(this.props),elementId:t,element:n,currentBoardId:e,gridSize:r,getContextZoomScale:g,getContextZoomTranslationPx:f}),s.createElement(Ko,this.props),s.createElement(Jo,this.props),s.createElement(Ae.Z,this.props),N,s.createElement(Re.Z,Object.assign({},this.props,{padTop:!0,placeholder:"Add a caption",textContent:I,captionVisible:C})),s.createElement(Wi,{setParentHoveredChildAcceptsDrop:h,isRelative:!0,gridSize:r,isPresentational:p,element:n,elementId:t,getContextZoomScale:g}),s.createElement(ts,{elementId:t,element:n,gridSize:r,isPresentational:p,currentBoardId:e,permissions:m}),s.createElement(Ue,Object.assign({},this.props,{showHandle:!c&&l&&!o})))}})||gd;fd.propTypes={currentBoardId:l().string,elementId:l().string,element:l().object.isRequired,attachment:l().object,gridSize:l().number,isSelected:l().bool,isSingleSelected:l().bool,isEditing:l().bool,canDrop:l().bool,inList:l().string,uploadFile:l().func,isHovered:l().bool,tempSize:l().object,className:l().string,documentMode:l().bool,elementEvents:l().object,isEditable:l().bool,isLocked:l().bool,filterQuery:l().string,filterState:l().string,permissions:l().number,isPresentational:l().bool,setParentHoveredChildAcceptsDrop:l().func,getContextZoomScale:l().func,getContextZoomTranslationPx:l().func};const Ed=fd;var vd=n(94885),bd=n.n(vd),yd=n(83601),Id=n(77522),Cd=n.n(Id);function Sd(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Td=({getMinWidth:e,getIsEnabled:t=Cd(),getDefaultMaxWidth:n})=>r=>{class o extends s.Component{constructor(...t){super(...t),Sd(this,"setElementSize",(t=>{const{setElementSize:n,element:r,dispatchUpdateElement:o}=this.props;o({id:(0,D.nRF)(r),changes:{width:Math.max(Math.round(t.width),e(this.props))}}),n(t)})),Sd(this,"handleDoubleClick",(e=>{const{gridSize:t,element:r}=this.props;if(!n)return;e.preventDefault(),e.stopPropagation();const o=(0,D.dzi)(r)||to.cv,i=n(this.props),s=o===to.cv?i/t:to.cv;return this.setElementSize({width:s})}))}render(){let e=null;return t(this.props)&&(e={setElementSize:this.setElementSize,handleDoubleClick:this.handleDoubleClick}),s.createElement(r,Object.assign({},this.props,e))}}return o.propTypes={element:l().object,gridSize:l().number,dispatchUpdateElement:l().func,setElementSize:l().func},o};var wd=n(59854),Od=n.n(wd),_d=n(7108),Rd=n.n(_d);function Ad(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Dd=(0,$e.aU)("element"),Nd=()=>to.cv,xd=e=>({getCurrentMeasurements:t=>e(((e,n)=>{const r=n();return(0,Me.gd)(r).get(t)}))}),Md=({getMinHeight:e,getMinWidth:t,getDefaultWidth:n=Nd,getDefaultMaxWidth:r,getIsEnabled:o})=>i=>{var a;let c=(0,xe.Z)(null,xd)(a=class extends s.Component{constructor(o){super(o),Ad(this,"getMediaSize",(n=>{const{gridSize:r}=this.props,o=(0,mr.bA)(r,n),i=o.width,s=o.height-this.staticHeight,a=r*e(this.props),l=r*t(this.props);return{width:Math.max(l,i),height:Math.max(a,s)}})),Ad(this,"setTempElementSize",(e=>{const{setTempElementSize:t}=this.props;Rd()(this.staticHeight)&&this.findStaticHeight(),e&&this.setState({tempMediaSize:this.getMediaSize(e)}),t(e)})),Ad(this,"setElementSize",(e=>{Rd()(this.staticHeight)&&this.findStaticHeight();const t=this.getMediaSize(e);this.updateSize(e,t)})),Ad(this,"setMediaSize",(e=>{Rd()(this.staticHeight)&&this.findStaticHeight();const{gridSize:t}=this.props,n=this.staticHeight/t,r={width:e.width/t,height:e.height/t+n};this.updateSize(r,e)})),Ad(this,"updateSize",((n,r)=>{const{setElementSize:o,dispatchUpdateElement:i,element:s,gridSize:a}=this.props;this.staticHeight=null,this.setState({tempMediaSize:null});let l=(0,D.omV)(s);l=l&&l.toJS();const c=Math.max(Math.round(n.width),t(this.props));let d=Math.max(r.width,t(this.props)),u=Math.max(r.height,e(this.props));const m=c/d*u;u=Math.round(m)*a-2,d=Math.round(d/a)*a-2,i({id:(0,D.nRF)(s),changes:{width:c,media:Object.assign({},l,{width:d,height:u})}}),o(n)})),Ad(this,"findStaticHeight",(()=>{const{element:e}=this.props,t=this.mediaElement.getBoundingClientRect(),n=(0,A.MS)((0,D.nRF)(e));return this.staticHeight=(0,O.vg)("height",n)-t.height,this.staticHeight})),Ad(this,"handleDoubleClick",(e=>{const{gridSize:t,element:o}=this.props;if(!r)return;e.preventDefault(),e.stopPropagation();const i=n(),s=(0,D.OY1)(o)||i,a=(0,D.m_A)(o)||i,l=((0,D.un1)(o)||s)/((0,D.JT3)(o)||a),c=s/a,d={};if(Od()(c,1)===Od()(l,1)){const e=(0,D.dzi)(o)||i,n=r(this.props);d.width=e===i?n/t:i}else d.width=s/t;const u=this.findStaticHeight()/t;return d.height=d.width/l+u,this.setElementSize(d)})),Ad(this,"mediaElementRef",(e=>{this.mediaElement=e})),Ad(this,"registerMediaElement",(e=>s.cloneElement(e,{ref:this.mediaElementRef}))),this.staticHeight=null,this.state={tempMediaSize:null}}componentWillReceiveProps(e){Dd(this.props,e)&&(this.staticHeight=null)}render(){let e=null;return o(this.props)&&(e={tempMediaSize:this.state.tempMediaSize,setElementSize:this.setElementSize,setTempElementSize:this.setTempElementSize,setMediaSize:this.setMediaSize,registerMediaElement:this.registerMediaElement,handleDoubleClick:this.handleDoubleClick}),s.createElement(i,Object.assign({},this.props,e))}})||a;return c.propTypes={element:l().object.isRequired,setElementSize:l().func.isRequired,setTempElementSize:l().func.isRequired,getCurrentMeasurements:l().func,dispatchUpdateElement:l().func,gridSize:l().number},c};function Pd(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ld=e=>new Promise(((t,n)=>{if((0,Gs.cE)())return void n("Fetching image data not supported by iPad app");const r=new Image;e.startsWith(window.location.origin)||(r.crossOrigin="Anonymous"),r.onload=()=>{const e=document.createElement("canvas");e.width=r.width,e.height=r.height;const n=e.getContext("2d");n.drawImage(r,0,0);const o=n.getImageData(0,0,r.width,r.height);t(o)},r.onerror=e=>n(e),r.src=e})),kd=(e,t,n)=>{const r=e,o=[];for(let i,s,a,l,c,d=0;d<t;d+=n)i=4*d,s=r[i+0],a=r[i+1],l=r[i+2],c=r[i+3],(void 0===c||c>=125)&&o.push([s,a,l]);return o};var Fd=n(65068),Bd=n.n(Fd),jd=n(15919),zd=n.n(jd),Ud=n(66415);const Hd=n.n(Ud)()((e=>e.length)),Zd=([e])=>e,Gd=([e,t])=>t,Kd=([e,t,n])=>n,Wd=e=>{const t=zd()(e.map(Zd)),n=zd()(e.map(Gd)),r=zd()(e.map(Kd));return[Math.round(t/e.length),Math.round(n/e.length),Math.round(r/e.length)]},Vd=e=>{const t={};e.forEach((e=>{const n=(([e,t,n],r)=>{const o=256/r;return`${Math.floor(e/o)}:${Math.floor(t/o)}:${Math.floor(n/o)}`})(e,5);t[n]?t[n].push(e):t[n]=[e]}));const n=Object.values(t),r=Hd(n).reverse();return Bd()(10,r.map(Wd))},$d=async e=>{try{const t=await Ld(e),n=t.width*t.height,r=kd(new Uint8Array(t.data),n,20),o=Vd(r);return o.map(rs.vq)}catch(t){return console.error(t),[]}};var qd=n(41962);const Yd=(0,E.zB)({renderSecureImagesThroughProxy:(0,Xa.D)(yl.Iu.renderSecureImagesThroughProxy),renderSecureImagesThroughCF:(0,Xa.D)(yl.Iu.renderSecureImagesThroughCF,!0)}),Xd=({element:e,renderSecureImagesThroughProxy:t,renderSecureImagesThroughCF:n,dispatchUpdateElementImageColors:r})=>{const o=(0,D.nRF)(e),i=(0,D.ywY)(e),a=(0,D.qpH)(e),l=(0,qd.MC)({imageDetails:i,imageSize:"regular",elementId:o,useSecureMediaUrl:!0,renderSecureImagesThroughProxy:t,renderSecureImagesThroughCF:n});return(0,s.useEffect)((()=>{l&&!a&&(async()=>{var t;const n=await $d(l),i=null===(t=(0,D.ywY)(e))||void 0===t?void 0:t.toJS();i&&(i.colors=n,r(o,i))})()}),[o,a,l]),null};Xd.propTypes={element:l().object,renderSecureImagesThroughProxy:l().bool,renderSecureImagesThroughCF:l().bool,dispatchUpdateElementImageColors:l().func};const Qd=(0,c.$j)(Yd,(e=>({dispatchUpdateElementImageColors:(t,n)=>e((0,Qr.yj)({id:t,changes:{image:n},transactionId:-1,silent:!0}))})))(Xd);var Jd,eu,tu,nu,ru,ou,iu;function su(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const au=(0,E.zB)({gridSize:L.FP}),lu=({element:e,allowAnyAspectRatio:t,attachment:n})=>!t&&((0,D.ywY)(e)||(0,ec.Yu)(n));let cu=(Jd=(0,c.$j)(au,(e=>({dispatchUploadImage:t=>e((0,nc.pD)(t)),dispatchAcceptElementAttachmentUndo:t=>e((0,nc.o1)(t)),dispatchNavigateToImage:t=>e((0,X.nI)({elementId:t})),dispatchSwitchConnectedElementParents:t=>e((0,yd.eF)(t))}))),eu=(0,Mi.Z)(["dragModifierKeys","canDrop"]),tu=(0,Se.xJ)("allowAnyAspectRatio","setAllowAnyAspectRatio",!1),nu=ws({getMinWidth:cs()(ql.fi),getMinHeight:cs()(ql.fi),enableHeight:!0}),ru=Td({getIsEnabled:lu,getMinWidth:cs()(ql.fi),getDefaultMaxWidth:od.M5}),ou=Md({getIsEnabled:bd()(lu),getMinHeight:cs()(ql.fi),getMinWidth:cs()(ql.fi),getDefaultMaxWidth:od.M5}),Jd(iu=(0,fs.Z)(iu=eu(iu=Cs(iu=tu(iu=nu(iu=ru(iu=ou(iu=(e=>{class t extends s.Component{constructor(...e){super(...e),Pd(this,"handleDoubleClick",(e=>{const{element:t,dispatchUpdateElement:n,setElementSize:r,attachment:o,gridSize:i}=this.props;e.preventDefault(),e.stopPropagation();const s=(0,D.ywY)(t),a=(0,ec.Yu)(o);if(!(s||a))return;if((0,D.OY1)(t)&&(0,D.m_A)(t))return n({id:(0,D.nRF)(t),changes:{media:null}});const l=(0,D.dzi)(t)||to.cv;let c=to.cv;const d=(0,od.M5)({element:t,attachmentData:a}),u=c/(0,od.qH)({element:t,attachmentData:a});return l===to.cv&&(c=d/i),r({width:c,height:u})}))}render(){return s.createElement(e,Object.assign({},this.props,{handleDoubleClick:this.handleDoubleClick}))}}return t.propTypes={element:l().object.isRequired,dispatchUpdateElement:l().func,setElementSize:l().func,attachment:l().object,gridSize:l().number},t})(iu=class extends s.Component{constructor(...e){super(...e),su(this,"setElementSize",(e=>{const{setElementSize:t}=this.props;return(0,bs.Y)("resized-image"),t(e)})),su(this,"handleKey",(e=>{this.props.isSelected&&this.props.captionKeyHandler(e,this.props)})),su(this,"uploadImage",((e,t)=>{const{dispatchUploadImage:n,element:r}=this.props;return n({id:(0,D.nRF)(r),file:e,transactionId:t})}))}render(){const{connectLineEdgeDropTarget:e,canConnectLineEdge:t,boardSection:n}=this.props,r=e&&t?e:us(),o=!(0,od.xZ)(this.props)||n!==Fi.WI.INBOX&&n!==Fi.W8.QUICK_NOTES;return r(s.createElement("div",null,s.createElement(Qd,{element:this.props.element}),s.createElement(Ed,Object.assign({},this.props,{allowHoverReplaceImage:o,uploadFile:this.uploadImage,handleKey:this.handleKey,setElementSize:this.setElementSize}))))}})||iu)||iu)||iu)||iu)||iu)||iu)||iu)||iu)||iu);cu.propTypes={element:l().object.isRequired,attachment:l().object,connectDropTarget:l().func,connectLineEdgeDropTarget:l().func,isSelected:l().bool,captionKeyHandler:l().func,dispatchCleanElementAttachment:l().func,dispatchUpdateElement:l().func.isRequired,dispatchUploadImage:l().func,inList:l().string,setElementSize:l().func,boardSection:l().string,canConnectLineEdge:l().bool};const du=cu;var uu=n(42583),mu=n.n(uu),pu=n(50021),hu=n(90624),gu=n(86139),fu=n(91808),Eu=n(49508),vu=n(83903);const bu=e=>{return t=(0,D.ywY)(e),Ac(t)||Dc(t)||Nc(t);var t},yu=e=>e===cl.L.OCTET_STREAM||"binary/octet-stream"===e,Iu=({imagesToPreload:e,updateMultipleElementFileMetadata:t})=>((0,s.useEffect)((()=>{(async e=>{const n=e.filter((e=>!(0,D.Nzy)(e)||yu((0,D.K8)(e)))),r=n.map(bu),o=await Promise.all(r.map(vu.Z)),i=n.map(((e,t)=>{const n=o[t];return yu(null==n?void 0:n.mime)&&(n.mime=cl.L.JPEG),{id:(0,D.nRF)(e),changes:{file:n}}})).filter((({changes:{file:{error:e}}})=>!e));i.length&&t(i)})(e.toArray())}),[e]),null);Iu.propTypes={imagesToPreload:l().object,updateMultipleElementFileMetadata:l().func};const Cu=(0,c.$j)(null,(e=>({updateMultipleElementFileMetadata:t=>e((0,Qr.Az)({updates:t,transactionId:-1,silent:!0}))})))(Iu);var Su=n(20477),Tu=n.n(Su);var wu=n(90693);const Ou=new function(){return Tu()('(()=>{var t={5350:t=>{t.exports={APPLICATION_MODE:{development:"development",test:"test",production:"production"},DEBUG_LEVEL:{OFF:0,ERROR:0,WARN:100,INFO:200,FINE:300,FINER:400,FINEST:500},ENV:{PRODUCTION:"production",DEVELOPMENT:"development"},SERVER_TYPE:{development:"development",staging:"staging",production:"production",test:"test"},ROLE_TYPE:{worker:"Worker",app:"App",media:"Media",migration:"Migration",notifications:"Notifications",collab:"Collab",search:"Search-index-worker"}}},9161:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var n=r(8306);const i=r.n(n)()((()=>{if("undefined"!=typeof window)return window.__clientconf||{};if(void 0!==r.g)return r.g.__clientconf||{};throw new Error("Could not load client config from window or global")}))},3393:function(t){t.exports=function(){"use strict";var t=Array.prototype.slice;function e(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function r(t){return a(t)?t:Y(t)}function n(t){return s(t)?t:X(t)}function i(t){return u(t)?t:V(t)}function o(t){return a(t)&&!c(t)?t:$(t)}function a(t){return!(!t||!t[f])}function s(t){return!(!t||!t[l])}function u(t){return!(!t||!t[p])}function c(t){return s(t)||u(t)}function h(t){return!(!t||!t[v])}e(n,r),e(i,r),e(o,r),r.isIterable=a,r.isKeyed=s,r.isIndexed=u,r.isAssociative=c,r.isOrdered=h,r.Keyed=n,r.Indexed=i,r.Set=o;var f="@@__IMMUTABLE_ITERABLE__@@",l="@@__IMMUTABLE_KEYED__@@",p="@@__IMMUTABLE_INDEXED__@@",v="@@__IMMUTABLE_ORDERED__@@",d="delete",g=5,_=1<<g,y=_-1,m={},b={value:!1},x={value:!1};function w(t){return t.value=!1,t}function E(t){t&&(t.value=!0)}function O(){}function S(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),i=0;i<r;i++)n[i]=t[i+e];return n}function A(t){return void 0===t.size&&(t.size=t.__iterate(j)),t.size}function I(t,e){if("number"!=typeof e){var r=e>>>0;if(""+r!==e||4294967295===r)return NaN;e=r}return e<0?A(t)+e:e}function j(){return!0}function M(t,e,r){return(0===t||void 0!==r&&t<=-r)&&(void 0===e||void 0!==r&&e>=r)}function D(t,e){return z(t,e,0)}function R(t,e){return z(t,e,e)}function z(t,e,r){return void 0===t?r:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}var k=0,T=1,N=2,L="function"==typeof Symbol&&Symbol.iterator,P="@@iterator",C=L||P;function W(t){this.next=t}function U(t,e,r,n){var i=0===t?e:1===t?r:[e,r];return n?n.value=i:n={value:i,done:!1},n}function q(){return{value:void 0,done:!0}}function B(t){return!!G(t)}function F(t){return t&&"function"==typeof t.next}function K(t){var e=G(t);return e&&e.call(t)}function G(t){var e=t&&(L&&t[L]||t[P]);if("function"==typeof e)return e}function H(t){return t&&"number"==typeof t.length}function Y(t){return null==t?at():a(t)?t.toSeq():ct(t)}function X(t){return null==t?at().toKeyedSeq():a(t)?s(t)?t.toSeq():t.fromEntrySeq():st(t)}function V(t){return null==t?at():a(t)?s(t)?t.entrySeq():t.toIndexedSeq():ut(t)}function $(t){return(null==t?at():a(t)?s(t)?t.entrySeq():t:ut(t)).toSetSeq()}W.prototype.toString=function(){return"[Iterator]"},W.KEYS=k,W.VALUES=T,W.ENTRIES=N,W.prototype.inspect=W.prototype.toSource=function(){return this.toString()},W.prototype[C]=function(){return this},e(Y,r),Y.of=function(){return Y(arguments)},Y.prototype.toSeq=function(){return this},Y.prototype.toString=function(){return this.__toString("Seq {","}")},Y.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},Y.prototype.__iterate=function(t,e){return ft(this,t,e,!0)},Y.prototype.__iterator=function(t,e){return lt(this,t,e,!0)},e(X,Y),X.prototype.toKeyedSeq=function(){return this},e(V,Y),V.of=function(){return V(arguments)},V.prototype.toIndexedSeq=function(){return this},V.prototype.toString=function(){return this.__toString("Seq [","]")},V.prototype.__iterate=function(t,e){return ft(this,t,e,!1)},V.prototype.__iterator=function(t,e){return lt(this,t,e,!1)},e($,Y),$.of=function(){return $(arguments)},$.prototype.toSetSeq=function(){return this},Y.isSeq=ot,Y.Keyed=X,Y.Set=$,Y.Indexed=V;var J,Z,Q,tt="@@__IMMUTABLE_SEQ__@@";function et(t){this._array=t,this.size=t.length}function rt(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function nt(t){this._iterable=t,this.size=t.length||t.size}function it(t){this._iterator=t,this._iteratorCache=[]}function ot(t){return!(!t||!t[tt])}function at(){return J||(J=new et([]))}function st(t){var e=Array.isArray(t)?new et(t).fromEntrySeq():F(t)?new it(t).fromEntrySeq():B(t)?new nt(t).fromEntrySeq():"object"==typeof t?new rt(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function ut(t){var e=ht(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function ct(t){var e=ht(t)||"object"==typeof t&&new rt(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function ht(t){return H(t)?new et(t):F(t)?new it(t):B(t)?new nt(t):void 0}function ft(t,e,r,n){var i=t._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var s=i[r?o-a:a];if(!1===e(s[1],n?s[0]:a,t))return a+1}return a}return t.__iterateUncached(e,r)}function lt(t,e,r,n){var i=t._cache;if(i){var o=i.length-1,a=0;return new W((function(){var t=i[r?o-a:a];return a++>o?q():U(e,n?t[0]:a-1,t[1])}))}return t.__iteratorUncached(e,r)}function pt(t,e){return e?vt(e,t,"",{"":t}):dt(t)}function vt(t,e,r,n){return Array.isArray(e)?t.call(n,r,V(e).map((function(r,n){return vt(t,r,n,e)}))):gt(e)?t.call(n,r,X(e).map((function(r,n){return vt(t,r,n,e)}))):e}function dt(t){return Array.isArray(t)?V(t).map(dt).toList():gt(t)?X(t).map(dt).toMap():t}function gt(t){return t&&(t.constructor===Object||void 0===t.constructor)}function _t(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function yt(t,e){if(t===e)return!0;if(!a(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||s(t)!==s(e)||u(t)!==u(e)||h(t)!==h(e))return!1;if(0===t.size&&0===e.size)return!0;var r=!c(t);if(h(t)){var n=t.entries();return e.every((function(t,e){var i=n.next().value;return i&&_t(i[1],t)&&(r||_t(i[0],e))}))&&n.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var o=t;t=e,e=o}var f=!0,l=e.__iterate((function(e,n){if(r?!t.has(e):i?!_t(e,t.get(n,m)):!_t(t.get(n,m),e))return f=!1,!1}));return f&&t.size===l}function mt(t,e){if(!(this instanceof mt))return new mt(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(Z)return Z;Z=this}}function bt(t,e){if(!t)throw new Error(e)}function xt(t,e,r){if(!(this instanceof xt))return new xt(t,e,r);if(bt(0!==r,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),r=void 0===r?1:Math.abs(r),e<t&&(r=-r),this._start=t,this._end=e,this._step=r,this.size=Math.max(0,Math.ceil((e-t)/r-1)+1),0===this.size){if(Q)return Q;Q=this}}function wt(){throw TypeError("Abstract")}function Et(){}function Ot(){}function St(){}Y.prototype[tt]=!0,e(et,V),et.prototype.get=function(t,e){return this.has(t)?this._array[I(this,t)]:e},et.prototype.__iterate=function(t,e){for(var r=this._array,n=r.length-1,i=0;i<=n;i++)if(!1===t(r[e?n-i:i],i,this))return i+1;return i},et.prototype.__iterator=function(t,e){var r=this._array,n=r.length-1,i=0;return new W((function(){return i>n?q():U(t,i,r[e?n-i++:i++])}))},e(rt,X),rt.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},rt.prototype.has=function(t){return this._object.hasOwnProperty(t)},rt.prototype.__iterate=function(t,e){for(var r=this._object,n=this._keys,i=n.length-1,o=0;o<=i;o++){var a=n[e?i-o:o];if(!1===t(r[a],a,this))return o+1}return o},rt.prototype.__iterator=function(t,e){var r=this._object,n=this._keys,i=n.length-1,o=0;return new W((function(){var a=n[e?i-o:o];return o++>i?q():U(t,a,r[a])}))},rt.prototype[v]=!0,e(nt,V),nt.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var r=K(this._iterable),n=0;if(F(r))for(var i;!(i=r.next()).done&&!1!==t(i.value,n++,this););return n},nt.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=K(this._iterable);if(!F(r))return new W(q);var n=0;return new W((function(){var e=r.next();return e.done?e:U(t,n++,e.value)}))},e(it,V),it.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var r,n=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===t(i[o],o++,this))return o;for(;!(r=n.next()).done;){var a=r.value;if(i[o]=a,!1===t(a,o++,this))break}return o},it.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=this._iterator,n=this._iteratorCache,i=0;return new W((function(){if(i>=n.length){var e=r.next();if(e.done)return e;n[i]=e.value}return U(t,i,n[i++])}))},e(mt,V),mt.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},mt.prototype.get=function(t,e){return this.has(t)?this._value:e},mt.prototype.includes=function(t){return _t(this._value,t)},mt.prototype.slice=function(t,e){var r=this.size;return M(t,e,r)?this:new mt(this._value,R(e,r)-D(t,r))},mt.prototype.reverse=function(){return this},mt.prototype.indexOf=function(t){return _t(this._value,t)?0:-1},mt.prototype.lastIndexOf=function(t){return _t(this._value,t)?this.size:-1},mt.prototype.__iterate=function(t,e){for(var r=0;r<this.size;r++)if(!1===t(this._value,r,this))return r+1;return r},mt.prototype.__iterator=function(t,e){var r=this,n=0;return new W((function(){return n<r.size?U(t,n++,r._value):q()}))},mt.prototype.equals=function(t){return t instanceof mt?_t(this._value,t._value):yt(t)},e(xt,V),xt.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},xt.prototype.get=function(t,e){return this.has(t)?this._start+I(this,t)*this._step:e},xt.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},xt.prototype.slice=function(t,e){return M(t,e,this.size)?this:(t=D(t,this.size),(e=R(e,this.size))<=t?new xt(0,0):new xt(this.get(t,this._end),this.get(e,this._end),this._step))},xt.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var r=e/this._step;if(r>=0&&r<this.size)return r}return-1},xt.prototype.lastIndexOf=function(t){return this.indexOf(t)},xt.prototype.__iterate=function(t,e){for(var r=this.size-1,n=this._step,i=e?this._start+r*n:this._start,o=0;o<=r;o++){if(!1===t(i,o,this))return o+1;i+=e?-n:n}return o},xt.prototype.__iterator=function(t,e){var r=this.size-1,n=this._step,i=e?this._start+r*n:this._start,o=0;return new W((function(){var a=i;return i+=e?-n:n,o>r?q():U(t,o++,a)}))},xt.prototype.equals=function(t){return t instanceof xt?this._start===t._start&&this._end===t._end&&this._step===t._step:yt(this,t)},e(wt,r),e(Et,wt),e(Ot,wt),e(St,wt),wt.Keyed=Et,wt.Indexed=Ot,wt.Set=St;var At="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var r=65535&(t|=0),n=65535&(e|=0);return r*n+((t>>>16)*n+r*(e>>>16)<<16>>>0)|0};function It(t){return t>>>1&1073741824|3221225471&t}function jt(t){if(!1===t||null==t)return 0;if("function"==typeof t.valueOf&&(!1===(t=t.valueOf())||null==t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){if(t!=t||t===1/0)return 0;var r=0|t;for(r!==t&&(r^=4294967295*t);t>4294967295;)r^=t/=4294967295;return It(r)}if("string"===e)return t.length>Wt?Mt(t):Dt(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return Rt(t);if("function"==typeof t.toString)return Dt(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function Mt(t){var e=Bt[t];return void 0===e&&(e=Dt(t),qt===Ut&&(qt=0,Bt={}),qt++,Bt[t]=e),e}function Dt(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return It(e)}function Rt(t){var e;if(Lt&&void 0!==(e=Nt.get(t)))return e;if(void 0!==(e=t[Ct]))return e;if(!kt){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Ct]))return e;if(void 0!==(e=Tt(t)))return e}if(e=++Pt,1073741824&Pt&&(Pt=0),Lt)Nt.set(t,e);else{if(void 0!==zt&&!1===zt(t))throw new Error("Non-extensible objects are not allowed as keys.");if(kt)Object.defineProperty(t,Ct,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Ct]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Ct]=e}}return e}var zt=Object.isExtensible,kt=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();function Tt(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}var Nt,Lt="function"==typeof WeakMap;Lt&&(Nt=new WeakMap);var Pt=0,Ct="__immutablehash__";"function"==typeof Symbol&&(Ct=Symbol(Ct));var Wt=16,Ut=255,qt=0,Bt={};function Ft(t){bt(t!==1/0,"Cannot perform this action with an infinite size.")}function Kt(t){return null==t?ie():Gt(t)&&!h(t)?t:ie().withMutations((function(e){var r=n(t);Ft(r.size),r.forEach((function(t,r){return e.set(r,t)}))}))}function Gt(t){return!(!t||!t[Yt])}e(Kt,Et),Kt.of=function(){var e=t.call(arguments,0);return ie().withMutations((function(t){for(var r=0;r<e.length;r+=2){if(r+1>=e.length)throw new Error("Missing value for key: "+e[r]);t.set(e[r],e[r+1])}}))},Kt.prototype.toString=function(){return this.__toString("Map {","}")},Kt.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},Kt.prototype.set=function(t,e){return oe(this,t,e)},Kt.prototype.setIn=function(t,e){return this.updateIn(t,m,(function(){return e}))},Kt.prototype.remove=function(t){return oe(this,t,m)},Kt.prototype.deleteIn=function(t){return this.updateIn(t,(function(){return m}))},Kt.prototype.update=function(t,e,r){return 1===arguments.length?t(this):this.updateIn([t],e,r)},Kt.prototype.updateIn=function(t,e,r){r||(r=e,e=void 0);var n=ge(this,xr(t),e,r);return n===m?void 0:n},Kt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ie()},Kt.prototype.merge=function(){return le(this,void 0,arguments)},Kt.prototype.mergeWith=function(e){return le(this,e,t.call(arguments,1))},Kt.prototype.mergeIn=function(e){var r=t.call(arguments,1);return this.updateIn(e,ie(),(function(t){return"function"==typeof t.merge?t.merge.apply(t,r):r[r.length-1]}))},Kt.prototype.mergeDeep=function(){return le(this,pe,arguments)},Kt.prototype.mergeDeepWith=function(e){var r=t.call(arguments,1);return le(this,ve(e),r)},Kt.prototype.mergeDeepIn=function(e){var r=t.call(arguments,1);return this.updateIn(e,ie(),(function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,r):r[r.length-1]}))},Kt.prototype.sort=function(t){return Be(hr(this,t))},Kt.prototype.sortBy=function(t,e){return Be(hr(this,e,t))},Kt.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},Kt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new O)},Kt.prototype.asImmutable=function(){return this.__ensureOwner()},Kt.prototype.wasAltered=function(){return this.__altered},Kt.prototype.__iterator=function(t,e){return new te(this,t,e)},Kt.prototype.__iterate=function(t,e){var r=this,n=0;return this._root&&this._root.iterate((function(e){return n++,t(e[1],e[0],r)}),e),n},Kt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?ne(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Kt.isMap=Gt;var Ht,Yt="@@__IMMUTABLE_MAP__@@",Xt=Kt.prototype;function Vt(t,e){this.ownerID=t,this.entries=e}function $t(t,e,r){this.ownerID=t,this.bitmap=e,this.nodes=r}function Jt(t,e,r){this.ownerID=t,this.count=e,this.nodes=r}function Zt(t,e,r){this.ownerID=t,this.keyHash=e,this.entries=r}function Qt(t,e,r){this.ownerID=t,this.keyHash=e,this.entry=r}function te(t,e,r){this._type=e,this._reverse=r,this._stack=t._root&&re(t._root)}function ee(t,e){return U(t,e[0],e[1])}function re(t,e){return{node:t,index:0,__prev:e}}function ne(t,e,r,n){var i=Object.create(Xt);return i.size=t,i._root=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function ie(){return Ht||(Ht=ne(0))}function oe(t,e,r){var n,i;if(t._root){var o=w(b),a=w(x);if(n=ae(t._root,t.__ownerID,0,void 0,e,r,o,a),!a.value)return t;i=t.size+(o.value?r===m?-1:1:0)}else{if(r===m)return t;i=1,n=new Vt(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=i,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?ne(i,n):ie()}function ae(t,e,r,n,i,o,a,s){return t?t.update(e,r,n,i,o,a,s):o===m?t:(E(s),E(a),new Qt(e,n,[i,o]))}function se(t){return t.constructor===Qt||t.constructor===Zt}function ue(t,e,r,n,i){if(t.keyHash===n)return new Zt(e,n,[t.entry,i]);var o,a=(0===r?t.keyHash:t.keyHash>>>r)&y,s=(0===r?n:n>>>r)&y;return new $t(e,1<<a|1<<s,a===s?[ue(t,e,r+g,n,i)]:(o=new Qt(e,n,i),a<s?[t,o]:[o,t]))}function ce(t,e,r,n){t||(t=new O);for(var i=new Qt(t,jt(r),[r,n]),o=0;o<e.length;o++){var a=e[o];i=i.update(t,0,void 0,a[0],a[1])}return i}function he(t,e,r,n){for(var i=0,o=0,a=new Array(r),s=0,u=1,c=e.length;s<c;s++,u<<=1){var h=e[s];void 0!==h&&s!==n&&(i|=u,a[o++]=h)}return new $t(t,i,a)}function fe(t,e,r,n,i){for(var o=0,a=new Array(_),s=0;0!==r;s++,r>>>=1)a[s]=1&r?e[o++]:void 0;return a[n]=i,new Jt(t,o+1,a)}function le(t,e,r){for(var i=[],o=0;o<r.length;o++){var s=r[o],u=n(s);a(s)||(u=u.map((function(t){return pt(t)}))),i.push(u)}return de(t,e,i)}function pe(t,e,r){return t&&t.mergeDeep&&a(e)?t.mergeDeep(e):_t(t,e)?t:e}function ve(t){return function(e,r,n){if(e&&e.mergeDeepWith&&a(r))return e.mergeDeepWith(t,r);var i=t(e,r,n);return _t(e,i)?e:i}}function de(t,e,r){return 0===(r=r.filter((function(t){return 0!==t.size}))).length?t:0!==t.size||t.__ownerID||1!==r.length?t.withMutations((function(t){for(var n=e?function(r,n){t.update(n,m,(function(t){return t===m?r:e(t,r,n)}))}:function(e,r){t.set(r,e)},i=0;i<r.length;i++)r[i].forEach(n)})):t.constructor(r[0])}function ge(t,e,r,n){var i=t===m,o=e.next();if(o.done){var a=i?r:t,s=n(a);return s===a?t:s}bt(i||t&&t.set,"invalid keyPath");var u=o.value,c=i?m:t.get(u,m),h=ge(c,e,r,n);return h===c?t:h===m?t.remove(u):(i?ie():t).set(u,h)}function _e(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function ye(t,e,r,n){var i=n?t:S(t);return i[e]=r,i}function me(t,e,r,n){var i=t.length+1;if(n&&e+1===i)return t[e]=r,t;for(var o=new Array(i),a=0,s=0;s<i;s++)s===e?(o[s]=r,a=-1):o[s]=t[s+a];return o}function be(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var i=new Array(n),o=0,a=0;a<n;a++)a===e&&(o=1),i[a]=t[a+o];return i}Xt[Yt]=!0,Xt[d]=Xt.remove,Xt.removeIn=Xt.deleteIn,Vt.prototype.get=function(t,e,r,n){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(_t(r,i[o][0]))return i[o][1];return n},Vt.prototype.update=function(t,e,r,n,i,o,a){for(var s=i===m,u=this.entries,c=0,h=u.length;c<h&&!_t(n,u[c][0]);c++);var f=c<h;if(f?u[c][1]===i:s)return this;if(E(a),(s||!f)&&E(o),!s||1!==u.length){if(!f&&!s&&u.length>=xe)return ce(t,u,n,i);var l=t&&t===this.ownerID,p=l?u:S(u);return f?s?c===h-1?p.pop():p[c]=p.pop():p[c]=[n,i]:p.push([n,i]),l?(this.entries=p,this):new Vt(t,p)}},$t.prototype.get=function(t,e,r,n){void 0===e&&(e=jt(r));var i=1<<((0===t?e:e>>>t)&y),o=this.bitmap;return 0==(o&i)?n:this.nodes[_e(o&i-1)].get(t+g,e,r,n)},$t.prototype.update=function(t,e,r,n,i,o,a){void 0===r&&(r=jt(n));var s=(0===e?r:r>>>e)&y,u=1<<s,c=this.bitmap,h=0!=(c&u);if(!h&&i===m)return this;var f=_e(c&u-1),l=this.nodes,p=h?l[f]:void 0,v=ae(p,t,e+g,r,n,i,o,a);if(v===p)return this;if(!h&&v&&l.length>=we)return fe(t,l,c,s,v);if(h&&!v&&2===l.length&&se(l[1^f]))return l[1^f];if(h&&v&&1===l.length&&se(v))return v;var d=t&&t===this.ownerID,_=h?v?c:c^u:c|u,b=h?v?ye(l,f,v,d):be(l,f,d):me(l,f,v,d);return d?(this.bitmap=_,this.nodes=b,this):new $t(t,_,b)},Jt.prototype.get=function(t,e,r,n){void 0===e&&(e=jt(r));var i=(0===t?e:e>>>t)&y,o=this.nodes[i];return o?o.get(t+g,e,r,n):n},Jt.prototype.update=function(t,e,r,n,i,o,a){void 0===r&&(r=jt(n));var s=(0===e?r:r>>>e)&y,u=i===m,c=this.nodes,h=c[s];if(u&&!h)return this;var f=ae(h,t,e+g,r,n,i,o,a);if(f===h)return this;var l=this.count;if(h){if(!f&&--l<Ee)return he(t,c,l,s)}else l++;var p=t&&t===this.ownerID,v=ye(c,s,f,p);return p?(this.count=l,this.nodes=v,this):new Jt(t,l,v)},Zt.prototype.get=function(t,e,r,n){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(_t(r,i[o][0]))return i[o][1];return n},Zt.prototype.update=function(t,e,r,n,i,o,a){void 0===r&&(r=jt(n));var s=i===m;if(r!==this.keyHash)return s?this:(E(a),E(o),ue(this,t,e,r,[n,i]));for(var u=this.entries,c=0,h=u.length;c<h&&!_t(n,u[c][0]);c++);var f=c<h;if(f?u[c][1]===i:s)return this;if(E(a),(s||!f)&&E(o),s&&2===h)return new Qt(t,this.keyHash,u[1^c]);var l=t&&t===this.ownerID,p=l?u:S(u);return f?s?c===h-1?p.pop():p[c]=p.pop():p[c]=[n,i]:p.push([n,i]),l?(this.entries=p,this):new Zt(t,this.keyHash,p)},Qt.prototype.get=function(t,e,r,n){return _t(r,this.entry[0])?this.entry[1]:n},Qt.prototype.update=function(t,e,r,n,i,o,a){var s=i===m,u=_t(n,this.entry[0]);return(u?i===this.entry[1]:s)?this:(E(a),s?void E(o):u?t&&t===this.ownerID?(this.entry[1]=i,this):new Qt(t,this.keyHash,[n,i]):(E(o),ue(this,t,e,jt(n),[n,i])))},Vt.prototype.iterate=Zt.prototype.iterate=function(t,e){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(!1===t(r[e?i-n:n]))return!1},$t.prototype.iterate=Jt.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var o=r[e?i-n:n];if(o&&!1===o.iterate(t,e))return!1}},Qt.prototype.iterate=function(t,e){return t(this.entry)},e(te,W),te.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var r,n=e.node,i=e.index++;if(n.entry){if(0===i)return ee(t,n.entry)}else if(n.entries){if(i<=(r=n.entries.length-1))return ee(t,n.entries[this._reverse?r-i:i])}else if(i<=(r=n.nodes.length-1)){var o=n.nodes[this._reverse?r-i:i];if(o){if(o.entry)return ee(t,o.entry);e=this._stack=re(o,e)}continue}e=this._stack=this._stack.__prev}return q()};var xe=_/4,we=_/2,Ee=_/4;function Oe(t){var e=Te();if(null==t)return e;if(Se(t))return t;var r=i(t),n=r.size;return 0===n?e:(Ft(n),n>0&&n<_?ke(0,n,g,null,new je(r.toArray())):e.withMutations((function(t){t.setSize(n),r.forEach((function(e,r){return t.set(r,e)}))})))}function Se(t){return!(!t||!t[Ae])}e(Oe,Ot),Oe.of=function(){return this(arguments)},Oe.prototype.toString=function(){return this.__toString("List [","]")},Oe.prototype.get=function(t,e){if((t=I(this,t))>=0&&t<this.size){var r=Ce(this,t+=this._origin);return r&&r.array[t&y]}return e},Oe.prototype.set=function(t,e){return Ne(this,t,e)},Oe.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},Oe.prototype.insert=function(t,e){return this.splice(t,0,e)},Oe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=g,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Te()},Oe.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(r){We(r,0,e+t.length);for(var n=0;n<t.length;n++)r.set(e+n,t[n])}))},Oe.prototype.pop=function(){return We(this,0,-1)},Oe.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){We(e,-t.length);for(var r=0;r<t.length;r++)e.set(r,t[r])}))},Oe.prototype.shift=function(){return We(this,1)},Oe.prototype.merge=function(){return Ue(this,void 0,arguments)},Oe.prototype.mergeWith=function(e){return Ue(this,e,t.call(arguments,1))},Oe.prototype.mergeDeep=function(){return Ue(this,pe,arguments)},Oe.prototype.mergeDeepWith=function(e){var r=t.call(arguments,1);return Ue(this,ve(e),r)},Oe.prototype.setSize=function(t){return We(this,0,t)},Oe.prototype.slice=function(t,e){var r=this.size;return M(t,e,r)?this:We(this,D(t,r),R(e,r))},Oe.prototype.__iterator=function(t,e){var r=0,n=ze(this,e);return new W((function(){var e=n();return e===Re?q():U(t,r++,e)}))},Oe.prototype.__iterate=function(t,e){for(var r,n=0,i=ze(this,e);(r=i())!==Re&&!1!==t(r,n++,this););return n},Oe.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?ke(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},Oe.isList=Se;var Ae="@@__IMMUTABLE_LIST__@@",Ie=Oe.prototype;function je(t,e){this.array=t,this.ownerID=e}Ie[Ae]=!0,Ie[d]=Ie.remove,Ie.setIn=Xt.setIn,Ie.deleteIn=Ie.removeIn=Xt.removeIn,Ie.update=Xt.update,Ie.updateIn=Xt.updateIn,Ie.mergeIn=Xt.mergeIn,Ie.mergeDeepIn=Xt.mergeDeepIn,Ie.withMutations=Xt.withMutations,Ie.asMutable=Xt.asMutable,Ie.asImmutable=Xt.asImmutable,Ie.wasAltered=Xt.wasAltered,je.prototype.removeBefore=function(t,e,r){if(r===e?1<<e:0===this.array.length)return this;var n=r>>>e&y;if(n>=this.array.length)return new je([],t);var i,o=0===n;if(e>0){var a=this.array[n];if((i=a&&a.removeBefore(t,e-g,r))===a&&o)return this}if(o&&!i)return this;var s=Pe(this,t);if(!o)for(var u=0;u<n;u++)s.array[u]=void 0;return i&&(s.array[n]=i),s},je.prototype.removeAfter=function(t,e,r){if(r===(e?1<<e:0)||0===this.array.length)return this;var n,i=r-1>>>e&y;if(i>=this.array.length)return this;if(e>0){var o=this.array[i];if((n=o&&o.removeAfter(t,e-g,r))===o&&i===this.array.length-1)return this}var a=Pe(this,t);return a.array.splice(i+1),n&&(a.array[i]=n),a};var Me,De,Re={};function ze(t,e){var r=t._origin,n=t._capacity,i=qe(n),o=t._tail;return a(t._root,t._level,0);function a(t,e,r){return 0===e?s(t,r):u(t,e,r)}function s(t,a){var s=a===i?o&&o.array:t&&t.array,u=a>r?0:r-a,c=n-a;return c>_&&(c=_),function(){if(u===c)return Re;var t=e?--c:u++;return s&&s[t]}}function u(t,i,o){var s,u=t&&t.array,c=o>r?0:r-o>>i,h=1+(n-o>>i);return h>_&&(h=_),function(){for(;;){if(s){var t=s();if(t!==Re)return t;s=null}if(c===h)return Re;var r=e?--h:c++;s=a(u&&u[r],i-g,o+(r<<i))}}}}function ke(t,e,r,n,i,o,a){var s=Object.create(Ie);return s.size=e-t,s._origin=t,s._capacity=e,s._level=r,s._root=n,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function Te(){return Me||(Me=ke(0,0,g))}function Ne(t,e,r){if((e=I(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?We(t,e).set(0,r):We(t,0,e+1).set(e,r)}));e+=t._origin;var n=t._tail,i=t._root,o=w(x);return e>=qe(t._capacity)?n=Le(n,t.__ownerID,0,e,r,o):i=Le(i,t.__ownerID,t._level,e,r,o),o.value?t.__ownerID?(t._root=i,t._tail=n,t.__hash=void 0,t.__altered=!0,t):ke(t._origin,t._capacity,t._level,i,n):t}function Le(t,e,r,n,i,o){var a,s=n>>>r&y,u=t&&s<t.array.length;if(!u&&void 0===i)return t;if(r>0){var c=t&&t.array[s],h=Le(c,e,r-g,n,i,o);return h===c?t:((a=Pe(t,e)).array[s]=h,a)}return u&&t.array[s]===i?t:(E(o),a=Pe(t,e),void 0===i&&s===a.array.length-1?a.array.pop():a.array[s]=i,a)}function Pe(t,e){return e&&t&&e===t.ownerID?t:new je(t?t.array.slice():[],e)}function Ce(t,e){if(e>=qe(t._capacity))return t._tail;if(e<1<<t._level+g){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&y],n-=g;return r}}function We(t,e,r){void 0!==e&&(e|=0),void 0!==r&&(r|=0);var n=t.__ownerID||new O,i=t._origin,o=t._capacity,a=i+e,s=void 0===r?o:r<0?o+r:i+r;if(a===i&&s===o)return t;if(a>=s)return t.clear();for(var u=t._level,c=t._root,h=0;a+h<0;)c=new je(c&&c.array.length?[void 0,c]:[],n),h+=1<<(u+=g);h&&(a+=h,i+=h,s+=h,o+=h);for(var f=qe(o),l=qe(s);l>=1<<u+g;)c=new je(c&&c.array.length?[c]:[],n),u+=g;var p=t._tail,v=l<f?Ce(t,s-1):l>f?new je([],n):p;if(p&&l>f&&a<o&&p.array.length){for(var d=c=Pe(c,n),_=u;_>g;_-=g){var m=f>>>_&y;d=d.array[m]=Pe(d.array[m],n)}d.array[f>>>g&y]=p}if(s<o&&(v=v&&v.removeAfter(n,0,s)),a>=l)a-=l,s-=l,u=g,c=null,v=v&&v.removeBefore(n,0,a);else if(a>i||l<f){for(h=0;c;){var b=a>>>u&y;if(b!==l>>>u&y)break;b&&(h+=(1<<u)*b),u-=g,c=c.array[b]}c&&a>i&&(c=c.removeBefore(n,u,a-h)),c&&l<f&&(c=c.removeAfter(n,u,l-h)),h&&(a-=h,s-=h)}return t.__ownerID?(t.size=s-a,t._origin=a,t._capacity=s,t._level=u,t._root=c,t._tail=v,t.__hash=void 0,t.__altered=!0,t):ke(a,s,u,c,v)}function Ue(t,e,r){for(var n=[],o=0,s=0;s<r.length;s++){var u=r[s],c=i(u);c.size>o&&(o=c.size),a(u)||(c=c.map((function(t){return pt(t)}))),n.push(c)}return o>t.size&&(t=t.setSize(o)),de(t,e,n)}function qe(t){return t<_?0:t-1>>>g<<g}function Be(t){return null==t?Ge():Fe(t)?t:Ge().withMutations((function(e){var r=n(t);Ft(r.size),r.forEach((function(t,r){return e.set(r,t)}))}))}function Fe(t){return Gt(t)&&h(t)}function Ke(t,e,r,n){var i=Object.create(Be.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=r,i.__hash=n,i}function Ge(){return De||(De=Ke(ie(),Te()))}function He(t,e,r){var n,i,o=t._map,a=t._list,s=o.get(e),u=void 0!==s;if(r===m){if(!u)return t;a.size>=_&&a.size>=2*o.size?(n=(i=a.filter((function(t,e){return void 0!==t&&s!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(n.__ownerID=i.__ownerID=t.__ownerID)):(n=o.remove(e),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(u){if(r===a.get(s)[1])return t;n=o,i=a.set(s,[e,r])}else n=o.set(e,a.size),i=a.set(a.size,[e,r]);return t.__ownerID?(t.size=n.size,t._map=n,t._list=i,t.__hash=void 0,t):Ke(n,i)}function Ye(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function Xe(t){this._iter=t,this.size=t.size}function Ve(t){this._iter=t,this.size=t.size}function $e(t){this._iter=t,this.size=t.size}function Je(t){var e=yr(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=mr,e.__iterateUncached=function(e,r){var n=this;return t.__iterate((function(t,r){return!1!==e(r,t,n)}),r)},e.__iteratorUncached=function(e,r){if(e===N){var n=t.__iterator(e,r);return new W((function(){var t=n.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(e===T?k:T,r)},e}function Ze(t,e,r){var n=yr(t);return n.size=t.size,n.has=function(e){return t.has(e)},n.get=function(n,i){var o=t.get(n,m);return o===m?i:e.call(r,o,n,t)},n.__iterateUncached=function(n,i){var o=this;return t.__iterate((function(t,i,a){return!1!==n(e.call(r,t,i,a),i,o)}),i)},n.__iteratorUncached=function(n,i){var o=t.__iterator(N,i);return new W((function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return U(n,s,e.call(r,a[1],s,t),i)}))},n}function Qe(t,e){var r=yr(t);return r._iter=t,r.size=t.size,r.reverse=function(){return t},t.flip&&(r.flip=function(){var e=Je(t);return e.reverse=function(){return t.flip()},e}),r.get=function(r,n){return t.get(e?r:-1-r,n)},r.has=function(r){return t.has(e?r:-1-r)},r.includes=function(e){return t.includes(e)},r.cacheResult=mr,r.__iterate=function(e,r){var n=this;return t.__iterate((function(t,r){return e(t,r,n)}),!r)},r.__iterator=function(e,r){return t.__iterator(e,!r)},r}function tr(t,e,r,n){var i=yr(t);return n&&(i.has=function(n){var i=t.get(n,m);return i!==m&&!!e.call(r,i,n,t)},i.get=function(n,i){var o=t.get(n,m);return o!==m&&e.call(r,o,n,t)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return t.__iterate((function(t,o,u){if(e.call(r,t,o,u))return s++,i(t,n?o:s-1,a)}),o),s},i.__iteratorUncached=function(i,o){var a=t.__iterator(N,o),s=0;return new W((function(){for(;;){var o=a.next();if(o.done)return o;var u=o.value,c=u[0],h=u[1];if(e.call(r,h,c,t))return U(i,n?c:s++,h,o)}}))},i}function er(t,e,r){var n=Kt().asMutable();return t.__iterate((function(i,o){n.update(e.call(r,i,o,t),0,(function(t){return t+1}))})),n.asImmutable()}function rr(t,e,r){var n=s(t),i=(h(t)?Be():Kt()).asMutable();t.__iterate((function(o,a){i.update(e.call(r,o,a,t),(function(t){return(t=t||[]).push(n?[a,o]:o),t}))}));var o=_r(t);return i.map((function(e){return vr(t,o(e))}))}function nr(t,e,r,n){var i=t.size;if(void 0!==e&&(e|=0),void 0!==r&&(r===1/0?r=i:r|=0),M(e,r,i))return t;var o=D(e,i),a=R(r,i);if(o!=o||a!=a)return nr(t.toSeq().cacheResult(),e,r,n);var s,u=a-o;u==u&&(s=u<0?0:u);var c=yr(t);return c.size=0===s?s:t.size&&s||void 0,!n&&ot(t)&&s>=0&&(c.get=function(e,r){return(e=I(this,e))>=0&&e<s?t.get(e+o,r):r}),c.__iterateUncached=function(e,r){var i=this;if(0===s)return 0;if(r)return this.cacheResult().__iterate(e,r);var a=0,u=!0,c=0;return t.__iterate((function(t,r){if(!u||!(u=a++<o))return c++,!1!==e(t,n?r:c-1,i)&&c!==s})),c},c.__iteratorUncached=function(e,r){if(0!==s&&r)return this.cacheResult().__iterator(e,r);var i=0!==s&&t.__iterator(e,r),a=0,u=0;return new W((function(){for(;a++<o;)i.next();if(++u>s)return q();var t=i.next();return n||e===T?t:U(e,u-1,e===k?void 0:t.value[1],t)}))},c}function ir(t,e,r){var n=yr(t);return n.__iterateUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterate(n,i);var a=0;return t.__iterate((function(t,i,s){return e.call(r,t,i,s)&&++a&&n(t,i,o)})),a},n.__iteratorUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterator(n,i);var a=t.__iterator(N,i),s=!0;return new W((function(){if(!s)return q();var t=a.next();if(t.done)return t;var i=t.value,u=i[0],c=i[1];return e.call(r,c,u,o)?n===N?t:U(n,u,c,t):(s=!1,q())}))},n}function or(t,e,r,n){var i=yr(t);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,u=0;return t.__iterate((function(t,o,c){if(!s||!(s=e.call(r,t,o,c)))return u++,i(t,n?o:u-1,a)})),u},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=t.__iterator(N,o),u=!0,c=0;return new W((function(){var t,o,h;do{if((t=s.next()).done)return n||i===T?t:U(i,c++,i===k?void 0:t.value[1],t);var f=t.value;o=f[0],h=f[1],u&&(u=e.call(r,h,o,a))}while(u);return i===N?t:U(i,o,h,t)}))},i}function ar(t,e){var r=s(t),i=[t].concat(e).map((function(t){return a(t)?r&&(t=n(t)):t=r?st(t):ut(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===i.length)return t;if(1===i.length){var o=i[0];if(o===t||r&&s(o)||u(t)&&u(o))return o}var c=new et(i);return r?c=c.toKeyedSeq():u(t)||(c=c.toSetSeq()),(c=c.flatten(!0)).size=i.reduce((function(t,e){if(void 0!==t){var r=e.size;if(void 0!==r)return t+r}}),0),c}function sr(t,e,r){var n=yr(t);return n.__iterateUncached=function(n,i){var o=0,s=!1;function u(t,c){var h=this;t.__iterate((function(t,i){return(!e||c<e)&&a(t)?u(t,c+1):!1===n(t,r?i:o++,h)&&(s=!0),!s}),i)}return u(t,0),o},n.__iteratorUncached=function(n,i){var o=t.__iterator(n,i),s=[],u=0;return new W((function(){for(;o;){var t=o.next();if(!1===t.done){var c=t.value;if(n===N&&(c=c[1]),e&&!(s.length<e)||!a(c))return r?t:U(n,u++,c,t);s.push(o),o=c.__iterator(n,i)}else o=s.pop()}return q()}))},n}function ur(t,e,r){var n=_r(t);return t.toSeq().map((function(i,o){return n(e.call(r,i,o,t))})).flatten(!0)}function cr(t,e){var r=yr(t);return r.size=t.size&&2*t.size-1,r.__iterateUncached=function(r,n){var i=this,o=0;return t.__iterate((function(t,n){return(!o||!1!==r(e,o++,i))&&!1!==r(t,o++,i)}),n),o},r.__iteratorUncached=function(r,n){var i,o=t.__iterator(T,n),a=0;return new W((function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?U(r,a++,e):U(r,a++,i.value,i)}))},r}function hr(t,e,r){e||(e=br);var n=s(t),i=0,o=t.toSeq().map((function(e,n){return[n,e,i++,r?r(e,n,t):e]})).toArray();return o.sort((function(t,r){return e(t[3],r[3])||t[2]-r[2]})).forEach(n?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),n?X(o):u(t)?V(o):$(o)}function fr(t,e,r){if(e||(e=br),r){var n=t.toSeq().map((function(e,n){return[e,r(e,n,t)]})).reduce((function(t,r){return lr(e,t[1],r[1])?r:t}));return n&&n[0]}return t.reduce((function(t,r){return lr(e,t,r)?r:t}))}function lr(t,e,r){var n=t(r,e);return 0===n&&r!==e&&(null==r||r!=r)||n>0}function pr(t,e,n){var i=yr(t);return i.size=new et(n).map((function(t){return t.size})).min(),i.__iterate=function(t,e){for(var r,n=this.__iterator(T,e),i=0;!(r=n.next()).done&&!1!==t(r.value,i++,this););return i},i.__iteratorUncached=function(t,i){var o=n.map((function(t){return t=r(t),K(i?t.reverse():t)})),a=0,s=!1;return new W((function(){var r;return s||(r=o.map((function(t){return t.next()})),s=r.some((function(t){return t.done}))),s?q():U(t,a++,e.apply(null,r.map((function(t){return t.value}))))}))},i}function vr(t,e){return ot(t)?e:t.constructor(e)}function dr(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function gr(t){return Ft(t.size),A(t)}function _r(t){return s(t)?n:u(t)?i:o}function yr(t){return Object.create((s(t)?X:u(t)?V:$).prototype)}function mr(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Y.prototype.cacheResult.call(this)}function br(t,e){return t>e?1:t<e?-1:0}function xr(t){var e=K(t);if(!e){if(!H(t))throw new TypeError("Expected iterable or array-like: "+t);e=K(r(t))}return e}function wr(t,e){var r,n=function(o){if(o instanceof n)return o;if(!(this instanceof n))return new n(o);if(!r){r=!0;var a=Object.keys(t);Ar(i,a),i.size=a.length,i._name=e,i._keys=a,i._defaultValues=t}this._map=Kt(o)},i=n.prototype=Object.create(Er);return i.constructor=n,n}e(Be,Kt),Be.of=function(){return this(arguments)},Be.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Be.prototype.get=function(t,e){var r=this._map.get(t);return void 0!==r?this._list.get(r)[1]:e},Be.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Ge()},Be.prototype.set=function(t,e){return He(this,t,e)},Be.prototype.remove=function(t){return He(this,t,m)},Be.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Be.prototype.__iterate=function(t,e){var r=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],r)}),e)},Be.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Be.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),r=this._list.__ensureOwner(t);return t?Ke(e,r,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=r,this)},Be.isOrderedMap=Fe,Be.prototype[v]=!0,Be.prototype[d]=Be.prototype.remove,e(Ye,X),Ye.prototype.get=function(t,e){return this._iter.get(t,e)},Ye.prototype.has=function(t){return this._iter.has(t)},Ye.prototype.valueSeq=function(){return this._iter.valueSeq()},Ye.prototype.reverse=function(){var t=this,e=Qe(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},Ye.prototype.map=function(t,e){var r=this,n=Ze(this,t,e);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(t,e)}),n},Ye.prototype.__iterate=function(t,e){var r,n=this;return this._iter.__iterate(this._useKeys?function(e,r){return t(e,r,n)}:(r=e?gr(this):0,function(i){return t(i,e?--r:r++,n)}),e)},Ye.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var r=this._iter.__iterator(T,e),n=e?gr(this):0;return new W((function(){var i=r.next();return i.done?i:U(t,e?--n:n++,i.value,i)}))},Ye.prototype[v]=!0,e(Xe,V),Xe.prototype.includes=function(t){return this._iter.includes(t)},Xe.prototype.__iterate=function(t,e){var r=this,n=0;return this._iter.__iterate((function(e){return t(e,n++,r)}),e)},Xe.prototype.__iterator=function(t,e){var r=this._iter.__iterator(T,e),n=0;return new W((function(){var e=r.next();return e.done?e:U(t,n++,e.value,e)}))},e(Ve,$),Ve.prototype.has=function(t){return this._iter.includes(t)},Ve.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate((function(e){return t(e,e,r)}),e)},Ve.prototype.__iterator=function(t,e){var r=this._iter.__iterator(T,e);return new W((function(){var e=r.next();return e.done?e:U(t,e.value,e.value,e)}))},e($e,X),$e.prototype.entrySeq=function(){return this._iter.toSeq()},$e.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate((function(e){if(e){dr(e);var n=a(e);return t(n?e.get(1):e[1],n?e.get(0):e[0],r)}}),e)},$e.prototype.__iterator=function(t,e){var r=this._iter.__iterator(T,e);return new W((function(){for(;;){var e=r.next();if(e.done)return e;var n=e.value;if(n){dr(n);var i=a(n);return U(t,i?n.get(0):n[0],i?n.get(1):n[1],e)}}}))},Xe.prototype.cacheResult=Ye.prototype.cacheResult=Ve.prototype.cacheResult=$e.prototype.cacheResult=mr,e(wr,Et),wr.prototype.toString=function(){return this.__toString(Sr(this)+" {","}")},wr.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},wr.prototype.get=function(t,e){if(!this.has(t))return e;var r=this._defaultValues[t];return this._map?this._map.get(t,r):r},wr.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=Or(this,ie()))},wr.prototype.set=function(t,e){if(!this.has(t))throw new Error(\'Cannot set unknown key "\'+t+\'" on \'+Sr(this));if(this._map&&!this._map.has(t)&&e===this._defaultValues[t])return this;var r=this._map&&this._map.set(t,e);return this.__ownerID||r===this._map?this:Or(this,r)},wr.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:Or(this,e)},wr.prototype.wasAltered=function(){return this._map.wasAltered()},wr.prototype.__iterator=function(t,e){var r=this;return n(this._defaultValues).map((function(t,e){return r.get(e)})).__iterator(t,e)},wr.prototype.__iterate=function(t,e){var r=this;return n(this._defaultValues).map((function(t,e){return r.get(e)})).__iterate(t,e)},wr.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?Or(this,e,t):(this.__ownerID=t,this._map=e,this)};var Er=wr.prototype;function Or(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._map=e,n.__ownerID=r,n}function Sr(t){return t._name||t.constructor.name||"Record"}function Ar(t,e){try{e.forEach(Ir.bind(void 0,t))}catch(r){}}function Ir(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){bt(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function jr(t){return null==t?Nr():Mr(t)&&!h(t)?t:Nr().withMutations((function(e){var r=o(t);Ft(r.size),r.forEach((function(t){return e.add(t)}))}))}function Mr(t){return!(!t||!t[Rr])}Er[d]=Er.remove,Er.deleteIn=Er.removeIn=Xt.removeIn,Er.merge=Xt.merge,Er.mergeWith=Xt.mergeWith,Er.mergeIn=Xt.mergeIn,Er.mergeDeep=Xt.mergeDeep,Er.mergeDeepWith=Xt.mergeDeepWith,Er.mergeDeepIn=Xt.mergeDeepIn,Er.setIn=Xt.setIn,Er.update=Xt.update,Er.updateIn=Xt.updateIn,Er.withMutations=Xt.withMutations,Er.asMutable=Xt.asMutable,Er.asImmutable=Xt.asImmutable,e(jr,St),jr.of=function(){return this(arguments)},jr.fromKeys=function(t){return this(n(t).keySeq())},jr.prototype.toString=function(){return this.__toString("Set {","}")},jr.prototype.has=function(t){return this._map.has(t)},jr.prototype.add=function(t){return kr(this,this._map.set(t,!0))},jr.prototype.remove=function(t){return kr(this,this._map.remove(t))},jr.prototype.clear=function(){return kr(this,this._map.clear())},jr.prototype.union=function(){var e=t.call(arguments,0);return 0===(e=e.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(t){for(var r=0;r<e.length;r++)o(e[r]).forEach((function(e){return t.add(e)}))})):this.constructor(e[0])},jr.prototype.intersect=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return o(t)}));var r=this;return this.withMutations((function(t){r.forEach((function(r){e.every((function(t){return t.includes(r)}))||t.remove(r)}))}))},jr.prototype.subtract=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return o(t)}));var r=this;return this.withMutations((function(t){r.forEach((function(r){e.some((function(t){return t.includes(r)}))&&t.remove(r)}))}))},jr.prototype.merge=function(){return this.union.apply(this,arguments)},jr.prototype.mergeWith=function(e){var r=t.call(arguments,1);return this.union.apply(this,r)},jr.prototype.sort=function(t){return Lr(hr(this,t))},jr.prototype.sortBy=function(t,e){return Lr(hr(this,e,t))},jr.prototype.wasAltered=function(){return this._map.wasAltered()},jr.prototype.__iterate=function(t,e){var r=this;return this._map.__iterate((function(e,n){return t(n,n,r)}),e)},jr.prototype.__iterator=function(t,e){return this._map.map((function(t,e){return e})).__iterator(t,e)},jr.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},jr.isSet=Mr;var Dr,Rr="@@__IMMUTABLE_SET__@@",zr=jr.prototype;function kr(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Tr(t,e){var r=Object.create(zr);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function Nr(){return Dr||(Dr=Tr(ie()))}function Lr(t){return null==t?qr():Pr(t)?t:qr().withMutations((function(e){var r=o(t);Ft(r.size),r.forEach((function(t){return e.add(t)}))}))}function Pr(t){return Mr(t)&&h(t)}zr[Rr]=!0,zr[d]=zr.remove,zr.mergeDeep=zr.merge,zr.mergeDeepWith=zr.mergeWith,zr.withMutations=Xt.withMutations,zr.asMutable=Xt.asMutable,zr.asImmutable=Xt.asImmutable,zr.__empty=Nr,zr.__make=Tr,e(Lr,jr),Lr.of=function(){return this(arguments)},Lr.fromKeys=function(t){return this(n(t).keySeq())},Lr.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Lr.isOrderedSet=Pr;var Cr,Wr=Lr.prototype;function Ur(t,e){var r=Object.create(Wr);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function qr(){return Cr||(Cr=Ur(Ge()))}function Br(t){return null==t?Xr():Fr(t)?t:Xr().unshiftAll(t)}function Fr(t){return!(!t||!t[Gr])}Wr[v]=!0,Wr.__empty=qr,Wr.__make=Ur,e(Br,Ot),Br.of=function(){return this(arguments)},Br.prototype.toString=function(){return this.__toString("Stack [","]")},Br.prototype.get=function(t,e){var r=this._head;for(t=I(this,t);r&&t--;)r=r.next;return r?r.value:e},Br.prototype.peek=function(){return this._head&&this._head.value},Br.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,r=arguments.length-1;r>=0;r--)e={value:arguments[r],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Yr(t,e)},Br.prototype.pushAll=function(t){if(0===(t=i(t)).size)return this;Ft(t.size);var e=this.size,r=this._head;return t.reverse().forEach((function(t){e++,r={value:t,next:r}})),this.__ownerID?(this.size=e,this._head=r,this.__hash=void 0,this.__altered=!0,this):Yr(e,r)},Br.prototype.pop=function(){return this.slice(1)},Br.prototype.unshift=function(){return this.push.apply(this,arguments)},Br.prototype.unshiftAll=function(t){return this.pushAll(t)},Br.prototype.shift=function(){return this.pop.apply(this,arguments)},Br.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Xr()},Br.prototype.slice=function(t,e){if(M(t,e,this.size))return this;var r=D(t,this.size);if(R(e,this.size)!==this.size)return Ot.prototype.slice.call(this,t,e);for(var n=this.size-r,i=this._head;r--;)i=i.next;return this.__ownerID?(this.size=n,this._head=i,this.__hash=void 0,this.__altered=!0,this):Yr(n,i)},Br.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Yr(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Br.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var r=0,n=this._head;n&&!1!==t(n.value,r++,this);)n=n.next;return r},Br.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var r=0,n=this._head;return new W((function(){if(n){var e=n.value;return n=n.next,U(t,r++,e)}return q()}))},Br.isStack=Fr;var Kr,Gr="@@__IMMUTABLE_STACK__@@",Hr=Br.prototype;function Yr(t,e,r,n){var i=Object.create(Hr);return i.size=t,i._head=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Xr(){return Kr||(Kr=Yr(0))}function Vr(t,e){var r=function(r){t.prototype[r]=e[r]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}Hr[Gr]=!0,Hr.withMutations=Xt.withMutations,Hr.asMutable=Xt.asMutable,Hr.asImmutable=Xt.asImmutable,Hr.wasAltered=Xt.wasAltered,r.Iterator=W,Vr(r,{toArray:function(){Ft(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate((function(e,r){t[r]=e})),t},toIndexedSeq:function(){return new Xe(this)},toJS:function(){return this.toSeq().map((function(t){return t&&"function"==typeof t.toJS?t.toJS():t})).__toJS()},toJSON:function(){return this.toSeq().map((function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t})).__toJS()},toKeyedSeq:function(){return new Ye(this,!0)},toMap:function(){return Kt(this.toKeyedSeq())},toObject:function(){Ft(this.size);var t={};return this.__iterate((function(e,r){t[r]=e})),t},toOrderedMap:function(){return Be(this.toKeyedSeq())},toOrderedSet:function(){return Lr(s(this)?this.valueSeq():this)},toSet:function(){return jr(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Ve(this)},toSeq:function(){return u(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Br(s(this)?this.valueSeq():this)},toList:function(){return Oe(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){return vr(this,ar(this,t.call(arguments,0)))},includes:function(t){return this.some((function(e){return _t(e,t)}))},entries:function(){return this.__iterator(N)},every:function(t,e){Ft(this.size);var r=!0;return this.__iterate((function(n,i,o){if(!t.call(e,n,i,o))return r=!1,!1})),r},filter:function(t,e){return vr(this,tr(this,t,e,!0))},find:function(t,e,r){var n=this.findEntry(t,e);return n?n[1]:r},forEach:function(t,e){return Ft(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Ft(this.size),t=void 0!==t?""+t:",";var e="",r=!0;return this.__iterate((function(n){r?r=!1:e+=t,e+=null!=n?n.toString():""})),e},keys:function(){return this.__iterator(k)},map:function(t,e){return vr(this,Ze(this,t,e))},reduce:function(t,e,r){var n,i;return Ft(this.size),arguments.length<2?i=!0:n=e,this.__iterate((function(e,o,a){i?(i=!1,n=e):n=t.call(r,n,e,o,a)})),n},reduceRight:function(t,e,r){var n=this.toKeyedSeq().reverse();return n.reduce.apply(n,arguments)},reverse:function(){return vr(this,Qe(this,!0))},slice:function(t,e){return vr(this,nr(this,t,e,!0))},some:function(t,e){return!this.every(tn(t),e)},sort:function(t){return vr(this,hr(this,t))},values:function(){return this.__iterator(T)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return A(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return er(this,t,e)},equals:function(t){return yt(this,t)},entrySeq:function(){var t=this;if(t._cache)return new et(t._cache);var e=t.toSeq().map(Qr).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(tn(t),e)},findEntry:function(t,e,r){var n=r;return this.__iterate((function(r,i,o){if(t.call(e,r,i,o))return n=[i,r],!1})),n},findKey:function(t,e){var r=this.findEntry(t,e);return r&&r[0]},findLast:function(t,e,r){return this.toKeyedSeq().reverse().find(t,e,r)},findLastEntry:function(t,e,r){return this.toKeyedSeq().reverse().findEntry(t,e,r)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(j)},flatMap:function(t,e){return vr(this,ur(this,t,e))},flatten:function(t){return vr(this,sr(this,t,!0))},fromEntrySeq:function(){return new $e(this)},get:function(t,e){return this.find((function(e,r){return _t(r,t)}),void 0,e)},getIn:function(t,e){for(var r,n=this,i=xr(t);!(r=i.next()).done;){var o=r.value;if((n=n&&n.get?n.get(o,m):m)===m)return e}return n},groupBy:function(t,e){return rr(this,t,e)},has:function(t){return this.get(t,m)!==m},hasIn:function(t){return this.getIn(t,m)!==m},isSubset:function(t){return t="function"==typeof t.includes?t:r(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:r(t)).isSubset(this)},keyOf:function(t){return this.findKey((function(e){return _t(e,t)}))},keySeq:function(){return this.toSeq().map(Zr).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return fr(this,t)},maxBy:function(t,e){return fr(this,e,t)},min:function(t){return fr(this,t?en(t):on)},minBy:function(t,e){return fr(this,e?en(e):on,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return vr(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return vr(this,or(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(tn(t),e)},sortBy:function(t,e){return vr(this,hr(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return vr(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return vr(this,ir(this,t,e))},takeUntil:function(t,e){return this.takeWhile(tn(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=an(this))}});var $r=r.prototype;$r[f]=!0,$r[C]=$r.values,$r.__toJS=$r.toArray,$r.__toStringMapper=rn,$r.inspect=$r.toSource=function(){return this.toString()},$r.chain=$r.flatMap,$r.contains=$r.includes,Vr(n,{flip:function(){return vr(this,Je(this))},mapEntries:function(t,e){var r=this,n=0;return vr(this,this.toSeq().map((function(i,o){return t.call(e,[o,i],n++,r)})).fromEntrySeq())},mapKeys:function(t,e){var r=this;return vr(this,this.toSeq().flip().map((function(n,i){return t.call(e,n,i,r)})).flip())}});var Jr=n.prototype;function Zr(t,e){return e}function Qr(t,e){return[e,t]}function tn(t){return function(){return!t.apply(this,arguments)}}function en(t){return function(){return-t.apply(this,arguments)}}function rn(t){return"string"==typeof t?JSON.stringify(t):String(t)}function nn(){return S(arguments)}function on(t,e){return t<e?1:t>e?-1:0}function an(t){if(t.size===1/0)return 0;var e=h(t),r=s(t),n=e?1:0;return sn(t.__iterate(r?e?function(t,e){n=31*n+un(jt(t),jt(e))|0}:function(t,e){n=n+un(jt(t),jt(e))|0}:e?function(t){n=31*n+jt(t)|0}:function(t){n=n+jt(t)|0}),n)}function sn(t,e){return e=At(e,3432918353),e=At(e<<15|e>>>-15,461845907),e=At(e<<13|e>>>-13,5),e=At((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=It((e=At(e^e>>>13,3266489909))^e>>>16)}function un(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}return Jr[l]=!0,Jr[C]=$r.entries,Jr.__toJS=$r.toObject,Jr.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+rn(t)},Vr(i,{toKeyedSeq:function(){return new Ye(this,!1)},filter:function(t,e){return vr(this,tr(this,t,e,!1))},findIndex:function(t,e){var r=this.findEntry(t,e);return r?r[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return vr(this,Qe(this,!1))},slice:function(t,e){return vr(this,nr(this,t,e,!1))},splice:function(t,e){var r=arguments.length;if(e=Math.max(0|e,0),0===r||2===r&&!e)return this;t=D(t,t<0?this.count():this.size);var n=this.slice(0,t);return vr(this,1===r?n:n.concat(S(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var r=this.findLastEntry(t,e);return r?r[0]:-1},first:function(){return this.get(0)},flatten:function(t){return vr(this,sr(this,t,!1))},get:function(t,e){return(t=I(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,r){return r===t}),void 0,e)},has:function(t){return(t=I(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return vr(this,cr(this,t))},interleave:function(){var t=[this].concat(S(arguments)),e=pr(this.toSeq(),V.of,t),r=e.flatten(!0);return e.size&&(r.size=e.size*t.length),vr(this,r)},keySeq:function(){return xt(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return vr(this,or(this,t,e,!1))},zip:function(){return vr(this,pr(this,nn,[this].concat(S(arguments))))},zipWith:function(t){var e=S(arguments);return e[0]=this,vr(this,pr(this,t,e))}}),i.prototype[p]=!0,i.prototype[v]=!0,Vr(o,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=$r.includes,o.prototype.contains=o.prototype.includes,Vr(X,n.prototype),Vr(V,i.prototype),Vr($,o.prototype),Vr(Et,n.prototype),Vr(Ot,i.prototype),Vr(St,o.prototype),{Iterable:r,Seq:Y,Collection:wt,Map:Kt,OrderedMap:Be,List:Oe,Stack:Br,Set:jr,OrderedSet:Lr,Record:wr,Range:xt,Repeat:mt,is:_t,fromJS:pt}}()},8552:(t,e,r)=>{var n=r(852)(r(5639),"DataView");t.exports=n},1989:(t,e,r)=>{var n=r(1789),i=r(401),o=r(7667),a=r(1327),s=r(1866);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},6425:(t,e,r)=>{var n=r(3118),i=r(9435);function o(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}o.prototype=n(i.prototype),o.prototype.constructor=o,t.exports=o},8407:(t,e,r)=>{var n=r(7040),i=r(4125),o=r(2117),a=r(7529),s=r(4705);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},7548:(t,e,r)=>{var n=r(3118),i=r(9435);function o(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}o.prototype=n(i.prototype),o.prototype.constructor=o,t.exports=o},7071:(t,e,r)=>{var n=r(852)(r(5639),"Map");t.exports=n},3369:(t,e,r)=>{var n=r(4785),i=r(1285),o=r(6e3),a=r(9916),s=r(5265);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},3818:(t,e,r)=>{var n=r(852)(r(5639),"Promise");t.exports=n},8525:(t,e,r)=>{var n=r(852)(r(5639),"Set");t.exports=n},8668:(t,e,r)=>{var n=r(3369),i=r(619),o=r(2385);function a(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},6384:(t,e,r)=>{var n=r(8407),i=r(7465),o=r(3779),a=r(7599),s=r(4758),u=r(4309);function c(t){var e=this.__data__=new n(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,t.exports=c},2705:(t,e,r)=>{var n=r(5639).Symbol;t.exports=n},1149:(t,e,r)=>{var n=r(5639).Uint8Array;t.exports=n},577:(t,e,r)=>{var n=r(852)(r(5639),"WeakMap");t.exports=n},6874:t=>{t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},7412:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}},4963:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o}},7443:(t,e,r)=>{var n=r(2118);t.exports=function(t,e){return!!(null==t?0:t.length)&&n(t,e,0)>-1}},4636:(t,e,r)=>{var n=r(2545),i=r(5694),o=r(1469),a=r(4144),s=r(5776),u=r(6719),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=o(t),h=!r&&i(t),f=!r&&!h&&a(t),l=!r&&!h&&!f&&u(t),p=r||h||f||l,v=p?n(t.length,String):[],d=v.length;for(var g in t)!e&&!c.call(t,g)||p&&("length"==g||f&&("offset"==g||"parent"==g)||l&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,d))||v.push(g);return v}},9932:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}},2488:t=>{t.exports=function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}},2908:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},4865:(t,e,r)=>{var n=r(9465),i=r(7813),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var a=t[e];o.call(t,e)&&i(a,r)&&(void 0!==r||e in t)||n(t,e,r)}},8470:(t,e,r)=>{var n=r(7813);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},4037:(t,e,r)=>{var n=r(8363),i=r(3674);t.exports=function(t,e){return t&&n(e,i(e),t)}},3886:(t,e,r)=>{var n=r(8363),i=r(1704);t.exports=function(t,e){return t&&n(e,i(e),t)}},9465:(t,e,r)=>{var n=r(8777);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},5990:(t,e,r)=>{var n=r(6384),i=r(7412),o=r(4865),a=r(4037),s=r(3886),u=r(4626),c=r(278),h=r(8805),f=r(1911),l=r(8234),p=r(6904),v=r(4160),d=r(3824),g=r(9148),_=r(8517),y=r(1469),m=r(4144),b=r(6688),x=r(3218),w=r(2928),E=r(3674),O=r(1704),S="[object Arguments]",A="[object Function]",I="[object Object]",j={};j[S]=j["[object Array]"]=j["[object ArrayBuffer]"]=j["[object DataView]"]=j["[object Boolean]"]=j["[object Date]"]=j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Map]"]=j["[object Number]"]=j[I]=j["[object RegExp]"]=j["[object Set]"]=j["[object String]"]=j["[object Symbol]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j["[object Error]"]=j[A]=j["[object WeakMap]"]=!1,t.exports=function t(e,r,M,D,R,z){var k,T=1&r,N=2&r,L=4&r;if(M&&(k=R?M(e,D,R,z):M(e)),void 0!==k)return k;if(!x(e))return e;var P=y(e);if(P){if(k=d(e),!T)return c(e,k)}else{var C=v(e),W=C==A||"[object GeneratorFunction]"==C;if(m(e))return u(e,T);if(C==I||C==S||W&&!R){if(k=N||W?{}:_(e),!T)return N?f(e,s(k,e)):h(e,a(k,e))}else{if(!j[C])return R?e:{};k=g(e,C,T)}}z||(z=new n);var U=z.get(e);if(U)return U;z.set(e,k),w(e)?e.forEach((function(n){k.add(t(n,r,M,n,e,z))})):b(e)&&e.forEach((function(n,i){k.set(i,t(n,r,M,i,e,z))}));var q=P?void 0:(L?N?p:l:N?O:E)(e);return i(q||e,(function(n,i){q&&(n=e[i=n]),o(k,i,t(n,r,M,i,e,z))})),k}},3118:(t,e,r)=>{var n=r(3218),i=Object.create,o=function(){function t(){}return function(e){if(!n(e))return{};if(i)return i(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=o},9881:(t,e,r)=>{var n=r(7816),i=r(9291)(n);t.exports=i},6029:(t,e,r)=>{var n=r(3448);t.exports=function(t,e,r){for(var i=-1,o=t.length;++i<o;){var a=t[i],s=e(a);if(null!=s&&(void 0===u?s==s&&!n(s):r(s,u)))var u=s,c=a}return c}},1848:t=>{t.exports=function(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},1078:(t,e,r)=>{var n=r(2488),i=r(7285);t.exports=function t(e,r,o,a,s){var u=-1,c=e.length;for(o||(o=i),s||(s=[]);++u<c;){var h=e[u];r>0&&o(h)?r>1?t(h,r-1,o,a,s):n(s,h):a||(s[s.length]=h)}return s}},8483:(t,e,r)=>{var n=r(5063)();t.exports=n},7816:(t,e,r)=>{var n=r(8483),i=r(3674);t.exports=function(t,e){return t&&n(t,e,i)}},7786:(t,e,r)=>{var n=r(1811),i=r(327);t.exports=function(t,e){for(var r=0,o=(e=n(e,t)).length;null!=t&&r<o;)t=t[i(e[r++])];return r&&r==o?t:void 0}},8866:(t,e,r)=>{var n=r(2488),i=r(1469);t.exports=function(t,e,r){var o=e(t);return i(t)?o:n(o,r(t))}},4239:(t,e,r)=>{var n=r(2705),i=r(9607),o=r(2333),a=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},13:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},2118:(t,e,r)=>{var n=r(1848),i=r(2722),o=r(2351);t.exports=function(t,e,r){return e==e?o(t,e,r):n(t,i,r)}},9454:(t,e,r)=>{var n=r(4239),i=r(7005);t.exports=function(t){return i(t)&&"[object Arguments]"==n(t)}},939:(t,e,r)=>{var n=r(2492),i=r(7005);t.exports=function t(e,r,o,a,s){return e===r||(null==e||null==r||!i(e)&&!i(r)?e!=e&&r!=r:n(e,r,o,a,t,s))}},2492:(t,e,r)=>{var n=r(6384),i=r(7114),o=r(8351),a=r(6096),s=r(4160),u=r(1469),c=r(4144),h=r(6719),f="[object Arguments]",l="[object Array]",p="[object Object]",v=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,d,g,_){var y=u(t),m=u(e),b=y?l:s(t),x=m?l:s(e),w=(b=b==f?p:b)==p,E=(x=x==f?p:x)==p,O=b==x;if(O&&c(t)){if(!c(e))return!1;y=!0,w=!1}if(O&&!w)return _||(_=new n),y||h(t)?i(t,e,r,d,g,_):o(t,e,b,r,d,g,_);if(!(1&r)){var S=w&&v.call(t,"__wrapped__"),A=E&&v.call(e,"__wrapped__");if(S||A){var I=S?t.value():t,j=A?e.value():e;return _||(_=new n),g(I,j,r,d,_)}}return!!O&&(_||(_=new n),a(t,e,r,d,g,_))}},5588:(t,e,r)=>{var n=r(4160),i=r(7005);t.exports=function(t){return i(t)&&"[object Map]"==n(t)}},2958:(t,e,r)=>{var n=r(6384),i=r(939);t.exports=function(t,e,r,o){var a=r.length,s=a,u=!o;if(null==t)return!s;for(t=Object(t);a--;){var c=r[a];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<s;){var h=(c=r[a])[0],f=t[h],l=c[1];if(u&&c[2]){if(void 0===f&&!(h in t))return!1}else{var p=new n;if(o)var v=o(f,l,h,t,e,p);if(!(void 0===v?i(l,f,3,o,p):v))return!1}}return!0}},2722:t=>{t.exports=function(t){return t!=t}},8458:(t,e,r)=>{var n=r(3560),i=r(5346),o=r(3218),a=r(346),s=/^\\[object .+?Constructor\\]$/,u=Function.prototype,c=Object.prototype,h=u.toString,f=c.hasOwnProperty,l=RegExp("^"+h.call(f).replace(/[\\\\^$.*+?()[\\]{}|]/g,"\\\\$&").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(n(t)?l:s).test(a(t))}},9221:(t,e,r)=>{var n=r(4160),i=r(7005);t.exports=function(t){return i(t)&&"[object Set]"==n(t)}},8749:(t,e,r)=>{var n=r(4239),i=r(1780),o=r(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[n(t)]}},7206:(t,e,r)=>{var n=r(1573),i=r(6432),o=r(6557),a=r(1469),s=r(9601);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):n(t):s(t)}},280:(t,e,r)=>{var n=r(5726),i=r(6916),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=[];for(var r in Object(t))o.call(t,r)&&"constructor"!=r&&e.push(r);return e}},313:(t,e,r)=>{var n=r(3218),i=r(5726),o=r(3498),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=i(t),r=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&r.push(s);return r}},9435:t=>{t.exports=function(){}},433:t=>{t.exports=function(t,e){return t<e}},9199:(t,e,r)=>{var n=r(9881),i=r(8612);t.exports=function(t,e){var r=-1,o=i(t)?Array(t.length):[];return n(t,(function(t,n,i){o[++r]=e(t,n,i)})),o}},1573:(t,e,r)=>{var n=r(2958),i=r(1499),o=r(2634);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(r){return r===t||n(r,t,e)}}},6432:(t,e,r)=>{var n=r(939),i=r(7361),o=r(9095),a=r(5403),s=r(9162),u=r(2634),c=r(327);t.exports=function(t,e){return a(t)&&s(e)?u(c(t),e):function(r){var a=i(r,t);return void 0===a&&a===e?o(r,t):n(e,a,3)}}},371:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},9152:(t,e,r)=>{var n=r(7786);t.exports=function(t){return function(e){return n(e,t)}}},8045:(t,e,r)=>{var n=r(6557),i=r(9250),o=i?function(t,e){return i.set(t,e),t}:n;t.exports=o},6560:(t,e,r)=>{var n=r(5703),i=r(8777),o=r(6557),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:o;t.exports=a},2545:t=>{t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},9841:(t,e,r)=>{var n=r(3448);t.exports=function(t){return"number"==typeof t?t:n(t)?NaN:+t}},531:(t,e,r)=>{var n=r(2705),i=r(9932),o=r(1469),a=r(3448),s=n?n.prototype:void 0,u=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return u?u.call(e):"";var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r}},7561:(t,e,r)=>{var n=r(7990),i=/^\\s+/;t.exports=function(t){return t?t.slice(0,n(t)+1).replace(i,""):t}},7518:t=>{t.exports=function(t){return function(e){return t(e)}}},7415:(t,e,r)=>{var n=r(9932);t.exports=function(t,e){return n(e,(function(e){return t[e]}))}},4757:t=>{t.exports=function(t,e){return t.has(e)}},1811:(t,e,r)=>{var n=r(1469),i=r(5403),o=r(5514),a=r(9833);t.exports=function(t,e){return n(t)?t:i(t,e)?[t]:o(a(t))}},4318:(t,e,r)=>{var n=r(1149);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},4626:(t,e,r)=>{t=r.nmd(t);var n=r(5639),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=s?s(r):new t.constructor(r);return t.copy(n),n}},7157:(t,e,r)=>{var n=r(4318);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}},3147:t=>{var e=/\\w*$/;t.exports=function(t){var r=new t.constructor(t.source,e.exec(t));return r.lastIndex=t.lastIndex,r}},419:(t,e,r)=>{var n=r(2705),i=n?n.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},7133:(t,e,r)=>{var n=r(4318);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},2157:t=>{var e=Math.max;t.exports=function(t,r,n,i){for(var o=-1,a=t.length,s=n.length,u=-1,c=r.length,h=e(a-s,0),f=Array(c+h),l=!i;++u<c;)f[u]=r[u];for(;++o<s;)(l||o<a)&&(f[n[o]]=t[o]);for(;h--;)f[u++]=t[o++];return f}},4054:t=>{var e=Math.max;t.exports=function(t,r,n,i){for(var o=-1,a=t.length,s=-1,u=n.length,c=-1,h=r.length,f=e(a-u,0),l=Array(f+h),p=!i;++o<f;)l[o]=t[o];for(var v=o;++c<h;)l[v+c]=r[c];for(;++s<u;)(p||o<a)&&(l[v+n[s]]=t[o++]);return l}},278:t=>{t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},8363:(t,e,r)=>{var n=r(4865),i=r(9465);t.exports=function(t,e,r,o){var a=!r;r||(r={});for(var s=-1,u=e.length;++s<u;){var c=e[s],h=o?o(r[c],t[c],c,r,t):void 0;void 0===h&&(h=t[c]),a?i(r,c,h):n(r,c,h)}return r}},8805:(t,e,r)=>{var n=r(8363),i=r(9551);t.exports=function(t,e){return n(t,i(t),e)}},1911:(t,e,r)=>{var n=r(8363),i=r(1442);t.exports=function(t,e){return n(t,i(t),e)}},4429:(t,e,r)=>{var n=r(5639)["__core-js_shared__"];t.exports=n},7991:t=>{t.exports=function(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}},9291:(t,e,r)=>{var n=r(8612);t.exports=function(t,e){return function(r,i){if(null==r)return r;if(!n(r))return t(r,i);for(var o=r.length,a=e?o:-1,s=Object(r);(e?a--:++a<o)&&!1!==i(s[a],a,s););return r}}},5063:t=>{t.exports=function(t){return function(e,r,n){for(var i=-1,o=Object(e),a=n(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===r(o[u],u,o))break}return e}}},2402:(t,e,r)=>{var n=r(1774),i=r(5639);t.exports=function(t,e,r){var o=1&e,a=n(t);return function e(){return(this&&this!==i&&this instanceof e?a:t).apply(o?r:this,arguments)}}},1774:(t,e,r)=>{var n=r(3118),i=r(3218);t.exports=function(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=n(t.prototype),o=t.apply(r,e);return i(o)?o:r}}},6347:(t,e,r)=>{var n=r(6874),i=r(1774),o=r(6935),a=r(4487),s=r(893),u=r(6460),c=r(5639);t.exports=function(t,e,r){var h=i(t);return function i(){for(var f=arguments.length,l=Array(f),p=f,v=s(i);p--;)l[p]=arguments[p];var d=f<3&&l[0]!==v&&l[f-1]!==v?[]:u(l,v);return(f-=d.length)<r?a(t,e,o,i.placeholder,void 0,l,d,void 0,void 0,r-f):n(this&&this!==c&&this instanceof i?h:t,this,l)}}},6935:(t,e,r)=>{var n=r(2157),i=r(4054),o=r(7991),a=r(1774),s=r(4487),u=r(893),c=r(451),h=r(6460),f=r(5639);t.exports=function t(e,r,l,p,v,d,g,_,y,m){var b=128&r,x=1&r,w=2&r,E=24&r,O=512&r,S=w?void 0:a(e);return function A(){for(var I=arguments.length,j=Array(I),M=I;M--;)j[M]=arguments[M];if(E)var D=u(A),R=o(j,D);if(p&&(j=n(j,p,v,E)),d&&(j=i(j,d,g,E)),I-=R,E&&I<m){var z=h(j,D);return s(e,r,t,A.placeholder,l,j,z,_,y,m-I)}var k=x?l:this,T=w?k[e]:e;return I=j.length,_?j=c(j,_):O&&I>1&&j.reverse(),b&&y<I&&(j.length=y),this&&this!==f&&this instanceof A&&(T=S||a(T)),T.apply(k,j)}}},7273:(t,e,r)=>{var n=r(9841),i=r(531);t.exports=function(t,e){return function(r,o){var a;if(void 0===r&&void 0===o)return e;if(void 0!==r&&(a=r),void 0!==o){if(void 0===a)return o;"string"==typeof r||"string"==typeof o?(r=i(r),o=i(o)):(r=n(r),o=n(o)),a=t(r,o)}return a}}},4375:(t,e,r)=>{var n=r(6874),i=r(1774),o=r(5639);t.exports=function(t,e,r,a){var s=1&e,u=i(t);return function e(){for(var i=-1,c=arguments.length,h=-1,f=a.length,l=Array(f+c),p=this&&this!==o&&this instanceof e?u:t;++h<f;)l[h]=a[h];for(;c--;)l[h++]=arguments[++i];return n(p,s?r:this,l)}}},4487:(t,e,r)=>{var n=r(6528),i=r(258),o=r(9255);t.exports=function(t,e,r,a,s,u,c,h,f,l){var p=8&e;e|=p?32:64,4&(e&=~(p?64:32))||(e&=-4);var v=[t,e,s,p?u:void 0,p?c:void 0,p?void 0:u,p?void 0:c,h,f,l],d=r.apply(void 0,v);return n(t)&&i(d,v),d.placeholder=a,o(d,t,e)}},9179:(t,e,r)=>{var n=r(5639),i=r(554),o=r(4841),a=r(9833),s=n.isFinite,u=Math.min;t.exports=function(t){var e=Math[t];return function(t,r){if(t=o(t),(r=null==r?0:u(i(r),292))&&s(t)){var n=(a(t)+"e").split("e"),c=e(n[0]+"e"+(+n[1]+r));return+((n=(a(c)+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}},7727:(t,e,r)=>{var n=r(8045),i=r(2402),o=r(6347),a=r(6935),s=r(4375),u=r(6833),c=r(3833),h=r(258),f=r(9255),l=r(554),p=Math.max;t.exports=function(t,e,r,v,d,g,_,y){var m=2&e;if(!m&&"function"!=typeof t)throw new TypeError("Expected a function");var b=v?v.length:0;if(b||(e&=-97,v=d=void 0),_=void 0===_?_:p(l(_),0),y=void 0===y?y:l(y),b-=d?d.length:0,64&e){var x=v,w=d;v=d=void 0}var E=m?void 0:u(t),O=[t,e,r,v,d,x,w,g,_,y];if(E&&c(O,E),t=O[0],e=O[1],r=O[2],v=O[3],d=O[4],!(y=O[9]=void 0===O[9]?m?0:t.length:p(O[9]-b,0))&&24&e&&(e&=-25),e&&1!=e)S=8==e||16==e?o(t,e,y):32!=e&&33!=e||d.length?a.apply(void 0,O):s(t,e,r,v);else var S=i(t,e,r);return f((E?n:h)(S,O),t,e)}},8777:(t,e,r)=>{var n=r(852),i=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=i},7114:(t,e,r)=>{var n=r(8668),i=r(2908),o=r(4757);t.exports=function(t,e,r,a,s,u){var c=1&r,h=t.length,f=e.length;if(h!=f&&!(c&&f>h))return!1;var l=u.get(t),p=u.get(e);if(l&&p)return l==e&&p==t;var v=-1,d=!0,g=2&r?new n:void 0;for(u.set(t,e),u.set(e,t);++v<h;){var _=t[v],y=e[v];if(a)var m=c?a(y,_,v,e,t,u):a(_,y,v,t,e,u);if(void 0!==m){if(m)continue;d=!1;break}if(g){if(!i(e,(function(t,e){if(!o(g,e)&&(_===t||s(_,t,r,a,u)))return g.push(e)}))){d=!1;break}}else if(_!==y&&!s(_,y,r,a,u)){d=!1;break}}return u.delete(t),u.delete(e),d}},8351:(t,e,r)=>{var n=r(2705),i=r(1149),o=r(7813),a=r(7114),s=r(8776),u=r(1814),c=n?n.prototype:void 0,h=c?c.valueOf:void 0;t.exports=function(t,e,r,n,c,f,l){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!f(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var p=s;case"[object Set]":var v=1&n;if(p||(p=u),t.size!=e.size&&!v)return!1;var d=l.get(t);if(d)return d==e;n|=2,l.set(t,e);var g=a(p(t),p(e),n,c,f,l);return l.delete(t),g;case"[object Symbol]":if(h)return h.call(t)==h.call(e)}return!1}},6096:(t,e,r)=>{var n=r(8234),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,o,a,s){var u=1&r,c=n(t),h=c.length;if(h!=n(e).length&&!u)return!1;for(var f=h;f--;){var l=c[f];if(!(u?l in e:i.call(e,l)))return!1}var p=s.get(t),v=s.get(e);if(p&&v)return p==e&&v==t;var d=!0;s.set(t,e),s.set(e,t);for(var g=u;++f<h;){var _=t[l=c[f]],y=e[l];if(o)var m=u?o(y,_,l,e,t,s):o(_,y,l,t,e,s);if(!(void 0===m?_===y||a(_,y,r,o,s):m)){d=!1;break}g||(g="constructor"==l)}if(d&&!g){var b=t.constructor,x=e.constructor;b==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x||(d=!1)}return s.delete(t),s.delete(e),d}},9021:(t,e,r)=>{var n=r(5564),i=r(5357),o=r(61);t.exports=function(t){return o(i(t,void 0,n),t+"")}},1957:(t,e,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},8234:(t,e,r)=>{var n=r(8866),i=r(9551),o=r(3674);t.exports=function(t){return n(t,o,i)}},6904:(t,e,r)=>{var n=r(8866),i=r(1442),o=r(1704);t.exports=function(t){return n(t,o,i)}},6833:(t,e,r)=>{var n=r(9250),i=r(308),o=n?function(t){return n.get(t)}:i;t.exports=o},7658:(t,e,r)=>{var n=r(2060),i=Object.prototype.hasOwnProperty;t.exports=function(t){for(var e=t.name+"",r=n[e],o=i.call(n,e)?r.length:0;o--;){var a=r[o],s=a.func;if(null==s||s==t)return a.name}return e}},893:t=>{t.exports=function(t){return t.placeholder}},5050:(t,e,r)=>{var n=r(7019);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},1499:(t,e,r)=>{var n=r(9162),i=r(3674);t.exports=function(t){for(var e=i(t),r=e.length;r--;){var o=e[r],a=t[o];e[r]=[o,a,n(a)]}return e}},852:(t,e,r)=>{var n=r(8458),i=r(7801);t.exports=function(t,e){var r=i(t,e);return n(r)?r:void 0}},5924:(t,e,r)=>{var n=r(5569)(Object.getPrototypeOf,Object);t.exports=n},9607:(t,e,r)=>{var n=r(2705),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=n?n.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),r=t[s];try{t[s]=void 0;var n=!0}catch(u){}var i=a.call(t);return n&&(e?t[s]=r:delete t[s]),i}},9551:(t,e,r)=>{var n=r(4963),i=r(479),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),n(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},1442:(t,e,r)=>{var n=r(2488),i=r(5924),o=r(9551),a=r(479),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)n(e,o(t)),t=i(t);return e}:a;t.exports=s},4160:(t,e,r)=>{var n=r(8552),i=r(7071),o=r(3818),a=r(8525),s=r(577),u=r(4239),c=r(346),h="[object Map]",f="[object Promise]",l="[object Set]",p="[object WeakMap]",v="[object DataView]",d=c(n),g=c(i),_=c(o),y=c(a),m=c(s),b=u;(n&&b(new n(new ArrayBuffer(1)))!=v||i&&b(new i)!=h||o&&b(o.resolve())!=f||a&&b(new a)!=l||s&&b(new s)!=p)&&(b=function(t){var e=u(t),r="[object Object]"==e?t.constructor:void 0,n=r?c(r):"";if(n)switch(n){case d:return v;case g:return h;case _:return f;case y:return l;case m:return p}return e}),t.exports=b},7801:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},8775:t=>{var e=/\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,r=/,? & /;t.exports=function(t){var n=t.match(e);return n?n[1].split(r):[]}},222:(t,e,r)=>{var n=r(1811),i=r(5694),o=r(1469),a=r(5776),s=r(1780),u=r(327);t.exports=function(t,e,r){for(var c=-1,h=(e=n(e,t)).length,f=!1;++c<h;){var l=u(e[c]);if(!(f=null!=t&&r(t,l)))break;t=t[l]}return f||++c!=h?f:!!(h=null==t?0:t.length)&&s(h)&&a(l,h)&&(o(t)||i(t))}},1789:(t,e,r)=>{var n=r(4536);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},401:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},7667:(t,e,r)=>{var n=r(4536),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(e,t)?e[t]:void 0}},1327:(t,e,r)=>{var n=r(4536),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:i.call(e,t)}},1866:(t,e,r)=>{var n=r(4536);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},3824:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t){var r=t.length,n=new t.constructor(r);return r&&"string"==typeof t[0]&&e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}},9148:(t,e,r)=>{var n=r(4318),i=r(7157),o=r(3147),a=r(419),s=r(7133);t.exports=function(t,e,r){var u=t.constructor;switch(e){case"[object ArrayBuffer]":return n(t);case"[object Boolean]":case"[object Date]":return new u(+t);case"[object DataView]":return i(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,r);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(t);case"[object RegExp]":return o(t);case"[object Symbol]":return a(t)}}},8517:(t,e,r)=>{var n=r(3118),i=r(5924),o=r(5726);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:n(i(t))}},3112:t=>{var e=/\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/;t.exports=function(t,r){var n=r.length;if(!n)return t;var i=n-1;return r[i]=(n>1?"& ":"")+r[i],r=r.join(n>2?", ":" "),t.replace(e,"{\\n/* [wrapped with "+r+"] */\\n")}},7285:(t,e,r)=>{var n=r(2705),i=r(5694),o=r(1469),a=n?n.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},5776:t=>{var e=/^(?:0|[1-9]\\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},5403:(t,e,r)=>{var n=r(1469),i=r(3448),o=/\\.|\\[(?:[^[\\]]*|(["\'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,a=/^\\w*$/;t.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!i(t))||(a.test(t)||!o.test(t)||null!=e&&t in Object(e))}},7019:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},6528:(t,e,r)=>{var n=r(6425),i=r(6833),o=r(7658),a=r(8111);t.exports=function(t){var e=o(t),r=a[e];if("function"!=typeof r||!(e in n.prototype))return!1;if(t===r)return!0;var s=i(r);return!!s&&t===s[0]}},5346:(t,e,r)=>{var n,i=r(4429),o=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!o&&o in t}},5726:t=>{var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},9162:(t,e,r)=>{var n=r(3218);t.exports=function(t){return t==t&&!n(t)}},7040:t=>{t.exports=function(){this.__data__=[],this.size=0}},4125:(t,e,r)=>{var n=r(8470),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0)&&(r==e.length-1?e.pop():i.call(e,r,1),--this.size,!0)}},2117:(t,e,r)=>{var n=r(8470);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},7529:(t,e,r)=>{var n=r(8470);t.exports=function(t){return n(this.__data__,t)>-1}},4705:(t,e,r)=>{var n=r(8470);t.exports=function(t,e){var r=this.__data__,i=n(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this}},4785:(t,e,r)=>{var n=r(1989),i=r(8407),o=r(7071);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||i),string:new n}}},1285:(t,e,r)=>{var n=r(5050);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},6e3:(t,e,r)=>{var n=r(5050);t.exports=function(t){return n(this,t).get(t)}},9916:(t,e,r)=>{var n=r(5050);t.exports=function(t){return n(this,t).has(t)}},5265:(t,e,r)=>{var n=r(5050);t.exports=function(t,e){var r=n(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this}},8776:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}},2634:t=>{t.exports=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}},4523:(t,e,r)=>{var n=r(8306);t.exports=function(t){var e=n(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},3833:(t,e,r)=>{var n=r(2157),i=r(4054),o=r(6460),a="__lodash_placeholder__",s=128,u=Math.min;t.exports=function(t,e){var r=t[1],c=e[1],h=r|c,f=h<131,l=c==s&&8==r||c==s&&256==r&&t[7].length<=e[8]||384==c&&e[7].length<=e[8]&&8==r;if(!f&&!l)return t;1&c&&(t[2]=e[2],h|=1&r?0:4);var p=e[3];if(p){var v=t[3];t[3]=v?n(v,p,e[4]):p,t[4]=v?o(t[3],a):e[4]}return(p=e[5])&&(v=t[5],t[5]=v?i(v,p,e[6]):p,t[6]=v?o(t[5],a):e[6]),(p=e[7])&&(t[7]=p),c&s&&(t[8]=null==t[8]?e[8]:u(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=h,t}},9250:(t,e,r)=>{var n=r(577),i=n&&new n;t.exports=i},4536:(t,e,r)=>{var n=r(852)(Object,"create");t.exports=n},6916:(t,e,r)=>{var n=r(5569)(Object.keys,Object);t.exports=n},3498:t=>{t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},1167:(t,e,r)=>{t=r.nmd(t);var n=r(1957),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i&&n.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=s},2333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5569:t=>{t.exports=function(t,e){return function(r){return t(e(r))}}},5357:(t,e,r)=>{var n=r(6874),i=Math.max;t.exports=function(t,e,r){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),u=Array(s);++a<s;)u[a]=o[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=o[a];return c[e]=r(u),n(t,this,c)}}},2060:t=>{t.exports={}},451:(t,e,r)=>{var n=r(278),i=r(5776),o=Math.min;t.exports=function(t,e){for(var r=t.length,a=o(e.length,r),s=n(t);a--;){var u=e[a];t[a]=i(u,r)?s[u]:void 0}return t}},6460:t=>{var e="__lodash_placeholder__";t.exports=function(t,r){for(var n=-1,i=t.length,o=0,a=[];++n<i;){var s=t[n];s!==r&&s!==e||(t[n]=e,a[o++]=n)}return a}},5639:(t,e,r)=>{var n=r(1957),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();t.exports=o},619:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},2385:t=>{t.exports=function(t){return this.__data__.has(t)}},258:(t,e,r)=>{var n=r(8045),i=r(1275)(n);t.exports=i},1814:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}},61:(t,e,r)=>{var n=r(6560),i=r(1275)(n);t.exports=i},9255:(t,e,r)=>{var n=r(8775),i=r(3112),o=r(61),a=r(7241);t.exports=function(t,e,r){var s=e+"";return o(t,i(s,a(n(s),r)))}},1275:t=>{var e=Date.now;t.exports=function(t){var r=0,n=0;return function(){var i=e(),o=16-(i-n);if(n=i,o>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}},7465:(t,e,r)=>{var n=r(8407);t.exports=function(){this.__data__=new n,this.size=0}},3779:t=>{t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},7599:t=>{t.exports=function(t){return this.__data__.get(t)}},4758:t=>{t.exports=function(t){return this.__data__.has(t)}},4309:(t,e,r)=>{var n=r(8407),i=r(7071),o=r(3369);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++r.size,this;r=this.__data__=new o(a)}return r.set(t,e),this.size=r.size,this}},2351:t=>{t.exports=function(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}},5514:(t,e,r)=>{var n=r(4523),i=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["\'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,o=/\\\\(\\\\)?/g,a=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,r,n,i){e.push(n?i.replace(o,"$1"):r||t)})),e}));t.exports=a},327:(t,e,r)=>{var n=r(3448);t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}},346:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(r){}try{return t+""}catch(r){}}return""}},7990:t=>{var e=/\\s/;t.exports=function(t){for(var r=t.length;r--&&e.test(t.charAt(r)););return r}},7241:(t,e,r)=>{var n=r(7412),i=r(7443),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];t.exports=function(t,e){return n(o,(function(r){var n="_."+r[0];e&r[1]&&!i(t,n)&&t.push(n)})),t.sort()}},1913:(t,e,r)=>{var n=r(6425),i=r(7548),o=r(278);t.exports=function(t){if(t instanceof n)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=o(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}},874:(t,e,r)=>{var n=r(7273)((function(t,e){return t+e}),0);t.exports=n},9514:(t,e,r)=>{var n=r(7727);t.exports=function(t,e,r){return e=r?void 0:e,e=t&&null==e?t.length:e,n(t,128,void 0,void 0,void 0,void 0,e)}},8342:(t,e,r)=>{var n=r(9179)("ceil");t.exports=n},6678:(t,e,r)=>{var n=r(5990);t.exports=function(t){return n(t,4)}},7043:(t,e,r)=>{var n=r(2488),i=r(1078),o=r(278),a=r(1469);t.exports=function(){var t=arguments.length;if(!t)return[];for(var e=Array(t-1),r=arguments[0],s=t;s--;)e[s-1]=arguments[s];return n(a(r)?o(r):[r],i(e,1))}},5703:t=>{t.exports=function(t){return function(){return t}}},87:(t,e,r)=>{var n=r(7727);function i(t,e,r){var o=n(t,8,void 0,void 0,void 0,void 0,void 0,e=r?void 0:e);return o.placeholder=i.placeholder,o}i.placeholder={},t.exports=i},7813:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},4654:(t,e,r)=>{var n=r(1078),i=r(5161);t.exports=function(t,e){return n(i(t,e),1)}},5564:(t,e,r)=>{var n=r(1078);t.exports=function(t){return(null==t?0:t.length)?n(t,1):[]}},5666:(t,e,r)=>{var n=r(7727);t.exports=function(t){return n(t,512)}},4599:(t,e,r)=>{var n=r(8836),i=r(9306),o=Array.prototype.push;function a(t,e){return 2==e?function(e,r){return t(e,r)}:function(e){return t(e)}}function s(t){for(var e=t?t.length:0,r=Array(e);e--;)r[e]=t[e];return r}function u(t,e){return function(){var r=arguments.length;if(r){for(var n=Array(r);r--;)n[r]=arguments[r];var i=n[0]=e.apply(void 0,n);return t.apply(void 0,n),i}}}t.exports=function t(e,r,c,h){var f="function"==typeof r,l=r===Object(r);if(l&&(h=c,c=r,r=void 0),null==c)throw new TypeError;h||(h={});var p={cap:!("cap"in h)||h.cap,curry:!("curry"in h)||h.curry,fixed:!("fixed"in h)||h.fixed,immutable:!("immutable"in h)||h.immutable,rearg:!("rearg"in h)||h.rearg},v=f?c:i,d="curry"in h&&h.curry,g="fixed"in h&&h.fixed,_="rearg"in h&&h.rearg,y=f?c.runInContext():void 0,m=f?c:{ary:e.ary,assign:e.assign,clone:e.clone,curry:e.curry,forEach:e.forEach,isArray:e.isArray,isError:e.isError,isFunction:e.isFunction,isWeakMap:e.isWeakMap,iteratee:e.iteratee,keys:e.keys,rearg:e.rearg,toInteger:e.toInteger,toPath:e.toPath},b=m.ary,x=m.assign,w=m.clone,E=m.curry,O=m.forEach,S=m.isArray,A=m.isError,I=m.isFunction,j=m.isWeakMap,M=m.keys,D=m.rearg,R=m.toInteger,z=m.toPath,k=M(n.aryMethod),T={castArray:function(t){return function(){var e=arguments[0];return S(e)?t(s(e)):t.apply(void 0,arguments)}},iteratee:function(t){return function(){var e=arguments[1],r=t(arguments[0],e),n=r.length;return p.cap&&"number"==typeof e?(e=e>2?e-2:1,n&&n<=e?r:a(r,e)):r}},mixin:function(t){return function(e){var r=this;if(!I(r))return t(r,Object(e));var n=[];return O(M(e),(function(t){I(e[t])&&n.push([t,r.prototype[t]])})),t(r,Object(e)),O(n,(function(t){var e=t[1];I(e)?r.prototype[t[0]]=e:delete r.prototype[t[0]]})),r}},nthArg:function(t){return function(e){var r=e<0?1:R(e)+1;return E(t(e),r)}},rearg:function(t){return function(e,r){var n=r?r.length:0;return E(t(e,r),n)}},runInContext:function(r){return function(n){return t(e,r(n),h)}}};function N(t,e){if(p.cap){var r=n.iterateeRearg[t];if(r)return function(t,e){return U(t,(function(t){var r=e.length;return function(t,e){return 2==e?function(e,r){return t.apply(void 0,arguments)}:function(e){return t.apply(void 0,arguments)}}(D(a(t,r),e),r)}))}(e,r);var i=!f&&n.iterateeAry[t];if(i)return function(t,e){return U(t,(function(t){return"function"==typeof t?a(t,e):t}))}(e,i)}return e}function L(t,e,r){if(p.fixed&&(g||!n.skipFixed[t])){var i=n.methodSpread[t],a=i&&i.start;return void 0===a?b(e,r):function(t,e){return function(){for(var r=arguments.length,n=r-1,i=Array(r);r--;)i[r]=arguments[r];var a=i[e],s=i.slice(0,e);return a&&o.apply(s,a),e!=n&&o.apply(s,i.slice(e+1)),t.apply(this,s)}}(e,a)}return e}function P(t,e,r){return p.rearg&&r>1&&(_||!n.skipRearg[t])?D(e,n.methodRearg[t]||n.aryRearg[r]):e}function C(t,e){for(var r=-1,n=(e=z(e)).length,i=n-1,o=w(Object(t)),a=o;null!=a&&++r<n;){var s=e[r],u=a[s];null==u||I(u)||A(u)||j(u)||(a[s]=w(r==i?u:Object(u))),a=a[s]}return o}function W(e,r){var i=n.aliasToReal[e]||e,o=n.remap[i]||i,a=h;return function(e){var n=f?y:m,s=f?y[o]:r,u=x(x({},a),e);return t(n,i,s,u)}}function U(t,e){return function(){var r=arguments.length;if(!r)return t();for(var n=Array(r);r--;)n[r]=arguments[r];var i=p.rearg?0:r-1;return n[i]=e(n[i]),t.apply(void 0,n)}}function q(t,e,r){var i,o=n.aliasToReal[t]||t,a=e,c=T[o];return c?a=c(e):p.immutable&&(n.mutate.array[o]?a=u(e,s):n.mutate.object[o]?a=u(e,function(t){return function(e){return t({},e)}}(e)):n.mutate.set[o]&&(a=u(e,C))),O(k,(function(t){return O(n.aryMethod[t],(function(e){if(o==e){var r=n.methodSpread[o],s=r&&r.afterRearg;return i=s?L(o,P(o,a,t),t):P(o,L(o,a,t),t),i=function(t,e,r){return d||p.curry&&r>1?E(e,r):e}(0,i=N(o,i),t),!1}})),!i})),i||(i=a),i==e&&(i=d?E(i,1):function(){return e.apply(this,arguments)}),i.convert=W(o,e),i.placeholder=e.placeholder=r,i}if(!l)return q(r,c,v);var B=c,F=[];return O(k,(function(t){O(n.aryMethod[t],(function(t){var e=B[n.remap[t]||t];e&&F.push([t,q(t,e,B)])}))})),O(M(B),(function(t){var e=B[t];if("function"==typeof e){for(var r=F.length;r--;)if(F[r][0]==t)return;e.convert=W(t,e),F.push([t,e])}})),O(F,(function(t){B[t[0]]=t[1]})),B.convert=function(t){return B.runInContext.convert(t)(void 0)},B.placeholder=B,O(M(B),(function(t){O(n.realToAlias[t]||[],(function(e){B[e]=B[t]}))})),B}},9087:t=>{t.exports={cap:!1,curry:!1,fixed:!1,immutable:!1,rearg:!1}},8836:(t,e)=>{e.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},e.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},e.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},e.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},e.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},e.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},e.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},e.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},e.realToAlias=function(){var t=Object.prototype.hasOwnProperty,r=e.aliasToReal,n={};for(var i in r){var o=r[i];t.call(n,o)?n[o].push(i):n[o]=[i]}return n}(),e.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},e.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},e.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},4269:(t,e,r)=>{t.exports={ary:r(9514),assign:r(4037),clone:r(6678),curry:r(87),forEach:r(7412),isArray:r(1469),isError:r(4647),isFunction:r(3560),isWeakMap:r(1018),iteratee:r(2594),keys:r(280),rearg:r(3678),toInteger:r(554),toPath:r(84)}},4432:(t,e,r)=>{var n=r(2822)("add",r(874));n.placeholder=r(9306),t.exports=n},4372:(t,e,r)=>{var n=r(2822)("ceil",r(8342));n.placeholder=r(9306),t.exports=n},2822:(t,e,r)=>{var n=r(4599),i=r(4269);t.exports=function(t,e,r){return n(i,t,e,r)}},9935:(t,e,r)=>{var n=r(2822)("curry",r(87));n.placeholder=r(9306),t.exports=n},6666:(t,e,r)=>{var n=r(2822)("curryN",r(87));n.placeholder=r(9306),t.exports=n},1151:(t,e,r)=>{var n=r(2822)("flatMap",r(4654));n.placeholder=r(9306),t.exports=n},7948:(t,e,r)=>{var n=r(2822)("flip",r(5666),r(9087));n.placeholder=r(9306),t.exports=n},3422:(t,e,r)=>{var n=r(2822)("get",r(7361));n.placeholder=r(9306),t.exports=n},7606:(t,e,r)=>{var n=r(2822)("isEmpty",r(1609),r(9087));n.placeholder=r(9306),t.exports=n},8738:(t,e,r)=>{var n=r(2822)("isString",r(7037),r(9087));n.placeholder=r(9306),t.exports=n},8980:(t,e,r)=>{var n=r(2822)("keys",r(3674),r(9087));n.placeholder=r(9306),t.exports=n},3927:(t,e,r)=>{var n=r(2822)("mapValues",r(6604));n.placeholder=r(9306),t.exports=n},1484:(t,e,r)=>{var n=r(2822)("multiply",r(4064));n.placeholder=r(9306),t.exports=n},9306:t=>{t.exports={}},5825:(t,e,r)=>{var n=r(2822)("round",r(9854));n.placeholder=r(9306),t.exports=n},7382:(t,e,r)=>{var n=r(2822)("subtract",r(306));n.placeholder=r(9306),t.exports=n},7361:(t,e,r)=>{var n=r(7786);t.exports=function(t,e,r){var i=null==t?void 0:n(t,e);return void 0===i?r:i}},9095:(t,e,r)=>{var n=r(13),i=r(222);t.exports=function(t,e){return null!=t&&i(t,e,n)}},6557:t=>{t.exports=function(t){return t}},5694:(t,e,r)=>{var n=r(9454),i=r(7005),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},1469:t=>{var e=Array.isArray;t.exports=e},8612:(t,e,r)=>{var n=r(3560),i=r(1780);t.exports=function(t){return null!=t&&i(t.length)&&!n(t)}},4144:(t,e,r)=>{t=r.nmd(t);var n=r(5639),i=r(5062),o=e&&!e.nodeType&&e,a=o&&t&&!t.nodeType&&t,s=a&&a.exports===o?n.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;t.exports=u},1609:(t,e,r)=>{var n=r(280),i=r(4160),o=r(5694),a=r(1469),s=r(8612),u=r(4144),c=r(5726),h=r(6719),f=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||u(t)||h(t)||o(t)))return!t.length;var e=i(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(c(t))return!n(t).length;for(var r in t)if(f.call(t,r))return!1;return!0}},4647:(t,e,r)=>{var n=r(4239),i=r(7005),o=r(8630);t.exports=function(t){if(!i(t))return!1;var e=n(t);return"[object Error]"==e||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!o(t)}},3560:(t,e,r)=>{var n=r(4239),i=r(3218);t.exports=function(t){if(!i(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1780:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},6688:(t,e,r)=>{var n=r(5588),i=r(7518),o=r(1167),a=o&&o.isMap,s=a?i(a):n;t.exports=s},3218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},8630:(t,e,r)=>{var n=r(4239),i=r(5924),o=r(7005),a=Function.prototype,s=Object.prototype,u=a.toString,c=s.hasOwnProperty,h=u.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=n(t))return!1;var e=i(t);if(null===e)return!0;var r=c.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&u.call(r)==h}},2928:(t,e,r)=>{var n=r(9221),i=r(7518),o=r(1167),a=o&&o.isSet,s=a?i(a):n;t.exports=s},7037:(t,e,r)=>{var n=r(4239),i=r(1469),o=r(7005);t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&"[object String]"==n(t)}},3448:(t,e,r)=>{var n=r(4239),i=r(7005);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==n(t)}},6719:(t,e,r)=>{var n=r(8749),i=r(7518),o=r(1167),a=o&&o.isTypedArray,s=a?i(a):n;t.exports=s},2353:t=>{t.exports=function(t){return void 0===t}},1018:(t,e,r)=>{var n=r(4160),i=r(7005);t.exports=function(t){return i(t)&&"[object WeakMap]"==n(t)}},2594:(t,e,r)=>{var n=r(5990),i=r(7206);t.exports=function(t){return i("function"==typeof t?t:n(t,1))}},3674:(t,e,r)=>{var n=r(4636),i=r(280),o=r(8612);t.exports=function(t){return o(t)?n(t):i(t)}},1704:(t,e,r)=>{var n=r(4636),i=r(313),o=r(8612);t.exports=function(t){return o(t)?n(t,!0):i(t)}},5161:(t,e,r)=>{var n=r(9932),i=r(7206),o=r(9199),a=r(1469);t.exports=function(t,e){return(a(t)?n:o)(t,i(e,3))}},6604:(t,e,r)=>{var n=r(9465),i=r(7816),o=r(7206);t.exports=function(t,e){var r={};return e=o(e,3),i(t,(function(t,i,o){n(r,i,e(t,i,o))})),r}},8306:(t,e,r)=>{var n=r(3369);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(i.Cache||n),r}i.Cache=n,t.exports=i},2762:(t,e,r)=>{var n=r(6029),i=r(7206),o=r(433);t.exports=function(t,e){return t&&t.length?n(t,i(e,2),o):void 0}},4064:(t,e,r)=>{var n=r(7273)((function(t,e){return t*e}),1);t.exports=n},308:t=>{t.exports=function(){}},9601:(t,e,r)=>{var n=r(371),i=r(9152),o=r(5403),a=r(327);t.exports=function(t){return o(t)?n(a(t)):i(t)}},3678:(t,e,r)=>{var n=r(7727),i=r(9021),o=i((function(t,e){return n(t,256,void 0,void 0,void 0,e)}));t.exports=o},9854:(t,e,r)=>{var n=r(9179)("round");t.exports=n},479:t=>{t.exports=function(){return[]}},5062:t=>{t.exports=function(){return!1}},306:(t,e,r)=>{var n=r(7273)((function(t,e){return t-e}),0);t.exports=n},8601:(t,e,r)=>{var n=r(4841),i=1/0;t.exports=function(t){return t?(t=n(t))===i||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},554:(t,e,r)=>{var n=r(8601);t.exports=function(t){var e=n(t),r=e%1;return e==e?r?e-r:e:0}},4841:(t,e,r)=>{var n=r(7561),i=r(3218),o=r(3448),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=n(t);var r=s.test(t);return r||u.test(t)?c(t.slice(2),r?2:8):a.test(t)?NaN:+t}},84:(t,e,r)=>{var n=r(9932),i=r(278),o=r(1469),a=r(3448),s=r(5514),u=r(327),c=r(9833);t.exports=function(t){return o(t)?n(t,u):a(t)?[t]:i(s(c(t)))}},9833:(t,e,r)=>{var n=r(531);t.exports=function(t){return null==t?"":n(t)}},2628:(t,e,r)=>{var n=r(7415),i=r(3674);t.exports=function(t){return null==t?[]:n(t,i(t))}},8111:(t,e,r)=>{var n=r(6425),i=r(7548),o=r(9435),a=r(1469),s=r(7005),u=r(1913),c=Object.prototype.hasOwnProperty;function h(t){if(s(t)&&!a(t)&&!(t instanceof n)){if(t instanceof i)return t;if(c.call(t,"__wrapped__"))return u(t)}return new i(t)}h.prototype=o.prototype,h.prototype.constructor=h,t.exports=h},5637:(t,e)=>{function r(t,e){if(!(this instanceof r))return new r(t,e);this.x=t||0,this.y=e||0}t.exports=r,r.fromArray=function(t){return new r(t[0]||0,t[1]||0)},r.fromObject=function(t){return new r(t.x||0,t.y||0)},r.prototype.addX=function(t){return this.x+=t.x,this},r.prototype.addY=function(t){return this.y+=t.y,this},r.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},r.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this},r.prototype.addScalarX=function(t){return this.x+=t,this},r.prototype.addScalarY=function(t){return this.y+=t,this},r.prototype.subtractX=function(t){return this.x-=t.x,this},r.prototype.subtractY=function(t){return this.y-=t.y,this},r.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this},r.prototype.subtractScalar=function(t){return this.x-=t,this.y-=t,this},r.prototype.subtractScalarX=function(t){return this.x-=t,this},r.prototype.subtractScalarY=function(t){return this.y-=t,this},r.prototype.divideX=function(t){return this.x/=t.x,this},r.prototype.divideY=function(t){return this.y/=t.y,this},r.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this},r.prototype.divideScalar=function(t){return 0!==t?(this.x/=t,this.y/=t):(this.x=0,this.y=0),this},r.prototype.divideScalarX=function(t){return 0!==t?this.x/=t:this.x=0,this},r.prototype.divideScalarY=function(t){return 0!==t?this.y/=t:this.y=0,this},r.prototype.invertX=function(){return this.x*=-1,this},r.prototype.invertY=function(){return this.y*=-1,this},r.prototype.invert=function(){return this.invertX(),this.invertY(),this},r.prototype.multiplyX=function(t){return this.x*=t.x,this},r.prototype.multiplyY=function(t){return this.y*=t.y,this},r.prototype.multiply=function(t){return this.x*=t.x,this.y*=t.y,this},r.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this},r.prototype.multiplyScalarX=function(t){return this.x*=t,this},r.prototype.multiplyScalarY=function(t){return this.y*=t,this},r.prototype.normalize=function(){var t=this.length();return 0===t?(this.x=1,this.y=0):this.divide(r(t,t)),this},r.prototype.norm=r.prototype.normalize,r.prototype.limit=function(t,e){return Math.abs(this.x)>t&&(this.x*=e),Math.abs(this.y)>t&&(this.y*=e),this},r.prototype.randomize=function(t,e){return this.randomizeX(t,e),this.randomizeY(t,e),this},r.prototype.randomizeX=function(t,e){var r=Math.min(t.x,e.x),n=Math.max(t.x,e.x);return this.x=i(r,n),this},r.prototype.randomizeY=function(t,e){var r=Math.min(t.y,e.y),n=Math.max(t.y,e.y);return this.y=i(r,n),this},r.prototype.randomizeAny=function(t,e){return Math.round(Math.random())?this.randomizeX(t,e):this.randomizeY(t,e),this},r.prototype.unfloat=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},r.prototype.toFixed=function(t){return void 0===t&&(t=8),this.x=this.x.toFixed(t),this.y=this.y.toFixed(t),this},r.prototype.mixX=function(t,e){return void 0===e&&(e=.5),this.x=(1-e)*this.x+e*t.x,this},r.prototype.mixY=function(t,e){return void 0===e&&(e=.5),this.y=(1-e)*this.y+e*t.y,this},r.prototype.mix=function(t,e){return this.mixX(t,e),this.mixY(t,e),this},r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.copyX=function(t){return this.x=t.x,this},r.prototype.copyY=function(t){return this.y=t.y,this},r.prototype.copy=function(t){return this.copyX(t),this.copyY(t),this},r.prototype.zero=function(){return this.x=this.y=0,this},r.prototype.dot=function(t){return this.x*t.x+this.y*t.y},r.prototype.cross=function(t){return this.x*t.y-this.y*t.x},r.prototype.projectOnto=function(t){var e=(this.x*t.x+this.y*t.y)/(t.x*t.x+t.y*t.y);return this.x=e*t.x,this.y=e*t.y,this},r.prototype.horizontalAngle=function(){return Math.atan2(this.y,this.x)},r.prototype.horizontalAngleDeg=function(){return o(this.horizontalAngle())},r.prototype.verticalAngle=function(){return Math.atan2(this.x,this.y)},r.prototype.verticalAngleDeg=function(){return o(this.verticalAngle())},r.prototype.angle=r.prototype.horizontalAngle,r.prototype.angleDeg=r.prototype.horizontalAngleDeg,r.prototype.direction=r.prototype.horizontalAngle,r.prototype.rotate=function(t){var e=this.x*Math.cos(t)-this.y*Math.sin(t),r=this.x*Math.sin(t)+this.y*Math.cos(t);return this.x=e,this.y=r,this},r.prototype.rotateDeg=function(t){return t=a(t),this.rotate(t)},r.prototype.rotateTo=function(t){return this.rotate(t-this.angle())},r.prototype.rotateToDeg=function(t){return t=a(t),this.rotateTo(t)},r.prototype.rotateBy=function(t){var e=this.angle()+t;return this.rotate(e)},r.prototype.rotateByDeg=function(t){return t=a(t),this.rotateBy(t)},r.prototype.distanceX=function(t){return this.x-t.x},r.prototype.absDistanceX=function(t){return Math.abs(this.distanceX(t))},r.prototype.distanceY=function(t){return this.y-t.y},r.prototype.absDistanceY=function(t){return Math.abs(this.distanceY(t))},r.prototype.distance=function(t){return Math.sqrt(this.distanceSq(t))},r.prototype.distanceSq=function(t){var e=this.distanceX(t),r=this.distanceY(t);return e*e+r*r},r.prototype.length=function(){return Math.sqrt(this.lengthSq())},r.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},r.prototype.magnitude=r.prototype.length,r.prototype.isZero=function(){return 0===this.x&&0===this.y},r.prototype.isEqualTo=function(t){return this.x===t.x&&this.y===t.y},r.prototype.toString=function(){return"x:"+this.x+", y:"+this.y},r.prototype.toArray=function(){return[this.x,this.y]},r.prototype.toObject=function(){return{x:this.x,y:this.y}};var n=180/Math.PI;function i(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function o(t){return t*n}function a(t){return t/n}}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";var t={};r.r(t),r.d(t,{reverseScale:()=>ue,cH:()=>he,roundVals:()=>ce,scale:()=>se});r(7606),r(8980);var e=r(3422),n=r.n(e),i=r(6666),o=r.n(i),a=r(7948),s=r.n(a),u=r(9935),c=r.n(u),h=r(3393);const f=t=>h.Iterable.isIterable(t),l=c()(((t,e)=>e?f(e)?e.get(t):Array.isArray(e)?e[t]:null==e?void 0:e[t]:e)),p=c()(((t,e)=>e?f(e)?e.getIn(t):n()(t,e):e));o()(2,s()(l));var v=r(8738),d=r.n(v);p(["content","linkTo"]),p(["content","linkAlias"]),p(["content","permissionId"]);const g=t=>d()(t)?t:l("elementType",t),_=(l("acl"),p(["meta","creator"]),p(["meta","modifiedBy"]),p(["meta","modifiedTime"]),p(["meta","aclModifiedTime"]),p(["meta","significantModified"]),p(["meta","createdTime"]),p(["meta","tempId"]),p(["meta","platform"]),p(["meta","versionId"]),l("location"),p(["location","rootBoard"]),p(["location","section"]),p(["location","position"]),p(["location","position","restoreLocation"]),p(["location","position","restoreLocation","parentId"]),p(["location","position","addedDate"]),p(["location","position","score"]),p(["location","position","index"]),t=>e=>p(["location","position",t],e)||0),y=_("y"),m=_("x"),b=(p(["location","position","deletedDate"]),p(["content"]),p(["content","inbox"]),p(["content","locked"]),p(["content","title"]),p(["content","showTitle"]),p(["content","color"]));p(["content","secondaryColor"]),p(["content","colorComboList"]),p(["content","color","space"]),p(["content","color","value"]),p(["content","showColorValue"]),p(["content","icon"]),p(["content","icon","id"]),p(["content","icon","type"]),p(["content","width"]),p(["content","height"]),p(["content","minHeight"]),p(["content","maxHeight"]),p(["content","autoHeight"]),p(["content","showCaption"]),p(["content","caption"]),p(["content","captionModified"]),p(["content","textContent"]),p(["content","keywords"]),p(["content","attachmentId"]),p(["content","displayMode"]),p(["content","inboxAutomaticOpenTimestamp"]),p(["content","previousCanvasOrigin"]),p(["content","link"]),p(["content","link","url"]),p(["content","linkType"]),p(["content","link","favicon"]),p(["content","image"]),p(["content","image","regular"]),p(["content","image","huge"]),p(["content","image","large"]),p(["content","image","original"]),p(["content","image","thumb"]),p(["content","image","error"]),p(["content","image","width"]),p(["content","image","height"]),p(["content","showBackground"]),p(["content","image","isDataUri"]),p(["content","image","colors"]),p(["content","image","primaryColor"]),p(["content","imageOriginal"]),p(["content","mediaPlayerLoop"]),p(["content","mediaPlayerAutoplay"]),p(["content","media"]),p(["content","mediaType"]),p(["content","media","width"]),p(["content","media","height"]),p(["content","media","originalWidth"]),p(["content","media","originalHeight"]),p(["content","previewReady"]),p(["content","audioOnly"]),p(["content","publicEditEnabledTimestamp"]),p(["content","publishedFeedbackEnabled"]),p(["content","publishedMediaDownloadDisabled"]),p(["content","welcomeMessage"]),p(["content","welcomeMessage","textContent"]),p(["content","welcomeMessage","modifier"]),p(["content","background"]),p(["content","background","hideImage"]),p(["content","background","showGrid"]),p(["content","background","color"]),p(["content","autoColorIndex"]),p(["content","defaultColorPalette"]),p(["content","start"]),p(["content","start","elementId"]),p(["content","end"]),p(["content","end","elementId"]),p(["content","control"]),p(["content","startStyle"]),p(["content","endStyle"]),p(["content","lineStyle"]),p(["content","lineWeight"]),p(["content","lineLabel"]),p(["content","file"]),p(["content","file","filename"]),p(["content","file","size"]),p(["content","file","url"]),p(["content","file","mime"]),p(["content","file","type"]),p(["content","file","uploadedTimestamp"]),p(["content","threadId"]),p(["content","collapsed"]),p(["content","originalTitle"]),p(["content","originalColor"]),p(["content","originalSecondaryColor"]),p(["content","originalIcon"]),p(["content","originalImage"]),p(["content","originalImage","original"]),p(["content","originalImage","regular"]),p(["content","originalImage","large"]),p(["content","originalImage","huge"]),p(["content","assignments"]),p(["content","dueDate"]),p(["content","dueReminder"]),p(["content","dueReminderTimestamp"]),p(["content","drawing"]),p(["content","drawing","svg"]),p(["content","drawing","width"]),p(["content","drawing","height"]),p(["content","drawingMode"]),p(["content","reactions"]),p(["content","clonedElementType"]),p(["content","tableContent"]),p(["content","tableContent","data"]),p(["content","tableContent","colWidthsGU"]);let x,w,E,O;!function(t){t.CANVAS="CANVAS",t.INBOX="INBOX",t.TRASH="TRASH",t.DELETED="DELETED",t.ATTACHED="ATTACHED"}(x||(x={})),function(t){t.OPEN="OPEN",t.CLOSED="CLOSED"}(w||(w={})),function(t){t.WORKSPACE="WORKSPACE",t.TEMPLATES="TEMPLATES",t.QUICK_NOTES="QUICK_NOTES"}(E||(E={})),function(t){t.WORKSPACE="Home",t.TEMPLATES="Templates",t.QUICK_NOTES="Quick notes"}(O||(O={}));const S="BOARD",A="ALIAS",I="COLUMN",j="CARD",M="LINK",D="LINE",R="IMAGE";var z=r(1151),k=r.n(z);let T;var N;!function(t){t.GENERIC="GENERIC",t.IMAGE="IMAGE",t.RAW_IMAGE="RAW_IMAGE",t.SVG="SVG",t.ZIP="ZIP",t.HTML="HTML",t.CODE="CODE",t.PDF="PDF",t.AUDIO="AUDIO",t.VIDEO="VIDEO",t.MSG="MSG",t.EMAIL="EMAIL",t.TEXT="TEXT",t.CSV="CSV",t.DOCX="DOCX",t.PPTX="PPTX",t.XLSX="XLSX",t.PAGES="PAGES",t.KEYNOTE="KEYNOTE",t.NUMBERS="NUMBERS",t.SKETCH="SKETCH",t.AFDESIGN="AFDESIGN",t.PSD="PSD",t.LR="LR",t.PR="PR",t.AI="AI",t.IND="IND",t.AE="AE",t.XD="XD",t.MUSE="MUSE",t.DW="DW",t.AXURE="AXURE",t.FONT="FONT",t.NON_PREVIEWABLE_FONT="NON_PREVIEWABLE_FONT",t.MODEL_3D="MODEL_3D"}(T||(T={}));const L=r(9161).Z(),P="FILE",C=(null==L||null===(N=L.aws)||void 0===N||N.s3MediaStorageUrl,{free:512e5,pro:512e7}),W={GENERIC:{type:T.GENERIC,preview:!1,maxSize:C},IMAGE:{type:T.IMAGE,mimePattern:/^image\\/(webp|png|gif|jpe?g|svg\\+xml)/g,extensions:["jpg","jpeg","jpe","gif","png","webp","tif","tiff","bmp","ico","pbm","pgm","ppm","svg"],iconName:"file-image",maxSize:{free:1024e4,pro:1024e5},preview:!0},RAW_IMAGE:{type:T.RAW_IMAGE,extensions:["jxr","cr2","crw","dng","mrw","orf","raw","xmp","nef","x3f","erf","eps","raf","cube","3dl"],iconName:"file-raw-image",preview:!0},SVG:{type:T.SVG,extensions:["svg"],iconName:"file-svg",preview:!0},ZIP:{type:T.ZIP,extensions:["zip","rar","tar","7z","gz"],iconName:"file-zip",preview:!1},HTML:{type:T.HTML,extensions:["htm","html"],iconName:"file-html",preview:!0},CODE:{type:T.CODE,extensions:["c","css","ini","ins","h","js","jar","java","json","py","pl","php","swift","ts","xml"],iconName:"file-code",preview:!1},PDF:{type:T.PDF,extensions:["pdf"],iconName:"file-acrobat",preview:!0},AUDIO:{type:T.AUDIO,extensions:["mp3","m4a","mid","wav","wave","amr","3ga","mka","mpa","opus","oga","pkf","ra","ram","aiff","pcm"],iconName:"file-audio",preview:!1,mediaPlayerMimePattern:/^audio\\/(x-)?(mp3|m4a|aac|mpeg|ogg|wav)/g},VIDEO:{type:T.VIDEO,extensions:["mp4","m4p","m4b","m4r","m4v","mkv","mk3d","mks","webm","mov","qt","wmv","divx","xvid","mpg","mpeg","mpeg4","mp1","mp2","mlv","m1a","m2a","mpv","ogg","ogv","ogx","ogm","spx","avi","drp","wma","asf"],iconName:"file-movie",preview:!0,mediaPlayerMimePattern:/^video\\/(x-)?(mp4|quicktime|mov|mpeg|ogg)/g},MSG:{type:T.MSG,extensions:["msg"],iconName:"file-plaintext",preview:!1},EMAIL:{type:T.EMAIL,extensions:["eml"],iconName:"file-email",preview:!1},TEXT:{type:T.TEXT,extensions:["rtf","txt","md"],iconName:"file-plaintext",preview:!0},CSV:{type:T.CSV,extensions:["csv","tsv","tab"],iconName:"file-numbers",preview:!0},DOCX:{type:T.DOCX,extensions:["docx","docm","doc","odt","ott","otg","odg"],iconName:"file-word",preview:!0},PPTX:{type:T.PPTX,extensions:["pptx","pptm","ppt","odp","otp"],iconName:"file-ppt",preview:!0},XLSX:{type:T.XLSX,extensions:["xlsx","xlsm","xls","ods","odc","otc"],iconName:"file-excel",preview:!0},PAGES:{type:T.PAGES,extensions:["pages"],iconName:"file-pages",preview:!1},KEYNOTE:{type:T.KEYNOTE,extensions:["key"],iconName:"file-keynote",preview:!1},NUMBERS:{type:T.NUMBERS,extensions:["numbers"],iconName:"file-numbers",preview:!1},SKETCH:{type:T.SKETCH,extensions:["sketch"],iconName:"file-sketch",preview:!0,forcePreview:!0},AFDESIGN:{type:T.AFDESIGN,extensions:["afdesign"],iconName:"file-image",preview:!1},PSD:{type:T.PSD,extensions:["psd"],iconName:"file-photoshop",preview:!0,forcePreview:!0},LR:{type:T.LR,extensions:["lrtemplate","lrcat","lrdata","lrdb","lrprev","lrpreview"],iconName:"file-lightroom",preview:!1},PR:{type:T.PR,extensions:["cfa","cpa","prproj"],iconName:"file-premiere",preview:!1},MODEL_3D:{type:T.MODEL_3D,extensions:["max","blend","mp","ma","3ds","dwg","gltf","gltb","obj","fbx","stl","stp","collade","glb","dae","step","wrl","x3d","3mf","amf"],iconName:"file-3d",preview:!1},AI:{type:T.AI,extensions:["ai","eps","ps","ai3","ai4","ai5","ai6","ai7","ai8","psf"],iconName:"file-illustrator",preview:!0,forcePreview:!0},IND:{type:T.IND,extensions:["ind","indd","idlk","indt"],iconName:"file-indesign",preview:!0,forcePreview:!0},AE:{type:T.AE,extensions:["aec","aep","aet","aetx","amx"],iconName:"file-aftereffects",preview:!1},XD:{type:T.XD,extensions:["xd"],iconName:"file-experience-design",preview:!0,forcePreview:!0},MUSE:{type:T.MUSE,extensions:["muse","mulib"],iconName:"file-muse",preview:!1},DW:{type:T.DW,extensions:["dw","dwt"],iconName:"file-dreamweaver",preview:!0,forcePreview:!0},AXURE:{type:T.AXURE,extensions:["rp"],iconName:"file-axure",preview:!1},FONT:{type:T.FONT,extensions:["otf","ttc","ttf"],iconName:"file-font",preview:!0},NON_PREVIEWABLE_FONT:{type:T.NON_PREVIEWABLE_FONT,extensions:["eot","woff","woff2","ffil","afm","pfa","pfb","pfm","tfil"],iconName:"file-font",preview:!1}},U=(k()(n()("extensions"),W),"COMMENT_THREAD"),q="TASK_LIST",B="TASK",F="CLONE",K="SKETCH",G="ANNOTATION",H="COLOR_SWATCH",Y="DOCUMENT";let X,V,$,J,Z,Q,tt;!function(t){t.AUTO="Auto",t.NUMBER="Number",t.CURRENCY="Currency",t.PERCENTAGE="Percentage",t.TEXT="Text",t.DATE_TIME="DateTime",t.CHECKBOX="Checkbox"}(X||(X={})),function(t){t.DECIMALS="decimals",t.THOUSANDS_SEPARATOR="thousandsSeparator",t.ACCOUNTING="accounting",t.CURRENCY="currency",t.CURRENCY_DISPLAY="currencyDisplay",t.HAS_TIME="hasTime",t.HAS_SECONDS="hasSeconds",t.DATE_FORMAT="dateFormat",t.TIME_FORMAT="timeFormat",t.TIME_IN_BRACKETS="timeInBrackets"}(V||(V={})),function(t){t.LEFT="left",t.CENTER="center",t.RIGHT="right"}($||($={})),function(t){t.TOP="top",t.MIDDLE="middle",t.BOTTOM="bottom"}(J||(J={})),function(t){t.SYMBOL="symbol",t.NARROW_SYMBOL="narrowSymbol",t.CODE="code",t.NAME="name"}(Z||(Z={})),function(t){t.NONE="none",t.WORDS_LONG="wordsLong",t.WORDS_SHORT="wordsShort",t.NUMERIC_LONG="numericLong",t.NUMERIC_SHORT="numericShort",t.NUMERIC_DASHED="numericDashed",t.WEEKDAY="weekday"}(Q||(Q={})),function(t){t.NONE="none",t.TWELVE_HOUR_SECONDS="twelveHourSeconds",t.TWELVE_HOUR="twelveHour",t.TWENTY_FOUR_HOUR_SECONDS="twentyFourHourSeconds",t.TWENTY_FOUR_HOUR="twentyFourHour"}(tt||(tt={}));X.AUTO,$.LEFT,X.NUMBER,V.DECIMALS,V.THOUSANDS_SEPARATOR,$.RIGHT,X.CURRENCY,V.DECIMALS,V.THOUSANDS_SEPARATOR,V.ACCOUNTING,V.CURRENCY,V.CURRENCY_DISPLAY,Z.NARROW_SYMBOL,$.RIGHT,X.PERCENTAGE,V.DECIMALS,V.THOUSANDS_SEPARATOR,$.RIGHT,X.TEXT,$.LEFT,X.DATE_TIME,$.RIGHT,V.HAS_TIME,V.HAS_SECONDS,V.DATE_FORMAT,Q.WORDS_SHORT,V.TIME_FORMAT,tt.NONE,V.TIME_IN_BRACKETS,X.CHECKBOX,$.CENTER;const et={alert:{alert_blue_050:{hex:"#e8f5fc",rgba:"rgba(232, 245, 252, 1)",css:"var(--alert-alertblue-050)"},alert_blue_1000:{hex:"#0e84bf",rgba:"rgba(14, 132, 191, 1)",css:"var(--alert-alertblue-1000)"},alert_blue_1500:{hex:"#0a4f72",rgba:"rgba(10, 79, 114, 1)",css:"var(--alert-alertblue-1500)"},alert_blue_200:{hex:"#cde9f7",rgba:"rgba(205, 233, 247, 1)",css:"var(--alert-alertblue-200)"},alert_blue_900:{hex:"#16a0e5",rgba:"rgba(22, 160, 229, 1)",css:"var(--alert-alertblue-900)"},alert_green_050:{hex:"#edf8ee",rgba:"rgba(237, 248, 238, 1)",css:"var(--alert-alertgreen-050)"},alert_green_1000:{hex:"#429d4c",rgba:"rgba(66, 157, 76, 1)",css:"var(--alert-alertgreen-1000)"},alert_green_1500:{hex:"#3a5a3e",rgba:"rgba(58, 90, 62, 1)",css:"var(--alert-alertgreen-1500)"},alert_green_200:{hex:"#d9eedb",rgba:"rgba(217, 238, 219, 1)",css:"var(--alert-alertgreen-200)"},alert_green_900:{hex:"#4eb85a",rgba:"rgba(78, 184, 90, 1)",css:"var(--alert-alertgreen-900)"},alert_orange_050:{hex:"#fff3e9",rgba:"rgba(255, 243, 233, 1)",css:"var(--alert-alertorange-050)"},alert_orange_1000:{hex:"#e4750e",rgba:"rgba(228, 117, 14, 1)",css:"var(--alert-alertorange-1000)"},alert_orange_1500:{hex:"#704d2d",rgba:"rgba(112, 77, 45, 1)",css:"var(--alert-alertorange-1500)"},alert_orange_200:{hex:"#ffe4ce",rgba:"rgba(255, 228, 206, 1)",css:"var(--alert-alertorange-200)"},alert_orange_900:{hex:"#ff8d22",rgba:"rgba(255, 141, 34, 1)",css:"var(--alert-alertorange-900)"},alert_red_050:{hex:"#fdefef",rgba:"rgba(253, 239, 239, 1)",css:"var(--alert-alertred-050)"},alert_red_1000:{hex:"#d6223e",rgba:"rgba(214, 34, 62, 1)",css:"var(--alert-alertred-1000)"},alert_red_1500:{hex:"#6a4141",rgba:"rgba(106, 65, 65, 1)",css:"var(--alert-alertred-1500)"},alert_red_200:{hex:"#f9dede",rgba:"rgba(249, 222, 222, 1)",css:"var(--alert-alertred-200)"},alert_red_900:{hex:"#f02848",rgba:"rgba(240, 40, 72, 1)",css:"var(--alert-alertred-900)"}},avatar:{avatar_bert:{hex:"#ebdc91",rgba:"rgba(235, 220, 145, 1)",css:"var(--avatar-avatarbert)"},avatar_elmo:{hex:"#e68c8c",rgba:"rgba(230, 140, 140, 1)",css:"var(--avatar-avatarelmo)"},avatar_ernie:{hex:"#f3bd7f",rgba:"rgba(243, 189, 127, 1)",css:"var(--avatar-avatarernie)"},avatar_gonzo:{hex:"#92c1f5",rgba:"rgba(146, 193, 245, 1)",css:"var(--avatar-avatargonzo)"},avatar_grover:{hex:"#92c1f5",rgba:"rgba(146, 193, 245, 1)",css:"var(--avatar-avatargrover)"},avatar_kermit:{hex:"#8ce696",rgba:"rgba(140, 230, 150, 1)",css:"var(--avatar-avatarkermit)"},avatar_piggy:{hex:"#e68cba",rgba:"rgba(230, 140, 186, 1)",css:"var(--avatar-avatarpiggy)"},avatar_rosita:{hex:"#94dcd5",rgba:"rgba(148, 220, 213, 1)",css:"var(--avatar-avatarrosita)"},avatar_von_count:{hex:"#ba9af3",rgba:"rgba(186, 154, 243, 1)",css:"var(--avatar-avatarvoncount)"}},canvas:{canvas_dark_forest:{hex:"#1c2624",rgba:"rgba(28, 38, 36, 1)",css:"var(--canvas-canvasdarkforest)"},canvas_dark_galaxy:{hex:"#26232a",rgba:"rgba(38, 35, 42, 1)",css:"var(--canvas-canvasdarkgalaxy)"},canvas_dark_sand:{hex:"#27241f",rgba:"rgba(39, 36, 31, 1)",css:"var(--canvas-canvasdarksand)"},canvas_dark_sky:{hex:"#1c2329",rgba:"rgba(28, 35, 41, 1)",css:"var(--canvas-canvasdarksky)"},canvas_darkmode:{hex:"#262626",rgba:"rgba(38, 38, 38, 1)",css:"var(--canvas-canvasdarkmode)"},canvas_light_forest:{hex:"#d9ebe6",rgba:"rgba(217, 235, 230, 1)",css:"var(--canvas-canvaslightforest)"},canvas_light_galaxy:{hex:"#e5e3e8",rgba:"rgba(229, 227, 232, 1)",css:"var(--canvas-canvaslightgalaxy)"},canvas_light_sand:{hex:"#f0eedf",rgba:"rgba(240, 238, 223, 1)",css:"var(--canvas-canvaslightsand)"},canvas_light_sky:{hex:"#dceaf6",rgba:"rgba(220, 234, 246, 1)",css:"var(--canvas-canvaslightsky)"},canvas_lightmode:{hex:"#ebedee",rgba:"rgba(235, 237, 238, 1)",css:"var(--canvas-canvaslightmode)"}},element:{element_blue_1000:{hex:"#47b9ff",rgba:"rgba(71, 185, 255, 1)",css:"var(--element-elementblue-1000)"},element_blue_900:{hex:"#6cc7ff",rgba:"rgba(108, 199, 255, 1)",css:"var(--element-elementblue-900)"},element_brown_1000:{hex:"#e78358",rgba:"rgba(231, 131, 88, 1)",css:"var(--element-elementbrown-1000)"},element_brown_900:{hex:"#ed936e",rgba:"rgba(237, 147, 110, 1)",css:"var(--element-elementbrown-900)"},element_green_1000:{hex:"#7cd651",rgba:"rgba(124, 214, 81, 1)",css:"var(--element-elementgreen-1000)"},element_green_900:{hex:"#92e36b",rgba:"rgba(146, 227, 107, 1)",css:"var(--element-elementgreen-900)"},element_light_grey_1000:{hex:"#d1d3d6",rgba:"rgba(209, 211, 214, 1)",css:"var(--element-elementlightgrey-1000)"},element_light_grey_900:{hex:"#dcdcdc",rgba:"rgba(220, 220, 220, 1)",css:"var(--element-elementlightgrey-900)"},element_medium_grey_1000:{hex:"#5f6672",rgba:"rgba(95, 102, 114, 1)",css:"var(--element-elementmediumgrey-1000)"},element_medium_grey_900:{hex:"#767c86",rgba:"rgba(118, 124, 134, 1)",css:"var(--element-elementmediumgrey-900)"},element_orange_1000:{hex:"#ff9329",rgba:"rgba(255, 147, 41, 1)",css:"var(--element-elementorange-1000)"},element_orange_900:{hex:"#ffa954",rgba:"rgba(255, 169, 84, 1)",css:"var(--element-elementorange-900)"},element_pink_1000:{hex:"#ff6dd4",rgba:"rgba(255, 109, 212, 1)",css:"var(--element-elementpink-1000)"},element_pink_900:{hex:"#ff8add",rgba:"rgba(255, 138, 221, 1)",css:"var(--element-elementpink-900)"},element_purple_1000:{hex:"#af72ff",rgba:"rgba(175, 114, 255, 1)",css:"var(--element-elementpurple-1000)"},element_purple_900:{hex:"#bf8eff",rgba:"rgba(191, 142, 255, 1)",css:"var(--element-elementpurple-900)"},element_red_1000:{hex:"#ff4d4d",rgba:"rgba(255, 77, 77, 1)",css:"var(--element-elementred-1000)"},element_red_900:{hex:"#ff7171",rgba:"rgba(255, 113, 113, 1)",css:"var(--element-elementred-900)"},element_royal_blue_1000:{hex:"#5882f8",rgba:"rgba(88, 130, 248, 1)",css:"var(--element-elementroyalblue-1000)"},element_royal_blue_900:{hex:"#799bf9",rgba:"rgba(121, 155, 249, 1)",css:"var(--element-elementroyalblue-900)"},element_teal_1000:{hex:"#62dbc8",rgba:"rgba(98, 219, 200, 1)",css:"var(--element-elementteal-1000)"},element_teal_900:{hex:"#7be6d5",rgba:"rgba(123, 230, 213, 1)",css:"var(--element-elementteal-900)"},element_yellow_1000:{hex:"#ffc92d",rgba:"rgba(255, 201, 45, 1)",css:"var(--element-elementyellow-1000)"},element_yellow_900:{hex:"#ffd96a",rgba:"rgba(255, 217, 106, 1)",css:"var(--element-elementyellow-900)"}},highlight:{light_blue_050:{hex:"#ebf9ff",rgba:"rgba(235, 249, 255, 1)",css:"var(--highlight-lightblue-050)"},light_blue_1500:{hex:"#1e7d9f",rgba:"rgba(30, 125, 159, 1)",css:"var(--highlight-lightblue-1500)"},light_blue_200:{hex:"#cdf1ff",rgba:"rgba(205, 241, 255, 1)",css:"var(--highlight-lightblue-200)"},light_blue_900:{hex:"#8ae0ff",rgba:"rgba(138, 224, 255, 1)",css:"var(--highlight-lightblue-900)"},light_lime_050:{hex:"#f8ffe5",rgba:"rgba(248, 255, 229, 1)",css:"var(--highlight-lightlime-050)"},light_lime_1500:{hex:"#55740e",rgba:"rgba(85, 116, 14, 1)",css:"var(--highlight-lightlime-1500)"},light_lime_200:{hex:"#daf88d",rgba:"rgba(218, 248, 141, 1)",css:"var(--highlight-lightlime-200)"},light_lime_900:{hex:"#c9f201",rgba:"rgba(201, 242, 1, 1)",css:"var(--highlight-lightlime-900)"},light_orange_050:{hex:"#fff8e0",rgba:"rgba(255, 248, 224, 1)",css:"var(--highlight-lightorange-050)"},light_orange_1000:{hex:"#ffce26",rgba:"rgba(255, 206, 38, 1)",css:"var(--highlight-lightorange-1000)"},light_orange_1500:{hex:"#984d00",rgba:"rgba(152, 77, 0, 1)",css:"var(--highlight-lightorange-1500)"},light_orange_200:{hex:"#ffefb9",rgba:"rgba(255, 239, 185, 1)",css:"var(--highlight-lightorange-200)"},light_pink_050:{hex:"#fff7fc",rgba:"rgba(255, 247, 252, 1)",css:"var(--highlight-lightpink-050)"},light_pink_1500:{hex:"#9b3e74",rgba:"rgba(155, 62, 116, 1)",css:"var(--highlight-lightpink-1500)"},light_pink_200:{hex:"#ffdef3",rgba:"rgba(255, 222, 243, 1)",css:"var(--highlight-lightpink-200)"},light_pink_900:{hex:"#ffa4de",rgba:"rgba(255, 164, 222, 1)",css:"var(--highlight-lightpink-900)"},light_yellow_050:{hex:"#fffce6",rgba:"rgba(255, 252, 230, 1)",css:"var(--highlight-lightyellow-050)"},light_yellow_1500:{hex:"#80792b",rgba:"rgba(128, 121, 43, 1)",css:"var(--highlight-lightyellow-1500)"},light_yellow_200:{hex:"#fffac0",rgba:"rgba(255, 250, 192, 1)",css:"var(--highlight-lightyellow-200)"},light_yellow_900:{hex:"#ffed00",rgba:"rgba(255, 237, 0, 1)",css:"var(--highlight-lightyellow-900)"}},neutral:{darkmode_grey_050:{hex:"#f2f2f2",rgba:"rgba(242, 242, 242, 1)",css:"var(--neutral-darkmodegrey-050)"},darkmode_grey_100:{hex:"#e6e6e6",rgba:"rgba(230, 230, 230, 1)",css:"var(--neutral-darkmodegrey-100)"},darkmode_grey_1000:{hex:"#000000",rgba:"rgba(0, 0, 0, 1)",css:"var(--neutral-darkmodegrey-1000)"},darkmode_grey_200:{hex:"#cccccc",rgba:"rgba(204, 204, 204, 1)",css:"var(--neutral-darkmodegrey-200)"},darkmode_grey_300:{hex:"#b3b3b3",rgba:"rgba(179, 179, 179, 1)",css:"var(--neutral-darkmodegrey-300)"},darkmode_grey_400:{hex:"#999999",rgba:"rgba(153, 153, 153, 1)",css:"var(--neutral-darkmodegrey-400)"},darkmode_grey_500:{hex:"#808080",rgba:"rgba(128, 128, 128, 1)",css:"var(--neutral-darkmodegrey-500)"},darkmode_grey_600:{hex:"#666666",rgba:"rgba(102, 102, 102, 1)",css:"var(--neutral-darkmodegrey-600)"},darkmode_grey_700:{hex:"#4d4d4d",rgba:"rgba(77, 77, 77, 1)",css:"var(--neutral-darkmodegrey-700)"},darkmode_grey_750:{hex:"#3d3d3d",rgba:"rgba(61, 61, 61, 1)",css:"var(--neutral-darkmodegrey-750)"},darkmode_grey_800:{hex:"#333333",rgba:"rgba(51, 51, 51, 1)",css:"var(--neutral-darkmodegrey-800)"},darkmode_grey_900:{hex:"#1a1a1a",rgba:"rgba(26, 26, 26, 1)",css:"var(--neutral-darkmodegrey-900)"},lightmode_grey_050:{hex:"#f3f3f4",rgba:"rgba(243, 243, 244, 1)",css:"var(--neutral-lightmodegrey-050)"},lightmode_grey_100:{hex:"#e8e9eb",rgba:"rgba(232, 233, 235, 1)",css:"var(--neutral-lightmodegrey-100)"},lightmode_grey_1000:{hex:"#1b2536",rgba:"rgba(27, 37, 54, 1)",css:"var(--neutral-lightmodegrey-1000)"},lightmode_grey_200:{hex:"#d1d3d6",rgba:"rgba(209, 211, 214, 1)",css:"var(--neutral-lightmodegrey-200)"},lightmode_grey_300:{hex:"#bbbec3",rgba:"rgba(187, 190, 195, 1)",css:"var(--neutral-lightmodegrey-300)"},lightmode_grey_400:{hex:"#a3a7ae",rgba:"rgba(163, 167, 174, 1)",css:"var(--neutral-lightmodegrey-400)"},lightmode_grey_500:{hex:"#8d929a",rgba:"rgba(141, 146, 154, 1)",css:"var(--neutral-lightmodegrey-500)"},lightmode_grey_600:{hex:"#767c86",rgba:"rgba(118, 124, 134, 1)",css:"var(--neutral-lightmodegrey-600)"},lightmode_grey_700:{hex:"#5f6672",rgba:"rgba(95, 102, 114, 1)",css:"var(--neutral-lightmodegrey-700)"},lightmode_grey_800:{hex:"#48505e",rgba:"rgba(72, 80, 94, 1)",css:"var(--neutral-lightmodegrey-800)"},lightmode_grey_900:{hex:"#323b4a",rgba:"rgba(50, 59, 74, 1)",css:"var(--neutral-lightmodegrey-900)"},opacity:{darkmode_grey_1000_00:{hex:"#00000000",rgba:"rgba(0, 0, 0, 0)",css:"var(--opacity-darkmodegrey-1000-00)"},darkmode_grey_1000_05:{hex:"#0000000d",rgba:"rgba(0, 0, 0, 0.05)",css:"var(--opacity-darkmodegrey-1000-05)"},darkmode_grey_1000_10:{hex:"#0000001a",rgba:"rgba(0, 0, 0, 0.1)",css:"var(--opacity-darkmodegrey-1000-10)"},darkmode_grey_1000_15:{hex:"#00000026",rgba:"rgba(0, 0, 0, 0.15)",css:"var(--opacity-darkmodegrey-1000-15)"},darkmode_grey_1000_20:{hex:"#00000033",rgba:"rgba(0, 0, 0, 0.2)",css:"var(--opacity-darkmodegrey-1000-20)"},darkmode_grey_1000_30:{hex:"#0000004d",rgba:"rgba(0, 0, 0, 0.3)",css:"var(--opacity-darkmodegrey-1000-30)"},darkmode_grey_1000_60:{hex:"#00000099",rgba:"rgba(0, 0, 0, 0.6)",css:"var(--opacity-darkmodegrey-1000-60)"},darkmode_grey_1000_80:{hex:"#000000cc",rgba:"rgba(0, 0, 0, 0.8)",css:"var(--opacity-darkmodegrey-1000-80)"},lightmode_grey_1000_00:{hex:"#1b253600",rgba:"rgba(27, 37, 54, 0)",css:"var(--opacity-lightmodegrey-1000-00)"},lightmode_grey_1000_05:{hex:"#1b25360d",rgba:"rgba(27, 37, 54, 0.05)",css:"var(--opacity-lightmodegrey-1000-05)"},lightmode_grey_1000_10:{hex:"#1b25361a",rgba:"rgba(27, 37, 54, 0.1)",css:"var(--opacity-lightmodegrey-1000-10)"},lightmode_grey_1000_15:{hex:"#1b253626",rgba:"rgba(27, 37, 54, 0.15)",css:"var(--opacity-lightmodegrey-1000-15)"},lightmode_grey_1000_20:{hex:"#1b253633",rgba:"rgba(27, 37, 54, 0.2)",css:"var(--opacity-lightmodegrey-1000-20)"},lightmode_grey_1000_30:{hex:"#1b25364d",rgba:"rgba(27, 37, 54, 0.3)",css:"var(--opacity-lightmodegrey-1000-30)"},lightmode_grey_1000_60:{hex:"#1b253699",rgba:"rgba(27, 37, 54, 0.6)",css:"var(--opacity-lightmodegrey-1000-60)"},lightmode_grey_1000_80:{hex:"#1b2536cc",rgba:"rgba(27, 37, 54, 0.8)",css:"var(--opacity-lightmodegrey-1000-80)"},white_1000_00:{hex:"#ffffff00",rgba:"rgba(255, 255, 255, 0)",css:"var(--opacity-white-1000-00)"},white_1000_05:{hex:"#ffffff0d",rgba:"rgba(255, 255, 255, 0.05)",css:"var(--opacity-white-1000-05)"},white_1000_10:{hex:"#ffffff1a",rgba:"rgba(255, 255, 255, 0.1)",css:"var(--opacity-white-1000-10)"},white_1000_15:{hex:"#ffffff26",rgba:"rgba(255, 255, 255, 0.15)",css:"var(--opacity-white-1000-15)"},white_1000_20:{hex:"#ffffff33",rgba:"rgba(255, 255, 255, 0.2)",css:"var(--opacity-white-1000-20)"},white_1000_30:{hex:"#ffffff4d",rgba:"rgba(255, 255, 255, 0.3)",css:"var(--opacity-white-1000-30)"},white_1000_60:{hex:"#ffffff99",rgba:"rgba(255, 255, 255, 0.6)",css:"var(--opacity-white-1000-60)"},white_1000_80:{hex:"#ffffffcc",rgba:"rgba(255, 255, 255, 0.8)",css:"var(--opacity-white-1000-80)"}},white_1000:{hex:"#ffffff",rgba:"rgba(255, 255, 255, 1)",css:"var(--neutral-white-1000)"}},primary:{deep_orange_050:{hex:"#fef6f3",rgba:"rgba(254, 246, 243, 1)",css:"var(--primary-deeporange-050)"},deep_orange_100:{hex:"#fdede8",rgba:"rgba(253, 237, 232, 1)",css:"var(--primary-deeporange-100)"},deep_orange_1000:{hex:"#f4511c",rgba:"rgba(244, 81, 28, 1)",css:"var(--primary-deeporange-1000)"},deep_orange_200:{hex:"#fcdcd1",rgba:"rgba(252, 220, 209, 1)",css:"var(--primary-deeporange-200)"},deep_orange_300:{hex:"#fbcbbb",rgba:"rgba(251, 203, 187, 1)",css:"var(--primary-deeporange-300)"},deep_orange_400:{hex:"#fab9a4",rgba:"rgba(250, 185, 164, 1)",css:"var(--primary-deeporange-400)"},deep_orange_500:{hex:"#f9a88d",rgba:"rgba(249, 168, 141, 1)",css:"var(--primary-deeporange-500)"},deep_orange_600:{hex:"#f89676",rgba:"rgba(248, 150, 118, 1)",css:"var(--primary-deeporange-600)"},deep_orange_700:{hex:"#f78560",rgba:"rgba(247, 133, 96, 1)",css:"var(--primary-deeporange-700)"},deep_orange_800:{hex:"#f67349",rgba:"rgba(246, 115, 73, 1)",css:"var(--primary-deeporange-800)"},deep_orange_900:{hex:"#f56233",rgba:"rgba(245, 98, 51, 1)",css:"var(--primary-deeporange-900)"},royal_blue_050:{hex:"#f4f7fe",rgba:"rgba(244, 247, 254, 1)",css:"var(--primary-royalblue-050)"},royal_blue_100:{hex:"#eaeffe",rgba:"rgba(234, 239, 254, 1)",css:"var(--primary-royalblue-100)"},royal_blue_1000:{hex:"#2f63f7",rgba:"rgba(47, 99, 247, 1)",css:"var(--primary-royalblue-1000)"},royal_blue_200:{hex:"#d5dffd",rgba:"rgba(213, 223, 253, 1)",css:"var(--primary-royalblue-200)"},royal_blue_300:{hex:"#c1d0fc",rgba:"rgba(193, 208, 252, 1)",css:"var(--primary-royalblue-300)"},royal_blue_400:{hex:"#abc0fb",rgba:"rgba(171, 192, 251, 1)",css:"var(--primary-royalblue-400)"},royal_blue_500:{hex:"#97b1fb",rgba:"rgba(151, 177, 251, 1)",css:"var(--primary-royalblue-500)"},royal_blue_600:{hex:"#82a1fa",rgba:"rgba(130, 161, 250, 1)",css:"var(--primary-royalblue-600)"},royal_blue_700:{hex:"#6d92f9",rgba:"rgba(109, 146, 249, 1)",css:"var(--primary-royalblue-700)"},royal_blue_800:{hex:"#5882f8",rgba:"rgba(88, 130, 248, 1)",css:"var(--primary-royalblue-800)"},royal_blue_900:{hex:"#4472f7",rgba:"rgba(68, 114, 247, 1)",css:"var(--primary-royalblue-900)"}}},rt={NONE:{name:null,css:null,hex:null},GREY:{name:"GREY",css:"var(--color-element-grey)",hex:"#5f6672"},CYAN:{name:"CYAN",css:"var(--color-element-cyan)",hex:"#62dbc8"},GREEN:{name:"GREEN",css:"var(--color-element-green)",hex:"#7cd651"},BROWN:{name:"BROWN",css:"var(--color-element-brown)",hex:"#d58558"},YELLOW:{name:"YELLOW",css:"var(--color-element-yellow)",hex:"#ffd14d"},ORANGE:{name:"ORANGE",css:"var(--color-element-orange)",hex:"#ff8d48"},RED:{name:"RED",css:"var(--color-element-red)",hex:"#ff5757"},PINK:{name:"PINK",css:"var(--color-element-pink)",hex:"#ff6ed4"},PURPLE:{name:"PURPLE",css:"var(--color-element-purple)",hex:"#ad6fff"},BLUE:{name:"BLUE",css:"var(--color-element-blue)",hex:"#4ebafd"},DEEP_BLUE:{name:"DEEP_BLUE",css:"var(--color-element-deep-blue)",hex:"#5882f8"}},nt=(Object.assign({},rt,{GREY:{name:"GREY",css:"var(--color-element-grey)",hex:"#bbbec3"}}),Object.assign({},rt.NONE),Object.assign({},rt.GREY,{hex:"#bbbec3"}),Object.assign({},rt.CYAN),Object.assign({},rt.GREEN),Object.assign({},rt.BROWN),Object.assign({},rt.YELLOW),Object.assign({},rt.ORANGE),Object.assign({},rt.RED),Object.assign({},rt.PINK),Object.assign({},rt.PURPLE),Object.assign({},rt.BLUE),Object.assign({},rt.DEEP_BLUE),Object.assign({},rt.GREY),Object.assign({},rt.CYAN),Object.assign({},rt.GREEN),Object.assign({},rt.BROWN),Object.assign({},rt.YELLOW),Object.assign({},rt.ORANGE),Object.assign({},rt.RED),Object.assign({},rt.PINK),Object.assign({},rt.PURPLE),Object.assign({},rt.BLUE),Object.assign({},rt.DEEP_BLUE),Object.assign({},rt.NONE),Object.assign({},rt.GREY,et.element.element_light_grey_900),Object.assign({},rt.CYAN,et.element.element_teal_900),Object.assign({},rt.GREEN,et.element.element_green_900),Object.assign({},rt.YELLOW,et.element.element_yellow_900),Object.assign({},rt.ORANGE,et.element.element_orange_900),Object.assign({},rt.RED,et.element.element_red_900),Object.assign({},rt.PINK,et.element.element_pink_900),Object.assign({},rt.PURPLE,et.element.element_purple_900),Object.assign({},rt.BLUE,et.element.element_blue_900),Object.assign({},rt.DEEP_BLUE,et.element.element_royal_blue_900),Object.values(rt).filter((t=>t.name!==rt.NONE.name)).map((t=>t.name)),Object.values(rt).filter((t=>t.hex!==rt.NONE.hex)).map((t=>t.hex)),Object.assign({},rt,{WHITE:{name:"WHITE",css:"rgba(255,255,255,1)",hex:"#ffffff"}})),it=(Object.values(nt),Object.assign({},{HEX:"HEX",RGB:"RGB",HSL:"HSL"},{OFF:"Off"}),"TABLE"),ot=($.LEFT,J.TOP,Object.assign({},rt,{GREY:{name:"TABLE_DEFAULT_HEADER_BACKGROUND_COLOR",css:"var(--ws-table-header-row-background)",hex:"#D2D3D6"}}),t=>e=>g(e)===t),at=(ot("SKELETON"),ot(j)),st=ot(Y),ut=ot(M),ct=(ot(R),ot(P),ot(q)),ht=(ot(B),ot(K)),ft=ot(H),lt=(ot(it),ot(I)),pt=ot(A),vt=(ot(F),ot(S)),dt=(ot(D),ot(G),ot(U),t=>vt(t)||pt(t)),gt=(t,e)=>e.map((e=>{const r=l(e.id,t);let n=Object.assign({x:m(r),y:y(r)},e,{elementType:(i=g(r),dt(i)?S:at(i)||st(i)||ht(i)||ft(i)||ut(i)||lt(i)||ct(i)?j:i),color:b(r)});var i;return dt(n.elementType)&&(n=(t=>Object.assign({},t,{x:t.x-2,y:t.y-1,width:t.width+4,height:t.height+1}))(n)),n}));var _t=r(7043),yt=r.n(_t),mt=r(2628),bt=r.n(mt);const xt=(t,e,r,n)=>e.reduce(((t,e)=>{if(e.id===r.id)return t;const i=n(r,e);return t.matrix[r.id]=t.matrix[r.id]||{},t.matrix[r.id][e.id]=i,t.distances=[...t.distances,{dist:i,clusters:[r.id,e.id]}],t.sorted=!1,t}),Object.assign({},t)),wt=(t,e,r)=>isNaN(t.matrix[e][r])?isNaN(t.matrix[r][e])?1/0:t.matrix[r][e]:t.matrix[e][r],Et=(t,e,r)=>{const n=t.distances.filter((t=>-1===t.clusters.indexOf(e)&&-1===t.clusters.indexOf(r)));return Object.assign({},t,{distances:n})},Ot=(t,e)=>t.dist-e.dist,St=t=>{let{distances:e}=t;return t.sorted||(e=e.sort(Ot)),e[0]},At=(t,e)=>({x:t,y:e}),It=(t,e,r)=>e[r]-t[r],jt=(t,e)=>It(t,e,"x"),Mt=(t,e)=>It(t,e,"y"),Dt=(t,e,r,n)=>t[r]+(e[r]-t[r])*n,Rt=(t,e,r=.5)=>At(((t,e,r)=>Dt(t,e,"x",r))(t,e,r),((t,e,r)=>Dt(t,e,"y",r))(t,e,r)),zt=t=>t.reduce(((e,r,n)=>(e.x+=r.x,e.y+=r.y,n===t.length-1&&(e.x/=t.length,e.y/=t.length),e)),At(0,0)),kt=c()(((t,e,r)=>t(...r.map(l(e))))),Tt=(kt(Math.min,"x"),kt(Math.max,"x"),kt(Math.min,"y"),kt(Math.max,"y"),t=>t||0),Nt=t=>Tt(l("x",t)||l("left",t)),Lt=t=>Tt(l("y",t)||l("top",t)),Pt=Nt,Ct=Lt,Wt=t=>Tt(l("right",t)||Pt(t)+l("width",t)),Ut=t=>Tt(l("bottom",t)||Ct(t)+l("height",t)),qt=t=>Tt(l("width",t)||Wt(t)-Pt(t)),Bt=t=>Tt(l("height",t)||Ut(t)-Ct(t)),Ft=t=>{const e=Nt(t),r=Lt(t);return{x:e,y:r,top:r,right:Wt(t),bottom:Ut(t),left:e,width:qt(t),height:Bt(t)}};var Kt=r(4372),Gt=r.n(Kt),Ht=r(5825),Yt=r.n(Ht),Xt=r(3927),Vt=r.n(Xt),$t=r(1484),Jt=r.n($t),Zt=r(7382),Qt=r.n(Zt),te=r(4432),ee=r.n(te),re=r(87),ne=r.n(re),ie=r(6604),oe=r.n(ie);const ae=ne()(((t,e,r)=>oe()(r,((r,n)=>t(r,e[n]))))),se=(ae(ee()),ae(Qt()),c()(((t,e)=>Vt()(Jt()(t),e)))),ue=c()(((t,e)=>Vt()(Jt()(1/t),e))),ce=Vt()(Yt()),he=Vt()(Gt()),fe=(t,e)=>({x:t,y:e}),{scale:le,reverseScale:pe}=t,ve=(c()(((t,e)=>fe(Nt(e)+Nt(t),Lt(e)+Lt(t)))),c()(((t,e)=>fe(Nt(e)-Nt(t),Lt(e)-Lt(t)))),"top"),de="right",ge="bottom",_e="left",ye=t=>fe(Pt(t),Ct(t)),me=t=>fe(Wt(t),Ut(t)),be=(c()(((t,e)=>t&&e&&Nt(e)>=Pt(t)&&Nt(e)<=Wt(t)&&Lt(e)>=Ct(t)&&Lt(e)<=Ut(t)||!1)),c()(((t,e)=>Pt(e)>=Pt(t)&&Wt(e)<=Wt(t)&&Ct(e)>=Ct(t)&&Ut(e)<=Ut(t))),c()(((t,e)=>{if(!t||!e)return!1;const r=Nt(e),n=Lt(e),i=Pt(t),o=Wt(t),a=Ct(t),s=Ut(t);return(r===i||r===o)&&n>=a&&n<=s||(n===a||n===s)&&r>=i&&r<=o})),c()(((t,e)=>{if(!t||!e)return!1;const r=ye(t),n=me(t),i=ye(e),o=me(e);return!(n.x<=i.x||n.y<=i.y||o.x<=r.x||o.y<=r.y)})));c()(((t,e)=>be(t,e)?Ft({left:Math.max(Pt(t),Pt(e)),right:Math.min(Wt(t),Wt(e)),top:Math.max(Ct(t),Ct(e)),bottom:Math.min(Ut(t),Ut(e))}):null));var xe=r(5637),we=r.n(xe);const Ee=we();Ee.lineVector=function(t,e){return(e instanceof we()?e.clone():we().fromObject(e)).subtract(t)},Ee.prototype.perpendicular=function(){const t=-this.y;return this.y=this.x,this.x=t,this},Ee.prototype.perpendicularRight=function(){const t=this.y;return this.y=-this.x,this.x=t,this},Ee.prototype.toLength=function(t){return this.normalize().multiplyScalar(t)},Ee.prototype.clampLength=function(t){return this.lengthSq()<t*t?this:this.normalize().multiplyScalar(t)},Ee.prototype.projectedMagnitude=function(t){return this.dot(t)/this.length()},Ee.prototype.projectedRatio=function(t){return this.dot(t)/this.lengthSq()},Ee.prototype.toFixed=function(t){const e=t||8;return this.x=Number(this.x.toFixed(e)),this.y=Number(this.y.toFixed(e)),this};const Oe=(t,e,r,n)=>i=>{return o=fe(t(i),e(i)),a=fe(r(i),n(i)),{start:o,end:a};var o,a},Se=Oe(Pt,Ct,Wt,Ct),Ae=Oe(Wt,Ct,Wt,Ut),Ie=Oe(Pt,Ut,Wt,Ut),je=Oe(Pt,Ct,Pt,Ut),Me={[ve]:Se,[de]:Ae,[ge]:Ie,[_e]:je},De=c()(((t,e)=>{const r=Me[t];return r?r(e):null})),Re=c()(((t,e)=>{if(be(t,e))return 0;const r=Pt(t)<Pt(e)?t:e,n=Wt(t)>Wt(e)?t:e;let i=Pt(n)-Wt(r);i=Math.max(0,i);const o=Ct(t)<Ct(e)?t:e,a=Ut(t)>Ut(e)?t:e;let s=Ct(a)-Ut(o);return s=Math.max(0,s),Math.hypot(i,s)})),{scale:ze,reverseScale:ke,roundVals:Te}=t,Ne=(c()(((t,e)=>Ft({x:Pt(e)+Nt(t),y:Ct(e)+Lt(t),width:qt(e),height:Bt(e)}))),c()(((t,e)=>Ft({x:Pt(e)-Nt(t),y:Ct(e)-Lt(t),width:qt(e),height:Bt(e)}))),c()(((t,e,r)=>Ft({x:Nt(r)-t,y:Lt(r)-e,width:qt(r)+2*t,height:Bt(r)+2*e}))),c()(((t,e)=>Ft({x:Nt(e)-Pt(t),y:Lt(e)-Ct(t),width:qt(e)+Pt(t)+Wt(t),height:Bt(e)+Ct(t)+Ut(t)}))),(t,e)=>({start:t,end:e})),Le=(t,e)=>t.start.x<e.start.x,Pe=(t,e)=>t.start.x>e.start.x,Ce=(t,e)=>t.start.y<e.start.y,We=(t,e)=>t.start.y>e.start.y,Ue=(t,e)=>t.start[e]===t.end[e],qe=(t,e,r)=>t.start[r]===e.start[r]&&Ue(t,r)&&Ue(e,r),Be=(t,e)=>Ue(t,"y")?((t,e)=>qe(t,e,"y"))(t,e):((t,e)=>qe(t,e,"x"))(t,e),Fe=(t,e,r)=>Be(t,e)?((t,e)=>Ne(At(Math.min(t.start.x,e.start.x),Math.min(t.start.y,e.start.y)),At(Math.max(t.end.x,e.end.x),Math.max(t.end.y,e.end.y))))(t,e):((t,e,r)=>r(t,e)?t:e)(t,e,r),Ke=(t,e)=>It(t.start,t.end,e),Ge=(t,e,r)=>Math.max(0,Math.min(t.end[r],e.end[r])-Math.max(t.start[r],e.start[r])),He=(t,e,r)=>Ge(t,e,r)/Math.min(Ke(t,r),Ke(e,r)),Ye=(t,e,r=0)=>((t,e)=>He(t,e,"x"))(t,e)>r,Xe=t=>{const e=Ft(t),r=(n=e,["left","right","top","bottom"].reduce(((t,e)=>(t[e]=De(e,n),t)),{}));var n;return{id:t.id,type:t.type,color:t.color,elements:[t.id],children:[],bounds:e,edges:r,height:0}},Ve=(t,e)=>t===e?t:null,$e=(t,e,r)=>{return{id:`${t.id}_${e.id}`,type:Ve(t.type,e.type),color:Ve(t.color,e.color),elements:[...t.elements,...e.elements],children:[t,e],bounds:(o=t.bounds,a=e.bounds,Ft({left:Math.min(Pt(o),Pt(a)),right:Math.max(Wt(o),Wt(a)),top:Math.min(Ct(o),Ct(a)),bottom:Math.max(Ut(o),Ut(a))})),edges:(n=t.edges,i=e.edges,{left:Fe(n.left,i.left,Le),right:Fe(n.right,i.right,Pe),top:Fe(n.top,i.top,Ce),bottom:Fe(n.bottom,i.bottom,We)}),height:r};var n,i,o,a},Je=t=>At(t.bounds.left,t.bounds.top),Ze=t=>At(t.bounds.left,t.bounds.bottom),Qe=t=>At(t.bounds.right,t.bounds.top),tr=t=>Rt(Je(t),Ze(t)),er=t=>zt([Je(t),t.edges.left.start,t.edges.top.start]),rr=t=>zt([Qe(t),t.edges.right.start,t.edges.top.end]);var nr=r(2762),ir=r.n(nr);const or={[S]:.8,[M]:.9,[R]:.9},ar=20*Math.PI/180,sr=(t,e)=>{const r=t.currMaxHeight+e,n=(({x:t,height:e,variance:r})=>({x:t,height:e,variance:r}))({height:r,x:t.points.length,variance:e});return t.points.push(n),t.currMaxHeight=r,t},ur=(t,e)=>Math.atan(e/t),cr=t=>{const e=(t=>{const e=t[t.length-1].height,r=t.length-1,n=(t=>1===t.length?t[0].variance:(t[t.length-1].height-t[0].height)/t.length)(t);return t.slice(1,-1).map(((i,o)=>{const{height:a}=i,s=o+1,u=a/s,c=(e-a)/(r-s),h=e-r*(e-a)/(r-s),f=t=>c*t+h;let l=0;for(let e=0;e<s;e++){const r=t[0].height;l+=Math.abs(r-u*e)}for(let e=s;e<r;e++){const r=t[0].height;l+=Math.abs(r-f(e))}const p=ur(s*n,a);return{cumulativeError:l,index:s,dTheta:ur((r-s)*n,e-a)-p}}))})(t.points),r=ir()(e,(t=>t.cumulativeError));let n=t.points[t.points.length-1],i=0;r&&(n=t.points[r.index],i=r.dTheta);const o=i<ar;return o&&(n=t.points[t.points.length-1]),{elbowPoint:n,errorMargins:e,tooLinear:o,points:t.points}},hr=t=>(e,r)=>Math.min(wt(t,e.children[0].id,r.id),wt(t,e.children[1].id,r.id)),fr=(t,e,r)=>{let n;let i=(t=>({points:[],currMaxHeight:0,autoClusterDistance:t}))(r*Math.abs(r));const o=t.reduce(((t,e)=>(t[e.id]=e,t)),{});let a=((t,e)=>t.reduce(((r,n)=>xt(r,t,n,e)),{distances:[],matrix:{},sorted:!1}))(t,e);const s=[];let u=St(a);for(;u;){s.push(u);const t=o[u.clusters[0]],e=o[u.clusters[1]];i=sr(i,Math.pow(u.dist/2,2));const r=$e(t,e,i.currMaxHeight);delete o[t.id],delete o[e.id];const c=bt()(o);a=xt(a,c,r,hr(a)),a=Et(a,t.id,e.id),o[r.id]=r,u=St(a),n=r}return{rootCluster:n,screePlot:i,distanceMatrix:a,usedDistances:s}},lr=(t,e,r)=>t?(t.height>e?(lr(t.children[0],e,r),lr(t.children[1],e,r)):r.push(t),r):r,pr=(t,e=[])=>t?(t.children.length?(pr(t.children[0],e),pr(t.children[1],e)):e.push(t),e):e,vr=(t,e)=>((t,e,r)=>Ye(Ie(t),Ie(e,"bottom"),r))(t,e,.5)?2:1e3,dr=(t,e)=>vr(t.bounds,e.bounds),gr=(t,e,r,n)=>t===e?n(t)*r:r,_r=[(t,e,r)=>gr(t.color,e.color,r,(()=>.9)),(t,e,r)=>gr(t.type,e.type,r,(t=>or[t]||1))],yr=(t,e)=>{const r=Re(t.bounds,e.bounds);return _r.reduce(((r,n)=>n(t,e,r)),r)},mr=(t,e,r)=>{if(t.length<=1)return{clusters:t,dendrogramData:{},elbowPointData:{},earlyExit:!0};const n=fr(t,e,r),i=cr(n.screePlot);return{clusters:(o=n.rootCluster,a=i.elbowPoint.height,lr(o,a,[])),dendrogramData:n,elbowPointData:i,earlyExit:!1};var o,a},br=(t,e,r)=>t.reduce(((t,n,i)=>{const o=r(n);return e.forEach((e=>{const r=e.distanceModifier||1,n=(a=e,s=o,Math.hypot(jt(a,s),Mt(a,s))*r);var a,s;n<t.minDist&&(t.minDist=n,t.clusterIndex=i,t.closestLine=Ne(e,o))})),t}),{minDist:1/0,clusterIndex:null,closestLine:null}),xr=(t,e)=>{let r=[e];const n=[...t],i=[],o=[];let a=br(n,r,er);for(;null!==a.clusterIndex;){const t=n.splice(a.clusterIndex,1)[0];i.push(t),o.push(a.closestLine);const e=zt([Ze(s=t),s.edges.left.end,s.edges.bottom.start]),u=rr(t);u.distanceModifier=.6,r=[e,u],a=br(n,r,er)}var s;return{sortedClusters:i,readingLines:o}},wr=(t,e)=>tr(t).x-tr(e).x,Er=t=>({cluster:t}),Or=t=>{const e=(t=>{const e=pr(t),r=Je(t);return xr(e,r)})(t),r=e.sortedClusters.map(Er);return{cluster:t,readingData:e.readingLines,children:r}},Sr=t=>{const e=(t=>{const e=pr(t);return mr(e,dr,2)})(t),r=(t=>{const e=t.sort(wr),r=e.reduce(((t,e)=>{const r=Je(e);if(t.fromPoint){const e=Ne(t.fromPoint,r);t.lines.push(e)}return t.fromPoint=r,t}),{fromPoint:null,lines:[]});return{sortedClusters:e,readingLines:r.lines}})(e.clusters),n=r.sortedClusters.map(Or);return{cluster:t,dendrogramData:e.dendrogramData,elbowPointData:e.elbowPointData,readingData:r.readingLines,children:n}},Ar=t=>{const e=(t=>{const e=t.map(Xe);return mr(e,yr,-1)})(t),r=(t=>{const e=At(0,0);return xr(t,e)})(e.clusters),n=r.sortedClusters.map(Sr);return{dendrogramData:e.dendrogramData,elbowPointData:e.elbowPointData,earlyExit:e.earlyExit,readingData:r.readingLines,children:n}},Ir=t=>yt()([],...t.children.map((t=>yt()([],...t.children.map((t=>t.children.map((t=>t.cluster.id))))))));var jr=r(9161),Mr=r(2353),Dr=r.n(Mr);(()=>{const t="local_storage";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(e){return!1}})()&&localStorage;let Rr;!function(t){t.GLOBAL="global",t.LOGS="logs",t.TOOLBAR="toolbar"}(Rr||(Rr={}));let zr={};const kr=t=>{const e=t.split(".");for(let r=e.length-1;r>=0;r--){const t=e.slice(0,r+1).join("."),n=zr[t];if(!Dr()(n))return n}return!!zr.global};var Tr=r(5350);const Nr="DOC_MODE",Lr=t=>(0,jr.Z)().debugLevel<Tr.DEBUG_LEVEL.FINE&&!((t=Rr.GLOBAL)=>!!kr(t))()||!console.group?t:(console.groupCollapsed("%cDocument mode calculations","color: #f4511c"),console.time(Nr),console.info("%cCreating main clusters...","color: green"),console.info("%c-----------------------------","color: green"),e=>{const r=t(e);if(r.earlyExit)return console.debug("Document mode exited early as there\'s so few data points, calculations are unnecessary"),console.timeEnd(Nr),console.groupEnd(),r;console.debug("Distance Matrix:"),console.table(r.dendrogramData.distanceMatrix.matrix),console.debug("Merges:"),console.table(r.dendrogramData.usedDistances.map((t=>({cluster1:t.clusters[0],cluster2:t.clusters[1],distance:t.dist})))),console.debug("Scree Plot:");const n=r.elbowPointData.points.map(((t,e)=>{const n={height:t.height,variance:t.variance},i=r.elbowPointData.errorMargins[e-1];return i&&(n.cumulativeError=i.cumulativeError,n.dTheta=i.dTheta),n}));return console.table(n),console.debug("Variances:",r.elbowPointData.points.map((t=>t.variance)).join(", ")),console.debug("Elbow point:",r.elbowPointData.elbowPoint.x,", Too linear:",r.elbowPointData.tooLinear),console.timeEnd(Nr),console.groupEnd(),r}),Pr=({elements:t,elementSizes:e})=>(({documentElements:t})=>{const e=Lr(Ar)(t);return{order:Ir(e),details:e}})({documentElements:gt(t,e)});self.addEventListener("message",(t=>{const{elements:e,elementSizes:r}=t.data,{order:n}=Pr({elements:e,elementSizes:r});postMessage(n)}))})()})();\n',"Worker",void 0,void 0)},_u=({currentBoardId:e,elements:t,elementGraph:n,measurements:r,gridSize:o})=>{const[i,a]=(0,s.useState)(Ht.List());return(0,s.useEffect)((()=>{const i=(0,wu.UF)({elements:t,elementGraph:n,parentId:e}),s=i.map((e=>{const t=(0,D.nRF)(e);return{id:t,width:((0,O.P2)([t,"width"],r)||1)/o,height:((0,O.P2)([t,"height"],r)||1)/o}}));Ou.postMessage({elements:i.toJS(),elementSizes:s.toArray()}),Ou.onmessage=r=>{const o=r.data,s=Ht.List(o).map((e=>i.get(e))),l=(0,wu.uV)({elements:t,elementGraph:n,parentId:e,section:Fi.WI.INBOX}).toList();let c=s.concat(l);const d=c.filter(Di.t3).map((e=>[(0,D.nRF)(e),(0,wu.uV)({elements:t,elementGraph:n,parentId:(0,D.nRF)(e),section:Fi.WI.INBOX}).toList()]));d.forEach((([e,t])=>{c=c.splice(c.findIndex((t=>(0,D.nRF)(t)===e)),0,...t.toArray())}));const u=c.filter(Di.Or);a(u)}}),[]),i},Ru=(0,E.zB)({currentBoardId:q.ie,elements:ct.$,elementGraph:Eu.pD,gridSize:L.FP}),Au=(0,Se.qC)((0,xe.Z)((e=>({measurements:(0,Me.gd)(e)}))),(0,c.$j)(Ru,(e=>({navigateToImage:t=>e((0,X.nI)({elementId:t}))})))),Du=({currentBoardId:e,element:t,showNavigation:n,navigateToImage:r,elements:o,elementGraph:i,measurements:a,uploadingAttachment:l})=>{const c=_u({currentBoardId:e,elements:o,elementGraph:i,measurements:a}),d=(0,D.nRF)(t),u=c.map(D.nRF),m=u.indexOf(d),p=(m-1)%u.size,h=(m+1)%u.size,g=u.get(p),E=u.get(h),v=(0,s.useCallback)((e=>{if(n)switch(e.keyCode){case Qt.nx.LEFT_ARROW:case Qt.nx.UP_ARROW:if(!g)return;return e.preventDefault(),r(g);case Qt.nx.RIGHT_ARROW:case Qt.nx.DOWN_ARROW:if(!E)return;return e.preventDefault(),r(E)}}),[g,E,r]);return(0,s.useEffect)((()=>(window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v))),[v]),s.createElement(s.Fragment,null,!l&&s.createElement(Cu,{imagesToPreload:c}),s.createElement("div",{className:f()("ImageModalNavigation",{show:n&&c.size>=2})},s.createElement(hi.Z,{className:"nav left",onClickFn:()=>r(g)},"Previous"),s.createElement(hi.Z,{className:"nav right",onClickFn:()=>r(E)},"Next")))};Du.propTypes={currentBoardId:l().string,element:l().object,showNavigation:l().bool,prevImageId:l().string,nextImageId:l().string,navigateToImage:l().func,elements:l().object,elementGraph:l().object,measurements:l().object,uploadingAttachment:l().bool};const Nu=Au(Du),xu=e=>{const{children:t,className:n,isPresentationMode:r}=e,o=f()("ModalToolbarBody",{truncate:r});return s.createElement("div",{className:f()("ModalToolbar",n)},s.createElement("div",{className:o},t))};xu.propTypes={children:l().oneOfType([l().arrayOf(l().node),l().node]),className:l().string,isPresentationMode:l().bool};const Mu=xu;var Pu=n(37977),Lu=n.n(Pu),ku=n(52151),Fu=n.n(ku),Bu=n(52612),ju=n.n(Bu),zu=n(36115),Uu=n.n(zu);const Hu=Lu()("/"),Zu=Lu()("?"),Gu=Lu()("."),Ku=(e,t)=>{const n=Fu()(Hu(e)),r=ju()(Zu(n));if(r.indexOf(".")>-1)return r;return`${r}.${Fu()(Hu(t))}`},Wu=e=>{const{children:t,className:n}=e,r=f()("ModalToolbarButton",n);return s.createElement(hi.Z,Object.assign({},e,{className:r}),s.createElement("div",{className:"button-contents"},t))};Wu.propTypes={children:l().oneOfType([l().arrayOf(l().node),l().node]),className:l().string};const Vu=Wu;var $u=n(59856),qu=n(73066),Yu=n(72268),Xu=n(58270),Qu=n(48679),Ju=n(60530);const em=ec.OO,tm=({children:e,url:t,filename:n,onDownloadStart:r,onDownloadEnd:o,dispatchTriggerDownload:i,elementId:a,total:l,loaded:c})=>{const[d,u]=(0,s.useState)(!1),m=(0,Yu.Z)(d,1500),p=(0,s.useRef)(l);(0,s.useEffect)((()=>{l>p.current&&(p.current=l)}),[l]);const h=m&&!d?p.current:l,g=m&&!d?p.current:c;return s.createElement("span",{className:"DownloadButton"},d||m?s.createElement("div",{className:"downloading"},s.createElement(qu.Z,{barbershop:!0,animate:!0,percentageComplete:g/h*100}),s.createElement("span",{className:"progress-message"},(0,Xu.wd)(g,h,!0))):s.createElement("a",{className:"download-button",onClick:async e=>{e&&e.preventDefault(),e&&e.stopPropagation(),(0,Ju.gZ)({url:t}),i({url:t,filename:n,onDownloadStart:()=>{u(!0),r&&r()},onDownloadEnd:()=>{u(!1),o&&o()},id:a})},href:t},e))};tm.propTypes={children:l().oneOfType([l().element,l().array,l().string]),url:l().string,filename:l().string,elementId:l().string,onDownloadStart:l().func,onDownloadEnd:l().func,dispatchTriggerDownload:l().func,total:l().number,loaded:l().number};const nm=(0,c.$j)(em,(e=>({dispatchTriggerDownload:t=>e((0,Qu.OP)(t))})))(tm);var rm=s.createElement(N.Z,{name:"modal-toolbar-download"});const om=e=>{const{children:t}=e;return s.createElement(Vu,{className:"ModalToolbarDownloadButton"},s.createElement(nm,Object.assign({},e,{onDownloadStart:()=>(0,$u.P)(".ModalToolbarDownloadButton")}),rm,s.createElement("div",{className:"text"},t)))};om.propTypes={children:l().oneOfType([l().arrayOf(l().node),l().node])};const im=om;var sm=n(46096),am=n(17219);const lm=({children:e,divider:t,className:n,url:r})=>s.createElement(am.Z,null,s.createElement(sm.Z,null,t,s.createElement("a",{href:r,onClick:()=>{(0,Ju.gZ)({url:r})},target:"_blank",rel:"noopener noreferrer",className:f()("DownloadOpenLinkButton",n)},e)));lm.propTypes={children:l().oneOfType([l().element,l().array,l().string]),divider:l().oneOfType([l().element,l().array,l().string]),className:l().string,url:l().string};const cm=lm,dm="VIEW",um="UPLOAD",mm="DRAW",pm="CROP",hm="image-modal-toolbar-secondary-tools",gm=(0,E.zB)({renderSecureImagesThroughProxy:(0,Xa.D)(yl.Iu.renderSecureImagesThroughProxy),renderSecureImagesThroughCF:(0,Xa.D)(yl.Iu.renderSecureImagesThroughCF,!0)});var fm=s.createElement(Vu,null,s.createElement(N.Z,{name:"modal-toolbar-open-new-tab"}),s.createElement("div",{className:"text"},"New tab")),Em=s.createElement(N.Z,{name:"modal-toolbar-draw"}),vm=s.createElement("div",{className:"text"},"Draw"),bm=s.createElement(N.Z,{name:"modal-toolbar-crop"}),ym=s.createElement("div",{className:"text"},"Crop/rotate");const Im=e=>{const{element:t,isEditable:n,setMode:r,renderSecureImagesThroughProxy:o,renderSecureImagesThroughCF:i,isPresentationMode:a}=e,l=(0,D.nRF)(t),c=(0,D.K8)(t)||"image/jpeg",d=(0,D.ywY)(t),u=(0,qd.MC)({imageSize:xc(d),imageDetails:d,elementId:l,useSecureMediaUrl:!0,renderSecureImagesThroughProxy:o,renderSecureImagesThroughCF:i});return s.createElement("div",{className:"ImageModalViewToolbar"},!a&&s.createElement(im,{url:u,filename:Ku(u,c),elementId:l},"Download"),s.createElement(cm,{url:u},fm),n&&s.createElement(Vu,{onClickFn:()=>r(mm)},Em,vm),n&&!a&&s.createElement(Vu,{onClickFn:()=>r(pm)},bm,ym))};Im.propTypes={element:l().object,isEditable:l().bool,isPresentationMode:l().bool,isEditingDisabled:l().bool,setMode:l().func,renderSecureImagesThroughProxy:l().bool,renderSecureImagesThroughCF:l().bool};const Cm=(0,c.$j)(gm)(Im),Sm=e=>{const{children:t,className:n}=e,r=document.getElementById(hm);if(!r)return null;const o=s.createElement("div",{className:f()("ImageModalToolbarSecondaryTools",n)},t);return(0,ms.createPortal)(o,r)};Sm.propTypes={children:l().oneOfType([l().arrayOf(l().node),l().node]),className:l().string};const Tm=Sm,wm=e=>{const{element:t}=e;return s.createElement(Tm,{className:"ImageModalUploadToolbar"},Ic(t)?"Saving changes...":"Uploading image...")};wm.propTypes={element:l().object};const Om=wm;function _m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Rm extends s.Component{constructor(e){super(e),_m(this,"handleChildMounted",(()=>{var e,t;this.prevChildMounted&&this.prevChild&&this.mountNodeRef.current.removeChild(this.prevChild),this.prevChildMounted=!1,this.prevChild=null===(e=this.mountNodeRef.current)||void 0===e||null===(t=e.children)||void 0===t?void 0:t[0]})),_m(this,"handleChildUnmounted",(()=>{this.prevChild&&this.mountNodeRef.current&&(this.mountNodeRef.current.appendChild(this.prevChild),this.prevChildMounted=!0)})),this.mountNodeRef=s.createRef(),this.prevChild=null,this.prevChildMounted=!1}componentDidUpdate(e,t,n){var r,o;return null!==(r=this.mountNodeRef.current)&&void 0!==r&&null!==(o=r.children)&&void 0!==o&&o[0]?this.handleChildMounted():this.handleChildUnmounted()}render(){const{className:e}=this.props;return s.createElement("div",Object.assign({},this.props,{ref:this.mountNodeRef,className:f()("StickyPortalMount",e)}))}}Rm.propTypes={className:l().string};const Am=Rm;var Dm=s.createElement(Am,{id:hm,className:"image-secondary-tools"});const Nm=e=>{const{mode:t}=e,n=t===dm;return s.createElement(Mu,Object.assign({className:"ImageModalToolbar"},e),s.createElement("div",{className:f()("toolbar-animation-container",n?"primary":"secondary")},s.createElement("div",{className:"image-primary-tools"},s.createElement(Cm,e)),t===um&&s.createElement(Om,e),Dm))};Nm.propTypes={element:l().object,mode:l().string,setMode:l().func,isPresentationMode:l().bool};const xm=Nm;var Mm=n(9101),Pm=n(86251),Lm=n.n(Pm),km=n(33129),Fm=n.n(km),Bm=(n(31247),n(66998));var jm=s.createElement("div",{className:"loading-overlay"},s.createElement(K.Z,{show:!0}),"Loading editor..."),zm=s.createElement("div",{className:"dialog-text"},s.createElement("span",{className:"warning-label"},"Warning:")," rotating this image will clear the drawing"),Um=s.createElement(N.Z,{name:"modal-toolbar-rotate"});const Hm=e=>{const{element:t,gridSize:n,attachment:r,windowWidth:o,windowHeight:i,idealHeight:a,cancelEditing:l,afterSaveCb:c,uploadEditedImage:d,updateElementImageData:u,revertToOriginalImageData:m,renderSecureImagesThroughProxy:p,renderSecureImagesThroughCF:h}=e,[g]=(0,s.useState)(Cc(t)||0),[E,v]=(0,s.useState)(Cc(t)||0),[b,y]=(0,s.useState)(!1),[I,C]=(0,s.useState)(!1),S=(0,s.useRef)(),T=(0,s.useRef)(),w=(0,s.useRef)(!1),_=(0,s.useRef)(),[R,A]=(0,s.useState)(!1),N=(0,D.nRF)(t),x=(0,D.Yo_)(t),M=(0,D.K8)(t)||"image/jpeg",P=(0,D.A7z)(t)&&(0,D.KTp)(t),L=_c({element:t,gridSize:n,attachment:r}),k=Rc({element:t,gridSize:n,attachment:r}),F=!!E&&-180!==E,B=F?k:L,j=F?L:k,{modalWidth:z,modalHeight:U}=(0,Bm.g)({windowWidth:o,windowHeight:i,imageWidth:B,imageHeight:j,idealHeight:a,caption:P,footerSize:80,modalMinWidth:0,modalMinHeight:0,gridSize:n}),H={width:F?U:z,height:F?z:U,transform:`rotate(${g||0}deg)`},Z=yc(t),G=xc(Z),K=(0,qd.MC)({imageDetails:Z,imageSize:G,elementId:N,useSecureMediaUrl:true,renderSecureImagesThroughProxy:p,renderSecureImagesThroughCF:h});(0,s.useLayoutEffect)((()=>{if(T.current)return;const e=Ic(t)&&(0,O.su)(Ic(t));return T.current=new(Fm())(S.current,{dragMode:"none",viewMode:2,center:!1,movable:!1,zoomOnTouch:!1,zoomOnWheel:!1,toggleDragModeOnDblclick:!1,autoCrop:!0,autoCropArea:1,checkOrientation:!1,ready:()=>{const t=T.current;e&&(t.clear(),t.setData(e),t.crop(),t.setData(e),(e=>{const{width:t,height:n}=e.getContainerData(),{naturalWidth:r,naturalHeight:o}=e.getImageData(),i=Math.min(t,n)/Math.max(r,o);e.zoomTo(i,{x:t/2,y:n/2})})(t)),A(!0)},cropmove:()=>{w.current=!0}}),()=>T.current.destroy()}),[]),(0,s.useLayoutEffect)((()=>{const e=T.current;if(!R||null==e||!e.render)return;const t=_.current||e.getCropBoxData(),n=e.getContainerData(),r=z/$a.Cr(n);e.render();let o={top:n.width-t.left-t.width,left:t.top,width:t.height,height:t.width};o=$a.rI(o),o=$a.bA(r,o),e.setCropBoxData({top:$a.vF(o),left:$a.IS(o),width:$a.dz(o),height:$a.Cr(o)})}),[E]);const W=()=>{const e=T.current;w.current=!0,_.current=e.getCropBoxData(),e.clear(),e.rotate(-90),e.crop();const t=-270===E?0:E-90;y(g!==t),v(t)};return s.createElement(s.Fragment,null,s.createElement("div",{className:"image-modal-content"},s.createElement("div",{className:"image-container"},s.createElement("div",{className:"ImageEditor"},s.createElement("div",{className:f()("editor",{loading:!R}),style:{width:z,height:U}},!R&&s.createElement("div",{className:"loading-message"},s.createElement("div",{className:"loading-image",style:H},s.createElement(Uc.Z,{useSecureMediaUrl:true,showBrokenIconOnError:!0,element:t,imageData:yc(t),imageType:Wc.v.ELEMENT,widthPx:z,key:N})),s.createElement(Lc,e),jm),s.createElement("img",{ref:e=>{S.current=e},className:"editor-source-image",style:{width:z,height:U},src:K}),x&&!b&&R&&s.createElement("div",{className:"drawing-svg-container"},s.createElement("div",{className:"drawing-wrapper",style:{width:"100%",height:"100%"}},s.createElement(Lc,e))))),s.createElement(Re.Z,{element:t,textContent:(0,D.KTp)(t),captionVisible:(0,D.A7z)(t)}),I&&s.createElement("div",{className:"warning-dialog"},s.createElement("div",{className:"dialog-body"},zm,s.createElement("div",{className:"buttons"},s.createElement(hi.Z,{className:"StyledButton secondary",onClickFn:()=>{C(!1)}},"Cancel"),s.createElement(hi.Z,{className:"StyledButton danger",onClickFn:()=>{C(!1),W()}},"Continue anyway")))))),s.createElement(Tm,{className:"ImageEditorModalToolbar"},s.createElement(hi.Z,{className:"StyledButton secondary image-control rotate",onClickFn:()=>E===g&&x?C(!0):W(),disabled:!R||I},Um,"Rotate left"),s.createElement(hi.Z,{className:"StyledButton secondary cancel no-hover",onClickFn:l},"Cancel"),s.createElement(hi.Z,{className:"StyledButton primary save",onClickFn:()=>{const e=T.current;if(!w.current)return c();const n=e.getImageData(),r=e.getData(!0),o=yc(t),i=Lm()(n.naturalWidth-.01*n.naturalWidth,n.naturalWidth+.01*n.naturalWidth),s=Lm()(n.naturalHeight-.01*n.naturalHeight,n.naturalHeight+.01*n.naturalHeight);if(o&&0===r.rotate&&i(r.width)&&s(r.height))return m({elementId:N,imageOriginal:o.toJS(),clearDrawing:b}),c();e.getCroppedCanvas({width:r.width,height:r.height,maxWidth:4096,maxHeight:4096}).toBlob((e=>{const n=yc(t)||(0,D.ywY)(t);u({elementId:N,imageOriginal:n,imageEditorData:r,clearDrawing:b});const o=(e=>{const t=Gu(e);return[`${ju()(t)}-${(0,ya.Z)(6)}`,...Uu()(1,t)].join(".")})(Ku(K,M));e.lastModifiedDate=new Date,e.name=o,d(N,e),c()}),M,.85)},disabled:!R||I},"Save")))};Hm.propTypes={element:l().object,gridSize:l().number,attachment:l().object,windowWidth:l().number,windowHeight:l().number,idealHeight:l().number,originalImageWidth:l().number,originalImageHeight:l().number,uploadEditedImage:l().func,updateElementImageData:l().func,revertToOriginalImageData:l().func,cancelEditing:l().func,afterSaveCb:l().func,renderSecureImagesThroughProxy:l().bool,renderSecureImagesThroughCF:l().bool};const Zm=(0,c.$j)((()=>(0,E.zB)({renderSecureImagesThroughProxy:(0,Xa.D)(yl.Iu.renderSecureImagesThroughProxy),renderSecureImagesThroughCF:(0,Xa.D)(yl.Iu.renderSecureImagesThroughCF)})),(e=>({uploadEditedImage:(t,n)=>e((0,nc.Ix)({id:t,file:n,imageType:Wc.v.ELEMENT})),updateElementImageData:({elementId:t,imageOriginal:n,imageEditorData:r,clearDrawing:o})=>{const i={id:t,changes:{imageOriginal:n,imageEditorData:r,file:null,media:null},silent:!0,sync:!0};return o&&(i.changes.drawing=null,i.changes.hasDrawing=!1),e((0,Qr.yj)(i))},revertToOriginalImageData:({elementId:t,imageOriginal:n,clearDrawing:r})=>{const o={id:t,changes:{image:n,imageOriginal:null,imageEditorData:null,file:null},silent:!0,sync:!0};return r&&(o.changes.drawing=null,o.changes.hasDrawing=!1),e((0,Qr.yj)(o))}})))(Hm),Gm=e=>{const{finishEditingMode:t}=e;return s.createElement(Zm,Object.assign({},e,{cancelEditing:t,afterSaveCb:()=>{(0,Mm.Q3)("edited-image"),setTimeout(t,50)}}))};Gm.propTypes={finishEditingMode:l().func};const Km=Gm;var Wm=n(29682),Vm=n(70886),$m=n(9554),qm=n(66059),Ym=n(16582),Xm=n(84197),Qm=n(83940),Jm=n(15034),ep=n(30402);const tp=(0,E.zB)({enableDrawingInkEffect:eo.u9}),np=e=>{const{element:t,gridSize:n,attachment:r,modalWidth:o,finishEditingMode:i,dispatchUpdateDrawing:a,enableDrawingInkEffect:l,closeCallbackRef:c}=e;(0,Ym.Z)({eventType:$t.Xc.IMAGE_DRAWING,userProperties:{[Vt.YV.FEATURE]:{[Vt.x2.IMAGE_DRAWING]:!0}}});const d=(0,D.nRF)(t),u=(0,s.useRef)(),m=(0,s.useRef)(),[p,h]=(0,s.useState)(),g=(0,s.useMemo)((()=>(0,qm.Vn)({element:t})),[d]),E=Cc(t),v=!!E&&-180!==E,b=_c({element:t,gridSize:n,attachment:r}),y=Rc({element:t,gridSize:n,attachment:r}),I=v?y:b,C=v?b:y,S=(0,D.NO5)(t)||I,T=(0,D.SJ9)(t)||C,w=Mc(t),_=o/((0,$a.dz)(w)||S),{paths:R,currentPath:A,setPaths:N,beginPath:x,endPath:M,cancelPath:P,appendPointToCurrentPath:L,removePaths:k,undoPath:F,redoPath:B,canUndo:j,canRedo:z}=(0,Wm.Z)(g),{isPenMode:U,setIsPenMode:H}=(0,Vm.Z)({svgRef:u,undoPath:F,redoPath:B}),{toolMode:Z,toolModeState:G,setToolModeState:K,strokeSize:W,strokeColor:V,colorPopupOpen:$,strokePopupOpen:q,customColorInputOpen:Y,setToolMode:X,setStrokeSize:Q,setStrokeColor:J,switchToPreviousColor:ee,setStrokeSizeState:te,setStrokeColorState:ne,setColorPopupOpen:re,setCustomColorInputOpen:oe,setStrokePopupOpen:ie,closeAllPopups:se}=(0,$m.ZP)({onPathPropertyChangeRef:m}),ae=e=>{const t=(0,qm.UY)({paths:e,drawingWidth:S,drawingHeight:T});(t||(0,O.xb)(e))&&a({id:d,drawing:t,hasDrawing:!(0,O.xb)(e)})};c.current=e=>{ae(R)};const le=()=>{ae(R),i()};(0,Xm.Z)({toolMode:Z,undoPath:F,redoPath:B,cancelPath:P,setToolMode:X,setStrokeSize:Q,switchToPreviousColor:ee,handleSaveButton:le,colorPopupOpen:$,setColorPopupOpen:re});const ce={"--drawing-canvas-scale":_};return s.createElement("div",{className:f()("ImageModalDrawingModeContent",p),style:ce},s.createElement(Qm.Z,{ref:u,canvasScale:_,viewBoxX:(0,$a.nZ)(w),viewBoxY:(0,$a.Ff)(w),viewBoxWidth:(0,$a.dz)(w)||S,viewBoxHeight:(0,$a.Cr)(w)||T,onPathPropertyChangeRef:m,setEditorClassName:h,isEditable:!0,isPopupOpen:$||q||Y,isCurrentlyDrawing:!!A,toolMode:Z,setToolModeState:K,paths:R,setPaths:N,beginPath:x,endPath:M,cancelPath:P,isPenMode:U,appendPointToCurrentPath:L,removePaths:k,strokeColor:V,enableDrawingInkEffect:l,strokeSize:W,setStrokeSizeState:te,setStrokeColorState:ne,closeAllPopups:se,saveAndExitDrawingEditor:e=>{ae(e),i()}}),s.createElement(Tm,{className:"drawing-editor-toolbar-container"},s.createElement(Jm.Z,{isDrawing:!!A,defaultColors:ep.OS,isEditingExistingDrawing:!0,undoPath:F,redoPath:B,canUndo:j,canRedo:z,isPenMode:U,setIsPenMode:H,toolMode:Z,toolModeState:G,strokeSize:W,strokeColor:V,colorPopupOpen:$,strokePopupOpen:q,setToolMode:X,handleDiscardButton:()=>{i()},handleSaveButton:le,handleSetStrokeSize:Q,handleSetStrokeColor:J,setColorPopupOpen:re,setCustomColorInputOpen:oe,setStrokePopupOpen:ie})))};np.propTypes={element:l().object,gridSize:l().number,attachment:l().object,modalWidth:l().number,windowWidth:l().number,windowHeight:l().number,idealHeight:l().number,enableDrawingInkEffect:l().bool,finishEditingMode:l().func,dispatchUpdateDrawing:l().func,closeCallbackRef:l().object};const rp=(0,c.$j)(tp,(e=>({dispatchUpdateDrawing:({id:t,drawing:n,hasDrawing:r})=>e((0,Qr.yj)({id:t,changes:{drawing:n,hasDrawing:r}}))})))(np),op=e=>{const{mode:t,element:n}=e;return t===mm?s.createElement(rp,e):(0,D.Yo_)(n)?s.createElement(zc,e):null};op.propTypes={element:l().object,mode:l().string};const ip=op,sp=e=>((0,O.vg)("loaded",e)||0)/((0,O.vg)("total",e)||0)*100,ap=e=>{const{element:t,attachment:n,gridSize:r,lowerQualityImageUrl:o,isEditable:i,mode:a,windowWidth:l,windowHeight:c,setIsEditingDrawing:d,closeCallbackRef:u,idealHeight:m,setIdealHeight:p}=e;u.current=null;const h=(0,D.nRF)(t),g=(0,D.A7z)(t)&&(0,D.KTp)(t),f=Oc({element:t,gridSize:r,attachment:n}),E=wc({element:t,gridSize:r,attachment:n}),v=(0,D.aK5)(t),b=(0,D.nM0)(t),y=!v&&b?{backgroundImage:(0,pr.qx)(b)}:null,{modalWidth:I,modalHeight:C,idealModalHeight:S}=(0,Bm.g)({windowWidth:l,windowHeight:c,imageWidth:E,imageHeight:f,idealHeight:m,caption:g,footerSize:80,modalMinWidth:0,modalMinHeight:0,gridSize:r});S&&m!==S&&p(S),(0,s.useEffect)((()=>{p(null)}),[l,c]);const T=(0,s.useCallback)((e=>{i&&a!==mm&&d(h,!0)}),[h,i]);return s.createElement("div",{className:"ImageModalViewModeContent"},s.createElement("div",{className:"image-modal-content",style:{width:I,minHeight:C}},s.createElement("div",{className:"image-container"},s.createElement("div",{className:"image-wrapper",onDoubleClick:T,style:y},s.createElement("div",{style:{maxWidth:E,maxHeight:f,height:C}},s.createElement(Uc.Z,{useSecureMediaUrl:!0,showBrokenIconOnError:!0,element:t,imageType:Wc.v.ELEMENT,widthPx:I,thumbnailUrl:o,key:h},s.createElement(ip,Object.assign({},e,{modalWidth:I,modalHeight:C}))))),s.createElement(Re.Z,{element:t,textContent:(0,D.KTp)(t),captionVisible:(0,D.A7z)(t)}))),a===um&&s.createElement("div",{className:"uploading"},s.createElement(qu.Z,{percentageComplete:sp(n),barbershop:!0,animate:!0})))};ap.propTypes={element:l().object,attachment:l().object,gridSize:l().number,lowerQualityImageUrl:l().string,isEditable:l().bool,mode:l().string,windowWidth:l().number,windowHeight:l().number,idealHeight:l().number,setIdealHeight:l().func,setIsEditingDrawing:l().func,closeCallbackRef:l().object};const lp=ap,cp=e=>{const{mode:t}=e;return t===pm?s.createElement(Km,e):s.createElement(lp,e)};cp.propTypes={mode:l().string};const dp=cp,up=o()(["query","editing"]),mp=o()(["query","editing-drawing"]),pp=(0,Xa.D)(yl.Iu.renderSecureImagesThroughCF,!0),hp=(0,E.P1)(((e,{element:t})=>t),pp,((e,t)=>{const n=(0,D.ywY)(e),r=(0,D.nRF)(e);return[ql.eM.LARGE,ql.eM.REGULAR].map((e=>(0,qd.MC)({imageDetails:n,imageSize:e.name,elementId:r,useSecureMediaUrl:true,renderSecureImagesThroughCF:t}))).find((e=>(0,pu.Te)(e)))||(0,D.nM0)(e)})),gp=(0,E.zB)({attachment:ec.FG,lowerQualityImageUrl:hp,gridSize:L.FP,showDownloadOption:Zl.l,isPresentationMode:hu.li}),fp=e=>{const{element:t,isEditable:n,location:r,setOutsideModalChildren:o,setIsEditing:i,setIsEditingDrawing:a,close:l,showDownloadOption:c,selectElement:d}=e,u=(0,s.useRef)(),m=(0,s.useCallback)((e=>{u.current=e}),[]),p=(0,D.nRF)(t),h="true"===up(r),g="true"===mp(r),[E]=(0,s.useState)(h||g),v=(({attachment:e,isEditable:t,isEditing:n,isEditingDrawing:r})=>t&&n?pm:t&&r?mm:(0,ec.Yu)(e)?um:dm)(Object.assign({},e,{isEditing:h,isEditingDrawing:g})),b=(0,s.useCallback)((e=>{if(n)switch(e){case pm:return i(p,!0);case mm:return a(p,!0);default:return a(p,!1)}}),[p,h,i,a]),[y,I]=(0,gu.Z)();(0,s.useEffect)((()=>{d(p)}),[p]),(0,s.useEffect)((()=>{var e,n;null===(e=document.activeElement)||void 0===e||null===(n=e.blur)||void 0===n||n.call(e),o(s.createElement(Nu,{element:t,showNavigation:v===dm||v===um,uploadingAttachment:!1}))}),[t,v]);const C=(0,s.useCallback)((e=>{if(!(0,$.nY)(e)&&!(0,$.lk)(e)&&n)switch(e.keyCode){case Qt.nx.P:case Qt.nx.D:return a(p,!0);default:return null}}),[p]);(0,fu.Z)({onKeyDown:C});return s.createElement("div",{className:f()("ImageModal",mu()(v))},s.createElement(dp,Object.assign({},e,{mode:v,idealHeight:u.current,setIdealHeight:m,finishEditingMode:()=>{if(E)return l();b(p,!1)},windowWidth:y,windowHeight:I,returnToCanvas:E,setIsEditingDrawing:a})),c&&s.createElement(xm,Object.assign({},e,{mode:v,setMode:b,setIsEditing:i,setIsEditingDrawing:a,showDownloadOption:c})))};fp.propTypes={element:l().object,attachment:l().object,location:l().object,lowerQualityImageUrl:l().string,isEditable:l().bool,showDownloadOption:l().bool,gridSize:l().number,setOutsideModalChildren:l().func,close:l().func,selectElement:l().func,setIsEditing:l().func,setIsEditingDrawing:l().func,closeCallbackRef:l().object};const Ep=(0,c.$j)(gp,(e=>({selectElement:t=>{e((0,vs.uX)({ids:[t]}))},setIsEditing:(t,n)=>{e((0,X.nI)({elementId:t,params:{editing:n}}))},setIsEditingDrawing:(t,n)=>{e((0,X.nI)({elementId:t,params:{"editing-drawing":n}}))}})))(fp),vp=()=>((e={})=>(0,b.QS)(Object.assign({elementType:ql.nr,objectConstructorFn:Yl,displayName:ql.ss},e)))({presentationalComponent:Ed,containerComponent:du,modalComponent:Ep,tools:[Ks.Tk.RICH_TEXT,Ks.Tk.COLOR,Ks.Tk.CAPTION,Ks.Tk.SHOW_BACKGROUND,Ks.Tk.IMAGE_EDIT,Ks.Tk.EDIT_DRAWING,Ks.Tk.REACTION],tooltip:Mt.mL?"⌃⌘I":"Ctrl+Alt+I",selectedTools:[Ws.z.COLOR,Ws.z.CAPTION,Ws.z.SHOW_BACKGROUND,Ws.z.IMAGE_EDIT,Ws.z.EDIT_DRAWING,Ws.z.REACTION,...Ws.l.MULTI_SELECT_ARRANGEMENT],editingTools_CAPTION:(0,Gs.cE)()?[]:Ws.l.TEXT_EDITING_CAPTION});var bp=n(46563);const yp=e=>{const{content:t}=e;return Object.assign({},I(e),{elementType:bp.BA,content:Object.assign({title:bp.bf},t)})};var Ip=n(25387),Cp=n.n(Ip),Sp=n(63323),Tp=n.n(Sp),wp=n(80369),Op=n.n(wp),_p=n(74951),Rp=n(36316),Ap=n(12673),Dp=n(75874),Np=n(93047),xp=n(55458),Mp=n(94043);var Pp=s.createElement(jo,null);const Lp=e=>{const{hasActivity:t}=e;return!t||Pp};Lp.propTypes={hasActivity:l().bool};const kp=(0,c.$j)((()=>(0,E.zB)({hasActivity:(0,E.P1)(wo.wG,wo.wX,((e,t)=>t.childElementIds),((e,t,n)=>n.some((n=>e[n]||t[n]))))})))(Lp);var Fp=n(80640);const Bp=(0,$e.zO)("isHovered"),jp={drop:Fp.Z5,canDrop:(e,t)=>{const{listCanDropFn:n}=e;return n(e,t)},acceptDropTypes:Ai.mJ,hover:(e,t)=>{if(!t||!t.canDrop())return;const{isCollapsed:n}=e;t.getItem().index=n?0:e.listSize}},zp=(e,t)=>{const{childElementIds:n,isCollapsed:r}=t,o=e.getItem();if(e.getItemType()!==to.XX)return r||!(null==n||!n.length);if(!(o&&(r||n&&n.length)))return!1;const{element:i}=o;if(!i)return!1;const s=Fu()(n);return(0,D.nRF)(i)!==s},Up=(0,Se.WY)((({isPresentational:e,isEditable:t})=>e||!t),_i(),(0,Se.qC)((0,Se.CA)({onDoubleClick:({createShortcutCard:e,listSize:t,listId:n,isCollapsed:r})=>()=>{if(r)return;const o=(0,$i.mK)({listId:n,index:t});e({location:o,currentBoardId:n,creationSource:to.S1.DOUBLE_CLICK})}}),(0,Fp.mq)(jp,to.vc.LIST,((e,t,n)=>({connectDropTarget:e.dropTarget(),isHoveredCanDrop:t.canDrop()&&t.isOver({shallow:!0})&&zp(t,n),isHovered:t.isOver({shallow:!0})})))));var Hp=s.createElement("div",{className:"hovered-placeholder"});class Zp extends s.Component{componentDidUpdate(e){const{setParentHoveredChildAcceptsDrop:t,isHoveredCanDrop:n}=this.props;t&&Bp(e,this.props)&&t(n)}render(){const{connectDropTarget:e,isHoveredCanDrop:t,listSize:n,isCollapsed:r,onDoubleClick:o,isEditable:i,childrenTypeArray:a}=this.props,l=(0,Di.wb)(a.last());if(!i||!r&&(!n||n<1||l))return null;const c=f()("ColumnBottomDropArea",{"collapsed-hovered":t&&r});return(e||_i())(s.createElement("div",{className:c,onDoubleClick:o},t&&!r&&Hp))}}Zp.propTypes={isPresentational:l().bool,listId:l().string,listCanDropFn:l().func,listSize:l().number,onDoubleClick:l().func,connectDropTarget:l().func,isEditable:l().bool,isHoveredCanDrop:l().bool,isCollapsed:l().bool,childrenTypeArray:l().object,setParentHoveredChildAcceptsDrop:l().func};const Gp=Up(Zp);var Kp=s.createElement(N.Z,{name:"column-collapse"});const Wp=e=>{const{show:t,dispatchUpdateElement:n,dispatchForceMeasureAllCanvasElements:r,elementId:o,element:i,isEditable:a}=e,l=(0,D.esd)(i),c=s.useCallback((async e=>{e.stopPropagation(),await r(),n({id:o,changes:{collapsed:!l},sync:a})}),[l]);return t?s.createElement("div",{className:"ColumnCollapseButton",onMouseDown:A.hE,onClick:c},Kp):null};Wp.propTypes={show:l().bool,elementId:l().string,element:l().object,isEditable:l().bool,dispatchUpdateElement:l().func,dispatchForceMeasureAllCanvasElements:l().func};const Vp=(0,c.$j)(null,(e=>({dispatchForceMeasureAllCanvasElements:()=>e((0,Le.Lt)())})))(Wp),$p=(0,Rp.Z)([Ap.Z,(0,Dp.Z)([Di.t3]),(0,Np.Z)([Op()(_p.G)])]),qp=e=>{const{elementId:t,currentBoardId:n,element:r,gridSize:o,isSelected:i,inList:a,elementEvents:l,childElementIds:c,hasChildrenMatchingElementFilter:d,isSingleSelected:u,isEditable:m,isPresentational:p,isPresentationModeEnabled:h,permissions:g,isLocked:E,dispatchUpdateElement:v,getContextZoomScale:b,getContextZoomTranslationPx:y,isDragging:I}=e,C=(0,D.Lq4)(r),S=(0,D.dFx)(r),T=(0,Te.yp)(S,ep.aj),_=(0,D.esd)(r)&&!d,R=f()("Column drag-handle contrast-shadow",Object.assign({"column-collapsed":_,"background-color-target":i,"background-color-contrast-target":i},(0,Te.dW)(S,!0,ep.aj))),A=(0,w.UX)(R,e),N=(0,w.uR)(e),x=(0,D.dzi)(r)||to.cv,M=(0,s.useMemo)((()=>({parentWidthGU:x})),[x]),P=(0,qe.iS)(e),L=!(a&&I),k=Object.assign({},(0,ns.bS)(N,o,a),{background:L&&T,"--ws-element-background-primary":L&&T});return s.createElement("div",Object.assign({id:(0,w.Oc)((0,D.nRF)(r)),className:A,style:k},l),s.createElement(Vp,{show:!0,isEditable:m,element:r,elementId:t,dispatchUpdateElement:v}),s.createElement(_e,{colorName:C,isSelected:i}),s.createElement(ei.Z,{show:(0,os.Z)(e),elementId:t,element:r,currentBoardId:n,gridSize:o,getContextZoomScale:b,getContextZoomTranslationPx:y}),s.createElement(Ae.Z,e),s.createElement("div",{className:"title-container"},s.createElement(La.Z,Object.assign({},e,{elementId:(0,D.nRF)(r),initialValue:"New Column",selectFirst:!0,selectAllOnEdit:!0,isSelected:u,editorKey:P}))),s.createElement(Mp.Z,Object.assign({},e,{show:!h}),_&&s.createElement(kp,{childElementIds:c})),s.createElement(ts,{elementId:t,element:r,gridSize:o,isPresentational:p,currentBoardId:n,permissions:g}),!_&&s.createElement(xp.Z,Object.assign({},e,{listId:(0,D.nRF)(r),listCanDropFn:$p,listElementProps:M,listStartChild:s.createElement(Wi,{gridSize:o,isPresentational:p,element:r,elementId:t,getContextZoomScale:b})})),s.createElement(Gp,Object.assign({},e,{isCollapsed:_,listId:(0,D.nRF)(r),listCanDropFn:$p,listSize:(0,O.kE)(c)})),s.createElement(Ue,Object.assign({},e,{elementId:t,showHandle:!E&&m&&!a})))};qp.propTypes={elementId:l().string,currentBoardId:l().string,isPresentational:l().bool,element:l().object.isRequired,gridSize:l().number,isSelected:l().bool,isSingleSelected:l().bool,isEditable:l().bool,isLocked:l().bool,inList:l().string,className:l().string,documentMode:l().bool,elementEvents:l().object,childElementIds:l().array,hasChildrenMatchingElementFilter:l().bool,permissions:l().number,tempSize:l().object,dispatchUpdateElement:l().func,getContextZoomScale:l().func,getContextZoomTranslationPx:l().func,isPresentationModeEnabled:l().bool,isDragging:l().bool};const Yp=qp;var Xp,Qp=n(38320),Jp=n(42022);let eh=(0,c.$j)((()=>(0,E.zB)({childElementIds:(0,Vi.P3)(),childrenTypes:(0,Qp.HX)(),elementFilterData:Jp.O3,childrenTypeArray:(0,Qp.ee)()})))(Xp=class extends s.Component{shouldComponentUpdate(e){return!Tp()(this.props,e,((e,t,n)=>{if("childElementIds"===n)return e===t||Cp()(e,t)}))}render(){const{elementFilterData:e,childElementIds:t}=this.props,n=((e,t)=>!(!e||!Object.keys(e).length)&&t.some((t=>o()([t,"pass"],e))))(e,t);return s.createElement(Yp,Object.assign({},this.props,{hasChildrenMatchingElementFilter:n}))}})||Xp;eh.propTypes={element:l().object.isRequired,children:l().array,childElementIds:l().array,elementFilterData:l().object,currentBoardId:l().string,connectDropTarget:l().func,isHovered:l().bool,isPresentational:l().bool};const th=eh;var nh=n(11558),rh=n.n(nh);function oh(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ih,sh;let ah=(ih=ws({getMinWidth:rh()(to.cv)}),(0,fs.Z)(sh=ih(sh=(e=>{class t extends s.Component{constructor(...e){super(...e),oh(this,"onResizeComplete",(e=>{const{elementId:t,setElementSize:n,dispatchUpdateElement:r}=this.props,o={width:Math.max(Math.round(e.width),to.cv)};r&&r({id:t,changes:o}),n&&n(e)})),oh(this,"handleDoubleClick",(()=>{const{elementId:e,dispatchUpdateElement:t}=this.props;return t({id:e,changes:{width:null}})}))}render(){return s.createElement(e,Object.assign({},this.props,{handleDoubleClick:this.handleDoubleClick,setElementSize:this.onResizeComplete}))}}return t.propTypes={elementId:l().string,element:l().object,gridSize:l().number,setElementSize:l().func,dispatchUpdateElement:l().func},t})(sh=class extends s.Component{render(){const{connectLineEdgeDropTarget:e,inList:t}=this.props;return(e&&!t?e:_i())(s.createElement("div",null,s.createElement(th,this.props)))}})||sh)||sh)||sh);ah.propTypes={element:l().object.isRequired,children:l().array,currentBoardId:l().string,connectDropTarget:l().func,connectLineEdgeDropTarget:l().func,isHovered:l().bool,isPresentational:l().bool,inList:l().string};const lh=ah,ch=()=>((e={})=>(0,b.QS)(Object.assign({elementType:bp.BA,objectConstructorFn:yp,displayName:bp.jp},e)))({presentationalComponent:th,containerComponent:lh,tools:[Ks.Tk.COLOR],tooltip:Mt.mL?"⌃⌘G":"Ctrl+Alt+G",selectedTools:[Ws.z.COLOR,...Ws.l.MULTI_SELECT_ARRANGEMENT]});var dh=n(6690);const uh=e=>{const{content:t}=e;return Object.assign({},I(e),{elementType:dh.xE,content:Object.assign({url:null},t)})};var mh=n(21053);function ph(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class hh extends s.Component{constructor(e){super(e),ph(this,"updateHref",(e=>{this.setState({sanitisedHref:(0,mh.Jd)(e)})})),this.state={sanitisedHref:null}}componentWillMount(){this.updateHref(this.props.url)}componentWillReceiveProps(e){e.url!==this.props.url&&this.updateHref(e.url)}render(){const{sanitisedHref:e}=this.state,{children:t,className:n,target:r="_blank"}=this.props;return s.createElement("a",{className:n,href:e,target:r,rel:"noopener noreferrer nofollow",onClick:A.hE},t)}}hh.propTypes={url:l().string,target:l().string,className:l().string,children:l().oneOfType([l().arrayOf(l().node),l().node])};const gh=hh,fh=(0,s.memo)((({element:e})=>{const t=(0,D.UwW)(e);return s.createElement(gh,{className:"LinkURL",url:t},s.createElement("div",null,(0,mh.Jd)(t)))}),(()=>!1));var Eh=s.createElement(N.Z,{name:"link-icon"});const vh=({element:e})=>{if(!(0,D.UwW)(e))return null;const t=(0,D.XNn)(e),n=t?s.createElement("img",{className:"favicon",src:t}):Eh;return s.createElement("div",{className:"LinkHeader"},s.createElement("div",{className:"favicon-container"},n),s.createElement(fh,{element:e}))};var bh=n(98066),yh=n.n(bh),Ih=n(8713);function Ch(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Sh=(0,$e.FB)("isEditing"),Th=(0,$e.FB)("isSelected"),wh=(0,$e.zO)("isEditing"),Oh=(0,$e.zO)("isSelected"),_h=e=>{switch((0,D.R$W)(e)){case dh.rm.VIDEO:return"Paste a link from YouTube or Vimeo";case dh.rm.AUDIO:return"Paste a link from Spotify or Soundcloud";case dh.rm.MAP:return"Paste a link from Google Maps";default:return"Enter a link URL"}};class Rh extends s.Component{constructor(e){super(e),Ch(this,"startEditingElement",(()=>{const{startEditing:e,element:t}=this.props;e&&e({editorId:`${(0,D.nRF)(t)}-${dh.xE}`,editorKey:dh.xE})})),Ch(this,"onClick",(()=>{(!this.props.shouldFocusOnlyWhenSelected||this.props.shouldFocusOnlyWhenSelected&&this.props.isSingleSelected)&&this.startEditingElement()})),Ch(this,"focus",(()=>{this.linkInputRef.current&&this.linkInputRef.current.focus()})),Ch(this,"handleMouseDown",(e=>{const{isEditing:t}=this.props;t&&e.stopPropagation()})),Ch(this,"loadPreview",(()=>{const{setLinkUrl:e,setLocalData:t,elementLocalData:n}=this.props,r=(0,Ih.hD)(n),o=e(r);o&&t({error:o,url:r,shouldLoadPreview:!1})})),Ch(this,"handleSubmit",(e=>{const{deselectAll:t}=this.props;e&&e.preventDefault(),this.loadPreview(),t&&t()})),Ch(this,"handleChange",(e=>{const{setLocalData:t}=this.props;t({url:e.target.value})})),Ch(this,"handleKey",(e=>{e.stopPropagation();const{elementLocalData:t,setLocalData:n,stopEditing:r,moveElementsToTrash:o}=this.props;if(e.which===Qt.nx.ESC)return r();const i=(0,Ih.hD)(t),s=(0,Ih.od)(t);return i||e.which!==Qt.nx.BACKSPACE&&e.which!==Qt.nx.DELETE||(e.preventDefault(),o&&o()),s?(this.errorTime&&(clearTimeout(this.errorTime),this.errorTime=null),n({error:null,url:i})):void 0})),this.linkInputRef=s.createRef(),this.linkContainerRef=s.createRef()}componentDidMount(){this.mounted=!0}componentWillReceiveProps(e){const{setLocalData:t}=this.props,n=(0,Ih.hD)(this.props.elementLocalData),r=(0,Ih.od)(this.props.elementLocalData),o=(0,Ih.od)(e.elementLocalData);!r&&o&&(this.linkContainerRef.current&&this.linkContainerRef.current.focus(),this.errorTime=setTimeout((()=>{t({error:null,url:n}),this.errorTime=null}),2e3))}componentDidUpdate(e){const t=(0,Ih.od)(this.props.elementLocalData),n=(0,Ih.od)(e.elementLocalData);(wh(e,this.props)||Oh(e,this.props))&&yh()((()=>{this.mounted&&(!this.props.shouldFocusOnlyWhenSelected&&this.props.isSelected&&this.focus(),this.props.shouldFocusOnlyWhenSelected&&e.isSelected&&this.focus())}),10);if((0,Ih.rH)(this.props.elementLocalData)||Sh(e,this.props)||Th(e,this.props)){this.linkInputRef.current&&this.linkInputRef.current.blur();(0,Ih.hD)(this.props.elementLocalData)&&this.loadPreview()}!t&&n&&this.props.isSelected&&this.focus()}componentWillUnmount(){this.mounted=!1}render(){const{isEditing:e,element:t,elementLocalData:n,attachment:r}=this.props,o=(0,Ih.hD)(n),i=(0,Ih.od)(n),a=(0,ec.jA)(r),l=s.createElement("div",{className:"error-message"},i&&(0,O.vg)("message",i)||"URL not found"),c=s.createElement("div",{className:"input-wrapper",onClick:this.onClick},s.createElement("input",{onChange:this.handleChange,onKeyDown:this.handleKey,value:o||"",ref:this.linkInputRef,placeholder:_h(t),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",enterkeyhint:"Done",disabled:!e||a}));return s.createElement("div",{ref:this.linkContainerRef,className:"LinkInput",tabIndex:"-1",onKeyDown:this.handleKey,onMouseDown:this.handleMouseDown},s.createElement("form",{className:"link-form",onSubmit:this.handleSubmit},i?l:c))}}Rh.propTypes={element:l().object,elementLocalData:l().object,attachment:l().object,isSelected:l().bool,isEditing:l().bool,shouldFocusOnlyWhenSelected:l().bool,isSingleSelected:l().bool,setLinkUrl:l().func,setLocalData:l().func,startEditing:l().func,stopEditing:l().func,moveElementsToTrash:l().func,deselectAll:l().func};const Ah=Rh,Dh=e=>{switch((0,D.R$W)(e)){case dh.rm.VIDEO:return"link-video-icon";case dh.rm.AUDIO:return"link-audio-icon";case dh.rm.MAP:return"link-map-icon";default:return"link-icon"}};var Nh=s.createElement(N.Z,{name:"link-fail"}),xh=s.createElement(K.Z,{show:!0,strokeWeightMultiplier:2});const Mh=({element:e,elementLocalData:t,attachment:n})=>{const r=!(0,D.UwW)(e)&&(0,ec.jA)(n),o=(0,Ih.od)(t);let i=s.createElement(N.Z,{name:Dh(e)});return o&&(i=Nh),r&&(i=xh),s.createElement("div",{className:"LinkStateDisplay"},i)},Ph=e=>(0,D.UwW)(e.element)?null:s.createElement("div",{className:"LinkEditor"},s.createElement(Mh,e),s.createElement(Ah,e)),Lh=e=>{const{element:t,isEditable:n,isSingleSelected:r,filterQuery:o,captionVisible:i}=e,a=(0,O.P2)(["content","link"],t);if(!a)return null;const l=s.createElement(gh,{url:(0,O.vg)("url",a)}),c=(0,qe.iS)(e);return s.createElement("div",{className:f()("LinkMetadata",{"no-caption":!i})},s.createElement(La.Z,{element:t,elementId:(0,D.nRF)(t),isEditable:n,initialValue:(0,O.vg)("title",a),maxLength:500,selectFirst:!0,selectAllOnEdit:!0,isSelected:r,wrapTitleElement:r?null:l,filterQuery:o,editorKey:c}))};Lh.propTypes={element:l().object.isRequired,isEditable:l().bool,isSelected:l().bool,isSingleSelected:l().bool,filterQuery:l().string,captionVisible:l().bool};const kh=Lh,Fh=(e,t,n)=>{const{elementId:r,currentBoardId:o,dispatchUpdateElement:i,dispatchMoveElementsToTrash:s,dispatchSwitchConnectedElementParents:a,dispatchAcceptElementAttachmentUndo:l}=e,c=(0,po.k)();if(t.getItemType()===td.FILE)return l({id:r,transactionId:c}),(0,ud.g)(e,t,n);const d=t.getItem().element,u=(0,D.nRF)(d);return i({id:r,changes:{image:(0,D.ywY)(d)},sync:!0,transactionId:c}),u!==fr.eW&&(a({initialConnectedId:u,newConnectedId:r,transactionId:c}),Ne()((()=>s({elementId:u,currentBoardId:o,transactionId:c})))),{handledBy:ms.findDOMNode(n)}},Bh=()=>(0,Se.qC)((0,Se.CA)({uploadFile:({element:e,dispatchUploadFile:t})=>(n,r)=>t((0,D.nRF)(e),n,{onlyReplaceImage:!0},r)}),(0,Se.WY)((({isPresentational:e})=>!e),hd({onDropHandler:Fh}),_i())),jh=Bh();var zh=s.createElement(Kc,null);const Uh=e=>{const{element:t,gridSize:n,isHovered:r,canDrop:o,connectFileDropTarget:i=us(),setForceCanDrop:a,isResizing:l}=e,c=(0,D.tyq)(t),d=(0,D.ywY)(t),u=(0,w.Gn)(e),m=r&&o;return(0,s.useEffect)((()=>{a&&a(m)}),[m]),c&&d&&d.size?i(s.createElement("div",{className:"LinkImage"},m&&zh,s.createElement(Uc.Z,{showBrokenIconOnError:!0,cropToGrid:!l,gridSize:n,element:t,imageType:Wc.v.ELEMENT,widthPx:u}))):null};Uh.propTypes={element:l().object,gridSize:l().number,isHovered:l().bool,canDrop:l().bool,setForceCanDrop:l().func,connectFileDropTarget:l().func,isResizing:l().bool};const Hh=jh(Uh);var Zh=n(6442);const Gh={[dh.aA.YouTube]:!0,[dh.aA.Vimeo]:!0,[dh.aA.SoundCloud]:!0},Kh=e=>{const t=(0,O.P2)(["content","provider","name"],e);return!Gh[t]&&(0,D.V4D)(e)!==Zh.w_.VIDEO};var Wh=n(96681);function Vh(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const $h=(0,E.P1)(((e,t)=>t.element),((e,t)=>e.getIn(["app","richMedia"])),((e,t)=>{const n=((e,t)=>t.getIn([e,"contentState"]))((0,D.nRF)(e),t);return Kh(e)?((e,t)=>{const n=t===Wh.NQ.ERROR;return{contentState:t,showPreview:n,embeddingRichMedia:!1,showRichMedia:!n,showError:n}})(0,n):((e,t)=>{const n=t===Wh.NQ.EMBEDDING,r=n||t===Wh.NQ.READY,o=t===Wh.NQ.ERROR;return{contentState:t,showPreview:!t||t===Wh.NQ.PREVIEW||n||o,embeddingRichMedia:n,showRichMedia:r,showError:o}})(0,n)})),qh=e=>({dispatchRichMediaEmbedding:t=>e((e=>({id:e,type:Wh.Eu}))(t)),dispatchRichMediaReady:t=>e((e=>({id:e,type:Wh.y8}))(t)),dispatchRichMediaError:t=>e((e=>({id:e,type:Wh.ip}))(t)),dispatchRichMediaReturnToPreview:t=>e((e=>({id:e,type:Wh.wr}))(t))}),Yh=({onClick:e,show:t,iconName:n="play-arrow"})=>t?s.createElement("div",{className:"RichMediaPreviewOverlay"},s.createElement("div",{className:"circle-hit-area",onClick:e},s.createElement("div",{className:"circle"},s.createElement(N.Z,{name:n})))):null;Yh.propTypes={onClick:l().func,show:l().bool,iconName:l().string};const Xh=Yh,Qh=({show:e,children:t,className:n})=>e?s.createElement("div",{className:f()("RichMediaOverlay",n)},t):null;Qh.propTypes={show:l().bool,children:l().oneOfType([l().arrayOf(l().node),l().node]),className:l().string};const Jh=Qh;var eg=s.createElement(Jh,{className:"RichMediaErrorOverlay"},s.createElement(N.Z,{name:"error-alert"}),"Sorry, this media cannot be played");const tg=({show:e})=>e?eg:null;tg.propTypes={show:l().bool};const ng=tg;var rg=n(81905);const og=e=>{const{imageData:t,mediaData:n,tempMediaSize:r,width:o,gridSize:i,onClick:a,show:l,showLoader:c,showError:d,showPreview:u,previewIconName:m,attachment:p,OverlayComponent:h=Xh,forceCanDrop:g}=e,E=(0,ns.wh)(o,i);if(!l)return null;const v=t?s.createElement(rg.Z,{imageType:Wc.v.ELEMENT,imageDetails:t,widthPx:E,attachmentDetails:p,forcedSize:{width:E}}):null,b=f()("RichMediaPreviewImage",{loading:c}),y=(0,Jl.ZP)({savedSize:n,forcedSize:r,roundSaved:!0});return s.createElement("div",{className:b,style:y},g&&s.createElement(Kc,{fileType:Hc.m.VIDEO}),v,s.createElement(h,{show:!c&&!d&&u&&!g,onClick:a,iconName:m}),s.createElement(K.Z,{show:c}),s.createElement(ng,{show:d}))};og.propTypes={element:l().object.isRequired,imageData:l().object,mediaData:l().object,tempMediaSize:l().object,width:l().number,gridSize:l().number,enablePlayer:l().func,onClick:l().func,show:l().bool,showLoader:l().bool,showPreview:l().bool,showError:l().bool,forceCanDrop:l().bool,attachment:l().object,previewIconName:l().string,OverlayComponent:l().func};const ig=og;var sg=n(75481);function ag(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class lg extends s.Component{constructor(e){super(e),ag(this,"dispatchReady",(()=>{this.isReady||(this.isReady=!0,this.props.dispatchRichMediaReady())})),this.isReady=!1}componentDidMount(){if(this.mountTimer=yh()(this.dispatchReady,2e3),!this.container)return;const e=this.container.querySelector("iframe.embedly-embed")||this.container.querySelector("iframe.iframely-embed");e&&e.addEventListener("load",this.dispatchReady)}render(){const{mediaData:e,tempMediaSize:t}=this.props;if(!e)return null;const n=(0,O.vg)("html",e),r=(0,Jl.ZP)({savedSize:e,forcedSize:t,roundSaved:!0});return s.createElement("div",{className:"RichMediaIFrameContent",ref:e=>{this.container=e},style:r,dangerouslySetInnerHTML:(0,sg.Z)(n)})}}lg.propTypes={mediaData:l().object,tempMediaSize:l().object,dispatchRichMediaReady:l().func};const cg=lg;var dg=s.createElement("div",{className:"mouse-blocker"});const ug=e=>{const{show:t}=e;return t?s.createElement("div",{className:"RichMediaContent"},s.createElement(cg,e),dg):null};ug.propTypes={show:l().bool};const mg=ug,pg=e=>{const{mediaData:t,tempMediaSize:n,show:r,showError:o}=e;return r?s.createElement("div",{className:"RichMediaDragPreview",style:(0,Jl.ZP)({savedSize:t,forcedSize:n,roundSaved:!0})},s.createElement(Jh,{show:!o}),s.createElement(ng,{show:o})):null};pg.propTypes={mediaData:l().object,tempMediaSize:l().object,width:l().number,show:l().bool,showError:l().bool};const hg=pg,gg=(0,Se.qC)((e=>{var t;let n=(0,c.$j)($h,qh)(t=class extends s.Component{constructor(...e){super(...e),Vh(this,"dispatchRichMediaEmbedding",(()=>this.dispatchMediaUpdateFn(this.props.dispatchRichMediaEmbedding))),Vh(this,"dispatchRichMediaReady",(()=>this.dispatchMediaUpdateFn(this.props.dispatchRichMediaReady))),Vh(this,"dispatchRichMediaError",(()=>this.dispatchMediaUpdateFn(this.props.dispatchRichMediaError))),Vh(this,"dispatchRichMediaReturnToPreview",(()=>this.dispatchMediaUpdateFn(this.props.dispatchRichMediaReturnToPreview))),Vh(this,"dispatchMediaUpdateFn",(e=>{const{element:t}=this.props;return e((0,D.nRF)(t))}))}render(){return s.createElement(e,Object.assign({},this.props,{dispatchRichMediaEmbedding:this.dispatchRichMediaEmbedding,dispatchRichMediaReady:this.dispatchRichMediaReady,dispatchRichMediaError:this.dispatchRichMediaError,dispatchRichMediaReturnToPreview:this.dispatchRichMediaReturnToPreview}))}})||t;return n.propTypes={element:l().object.isRequired,showPreview:l().bool,dispatchRichMediaEmbedding:l().func,dispatchRichMediaReady:l().func,dispatchRichMediaError:l().func,dispatchRichMediaReturnToPreview:l().func},n}),Bh()),fg=e=>{const{element:t,className:n,showPreview:r,showRichMedia:o,embeddingRichMedia:i,isPresentational:a,ContentComponent:l=mg,PreviewComponent:c,connectFileDropTarget:d,attachment:u,setForceCanDrop:m,isHovered:p,canDrop:h,dispatchRichMediaEmbedding:g}=e,E=(0,D.omV)(t),v=(0,D.ywY)(t),b=(0,s.useCallback)((e=>{e.stopPropagation(),g()}),[g]),y=p&&h;(0,s.useEffect)((()=>{m&&m(y)}),[y]);let I=c;I||(I=Kh(t)?hg:ig);const C=s.createElement("div",{className:f()("RichMedia",n)},s.createElement(l,Object.assign({},e,{show:o&&!a,mediaData:E})),s.createElement(I,Object.assign({},e,{show:r||a,showLoader:i,mediaData:E,imageData:v,onClick:b,attachment:u,forceCanDrop:y})));return d?d(C):C};fg.propTypes={element:l().object.isRequired,PreviewComponent:l().func,ContentComponent:l().func,showPreview:l().bool,embeddingRichMedia:l().bool,showRichMedia:l().bool,dispatchRichMediaEmbedding:l().func,className:l().string,isPresentational:l().bool,attachment:l().object,setForceCanDrop:l().func,isHovered:l().bool,canDrop:l().bool,connectFileDropTarget:l().func};const Eg=gg(fg);n(12845);function vg(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const bg=/src="(.*?)"/;class yg extends s.Component{constructor(e){super(e),vg(this,"cancelTimers",(()=>{this.mountTimer&&clearTimeout(this.mountTimer),this.readyTimer&&clearTimeout(this.readyTimer)})),vg(this,"dispatchPlayerReady",(()=>{this.isReady||(this.isReady=!0,this.props.dispatchRichMediaReady())})),this.isReady=!1}componentWillMount(){const{dispatchRichMediaError:e,videoData:t}=this.props;t||e()}componentDidMount(){if(!this.container)return;const e=this.container.querySelector("iframe.embedly-embed")||this.container.querySelector("iframe.iframely-embed"),t=new playerjs.Player(e);this.mountTimer=yh()(this.dispatchPlayerReady,2e3),t.on("ready",(()=>{this.cancelTimers(),this.readyTimer=yh()(this.dispatchPlayerReady,2e3),t.on("play",this.dispatchPlayerReady),t.on("ended",this.props.dispatchRichMediaReturnToPreview),t.on("error",this.props.dispatchRichMediaError)}))}shouldComponentUpdate(){return!1}componentWillUnmount(){this.cancelTimers()}render(){const{videoData:e}=this.props;if(!e)return null;const t=(e=>{const t=e.match(bg),n=t&&t[1],r=n&&new URL(n);if(!r||"cdn.embedly.com"!==r.host)return e;if("vimeo"===r.searchParams.get("schema")){const t=r.searchParams.get("src");if(!t)return e;const n=new URL(decodeURI(t));return n.searchParams.set("dnt","1"),r.searchParams.set("src",encodeURI(n.toString())),e.replace(bg,`src="${r.toString()}"`)}return e})((0,O.vg)("html",e));return s.createElement("div",{ref:e=>{this.container=e},className:"IFrameVideoPlayer",style:(0,Jl.ZP)({savedSize:e,roundSaved:!0}),dangerouslySetInnerHTML:(0,sg.Z)(t)})}}yg.propTypes={videoData:l().object.isRequired,dispatchRichMediaReady:l().func,dispatchRichMediaReturnToPreview:l().func,dispatchRichMediaError:l().func};const Ig=yg,Cg=e=>{const{element:t,dispatchRichMediaReady:n,dispatchRichMediaReturnToPreview:r,dispatchRichMediaError:o,show:i=!1}=e;if(!i)return null;const a=(0,D.omV)(t);return s.createElement("div",{className:"VideoPlayer"},s.createElement(Ig,{videoData:a,dispatchRichMediaError:o,dispatchRichMediaReturnToPreview:r,dispatchRichMediaReady:n}))};Cg.propTypes={element:l().object.isRequired,show:l().bool,render:l().bool,dispatchRichMediaReady:l().func,dispatchRichMediaReturnToPreview:l().func,dispatchRichMediaError:l().func};const Sg=Cg,Tg=({element:e,width:t,gridSize:n,isPresentational:r,attachment:o,dispatchUploadFile:i,setForceCanDrop:a,isHovered:l,canDrop:c,dispatchRichMediaEmbedding:d,dispatchAcceptElementAttachmentUndo:u,dispatchUpdateElement:m})=>s.createElement(Eg,{element:e,width:t,gridSize:n,ContentComponent:Sg,isPresentational:r,attachment:o,dispatchUploadFile:i,setForceCanDrop:a,isHovered:l,canDrop:c,dispatchRichMediaEmbedding:d,dispatchAcceptElementAttachmentUndo:u,dispatchUpdateElement:m});Tg.propTypes={element:l().object.isRequired,width:l().number,gridSize:l().number,isPresentational:l().bool,attachment:l().object,dispatchUploadFile:l().func,setForceCanDrop:l().func,isHovered:l().bool,canDrop:l().bool,dispatchRichMediaEmbedding:l().func,dispatchAcceptElementAttachmentUndo:l().func,dispatchUpdateElement:l().func};const wg=Tg,Og=e=>{const{element:t}=e;if(!(0,D.h3z)(t))return null;switch((0,D.V4D)(t)){case Zh.w_.VIDEO:return s.createElement(wg,e);case Zh.w_.MAP:case Zh.w_.RICH:return s.createElement(Eg,e);default:return s.createElement(Hh,e)}},_g=e=>{const{element:t,registerMediaElement:n}=e;if(!(0,D.h3z)(t))return null;return(n||us())(s.createElement("div",{className:"LinkMedia"},s.createElement(Og,e)))};Og.propTypes=_g.propTypes={element:l().object.isRequired,registerMediaElement:l().func};const Rg=_g,Ag=e=>{const{currentBoardId:t,elementId:n,element:r,inList:o,gridSize:i,elementEvents:a,tempSize:l,isLocked:c,isEditable:d,isSelected:u,isPresentational:m,permissions:p,setParentHoveredChildAcceptsDrop:h,getContextZoomScale:g,getContextZoomTranslationPx:E}=e,[v,b]=(0,s.useState)(!1),y=(0,D.Lq4)(r),I=(0,D.KTp)(r),C=(0,D.A7z)(r),S=!!(0,D.UwW)(r),T=(0,D.V4D)(r),O=!!(0,D.ywY)(r),_=(0,D.h3z)(r),R=_&&(-1!==Zh.jS.indexOf(T)||!T&&O),A=R&&!c&&d&&!o,N=(0,D.dzi)(r),x=R&&(l&&l.width||N)||to.cv,M=f()("Link drag-handle",{"contrast-shadow":!_||!S}),P=(0,w.UX)(M,Object.assign({},e,{forceCanDrop:v}));return s.createElement("div",Object.assign({id:(0,w.Oc)((0,D.nRF)(r)),className:P,style:(0,ns.bS)(x,i,o)},a),s.createElement(Rg,Object.assign({},e,{width:x,setForceCanDrop:b})),s.createElement(_e,{colorName:y,isSelected:u}),s.createElement(ei.Z,{show:(0,os.Z)(e),elementId:n,element:r,currentBoardId:t,gridSize:i,getContextZoomScale:g,getContextZoomTranslationPx:E}),s.createElement(Ko,e),s.createElement(Jo,e),s.createElement(Ae.Z,e),s.createElement(Ph,e),s.createElement(vh,e),s.createElement(kh,Object.assign({},e,{captionVisible:C})),s.createElement(Re.Z,Object.assign({},e,{placeholder:"Add a description",textContent:I,captionVisible:C})),s.createElement(wi,e),s.createElement(Wi,{setParentHoveredChildAcceptsDrop:h,isRelative:!0,gridSize:i,isPresentational:m,element:r,elementId:n,getContextZoomScale:g}),s.createElement(ts,{elementId:n,element:r,gridSize:i,isPresentational:m,currentBoardId:t,permissions:p}),s.createElement(Ue,Object.assign({},e,{showHandle:A})))};Ag.propTypes={currentBoardId:l().string,elementId:l().string,element:l().object.isRequired,gridSize:l().number,inList:l().string,isSelected:l().bool,isSingleSelected:l().bool,isEditing:l().bool,isHovered:l().bool,startEditing:l().func,setEditHandler:l().func,stopEditing:l().func,saveContent:l().func,handleKey:l().func,className:l().string,documentMode:l().bool,elementEvents:l().object,tempSize:l().object,isLocked:l().bool,isEditable:l().bool,isPresentational:l().bool,permissions:l().number,setParentHoveredChildAcceptsDrop:l().func,getContextZoomScale:l().func,getContextZoomTranslationPx:l().func};const Dg=Ag;var Ng,xg,Mg,Pg,Lg,kg,Fg=n(69339),Bg=n(30861);function jg(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const zg=(0,E.zB)({gridSize:L.ZP,elementLocalData:Ze.c}),Ug=({element:e})=>(0,D.un1)(e)||(0,D.OY1)(e),Hg=({element:e})=>{const t=(0,D.V4D)(e);return-1!==Zh.D2.indexOf(t)||!t&&!!(0,D.ywY)(e)};let Zg=(Ng=(0,c.$j)(zg,(e=>({dispatchSetLinkElementUrl:(t,n)=>e((0,Bg.s)({id:t,url:n})),dispatchMoveElementsToTrash:({currentBoardId:t,elementIds:n})=>e((0,zr.fC)({currentBoardId:t,elementIds:n})),dispatchUploadFile:(t,n,r,o)=>e((0,nc.pD)({id:t,transactionId:o,file:n,options:r})),dispatchSwitchConnectedElementParents:t=>e((0,yd.eF)(t)),dispatchAcceptElementAttachmentUndo:t=>e((0,nc.o1)(t)),dispatchSetLocalData:t=>e((0,dt.T)(t))}))),xg=(0,Mi.Z)(["dragModifierKeys"]),Mg=ws({getMinWidth:cs()(to.cv)}),Pg=Td({getMinWidth:cs()(to.cv),getIsEnabled:Hg,getDefaultMaxWidth:Ug}),Lg=Md({getMinHeight:cs()(Zh.IG),getMinWidth:cs()(to.cv),getDefaultMaxWidth:Ug,getIsEnabled:bd()(Hg)}),Ng(kg=(0,fs.Z)(kg=xg(kg=Cs(kg=Mg(kg=Pg(kg=Lg(kg=class extends s.Component{constructor(...e){super(...e),jg(this,"setLocalData",(({url:e,error:t})=>{const{dispatchSetLocalData:n,element:r}=this.props;n({id:(0,D.nRF)(r),data:{url:e,error:t}})})),jg(this,"setLinkUrl",(e=>{const{dispatchSetLinkElementUrl:t,element:n}=this.props,r=(0,Fg.Z)(e,{type:"url",allowIPAddress:!0,required:!0});if(r)return r;t((0,D.nRF)(n),e)})),jg(this,"moveElementsToTrash",(()=>{const{currentBoardId:e,element:t,dispatchMoveElementsToTrash:n}=this.props;n({currentBoardId:e,elementIds:[(0,D.nRF)(t)]})})),jg(this,"handleKey",(e=>{this.props.isSelected&&e.target===this.container&&(0,D.UwW)(this.props.element)&&this.props.captionKeyHandler(e,this.props)}))}componentDidUpdate({element:e}){const{element:t,isSelected:n}=this.props;if(!n)return;const r=(0,D.A7z)(t),o=(0,D.A7z)(e);!r&&o&&this.container.focus()}render(){const{connectLineEdgeDropTarget:e,canConnectLineEdge:t}=this.props;return(e&&t?e:us())(s.createElement("div",null,s.createElement("div",{className:"LinkContainer",ref:e=>{this.container=e},onKeyDown:this.handleKey,tabIndex:"-1"},s.createElement(Qd,{element:this.props.element}),s.createElement(Dg,Object.assign({},this.props,{setLinkUrl:this.setLinkUrl,setLocalData:this.setLocalData,moveElementsToTrash:this.moveElementsToTrash})))))}})||kg)||kg)||kg)||kg)||kg)||kg)||kg);Zg.propTypes={element:l().object.isRequired,elementLocalData:l().object,attachment:l().object,isEditing:l().bool,isEditable:l().bool,currentBoardId:l().string,isSelected:l().bool,startEditing:l().func,stopEditing:l().func,dispatchShowCaption:l().func,dispatchSetLinkElementUrl:l().func,dispatchSetLocalData:l().func,dispatchMoveElementsToTrash:l().func,connectDropTarget:l().func,connectLineEdgeDropTarget:l().func,inList:l().string,captionKeyHandler:l().func,canConnectLineEdge:l().bool};const Gg=Zg,Kg=[Ws.z.COLOR,Ws.z.MEDIA,Object.assign({},Ws.z.CAPTION,{name:"Description"}),Ws.z.REACTION,...Ws.l.MULTI_SELECT_ARRANGEMENT],Wg=()=>((e={})=>(0,b.QS)(Object.assign({elementType:dh.xE,objectConstructorFn:uh,displayName:dh.$7},e)))({containerComponent:Gg,presentationalComponent:Dg,tools:[Ks.Tk.RICH_TEXT,Ks.Tk.COLOR,Ks.Tk.MEDIA,Object.assign({},Ks.Tk.CAPTION,{name:"Description"}),Ks.Tk.REACTION],selectedTools:Kg,editingTools_TITLE:Kg,editingTools_CAPTION:(0,Gs.cE)()?[]:Ws.l.TEXT_EDITING_CAPTION});var Vg=n(93776);const $g=e=>Object.assign({},I(e),{elementType:Vg.C});var qg=n(13500),Yg=n(55858),Xg=n(59305);const Qg=Ht.Map({fetching:!0});var Jg=s.createElement(La.Z,null);const ef=e=>s.createElement(Hl,e,s.createElement("div",{id:(0,w.Oc)((0,D.nRF)(e.element)),className:(0,w.UX)("Board",e),style:(0,ns.bS)(qs.B,e.gridSize,e.inList)},s.createElement(fa.Z,{className:"board-content",iconElement:s.createElement(Xg.Z,{size:(0,Ml.f)(e),icon:Qg,gridSize:e.gridSize,getContextZoomScale:e.getContextZoomScale,getContextZoomTranslationPx:e.getContextZoomTranslationPx}),titleElement:Jg})));ef.propTypes={element:l().object.isRequired,gridSize:l().number.isRequired,inList:l().string,isSelected:l().bool,isEditing:l().bool,isHovered:l().bool,isDragging:l().bool,className:l().string,getContextZoomScale:l().func,getContextZoomTranslationPx:l().func};const tf=ef,nf={navigateToAlias:e=>(t,n,r)=>{const{dispatchNavigateToAlias:o,element:i}=e;o((0,D.Sb0)(i),n,r)}},rf=e=>{const{linkedBoard:t,linkedBoardError:n,isPresentational:r,element:o,renderedElement:i}=e;if(((e,t)=>{if(t)return(0,Yg.B)(t);if(!e)return!0;const n=(0,Di.ph)(e);return!(0,D.L5g)(e)&&!n})(t,n))return s.createElement(tf,e);const a=(0,D.Tt_)(o);return r?s.createElement(Ml.Z,Object.assign({},e,{isAlias:!0,isLinkAlias:a,element:i})):s.createElement(Vl,Object.assign({},e,{isAlias:!0,isLinkAlias:a,element:i}))};rf.propTypes={linkedElementId:l().string,isPresentational:l().bool,linkedBoard:l().object,linkedBoardError:l().object,element:l().object,renderedElement:l().object};const of=(0,Se.qC)((0,c.$j)(qg.Z,(()=>e=>({dispatchNavigateToAlias:(t,n,r)=>e((0,X.Db)({boardId:t,keepSelection:n,resetScroll:!0,newTab:r}))}))),(0,Se.CA)(nf))(rf),sf=()=>((e={})=>(0,b.QS)(Object.assign({elementType:Vg.C,objectConstructorFn:$g,displayName:Vg.g},e)))({containerComponent:of,presentationalComponent:of,tools:[Ks.Tk.COLOR,Ks.Tk.ICON],selectedTools:[Ws.z.COLOR,Ws.z.ICON,...Ws.l.MULTI_SELECT_ARRANGEMENT],showTool:!1});var af=n(1266);const lf=e=>Object.assign({},I(e),{elementType:af.X});var cf=n(57448),df=n(2780),uf=n(42393);var mf=s.createElement("div",{className:"ErrorClonedElement"},"Error loading clone"),pf=s.createElement("div",{className:"MissingClonedElement"},s.createElement(K.Z,{show:!0}));let hf=e=>{const{originalElementId:t,dispatchFetchElement:n}=e,[r,o]=s.useState(!1);return s.useEffect((()=>{t&&n(t).catch((e=>(o(!0),Promise.reject(e))))}),[t]),r?mf:pf};hf.propTypes={originalElementId:l().string,dispatchFetchElement:l().func},hf=(0,c.$j)(null,(e=>({dispatchFetchElement:t=>e(cf.X({elementIds:[t]}))})))(hf);const gf=e=>{const{elementId:t,element:n,originalElementId:r,originalElement:o,renderedElement:i}=e;if(!o)return s.createElement(hf,e);const a=(e=>{const{isPreview:t,isPresentational:n,originalElement:r}=e;if((0,Di.vu)(r))throw new Error("Cannot clone a clone");return t?df.Z:n?uf.Z:b.g6((0,D.BGE)(r))})(e);return s.createElement(a,Object.assign({},e,{isClone:!0,elementId:t,element:i,originalCloneElement:n,originalElementId:r,originalElement:o}))};gf.propTypes={elementId:l().string,originalElementId:l().string,element:l().object,originalElement:l().object,renderedElement:l().object};const ff=(0,c.$j)((()=>(0,E.zB)({originalElementId:Gn(),originalElement:Kn(),renderedElement:(0,E.P1)(Y.sb,Kn(),Hn.v)})))(gf),Ef=()=>((e={})=>(0,b.QS)(Object.assign({elementType:af.X,objectConstructorFn:lf,displayName:af.d},e)))({containerComponent:ff,presentationalComponent:ff,tools:[Ks.Tk.COLOR,Ks.Tk.ICON],showTool:!1});var vf=n(59551);const bf=e=>{const{content:t}=e;return Object.assign({},I(e),{elementType:vf.H3,content:Object.assign({[vf.FK.start]:{x:0,y:vf.fr},[vf.FK.end]:{x:vf.py,y:0},startStyle:vf.lX.NONE,endStyle:vf.lX.ARROW,lineStyle:vf.j2.SOLID,lineWeight:vf.Xq.M},t)})};var yf=n(80628),If=n(12307),Cf=n(74796);const Sf=(0,Se.qC)((0,xe.Z)((()=>(0,E.P1)((0,If.t4)(),(e=>({measurements:e}))))),(0,Se.BY)(((e,t)=>!t.isPresentational||t.isPreview)),(0,c.$j)((()=>(0,E.P1)(Y.nR,(0,If.Mc)(If.ic),(0,Y.Xi)(),If.yO,If.Lu,If.m,If.Cr,If.Ul,((e,t,n,r,o,i,s,a)=>Object.assign({elementId:e},t,{colorHex:n,startStyle:r,endStyle:o,startHandleMode:(0,yf.r)({snapped:i}),endHandleMode:(0,yf.r)({snapped:s}),shouldHideLineInPresentationMode:a}))))))(Cf.Z);var Tf=n(63360),wf=n.n(Tf),Of=n(19182),_f=n(63719),Rf=n(56623),Af=n(10808);var Df,Nf=n(1658);function xf(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Mf=(0,$e.zO)("isSingleSelected"),Pf=(0,$e.FB)("isEditing"),Lf=(0,$e.aU)("element"),kf=(0,$e.FB)("invisible");let Ff=(0,c.$j)(null,(e=>({dispatchUpdateLineEdge:({element:t,edge:n,newPosition:r,newControl:o,transactionId:i})=>e((({element:e,edge:t,newPosition:n,newControl:r,transactionId:o,sync:i})=>(s,a)=>{const l=(0,D.nRF)(e),c={start:(0,O.su)((0,D.xH)(e)),end:(0,O.su)((0,D.LWs)(e)),[t]:n};if(r&&(c.control=r),(0,Rf.Cy)(c)<vf.BK){const e=t===vf.FK.start?c.start:c.end,n=t===vf.FK.start?c.end:c.start,r=Of.roundVals((0,Rf.cM)({start:n,end:e,length:vf.BK}).end);c[t]=Object.assign({},c[t],r)}const d=wf()(c),u=(0,_f.AJ)(d),m=(0,O.su)((0,D.qEr)(e)),p=Object.assign({},m,{position:Object.assign({},m.position,mr.Iu(u,m.position))});c.start=Object.assign({},c.start,mr.Yw(u,c.start)),c.end=Object.assign({},c.end,mr.Yw(u,c.end));const h=s((0,Qr.GC)({id:l,changes:c,location:p,transactionId:o,sync:i})),g=a(),f=(0,Y.$3)(g),E=(0,lt.sb)(f,c.start.elementId),v=(0,lt.sb)(f,c.end.elementId);if((0,Di.t3)(E)&&(0,Di.t3)(v)){const e=(0,eo.rc)(g);s((0,Af.k)({userId:e}))}return h})({element:t,edge:n,newPosition:r,newControl:o,transactionId:i})),dispatchPointDragStart:()=>e({type:Nf.CF}),dispatchStartEditing:({id:t,editorKey:n,editorId:r})=>e((0,vs.TV)({id:t,editorKey:n,editorId:r}))})))(Df=class extends s.Component{constructor(e){super(e),xf(this,"updateLineControlPoint",(({control:e})=>{const{dispatchUpdateElement:t,element:n}=this.props;t({id:(0,D.nRF)(n),changes:{control:e}})})),xf(this,"updateLineEdge",(({edge:e,newPosition:t,newControl:n,transactionId:r})=>{const{element:o,dispatchUpdateLineEdge:i}=this.props;return i({element:o,edge:e,newPosition:t,newControl:n,transactionId:r})})),xf(this,"toggleLineVisibility",(()=>{this.unmounted||this.setState((e=>({invisible:!e.invisible})))})),xf(this,"onKeyDown",(e=>{if((0,$.lk)(e))return;if(-1!==Qt.XS.indexOf(e.which))return;const{elementId:t,dispatchStartEditing:n}=this.props;n({id:t,editorId:(0,qe.s6)(this.props),editorKey:(0,qe.iS)(this.props)})})),this.lineRef=s.createRef(),this.state={invisible:!1}}componentDidUpdate(e,t){const{isEditing:n,isSingleSelected:r}=this.props;(Mf(e,this.props)&&!n||Pf(e,this.props)&&r||Lf(e,this.props)&&r&&!n||kf(t,this.state)&&r&&!n)&&this.lineRef.current&&this.lineRef.current.focus()}componentWillUnmount(){this.unmounted=!0}render(){const{invisible:e}=this.state;return s.createElement(Sf,Object.assign({lineRef:this.lineRef,className:f()({invisible:e}),onKeyDown:this.onKeyDown,updateLineEdge:this.updateLineEdge,updateLineControlPoint:this.updateLineControlPoint,toggleLineVisibility:this.toggleLineVisibility,showStartGhost:this.props.isSelected,showEndGhost:this.props.isSelected},this.props,{invisible:e}))}})||Df;Ff.propTypes={element:l().object.isRequired,elementId:l().string.isRequired,isEditing:l().bool,isSelected:l().bool,isSingleSelected:l().bool,dispatchUpdateLineEdge:l().func,dispatchUpdateElement:l().func,dispatchStartEditing:l().func};const Bf=Ff,jf=()=>((e={})=>(0,b.QS)(Object.assign({elementType:vf.H3,objectConstructorFn:bf,displayName:vf.cH},e)))({containerComponent:Bf,presentationalComponent:Sf,tools:[Ks.Tk.COLOR,Ks.Tk.START_ARROW,Ks.Tk.END_ARROW,Ks.Tk.LINE_LABEL,Ks.Tk.LINE_STYLE,Ks.Tk.LINE_WEIGHT],selectedTools:[Ws.z.COLOR,Ws.z.START_ARROW,Ws.z.END_ARROW,Ws.z.LINE_LABEL,Ws.z.LINE_STYLE,Ws.z.LINE_WEIGHT,Ws.z.ALIGNMENT,Ws.z.DISTRIBUTE]}),zf=e=>{const{content:t}=e;return Object.assign({},I(e),{elementType:ul.Gk,content:Object.assign({file:null,previewReady:!1,displayMode:qs.oE.ICON_VIEW},t)})};var Uf=n(41875);const Hf=(e,t)=>{const n=(0,D.JBL)(e)||(0,ec.Em)(t);return(0,Uf.q3)(n)};var Zf=n(43905);const Gf=({element:e,attachment:t})=>(0,D.Nzy)(e)||(0,ec.Yu)(t),Kf=({element:e,attachment:t})=>Gf({element:e,attachment:t}),Wf=({element:e,attachment:t})=>((({element:e})=>!!(0,D.ywY)(e)&&!(0,D.qat)(e))({element:e})||!!(0,Zf.ZP)(e))&&Kf({element:e,attachment:t})&&(0,D.h3z)(e)&&Hf(e,t),Vf=(0,O.vg)("filename"),$f=(0,O.vg)("type"),qf=(0,O.vg)("size"),Yf=({element:e,attachment:t})=>{const n=Gf({element:e,attachment:t});return!(0,D.ywY)(e)&&Hf(e,n)},Xf=({element:e,attachment:t})=>{const n=Yf({element:e,attachment:t}),r=(0,ec.Bg)(t),o=(0,y.u3)()-5*y.yu.MINUTE;if((0,D.zI$)(e)<o)return;const i=Gf({element:e,attachment:t});return(0,D.ywY)(e)&&!(0,D.qpH)(e)&&Hf(e,i)?100:n||!(0,D.Nzy)(e)?n?100:r<=100?r:(0,D.Nzy)(e)?void 0:0:void 0};var Qf=n(81763),Jf=n.n(Qf),eE=s.createElement("span",{className:"status-text"},"Saving");const tE=({attachment:e,element:t})=>{const n=Xf({element:t,attachment:e});return s.createElement("div",{className:"file-upload-progress"},eE,s.createElement(qu.Z,{percentageComplete:n,barbershop:!0,animate:!0}))};tE.propTypes={element:l().object,attachment:l().object,fileDownloader:l().object};const nE=e=>{const{element:t,attachment:n,className:r,inList:o,documentMode:i,gridSize:a,elementEvents:l,isEditable:c,isSelected:d,filterQuery:u,currentBoardId:m,getContextZoomScale:p,getContextZoomTranslationPx:h}=e,g=Gf({element:t,attachment:n}),E=Xf({element:t,attachment:n}),v=(0,D.nRF)(t),b=(0,D.Lq4)(t),y=(0,Te.yp)(b),I=y&&((0,ga.vB)(b)?"light":"dark"),C=(0,qe.iS)(e);return s.createElement("div",Object.assign({id:(0,w.Oc)(v),className:f()("FileIconView",r),style:(0,ns.bS)(qs.B,a,o)},l),s.createElement(fa.Z,{iconElement:s.createElement(xa,{className:I&&`background-${I}`,gridSize:a,inList:o,documentMode:i,style:{"--ws-document-icon-background-color":y,"--ws-document-icon-fold-color":y},iconElement:Jf()(E)?s.createElement(tE,{element:t,attachment:n}):s.createElement(aa.Z,{fileType:$f(g),iconStyle:"large",iconTheme:I})},s.createElement(Ae.Z,e),s.createElement(ei.Z,{show:(0,os.Z)(e),elementId:v,element:t,currentBoardId:m,gridSize:a,getContextZoomScale:p,getContextZoomTranslationPx:h})),titleElement:s.createElement(La.Z,{element:t,elementId:(0,D.nRF)(t),isEditable:c,initialValue:Vf(g),maxLength:500,selectFirst:!0,selectAllOnEdit:!0,isSelected:d,filterQuery:u,editDelay:(0,Mt.tq)()?0:100,editorKey:C}),secondaryElement:s.createElement("span",{className:"file-size"},(0,Xu.gK)(qf(g)))}))};nE.propTypes={element:l().object.isRequired,attachment:l().object,fileDownloader:l().object,className:l().string,inList:l().string,documentMode:l().bool,gridSize:l().number,isSingleSelected:l().bool,isEditable:l().bool,isSelected:l().bool,filterQuery:l().string,currentBoardId:l().string,elementEvents:l().object,isElementOpenInModal:l().bool,moveElementsToTrash:l().func,getContextZoomScale:l().func,getContextZoomTranslationPx:l().func};const rE=nE;var oE=n(34734),iE=n(56310),sE=n(43612);const aE=(e,{playerId:t})=>e.getIn(["app","mediaPlayer",t])||sE.To,lE=(0,E.P1)(aE,(e=>e.get("progress"))),cE=(0,E.P1)(aE,(e=>e.get("duration"))),dE=(0,E.P1)(aE,(e=>e.get("playing"))),uE=(0,E.P1)(aE,(e=>e.get("volume"))),mE=(0,E.P1)(aE,(e=>e.get("mute"))),pE=(0,E.P1)(aE,(e=>e.get("dragPreview"))),hE=(0,E.P1)(aE,(e=>e.get("error"))),gE=(0,E.P1)(aE,(e=>e.get("hasBeenPlayed")));var fE=n(54626),EE=n(74691),vE=n.n(EE);const bE="HORIZONTAL",yE="VERTICAL",IE=({value:e,onDragStart:t,onDragEnd:n,onChange:r,axis:o=bE})=>{const i=(0,s.useRef)(),[a,l]=(0,s.useState)(!1),c=o===bE;let d,u;c?(d={width:100*e+"%",top:0,left:0},u={left:100*e+"%"}):(d={height:100*e+"%",bottom:0,left:0},u={top:100*(1-e)+"%"});const m=(e,t)=>c?vE()((e.clientX-t.left)/t.width,0,1):vE()(1-(e.clientY-t.top)/t.height,0,1),p=e=>{e.preventDefault(),e.stopPropagation();const t=i.current&&i.current.getBoundingClientRect();if(!t)return;const n=m(e,t);r(n)},h=e=>{e.preventDefault(),e.stopPropagation(),window.removeEventListener("mouseup",h),window.removeEventListener("mousemove",p),l(!1),n&&n()};return(0,s.useEffect)((()=>()=>{a&&(n&&n(),window.removeEventListener("mouseup",h),window.removeEventListener("mousemove",p))}),[]),s.createElement("div",{className:"FileMediaPlayerScrubberBar",onClick:e=>{e.preventDefault(),e.stopPropagation();const t=i.current.getBoundingClientRect(),n=m(e,t);r(n)}},s.createElement("div",{ref:e=>{i.current=e},className:f()("bar-container",o.toLowerCase(),{dragging:a})},s.createElement("div",{className:"scrubber-bar-fill",style:d}),s.createElement("div",{className:f()("bar-scrubber",o.toLowerCase()),style:u,onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),window.addEventListener("mouseup",h),window.addEventListener("mousemove",p),l(!0),t&&t()}})))};IE.propTypes={axis:l().string,value:l().number.isRequired,onChange:l().func.isRequired,onDragStart:l().func,onDragEnd:l().func};const CE=IE,SE=({progress:e,handleSeek:t,setIsDraggingScrubber:n})=>s.createElement("div",{className:"FileMediaPlayerProgressBar",onDoubleClick:A.hE},s.createElement(CE,{value:e,onChange:t,onDragStart:()=>n(!0),onDragEnd:()=>n(!1)}));SE.propTypes={progress:l().number,handleSeek:l().func,setIsDraggingScrubber:l().func};const TE=SE;var wE=n(32475),OE=n.n(wE),_E=n(39693),RE=n.n(_E);const AE=3600,DE=e=>Math.max(0,Math.floor(e/AE)),NE=e=>Math.max(0,Math.floor(e/60)-60*DE(e)),xE=(e,t)=>{const n=t>AE,r=n||NE(t)>9,o=DE(e),i=NE(e),s=(e=>Math.max(0,Math.floor(e-60*NE(e)-DE(e)*AE)))(e);return[...RE()([n&&OE()(o,1,"0")]),r?OE()(i,2,"0"):i,OE()(s,2,"0")]},ME=({progress:e,duration:t})=>{const n=xE(e*t,t),r=xE(t,t),o=2*r.join("").length+3;return s.createElement("div",{className:"FileMediaPlayerDuration",style:{width:`${o}rem`}},s.createElement("span",null,n.join(":"))," / ",s.createElement("span",null,r.join(":")))};ME.propTypes={progress:l().number,duration:l().number};const PE=ME,LE=e=>e>0?"media-player-volume-loud":"media-player-volume-mute",kE=({volume:e,mute:t,setVolume:n,setMute:r,volumeId:o})=>{const[i,a]=(0,s.useState)(!1);return s.createElement(pe.Z,{className:f()("FileMediaSliderControl light",{dragging:i}),selector:`#${o}`,arrowWidth:0,arrowStrokeWidth:0,distance:10,offset:0,delay:0,position:he.as.TOP,pollPosition:!0},s.createElement("div",{className:"scrubber-bar-container",onClick:A.hE},s.createElement(CE,{axis:yE,value:e,onChange:n,onDragStart:()=>{a(!0),t&&r(!1)},onDragEnd:()=>a(!1)})))};kE.propTypes={volumeId:l().string,volume:l().number,mute:l().bool,setVolume:l().func,setMute:l().func};const FE=({playerId:e,volume:t,mute:n,setVolume:r,setMute:o,volumePopupVisible:i,setVolumePopupVisible:a})=>{const l=`volume-${e}`;return s.createElement(hi.Z,{className:"FileMediaPlayerVolumeButton control-button",onClickFn:e=>{e&&e.stopPropagation(),o(!n)},onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),onDoubleClick:A.hE,id:l},s.createElement(N.Z,{name:LE(n?0:t)}),i&&s.createElement(kE,{volume:n?0:t,setVolume:r,mute:n,setMute:o,volumeId:l}))};FE.propTypes={playerId:l().string,volume:l().number,mute:l().bool,volumePopupVisible:l().bool,setVolume:l().func,setMute:l().func,setVolumePopupVisible:l().func};const BE=FE,jE=(0,Se.WY)((({isModalView:e})=>!e),Bh(),us()),zE=e=>{const{element:t,widthPx:n,savedWidthPx:r,gridSize:o,isHovered:i,canDrop:a,setForceCanDrop:l,connectFileDropTarget:c=us(),cropToGrid:d}=e,u=i&&a;return(0,s.useEffect)((()=>{l&&l(u)}),[u]),c(s.createElement("div",{className:"FilePreviewImage"},s.createElement(Uc.Z,{showBrokenIconOnError:!0,cropToGrid:d,gridSize:o,element:t,imageType:Wc.v.FILE,widthPx:n,savedWidthPx:r})))};zE.propTypes={element:l().object,tempSize:l().object,gridSize:l().number,widthPx:l().number,savedWidthPx:l().number,cropToGrid:l().bool};const UE=jE(zE),HE="UNSUPPORTED_TYPE",ZE="PLAYBACK_ERROR";var GE=s.createElement("div",null,"Something went wrong while playing this file");const KE=({element:e,mediaError:t})=>t===ZE?GE:s.createElement("div",null,"Your browser doesn't support playback of ",Fu()(Lu()("/",(0,D.K8)(e)))," files");KE.propTypes={element:l().object,mediaError:l().string};const WE=(0,E.zB)({isPlaying:dE,progress:lE,duration:cE,volume:uE,mute:mE,mediaError:hE,mediaDragPreview:pE,hasBeenPlayed:gE});var VE=s.createElement(N.Z,{name:"media-player-fullscreen"});const $E=e=>{const{playerId:t,playerType:n,element:r,isDragging:o,isPresentational:i,isPlaying:a,isModalView:l,progress:c,duration:d,volume:u,imageData:m,mediaError:p,mute:h,mediaDragPreview:g,hasBeenPlayed:E,playMedia:v,pauseMedia:b,setMediaProgress:y,setMediaDuration:I,setMediaVolume:C,setMediaMute:S,setMediaPlayerError:T,setMediaDragPreview:w,updateElementMediaSize:_,resetMediaPlayer:R,dispatchNavigateToElement:x,widthPx:M,gridSize:P,cropToGrid:L,showDownloadOption:k,canDrop:F,isHovered:B,audioOnly:j,setAudioOnly:z}=e,U=(0,s.useRef)(!1),H=(0,s.useRef)(),Z=(0,s.useRef)(!1),G=(0,D.qmF)(r),K=n===sE.WK.VIDEO&&!j,[W,V]=(0,s.useState)(!1),[$,q]=(0,s.useState)(!1),Y=(0,D.R03)(r),X=(0,D.u$E)(r),Q=!!(0,D.un1)(r)&&!!(0,D.JT3)(r),J={width:(0,D.un1)(r),height:(0,D.JT3)(r)},ee=(0,Jl.jB)({savedSize:J,roundSaved:!1,cropToGrid:L,widthPx:M,gridSize:P}),te=K?!!ee&&!p:!p,ne=F&&B,re=!E&&K,oe=e=>y(t,e),ie=rd()((e=>C(t,e)),25),se=e=>S(t,e),ae=e=>e?v(t):b(t);(0,s.useEffect)((()=>{X&&se(!0)}),[]),(0,s.useEffect)((()=>{ae(X)}),[X]),(0,s.useEffect)((()=>{Z.current=W}),[W]);const le=e=>{e&&e.stopPropagation(),ae(!a)},ce={file:{attributes:{onContextMenu:e=>!k&&e.preventDefault(),controlsList:k?void 0:"nodownload"}}},de=rd()((e=>{H.current&&(oe(e),H.current.seekTo(e))}),25);(0,s.useEffect)((()=>{if(!o&&g&&w(t,null),!o)return;a&&ae(!1);const e=H.current&&H.current.getInternalPlayer();if(K&&e){const n=document.createElement("canvas");n.width=e.getBoundingClientRect().width,n.height=e.getBoundingClientRect().height;n.getContext("2d").drawImage(e,0,0,n.width,n.height),w(t,n)}}),[o]);const ue=f()("FileMediaPlayer",n.toLowerCase(),{"showing-volume":$,"dragging-scrubber":W,ready:te});if(K&&p===HE&&m&&!(0,O.vg)("hasError",m))return s.createElement(UE,e);const me=i?s.createElement("div",{className:"video-preview",ref:e=>{e&&g&&(e.innerHTML="",e.appendChild(g))}}):s.createElement(iE.Z,{ref:e=>{H.current=e},url:G,width:"100%",height:K?"100%":0,playing:a,volume:u,muted:h,loop:Y,progressInterval:250,onReady:e=>{if(l&&ae(!0),Q)return;if(U.current)return;U.current=!0;if(!e.getInternalPlayer()||!K)return;const n=e.getInternalPlayer().videoWidth,o=e.getInternalPlayer().videoHeight;n||o||z((0,D.nRF)(r)),n&&o&&_(t,n,o)},onPlay:()=>ae(!0),onPause:()=>ae(!1),onProgress:({played:e})=>{if(!Z.current&&0!==e)return 1===e?R(t):void oe(e)},onDuration:e=>{d||I(t,e)},onError:e=>{if((e=>e.toString().startsWith("NotAllowedError"))(e))return void console.error(e);T(t,E?ZE:HE)},config:ce});return s.createElement("div",{className:ue},s.createElement("div",{className:f()("media-player-container",{error:!!p}),style:{paddingTop:ee}},p?s.createElement(KE,{mediaError:p,element:r}):me,ne&&s.createElement(Kc,{fileType:Hc.m.VIDEO}),te&&re&&s.createElement(Uc.Z,{imageType:Wc.v.FILE,widthPx:M,forcedSize:{width:M},element:r})),te&&re&&!ne&&s.createElement(Xh,{show:!0,onClick:le}),te&&!re&&s.createElement("div",{className:f()("media-player-controls",{"has-fullscreen":K})},s.createElement(hi.Z,{className:"control-button play-button",onClickFn:le,onDoubleClick:A.hE},s.createElement(N.Z,{name:a?"media-player-pause":"media-player-play"})),s.createElement(BE,{volume:u,mute:h,setVolume:ie,setMute:se,playerId:t,volumePopupVisible:$,setVolumePopupVisible:q}),s.createElement(TE,{isPlaying:a,progress:c,handleSeek:de,isDraggingScrubber:W,setIsDraggingScrubber:V}),s.createElement(PE,{progress:c,duration:d}),K&&s.createElement(hi.Z,{className:"control-button fullscreen-button",onClickFn:()=>{if(l||!Mt.G6())return(()=>{const e=H.current.getInternalPlayer(),t=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullscreen||e.msRequestFullscreen;t&&t.call(e)})();ae(!1),x((0,D.nRF)(r))}},VE)))};$E.propTypes={playerId:l().string,playerType:l().string,element:l().object,imageData:l().object,isPlaying:l().bool,isModalView:l().bool,canDrop:l().bool,isHovered:l().bool,progress:l().number,duration:l().number,volume:l().number,mediaRatio:l().number,mediaError:l().string,mute:l().bool,isDragging:l().bool,showDownloadOption:l().bool,isPresentational:l().bool,hasBeenPlayed:l().bool,mediaDragPreview:l().object,playMedia:l().func,pauseMedia:l().func,setMediaProgress:l().func,setMediaDuration:l().func,setMediaVolume:l().func,setMediaMute:l().func,setMediaPlayerError:l().func,setMediaDragPreview:l().func,updateElementMediaSize:l().func,resetMediaPlayer:l().func,dispatchNavigateToElement:l().func,attachment:l().object,gridSize:l().number,widthPx:l().number,cropToGrid:l().bool,audioOnly:l().bool,setAudioOnly:l().func};const qE=(0,c.$j)(WE,(e=>({playMedia:t=>e((0,fE.pN)({playerId:t})),pauseMedia:t=>e((0,fE.OV)({playerId:t})),setMediaProgress:(t,n)=>e((0,fE.Wv)({playerId:t,progress:n})),setMediaDuration:(t,n)=>e((0,fE.qi)({playerId:t,duration:n})),setMediaVolume:(t,n)=>e((0,fE.RY)({playerId:t,volume:n})),setMediaMute:(t,n)=>e((0,fE.Ic)({playerId:t,mute:n})),setMediaPlayerError:(t,n)=>e((0,fE.ml)({playerId:t,error:n})),setMediaDragPreview:(t,n)=>e((0,fE.j)({playerId:t,dragPreview:n})),updateElementMediaSize:(t,n,r)=>e((0,Qa.yj)({id:t,silent:!0,changes:{media:{originalWidth:n,originalHeight:r}}})),resetMediaPlayer:t=>e((0,fE.$A)({playerId:t})),setAudioOnly:t=>e((0,Qa.yj)({transactionId:-1,id:t,changes:{audioOnly:!0}}))})))($E);var YE=s.createElement("span",{className:"preview-message"},"No preview available");const XE=({element:e})=>{const t=(0,D.Nzy)(e);return s.createElement("div",{className:"FilePreviewUnavailable"},s.createElement("div",{className:"unavailable-message"},s.createElement(aa.Z,{fileType:$f(t),iconStyle:"large"}),YE))};XE.propTypes={element:l().object};const QE=XE,JE=Bh(),ev=e=>{const{element:t,forcePreview:n,setForceCanDrop:r,connectFileDropTarget:o,isHovered:i,canDrop:a}=e,l=!(0,oE.Z)(t)&&!n,c=i&&a;if((0,s.useEffect)((()=>{l||r&&r(c)}),[c]),l)return null;const d=(0,D.ywY)(t);let u;const m=(0,Zf.ZP)(t);if(m){const t=(({element:e,isModalView:t,isFocusedForegroundElement:n})=>{const r=(0,D.nRF)(e);return t?`${r}-modal`:n?`${r}-focus`:r})(e);u=s.createElement(qE,Object.assign({},e,{imageData:d,playerId:t,playerType:m}))}else u=d&&!(0,O.vg)("hasError",d)?s.createElement(UE,e):s.createElement(QE,e);const p=s.createElement("div",{className:"FilePreview"},u);return o?o(p):p};ev.propTypes={element:l().object,gridSize:l().number,widthPx:l().number,forcePreview:l().bool,isModalView:l().bool,isFocusedForegroundElement:l().bool,cropToGrid:l().bool,setForceCanDrop:l().func,connectFileDropTarget:l().func,isHovered:l().bool,canDrop:l().bool};const tv=JE(ev),nv=ev,rv=e=>{if((0,Gs.Z$)())return!1;switch((0,D.JBL)(e)){case ul.ld.TEXT.type:case ul.ld.PDF.type:return!0;default:return!1}};var ov=n(59022);const iv=({children:e,divider:t,className:n,element:r,dispatchNavigateToElement:o})=>s.createElement("span",null,t,s.createElement(tc.Z,{onClick:e=>{if(rv(r)){const e=(0,D.nRF)(r);o(e)}e&&e.preventDefault(),e&&e.stopPropagation()},target:"_blank",rel:"noopener noreferrer",className:f()("DownloadOpenLinkButton",n)},e));iv.propTypes={children:l().oneOfType([l().element,l().array,l().string]),divider:l().oneOfType([l().element,l().array,l().string]),className:l().string,element:l().object,dispatchNavigateToElement:l().func};const sv=(0,c.$j)(null,(e=>({dispatchNavigateToElement:t=>e((0,X.nI)({elementId:t}))})))(iv),av=({element:e,fileData:t,showDownloadOption:n})=>{const[r,o]=(0,s.useState)(!1),i=(0,s.useRef)(`uid-${(0,ov.x)()}`).current,a=rv(e),l=(0,D.nRF)(e);return s.createElement("div",{className:"FileSecondaryDetails",id:i},t&&n&&s.createElement(nm,{url:(0,O.vg)("url",t),filename:(0,O.vg)("filename",t),onDownloadStart:()=>{o(!0),(0,$u.P)(`#${i}`)},onDownloadEnd:()=>o(!1),elementId:l},"Download"),a&&!r&&s.createElement(s.Fragment,null,s.createElement(sv,{element:e,divider:n&&" - ",className:"open-link"},"Open"),s.createElement("span",null," ",!n&&" - ")),!r&&s.createElement(s.Fragment,null,n&&" - ",s.createElement("span",{className:"file-size"},(0,Xu.gK)((0,O.vg)("size",t)))))};av.propTypes={element:l().object,fileData:l().object,showDownloadOption:l().bool};const lv=av;var cv=s.createElement("span",{className:"progress-message"},"Processing");const dv=({element:e,attachment:t})=>{const n=e.getIn(["content","file"])||(0,ec.Yu)(t),r=Yf({element:e,attachment:t}),o=(({element:e,attachment:t})=>{if(!t)return;const n=(0,O.vg)("actionType",t),r=(0,O.vg)("loaded",t)/(0,O.vg)("total",t)*100,o=Xf({element:e,attachment:t});return n===to.eQ.DOWNLOAD?r:o})({element:e,attachment:t}),i=(0,ec.FQ)(t)||0,a=qf(n);return s.createElement("div",{className:"FileUploadProgress"},s.createElement(qu.Z,{percentageComplete:o,barbershop:!0,animate:!0}),r?cv:s.createElement("span",{className:"progress-message"},(0,Xu.wd)(i,a)))};dv.propTypes={element:l().object,attachment:l().object};const uv=dv,mv=e=>{const{element:t,isEditable:n,isSingleSelected:r,isResizing:o,filterQuery:i,attachment:a,showDownloadOption:l}=e,c=(0,D.Nzy)(t)||(0,ec.Yu)(a),d=(0,D.ywY)(t),u=(0,w.Gn)(e),m=(0,w.Gn)(Object.assign({},e,{tempSize:null})),p=(0,ec.Em)(a)===ul.ld.IMAGE.type,h=!d&&Hf(t,c),g=(0,ec.jA)(a)&&(0,ec.vV)(a),f=!p&&(h||g),E=(0,O.vg)("filename",c),v=(0,D.E1L)(t),b=(0,qe.iS)(e);return s.createElement(Js,{className:"FileDetailViewContent",previewElement:s.createElement(tv,Object.assign({},e,{cropToGrid:!o,widthPx:u,savedWidthPx:m,audioOnly:v})),iconElement:s.createElement(aa.Z,{fileType:(0,O.vg)("type",c),audioOnly:v}),titleElement:s.createElement(La.Z,{element:t,elementId:(0,D.nRF)(t),isEditable:n,initialValue:E,maxLength:500,selectFirst:!0,selectAllOnEdit:!0,isSelected:r,filterQuery:i,editorKey:b}),secondaryElement:f?s.createElement(uv,{element:t,attachment:a}):s.createElement(lv,{element:t,fileData:c,showDownloadOption:l})})};mv.propTypes={element:l().object.isRequired,attachment:l().object,isEditable:l().bool,isSingleSelected:l().bool,isResizing:l().bool,filterQuery:l().string,showDownloadOption:l().bool};const pv=mv,hv=e=>{const{currentBoardId:t,elementId:n,element:r,inList:o,gridSize:i,tempSize:a,elementEvents:l,isLocked:c,attachment:d,isSelected:u,isEditable:m,isPresentational:p,className:h,permissions:g,setParentHoveredChildAcceptsDrop:E,getContextZoomScale:v,getContextZoomTranslationPx:b}=e,y=(0,D.Lq4)(r),I=(0,D.KTp)(r),C=(0,D.A7z)(r),S=Kf({element:r,attachment:d}),T=Wf({element:r,attachment:d}),O=!c&&T&&!o&&m,_=(0,D.dzi)(r),R=T&&(a&&a.width||_)||to.cv,N=f()("FileDetailView drag-handle",h,{"contrast-shadow":!T});return s.createElement("div",Object.assign({id:(0,w.Oc)((0,D.nRF)(r)),className:N,style:(0,ns.bS)(R,i,o)},l),s.createElement(_e,{colorName:y,isSelected:u}),s.createElement(ei.Z,{show:(0,os.Z)(e),elementId:n,element:r,currentBoardId:t,gridSize:i,getContextZoomScale:v,getContextZoomTranslationPx:b}),s.createElement(Ko,e),s.createElement(Jo,e),s.createElement(Ae.Z,e),S?s.createElement(pv,e):s.createElement(pc,Object.assign({},e,{type:"file",accept:"*",message:"Upload a file"})),s.createElement(Re.Z,Object.assign({},e,{onDoubleClick:A.hE,placeholder:"Add a description",textContent:I,captionVisible:C})),s.createElement(wi,e),s.createElement(Wi,{setParentHoveredChildAcceptsDrop:E,isRelative:!0,gridSize:i,isPresentational:p,element:r,elementId:n,getContextZoomScale:v}),s.createElement(ts,{elementId:n,element:r,gridSize:i,isPresentational:p,currentBoardId:t,permissions:g}),s.createElement(Ue,Object.assign({},e,{showHandle:O})))};hv.propTypes={currentBoardId:l().string,elementId:l().string,element:l().object.isRequired,attachment:l().object,inList:l().string,gridSize:l().number,elementEvents:l().object,tempSize:l().object,className:l().string,isLocked:l().bool,isSelected:l().bool,isSingleSelected:l().bool,isEditable:l().bool,isPresentational:l().bool,permissions:l().number,handleDoubleClick:l().func,setParentHoveredChildAcceptsDrop:l().func,showDownloadOption:l().bool,getContextZoomScale:l().func,getContextZoomTranslationPx:l().func};const gv=(0,c.$j)((()=>(0,E.zB)({showDownloadOption:Zl.l})))(hv),fv=e=>{const{element:t,attachment:n,dispatchNavigateToElement:r,elementEvents:o,isPresentationModeEnabled:i}=e,[a,l]=(0,s.useState)(!1),c=(0,D.olH)(t),d=(0,D.nRF)(t),u=(0,w.UX)("File",Object.assign({},e,{forceCanDrop:a})),m=(0,s.useCallback)((e=>{e&&e.preventDefault(),e&&e.stopPropagation(),c===qs.oE.DETAIL_VIEW&&i||r(d)}),[r,t,c]),p=Object.assign({},o,{onDoubleClick:m});if(!Gf({element:t,attachment:n}))return null;switch(c){case qs.oE.ICON_VIEW:return s.createElement(rE,Object.assign({},e,{elementEvents:p,className:u}));case qs.oE.DETAIL_VIEW:default:return s.createElement(gv,Object.assign({},e,{setForceCanDrop:l,elementEvents:p,className:u}))}};fv.propTypes={currentBoardId:l().string,elementId:l().string,element:l().object.isRequired,attachment:l().object,inList:l().string,gridSize:l().number,elementEvents:l().object,tempSize:l().object,isLocked:l().bool,isSelected:l().bool,isSingleSelected:l().bool,isEditable:l().bool,isPresentational:l().bool,isPresentationModeEnabled:l().bool,permissions:l().number,setParentHoveredChildAcceptsDrop:l().func,dispatchNavigateToElement:l().func};const Ev=fv;var vv=n(39386),bv=n.n(vv),yv=n(8049);var Iv,Cv,Sv,Tv,wv;function Ov(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _v=y.yu.MINUTE,Rv=(0,ud.Z)()(Ev),Av=e=>!!(0,O.P2)(["content","previewReady"],e),Dv=(0,O.P2)(["content","file","uploadedTimestamp"]);let Nv=(Iv=(0,c.$j)(null,(e=>({dispatchUploadFile:(t,n,r,o)=>e((0,nc.pD)({id:t,file:n,options:r,transactionId:o})),dispatchNavigateToElement:t=>e((0,X.nI)({elementId:t})),dispatchPreviewError:(t,n)=>e((0,Qr.yj)({id:t,changes:{image:{error:n,hasError:!0},previewReady:!0}})),dispatchSetDisplayMode:(t,n)=>e((0,Qr.yj)({id:t,changes:{displayMode:n}})),dispatchResetMediaPlayer:t=>e((0,fE.$A)({playerId:t})),dispatchSwitchConnectedElementParents:t=>e((0,yd.eF)(t)),dispatchAcceptElementAttachmentUndo:t=>e((0,nc.o1)(t))}))),Cv=(0,Mi.Z)(["dragModifierKeys"]),Sv=ws({getMinWidth:rh()(20)}),Tv=Td({getMinWidth:rh()(20),getDefaultMaxWidth:({element:e,attachment:t})=>Wf({element:e,attachment:t})?(0,od.aw)({element:e}):to.cv}),Iv(wv=(0,fs.Z)(wv=Cv(wv=Cs(wv=Sv(wv=Tv(wv=class extends s.Component{constructor(...e){super(...e),Ov(this,"schedulePreviewStatusCheck",(({element:e})=>{if(!(e=>(0,D.Nzy)(e)&&Hf(e)&&!Av(e))(e))return;const t=(e=>{const t=Dv(e);if(!t)return 0;const n=(0,y.u3)();return Math.max(_v-(n-t),0)})(e);this.previewStatusTimer=bv()(t,this.checkPreviewStatus)})),Ov(this,"checkPreviewStatus",(()=>{const{element:e,dispatchPreviewError:t}=this.props;Av(e)||t((0,D.nRF)(e),{message:"Failed to receive preview within the expected time"})})),Ov(this,"clearSchedule",(()=>{this.previewStatusTimer&&clearTimeout(this.previewStatusTimer)})),Ov(this,"handleKey",(e=>{this.props.isSelected&&e.target===this.container&&this.props.captionKeyHandler(e,this.props)})),Ov(this,"uploadFile",((e,t)=>{const{dispatchUploadFile:n,element:r}=this.props;n((0,D.nRF)(r),e,null,t)})),Ov(this,"handleIconReceivedColors",(({element:e,dispatchSetDisplayMode:t})=>{(0,O.qo)((0,D.qpH)(e)).filter(yv.i0).length>1&&t((0,D.nRF)(e),qs.oE.DETAIL_VIEW)}))}componentWillMount(){this.schedulePreviewStatusCheck(this.props)}componentDidUpdate(e){const{element:t,dispatchResetMediaPlayer:n}=e;var r,o;r=t,o=this.props.element,!Dv(r)&&Dv(o)&&this.schedulePreviewStatusCheck(this.props),((e,t)=>!Av(e)&&Av(t))(t,this.props.element)&&this.clearSchedule(),((e,t)=>!(0,D.h3z)(e)&&(0,D.h3z)(t))(t,this.props.element)&&n((0,D.nRF)(t)),(0,_l.Fd)(this.props.element)&&((e,t)=>!(0,D.qpH)(e)&&(0,D.qpH)(t))(t,this.props.element)&&this.handleIconReceivedColors(this.props)}componentWillUnmount(){this.clearSchedule()}render(){const{connectLineEdgeDropTarget:e,canConnectLineEdge:t}=this.props;return(e&&t?e:_i())(s.createElement("div",{className:"FileContainer",ref:e=>{this.container=e},onKeyDown:this.handleKey,tabIndex:"-1"},s.createElement(Qd,{element:this.props.element}),s.createElement(Rv,Object.assign({},this.props,{uploadFile:this.uploadFile}))))}})||wv)||wv)||wv)||wv)||wv)||wv);Nv.propTypes={element:l().object.isRequired,attachment:l().object,canConnectLineEdge:l().bool,isSelected:l().bool,captionKeyHandler:l().func,inList:l().string,connectDropTarget:l().func,connectLineEdgeDropTarget:l().func,dispatchUploadFile:l().func,dispatchPreviewError:l().func,dispatchResetMediaPlayer:l().func};const xv=Nv,Mv=e=>{const{element:t,showDownloadOption:n}=e,r=(0,D.qmF)(t),o=(0,D.YQ0)(t),i=n?r:r.concat("#toolbar=0");return s.createElement("iframe",{title:o,className:"FileModalNativeView",src:i})};Mv.propTypes={element:l().object,showDownloadOption:l().bool};const Pv=Mv,Lv=({element:e})=>(e=>{const t=(0,Zf.ZP)(e);return t===Zh.w_.AUDIO||t===Zh.w_.VIDEO})(e)?0:void 0,kv=e=>{const{element:t,attachment:n,gridSize:r,showDownloadOption:o}=e,[i,a]=(0,gu.Z)(),l=(0,D.Nzy)(t)||(0,ec.Yu)(n),c=!(0,D.ywY)(t)&&Hf(t,l)||(0,ec.jA)(n),d=(0,D.E1L)(t),u=Vf(l),m=(({element:e,windowWidth:t})=>{const n=(0,Zf.ZP)(e);if(n===Zh.w_.AUDIO)return t-200;if(n===Zh.w_.VIDEO)return 4*((0,D.un1)(e)||(0,D.PlF)(e)||320);return(0,D.PlF)(e)||1280})({element:t,windowWidth:i}),p=(({element:e,gridSize:t,audioOnly:n})=>{const r=(0,Zf.ZP)(e);if(r===Zh.w_.AUDIO||n)return 5*t;if(r===Zh.w_.VIDEO)return 4*((0,D.JT3)(e)||(0,D._4D)(e)||180);return(0,D._4D)(e)||720})({element:t,gridSize:r,audioOnly:d}),h=Lv({element:t,audioOnly:d}),g=(0,D.A7z)(t)&&(0,D.KTp)(t),{modalWidth:f,modalHeight:E}=(0,Bm.g)({windowWidth:i,windowHeight:a,imageWidth:m,imageHeight:p,caption:g,footerSize:55,modalMinHeight:h,modalMinWidth:450,gridSize:r}),v=(0,qe.iS)(e);return s.createElement("div",{className:"FileModalDetailView",style:{width:f,minHeight:E}},s.createElement(Js,{previewElement:s.createElement(nv,Object.assign({},e,{widthPx:f,forcePreview:!0,audioOnly:d})),iconElement:s.createElement(aa.Z,{fileType:$f(l),audioOnly:d}),titleElement:s.createElement(La.Z,{element:t,elementId:(0,D.nRF)(t),initialValue:u,maxLength:500,selectFirst:!0,selectAllOnEdit:!0,editorKey:v}),secondaryElement:c?s.createElement(uv,{element:t,attachment:n}):s.createElement(lv,{element:t,fileData:l,showDownloadOption:o})}),s.createElement(Re.Z,{element:t,textContent:(0,D.KTp)(t),captionVisible:(0,D.A7z)(t)}))};kv.propTypes={element:l().object,attachment:l().object,gridSize:l().number,showDownloadOption:l().bool};const Fv=kv,Bv=(0,E.zB)({attachment:ec.FG,showDownloadOption:Zl.l}),jv=e=>{const{element:t}=e,n=(e=>{switch(e){case ul.ld.TEXT.type:case ul.ld.PDF.type:return!0;default:return!1}})((0,D.JBL)(t)),r=n?Pv:Fv;return s.createElement("div",{className:f()("FileModal",{"native-view":n,"detail-view":!n})},s.createElement(r,e))};jv.propTypes={element:l().object,showDownloadOption:l().bool};const zv=(0,c.$j)(Bv)(jv),Uv=({selectedElements:e})=>(0,Rl.YB)(e),Hv=[Ws.z.COLOR,Ws.z.DISPLAY_MODE,Ws.z.MEDIA_LOOP,Ws.z.MEDIA_AUTOPLAY,Object.assign({},Ws.z.CAPTION,{name:"Description",availabilityPredicate:Uv}),Object.assign({},Ws.z.REACTION,{availabilityPredicate:Uv}),...Ws.l.MULTI_SELECT_ARRANGEMENT],Zv=()=>((e={})=>(0,b.QS)(Object.assign({elementType:ul.Gk,objectConstructorFn:zf,displayName:ul.HY},e)))({containerComponent:xv,presentationalComponent:Ev,modalComponent:zv,tools:[Ks.Tk.RICH_TEXT,Ks.Tk.COLOR,Ks.Tk.DISPLAY_MODE,Ks.Tk.MEDIA_LOOP,Ks.Tk.MEDIA_AUTOPLAY,Object.assign({},Ks.Tk.CAPTION,{name:"Description",predicate:e=>!(0,_l.Fd)(e)}),Object.assign({},Ks.Tk.REACTION,{predicate:e=>!(0,_l.Fd)(e)})],selectedTools:Hv,editingTools_TITLE:Hv,editingTools_CAPTION:Ws.l.TEXT_EDITING_CAPTION});var Gv=n(45575),Kv=n(36309);const Wv=e=>{const{id:t,content:n}=e;return Object.assign({},I(e),{elementType:Gv.lq,content:Object.assign({threadId:t},n)})};var Vv,$v,qv,Yv=n(32973),Xv=n.n(Yv),Qv=n(18368),Jv=n(39222),eb=n(26777);function tb(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const nb=(0,E.P1)(L.jE,hu.HW,hu.fu,(({gridSize:e},t,n)=>({gridSize:e,isHideCommentsEnabled:t,isEditingDisabled:n})));let rb=(Vv=(0,c.$j)(nb,(e=>({dispatchMoveElementsToTrash:({currentBoardId:t,elementIds:n})=>e((0,zr.fC)({currentBoardId:t,elementIds:n})),dispatchCommentsAdd:({threadId:t,text:n})=>e((0,eb.IJ)({threadId:t,text:n}))}))),$v=(0,Mi.Z)(["dragModifierKeys"]),Vv(qv=(0,fs.Z)(qv=$v(qv=class extends s.Component{constructor(...e){super(...e),tb(this,"moveElementsToTrash",(()=>{const{currentBoardId:e,element:t,dispatchMoveElementsToTrash:n}=this.props;n({currentBoardId:e,elementIds:[(0,D.nRF)(t)]})})),tb(this,"addComment",(e=>{const{dispatchCommentsAdd:t,element:n}=this.props;t({threadId:(0,D.s36)(n),text:e})})),tb(this,"startEditing",(({editorId:e,editorKey:t})=>{const{element:n,isEditable:r,dispatchStartEditingElement:o}=this.props;r&&o({id:(0,D.nRF)(n),editorId:e,editorKey:t})}))}render(){const{connectLineEdgeDropTarget:e,canConnectLineEdge:t,element:n,isHideCommentsEnabled:r,isPresentationModeEnabled:o,isEditingDisabled:i}=this.props,a=o&&r,l=o&&i;return(!((0,D.esd)(n)||(0,$i.N0)(n))&&e&&t?e:us())(s.createElement("div",null,s.createElement(Vy,Object.assign({},this.props,{moveElementsToTrash:this.moveElementsToTrash,startEditing:this.startEditing,addComment:this.addComment,hideComments:a,hideEditing:l}))))}})||qv)||qv)||qv);rb.propTypes={element:l().object.isRequired,currentBoardId:l().string.isRequired,createCard:l().func,inList:l().string,gridSize:l().number,connectDropTarget:l().func,dispatchMoveElementsToTrash:l().func,dispatchCommentsAdd:l().func,isEditable:l().bool,isHideCommentsEnabled:l().bool,isEditingDisabled:l().bool,isPresentationModeEnabled:l().bool,connectLineEdgeDropTarget:l().func,dispatchStartEditingElement:l().func,canConnectLineEdge:l().bool};const ob=rb,ib=(0,E.P1)(P._W,((e,t)=>t.popupId),((e,t)=>t.forcePopupOpen),L.FP,((e,t,n,r)=>({isPopupOpen:n||e.has(t),gridSize:r}))),sb=e=>{const{isPopupOpen:t,gridSize:n,popupId:r,dispatchClosePopup:o}=e;return t?s.createElement(pe.Z,{selector:`.popup-trigger-${r} .pin-button`,className:"CommentThreadCollapsedPopup light",arrowColor:"var(--ws-comment-background)",arrowStrokeColor:"var(--ui-background-primary)",arrowWidth:13,arrowHeight:8,arrowStrokeWidth:0,arrowStyle:{transform:"translate(0px, 1px)"},distance:15,offset:0,position:he.as.RIGHT,alignment:he.UV.START,gridSize:n,responsive:!0,pollPosition:!0},s.createElement(F.Z,Object.assign({},e,{ignoredClicksSelector:".Toolbar,.mention-suggestion-entry",visible:t,popupId:r,closePopup:()=>o(r)}),s.createElement(ob,Object.assign({},e,{isCollapsedThread:!0,disableCollapse:!0})))):null};sb.propTypes={isPopupOpen:l().bool,gridSize:l().number,popupId:l().string,elementId:l().string,permissions:l().number,dispatchClosePopup:l().func};const ab=(0,c.$j)(ib,(e=>({dispatchClosePopup:t=>e((0,k.j4)(t))})))(sb);var lb=s.createElement("div",{className:"attach-mode-shadow"});const cb=e=>{const{className:t}=e,r=n.g.lines.handleSize/2;return s.createElement("div",{className:f()("CommentThreadCollapsedDragHandle",t)},lb,s.createElement("svg",{className:"handle",version:"1.1",width:n.g.lines.handleSize,height:n.g.lines.handleSize,viewBox:`0 0 ${n.g.lines.handleSize} ${n.g.lines.handleSize}`},s.createElement("circle",{cx:r,cy:r,r:r-.25})))};cb.propTypes={className:l().string};const db=cb;var ub=s.createElement("div",{className:"CommentThreadCollapsedRemoteActivityIndicator"},s.createElement("div",{className:"pulse"}));const mb=({show:e})=>e?ub:null;mb.propTypes={show:l().bool};const pb=mb,hb=e=>{if(!e)return null;return{"--comment-thread-background-color":(0,Te.yp)(e),"--comment-thread-text-color":(0,Te.zm)(e,!0)}};var gb=s.createElement(N.Z,{name:"comment-pin"});const fb=e=>{const{elementId:t,element:n,commentsCount:r,connectDragSource:o,elementEvents:i,commentActivity:a,handleMode:l,isRemotelySelected:c,hideEditing:d,hideComments:u,style:m,isEditable:p,filterState:h}=e,g=h===to.P3.FOCUS||h===to.P3.PASS,E=`collapsed-comment-${t}`,v=(0,D.Lq4)(n),b=f()("CommentThreadCollapsed",{"hide-comments":u,"hide-replies":d}),y=(0,w.UX)(b,e),I=o||_i();var C=s.createElement(db,{className:l}),S=s.createElement(pb,{show:c});return s.createElement("div",{className:"CommentThreadCollapsedContainer",style:m},I(s.createElement("div",Object.assign({id:(0,w.Oc)(t),className:y},i,{style:hb(v)}),s.createElement(ve.ZP,{disableToggleClose:!0,popupId:E,stayActivePredicate:Xv(),onToggle:p?null:Qv.o,onClick:p?null:A.hE},(e=>s.createElement("div",{className:"pin-button"},C,gb,s.createElement("div",{className:"comments-count-wrapper"},s.createElement("span",{className:"comments-count"},Math.min(r,99))),!!a&&s.createElement(Zo,{toggleVal:e,commentActivity:a}),S))))),s.createElement(ab,Object.assign({},e,{popupId:E,forcePopupOpen:g})))};fb.propTypes={element:l().object,elementId:l().string,commentsCount:l().number,elementEvents:l().object,commentActivity:l().object,handleMode:l().string,style:l().object,filterState:l().string,isEditable:l().bool,isDragging:l().bool,isSelected:l().bool,hideComments:l().bool,hideEditing:l().bool,isRemotelySelected:l().bool,isDragPreview:l().bool,attachModeWhileDragging:l().bool,connectDragSource:l().func,onClick:l().func};const Eb=(0,c.$j)((()=>(0,E.zB)({commentsCount:(0,Jv.SC)(),commentActivity:(0,wo.tl)()})))(fb),vb=e=>t=>e-t-20*y.yu.SECOND<0,bb=(e,{threadId:t})=>e.getIn(["remoteActivity","commentThreads",t]);var yb=n(29144);const Ib=(e,t,n)=>{const r=s.useRef(),o=s.useCallback(((...t)=>{const n=e.current.scrollHeight-e.current.clientHeight;(e.current.scrollTop>=r.current||e.current.scrollTop===n)&&((0,Ya.Og)(e.current),requestAnimationFrame((()=>{e.current&&(r.current=e.current.scrollTop)})))}),[]);s.useEffect((()=>{if(!e.current)return;(0,Ya.Og)(e.current),r.current=e.current.scrollTop;const n=new Ve.Z(o);return n.observe(e.current),t.current&&n.observe(t.current),()=>{null==n||n.disconnect()}}),[]),s.useEffect((()=>{n&&e.current&&(0,Ya.Og)(e.current)}),[n])};var Cb=n(59481),Sb=n(7728);const Tb=e=>{(e=>{const t=[];let n=e;for(;n;)n=n.parentElement&&n.parentElement.closest("[draggable]"),n&&t.push(n);return t})(e.target).forEach((e=>e.setAttribute("draggable",!1)))};var wb=n(96504);const Ob=({className:e,children:t,user:n,active:r,onDoubleClick:o})=>s.createElement("div",{className:f()("CommentLine",e),onDoubleClick:o},s.createElement("div",{className:"avatar"},s.createElement(wb.Z,{user:n,size:Vo.AR.SMALL,active:r})),s.createElement("div",{className:"details"},t));Ob.propTypes={user:l().object.isRequired,children:l().oneOfType([l().arrayOf(l().node),l().node]),className:l().string,active:l().bool,onDoubleClick:l().func};const _b=Ob;function Rb(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ab extends s.Component{constructor(...e){super(...e),Rb(this,"onSubmit",(e=>{const{editorState:t,onSubmit:n}=this.props,r=t.getCurrentContent();if(!r||!r.hasText())return;n((0,Dt.convertToRaw)(r))}))}render(){const{isUpdating:e,editorState:t,buttonText:n="Send"}=this.props;if(!e)return null;const r=t.getCurrentContent(),o=!r||!r.hasText();return s.createElement(hi.Z,{className:"CommentPostButton",onMouseDown:this.onSubmit,disabled:o},n)}}Ab.propTypes={onSubmit:l().func,isUpdating:l().bool,editorState:l().object,buttonText:l().string};const Db=Ab,Nb=(e,t,{getProps:n,setEditorState:r})=>{const{onSubmit:o}=n();if(!o)return Wt.wz.notHandled;if((0,$.p9)(e))return Wt.wz.notHandled;if(t.getCurrentContent().hasText()){const e=t.getCurrentContent();o((0,Dt.convertToRaw)(e));const n=(e=>Dt.EditorState.moveFocusToEnd(Dt.EditorState.push(e,Dt.ContentState.createFromText(""))))(t);r(n)}return Wt.wz.handled},xb=(e,t,n,{getProps:r})=>{const{onActivity:o}=r();o&&o()},Mb=(0,Tt.i)({}),Pb=(0,Tt.T)({}),Lb=(0,on.Z)({enableBlockStyles:!1}),kb=(0,ln.Z)(),Fb=(0,sn.Z)({enableBlockStyles:!1}),Bb=(0,an.Z)(),jb=(0,cn.Z)(),zb={handleReturn:Nb},Ub=(0,Xt.Z)(),Hb={handleBeforeInput:xb},Zb=[jb,(0,wt.Z)(),Pb,Mb,kb,zb,Ub,Lb,Hb,Fb,Bb,(0,Ln.Z)()],Gb=e=>s.createElement(Ct.Z,Object.assign({},e,{plugins:Zb,className:f()("CommentEditor",e.className,{editing:e.isEditing})}),(t=>(e.editorStateRef&&(e.editorStateRef.current=t),e.isPreview||e.hidePostButton?null:s.createElement(Db,Object.assign({ref:e.postButtonRef,className:"post-button"},e,{editorState:t})))));Gb.propTypes={className:l().string,postButtonRef:l().object,isPreview:l().bool,isEditing:l().bool,hidePostButton:l().bool,editorStateRef:l().object};const Kb=Gb,Wb=e=>s.createElement(ho.Z,{onMouseDown:t=>{t.stopPropagation();const{updateComment:n,editorStateRef:r}=e,o=null==r?void 0:r.current;if(!o)return;const i=o.getCurrentContent();if(!i||!i.hasText())return;n((0,Dt.convertToRaw)(i))}},"Save");Wb.propTypes={updateComment:l().func,editorStateRef:l().object};const Vb=({_id:e,currentUserId:t,userId:n,startEditing:r,content:o,setKeepToolsVisible:i,permissions:a,isUpdating:l,updateComment:c,editorStateRef:d})=>{const u=t===n,m=(0,O.kE)((0,O.vg)("reactions",o)||[])>0;return(0,ni.os)(a)?null:s.createElement("div",{className:"CommentTools"},u&&(l?s.createElement(Wb,{updateComment:c,editorStateRef:d}):s.createElement(ho.Z,{onClickFn:r},"Edit")),!u&&!m&&s.createElement(ui,{elementId:e,onPopupToggleCb:i}))};Vb.propTypes={_id:l().string,userId:l().string.isRequired,currentUserId:l().string,content:l().object,startEditing:l().func,setKeepToolsVisible:l().func,permissions:l().number,isUpdating:l().bool,updateComment:l().func,editorStateRef:l().object};const $b=Vb,qb=e=>{const{commentActivity:t,_id:n,isSelected:r}=e;return $r()(t)?null:s.createElement(Zo,{commentId:n,toggleVal:r,commentActivity:t})};qb.propTypes={_id:l().string,commentActivity:l().object,isSelected:l().bool};const Yb=(0,c.$j)((()=>(0,E.zB)({commentActivity:(0,wo.fU)()})))(qb),Xb=["_id","content"];const Qb=e=>{let{_id:t,content:n}=e,r=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,Xb);return s.createElement(wi,Object.assign({},r,{elementId:t,reactions:(0,O.vg)("reactions",n)}))};Qb.propTypes={_id:l().string,content:l().object};const Jb=Qb;var ey;function ty(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ny=e=>{const{_id:t,user:n,text:r,createdAt:o,userId:i,currentUserId:a,onEditCommentClick:l,filterQuery:c,isSelected:d,inTrash:u,content:m,permissions:p,currentEditorKey:h,currentEditorId:g,localText:E,saveContent:v,updateComment:b,onEmptyBackspace:y,startEditing:I,stopEditing:C,isEditing:S,isEditable:T,isUpdating:w,isPresentational:O,spellCheck:_,openHyperlinkPopup:R}=e,[A,D]=(0,s.useState)(),N=(0,s.useRef)(),x=!u&&(!(0,Mt.HM)()||w)&&!(0,Mt.Mn)(),M=(0,qe.GL)(e,`${t}-${Gv.lq}`),P=(0,qe.GL)(e,Gv.lq);return s.createElement(_b,{className:f()("Comment",{"text-selectable":d,"keep-tools-visible":A,updating:w}),user:n,onDoubleClick:u?null:l},s.createElement("div",{className:"details-header"},s.createElement("div",{className:"title"},s.createElement("span",{className:"user-name"},(0,_o.vz)(n)||"Someone"),s.createElement(Ao.Z,{timestamp:o,showSuffix:!0}),s.createElement(Yb,{_id:t,isSelected:d})),x&&s.createElement($b,{_id:t,editorStateRef:N,permissions:p,userId:i,currentUserId:a,startEditing:l,isUpdating:w,updateComment:b,setKeepToolsVisible:D,content:m})),s.createElement("div",{className:"editor-container"},s.createElement("div",{className:"mousedown-handler",onMouseDown:d?Tb:null},s.createElement(Kb,{hidePostButton:!0,editorStateRef:N,isUpdating:w,editorId:M,editorKey:P,currentEditorKey:h,currentEditorId:g,placeholder:w?"Update your comment...":"Write a comment...",textContent:E||r,saveContent:v,onSubmit:b,filterQuery:c,onEmptyBackspace:y,startEditing:I,stopEditing:C,isEditing:!O&&S&&w,isEditable:!O&&T&&w,spellCheck:_,openHyperlinkPopup:R}))),s.createElement(Jb,Object.assign({},e,{_id:t,content:m})))};let ry=(0,c.$j)((()=>(0,E.zB)({user:(e,t)=>e.getIn(["users",t.userId]),isUpdating:Sb.yK,localText:Sb.K1})),(e=>({dispatchStopEditingComment:({_id:t})=>e((0,Cb.Vo)({_id:t})),dispatchStartEditingComment:({_id:t,elementId:n})=>e((0,Cb.KX)({_id:t,elementId:n})),dispatchCancelEditingComment:({_id:t})=>e((0,Cb.zd)({_id:t})),dispatchPreCommitContent:({_id:t,text:n})=>e((0,Cb.HE)({_id:t,text:n})),dispatchFinishEditingElement:()=>e((0,vs.gR)()),dispatchCommentsUpdate:({_id:t,text:n,userId:r})=>e((0,eb.H_)({_id:t,text:n,userId:r})),dispatchDeleteComment:({_id:t,userId:n})=>e((0,eb.VK)({_id:t,userId:n}))})))(ey=class extends s.Component{constructor(...e){super(...e),ty(this,"onEmptyBackspace",(()=>{const{_id:e,currentUserId:t,dispatchFinishEditingElement:n,dispatchDeleteComment:r}=this.props;n(),r({_id:e,userId:t})})),ty(this,"onEditCommentClick",(()=>{this.startEditing()})),ty(this,"startEditing",(()=>{const{startEditing:e,dispatchStartEditingComment:t,_id:n,currentUserId:r,userId:o,element:i}=this.props;if(r!==o)return;t({_id:n,elementId:(0,D.nRF)(i)});const s=(0,qe.GL)(this.props,`${n}-${Gv.lq}`),a=(0,qe.GL)(this.props,Gv.lq);e&&e({editorId:s,editorKey:a})})),ty(this,"stopEditingIfNoChanges",(()=>{const{text:e,localText:t}=this.props;t&&(0,Xs.Z)(t)&&(0,ea.Z)(t)!==(0,ea.Z)(e)?this.updateComment(t):this.stopEditing()})),ty(this,"stopEditing",(()=>{const{_id:e,dispatchCancelEditingComment:t,dispatchFinishEditingElement:n}=this.props;t({_id:e}),n()})),ty(this,"saveContent",(e=>{const{dispatchPreCommitContent:t,_id:n,isUpdating:r}=this.props;r&&t({text:e,_id:n})})),ty(this,"updateComment",(e=>{const{dispatchCommentsUpdate:t,dispatchFinishEditingElement:n,currentUserId:r,_id:o}=this.props;t({_id:o,text:e,userId:r}),n()}))}componentWillReceiveProps(e){e.isUpdating&&(0,Ye.R7)(this.props,e)&&At()(this.stopEditingIfNoChanges)}render(){const e={saveContent:this.saveContent,updateComment:this.updateComment,onEmptyBackspace:this.onEmptyBackspace,startEditing:this.startEditing,stopEditing:this.stopEditing,onEditCommentClick:this.onEditCommentClick};return s.createElement(ny,Object.assign({},this.props,e))}})||ey;ny.propTypes=ry.propTypes={element:l().object.isRequired,_id:l().string.isRequired,userId:l().string.isRequired,user:l().object,text:l().oneOfType([l().object,l().string]),localText:l().object,editorRef:l().func,startEditing:l().func,isEditing:l().bool,isEditable:l().bool,isUpdating:l().bool,inTrash:l().bool,spellCheck:l().bool,currentEditorKey:l().string,currentEditorId:l().string,saveContent:l().func,createdAt:l().number,currentUserId:l().string,permissions:l().number,dispatchStartEditingComment:l().func,dispatchStopEditingComment:l().func,dispatchCancelEditingComment:l().func,dispatchPreCommitContent:l().func,dispatchCommentsUpdate:l().func,dispatchDeleteComment:l().func,dispatchFinishEditingElement:l().func};const oy=ry;class iy extends s.Component{render(){const{commentList:e}=this.props;return e&&e.size?s.createElement("div",{className:"Thread"},e.reverse().map((e=>s.createElement(oy,Object.assign({},this.props,{key:(0,yb.v2)(e),_id:(0,yb.v2)(e),userId:(0,yb.n5)(e),text:(0,yb.Q)(e),content:(0,yb.GK)(e),createdAt:(0,yb.LG)(e)}))))):null}}iy.propTypes={commentList:l().object,currentUserId:l().string};const sy=iy;var ay=n(76810),ly=n.n(ay);var cy;function dy(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uy=s.createElement("div",{className:"CommentForm"},s.createElement("div",{className:"extra-padding"}));const my=()=>uy,py=ly().convert({fixed:!1}),hy=({element:e,currentUserId:t})=>(0,D.H8y)(e)===t,gy=({element:e,currentUserId:t,commentList:n})=>(!n||!n.size)&&hy({element:e,currentUserId:t}),fy=(0,E.zB)({currentUser:eo.ts,isReplying:(e,{element:t})=>(0,Sb.yK)(e,{_id:(0,D.nRF)(t)}),localText:(e,{element:t})=>(0,Sb.K1)(e,{_id:(0,D.nRF)(t)})});var Ey=s.createElement(my,null);let vy=(0,c.$j)(fy,(e=>({dispatchStopEditingComment:({_id:t})=>e((0,Cb.Vo)({_id:t})),dispatchStartEditingComment:({_id:t,elementId:n})=>e((0,Cb.KX)({_id:t,elementId:n})),dispatchPreCommitContent:({_id:t,text:n})=>e((0,Cb.HE)({_id:t,text:n})),dispatchClearPreCommitContent:({_id:t})=>e((0,Cb.ax)({_id:t})),dispatchFinishEditingElement:()=>e((0,vs.gR)()),dispatchCommentsTypingPing:({threadId:t})=>e((({threadId:e})=>({type:Gv.aQ,threadId:e,timestamp:(0,y.u3)(),sync:!0}))({threadId:t})),dispatchCommentsTypingStop:({threadId:t})=>e((({threadId:e})=>({type:Gv.XU,threadId:e,sync:!0}))({threadId:t}))})))(cy=class extends s.Component{constructor(...e){super(...e),dy(this,"onAddCommentClick",(()=>{this.startEditing()})),dy(this,"onEmptyBackspace",(()=>{const{element:e,dispatchStopEditingComment:t,dispatchFinishEditingElement:n,moveElementsToTrash:r}=this.props;gy(this.props)&&r(),t({_id:(0,D.nRF)(e)}),n(),this.stopTypingActivity()})),dy(this,"onSubmit",(e=>{const{onSubmit:t,element:n,dispatchFinishEditingElement:r,dispatchClearPreCommitContent:o}=this.props;this.stopTypingActivity(),r(),t(e),Ne()((()=>o({_id:(0,D.nRF)(n)})))})),dy(this,"startEditing",(()=>{const{startEditing:e,dispatchStartEditingComment:t,element:n}=this.props;if(!e)return;const r=(0,D.nRF)(n);t({_id:r,elementId:r}),e({editorId:`${r}-${Gv.lq}`,editorKey:Gv.lq})})),dy(this,"stopEditingIfEmpty",(()=>{const{element:e,dispatchStopEditingComment:t,isReplying:n,localText:r}=this.props;n&&!(0,Xs.Z)(r)&&t({_id:(0,D.nRF)(e)})})),dy(this,"saveContent",(e=>{const{dispatchPreCommitContent:t,element:n}=this.props;t({text:e,_id:(0,D.nRF)(n)})})),dy(this,"stopTypingActivity",(()=>{const{dispatchCommentsTypingStop:e,element:t}=this.props;this.clearAllTimeouts(),e({threadId:(0,D.s36)(t)})})),dy(this,"clearAllTimeouts",(()=>{this.stopTypingTimeout&&clearTimeout(this.stopTypingTimeout),this.broadcastActivity.cancel()})),dy(this,"broadcastActivity",py(y.yu.SECOND,(()=>{this.stopTypingTimeout&&clearTimeout(this.stopTypingTimeout);const{dispatchCommentsTypingPing:e,element:t}=this.props;e({threadId:(0,D.s36)(t)}),this.stopTypingTimeout=setTimeout(this.stopTypingActivity,5*y.yu.SECOND)}),{leading:!0,trailing:!1,maxWait:3*y.yu.SECOND}))}componentWillReceiveProps(e){e.isReplying&&(0,Ye.R7)(this.props,e)&&Ne()(this.stopEditingIfEmpty)}componentDidMount(){this.props.isCollapsedThread&&gy(this.props)&&this.startEditing()}componentWillUnmount(){this.clearAllTimeouts()}render(){const{isReplying:e,localText:t,currentUser:n,currentEditorKey:r,currentEditorId:o,isEditing:i,isEditable:a,isPresentational:l,isPreview:c,inTrash:d,activeUsers:u,openHyperlinkPopup:m,hideEditing:p,spellCheck:h,postButtonRef:g}=this.props;if((({element:e,currentUserId:t,commentList:n})=>!(n&&n.size||hy({element:e,currentUserId:t})))(this.props))return null;if(d)return Ey;if(!a&&!l&&!p)return null;const E=e||gy(this.props),v=u&&u.size,b=f()("CommentForm",{"showing-activity":v,replying:E,hide:p});if(!E)return s.createElement("div",{className:b},s.createElement(ho.Z,{className:"reply-button",onClickFn:this.onAddCommentClick},"Reply"));const y=(0,qe.s6)(this.props),I=(0,qe.iS)(this.props);return s.createElement(_b,{className:b,user:n},s.createElement(Kb,{isUpdating:!0,isPreview:c,postButtonRef:g,onActivity:this.broadcastActivity,editorId:y,editorKey:I,currentEditorKey:r,currentEditorId:o,placeholder:"Write a comment...",textContent:t,saveContent:this.saveContent,onSubmit:this.onSubmit,onEmptyBackspace:this.onEmptyBackspace,startEditing:this.startEditing,isEditing:i,isEditable:a,spellCheck:h,openHyperlinkPopup:m}))}})||cy;vy.propTypes={threadId:l().string.isRequired,onSubmit:l().func,startEditing:l().func,saveContent:l().func,dispatchStartEditingComment:l().func,dispatchStopEditingComment:l().func,dispatchPreCommitContent:l().func,dispatchClearPreCommitContent:l().func,moveElementsToTrash:l().func,element:l().object.isRequired,currentUserId:l().string,currentUser:l().object,isEditing:l().bool,isEditable:l().bool,isPresentational:l().bool,isPreview:l().bool,hideEditing:l().bool,inTrash:l().bool,spellCheck:l().bool,isCollapsedThread:l().bool,currentEditorKey:l().string,currentEditorId:l().string,commentList:l().object,isReplying:l().bool,localText:l().object,onEmptyBackspace:l().func,dispatchCommentsTypingStop:l().func,dispatchCommentsTypingPing:l().func,dispatchFinishEditingElement:l().func,activeUsers:l().object,openHyperlinkPopup:l().func,postButtonRef:l().object};const by=vy,yy=(0,E.zB)({creatorUser:(e,t)=>e.getIn(["users",t.creatorId]),isCreatorActive:(e,{threadId:t,creatorId:n})=>{const r=e.getIn(["remoteActivity","commentThreads",t,n]),o=(0,y.u3)();return vb(o)(r)}});var Iy=s.createElement("span",null," started this thread");const Cy=({creatorId:e,currentUserId:t,creatorUser:n,commentList:r,isCreatorActive:o})=>e===t||r&&r.size||o?null:s.createElement(_b,{className:"CommentThreadStartIndicator",user:n},s.createElement("span",{className:"user-name"},(0,_o.vz)(n)||"Someone"),Iy);Cy.propTypes={creatorId:l().string.isRequired,currentUserId:l().string.isRequired,threadId:l().string.isRequired,creatorUser:l().object,show:l().bool,commentList:l().object,isCreatorActive:l().bool};const Sy=(0,c.$j)(yy)(Cy);var Ty=n(42069),wy=s.createElement("span",null," ","is typing",s.createElement(Ty.Z,null));const Oy=({activeUsers:e,commentList:t})=>{if(!e||!e.size)return null;const n=t&&t.size>0;return s.createElement("div",{className:f()("CommentActivity",{"has-comments":n})},e.map((e=>s.createElement(_b,{user:e,key:(0,qr.n5)(e),active:!0},s.createElement("span",{className:"user-name"},(0,_o.vz)(e)||"Someone"),wy))))};Oy.propTypes={activeUsers:l().object,commentList:l().object};const _y=Oy;function Ry(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ay=n(12761);const Dy=e=>{const{element:t,tempSize:n,gridSize:r,isDragPreview:o}=e;if(o?(0,D.esd)(t):(0,yb.Em)(t))return;if(n){return{maxHeight:mr.bA(r,n).height}}const i=(0,D.DCx)(t);return i?{maxHeight:"none"===i?i:`${i}rem`}:void 0};var Ny=s.createElement("div",{className:"resize-handle-background"});const xy=e=>{const{elementId:t,currentBoardId:n,element:r,gridSize:o,inList:i,isLocked:a,isEditable:l,elementEvents:c,addComment:d,currentUserId:u,commentList:m,activeUsers:p,isSelected:h,isSingleSelected:g,permissions:E,tempSize:v,setElementSize:b,isDragging:y,style:I,isInPopup:C,hideEditing:S,hideComments:T,getContextZoomScale:_,getContextZoomTranslationPx:R}=e,A=s.useRef(),N=s.useRef(),x=s.useCallback((e=>{b&&b(e,A.current,N.current)}),[]);Ib(A,N,y);const M=(0,D.Lq4)(r),P=(0,D.s36)(r),L=(0,D.H8y)(r),k=f()("CommentThread drag-handle",{"has-comments":m&&m.size>0,"hide-comments":T,"hide-replies":S}),F=(0,w.UX)(k,e),B=(0,yb.Em)(r),j=g&&((0,$i.PY)(r)||i===Ay.L.IN_LIST_COLUMN)&&(0,ni.up)(E)&&!B,z=(0,D.dzi)(r),U=C?to.cv:(0,O.vg)("width",v)||z||to.cv,H=Object.assign({},I,(0,ns.bS)(U,o,i,I)),Z=i&&((0,D.DCx)(r)&&"none"!==(0,D.DCx)(r)||m.size>4),G=!a&&l&&!B&&(!i||Z);return s.createElement("div",Object.assign({id:(0,w.Oc)((0,D.nRF)(r)),className:F},c,{style:H}),s.createElement(_e,{colorName:M,isSelected:h}),s.createElement(ei.Z,{show:j,elementId:t,element:r,currentBoardId:n,gridSize:o,getContextZoomScale:_,getContextZoomTranslationPx:R}),s.createElement(Ae.Z,e),s.createElement("div",{ref:A,"data-ignore-touch-scroll":"true",className:"comment-thread-content-container",style:Dy(e)},s.createElement("div",{ref:N,className:"comment-thread-content"},s.createElement(Sy,{currentUserId:u,creatorId:L,threadId:P,commentList:m}),s.createElement(sy,Object.assign({},e,{commentList:m})),s.createElement(_y,{commentList:m,activeUsers:p}),s.createElement(by,Object.assign({},e,{threadId:P,onSubmit:d})),Ny,s.createElement(Ue,Object.assign({},e,{elementId:t,defaultMaxWidth:2*to.cv*o,showHandle:G,setElementSize:x})))))},My=(0,Se.qC)(ws({getMinWidth:rh()(to.cv),enableHeight:!0}),(e=>{class t extends s.Component{constructor(...e){super(...e),Ry(this,"onResizeComplete",((e,t,n)=>{const{elementId:r,element:o,gridSize:i,setElementSize:s,dispatchUpdateElement:a}=this.props,l={width:Math.max(Math.round(e.width),to.cv)},c=n?n.clientHeight:0,d=t?t.clientHeight:1/0;(c>d||!!(0,D.DCx)(o))&&(l.maxHeight=c>=e.height*i?Math.round(d/i):"none"),a&&a({id:r,changes:l}),s&&s(e)})),Ry(this,"handleDoubleClick",(()=>{const{elementId:e,element:t,dispatchUpdateElement:n}=this.props,r=(0,D.dzi)(t),o=(0,D.DCx)(t);if(r&&r!==to.cv||o)return n({id:e,changes:{width:null,maxHeight:null}})}))}render(){return s.createElement(e,Object.assign({},this.props,{handleDoubleClick:this.handleDoubleClick,setElementSize:this.onResizeComplete}))}}return t.propTypes={elementId:l().string,element:l().object,commentList:l().object,gridSize:l().number,setElementSize:l().func,dispatchUpdateElement:l().func},t})),Py=(0,Se.qC)((0,c.$j)((()=>{const e=(0,Jv.ki)(),t=(0,Un.y1)(bb,Oo.R,((e,{creatorId:t})=>t),((e,t,n)=>{if(!e)return Ht.Seq();const r=Date.now();return e.filter(vb(r)).map(((e,n)=>t.get(n))).sort((o=n,(e,t)=>e.get("_id")===o?-1:t.get("_id")===o?1:0)).valueSeq();var o}));return(0,E.P1)(eo.rc,((t,{element:n})=>e(t,{threadId:(0,D.s36)(n)})),((e,{element:n})=>t(e,{threadId:(0,D.s36)(n),creatorId:(0,D.H8y)(n)})),((e,t,n)=>({currentUserId:e,commentList:t,activeUsers:n})))})),(0,Se.WY)((({isPresentational:e})=>!e),My,_i()));xy.propTypes={elementId:l().string,currentBoardId:l().string,element:l().object.isRequired,gridSize:l().number,isDragging:l().bool,inList:l().string,isSelected:l().bool,isSingleSelected:l().bool,isEditing:l().bool,isEditable:l().bool,isLocked:l().bool,isHovered:l().bool,hideComments:l().bool,hideEditing:l().bool,onEmptyBackspace:l().func,elementEvents:l().object,filterQuery:l().string,addComment:l().func,currentUserId:l().string,commentList:l().object,activeUsers:l().object,permissions:l().number,tempSize:l().object,setElementSize:l().func,style:l().object,isInPopup:l().bool,getContextZoomScale:l().func,getContextZoomTranslationPx:l().func};const Ly=Py(xy);var ky=n(3911),Fy=n(36837),By=n(93618);const jy=["showCollapsed","translation","handleMode","isAttachMode"];const zy=e=>{const{showCollapsed:t,translation:n,handleMode:r}=e,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,jy),{elementId:i}=e,a=s.useRef(t),[l,c]=s.useState(t?(0,pr.aX)(n):null),[d,u]=s.useState(t?null:(0,pr.aX)(n)),[m]=s.useState((0,pr.c3)(ky.default.scaledGrabOffset));return s.useEffect((()=>{n&&a.current!==t&&(t?c((0,pr.aX)(n)):u((0,pr.aX)(n)))}),[t,n]),s.createElement("div",{className:t?"collapsed-thread":"expanded-thread"},s.createElement("div",{className:"CommentThreadDragPreviewTypeSwitch collapsed"},s.createElement(Eb,Object.assign({},o,{threadId:i,handleMode:r,style:l}))),s.createElement("div",{className:"CommentThreadDragPreviewTypeSwitch expanded",style:m},s.createElement(Ly,Object.assign({},o,{style:d}))))};zy.propTypes={elementId:l().string,showCollapsed:l().bool,translation:l().object,handleMode:l().string,isAttachMode:l().bool};const Uy=(0,E.zB)({isAttachMode:Ni.GB}),Hy=e=>(({initialCollapsed:e,showCollapsed:t,gridSize:n})=>{if(t===e)return e?ky.default.scaledGrabOffset:null;if(e){const e=(0,Fy.j)({element:Gv.lq,gridSize:n});return mr.Iu(ky.default.scaledGrabOffset,e)}return ky.default.scaledGrabOffset})(e),Zy=e=>{const{showCollapsed:t,gridSize:n,isSelected:r,isAttachMode:o}=e,[i,a]=s.useState(null),l=s.useRef(null),c=s.useRef(t),[d,u]=s.useState(Hy({showCollapsed:t,initialCollapsed:t,gridSize:n}));return(0,By.Z)((()=>{const e=Hy({showCollapsed:t,initialCollapsed:c.current,gridSize:n});u(e)}),[t]),s.useEffect((()=>(l.current=requestAnimationFrame((()=>{const t=(e=>{const{isAttachMode:t}=e;return t?"attach-mode":null})(e);a(t)})),()=>{l.current&&cancelAnimationFrame(l.current)})),[r,o]),s.createElement("div",{className:"CommentThreadDragPreview"},s.createElement(zy,Object.assign({handleMode:i,translation:d},e)))};Zy.propTypes={showCollapsed:l().bool,isSelected:l().bool,isAttachMode:l().bool,gridSize:l().number};const Gy=(0,c.$j)(Uy)(Zy),Ky=e=>e.showCollapsed?s.createElement(Eb,Object.assign({},e,{threadId:e.elementId})):s.createElement(Ly,e),Wy=e=>e.isDragPreview?s.createElement(Gy,e):s.createElement(Ky,e);Ky.propTypes=Wy.propTypes={elementId:l().string.isRequired,element:l().object.isRequired,showCollapsed:l().bool,disableCollapse:l().bool,isDragPreview:l().bool};const Vy=(0,c.$j)((()=>(0,E.zB)({showCollapsed:(0,E.P1)(((e,t)=>t.disableCollapse),((e,t)=>(0,D.esd)(t.element)),((e,t)=>(0,D.PRW)(t.element)),((e,t)=>t.isDragPreview),(e=>(0,Ni.GB)(e)),((e,t,n,r,o)=>!e&&(t&&(n!==Fi.WI.INBOX&&n!==Fi.WI.TRASH||r)||!r&&n===Fi.WI.ATTACHED||r&&o)))})))(Wy),$y=()=>((e={})=>(0,b.QS)(Object.assign({elementType:Gv.lq,objectConstructorFn:Wv,displayName:Gv.dp,editPermission:Kv.Ou.FEEDBACK,savePermission:Kv.Ou.FEEDBACK},e)))({containerComponent:ob,presentationalComponent:Vy,tools:[Ks.Tk.RICH_TEXT,Ks.Tk.COLOR,Ks.Tk.COLLAPSE],selectedTools:[Ws.z.COLOR,Ws.z.COLLAPSE,...Ws.l.MULTI_SELECT_ARRANGEMENT],editingTools:(0,Gs.cE)()?[]:[...Ws.l.TEXT_EDITING_INLINE]});var qy=n(75188);const Yy=e=>{const{content:t}=e;return Object.assign({},I(e),{elementType:qy.Kl,content:Object.assign({title:null,[qy.SZ]:!1},t)})};var Xy=n(76045),Qy=n(8567),Jy=n(60817);const eI=e=>!(0,Jy.rz)(e);var tI=n(75043);function nI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const rI=(0,E.zB)({elementLocalData:Ze.c}),oI=e=>({dispatchSuggestDeleteTasks:({id:t})=>e(mt({id:t,feature:tI.u.DELETE_COMPLETED_TASKS})),dispatchUnsuggestDeleteTasks:({id:t})=>e(pt({id:t,feature:tI.u.DELETE_COMPLETED_TASKS})),dispatchGetCompletedTasks:({taskListId:t})=>e((0,Xy.yt)({taskListId:t}))}),iI=e=>!!(()=>{switch((0,Gs.uT)()){case Bl.Q.ANDROID_BOARD_LIST:case Bl.Q.IOS_BOARD_LIST:return!1;case Bl.Q.IOS_CANVAS:case Bl.Q.IPAD_OS:default:return!0}})()&&(!(0,Jy.u3)(e)&&(!(0,D.YQ0)(e)&&!(0,Jy.F7)(e)));function sI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const aI=(0,$e.aU)("childElementIds"),lI=(0,$e.FB)("isEditingChild"),cI=(0,E.zB)({elementLocalData:Ze.c}),dI=e=>({dispatchSuggestTitle:({id:t})=>e(mt({id:t,feature:tI.u.TITLE}))});var uI=n(18446),mI=n.n(uI),pI=n(95521);const hI=()=>(0,E.P1)((0,Vi.P3)(pI.bj),(e=>({childElementIds:e}))),gI=e=>{var t;let n=(0,c.$j)(hI)(t=class extends s.Component{shouldComponentUpdate(e){return!Tp()(this.props,e,((e,t,n)=>{if("childElementIds"===n)return e===t||mI()(e,t)}))}render(){return s.createElement(e,this.props)}})||t;return n.propTypes={element:l().object.isRequired,childElementIds:l().array},n};var fI=n(60122);const EI=({props:e,monitor:t})=>{const n=t.getItem();return n.draggedElements&&n.draggedElements.every(Di.N2)||(0,fI.Z)(e,t)},vI=["largeTop","largeBottom","className"];const bI=e=>{let{largeTop:t,largeBottom:n,className:r}=e,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,vI);return s.createElement("div",Object.assign({},o,{className:f()("TaskStyler",r,{"large-top":t,"large-bottom":n})}))};bI.propTypes={className:l().string,largeTop:l().bool,largeBottom:l().bool};const yI=bI;var II,CI=n(73440);function SI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var TI=s.createElement(xt.Z,null),wI=s.createElement("div",{className:"fake-editor"},"Add a task...");let OI=(0,c.$j)(null,(e=>({dispatchCreateNewTask:({location:t,currentBoardId:n,creationSource:r})=>e((0,Qr.Yn)({creationSource:r,elementType:CI.A,location:t,currentBoardId:n,select:!1}))})))(II=class extends s.Component{constructor(...e){super(...e),SI(this,"createNewTask",(e=>{const{dispatchCreateNewTask:t,element:n,currentBoardId:r,elementEvents:o}=this.props;t({location:(0,$i.mK)({listId:(0,D.nRF)(n)}),currentBoardId:r}),o.onClick&&o.onClick(e)}))}render(){const{elementEvents:e,largeTop:t}=this.props;return s.createElement(yI,Object.assign({className:f()("EmptyTaskListPlaceholder",{"large-top":t})},e,{onClick:this.createNewTask}),TI,wI)}})||II;OI.propTypes={element:l().object.isRequired,currentBoardId:l().string,elementEvents:l().object,dispatchCreateNewTask:l().func,largeTop:l().bool};const _I=OI;var RI;function AI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let DI=(0,c.$j)(null,(e=>({dispatchStartEditingElement:({element:t})=>e((0,vs.TV)({id:(0,D.nRF)(t),editorId:(0,qe.s6)({element:t}),editorKey:(0,qe.iS)({element:t})}))})))(RI=class extends s.Component{constructor(...e){super(...e),AI(this,"onConfirm",(()=>{const{dispatchStartEditingElement:e,element:t,hideInstantly:n}=this.props;n(),this.onAcknowledgement(!0),e({element:t})})),AI(this,"onDismiss",(()=>this.onAcknowledgement(!1))),AI(this,"onAcknowledgement",(e=>{const{dispatchUpdateElement:t,element:n}=this.props;t({id:(0,D.nRF)(n),changes:{[qy.SZ]:e,[qy.Qm]:!0}})}))}render(){const{question:e,added:t}=this.props;return s.createElement(Eo,Object.assign({},this.props,{question:e,onConfirm:this.onConfirm,onDismiss:this.onDismiss,added:t}))}})||RI;DI.propTypes={element:l().object.isRequired,feature:l().string.isRequired,question:l().string.isRequired,added:l().bool,onConfirm:l().func,dispatchUpdateElement:l().func,dispatchStartEditingElement:l().func,hideInstantly:l().func};const NI=DI;var xI;function MI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let PI=(0,c.$j)(null,(e=>({dispatchMoveCompletedTasksToTrash:({taskListId:t,isEditable:n})=>e((0,Xy.L6)({taskListId:t,isEditable:n})),dispatchUnsuggestDeleteTasks:({id:t})=>e(pt({id:t,feature:tI.u.DELETE_COMPLETED_TASKS}))})))(xI=class extends s.Component{constructor(...e){super(...e),MI(this,"onConfirm",(e=>{const{dispatchMoveCompletedTasksToTrash:t,dispatchUnsuggestDeleteTasks:n,element:r,isEditable:o,hideInstantly:i}=this.props;e.preventDefault(),e.stopPropagation();const s=(0,D.nRF)(r);t({taskListId:s,isEditable:o}),n({id:s}),i()})),MI(this,"onDismiss",(()=>{const{dispatchUpdateElement:e,element:t}=this.props;e({id:(0,D.nRF)(t),changes:{[qy.oW]:!0}})}))}render(){const{question:e,added:t}=this.props;return s.createElement(Eo,Object.assign({},this.props,{question:e,onConfirm:this.onConfirm,onDismiss:this.onDismiss,added:t}))}})||xI;PI.propTypes={element:l().object.isRequired,feature:l().string.isRequired,question:l().string.isRequired,added:l().bool,onConfirm:l().func,dispatchUpdateElement:l().func,dispatchStartEditingElement:l().func,dispatchMoveCompletedTasksToTrash:l().func,dispatchUnsuggestDeleteTasks:l().func,hideInstantly:l().func,resetHide:l().func,isEditable:l().bool};const LI=PI,kI=[{feature:tI.u.TITLE,shouldShow:iI,question:"Add a title to this list?",component:NI},{feature:tI.u.DELETE_COMPLETED_TASKS,shouldShow:eI,question:"Delete completed tasks?",component:LI}],FI=(0,Se.lG)({possibleSuggestions:kI})(uo);var BI=n(24863);const jI=e=>s.createElement(BI.Z,Object.assign({},e,{className:f()("TitleEditor",e.className)}));jI.propTypes={className:l().string};const zI=(0,It.Z)(jI);function UI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class HI extends s.Component{constructor(...e){super(...e),UI(this,"saveTitle",(e=>{const{dispatchUpdateTitle:t,element:n}=this.props,r=(0,ea.Z)(e).replaceAll("\n","");t({id:(0,D.nRF)(n),title:r})}))}render(){const{element:e}=this.props;return s.createElement(zI,Object.assign({},this.props,{editorId:(0,qe.s6)(this.props),editorKey:(0,qe.iS)(this.props),textContent:(0,D.YQ0)(e),saveContent:this.saveTitle}))}}HI.propTypes={element:l().object.isRequired,dispatchUpdateTitle:l().func};const ZI=HI,GI=(e,{getEditorState:t,getProps:n})=>{const r=t(),o=r.getSelection(),i=o.getStartKey();if(o.getStartOffset()<r.getCurrentContent().getBlockForKey(i).getLength())return;e.stopPropagation(),e.preventDefault();const{goToNextTask:s}=n();s&&s()},KI=(e,t)=>{switch(e.keyCode){case Qt.nx.DOWN_ARROW:case Qt.nx.RIGHT_ARROW:return GI(e,t);case Qt.nx.TAB:return((e,{getProps:t})=>{const{goToNextTask:n}=t();e.preventDefault(),e.stopPropagation(),n&&n()})(e,t);default:return}};var WI=n(26722);const VI=(e,t,n)=>{const{getProps:r}=n,{submitTitle:o,createNewElement:i,saveCurrentContent:s}=r();return i&&((0,$.lk)(e)||(0,$.Up)(e))?(s(),At()((()=>i({creationSource:to.S1.CMD_ENTER}))),Wt.wz.handled):o&&!(0,$.p9)(e)?(s(),At()((()=>o())),Wt.wz.handled):(0,WI.Z)(e,t,n)},$I=/\r\n?|\n/g,qI=(e,t,n,{setEditorState:r})=>{if(!e)return Wt.wz.notHandled;const o=e.replace($I," ").trim();return r((0,Rn.Z)(o)(n)),Wt.wz.handled},YI=(0,Xt.Z)(),XI=[(0,cn.Z)(),{handleReturn:VI,keyBindingFn:KI,handlePastedText:qI},YI],QI=e=>{const t=()=>{const{goToNextTaskHandler:t,element:n}=e;t({elementId:(0,D.nRF)(n)})};return s.createElement(ZI,Object.assign({},e,{className:"TaskListTitleEditor",onEmptyBackspace:()=>{const{dispatchHideTitle:n,element:r}=e;n({id:(0,D.nRF)(r)}),t()},goToNextTask:t,placeholder:"New To-do List",plugins:XI}))};QI.propTypes={dispatchHideTitle:l().func,goToNextTaskHandler:l().func,element:l().object};const JI=QI,eC=(0,Rp.Z)([EI]),tC=e=>{const{currentBoardId:t,childElementIds:n,element:r,gridSize:o,inList:i,elementEvents:a,moveToTrashHandler:l,createNewTaskList:c,changeIndentationHandler:d,goToPreviousTaskHandler:u,goToNextTaskHandler:m,dispatchUpdateElement:p,onTaskToggle:h,isEditable:g,isEditingChild:E,isEditing:v,isSelected:b,tempSize:y,setParentHoveredChildAcceptsDrop:I,onStartBackspaceHandler:C,onEndDeleteHandler:S,onTaskListUpdatedHandler:T,isPresentational:_,isPresentationModeEnabled:R,permissions:A,getContextZoomScale:N,getContextZoomTranslationPx:x,selectThisElement:M,shouldFocusOnlyWhenSelected:P}=e,L=(0,O.P2)(["content","color"],r),k=(0,Jy.u3)(r),F=f()("TaskList drag-handle contrast-shadow",{"show-title":k,"no-title":!k,"editing-child":E,"focus-editing":P&&(v||E)}),B=(0,w.UX)(F,e),j=(0,D.nRF)(r),z=(0,D.dzi)(r),U=y&&y.width||z||to.cv,H=k||n.length>1,Z=n.length?null:s.createElement(_I,Object.assign({largeTop:!k},e));return s.createElement("div",Object.assign({id:(0,w.Oc)(j),className:B,style:(0,ns.bS)(U,o,i)},a),s.createElement(_e,{colorName:L,isSelected:b}),s.createElement(Jo,e),s.createElement(ei.Z,{show:(0,os.Z)(e),elementId:j,element:r,currentBoardId:t,gridSize:o,getContextZoomScale:N,getContextZoomTranslationPx:x}),s.createElement(Ae.Z,e),k&&s.createElement(JI,e),s.createElement(Wi,{gridSize:o,isPresentational:_,element:r,elementId:j,getContextZoomScale:N}),s.createElement(ts,{elementId:j,element:r,gridSize:o,isPresentational:_,currentBoardId:t,permissions:A}),s.createElement(xp.Z,Object.assign({},e,{depth:0,enableDoubleClick:!1,listId:j,setParentHoveredChildAcceptsDrop:I,listElementProps:{isParentTaskListSelected:b,taskListElementId:j,allowDrag:H,noTitle:!k,moveToTrashHandler:l,createNewTaskList:c,changeIndentationHandler:d,goToPreviousTaskHandler:u,goToNextTaskHandler:m,onStartBackspaceHandler:C,onEndDeleteHandler:S,onTaskListUpdatedHandler:T,depth:0,taskListOnMouseDown:a&&a.onMouseDown,taskListOnContextMenu:a&&a.onContextMenu,onTaskToggle:h,selectParentTaskList:M},placeholderComponent:Z,listCanDropFn:eC})),!R&&s.createElement(FI,{fullWidth:!0,isEditable:g,element:r,cardWidth:to.cv,dispatchUpdateElement:p}))};tC.propTypes={currentBoardId:l().string,element:l().object.isRequired,childElementIds:l().array,gridSize:l().number,isSelected:l().bool,isSingleSelected:l().bool,isPresentational:l().bool,inList:l().string,className:l().string,documentMode:l().bool,elementEvents:l().object,tempSize:l().object,permissions:l().number,createNewTaskList:l().func,isPresentationModeEnabled:l().bool,shouldFocusOnlyWhenSelected:l().bool,moveToTrashHandler:l().func,changeIndentationHandler:l().func,goToPreviousTaskHandler:l().func,goToNextTaskHandler:l().func,onStartBackspaceHandler:l().func,onEndDeleteHandler:l().func,onTaskListUpdatedHandler:l().func,dispatchUpdateElement:l().func,onTaskToggle:l().func,isEditable:l().bool,isEditing:l().bool,isEditingChild:l().bool,setParentHoveredChildAcceptsDrop:l().func,getContextZoomScale:l().func,getContextZoomTranslationPx:l().func,selectThisElement:l().func};const nC=tC;var rC,oC,iC;function sC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let aC=(rC=(0,c.$j)(null,(e=>({dispatchCreateAndEditNewElement:({location:t,currentBoardId:n,element:r,creationSource:o})=>e((0,Xy.b7)({location:t,currentBoardId:n,element:r,creationSource:o})),dispatchMoveTaskToTrash:t=>e((0,Xy.lE)(t)),dispatchIndentTask:t=>e((0,Xy.uD)(t)),dispatchUnIndentTask:t=>e((0,Xy.Cv)(t)),dispatchGoToPreviousTask:t=>e((0,Xy.mJ)(t)),dispatchGoToNextTask:t=>e((0,Xy.th)(t)),dispatchUpdateTitle:({id:t,title:n,transactionId:r})=>e((0,Qr.yj)({id:t,changes:{title:n},transactionId:r})),dispatchHideTitle:({id:t,transactionId:n})=>e((0,Qr.yj)({id:t,changes:{[qy.SZ]:!1},transactionId:n})),dispatchDeselectTaskList:({stopEditing:t})=>{t&&t(),e((0,vs.yJ)())},dispatchSubmitTaskTitle:({elementId:t})=>e((0,Xy.T)({taskListId:t})),dispatchJoinToPreviousTask:t=>e((0,Xy.t4)(t)),dispatchJoinNextTaskToThis:t=>e((0,Xy.jT)(t)),dispatchUpdateElement:({id:t,changes:n,transactionId:r})=>e((0,Qr.yj)({id:t,changes:n,transactionId:r}))}))),oC=Td({getMinWidth:cs()(to.cv),getDefaultMaxWidth:cs()(to.cv)}),(0,fs.Z)(iC=gI(iC=(0,Qy.Z)(iC=rC(iC=hs(iC=oC(iC=(e=>{var t;let n=(0,c.$j)(cI,dI)(t=class extends s.Component{constructor(...e){super(...e),sI(this,"onNewChildElement",(e=>{const{element:t,isEditingChild:n,elementLocalData:r}=e;iI(t)&&(at(r,tI.u.TITLE)||(n?(this.attachKeyDownListener(),this.debouncedOnKeyDown()):this.suggestTitle(e)))})),sI(this,"attachKeyDownListener",(()=>{this.keyDownListenerAttached||(this.keyDownListenerAttached=!0,document.addEventListener("keydown",this.debouncedOnKeyDown))})),sI(this,"removeKeyDownListener",(()=>{this.keyDownListenerAttached&&(this.keyDownListenerAttached=!1,document.removeEventListener("keydown",this.debouncedOnKeyDown))})),sI(this,"suggestTitle",(({dispatchSuggestTitle:e,element:t,childElementIds:n})=>{this.removeKeyDownListener(),n.length<=1||e({id:(0,D.nRF)(t)})})),sI(this,"onKeyDown",(()=>this.suggestTitle(this.props))),sI(this,"debouncedOnKeyDown",ot()(this.onKeyDown,1e3))}componentWillReceiveProps(e){aI(this.props,e)&&e.childElementIds.length>this.props.childElementIds.length&&this.onNewChildElement(e)}componentDidUpdate(e){this.keyDownListenerAttached&&lI(e,this.props)&&this.debouncedOnKeyDown()}render(){return s.createElement(e,this.props)}})||t;return n.propTypes={element:l().object.isRequired,childElementIds:l().array.isRequired,dispatchSuggestTitle:l().func,isEditingChild:l().bool},n})(iC=(e=>{var t;let n=(0,c.$j)(rI,oI)(t=class extends s.Component{constructor(...e){super(...e),nI(this,"onTaskToggle",(()=>{const{dispatchSuggestDeleteTasks:e,dispatchGetCompletedTasks:t,dispatchUnsuggestDeleteTasks:n,element:r,elementLocalData:o}=this.props;if(!eI(r))return;const i=t({taskListId:(0,D.nRF)(r)}),s=i&&!!i.size,a=i&&i.size>=2;s!==at(o,tI.u.DELETE_COMPLETED_TASKS)&&(a?e({id:(0,D.nRF)(r)}):n({id:(0,D.nRF)(r)}))}))}render(){return s.createElement(e,Object.assign({},this.props,{onTaskToggle:this.onTaskToggle}))}})||t;return n.propTypes={element:l().object.isRequired,elementLocalData:l().object,childElementIds:l().array.isRequired,dispatchSuggestDeleteTasks:l().func,dispatchUnsuggestDeleteTasks:l().func,dispatchGetCompletedTasks:l().func,isEditingChild:l().bool},n})(iC=class extends s.Component{constructor(...e){super(...e),sC(this,"onStartBackspaceHandler",(e=>{const{dispatchJoinToPreviousTask:t}=this.props;t(Object.assign({},this.props,e))})),sC(this,"onEndDeleteHandler",(e=>{const{dispatchJoinNextTaskToThis:t}=this.props;t(Object.assign({},this.props,e))})),sC(this,"moveToTrashHandler",(({elementId:e,focusNextTask:t,forward:n})=>{const{dispatchMoveTaskToTrash:r}=this.props;r(Object.assign({},this.props,{elementId:e,focusNextTask:t,forward:n}))})),sC(this,"changeIndentationHandler",(({elementId:e,increaseIndentation:t=!0})=>{const{dispatchIndentTask:n,dispatchUnIndentTask:r}=this.props;return t?n(Object.assign({},this.props,{elementId:e})):r(Object.assign({},this.props,{elementId:e}))})),sC(this,"goToPreviousTaskHandler",(({elementId:e})=>{const{dispatchGoToPreviousTask:t}=this.props;t(Object.assign({},this.props,{elementId:e}))})),sC(this,"goToNextTaskHandler",(({elementId:e})=>{const{dispatchGoToNextTask:t}=this.props;t(Object.assign({},this.props,{elementId:e}))})),sC(this,"deselectTaskList",(()=>{const{dispatchDeselectTaskList:e}=this.props;e(this.props)})),sC(this,"submitTaskTitle",(()=>{const{dispatchSubmitTaskTitle:e}=this.props;e(this.props)})),sC(this,"onTaskListUpdatedHandler",(()=>{const{element:e,dispatchUpdateElement:t}=this.props;t({id:(0,D.nRF)(e),changes:{}})}))}render(){const{connectLineEdgeDropTarget:e,canConnectLineEdge:t,createNewElement:n}=this.props;return(e&&t?e:us())(s.createElement("div",null,s.createElement(nC,Object.assign({},this.props,{submitTitle:this.submitTaskTitle,deselectTaskList:this.deselectTaskList,moveToTrashHandler:this.moveToTrashHandler,changeIndentationHandler:this.changeIndentationHandler,goToPreviousTaskHandler:this.goToPreviousTaskHandler,goToNextTaskHandler:this.goToNextTaskHandler,onStartBackspaceHandler:this.onStartBackspaceHandler,onEndDeleteHandler:this.onEndDeleteHandler,onTaskListUpdatedHandler:this.onTaskListUpdatedHandler,createNewTaskList:n}))))}})||iC)||iC)||iC)||iC)||iC)||iC)||iC)||iC);aC.propTypes={element:l().object.isRequired,children:l().array,childElementIds:l().array,currentBoardId:l().string,connectDropTarget:l().func,connectLineEdgeDropTarget:l().func,isHovered:l().bool,isPresentational:l().bool,inList:l().string,canConnectLineEdge:l().bool,dispatchCreateTaskList:l().func,dispatchJoinToPreviousTask:l().func,dispatchJoinNextTaskToThis:l().func,createNewElement:l().func,dispatchMoveTaskToTrash:l().func,dispatchIndentTask:l().func,dispatchUnIndentTask:l().func,dispatchGoToPreviousTask:l().func,dispatchGoToNextTask:l().func,dispatchDeselectTaskList:l().func,dispatchSubmitTaskTitle:l().func,dispatchUpdateElement:l().func};const lC=aC,cC=gI(nC),dC=({editorKey:e,selectedElements:t,selectedChildElements:n})=>!e&&1===n.filter(Di.N2).size,uC=()=>{const e=(e,t)=>e&&t===CI.A;return((e={})=>(0,b.QS)(Object.assign({elementType:qy.Kl,objectConstructorFn:Yy,displayName:qy.o8},e)))({containerComponent:lC,presentationalComponent:cC,tools:[Ks.Tk.ASSIGNMENT,Ks.Tk.TASK_RICH_TEXT,Object.assign({},Ks.Tk.COLOR,{predicate:(t,n,r,o,i)=>!e(o,i)}),Ks.Tk.TASK_COLOR,Object.assign({},Ks.Tk.TITLE,{predicate:(t,n,r,o,i)=>!e(o,i)})],selectedTools:[Ws.z.COLOR,Ws.z.TITLE,Object.assign({},Ws.z.DUE_DATE,{availabilityPredicate:dC}),Object.assign({},Ws.z.ASSIGNMENT,{availabilityPredicate:dC}),Object.assign({},Ws.z.REACTION,{availabilityPredicate:dC}),...Ws.l.MULTI_SELECT_ARRANGEMENT]})},mC=e=>{const{content:t}=e;return Object.assign({},I(e),{elementType:CI.A,content:Object.assign({textContent:null},t)})};var pC=n(85823),hC=n(25090),gC=n(75174),fC=n(88687),EC=n.n(fC);const vC=e=>{const t=e.getLastBlock(),n=t.getKey(),r=t.getLength();return Dt.SelectionState.createEmpty(n).merge({anchorKey:n,anchorOffset:r,focusKey:n,focusOffset:r,isBackward:!1,hasFocus:!0})},bC=e=>{if(!e)return null;const t=e.getFirstBlock().getKey();return Dt.SelectionState.createEmpty(t).merge({anchorKey:t,anchorOffset:0,focusKey:t,focusOffset:0,isBackward:!1,hasFocus:!0})},yC=(e,t,n)=>{const{getProps:r,setEditorState:o}=n,{saveCurrentContent:i,onEnter:s}=r();if((0,$.nY)(e))return Wt.wz.handled;if((0,$.lk)(e))return Wt.wz.handled;if((0,$.p9)(e)||!s)return(0,WI.Z)(e,t,n);const a=t.getCurrentContent(),l=a.hasText(),c=t.getSelection(),d=vC(a),u=c.equals(d),m=c.isCollapsed()&&0===c.getFocusOffset();if(i(),!l||u||m)return s({hasText:l,insertBefore:l&&m,mergeTransactions:!1}),Wt.wz.handled;const p=d.merge({anchorOffset:c.getEndOffset()}),h=d.merge({anchorOffset:c.getStartOffset()});let g=Dt.Modifier.removeRange(a,h,Wt.$4.forward);const f=c.merge({anchorOffset:c.getStartOffset(),focusOffset:c.getStartOffset(),isBackward:!0});g=g.set("selectionAfter",f);let E=Dt.EditorState.push(t,g,Wt.m_.REMOVE_RANGE);E=Dt.EditorState.acceptSelection(E,f),o(E);const v=EC()(a,p),b=Dt.ContentState.createFromBlockArray(v.toArray(),a.getEntityMap()),y=bC(b),I=(0,Dt.convertToRaw)(b);return i(E),s({hasText:l,newTaskTextContent:I,newTaskSelection:y,mergeTransactions:!0}),Wt.wz.handled};var IC=n(71762),CC=n.n(IC),SC=n(69937),TC=n.n(SC),wC=n(45712),OC=n.n(wC),_C=n(10329),RC=n.n(_C),AC=n(44300),DC=n.n(AC),NC=n(42128),xC=n.n(NC);const MC=(e,t,n,{setEditorState:r,getProps:o})=>{const i=(e=>{if(!e)return null;const t=OC().processHTML(e);if(!t)return null;const{contentBlocks:n,entityMap:r}=t,o=n.reduce(((e,t)=>(t.characterList.every((e=>e.hasStyle(jt.K2.STRIKETHROUGH)))&&e.push(t.getKey()),e)),[]);return{contentBlocks:n.map((e=>{const t=e.set("type",jt.K2.UNSTYLED);return Wr()(t.getKey(),o)?t.update("characterList",(e=>e.map((e=>Dt.CharacterMetadata.removeStyle(e,jt.K2.STRIKETHROUGH))))):t})),entityMap:r,completedBlocks:o}})(t)||((e,t)=>{if(!e||!t)return null;const n=DC()(e),r=Dt.CharacterMetadata.create({style:t.getCurrentInlineStyle(),entity:xC()(t.getCurrentContent(),t.getSelection())}),o=Dt.RichUtils.getCurrentBlockType(t);return{contentBlocks:OC().processText(n,r,o),entityMap:null,completedBlocks:[]}})(e,n);if(!i)return null;const{contentBlocks:s,entityMap:a,completedBlocks:l}=i,c=TC()(s),d=Wr()(c.getKey(),l),u=RC().createFromArray([c]),m=Dt.Modifier.replaceWithFragment(n.getCurrentContent(),n.getSelection(),u);r(Dt.EditorState.push(n,m.set("entityMap",a),Wt.m_.INSERT_FRAGMENT));const{createMultipleNewTasksWithContent:p,setComplete:h}=o();d&&h();return p(CC()(s).map((e=>(0,Dt.convertToRaw)(Dt.ContentState.createFromBlockArray([e],a)))),l),Wt.wz.handled},PC=(e,{getEditorState:t,getProps:n})=>{if(0!==t().getSelection().getStartOffset())return;e.stopPropagation(),e.preventDefault();const{goToPreviousTask:r}=n();r&&r()},LC="toggle-task",kC="join-prev-task",FC="join-next-task",BC="open-due-date-popup",jC=e=>(t,{getEditorState:n})=>{const r=n(),o=r.getCurrentContent(),i=r.getSelection(),s=e?vC(o):bC(o);if(i.equals(s))return e?FC:kC},zC=jC(!1),UC=jC(!0),HC=(e,t)=>e.keyCode===Qt.nx[2]&&(0,$.p9)(e)?(0,$.lk)(e)?BC:void 0:e.keyCode===Qt.nx.PERIOD&&(0,$.lk)(e)?LC:e.keyCode===Qt.nx.BACKSPACE?zC(e,t):e.keyCode===Qt.nx.DELETE?UC(e,t):e.keyCode===Qt.nx.LEFT_ARROW||e.keyCode===Qt.nx.UP_ARROW?PC(e,t):e.keyCode===Qt.nx.RIGHT_ARROW||e.keyCode===Qt.nx.DOWN_ARROW?GI(e,t):e.keyCode===Qt.nx.TAB?((e,{getProps:t})=>{const{changeIndentation:n}=t();e.preventDefault(),e.stopPropagation();const r=!(0,$.p9)(e);n&&n({increaseIndentation:r})})(e,t):void 0,ZC=(e,t,n,r)=>{const o=Dt.RichUtils.handleKeyCommand(t,e);if(o){const{setEditorState:e}=r;return e(o),Wt.wz.handled}switch(e){case BC:return((e,{getProps:t})=>{const{openDueDatePopup:n}=t();return n?(n(),Wt.wz.handled):Wt.wz.notHandled})(0,r);case LC:return((e,{getProps:t})=>{const{toggleComplete:n}=t();return n&&n(),Wt.wz.handled})(0,r);case kC:return((e,{getProps:t})=>{const{onStartBackspace:n}=t(),r=e.getCurrentContent(),o=(0,Dt.convertToRaw)(r);return n&&n({textContent:o}),Wt.wz.handled})(t,r);case FC:return((e,{getProps:t})=>{const{onEndDelete:n}=t(),r=e.getCurrentContent(),o=(0,Dt.convertToRaw)(r);return n&&n({textContent:o}),Wt.wz.handled})(t,r);default:return Wt.wz.notHandled}},GC=(e,t,n,{getProps:r})=>{if("@"!==e)return Wt.wz.notHandled;if(!(e=>{const t=e.getCurrentContent(),n=e.getSelection(),r=n.getStartKey(),o=n.getStartOffset(),i=t.getBlockForKey(r).getText();return o===i.length&&i.length>1&&" "===i[i.length-1]})(t))return Wt.wz.notHandled;const{openAssignmentPopup:o}=r();return o?(o(),Wt.wz.handled):Wt.wz.notHandled},KC=(0,Tt.i)({}),WC=(0,Tt.T)({}),VC=(0,Xt.Z)(),$C=rn(),qC={handleReturn:yC,handlePastedText:MC,handleBeforeInput:GC,keyBindingFn:HC,handleKeyCommand:ZC},YC=(0,on.Z)({enableBlockStyles:!1}),XC=(0,sn.Z)({enableBlockStyles:!1}),QC=[(0,cn.Z)(),(0,wt.Z)(),WC,KC,VC,qC,$C,YC,XC,(0,Ln.Z)()],JC=e=>s.createElement(BI.Z,Object.assign({},e,{plugins:QC,className:f()("TaskEditor",e.className)}));JC.propTypes={className:l().string};const eS=(0,It.Z)(JC),tS=e=>{const{element:t,editorRef:n,isEditable:r,isEditing:o,currentEditorKey:i,currentEditorId:a,filterQuery:l,saveContent:c,startEditing:d,stopEditing:u,onKeyboardDelete:m,changeIndentation:p,goToPreviousTask:h,goToNextTask:g,placeholder:f,spellCheck:E,createNewTask:v,onEnter:b,createNewTaskList:y,onAppUndo:I,onAppRedo:C,createMultipleNewTasksWithContent:S,setComplete:T,toggleComplete:w,dispatchOpenAssignmentPopup:O,dispatchOpenDueDatePopup:_,onStartBackspace:R,onEndDelete:A,shouldFocusOnlyWhenSelected:N}=e;return s.createElement(eS,{editorId:(0,qe.s6)(e),editorKey:(0,qe.iS)(e),currentEditorKey:i,currentEditorId:a,editorRef:n,isEditable:r,isEditing:o,placeholder:f||"Add a task...",textContent:(0,D.FBA)(t),filterQuery:l,saveContent:c,startEditing:d,stopEditing:u,onEmptyBackspace:m,onStartBackspace:R,onEndDelete:A,changeIndentation:p,goToPreviousTask:h,goToNextTask:g,createNewTask:v,createNewTaskList:y,createMultipleNewTasksWithContent:S,spellCheck:E,onAppUndo:I,onAppRedo:C,openAssignmentPopup:O,openDueDatePopup:_,onEnter:b,setComplete:T,toggleComplete:w,shouldFocusOnlyWhenSelected:N})};tS.propTypes={element:l().object.isRequired,elementId:l().string,isEditable:l().bool,isEditing:l().bool,filterQuery:l().string,saveContent:l().func,startEditing:l().func,stopEditing:l().func,moveElementsToTrash:l().func,onKeyboardDelete:l().func,changeIndentation:l().func,goToPreviousTask:l().func,goToNextTask:l().func,editorRef:l().func,currentEditorKey:l().string,currentEditorId:l().string,updateElementType:l().func,createNewTask:l().func,createNewTaskList:l().func,createMultipleNewTasksWithContent:l().func,placeholder:l().string,spellCheck:l().bool,shouldFocusOnlyWhenSelected:l().bool,onAppUndo:l().func,onAppRedo:l().func,onEnter:l().func,setComplete:l().func,toggleComplete:l().func,dispatchOpenAssignmentPopup:l().func,dispatchOpenDueDatePopup:l().func,onStartBackspace:l().func,onEndDelete:l().func};const nS=(0,c.$j)(null,(e=>({dispatchOpenAssignmentPopup:()=>e((0,hC.TN)()),dispatchOpenDueDatePopup:()=>e((0,gC.ei)())})))(tS),rS=e=>{const{childElementIds:t}=e;return t&&0!==t.length?s.createElement(xp.Z,e):null};rS.propTypes={childElementIds:l().array};const oS=rS,iS=({depth:e})=>({width:2.7*e+"rem"}),sS=({depth:e})=>s.createElement("div",{className:"TaskDepthIndent",style:iS({depth:e})});sS.propTypes={depth:l().number};const aS=(0,Se.Le)(sS);var lS=s.createElement("div",{className:"TaskDragHandle"},s.createElement(N.Z,{className:"Icon",name:"task-drag"}));const cS=({dragHandleWrapper:e})=>e(lS);cS.propTypes={dragHandleWrapper:l().func};const dS=cS;function uS(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mS=s.createElement("div",{className:"background"}),pS=s.createElement(N.Z,{name:"task-trash"});class hS extends s.Component{constructor(...e){super(...e),uS(this,"moveToTrash",(e=>{e.stopPropagation(),e.preventDefault();const{elementId:t,moveToTrashHandler:n}=this.props;return n({elementId:t})}))}render(){const{show:e}=this.props,t=e?s.createElement("div",{className:"TaskDeleteButton",onMouseDown:this.moveToTrash},mS,pS):null;return s.createElement("div",{className:"delete-button-container"},s.createElement(R(),{transitionName:"slide",transitionAppear:!0,transitionAppearTimeout:200,transitionEnterTimeout:200,transitionLeaveTimeout:200},t))}}hS.propTypes={show:l().bool,elementId:l().string.isRequired,moveToTrashHandler:l().func};const gS=hS,fS=({isOpen:e,popupId:t,pillRef:n})=>{const[r,o]=s.useState({width:0});return s.useEffect((()=>{if(!n||!n.current)return;if(!e&&!r.width)return;const t=n.current.getBoundingClientRect();o({width:t.width})}),[e]),s.createElement("div",{id:`${t}-target`,style:r,className:"popup-target"})};fS.propTypes={popupId:l().string.isRequired,isOpen:l().bool,pillRef:l().object};const ES=e=>{const{children:t,className:n,popupId:r,isOpen:o,active:i,populated:a}=e,l=s.useRef(),c=f()("TaskPill",n,{active:o||i,populated:a});return s.createElement("div",{ref:l,className:c},s.createElement("div",{className:"pill-contents"},s.createElement(fS,{isOpen:o,popupId:r,pillRef:l}),t))};ES.propTypes={children:l().oneOfType([l().arrayOf(l().node),l().node]),className:l().string,popupId:l().string.isRequired,active:l().bool,populated:l().bool,isOpen:l().bool};const vS=e=>{const{children:t,popupId:n,popup:r,dispatchCloseOtherPillPopups:o,isEditable:i}=e,a=s.useCallback((e=>{if(e)return o((e=>e.startsWith("task")&&e!==n))}),[]);return s.createElement("div",{className:"task-pill-container",onMouseDown:A.hE,onClick:A.hE},s.createElement(ve.ZP,{popupId:n,onToggle:a,disabled:!i},(n=>s.createElement(ES,Object.assign({},e,{isOpen:n}),t))),r)};vS.propTypes={children:l().oneOfType([l().arrayOf(l().node),l().node]),className:l().string,popupId:l().string.isRequired,popup:l().node,active:l().bool,populated:l().bool,popupIsOpen:l().bool,isEditable:l().bool,dispatchCloseOtherPillPopups:l().func};const bS=(0,c.$j)((()=>(0,E.P1)(((e,t)=>(0,P.wg)(t.popupId)(e,t)),(e=>({popupIsOpen:e})))),(e=>({dispatchOpenPopup:({popupId:t})=>e((0,k.Mw)(t)),dispatchCloseOtherPillPopups:t=>e((0,k.sj)({predicateFn:t}))})))(vS),yS=(0,E.P1)(P._W,((e,t)=>t.popupId),L.FP,((e,t,n)=>({isPopupOpen:e.has(t),gridSize:n}))),IS=e=>{const{children:t,className:n,popupId:r,isPopupOpen:o,dispatchClosePopup:i,gridSize:a}=e;return o?s.createElement(pe.Z,{selector:`#${r}-target`,className:f()("TaskPillPopup",n,"light"),arrowColor:"var(--ui-modal-background-primary)",arrowStrokeColor:"var(--ui-modal-background-primary)",arrowWidth:13,arrowHeight:8,arrowStrokeWidth:0,arrowStyle:{transform:"translate(0px, 0px)"},distance:10,offset:0,position:he.as.BOTTOM,gridSize:a,responsive:!0,pollPosition:!0},s.createElement(F.Z,Object.assign({},e,{visible:o,popupId:r,ignoredClicksSelector:".Toolbar",closePopup:()=>i(r)}),s.createElement("div",{className:"popup-content"},t))):null};IS.propTypes={children:l().oneOfType([l().arrayOf(l().node),l().node]),className:l().string,popupId:l().string.isRequired,isPopupOpen:l().bool,dispatchClosePopup:l().func,gridSize:l().number};const CS=(0,c.$j)(yS,(e=>({dispatchClosePopup:t=>e((0,k.j4)(t))})))(IS);var SS=n(58968),TS=n(51206);const wS=(0,E.P1)(Y.sb,(e=>{const t=(0,D.Oh5)(e);return(0,O.xb)(t)?null:(0,O.P2)([0,"assigneeId"],t)})),OS=(0,Un.hH)(((e,{searchTerm:t})=>t),wS,TS.S,SS.b),_S=(0,Un.y1)(OS,(e=>e.filter(Op()((0,O.vg)("disabled"))))),RS=(0,Un.y1)(OS,(e=>e.filter((0,O.vg)("disabled"))));var AS=n(47353),DS=n(61024),NS=n(34398),xS=s.createElement(NS.Z,{show:!0});const MS=e=>{const{searchTerm:t,setSearchTerm:n}=e,r=s.useRef();s.useEffect((()=>{setTimeout((()=>{r&&r.current&&r.current.focus()}))}),[]);return s.createElement("div",{className:"AssignmentSearchForm"},s.createElement("input",{ref:r,tabIndex:0,className:"input-field",placeholder:"Search",value:t,onChange:e=>n(e.target.value)}),xS)};MS.propTypes={searchTerm:l().string,setSearchTerm:l().func};const PS=MS;var LS=n(59465),kS=n(33529),FS=s.createElement(N.Z,{name:"notification-viewed"});const BS=e=>{const{currentlyAssignedUserId:t,suggestion:n,index:r,focusedIndex:o,onClickSuggestion:i,searchTerm:a}=e,[l,c]=(0,LS.Z)({focusedIndex:o,index:r}),d=t===n.id;return s.createElement(kS.Z,{entryRef:c,className:f()("AssignmentSuggestionEntry",{focused:l}),key:n.id,id:n.id,searchValue:a,mention:n,onMouseDown:()=>i(n)},d&&FS)};BS.propTypes={onClickSuggestion:l().func,suggestion:l().object,focusedIndex:l().number,index:l().number,searchTerm:l().string,currentlyAssignedUserId:l().string};const jS=BS;var zS=s.createElement("div",{className:"section-title"},"Not sharing this board");const US=e=>{const{enabledSuggestions:t,disabledSuggestions:n,searchTerm:r}=e;return t.length||n.length?s.createElement("div",{className:"AssignmentSuggestionResults"},t.map(((t,n)=>s.createElement(jS,Object.assign({key:t.id},e,{suggestion:t,index:n})))),n.length?s.createElement("div",{className:"AssignmentSuggestionsDisabled",key:"disabled-suggestions"},zS,n.map(((e,t)=>{const n=null!=e.id?e.id:e.name;return s.createElement(kS.Z,{key:n,mention:e,index:t,searchValue:r,id:`suggestion-option-${n}-${t}`})}))):null):null};US.propTypes={enabledSuggestions:l().array,disabledSuggestions:l().array,onClickSuggestion:l().func,focusedIndex:l().number,setFocusIndex:l().func,searchTerm:l().string};const HS=s.memo(US);var ZS=n(74699);const GS=(0,E.zB)({suggestions:OS,enabledSuggestions:_S,disabledSuggestions:RS,currentlyAssignedUserId:wS}),KS=(0,Se.qC)((0,Se.xJ)("searchTerm","setSearchTerm",""),(0,c.$j)(GS,(e=>({dispatchAssignTask:({elementId:t,popupId:n,suggestion:r})=>{r&&(e((0,hC.JM)({taskId:t,assigneeId:r.id,assigneeName:r.name})),e((0,k.j4)(n,!1)))},dispatchRemoveTaskAssignments:({elementId:t,popupId:n})=>{e((0,hC.ff)({id:t})),e((0,k.j4)(n))},dispatchClosePopup:t=>e((0,k.j4)(t,!1)),dispatchSetFocusToPopupInput:({elementId:t})=>e((0,vs.TV)({id:t,editorId:`${t}-assignment`,editorKey:"TASK"})),dispatch:e}))),(0,Se.vl)((e=>({initialFocusIndex:-1,listSize:e.enabledSuggestions?e.enabledSuggestions.length:0}))),(0,AS.Z)(),(0,Se.CA)({onClickSuggestion:({elementId:e,popupId:t,dispatchAssignTask:n})=>r=>n({elementId:e,popupId:t,suggestion:r}),onSubmit:e=>t=>{const{focusedIndex:n,enabledSuggestions:r,elementId:o,popupId:i,dispatchAssignTask:s}=e,a=r[n];a&&s({elementId:o,popupId:i,suggestion:a})},onClose:e=>t=>{const{dispatchClosePopup:n,popupId:r}=e;return n(r)},onDelete:e=>t=>{const{elementId:n,searchTerm:r,popupId:o,dispatchRemoveTaskAssignments:i}=e;if($r()(r))return t.preventDefault(),t.stopPropagation(),i({elementId:n,popupId:o})}}),(0,DS.Z)({listDirection:DS.q.VERTICAL})),WS=e=>((0,ZS.Z)(e),s.createElement("div",{className:"TaskAssignmentPopupContent"},s.createElement("div",{className:"search-section"},s.createElement(PS,{searchTerm:e.searchTerm,setSearchTerm:e.setSearchTerm})),s.createElement(HS,{currentlyAssignedUserId:e.currentlyAssignedUserId,searchTerm:e.searchTerm,focusedIndex:e.focusedIndex,enabledSuggestions:e.enabledSuggestions,disabledSuggestions:e.disabledSuggestions,onClickSuggestion:e.onClickSuggestion})));WS.propTypes={elementId:l().string,searchTerm:l().string,setSearchTerm:l().func,enabledSuggestions:l().array,disabledSuggestions:l().array,dispatchAssignTask:l().func,onClickSuggestion:l().func,focusedIndex:l().number,setFocusIndex:l().func,currentlyAssignedUserId:l().string,dispatchSetFocusToPopupInput:l().func,dispatchRemoveTaskAssignments:l().func};const VS=KS(WS),$S=e=>s.createElement(CS,Object.assign({},e,{className:"TaskAssignmentPopup"}),s.createElement(VS,e));$S.propTypes={popupId:l().string.isRequired,isPopupOpen:l().bool,dispatchClosePopup:l().func};const qS=$S,YS=({children:e,className:t,popupId:n,elementId:r,dispatchRemoveAssignments:o,populated:i,isEditable:a})=>s.createElement(bS,{className:f()("TaskAssignmentPill",t),popupId:n,elementId:r,onDelete:o,populated:i,isEditable:a,popup:s.createElement(qS,{popupId:n,elementId:r})},e);YS.propTypes={children:l().oneOfType([l().arrayOf(l().node),l().node]),className:l().string,popupId:l().string.isRequired,elementId:l().string.isRequired,dispatchRemoveAssignments:l().func,populated:l().bool,isEditable:l().bool};const XS=(0,c.$j)(null,(e=>({dispatchRemoveAssignments:({elementId:t})=>e((0,hC.ff)({id:t}))})))(YS),QS=e=>{const{element:t,isEditable:n}=e,r=(0,D.Oh5)(t),o=(0,D.nRF)(t);return s.createElement(s.Fragment,null,$r()(r)?s.createElement(XS,{popupId:`task-assignment-${o}-0`,elementId:o,isEditable:n},"Assign to…"):r.map(((t,n)=>s.createElement(XS,Object.assign({key:n,className:"assigned",popupId:`task-assignment-${o}-${n}`,assignment:t,elementId:o,populated:!0},e),"@",(0,O.vg)("assigneeName",t)))))};QS.propTypes={element:l().object,isEditable:l().bool};const JS=QS;var eT=n(93068),tT=s.createElement(K.Z,{show:!0});const nT=h()({loader:()=>n.e(5513).then(n.bind(n,27135)),loading:()=>tT}),rT=e=>s.createElement(CS,Object.assign({},e,{className:"TaskDueDatePopup"}),s.createElement(nT,e));rT.propTypes={popupId:l().string.isRequired,isPopupOpen:l().bool,dispatchClosePopup:l().func};const oT=rT;var iT=n(4193),sT=s.createElement(N.Z,{name:"reminder-bell-mini"});const aT=e=>{const{className:t,element:n,isEditable:r}=e,o=(0,D.nRF)(n),i=(0,eT.sX)(o),a=(0,D.Sw1)(n)&&!!(0,D.rZ9)(n),l=(0,D.zYj)(n),c=l&&l!==iT.v.NONE;return s.createElement(bS,{className:f()("TaskDueDatePill",t,(0,eT.O3)(n)),popupId:i,elementId:o,populated:a,isEditable:r&&lT(),popup:s.createElement(oT,{popupId:i,elementId:o})},c&&sT,(0,eT.VR)(n))},lT=()=>{switch((0,Gs.uT)()){case Bl.Q.ANDROID_BOARD_LIST:case Bl.Q.IOS_BOARD_LIST:return!1;case Bl.Q.IOS_CANVAS:case Bl.Q.IPAD_OS:default:return!0}};aT.propTypes={children:l().oneOfType([l().arrayOf(l().node),l().node]),className:l().string,element:l().object.isRequired,isEditable:l().bool};const cT=aT,dT=e=>s.createElement("div",{className:"task-reaction-pill-container"},s.createElement(Ci,Object.assign({},e,{className:"TaskReactionPill"}))),uT=e=>s.createElement(ui,Object.assign({},e,{className:"TaskAddReactionButton"})),mT=e=>{const{taskPillData:t}=e;switch(t.type){case"DUE_DATE":return s.createElement(cT,e);case"ASSIGNMENT":return s.createElement(JS,e);case"REACTION":return s.createElement(dT,Object.assign({},e,t));case"ADD_REACTION":return s.createElement(uT,e)}},pT=(0,E.zB)({currentUserId:eo.rc}),hT=(0,c.$j)(pT)((e=>{const{element:t,permissions:n}=e,r=((e,t)=>{const n=[];(0,D.Sw1)(e)&&n.push({type:"DUE_DATE",id:"DUE_DATE"}),(0,D.aDg)(e)&&n.push({type:"ASSIGNMENT",id:"ASSIGNMENT"});const r=(0,D.YmW)(e);(0,O.xb)(r)||(Object.values((0,ti.Fj)(r)).forEach((({emojiCode:e,userIds:t})=>{n.push({type:"REACTION",id:`REACTION-${e}`,emojiCode:e,userIds:t})})),((0,ni.Od)(t)||(0,ni.YC)(t))&&n.push({type:"ADD_REACTION",id:"ADD_REACTION"}));return n})(t,n);return $r()(r)?null:s.createElement("div",{className:"TaskPillsPanel"},r.map((t=>s.createElement(mT,Object.assign({key:t.id},e,{taskPillData:t})))))})),gT=(0,Rp.Z)([EI]),fT=e=>{const{element:t,elementEvents:n,onCheckboxPointerDown:r,taskListElementId:o,connectDragSource:i,gridSize:a,inList:l,allowDrag:c,moveToTrashHandler:d,onKeyboardDelete:u,changeIndentationHandler:m,goToPreviousTaskHandler:p,goToNextTaskHandler:h,depth:g=0,isFirstEntry:E,noTitle:v=!0,isEditable:b,taskListOnMouseDown:y,taskListOnContextMenu:I,createNewTaskList:C,documentMode:S,onTaskToggle:T,currentBoardId:O,onStartBackspaceHandler:_,onEndDeleteHandler:R,setParentHoveredChildAcceptsDrop:N,isPresentational:x,isDragPreview:M,permissions:P,getContextZoomScale:L,selectParentTaskList:k}=e,F=(0,pC.P)(t),B=b&&c,j=!S&&B&&(()=>{switch((0,Gs.uT)()){case Bl.Q.ANDROID_BOARD_LIST:case Bl.Q.IOS_BOARD_LIST:case Bl.Q.IOS_CANVAS:return!1;case Bl.Q.IPAD_OS:default:return!0}})(),z=f()("Task drag-handle",{completed:F,"drag-enabled":j}),U=(0,w.UX)(z,Object.assign({},e)),H=(0,D.nRF)(t),Z=i||_i(),G=j?s.createElement(dS,{dragHandleWrapper:B?Z:_i()}):null;return s.createElement("div",{id:(0,w.Oc)(H),className:U,style:(0,ns.bS)(to.cv,a,l)},s.createElement(Ko,e),s.createElement(yI,Object.assign({},n,{largeTop:v&&0===g&&E||M}),s.createElement(aS,{depth:g}),s.createElement(xt.Z,{checked:F,onPointerDown:r,onClick:b?A.hE:null}),s.createElement("div",{className:"task-body"},s.createElement(nS,e),s.createElement(hT,e)),G,s.createElement(gS,{show:b&&F,elementId:H,currentBoardId:O,moveToTrashHandler:d}),s.createElement(Wi,{setParentHoveredChildAcceptsDrop:N,gridSize:a,isPresentational:x,element:t,elementId:H,getContextZoomScale:L}),s.createElement(ts,{elementId:H,element:t,gridSize:a,isPresentational:x,currentBoardId:O,permissions:P})),s.createElement(oS,Object.assign({},e,{depth:g+1,enableDoubleClick:!1,listId:H,listElementProps:{taskListElementId:o,allowDrag:!0,onKeyboardDelete:u,moveToTrashHandler:d,createNewTaskList:C,changeIndentationHandler:m,goToPreviousTaskHandler:p,goToNextTaskHandler:h,onStartBackspaceHandler:_,onEndDeleteHandler:R,depth:g+1,taskListOnMouseDown:y,taskListOnContextMenu:I,onTaskToggle:T,selectParentTaskList:k},listCanDropFn:gT})))};fT.propTypes={element:l().object.isRequired,gridSize:l().number,inList:l().string,isLocked:l().bool,isSelected:l().bool,isEditing:l().bool,isEditable:l().bool,isHovered:l().bool,spellCheck:l().bool,startEditing:l().func,stopEditing:l().func,saveContent:l().func,moveElementsToTrash:l().func,onKeyboardDelete:l().func,documentMode:l().bool,currentEditorKey:l().string,currentEditorId:l().string,createNewCard:l().func,onEmptyBackspace:l().func,saveCaptionContent:l().func,elementEvents:l().object,tempSize:l().object,filterQuery:l().string,updateElementType:l().func,dispatchUpdateElement:l().func,toggleComplete:l().func,cardEditorRef:l().func,focusOnEditor:l().func,isClipping:l().bool,isClipDragging:l().bool,isClipCopy:l().bool,taskListElementId:l().string,connectDragSource:l().func,allowDrag:l().bool,moveToTrashHandler:l().func,changeIndentationHandler:l().func,goToPreviousTaskHandler:l().func,goToNextTaskHandler:l().func,onStartBackspaceHandler:l().func,onEndDeleteHandler:l().func,depth:l().number,noTitle:l().bool,isFirstEntry:l().bool,taskListOnMouseDown:l().func,taskListOnContextMenu:l().func,createNewTaskList:l().func,onCheckboxPointerDown:l().func,childElementIds:l().array,onTaskToggle:l().func,currentBoardId:l().string,permissions:l().number,isPresentational:l().bool,isDragPreview:l().bool,setParentHoveredChildAcceptsDrop:l().func,getContextZoomScale:l().func,selectParentTaskList:l().func};const ET=gI(fT);var vT,bT,yT,IT,CT,ST=n(5612),TT=n(87952);function wT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const OT=(0,$e.FB)("isEditing");let _T=(vT=(0,c.$j)(L.jE),bT=(0,c.$j)((()=>(0,E.zB)({currentlySelectedElementIds:Jr.Sp})),(e=>({dispatchMarkTaskAsComplete:({id:t,isComplete:n,transactionId:r})=>e((0,TT.we)({id:t,isComplete:n,transactionId:r})),dispatchSaveTextContent:({id:t,textContent:n,transactionId:r})=>e((0,Qr.yj)({id:t,changes:{textContent:n},transactionId:r})),dispatchCreateNewElement:({location:t,currentBoardId:n,content:r,creationSource:o,transactionId:i})=>e((0,Qr.LJ)({creationSource:o,elementType:CI.A,content:r,location:t,currentBoardId:n,select:!1,transactionId:i})),dispatchCreateAndEditNewElement:({location:t,currentBoardId:n,content:r,creationSource:o,transactionId:i,selection:s,dispatchSaveEditorSelection:a})=>e((0,Qr.bc)({creationSource:o,elementType:CI.A,content:r,location:t,currentBoardId:n,select:!1,selection:s,dispatchSaveEditorSelection:a,transactionId:i})),onAppUndo:()=>e((0,lr.wK)()),onAppRedo:()=>e((0,lr.b)()),dispatchGetMostRecentTransactionId:()=>e((0,lr.X0)()),dispatchGetNextUndoTransactionId:()=>e((0,lr.tJ)()),dispatchCreateNextNewTask:t=>e((0,Xy.wD)(t))}))),yT=(0,Se.CA)({createNewElement:({elementId:e,isFocusedForegroundElement:t,dispatchCreateNextNewTask:n,onTaskListUpdatedHandler:r})=>o=>(r&&r(),n(Object.assign({},o,{isFocusedForegroundElement:t,elementId:e}))),markTaskAsComplete:({dispatchMarkTaskAsComplete:e,onTaskListUpdatedHandler:t})=>n=>{t&&t(),e(n)}}),IT=(0,Mi.Z)(["dragModifierKeys"]),vT(CT=bT(CT=yT(CT=(0,Qy.Z)(CT=IT(CT=class extends s.Component{constructor(...e){super(...e),wT(this,"onClick",(e=>{const{isLocked:t,isEditable:n,isRemotelyActive:r,taskListElementId:o,dispatchHandleSelectionModeSelectElement:i,startEditing:s,isPresentationModeEnabled:a,isFocusedForegroundElement:l,selectParentTaskList:c,shouldFocusOnlyWhenSelected:d,currentlySelectedElementIds:u}=this.props;if(a&&!l)return c(e);if(!n||t)return;if(this.preventClick||e.preventSelect)return;if(e&&e.stopPropagation(),r)return;if(i(o,(0,ST.M)(e)),(0,ST.J)(e))return;const m=(0,O.su)(u);d&&(!m.includes(o)||u.size>1)||s({editorId:(0,qe.s6)(this.props),editorKey:(0,qe.iS)(this.props)})})),wT(this,"onMouseDown",(e=>(0,A.c)(e)?this.props.taskListOnMouseDown(e):this.props.elementEvents.onMouseDown(e))),wT(this,"onAppUndo",(()=>{const{onAppUndo:e}=this.props;e&&e(this.props)})),wT(this,"onAppRedo",(()=>{const{onAppRedo:e}=this.props;e&&e(this.props)})),wT(this,"onEnter",(({hasText:e,insertBefore:t,mergeTransactions:n,newTaskTextContent:r,newTaskSelection:o})=>{const{depth:i,createNewElement:s,dispatchSaveEditorSelection:a,dispatchGetMostRecentTransactionId:l}=this.props;if(!(e||0===i))return this.changeIndentation({increaseIndentation:!1});if(this.disableKeyHandlers)return;t||(this.disableKeyHandlers=!0);s({insertBefore:t,content:{textContent:r},selection:o,dispatchSaveEditorSelection:a,transactionId:n?l():void 0})})),wT(this,"onCheckboxPointerDown",(e=>{this.props.isEditable&&((0,A.c)(e)||(e.stopPropagation(),(0,Gs.cE)()||e.preventDefault(),this.toggleComplete()))})),wT(this,"onStartBackspace",(({textContent:e})=>{const{onStartBackspaceHandler:t,element:n}=this.props;this.disableKeyHandlers||t({elementId:(0,D.nRF)(n),textContent:e})})),wT(this,"onEndDelete",(({textContent:e})=>{const{onEndDeleteHandler:t,element:n}=this.props;this.disableKeyHandlers||t({elementId:(0,D.nRF)(n),textContent:e})})),wT(this,"setComplete",(()=>{const{isEditable:e,element:t,markTaskAsComplete:n}=this.props;if(!e)return;n({id:(0,D.nRF)(t),isComplete:!0})})),wT(this,"toggleComplete",(()=>{const{isEditable:e,element:t,markTaskAsComplete:n,onTaskToggle:r}=this.props;if(this.disableKeyHandlers)return;if(!e)return;n({id:(0,D.nRF)(t),isComplete:!(0,pC.P)(t)}),r&&r()})),wT(this,"changeIndentation",(({increaseIndentation:e})=>{const{element:t,changeIndentationHandler:n}=this.props;this.disableKeyHandlers||(this.editorComponent&&this.editorComponent.saveCurrentContent(),n({elementId:(0,D.nRF)(t),increaseIndentation:e}))})),wT(this,"goToPreviousTask",(()=>{const{element:e,goToPreviousTaskHandler:t,isFocusedForegroundElement:n}=this.props;this.disableKeyHandlers||t&&t({elementId:(0,D.nRF)(e),isFocusedForegroundElement:n})})),wT(this,"goToNextTask",(()=>{const{element:e,goToNextTaskHandler:t}=this.props;this.disableKeyHandlers||t&&t({elementId:(0,D.nRF)(e)})})),wT(this,"elementEvents",Object.assign({},this.props.elementEvents,{onMouseDown:this.onMouseDown,onClick:this.onClick,onContextMenu:this.props.taskListOnContextMenu})),wT(this,"saveContent",((e,t)=>{const{isEditable:n,element:r,dispatchSaveTextContent:o}=this.props;n&&o({id:(0,D.nRF)(r),textContent:e,transactionId:t})})),wT(this,"moveElementsToTrash",(()=>{const{moveToTrashHandler:e,element:t}=this.props;e&&e({elementId:(0,D.nRF)(t)})})),wT(this,"onKeyboardDelete",(({forward:e})=>{const{moveToTrashHandler:t,element:n}=this.props;t&&t({elementId:(0,D.nRF)(n),focusAnotherTask:!0,forward:e})})),wT(this,"editorRef",(e=>{this.editorComponent=e})),wT(this,"createMultipleNewTasksWithContent",((e,t)=>{const{dispatchCreateNewElement:n,dispatchCreateAndEditNewElement:r,element:o,currentBoardId:i,dispatchGetNextUndoTransactionId:s,elementId:a,getListIndex:l}=this.props;if(!e||!e.length)return;const c=l(a),d=s();Ne()((()=>{this.editorComponent&&this.editorComponent.saveCurrentContent();const a=s(),l=d===a?(0,po.k)():a;e.forEach(((s,a)=>{const d=(0,O.P2)(["blocks",0,"key"],s),u=Wr()(d,t),m=(0,$i.mK)({listId:(0,D.CKs)(o),index:c+1+a});(a===e.length-1?r:n)({location:m,currentBoardId:i,content:{textContent:s,isComplete:u},transactionId:l})}))}))}))}componentDidUpdate(e){OT(e,this.props)&&this.disableKeyHandlers&&(this.disableKeyHandlers=!1)}render(){const{createNewElement:e}=this.props;return s.createElement("div",null,s.createElement(ET,Object.assign({},this.props,{editorRef:this.editorRef,elementEvents:this.elementEvents,changeIndentation:this.changeIndentation,goToPreviousTask:this.goToPreviousTask,goToNextTask:this.goToNextTask,saveContent:this.saveContent,onCheckboxPointerDown:this.onCheckboxPointerDown,setComplete:this.setComplete,toggleComplete:this.toggleComplete,createNewTask:e,createMultipleNewTasksWithContent:this.createMultipleNewTasksWithContent,moveElementsToTrash:this.moveElementsToTrash,onKeyboardDelete:this.onKeyboardDelete,onStartBackspace:this.onStartBackspace,onEndDelete:this.onEndDelete,onAppUndo:this.onAppUndo,onAppRedo:this.onAppRedo,onEnter:this.onEnter})))}})||CT)||CT)||CT)||CT)||CT);_T.propTypes={elementId:l().string,element:l().object.isRequired,currentBoardId:l().string.isRequired,inList:l().string,gridSize:l().number,dispatchSaveTextContent:l().func,markTaskAsComplete:l().func,dispatchHandleSelectionModeSelectElement:l().func,startEditing:l().func,isLocked:l().bool,isEditable:l().bool,isRemotelyActive:l().bool,shouldFocusOnlyWhenSelected:l().bool,currentlySelectedElementIds:l().object,elementEvents:l().object,taskListElementId:l().string,dispatchGetMostRecentTransactionId:l().func,dispatchGetNextUndoTransactionId:l().func,dispatchCreateNewElement:l().func,dispatchCreateAndEditNewElement:l().func,createNewElement:l().func,dispatchCreateNextNewTask:l().func,moveToTrashHandler:l().func,changeIndentationHandler:l().func,goToPreviousTaskHandler:l().func,goToNextTaskHandler:l().func,onStartBackspaceHandler:l().func,onEndDeleteHandler:l().func,onTaskListUpdatedHandler:l().func,onAppUndo:l().func,onAppRedo:l().func,taskListOnMouseDown:l().func,taskListOnContextMenu:l().func,depth:l().number,getListIndex:l().func,dispatchSaveEditorSelection:l().func,onTaskToggle:l().func,isPresentationModeEnabled:l().bool,isFocusedForegroundElement:l().bool,selectParentTaskList:l().func};const RT=_T,AT=()=>((e={})=>(0,b.QS)(Object.assign({elementType:CI.A,objectConstructorFn:mC,displayName:CI.I},e)))({containerComponent:RT,presentationalComponent:ET,tools:[Ks.Tk.RICH_TEXT],editingTools:[Ws.z.COLOR,Ws.z.TITLE,Ws.z.DUE_DATE,Ws.z.ASSIGNMENT,Ws.z.REACTION,Ws.z.INDENT_INCREASE,Ws.z.INDENT_DECREASE],editingRangeTools:Ws.l.TEXT_EDITING_INLINE});var DT=n(79762);const NT=e=>{const{content:t}=e;return Object.assign({},I(e),{elementType:DT.xe,content:Object.assign({background:{color:ep.Uo.WHITE.name},width:DT.HH},t)})},xT=e=>{const{children:t,dimensions:n,enableCrop:r=!0,cropInset:o,gridSize:i,widthPx:a}=e,l=(0,Jl.ZP)({savedSize:n,roundSaved:!1,cropToGrid:r,cropInset:o,gridSize:i,widthPx:a});return s.createElement("div",{className:"CropToGridContainer",style:l},t)};xT.propTypes={children:l().oneOfType([l().arrayOf(l().node),l().node]),dimensions:l().object,enableCrop:l().bool,cropInset:l().number,gridSize:l().number,widthPx:l().number};const MT=xT,PT=({tempSize:e,element:t})=>{const n=(0,O.vg)("height",e);if(n)return{height:`${n}rem`};const r=(0,D.SJ9)(t);return r?{height:r/(nl.HR.LARGE.size*DT.TL)+"rem"}:null};var LT=s.createElement("div",{className:"icon-container"},s.createElement(N.Z,{name:"drawing-empty-placeholder"}));const kT=s.forwardRef((function(e,t){const{onDoubleClick:n}=e;return s.createElement("div",{ref:t,className:"EmptySketch",onDoubleClick:n,style:PT(e)},LT,s.createElement("div",{className:"text"},(0,Mt.oZ)()?"Double click to start drawing":"Double tap to start drawing"),s.createElement(wi,e))}));kT.propTypes={element:l().object,tempSize:l().object,onDoubleClick:l().func};const FT=kT,BT=e=>{const{elementEvents:t,gridSize:n,element:r,permissions:o,currentBoardId:i,isSelected:a,inList:l,isDragging:c,isPresentational:d,isEditable:u,isLocked:m,isRemotelyEdited:p,isResizing:h,editedDrawingId:g,setParentHoveredChildAcceptsDrop:E,dispatchDeselectAndNavigateToElement:v,drawingElementRef:b,emptyDrawingRef:y,getContextZoomScale:I,getContextZoomTranslationPx:C,isPresentationModeEnabled:S}=e,T=(0,D.nRF)(r);if(p||g===T)return null;const O=(0,D.A7z)(r)&&!(0,w.Nn)(e),_=(0,D.KTp)(r),R=(0,D.dFx)(r),A=(0,Te.yp)(R),N=!(l&&c),x=(0,it._2)(ht.A.TRANSPARENT)(r),M=(0,w.uR)(e),P=(0,w.Gn)(e),L=!m&&u&&!l,k=Object.assign({},(0,ns.bS)(M,n,l),{background:N&&A,"--ws-element-background-primary":N&&A}),F=()=>{S||v(T)},B=!!(0,D.DPh)(r),j=f()("Sketch drag-handle contrast-shadow",Object.assign({"background-color-target":a,"background-color-contrast-target":a,"hide-reactions":M<16},(0,Te.dW)(R,!0,ep.Uo))),z=(0,w.UX)(j,Object.assign({},e,{transparent:x})),U=(0,w.tw)(l);return s.createElement("div",Object.assign({id:(0,w.Oc)((0,D.nRF)(r)),ref:b,className:z},t,{style:k}),s.createElement(_e,{colorName:(0,D.Lq4)(r),isSelected:a}),s.createElement(ei.Z,{show:(0,os.Z)(e),elementId:T,element:r,currentBoardId:i,gridSize:n,getContextZoomScale:I,getContextZoomTranslationPx:C}),s.createElement(Ko,e),s.createElement(Ae.Z,e),B?s.createElement(MT,{enableCrop:!h,dimensions:(0,D._Ap)(r),cropInset:U,gridSize:n,widthPx:P},s.createElement(Bc,Object.assign({},e,{onDoubleClick:F}),s.createElement(wi,e))):s.createElement(FT,Object.assign({ref:y},e,{onDoubleClick:F})),s.createElement(Re.Z,Object.assign({},e,{padTop:!0,placeholder:"Add a description",textContent:_,captionVisible:O})),s.createElement(Wi,{setParentHoveredChildAcceptsDrop:E,isRelative:!0,gridSize:n,isPresentational:d,element:r,elementId:T,getContextZoomScale:I}),s.createElement(ts,{elementId:T,element:r,gridSize:n,isPresentational:d,currentBoardId:i,permissions:o}),!d&&s.createElement(Ue,Object.assign({},e,{elementId:T,showHandle:L})))};BT.propTypes={currentBoardId:l().string,element:l().object,gridSize:l().number,permissions:l().number,tempSize:l().object,elementEvents:l().object,inList:l().string,isSelected:l().bool,isSingleSelected:l().bool,isDragging:l().bool,isPresentational:l().bool,isEditable:l().bool,isLocked:l().bool,isRemotelySelected:l().bool,isRemotelyEdited:l().bool,isResizing:l().bool,isPresentationModeEnabled:l().bool,editedDrawingId:l().string,drawingElementRef:l().object,emptyDrawingRef:l().object,setParentHoveredChildAcceptsDrop:l().func,dispatchDeselectAndNavigateToElement:l().func,getContextZoomScale:l().func,getContextZoomTranslationPx:l().func};const jT=BT;function zT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const UT=(e,t,n)=>{if(!e||!t)return 0;const r=e.getBoundingClientRect(),o=t.getBoundingClientRect();return(r.height-o.height)/n};var HT,ZT,GT,KT;function WT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let VT=(HT=(0,Mi.Z)(["dragModifierKeys","canDrop"]),ZT=ws({getMinWidth:rh()(DT.TH),enableHeight:!0}),GT=(0,c.$j)(null,(e=>({dispatchDeselectAndNavigateToElement:t=>{e((0,vs.yJ)({sync:!1})),e((0,X.nI)({elementId:t}))}}))),(0,fs.Z)(KT=HT(KT=Cs(KT=ZT(KT=(e=>{class t extends s.Component{constructor(e){super(e),zT(this,"setElementSize",(e=>{const{setElementSize:t,element:n,gridSize:r,dispatchUpdateElement:o}=this.props;let i=Math.max(Math.round(e.width),DT.TH);const s=Math.max(Math.round(e.height),DT.TH),a={width:i};if(Math.abs(i-DT.HH)<=2&&(i=DT.HH,a.width=DT.HH),!(0,D.DPh)(n)){const e=UT(this.drawingElementRef.current,this.emptyDrawingRef.current,r),t=i*nl.HR.LARGE.size*DT.TL,n=Math.max(DT.tf,s-e)*nl.HR.LARGE.size*DT.TL;a.drawing={width:t,height:n-2*DT.TL}}o({id:(0,D.nRF)(n),changes:a}),t(e)})),zT(this,"setTempElementSize",(e=>{const{setTempElementSize:t,element:n,gridSize:r}=this.props;if(!e)return void t(e);let o=e;if(Math.abs(e.width-DT.HH)<=2&&(o=Object.assign({},o,{width:DT.HH})),!(0,D.DPh)(n)){const t=UT(this.drawingElementRef.current,this.emptyDrawingRef.current,r);o=Object.assign({},o,{height:Math.max(DT.tf,e.height-t)})}t(o)})),zT(this,"handleDoubleClick",(e=>(e.preventDefault(),e.stopPropagation(),this.setElementSize({width:DT.HH})))),this.drawingElementRef=s.createRef(),this.emptyDrawingRef=s.createRef()}render(){return s.createElement(e,Object.assign({},this.props,{drawingElementRef:this.drawingElementRef,emptyDrawingRef:this.emptyDrawingRef,setTempElementSize:this.setTempElementSize,setElementSize:this.setElementSize,handleDoubleClick:this.handleDoubleClick}))}}return t.propTypes={element:l().object,gridSize:l().number,dispatchUpdateElement:l().func,setElementSize:l().func,setTempElementSize:l().func},t})(KT=GT(KT=class extends s.Component{constructor(...e){super(...e),WT(this,"handleKey",(e=>{const{isSelected:t,captionKeyHandler:n}=this.props;t&&n(e,this.props)}))}render(){const{connectLineEdgeDropTarget:e,canConnectLineEdge:t}=this.props;return(e&&t?e:us())(s.createElement("div",{className:"SketchContainer",onKeyDown:this.handleKey,tabIndex:"-1"},s.createElement(jT,this.props)))}})||KT)||KT)||KT)||KT)||KT)||KT);VT.propTypes={element:l().object.isRequired,canConnectLineEdge:l().bool,isSelected:l().bool,connectLineEdgeDropTarget:l().func,captionKeyHandler:l().func};const $T=VT,qT=h()({loader:()=>n.e(5680).then(n.bind(n,22598)),loading:()=>null}),YT=()=>((e={})=>(0,b.QS)(Object.assign({elementType:DT.xe,objectConstructorFn:NT,displayName:DT.uX,displayNamePlural:DT.J$},e)))({presentationalComponent:jT,containerComponent:$T,modalComponent:qT,tools:[Object.assign({},Ks.Tk.COLOR,{name:"Background"}),Ks.Tk.EDIT_DRAWING,Ks.Tk.CAPTION,Ks.Tk.REACTION],selectedTools:[Object.assign({},Ws.z.COLOR,{name:"Background"}),Ws.z.EDIT_DRAWING,Ws.z.CAPTION,Ws.z.REACTION,...Ws.l.MULTI_SELECT_ARRANGEMENT],editingTools_CAPTION:(0,Gs.cE)()?[]:Ws.l.TEXT_EDITING_CAPTION});var XT=n(82681);const QT=e=>{const{content:t}=e;return Object.assign({},I(e),{elementType:XT.Mc,content:Object.assign({transparent:{enabled:!0}},t)})},JT=e=>{const{elementEvents:t,gridSize:n,element:r,tempSize:o,isSelected:i,inList:a,isDragging:l,isPresentational:c,isEditable:d,isLocked:u,isRemotelyEdited:m,editedDrawingId:p,dispatchEditAnnotationElement:h,drawingElementRef:g}=e,E=(0,D.nRF)(r);if(m||p===E)return null;const v=(0,D.dFx)(r),b=(0,Te.yp)(v),y=!(a&&l),I=(0,it._2)(ht.A.TRANSPARENT)(r),C=(0,D.dzi)(r),S=(0,O.vg)("width",o)||C||to.cv,T=!u&&d&&!a&&S>=XT.Vx,_=Object.assign({},(0,ns.bS)(S,n,a),{background:y&&b,"--ws-element-background-primary":y&&b}),R=f()("Annotation",Object.assign({"drag-handle":!I,"background-color-target":i,"background-color-contrast-target":i},(0,Te.dW)(v))),A=(0,w.UX)(R,Object.assign({},e,{transparent:I}));return s.createElement("div",Object.assign({id:(0,w.Oc)((0,D.nRF)(r)),ref:g,className:A},t,{style:_}),s.createElement(Bc,Object.assign({},e,{onDoubleClick:()=>{d&&h(E)}})),!c&&s.createElement(Ue,Object.assign({},e,{elementId:E,showHandle:T})))};JT.propTypes={currentBoardId:l().string,element:l().object,gridSize:l().number,permissions:l().number,tempSize:l().object,elementEvents:l().object,inList:l().string,isSelected:l().bool,isDragging:l().bool,isPresentational:l().bool,isEditable:l().bool,isLocked:l().bool,isRemotelySelected:l().bool,isRemotelyEdited:l().bool,editedDrawingId:l().string,drawingElementRef:l().object,emptyDrawingRef:l().object,setParentHoveredChildAcceptsDrop:l().func,dispatchEditAnnotationElement:l().func,dispatchDeselectAndNavigateToElement:l().func};const ew=JT;var tw,nw=n(62880),rw=n(19018),ow=n(52347),iw=n(56863);const sw=(0,E.zB)({editedDrawingId:ow.Oc}),aw=(0,E.zB)({isRemotelyEdited:(0,E.P1)(((e,{element:t})=>(0,D.nRF)(t)),iw.K,((e,t)=>t.indexOf(e)>-1))});let lw=(0,Mi.Z)(["dragModifierKeys","canDrop"])(tw=ws({getMinWidth:rh()(XT.Vx),enableHeight:!0})(tw=Td({getMinWidth:rh()(XT.Vx),getDefaultMaxWidth:({element:e})=>(0,D.NO5)(e)})(tw=(0,c.$j)(sw,(e=>({dispatchEditAnnotationElement:t=>e((0,rw.A5)({elementId:t}))})))(tw=(0,nw.Z)(aw)(tw=class extends s.Component{render(){return s.createElement("div",{className:"AnnotationContainer"},s.createElement(ew,this.props))}})||tw)||tw)||tw)||tw)||tw;lw.propTypes={element:l().object.isRequired,canConnectLineEdge:l().bool,isSelected:l().bool,connectLineEdgeDropTarget:l().func,captionKeyHandler:l().func};const cw=lw,dw=()=>((e={})=>(0,b.QS)(Object.assign({elementType:XT.Mc,objectConstructorFn:QT,displayName:XT.eq,editPermission:Kv.Ou.FEEDBACK,savePermission:Kv.Ou.FEEDBACK},e)))({presentationalComponent:ew,containerComponent:cw,tools:[Ks.Tk.EDIT_DRAWING],selectedTools:[Ws.z.EDIT_DRAWING,...Ws.l.MULTI_SELECT_ARRANGEMENT]});var uw=n(11535);const mw=e=>{const{content:t}=e;return Object.assign({},I(e),{elementType:uw.KY,content:Object.assign({width:uw.X,media:{height:nl.HR.LARGE.size*uw.ug,width:nl.HR.LARGE.size*uw.X}},t)})};var pw=n(41080),hw=n(69412),gw=n(46716);const fw=e=>{var t;const{element:n,isEditing:r,isEditable:o,isSelected:i,currentEditorKey:a,dispatchStartEditing:l,dispatchStopEditing:c,dispatchUpdateColor:d}=e,u=(0,D.nRF)(n),m=(0,D.Lq4)(n),p=null===(t=(0,gw.AE)(m))||void 0===t?void 0:t.toUpperCase(),h=(0,s.useCallback)((()=>{l({id:u,editorId:(0,qe.s6)(e),editorKey:(0,qe.iS)(e)})}),[u]),g=(0,s.useCallback)((({keepSelection:e})=>{c({id:u,keepSelection:e})}),[u]),f=(0,s.useCallback)((e=>{if(e===p)return null;d({element:n,color:e})}),[n]);return s.createElement("div",{className:"ColorSwatchContentEditable",style:{color:(0,Te.zm)(m)}},s.createElement(pw.Z,{selectAllOnEdit:!0,selectFirst:!0,isEditing:r&&a===uw.gD,isEditable:o,isSelected:i,onStartEditing:h,onStopEditing:g,onUpdate:f},p))};fw.propTypes={element:l().object.isRequired,isEditing:l().bool,isEditable:l().bool,isSelected:l().bool,currentEditorKey:l().string,dispatchStartEditing:l().func,dispatchStopEditing:l().func,dispatchUpdateColor:l().func};const Ew=(0,c.$j)(null,(e=>({dispatchStartEditing:({id:t,editorKey:n,editorId:r})=>e((0,vs.TV)({id:t,editorKey:n,editorId:r})),dispatchStopEditing:({id:t,keepSelection:n=!1})=>{e((0,vs.gR)(t)),!n&&e((0,vs.yJ)())},dispatchUpdateColor:({element:t,color:n})=>{e((0,hw.x$)({elements:[t],color:n}))}})))(fw),vw=e=>{const{element:t,gridSize:n,inList:r,tempMediaSize:o,registerMediaElement:i,cropToGrid:a,onDoubleClick:l}=e,c=(0,D.Lq4)(t),d=(0,Te.yp)(c)||"#FFFFFF",u=(0,w.Gn)(e),m=(0,w.tw)(r),p=(0,D.omV)(t),h=(0,Jl.ZP)({savedSize:p,forcedSize:o,roundSaved:!1,cropToGrid:a,cropInset:m,gridSize:n,widthPx:u}),g=o||p,f=!((0,O.vg)("width",g)/n<15)&&(0,D.cQ0)(t);return(i||_i())(s.createElement("div",{className:"ColorSwatchRenderer",style:Object.assign({},h,{background:d}),onDoubleClick:l},f&&s.createElement(Ew,e),s.createElement(wi,e)))};vw.propTypes={element:l().object.isRequired,inList:l().string,gridSize:l().number,tempMediaSize:l().object,registerMediaElement:l().func,cropToGrid:l().bool,isDragging:l().bool,onDoubleClick:l().func};const bw=vw,yw=e=>{const{currentBoardId:t,elementId:n,element:r,gridSize:o,inList:i,tempSize:a,elementEvents:l,isEditable:c,isLocked:d,permissions:u,isPresentational:m,setParentHoveredChildAcceptsDrop:p,getContextZoomScale:h,getContextZoomTranslationPx:g,onSwatchDoubleClick:f}=e,E=(0,D.KTp)(r),v=(0,D.A7z)(r)&&!(0,w.Nn)(e),b=(0,D.dzi)(r),y=a&&a.width||b||to.cv,I=(0,w.UX)("ColorSwatch drag-handle",e,{"small-width":y<=15,"caption-visible":v});return s.createElement("div",Object.assign({id:(0,w.Oc)(n),className:I,style:(0,ns.bS)(y,o,i)},l),s.createElement(ei.Z,{show:(0,os.Z)(e),elementId:n,element:r,currentBoardId:t,gridSize:o,getContextZoomScale:h,getContextZoomTranslationPx:g}),s.createElement(Ko,e),s.createElement(Jo,e),s.createElement(Ae.Z,e),s.createElement(bw,Object.assign({onDoubleClick:f},e)),s.createElement(Re.Z,Object.assign({},e,{padTop:!0,placeholder:"Add a caption",textContent:E,captionVisible:v})),s.createElement(Wi,{setParentHoveredChildAcceptsDrop:p,isRelative:!0,gridSize:o,isPresentational:m,element:r,elementId:n,getContextZoomScale:h}),s.createElement(ts,{elementId:n,element:r,gridSize:o,isPresentational:m,currentBoardId:t,permissions:u}),s.createElement(Ue,Object.assign({},e,{showHandle:!d&&c&&!i})))};yw.propTypes={currentBoardId:l().string,elementId:l().string,element:l().object.isRequired,gridSize:l().number,isSelected:l().bool,isSingleSelected:l().bool,isEditing:l().bool,inList:l().string,uploadFile:l().func,isHovered:l().bool,tempSize:l().object,className:l().string,documentMode:l().bool,elementEvents:l().object,isEditable:l().bool,isLocked:l().bool,filterQuery:l().string,filterState:l().string,permissions:l().number,isPresentational:l().bool,setParentHoveredChildAcceptsDrop:l().func,getContextZoomScale:l().func,getContextZoomTranslationPx:l().func,onSwatchDoubleClick:l().func};const Iw=yw;var Cw=n(82028),Sw=n(54490);const Tw=({currentEditorId:e,element:t})=>{const n=e===(0,qe.zj)(t,uw.v1),r=(()=>{switch((0,Gs.uT)()){case Bl.Q.ANDROID_BOARD_LIST:return!1;case Bl.Q.IOS_BOARD_LIST:case Bl.Q.IOS_CANVAS:case Bl.Q.IPAD_OS:default:return!0}})()&&n,o=(0,s.useMemo)((()=>new EventTarget),[]);return(0,s.useEffect)((()=>{r&&o.dispatchEvent(new Sw.u)}),[r,o]),r?s.createElement(Cw.Z,{openerEventTarget:o,elements:(0,Ht.List)([t])}):null};function ww(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ow,_w,Rw,Aw,Dw;function Nw(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const xw=(0,E.zB)({gridSize:L.FP});let Mw=(Ow=(0,c.$j)(xw,((e,{element:t})=>({dispatchStartEditingColorPicker:()=>e((0,vs.TV)({id:(0,D.nRF)(t),editorId:`${(0,D.nRF)(t)}-${uw.v1}`,editorKey:uw.v1}))}))),_w=(0,Mi.Z)(["dragModifierKeys","canDrop"]),Rw=ws({getMinWidth:cs()(uw.aA),enableHeight:!0}),Aw=Md({getMinWidth:cs()(uw.aA),getMinHeight:cs()(uw.KK),getIsEnabled:()=>!0}),Ow(Dw=(0,fs.Z)(Dw=_w(Dw=Cs(Dw=Rw(Dw=Aw(Dw=(e=>{class t extends s.Component{constructor(...e){super(...e),ww(this,"handleDoubleClick",(e=>{const{setMediaSize:t}=this.props;return e.preventDefault(),e.stopPropagation(),t({width:nl.HR.LARGE.size*uw.X,height:nl.HR.LARGE.size*uw.ug})}))}render(){return s.createElement(e,Object.assign({},this.props,{handleDoubleClick:this.handleDoubleClick}))}}return t.propTypes={setMediaSize:l().func},t})(Dw=class extends s.Component{constructor(...e){super(...e),Nw(this,"setElementSize",(e=>{const{setElementSize:t}=this.props;return t(e)})),Nw(this,"handleKey",(e=>{this.props.isSelected&&this.props.captionKeyHandler(e,this.props)}))}render(){const{connectLineEdgeDropTarget:e,canConnectLineEdge:t,dispatchStartEditingColorPicker:n,currentEditorId:r,element:o}=this.props;return(e&&t?e:us())(s.createElement("div",{className:"ColorSwatchContainer"},s.createElement(Qd,{element:o}),s.createElement(Tw,{currentEditorId:r,element:o}),s.createElement(Iw,Object.assign({},this.props,{handleKey:this.handleKey,setElementSize:this.setElementSize,cropToGrid:!this.props.isResizing,onSwatchDoubleClick:n}))))}})||Dw)||Dw)||Dw)||Dw)||Dw)||Dw)||Dw);Mw.propTypes={element:l().object.isRequired,attachment:l().object,connectDropTarget:l().func,connectLineEdgeDropTarget:l().func,isSelected:l().bool,captionKeyHandler:l().func,inList:l().string,setElementSize:l().func,boardSection:l().string,canConnectLineEdge:l().bool,isResizing:l().bool,dispatchStartEditingColorPicker:l().func,currentEditorKey:l().string,currentEditorId:l().string};const Pw=Mw,Lw=()=>((e={})=>(0,b.QS)(Object.assign({elementType:uw.KY,objectConstructorFn:mw,displayName:uw.S$},e)))({containerComponent:Pw,presentationalComponent:Iw,tools:[Ks.Tk.CUSTOM_COLOR,Ks.Tk.COLOR_DISPLAY,Ks.Tk.CAPTION,Ks.Tk.REACTION],tooltip:Mt.mL?"⌃⌘N":"Ctrl+Alt+N",selectedTools:[Ws.z.CUSTOM_COLOR,Ws.z.COLOR_DISPLAY,Ws.z.CAPTION,Ws.z.REACTION,...Ws.l.MULTI_SELECT_ARRANGEMENT],editingTools:Ws.l.TEXT_EDITING_CAPTION});var kw=n(906),Fw=n(54301);const Bw=e=>{const{content:t}=e,n=(0,kw.Z4)((0,kw.PG)(Fw.gQ,Fw.An)),r=Array.from({length:Fw.An},((e,t)=>{const n=Math.round(to.cv/Fw.An*10)/10;if(t!==Fw.An-1)return n;const r=(Fw.An-1)*n;return to.cv-r}));return Object.assign({},I(e),{elementType:Fw.vj,content:Object.assign({tableContent:{data:n,colWidthsGU:r},width:r.reduce(((e,t)=>e+t),0)},t)})};var jw=n(12297),zw=n.n(jw),Uw=n(87384);const Hw=e=>e&&e.querySelector(".wtHolder"),Zw=e=>document.querySelector(`.Table#el-${e}`),Gw=()=>document.querySelector(".Table.selected-single"),Kw=e=>{const t=Gw();return t&&t.querySelector(e)},Ww=e=>{var t,n;return null===(t=(e=>null==e?void 0:e.rootElement)(e))||void 0===t||null===(n=t.parentElement)||void 0===n?void 0:n.parentElement},Vw=()=>Kw(".selected-single .ht__manualColumnMove--backlight"),$w=()=>Kw(".selected-single .ht__manualRowMove--backlight"),qw=()=>Kw(".selected-single .ht__manualColumnMove--guideline"),Yw=()=>Kw(".selected-single .ht__manualRowMove--guideline"),Xw=()=>Kw(".highlight"),Qw=e=>{switch(e=e||Fw.PN){case Uw.Q4.TOP:return"htTop";case Uw.Q4.MIDDLE:return"htMiddle";case Uw.Q4.BOTTOM:return"htBottom"}};var Jw=n(18534),eO=n(60025);const tO=(e,t,n,r)=>{var o;if(!((0,$i.Mc)(e)||(0,$i.O3)(e)||t===Ay.L.IN_LIST_DOCUMENT_MODE))return null;const i=(null==(s=null==n?void 0:n.current)||null===(a=s.parentElement)||void 0===a||null===(l=a.getBoundingClientRect)||void 0===l||null===(c=l.call(a))||void 0===c?void 0:c.width)||(null===(o=Hw(n.current))||void 0===o?void 0:o.scrollWidth);var s,a,l,c;if(!i)return null;return i/(r?r():1)},nO=(e,t,n=null)=>{const r=zw()(e),o=r*t,i=e.length,s=n&&o<n+10*t&&n?(n+2)/r:t;return e.reduce(((e,t,n)=>(n===i-1?e.push(r*s-zw()(e)-2):e.push(Math.round(t*s)),e)),[])},rO=e=>e&&(0,pr.Kb)(getComputedStyle(e).borderBottomWidth)||1,oO=(e,t,n,r,o)=>{const{width:i,height:s}=n,a=i-zw()(t),l=((e,t,n)=>{const r=Ww(e);return r?r.getBoundingClientRect().height/t/n():0})(e,r,o),c=s-l,d=Fw.Ut/2,u=Fw.wM/2;let m=Math.floor((a+d)/Fw.Ut),p=Math.floor((c+u)/Fw.wM);if(m<0){var h;const t=e.countCols()-1,n=t+m,r=(0,eO.X8)(e)||0,o=(null===(h=(0,Jw.md)(e.getSelected()))||void 0===h?void 0:h.col)||0,i=Math.max(r,o);n<i&&(m=i-t)}if(p<0){var g;const t=e.countRows()-1,n=t+p,r=(0,eO.As)(e)||0,o=(null===(g=(0,Jw.md)(e.getSelected()))||void 0===g?void 0:g.row)||0,i=Math.max(r,o);n<i&&(p=i-t);const s=e.countRows();s+p<Fw.D3&&(p=Fw.D3-s)}return{columnDif:m,rowDif:p}},iO=(e,t)=>{switch(e.keyCode){case Qt.nx.DOWN_ARROW:case Qt.nx.RIGHT_ARROW:return((e,{getProps:t})=>{const{jumpToFirstCell:n}=t();e.preventDefault(),e.stopPropagation(),n&&n()})(e,t);case Qt.nx.TAB:return((e,{getProps:t})=>{if(e.preventDefault(),e.stopPropagation(),(0,$.p9)(e))return;const{jumpToFirstCell:n}=t();n&&n()})(e,t);default:return}},sO=(0,Xt.Z)(),aO=[(0,cn.Z)(),{handleReturn:VI,keyBindingFn:iO,handlePastedText:qI},sO],lO=s.forwardRef((function(e,t){return s.createElement("div",{ref:t},s.createElement(ZI,Object.assign({},e,{onEmptyBackspace:()=>{const{dispatchHideTitle:t,jumpToFirstCell:n,element:r}=e;t({id:(0,D.nRF)(r)}),n()},placeholder:"New Table",textAlignment:"center",plugins:aO})))}));lO.propTypes={dispatchHideTitle:l().func,jumpToFirstCell:l().func,element:l().object};const cO=lO,dO=({element:e,gridSize:t,inList:n,inTrash:r,isDragging:o})=>{var i;const a=(0,D.nRF)(e),l=(0,s.useRef)(null),c=document.querySelector(`#el-${a} .HotTable .HotTableLib .ht_master`),d=null==c||null===(i=c.querySelector(".wtHolder"))||void 0===i?void 0:i.scrollLeft,u=null==c?void 0:c.cloneNode(!0),m=()=>{const i=(r||n===Ay.L.IN_LIST_DOCUMENT_MODE)&&!o?null===(s=Zw(a))||void 0===s||null===(l=s.querySelector(".HotTable"))||void 0===l||null===(c=l.getBoundingClientRect)||void 0===c||null===(d=c.call(l))||void 0===d?void 0:d.width:null;var s,l,c,d;const m=(0,O.su)((0,D.yvq)(e)),p=nO(m,t,i),h=u.querySelector("table.htCore colgroup");for(let e=1;e<h.children.length;e++)h.children[e].style.width=`${p[e-1]}px`};return(0,s.useEffect)((()=>{var e,t;if(!u||!l.current)return;const o=rO(c.querySelector("td"));l.current.style.setProperty("--table-cell-border-rendered-width",`${o}px`);const i=n===Ay.L.IN_LIST_DOCUMENT_MODE,s=n&&!i&&!r;s||m(),l.current.firstChild&&l.current.removeChild(l.current.firstChild),l.current.appendChild(u),(s||i)&&d&&(l.current.querySelector(".wtHolder").scrollLeft=d),null===(e=l.current.querySelector(".htBorders"))||void 0===e||e.remove(),null===(t=l.current.querySelector("thead"))||void 0===t||t.remove(),l.current.querySelectorAll(".MilanoteCellRendererComponent").forEach((e=>{const t=e.querySelector(".DraftEditor-root");if(!t)return;e.querySelector(".DraftEditor-editorContainer").className="",e.querySelector(".public-DraftEditor-content").className="",e.querySelector(".public-DraftStyleDefault-block").className="";const n=t.className.split(" ")[1];t.className=`presentation-cell-content ${n}`}))}),[o,r]),s.createElement("div",{className:"HotTable presentational-table"},s.createElement("div",{className:"HotTableLib handsontable",ref:l}))};dO.propTypes={element:l().object,gridSize:l().number,inList:l().string,inTrash:l().bool,isDragging:l().bool};const uO=dO;var mO=n(32817),pO=n(86187),hO=n(75767),gO=n(83568),fO=n(31474),EO=n(63193),vO=n(77248),bO=n(47147),yO=n(60743),IO=n(80759),CO=n(46600),SO=n(30737),TO=n(54588),wO=n(43354),OO=n(29448),_O=n(57490),RO=n(51951);const AO=(e,t,n)=>{const r=e.getCurrentContent(),o=e.getSelection(),i=Dt.Modifier.applyInlineStyle(r,t,n),s=Dt.EditorState.push(e,i,Wt.m_.CHANGE_INLINE_STYLE);return(0,RO.Z)(s,o)},DO=e=>{const t=e.getCurrentContent(),n=e.getSelection();let r=t;t.getBlockMap().forEach((e=>{const n=Dt.SelectionState.createEmpty(e.getKey()).merge({anchorOffset:0,focusOffset:e.getText().length});r=Dt.Modifier.replaceText(t,n,e.getText(),null,null)}));const o=Dt.EditorState.push(e,r,Wt.m_.CHANGE_INLINE_STYLE);return(0,RO.Z)(o,n)};var NO=n(12133);function xO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const MO="milanoteFormulaCellReference",PO=[{borderColorHex:"16a0e5",backgroundColor:"rgba(22, 160, 229, 0.1)"},{borderColorHex:"ff8d22",backgroundColor:"rgba(255, 141, 34, 0.1)"},{borderColorHex:"4eb85a",backgroundColor:"rgba(78, 184, 90, 0.1)"},{borderColorHex:"af72ff",backgroundColor:"rgba(175, 114, 255, 0.1)"},{borderColorHex:"ff6dd4",backgroundColor:"rgba(255, 109, 212, 0.1)"},{borderColorHex:"62dbc8",backgroundColor:"rgba(98, 219, 200, 0.1)"}];class LO extends wO.v{constructor(...e){super(...e),xO(this,"prevEditorState",null),xO(this,"currEditorState",null),xO(this,"inCellReferenceMode",!1),xO(this,"customBordersAdded",!1),xO(this,"referenceCells",null),xO(this,"isCurrentlyReferencingFromCell",null),xO(this,"justReferencedCell",!1),xO(this,"cellReferences",[]),xO(this,"debouncedOnMilanoteCellEditorChange",ot()(this.onMilanoteCellEditorChange,50)),xO(this,"editorStateContainsSpecialCharBeforeSelection",(e=>{const t=e.getCurrentContent().getPlainText(),n=e.getSelection().getStartOffset(),r=this.getCharBeforeSelection(t,n);return!(!r||!r.match(/^[=(,?*/^%&\-+<>;]$/))})),xO(this,"editorStateContainsCellReferenceBeforeSelection",(e=>{const t=e.getCurrentContent().getPlainText(),n=e.getSelection().getStartOffset();return this.cellReferences.find((({cellSelectionName:e})=>t.slice(n-e.length,n)===e))}))}static get PLUGIN_KEY(){return MO}isEnabled(){return!0}enablePlugin(){this.addHook("beforeOnCellMouseDown",((...e)=>this.onBeforeOnCellMouseDown(...e))),this.addHook("beforeOnCellMouseOver",((...e)=>this.onBeforeOnCellMouseOver(...e))),this.addHook("beforeChange",(()=>this.onBeforeChange())),this.addHook("onMilanoteCellEditorChange",((...e)=>this.debouncedOnMilanoteCellEditorChange(...e))),super.enablePlugin()}getConfig(){var e;const t=null===(e=this.hot)||void 0===e?void 0:e.getSettings();return(null==t?void 0:t[MO])??{}}onMilanoteCellEditorChange(e){var t,n;if(null===(t=this.hot.getActiveEditor())||void 0===t||!t.isOpened())return;if(this.currEditorState=e,this.justReferencedCell)return void(this.justReferencedCell=!1);if(!this.hot.isListening())return;const r=e.getCurrentContent().getPlainText(),o=e.getSelection().getStartOffset();if(!(0,OO.j)(r))return this.unsetCellReferenceMode(),void this.removeCellSelectionReferences();(null===(n=this.prevEditorState)||void 0===n?void 0:n.getCurrentContent().getPlainText())!==r&&this.highlightCellSelectionReferences(e);const i=this.editorStateContainsSpecialCharBeforeSelection(e),s=this.editorStateContainsCellReferenceBeforeSelection(e);if(i){const t=(0,Rn.Z)("")(e);this.setCellReferenceMode(t)}else if(s){const{cellSelection:t,cellSelectionName:n}=s,r=(0,Jw.ph)(t),i=e.getSelection().getFocusKey(),a=Dt.SelectionState.createEmpty(i).merge({focusOffset:o,anchorOffset:o-n.length,hasFocus:!0}),l=(0,Rn.Z)("")((0,RO.Z)(e,a));this.setCellReferenceMode(l,r)}else this.unsetCellReferenceMode();this.prevEditorState=e}onBeforeOnCellMouseDown(e,t,n,r){var o;if(!1===e.isImmediatePropagationEnabled)return;if(!this.inCellReferenceMode)return;if(e.stopImmediatePropagation(),e.preventDefault(),(0,$.p9)(e)&&this.isCurrentlyReferencingFromCell){var i;const{row:e,col:n}=this.isCurrentlyReferencingFromCell,{row:r,col:o}=t.toObject();return void(null===(i=this.referenceCells)||void 0===i||i.call(this,[e,n,r,o]))}if((0,$.lk)(e)&&this.isCurrentlyReferencingFromCell&&this.currEditorState){const e=this.insertTextAtEnd(this.currEditorState,",");this.setEditorState(e),this.setCellReferenceMode(e)}this.isCurrentlyReferencingFromCell=t.toObject();const{row:s,col:a}=t.toObject();null===(o=this.referenceCells)||void 0===o||o.call(this,[s,a,s,a])}onBeforeOnCellMouseOver(e,t,n,r){var o;if(1!==e.buttons||!this.inCellReferenceMode||!this.isCurrentlyReferencingFromCell)return;e.stopImmediatePropagation(),e.preventDefault();const{row:i,col:s}=this.isCurrentlyReferencingFromCell,{row:a,col:l}=t.toObject();null===(o=this.referenceCells)||void 0===o||o.call(this,[i,s,a,l])}onBeforeChange(){this.unsetCellReferenceMode(),this.removeCellSelectionReferences()}setEditorState(e){const{cellEditorRef:t}=this.getConfig();t.current&&(t.current.onChange(e),this.justReferencedCell=!0)}getCellReferences(e){return e.replaceAll(" ","").split(/[=(),?*/^%&\-+<>;]/).reduce(((e,t)=>{const n=(0,kw.b6)(t);return n&&e.push({cellSelection:n,cellSelectionName:t}),e}),[])}getCharBeforeSelection(e,t){let n=t-1;for(;" "===e.charAt(n);)n-=1;return e.charAt(n)}insertTextAtEnd(e,t){const n=e.getSelection().getFocusKey(),r=e.getSelection().getStartOffset(),o=Dt.SelectionState.createEmpty(n).merge({anchorOffset:r,focusOffset:r,hasFocus:!0});return(0,_O.Z)(t)(o)(e)}setCellReferenceMode(e,t=null){this.inCellReferenceMode=!0,this.isCurrentlyReferencingFromCell=t,this.referenceCells=t=>{if((0,Jw.E_)(t)<0||(0,Jw.cz)(t)<0||(0,Jw.E0)(t)<0||(0,Jw.jC)(t)<0)return;const{cellEditorRef:n}=this.getConfig();if(null===n.current)return;const r=(0,kw.iq)(t),o=this.insertTextAtEnd(e,r);this.highlightCellSelectionReferences(o)}}unsetCellReferenceMode(){this.inCellReferenceMode=!1,this.referenceCells=null,this.isCurrentlyReferencingFromCell=null}removeCellSelectionReferences(){this.prevEditorState=null,this.customBordersAdded&&(this.hot.updateSettings({customBorders:[]}),this.customBordersAdded=!1)}highlightCellSelectionReferences(e){const t=e.getCurrentContent().getPlainText();this.cellReferences=this.getCellReferences(t),this.hot.updateSettings({customBorders:this.cellReferences.map(((e,t)=>{this.customBordersAdded=!0;const{cellSelection:n}=e,{borderColorHex:r}=PO[t%PO.length];return{range:{from:(0,Jw.F8)(n),to:(0,Jw.Iu)(n)},left:{width:2,color:`#${r}`},right:{width:2,color:`#${r}`},top:{width:2,color:`#${r}`},bottom:{width:2,color:`#${r}`}}}))});const n=e.getCurrentContent().getPlainText();let r=0,o=DO(e);this.cellReferences.forEach(((e,t)=>{const{cellSelection:n}=e,{backgroundColor:r}=PO[t%PO.length];(0,Jw.MV)([n]).forEach((({row:e,col:t})=>{var n,o,i;const s=this.hot.getCell(e,t);if(!s)return;const a=null===(n=this.hot)||void 0===n||null===(o=n.getCellMeta(e,t).cellData)||void 0===o?void 0:o.background,l=(0,NO.CB)(a,(null===(i=this.hot)||void 0===i?void 0:i.milanoteProps.isDarkMode)||!1);s.style.backgroundColor=(0,yv.N4)(l,r).toString()}))})),this.cellReferences.forEach(((t,i)=>{const{cellSelectionName:s}=t,{borderColorHex:a}=PO[i%PO.length],l=n.indexOf(s,r);r=l+s.length;const c=Dt.SelectionState.createEmpty(e.getSelection().getFocusKey()).merge({anchorOffset:l,focusOffset:l+s.length});o=AO(o,c,`TEXT_HEX-${a}`)})),o=Dt.EditorState.set(o,{undoStack:e.getUndoStack()}),o=Dt.EditorState.set(o,{redoStack:e.getRedoStack()}),this.setEditorState(o)}}const kO=LO;function FO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const BO="milanoteFormulaAutocomplete",jO="milanoteFormulaAutocomplete.handlingEditor";class zO extends wO.v{static get PLUGIN_KEY(){return BO}constructor(e){super(e),FO(this,"configuration",void 0),FO(this,"editingCellCoords",void 0),FO(this,"autocompleteShortcutRegistered",void 0),this.configuration={enabled:!1},this.editingCellCoords=null,this.autocompleteShortcutRegistered=!1}getConfig(){var e;const t=null===(e=this.hot)||void 0===e?void 0:e.getSettings();return(null==t?void 0:t[BO])??{}}isEnabled(){return!!this.getConfig()}enablePlugin(){this.addHook("afterBeginEditing",(()=>this.onAfterBeginEditing())),this.addHook("afterSelection",(()=>this.onAfterSelection())),this.addHook("beforeKeyDown",(e=>this.beforeKeyDown(e))),this.addHook("onMilanoteCellEditorChange",(e=>this.onMilanoteCellEditorChange(e))),super.enablePlugin()}disablePlugin(){super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}beforeKeyDown(e){const{dropdownRef:t}=this.getConfig();if(null!=t&&t.current&&null!=t&&t.current.isFormulaDropdownOpen())return"ArrowDown"===e.code?(e.preventDefault(),e.stopImmediatePropagation(),t.current.moveListFocusDown(),!1):"ArrowUp"===e.code?(e.preventDefault(),e.stopImmediatePropagation(),t.current.moveListFocusUp(),!1):void 0}onAfterBeginEditing(){this.editingCellCoords=this.getCurrentCell()}onAfterSelection(){this.removeDropdown()}onMilanoteCellEditorChange(e){const t=e.getCurrentContent().getPlainText();(0,OO.j)(t)?this.showDropdown(t):this.removeDropdown()}getCurrentCell(){const e=this.hot.getSelected();return e?{row:e[0][0],col:e[0][1]}:null}showDropdown(e){const{dropdownRef:t}=this.getConfig();if(null==t||!t.current)return;t.current.updateFormulaDropdown(!0,e)?this.registerShortcuts():this.unregisterShortcuts()}removeDropdown(){const{dropdownRef:e}=this.getConfig();null!=e&&e.current&&(e.current.updateFormulaDropdown(!1),this.unregisterShortcuts())}destroy(){super.destroy(),this.removeDropdown(),this.editingCellCoords=null}registerShortcuts(){if(this.autocompleteShortcutRegistered)return;const e=this.hot.getShortcutManager().getContext("editor"),{dropdownRef:t,cellEditorRef:n}=this.getConfig();e&&t.current&&n.current&&(e.addShortcuts([{keys:[["TAB"],["ENTER"]],callback:e=>(e.stopImmediatePropagation(),e.preventDefault(),t.current.useFocusedFormula(),this.removeDropdown(),!1),group:jO,position:"before",relativeToGroup:"editorManager.handlingEditor"}]),this.autocompleteShortcutRegistered=!0)}unregisterShortcuts(){if(!this.autocompleteShortcutRegistered)return;const e=this.hot.getShortcutManager().getContext("editor");e&&(e.removeShortcutsByGroup("milanoteFormulaAutocomplete.navigation"),e.removeShortcutsByGroup(jO),this.autocompleteShortcutRegistered=!1)}}const UO=zO;var HO=n(14293),ZO=n.n(HO),GO=n(50361),KO=n.n(GO),WO=n(27361),VO=n.n(WO);function $O(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const qO="milanoteEditingCleanup";class YO extends wO.v{static get PLUGIN_KEY(){return qO}static get PLUGIN_PRIORITY(){return 1e3}constructor(e){super(e),$O(this,"originalChanges",null)}isEnabled(){return!0}enablePlugin(){this.addHook("afterSetDataAtCell",((...e)=>this.onAfterSetDataAtCell(...e))),super.enablePlugin()}setOriginalChanges(e){this.originalChanges=e}onAfterSetDataAtCell(e,t){this.originalChanges&&this.originalChanges.length===e.length&&e.forEach(((t,n)=>{const r=VO()(this.originalChanges,n);r&&(e[n]=r)}))}}const XO=YO;var QO=n(62246),JO=n(44766),e_=n(5527),t_=n(99331);function n_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const r_="milanoteEditing",o_="MilanoteEditingPlugin.formatting",i_="MilanoteEditingPlugin.gridUpdate";class s_ extends wO.v{static get PLUGIN_KEY(){return r_}static get PLUGIN_PRIORITY(){return 1}constructor(e){super(e),n_(this,"getOriginalSourceData",void 0),n_(this,"getOriginalSourceDataArray",void 0),n_(this,"getOriginalSourceDataAtCell",void 0),n_(this,"getOriginalCopyableData",void 0),n_(this,"onBeforeOnCellMouseDown",(e=>{this.getConfig().isReadOnly&&e.stopImmediatePropagation()})),n_(this,"normaliseCellValueForHyperFormula",((e,t,n)=>{var r,o;const i=(0,ea.Z)((0,t_.bQ)(e)),s="CellMeta.init"!==n,{locale:a}=(null===(r=this.hot)||void 0===r?void 0:r.milanoteProps)||{};let l=(null===(o=(0,JO.A)(i,s,a))||void 0===o?void 0:o.newCellValue)||i;const{cellData:c}=this.hot.getCellMeta(t.row,t.col)||{};return(0,OO.j)(i)||ZO()(null==c?void 0:c.value)||((0,e_.qj)(c)&&(l=`$${l}`),(0,e_.c1)(c)&&!c.value.endsWith("%")&&(l=100*l+"%")),l})),this.getOriginalSourceData=e.getSourceData,this.getOriginalSourceDataArray=e.getSourceDataArray,this.getOriginalSourceDataAtCell=e.getSourceDataAtCell,this.getOriginalCopyableData=e.getCopyableData,e.getSourceData=this.getSourceData.bind(this),e.getSourceDataArray=this.getSourceDataArray.bind(this),e.getSourceDataAtCell=this.getSourceDataAtCell.bind(this),e.getCopyableData=this.getCopyableData.bind(this)}getConfig(){var e;const t=null===(e=this.hot)||void 0===e?void 0:e.getSettings();return(null==t?void 0:t[r_])??{}}isEnabled(){return!0}enablePlugin(){this.addHook("afterInit",((...e)=>this.afterInit(...e))),this.addHook("afterSetDataAtCell",((...e)=>this.onAfterSetDataAtCell(...e))),this.addHook("afterUnlisten",(()=>this.onAfterUnlisten())),this.addHook("beforeOnCellMouseDown",(e=>this.onBeforeOnCellMouseDown(e))),this.addHook("beforeInitWalkontable",(e=>this.beforeInitWalkontable(e))),super.enablePlugin()}disablePlugin(){this.unregisterShortcuts()}onAfterSetDataAtCell(e,t){this.hot.getPlugin(qO).setOriginalChanges(KO()(e)),e.forEach((([n,r,o,i],s)=>{if("string"==typeof r)return;const a=this.normaliseCellValueForHyperFormula(o,{row:n,col:r},t),l=this.normaliseCellValueForHyperFormula(i,{row:n,col:r},t);e[s]=[n,r,a,l]}))}onAfterUnlisten(){var e;null===(e=document.querySelector("textarea.HandsontableCopyPaste"))||void 0===e||e.blur()}afterInit(){var e;this.registerShortcuts();const t=null===(e=this.hot.eventListeners)||void 0===e?void 0:e.find((({event:e,element:t})=>"mousedown"===e&&"HTML"===t.nodeName));if(t){const{eventManager:e,element:n,event:r,callback:o}=t;e.removeEventListener(n,r,o),e.addEventListener(n,r,(e=>{let t=e.target;for(;t&&t!==n;){if(t.hasAttribute("data-table-util"))return;t=t.parentElement}o(e)}))}this.hot.view.scrollViewport=()=>{},this.hot.view.scrollViewportHorizontally=()=>{},this.hot.view.scrollViewportVertically=()=>{}}beforeInitWalkontable(e){e.onContainerElementResize=null}getSourceData(e,t,n,r){return this.getOriginalSourceData(e,t,n,r).map(((e,t)=>Array.isArray(e)?e.map(((e,n)=>this.normaliseCellValueForHyperFormula(e,{row:t,col:n}))):Object.keys(e).reduce(((n,r,o)=>{const i=e[r];return n[r]=this.normaliseCellValueForHyperFormula(i,{row:t,col:o}),n}),{})))}getSourceDataArray(e,t,n,r){return this.getOriginalSourceDataArray(e,t,n,r).map(((e,t)=>e.map(((e,n)=>this.normaliseCellValueForHyperFormula(e,{row:t,col:n})))))}getSourceDataAtCell(e,t){const n=this.getOriginalSourceDataAtCell(e,t);return this.normaliseCellValueForHyperFormula(n,{row:e,col:t})}getCopyableData(e,t){var n;const{cellData:r}=this.hot.getCellMeta(e,t),o=this.getOriginalCopyableData(e,t),{locale:i,elementId:s}=(null===(n=this.hot)||void 0===n?void 0:n.milanoteProps)||{},a=QO.ZP.getSheetId(s),l=void 0!==a?{hfType:QO.ZP.getCellType({sheet:a,row:e,col:t}),hfDetailedType:QO.ZP.getCellValueDetailedType({sheet:a,row:e,col:t})}:void 0;return(0,NO.dy)(r,i,o,l).toString()}registerShortcuts(){const e=this.hot.getShortcutManager().getContext("grid");if(!e)return;e.removeShortcutsByKeys(["Control/Meta","Enter"]),e.removeShortcutsByKeys(["Backspace"]),e.removeShortcutsByKeys(["Delete"]);const{tableOperationsRef:t}=this.getConfig();e.addShortcuts([{keys:[["Control/Meta","b"]],callback:e=>t.current.applyTextStyle(jt.K2.BOLD)},{keys:[["Control/Meta","i"]],callback:e=>t.current.applyTextStyle(jt.K2.ITALIC)},{keys:[["Control/Meta","shift","x"]],callback:e=>t.current.applyTextStyle(jt.K2.STRIKETHROUGH)}],{group:o_}),e.addShortcuts([{keys:[["Control/Meta","Enter"]],callback:e=>{e.preventDefault(),e.stopImmediatePropagation();const n=this.hot.getSelected();if(!n)return;const r=(0,Jw.f3)(n);r&&(0,Jw.tZ)(r)?t.current.addColsRight():t.current.addRowsBelow()}},{keys:[["Control/Meta","Backspace"]],callback:e=>{e.preventDefault(),e.stopImmediatePropagation();const n=this.hot.getSelected();if(!n)return;const r=(0,Jw.f3)(n);r&&(0,Jw.tZ)(r)?t.current.removeCols():t.current.removeRows()}},{keys:[["Tab"]],callback:e=>{const n=this.hot.getSelected();if(!n)return;const r=(0,eO.QN)(this.hot.getData()),o=(0,Jw.f3)(n);(0,Jw.cz)(o)===r-1&&t.current.addColsRight()}},{keys:[["Shift","Tab"]],callback:e=>{const n=this.hot.getSelected();if(!n)return;const r=(0,Jw.f3)(n);0===(0,Jw.E_)(r)&&0===(0,Jw.cz)(r)&&t.current.jumpToTitle()}},{keys:[["Backspace"],["Delete"],["Shift","Backspace"]],callback:()=>{const e=this.hot.getSelected();e&&((0,Jw.MV)(e).forEach((({row:e,col:t})=>{this.hot.setCellMetaObject(e,t,{readOnly:!1})})),this.hot.emptySelectedCells(),requestAnimationFrame((()=>this.hot&&!this.hot.isDestroyed&&this.hot.render())))}},{keys:[["Alt","ArrowUp"]],callback:()=>{t.current.addRowsAbove()}},{keys:[["Alt","ArrowDown"]],callback:()=>{t.current.addRowsBelow()}},{keys:[["Alt","ArrowLeft"]],callback:()=>{t.current.addColsLeft()}},{keys:[["Alt","ArrowRight"]],callback:()=>{t.current.addColsRight()}},{keys:[["ArrowUp"],["ArrowRight"],["ArrowDown"],["ArrowLeft"],["Shift","ArrowUp"],["Shift","ArrowRight"],["Shift","ArrowDown"],["Shift","ArrowLeft"]],callback:()=>{},runOnlyIf:()=>void 0!==this.hot.getSelected(),stopPropagation:!0}],{group:i_,position:"before",relativeToGroup:"gridDefault"})}unregisterShortcuts(){const e=this.hot.getShortcutManager().getContext("grid");e&&(e.removeShortcutsByGroup(o_),e.removeShortcutsByGroup(i_))}}const a_=s_;var l_=n(6304);function c_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d_="milanoteContextMenu";var u_;!function(e){e[e.UNCLICKED=0]="UNCLICKED",e[e.CLICKED_PRE_TIMEOUT=1]="CLICKED_PRE_TIMEOUT",e[e.CLICKED_POST_TIMEOUT=2]="CLICKED_POST_TIMEOUT"}(u_||(u_={}));class m_ extends wO.v{constructor(...e){super(...e),c_(this,"contextMenuEventListeners",null),c_(this,"mouseDownEventListener",null),c_(this,"ipadClickState",u_.UNCLICKED),c_(this,"ipadClickCount",0),c_(this,"ipadLastClickTarget",null),c_(this,"ipadContextMenuTriggered",!1)}static get PLUGIN_KEY(){return d_}isEnabled(){return!0}enablePlugin(){this.addHook("beforeOnCellMouseDown",((...e)=>this.onBeforeOnCellMouseDown(...e))),this.addHook("beforeOnCellContextMenu",((...e)=>this.beforeOnCellContextMenu(...e))),this.addHook("afterContextMenuShow",(()=>this.onAfterContextMenuShow())),this.addHook("afterContextMenuHide",(()=>this.onAfterContextMenuHide())),this.addHook("afterSelectionEnd",((...e)=>this.onAfterSelectionEnd(...e))),this.addHook("afterDeselect",((...e)=>this.onAfterDeselect(...e))),super.enablePlugin()}beforeOnCellContextMenu(e,t,n){(0,Mt.gn)()&&e.detail===l_.Xf&&(this.ipadContextMenuTriggered=!0)}onBeforeOnCellMouseDown(e,t,n,r){const o=this.hot.getSelected();if((0,Mt.gn)()&&o&&o.length>0){if(this.ipadClickCount+=1,this.ipadClickState===u_.UNCLICKED)return e.isImmediatePropagationEnabled=!1,this.ipadClickState=u_.CLICKED_PRE_TIMEOUT,void setTimeout((()=>{if(this.ipadContextMenuTriggered||1!==this.ipadClickCount)this.ipadClickState=u_.UNCLICKED;else{var t,n;this.ipadClickState=u_.CLICKED_POST_TIMEOUT;const r=new MouseEvent(e.type,e);null===(t=e.target)||void 0===t||t.dispatchEvent(r);const o=new MouseEvent("mouseup",e);null===(n=e.target)||void 0===n||n.dispatchEvent(o)}this.ipadClickCount=0,this.ipadLastClickTarget=null,this.ipadContextMenuTriggered=!1}),100);this.ipadClickState===u_.CLICKED_PRE_TIMEOUT&&(e.isImmediatePropagationEnabled=!1),this.ipadClickState===u_.CLICKED_POST_TIMEOUT&&(this.ipadClickState=u_.UNCLICKED)}2===e.button&&Xr()(this.hot.getSelected())&&(e.isImmediatePropagationEnabled=!1)}onAfterSelectionEnd(e,t,n,r,o){this.addHotContextMenuEventListeners()}onAfterDeselect(){this.removeHotContextMenuEventListeners()}addHotContextMenuEventListeners(){null!==this.contextMenuEventListeners&&(this.contextMenuEventListeners.forEach((({element:e,event:t,callback:n,eventManager:r})=>r.addEventListener(e,t,n))),this.contextMenuEventListeners=null)}removeHotContextMenuEventListeners(){var e,t,n,r;null===this.contextMenuEventListeners&&(this.contextMenuEventListeners=[...this.hot.eventListeners||[],...(null===(e=this.hot.getPlugin("contextMenu"))||void 0===e||null===(t=e.menu)||void 0===t?void 0:t.eventListeners)||[],...(null===(n=this.hot.view)||void 0===n||null===(r=n._wt)||void 0===r?void 0:r.eventListeners)||[]].filter((e=>"contextmenu"===e.event)),this.contextMenuEventListeners.forEach((({element:e,event:t,callback:n,eventManager:r})=>r.removeEventListener(e,t,n))))}onAfterContextMenuShow(){var e,t,n,r;if(null===(e=this.hot.getPlugin("contextMenu"))||void 0===e||null===(t=e.menu)||void 0===t||t.hotMenu.suspendRender(),null!==this.mouseDownEventListener)return;const o=null===(n=this.hot.getPlugin("contextMenu"))||void 0===n||null===(r=n.menu)||void 0===r?void 0:r.eventListeners;if(this.mouseDownEventListener=null==o?void 0:o.find((({event:e})=>"mousedown"===e)),this.mouseDownEventListener){const{element:e,callback:t,eventManager:n}=this.mouseDownEventListener;n.addEventListener(e,"touchstart",t)}}onAfterContextMenuHide(){if(null===this.mouseDownEventListener)return;const{element:e,callback:t,eventManager:n}=this.mouseDownEventListener;n.removeEventListener(e,"touchstart",t),this.mouseDownEventListener=null}}const p_=m_;var h_=n(10928),g_=n.n(h_),f_=n(39290),E_=n(31095);function v_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b_ extends f_.w2{constructor(...e){var t;super(...e),t=this,v_(this,"tableElement",null),v_(this,"moved",!1),v_(this,"resetResizing",(()=>{this.tableElement=null,this.milanoteValues={}})),v_(this,"initialiseColResize",((e,t)=>{var n,r;const{elementId:o,getContextZoomScale:i,hotTableContainerRef:s}=this.hot.milanoteProps;if((0,A.jb)(e),!e.target)return;this.currentTH=t;const a=this.hot.getCoords(e.target).col;null===(n=this.hot.getActiveEditor())||void 0===n||n.finishEditing();const l=this.hot.getSelected();l||this.hot.suspendRender(),this.resetResizing(),this.tableElement=Zw(o),null===(r=s.current)||void 0===r||r.classList.add("col-resizing"),document.addEventListener("mouseup",this.finishResizing),document.addEventListener("pointerup",this.finishResizing),document.addEventListener("mousemove",this.throttledLiveResize),document.addEventListener("pointermove",this.throttledLiveResize);const c=[],d=null==l?void 0:l.reduce(((e,t)=>(0,Jw.Z8)(-1,t)?[...e,t]:e),[]);d&&(0,Jw.kv)(a,d)?(0,Jw.ST)(d).forEach((e=>c.push(e))):c.push(a),this.selectedCols=c;const u=[],m=this.hot.countCols();for(let E=0;E<m;E++)u.push({initialWidth:this.hot.getColWidth(E)||0,headerColElement:this.headerColElements[E]||null,bodyColElement:this.bodyColElements[E]||null});null===this.autoresizeTimeout&&(this.autoresizeTimeout=setTimeout((()=>this.afterMouseDownTimeout()),500));const p=i(),h=e.clientX/p,g=Zw(o),f=this.currentTH.getBoundingClientRect();this.newSize=f.width,this.startWidth=f.width,this.pressed=!0,this.moved=!1,this.currentCol=a,this.dblclick+=1,this.milanoteValues={colValues:u,dragStartPos:h,tableStartWidth:(0,pr.Kb)((null==g?void 0:g.style.width)||"0px"),isCurrentlyResizing:!0}})),v_(this,"resizeCol",((e,t)=>{var n,r;const{headerColElement:o,bodyColElement:i}=(null===(n=this.milanoteValues)||void 0===n||null===(r=n.colValues)||void 0===r?void 0:r[e])||{};this.newSize=t,this.columnWidthsMap.setValueAtIndex(e,t),o&&(o.style.width=`${t}px`),i&&(i.style.width=`${t}px`),this.tableElement&&(this.tableElement.style.width=`${zw()(this.getColWidthsPx())}px`),this.hot.refreshDimensions()})),v_(this,"liveResize",(e=>{this.moved=!0;const{gridSize:t,getContextZoomScale:n}=this.hot.milanoteProps,{dragStartPos:r=0,tableStartWidth:o,colValues:i}=this.milanoteValues;if(null==i||!i.length||!o)return;const s=n(),a=e.clientX/s-r,l=this.selectedCols.map((e=>i[e].initialWidth)),c=Fw.Ve*t,d=((e,t,n,r)=>{const o=e.length,i=r/o,s=t.map((e=>Math.max(e+i,n)));if(r>0)return s;let a=zw()(s)-zw()(t)-r;if(0===a)return s;for(;a>.5;){const e=s.filter((e=>e>n)).length;if(0===e)return s;const t=a/e;for(let r=0;r<o;r++){if(s[r]===n)continue;const e=s[r]-t;e<n?(a+=n-e,s[r]=n):(a-=t,s[r]=e)}}return s})(this.selectedCols,l,c,a);this.selectedCols.forEach(((e,t)=>this.resizeCol(e,d[t])))})),v_(this,"throttledLiveResize",rd()(this.liveResize,10)),v_(this,"animateColWidthToAdjustToGrid",(async function(e,n,r=t.hot.getColWidth(e)){if(Math.abs(r-n)<.1)return void t.resizeCol(e,n);const o=r+(n-r)*Pe.f3;t.resizeCol(e,o);const i=await(0,E_.Z)((()=>t.animateColWidthToAdjustToGrid(e,n,o)));await i})),v_(this,"finishResizing",(()=>{const{gridSize:e,hotTableContainerRef:t}=this.hot.milanoteProps,{colValues:n}=this.milanoteValues;if(!(this.dblclick>1)&&this.moved){const r=null==n?void 0:n.map((e=>e.initialWidth)),o=this.getColWidthsPx();this.selectedCols.forEach((t=>{if(!o)return;o[t]=Math.round(this.hot.getColWidth(t));if(t===g_()(this.selectedCols)){const n=(0,ns.to)(zw()(o)+2,e)-zw()(o)-2;o[t]+=n}}),[]);const i=(0,ns.to)(zw()(r),e)!==(0,ns.to)(zw()(o),e);i&&Promise.all(RE()(o.map(((e,t)=>{if(e!==(null==r?void 0:r[t]))return this.animateColWidthToAdjustToGrid(t,e)})))).then((()=>{this.onMouseUp(),this.resetResizing(),(0,Jw.mr)(this.hot,t),setTimeout((()=>{var e;null===(e=t.current)||void 0===e||e.classList.remove("col-resizing")}))})),i||Promise.all(RE()(o.map(((e,t)=>r&&this.animateColWidthToAdjustToGrid(t,r[t]))))).then((()=>{var e;this.resetResizing(),null===(e=t.current)||void 0===e||e.classList.remove("col-resizing")}))}document.removeEventListener("mouseup",this.finishResizing),document.removeEventListener("pointerup",this.finishResizing),document.removeEventListener("mousemove",this.throttledLiveResize),document.removeEventListener("pointermove",this.throttledLiveResize),this.hot.resumeRender()})),v_(this,"getColWidthsPx",(()=>{const e=[];for(let t=0;t<this.hot.countCols();t++)e[t]=this.hot.getColWidth(t);return e})),v_(this,"updateColResizeHandles",(()=>{const e=this.hot.rootElement.querySelector(".ht_clone_top"),t=Array.from((null==e?void 0:e.querySelectorAll("th"))||[]);t.shift();const{rootDocument:n}=this.hot;t.forEach(((e,t)=>{if(e.querySelector(".manualColumnResizerHandle"))return;const r=n.createElement("DIV");r.className="manualColumnResizerHandle",r.addEventListener("mousedown",(t=>this.initialiseColResize(t,e))),r.addEventListener("pointerdown",(t=>this.initialiseColResize(t,e))),r.dataset.ignoreTouchMove="true",e.appendChild(r)})),this.headerColElements=this.hot.rootElement.querySelectorAll(".ht_clone_top colgroup col:not(.rowHeader)"),this.bodyColElements=this.hot.rootElement.querySelectorAll(".ht_master colgroup col:not(.rowHeader)")}))}enablePlugin(){this.addHook("afterInit",((...e)=>this.afterInit(...e))),this.addHook("beforeColumnResize",((...e)=>this.beforeColumnResize(...e))),this.addHook("afterCreateCol",(()=>{setTimeout((()=>{this.updateColResizeHandles()}),0)})),this.addHook("afterRemoveCol",(()=>this.afterRemoveCol())),super.enablePlugin()}afterInit(){var e,t,n;const r=null===(e=this.eventManager.context.eventListeners)||void 0===e?void 0:e.find((({event:e})=>"mousemove"===e));if(r){const{element:e,event:t,callback:n}=r;this.eventManager.removeEventListener(e,t,n)}const o=null===(t=this.eventManager.context.eventListeners)||void 0===t?void 0:t.find((({event:e})=>"mousedown"===e));if(o){const{element:e,event:t,callback:n}=o;this.eventManager.removeEventListener(e,t,n)}const i=null===(n=this.eventManager.context.eventListeners)||void 0===n?void 0:n.find((({event:e})=>"mouseup"===e));if(i){const{element:e,event:t,callback:n}=i;this.eventManager.removeEventListener(e,t,n)}this.updateColResizeHandles()}beforeColumnResize(e,t,n){const{gridSize:r,getContextZoomScale:o,hotTableContainerRef:i}=this.hot.milanoteProps;if(n){const n=o(),s=Math.round(e/n),a=Fw.Ve*r;let l=Math.max(s,a);if(t===g_()(this.selectedCols)){const e=this.getColWidthsPx();e[t]=l;l+=(0,ns.OA)(zw()(e),r)-zw()(e)-2}return(0,Jw.mr)(this.hot,i),setTimeout((()=>{var e;null===(e=i.current)||void 0===e||e.classList.remove("col-resizing")})),l}}afterRemoveCol(){const{gridSize:e}=this.hot.milanoteProps;setTimeout((()=>this.updateColResizeHandles()),0);const t=this.getColWidthsPx(),n=(0,ns.to)(zw()(t),e)-zw()(t)-2;if(0===n)return;const r=this.hot.countCols()-1;this.animateColWidthToAdjustToGrid(r,t[r]+n)}setupHandlePosition(){}}var y_=n(12731);class I_ extends y_._x{onPaste(e){if(!this.hot.isListening()||this.isEditorOpened())return;e&&e.preventDefault&&e.preventDefault();const{values:t}=e.clipboardData&&(0,eO.Sx)(e.clipboardData)||{};if(void 0===t||Xr()(t))return;if(!1===this.hot.runHooks("beforePaste",t,this.copyableRanges))return;const[n,r,o,i]=this.populateValues(t);this.hot.selectCell(n,r,Math.min(this.hot.countRows()-1,o),Math.min(this.hot.countCols()-1,i)),this.hot.runHooks("afterPaste",t,this.copyableRanges)}}const C_=I_;var S_=n(66613),T_=n(90010);const w_="milanoteCellEditor",O_="editorManager.handlingEditor";class __ extends S_.Hf{static get EDITOR_TYPE(){return"milanote"}constructor(e){super(e),this.content=null,this.manualRowResizePluginInstance=this.hot.getPlugin("manualRowResize"),this.bindEvents(),this.hot.addHookOnce("afterDestroy",this.destroy)}bindEvents(){this.addHook("afterScrollHorizontally",(()=>this.initEditorPositionAndSize())),this.addHook("afterScrollVertically",(()=>this.initEditorPositionAndSize())),this.addHook("afterColumnResize",(()=>this.initEditorPositionAndSize())),this.addHook("afterRowResize",(()=>this.initEditorPositionAndSize())),this.addHook("afterFormulasValuesUpdate",(()=>setTimeout((()=>this.initEditorPositionAndSize())))),this.addHook("onMilanoteCellEditorChange",(e=>this.onMilanoteCellEditorChange(e)))}prepare(e,t,n,r,o,i){var s;super.prepare(e,t,n,r,o,i),this.EDITOR_POSITIONER=this.hot.rootElement.parentElement.querySelector(".handsontable-input-positioner"),this.EDITOR_HOLDER=null===(s=this.EDITOR_POSITIONER)||void 0===s?void 0:s.querySelector(".handsontable-input-holder"),this.EDITOR_POSITIONER&&this.EDITOR_HOLDER&&(this.EDITOR_HOLDER.style.backgroundColor=(0,NO.VS)(i.cellData),this.initEditorPositionAndSize())}beginEditing(e,t){if(!(0,Jw._U)(this.hot.getSelected())||this.hot.milanoteProps.isResizing||this.state!==S_.ed.VIRGIN)return;const{elementId:n}=this.hot.milanoteProps;super.beginEditing(e,t);const r=T_.ZP.getHotTableComponent(n);if(!r)return;if(r.startEditingCellEditor({row:this.row,col:this.col}),ZO()(e))return;const o=r.cellEditorRef.current;if(o&&(o.setPlainText(e),t&&"compositionstart"===t.type)){const e=new t.constructor(t.type,t);o.editor.editor.editor.dispatchEvent(e)}}setValue(e){}open(){this.EDITOR_HOLDER.style.display="flex",this.TD.firstChild&&this.TD.firstChild.classList.add("hidden");this.hot.getShortcutManager().setActiveContextName("editor"),this.registerShortcuts(),this.resizeRenderer({forceResize:!0})}onMilanoteCellEditorChange(e){this.setContent(e),this.resizeRenderer()}getValue(){const e=this.getEditCellValue();return(0,OO.j)(e)?e.includes("(")&&!e.includes(")")?e+")":e:(0,t_.GU)(this.content)}finishEditing(e,t,n){var r;const{elementId:o}=this.hot.milanoteProps,i=T_.ZP.getHotTableComponent(o);if(null==i||null===(r=i.cellEditorRef)||void 0===r||!r.current)return;const s=i.cellEditorRef.current.getEditorState();if(s&&s.isInCompositionMode()){const e=i.cellEditorRef.current,t=new KeyboardEvent("keydown",{which:Qt.nx.RIGHT_ARROW});e.editor.editor._onKeyDown(t)}else this.setContent(s);super.finishEditing(e,t,n),i.finishEditingCellEditor()}close(){this.EDITOR_HOLDER.style.display="none",this.TD.firstChild&&this.TD.firstChild.classList.remove("hidden"),this.content=null,this.unregisterShortcuts(),this.resizeRenderer({newHeight:0})}cancelChanges(){this.restoreRendererSize(),super.cancelChanges()}focus(){}destroy(){this.clearHooks()}setContent(e){this.content=(0,Dt.convertToRaw)(e.getCurrentContent())}getEditCellValue(){return(0,ea.Z)(this.content)}initEditorPositionAndSize(){if(!this.TD)return;const e=this.getEditedCellRect();if(!e)return;const{showTitle:t,showCaption:n,isResizing:r,gridSize:o}=this.hot.milanoteProps;if(r)return;const{top:i,start:s,width:a,maxWidth:l}=e,c=this.hot.countRows(),d=this.hot.countCols(),u=getComputedStyle(this.TD);this.showTitle=t,this.showCaption=n,this.isFirstRow=i<=1,this.isLastRow=this.row===c-1,this.EDITOR_POSITIONER.style.top=`${this.isFirstRow?0:i}px`,this.EDITOR_POSITIONER.style.left=`${s}px`;const m=(0,pr.Kb)(u.paddingLeft)+(0,pr.Kb)(u.paddingRight)+2,p=(0,pr.Kb)(u.paddingTop)+(0,pr.Kb)(u.paddingBottom)+2,h=Math.max(...new Array(d).fill(1).map(((e,t)=>{var n,r;if(t===this.col)return 0;const o=0===this.row?1:0,i=null===(n=this.hot.getCell(this.row,t))||void 0===n||null===(r=n.firstChild)||void 0===r?void 0:r.offsetHeight;return i?i-o:0})),2*o);this.EDITOR_HOLDER.style.minHeight=`${h}px`,this.EDITOR_HOLDER.style.width=Math.min(a,l)-m+"px",this.EDITOR_HOLDER.classList.remove("first-row","last-row"),this.isFirstRow&&this.EDITOR_HOLDER.classList.add("first-row"),this.isLastRow&&this.EDITOR_HOLDER.classList.add("last-row"),this.initialHeight=this.EDITOR_HOLDER.offsetHeight-1,this.minTotalHeight=h+p-1}resizeRenderer({newHeight:e,forceResize:t=!1}={}){const n=this.row,r=this.TD.offsetHeight,o=this.minTotalHeight;requestAnimationFrame((()=>{(e=e??this.EDITOR_HOLDER.offsetHeight-1)<o&&(e=o),(t||r!==e)&&(this.manualRowResizePluginInstance.setManualSize(n,e),this.hot&&!this.hot.isDestroyed&&this.hot.render())}))}restoreRendererSize(){null!==this.initialHeight&&this.resizeRenderer(this.initialHeight)}registerShortcuts(){const e=this.hot.getShortcutManager().getContext("editor"),t={runOnlyIf:()=>!!this.hot.getSelected(),group:w_};e.removeShortcutsByKeys(["shift","enter"]),e.addShortcuts([{keys:[["Tab"]],callback:e=>{const t=this.hot.getSettings(),n="function"==typeof t.tabMoves?t.tabMoves(e):t.tabMoves;this.hot.selection.transformStart(n.row,n.col,!0)}},{keys:[["Shift","Tab"]],callback:e=>{const t=this.hot.getSettings(),n="function"==typeof t.tabMoves?t.tabMoves(e):t.tabMoves;this.hot.selection.transformStart(-n.row,-n.col)}},{keys:[["Control","Enter"]],callback:()=>!1,runOnlyIf:e=>!this.hot.selection.isMultiple()&&!e.altKey,relativeToGroup:O_,position:"before"},{keys:[["Meta","Enter"]],callback:()=>!1,runOnlyIf:()=>!this.hot.selection.isMultiple(),relativeToGroup:O_,position:"before"},{keys:[["Alt","Enter"]],callback:()=>!1,relativeToGroup:O_,position:"before"},{keys:[["Control/Meta","Z"]],preventDefault:!1,callback:()=>this.resizeRenderer()},{keys:[["Control/Meta","Shift","Z"]],preventDefault:!1,callback:()=>this.resizeRenderer()}],t);const n={runOnlyIf:()=>!!this.hot.getSelected()&&!this.hot.getActiveEditor().isOpened(),group:"editorManager.navigation.stopPropagation",position:"after",relativeToGroup:"editorManager.navigation"};e.addShortcuts([{keys:[["ArrowUp"],["ArrowRight"],["ArrowDown"],["ArrowLeft"]],callback:()=>{},stopPropagation:!0}],n)}unregisterShortcuts(){const e=this.hot.getShortcutManager().getContext("editor");e.removeShortcutsByGroup("editorManager.navigation"),e.removeShortcutsByGroup(w_),e.removeShortcutsByGroup("baseEditor")}}const R_=__,A_=(0,Tt.i)({}),D_=(0,Tt.T)({}),N_=(0,Xt.Z)(),x_=(0,ln.Z)(),M_=(0,on.Z)({enableBlockStyles:!1}),P_=(0,sn.Z)({enableBlockStyles:!1}),L_=(0,an.Z)(),k_=[(0,cn.Z)(),(0,wt.Z)(),D_,A_,x_,N_,M_,(0,St.BN)(),P_,L_],F_=e=>{const t=e.editorRef||(0,s.useRef)(null);return(0,s.useEffect)((()=>{var e,n,r;null!==(e=t.current)&&void 0!==e&&null!==(n=e.getEditor())&&void 0!==n&&null!==(r=n.editor)&&void 0!==r&&r.editor&&(t.current.getEditor().editor.editor.dataset.hotInput=!0)}),[]),s.createElement(BI.Z,Object.assign({},e,{plugins:k_,className:f()("TableCellEditor",e.className),editorRef:t,spellCheck:!0}))};F_.propTypes={className:l().string,editorRef:l().oneOfType([l().func,l().object])};const B_=F_;var j_=n(46893),z_=n(64219);const U_=e=>{const{element:t,elementId:n,isEditable:r,currentlyEditingCellEditorCoords:o,tableContentData:i,currentlyEditingEditorId:a,hotTableContainerRef:l,hotTableInstanceRef:c,cellEditorRef:d,locale:u}=e,m=o&&(0,D.jcm)(o)(t),p=o&&(0,D.VWX)(o)(t),[h,g]=(0,s.useState)(null),[E,v]=(0,s.useState)(null);(0,s.useEffect)((()=>{var e;if(!o)return;v(Array.from(p||[]));const{row:t,col:n}=o,r=VO()(i,[t,n]),s=!(0,OO.j)(null==r?void 0:r.value)&&(null==r||null===(e=r.type)||void 0===e?void 0:e.name)===Uw.CellTypeNames.DATE_TIME?Uw.H.RIGHT:(0,NO.z8)(r,u);g(s)}),[o,u]);const b=(0,s.useMemo)((()=>{if(!o)return;const{row:e,col:t}=o,n=VO()(i,[e,t]),{value:r,type:s}=n||{};if(null===r&&null===p)return null;const a=(0,t_.bQ)(r||""),l=(0,NO.Eg)(a,null==s?void 0:s.name,u);if(Xr()(p)||(0,OO.j)(r||""))return l;let c="object"==typeof l?(0,Dt.convertFromRaw)(l):Dt.ContentState.createFromText(l.toString());return c=(0,j_.Z)(c,p),(0,Dt.convertToRaw)(c)}),[o,p,u]),y=(0,s.useMemo)((()=>{if(!o)return;const{row:e,col:t}=o,n=VO()(i,[e,t]);return(0,NO.qg)(n)}),[o]),I=(0,s.useCallback)((({editorState:e})=>{var t;if(!o)return;const{row:n,col:r}=o,s=VO()(i,[n,r]),a=e.getCurrentContent(),l=a.getPlainText(),d=(0,NO.qH)(l,s,u);if(d&&g(d),l.length>0){const e=a?(0,NO.kF)(a):[];mI()(e.sort(),(null==E?void 0:E.sort())||[])||v(e)}null===(t=c.current)||void 0===t||t.runHooks("onMilanoteCellEditorChange",e)}),[o,E,u]);return l.current?(0,ms.createPortal)(s.createElement("div",{className:f()("MilanoteCellEditorComponent",y)},s.createElement("div",{className:"MilanoteCellEditorComponent-relative"},s.createElement("div",{className:"handsontable-input-positioner"},s.createElement("div",{className:f()("handsontable-input-holder",Qw(m))},s.createElement(B_,{editorRef:d,className:"handsontable-input",element:t,isEditing:!!o,isEditable:r,textContent:b,defaultStyleOverride:E,textAlignment:h,editorId:(0,z_.bH)(n),editorKey:Fw.Am,currentEditorId:a,onChange:I}))))),l.current):null};U_.propTypes={element:l().object,elementId:l().string,tableContentData:l().array,isEditable:l().bool,currentlyEditingCellEditorCoords:l().object,currentlyEditingEditorId:l().string,currentlyEditingEditorKey:l().string,textContent:l().oneOfType([l().object,l().string]),locale:l().string,hotTableContainerRef:l().oneOfType([l().func,l().object]),hotTableInstanceRef:l().oneOfType([l().func,l().object]),cellEditorRef:l().oneOfType([l().func,l().object]),currentCellSelections:l().object};const H_=U_;var Z_=n(59161);function G_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class K_ extends s.Component{constructor(...e){super(...e),G_(this,"adjustTableSize",(()=>{var e;const{gridSize:t,isResizing:n,tempSize:r,hotTableInstanceRef:o,getContextZoomScale:i,tableOperationsRef:s}=this.props;if(!n||!r||!o.current)return;const a=o.current;if(!a||a.isDestroyed)return;const l=(null===(e=s.current)||void 0===e?void 0:e.getHotColWidthsGU())||[],{rowDif:c,columnDif:d}=oO(a,l,r,t,i)??{},u="resizeHandle",m=a.countRows(),p=a.countCols();(c||d)&&(null==a||a.batch((()=>{var e;if(c>0)a.alter("insert_row_below",m,c,u);else if(c<0){const e=-c;a.alter("remove_row",m-e,e,u)}if(!d)return;if(d>0)a.alter("insert_col_end",p,d,u);else if(d<0){const e=-d;a.alter("remove_col",p-e,e,u)}const n=null===(e=s.current)||void 0===e?void 0:e.getHotColWidthsGU(),r=zw()(n);((e,t)=>{const n=Ww(e);n&&(n.style.width=`${t}px`)})(a,r*t-2)})))})),G_(this,"throttleAdjustTableSize",rd()(this.adjustTableSize,20))}componentDidUpdate(e){!this.props.isResizing&&e.isResizing&&setTimeout((()=>{var e,t;const{tableOperationsRef:n,dispatchUpdateTableElement:r}=this.props,o=null===(e=n.current)||void 0===e?void 0:e.getHotTableData(),i=null===(t=n.current)||void 0===t?void 0:t.getHotColWidthsGU();r({id:(0,D.nRF)(this.props.element),changes:{tableContent:{data:o,colWidthsGU:i}}})})),this.props.tempSize!==e.tempSize&&this.throttleAdjustTableSize()}render(){return null}}const W_=K_;var V_=n(57557),$_=n.n(V_),q_=n(89515),Y_=n(31243);let X_,Q_;!function(e){e.ROW="row",e.COL="col"}(X_||(X_={})),function(e){e.INSERT="insert",e.REMOVE="remove"}(Q_||(Q_={}));var J_=n(74657);const eR=(0,s.forwardRef)((function(e,t){const{elementId:n,locale:r,currencyPreference:o,hotTableInstanceRef:i,tableOperationsRef:a,hotTableContainerRef:l,dispatchUpdateTableElement:c,dispatchDeselectElement:d,dispatchUndoAction:u,dispatchRedoAction:m,dispatchFinishUndoingOrRedoing:p,gridSize:h,isSingleSelected:g,isUndoingOrRedoing:f,isDarkMode:E,isReadOnly:v,isResizing:b,showTitle:y,showCaption:I,setIsGridMoving:C,mounted:S,filterQuery:T}=e;(0,s.useEffect)((()=>{i.current&&!i.current.isDestroyed&&(QO.ZP.updateConfig({dateFormats:(0,QO.yM)(r)}),S&&(i.current.milanoteProps.locale=r,i.current.render()))}),[r]),(0,s.useEffect)((()=>{i.current&&S&&(i.current.milanoteProps.filterQuery=T,i.current.render())}),[T]),(0,s.useEffect)((()=>{var e;v&&(null===(e=i.current)||void 0===e||e.unlisten())}),[v]),(0,s.useEffect)((()=>{i.current&&(i.current.milanoteProps.showTitle=y)}),[y]),(0,s.useEffect)((()=>{i.current&&(i.current.milanoteProps.showCaption=I)}),[I]),(0,s.useEffect)((()=>{i.current&&(i.current.milanoteProps.isResizing=b)}),[b]),(0,s.useEffect)((()=>{i.current&&(i.current.milanoteProps.gridSize=h,requestAnimationFrame((()=>{i.current&&!i.current.isDestroyed&&i.current.destroyEditor()})))}),[h]),(0,s.useEffect)((()=>{if(!i.current)return;i.current.milanoteProps.isDarkMode=E;const e=i.current.getData();for(let t=0;t<e.length;t++)for(let n=0;n<e[t].length;n++)(0,NO.BR)(i.current,t,n)}),[E]),(0,s.useEffect)((()=>{if(!i.current)return;const e=i.current.getPlugin("undoRedo");e.undo=()=>{i.current.isListening()&&u()},e.redo=()=>{i.current.isListening()&&m()}}),[]),(0,s.useEffect)((()=>{g&&f&&p()}),[g,f]);const w=(0,s.useCallback)(((e,t)=>{Y_.Z.setTableAutofillSource(i,(0,Jw.lU)(t))})),O=(0,s.useCallback)(((e,t)=>{const{startRow:n,startCol:r,endRow:o,endCol:s}=(0,Jw.f3)(t);Y_.Z.setTableCopySource(i,[n,r,o,s])})),_=(0,s.useCallback)(((e,t)=>{O(e,t);const{startRow:n,startCol:r,endRow:o,endCol:s}=(0,Jw.f3)(t);(0,Jw.MV)([[n,r,o,s]]).forEach((({row:e,col:t})=>{i.current.setCellMetaObject(e,t,{readOnly:!1})}))})),R=(0,s.useCallback)(((e,t)=>{const{startRow:n,startCol:r}=(0,Jw.f3)(t),o=[n,r,n+(0,eO.Ed)(e),r+(0,eO.QN)(e)];(0,Jw.MV)([o]).forEach((({row:e,col:t})=>{i.current.setCellMetaObject(e,t,{readOnly:!1})}))})),A=(0,s.useCallback)(((e,t)=>{if(t.startsWith("CellMeta"))return!0;const s=a.current.getHotTableData();let l;if("Autofill.fill"===t||"CopyPaste.paste"===t){const n="Autofill.fill"===t?Y_.Z.getTableAutofillData():Y_.Z.getTableCopiedDataForChanges(e);l=(0,z_.sG)(e,s,t,n,r)}else l=(0,z_.nm)(e,s,r,o);const d=(0,eO.Ed)(s),u=(0,eO.QN)(s),m=Math.max(...l.map((([e])=>e)))+1,p=Math.max(...l.map((([e,t])=>t)))+1,h=Math.max(m,d),g=Math.max(p,u),f=(0,eO.Lj)(s,h,g),E=(0,eO.Ed)(f)-d,v=(0,eO.QN)(f)-u,b=(0,po.k)(),y=`${t}:${b}`;if(E>0&&i.current.alter("insert_row_below",d-1,E,y),u>0&&i.current.alter("insert_col_end",u-1,v,y),l.forEach(((t,n)=>{const[r,o,,i]=t;e[n][3]=i.value,f[r][o]=i,a.current.setCellMetaObject(r,o,{cellData:i})})),mI()(f,s))return;const I=e[0],[C,S]=I,T=[[C,S,C,S]],w={type:J_.TR,id:n,cellSelections:1===e.length?T:i.current.getSelected()},O=a.current.getHotColWidthsGU();setTimeout((()=>{c({id:n,changes:{tableContent:{data:f,colWidthsGU:O}},batchUndoActions:[w],batchRedoActions:[w],transactionId:b})}),0)}),[n,r,o]),D=(0,s.useCallback)(((e,t)=>{if(!e||"loadData"===t||"CellMeta.init"===t||"CellMeta.updateCellType.effect"===t)return;const o=QO.ZP.getSheetId(n);if(void 0===o)return;const s=KO()(a.current.getHotTableData()),l=new WeakMap,c=["CellMeta.updateCellType","CellMeta.updateCellTypeFormat"],d=(e,n,o,a=0)=>{if(l.get(o))return;l.set(o,!0);if(!(c.includes(t)&&0===a)&&("row"in o&&"col"in o)){const{row:e,col:t}=o,a={},l=KO()(s[e][t]),c=l.type,d=(0,OO.o)(o,i.current);if(d&&d.name!==(null==c?void 0:c.name)&&(a.type=d,l.type=d),QO.ZP.getCellType(o)===q_.lT.FORMULA){const e=QO.ZP.getCellValue(o);l.value=(0,NO._Z)(e,r,{hfType:QO.ZP.getCellType(o),hfDetailedType:QO.ZP.getCellValueDetailedType(o)});const t=l.resultValue,n=(0,eO.s4)(l,r).value;void 0!==n&&n!==t&&(a.resultValue=n)}Xr()(a)||n.push([e,t,e=>Object.assign({},$_()(e,["resultValue"]),a)])}QO.ZP.getCellDependents(o).forEach((t=>{d(e,n,t,a+1)}))},u=[];e.forEach((([e,t])=>d(n,u,{sheet:o,row:e,col:t}))),0!==u.length&&a.current.setCellData(u,"CellMeta.updateCellType.effect",(0,po.F)())}),[n]),N=(0,s.useCallback)(((e,t,r,o,s)=>{const d=i.current.getPlugin(r_).getOriginalSourceDataArray();if(t===Q_.INSERT){const t=QO.ZP.getSheetId(n),s=i.current.countCols(),a=i.current.countRows();if(e===X_.COL){const e=new Array(o).fill(""),n=new Array(a).fill(e),i={sheet:t,row:0,col:r};QO.ZP.setCellContents(i,n)}else if(e===X_.ROW){const e=new Array(s).fill(""),n=new Array(o).fill(e),i={sheet:t,row:r,col:0};QO.ZP.setCellContents(i,n)}}const u=[];d.forEach(((e,t)=>{u[t]||u.push([]),e.forEach(((e,n)=>{const{cellData:r=(0,kw.Pk)()}=i.current.getCellMeta(t,n);u[t].push(Object.assign({},r,{value:e}))}))}));const m=(0,NO.k4)(Object.assign({dataArray:u},e===X_.COL&&t===Q_.INSERT&&{colIndex:r,nColsAdded:o},e===X_.ROW&&t===Q_.INSERT&&{rowIndex:r,nRowsAdded:o},{hotTableInstanceRef:i}));if((0,Jw.mr)(i.current,l),"resizeHandle"===s)return;const p=VO()(null==s?void 0:s.split(":"),1),h=p&&parseInt(p),g=a.current.getHotColWidthsGU();c({id:n,changes:{tableContent:{data:m,colWidthsGU:g},width:g.reduce(((e,t)=>e+t),0)},transactionId:h})})),x=(0,s.useCallback)(((e,t,r,o,s,l)=>{if(!s||!l)return;let d=KO()(a.current.getHotTableData()),u=a.current.getHotColWidthsGU(),m=KO()(t);i.current.getPlugin(r_).getOriginalSourceDataArray().forEach(((e,t)=>{e.forEach(((e,n)=>{d[t][n].value=e}))}));const p=(0,eO.Ed)(d),h=(0,eO.QN)(d);if(e===X_.ROW){const e=new Array(p).fill(1).map(((e,t)=>t));i.current.rowIndexMapper.setIndexesSequence(e),(0,eO.cv)(m,d,r)}if(e===X_.COL){const e=new Array(h).fill(1).map(((e,t)=>t));i.current.columnIndexMapper.setIndexesSequence(e),d.forEach((e=>(0,eO.cv)(m,e,r)))}const g={nRows:i.current.countRows(),nCols:i.current.countCols()},f=e===X_.ROW?Jw.je:Jw.Fd,E=VO()(t,0),v=VO()(t,1)||VO()(t,0);C(!0),c({id:n,changes:{tableContent:{data:d,colWidthsGU:u},width:u.reduce(((e,t)=>e+t),0)},batchUndoActions:[{type:J_.TR,id:n,cellSelections:[f(E,v,g)]}],batchRedoActions:[{type:J_.TR,id:n,cellSelections:[f(r,r+v-E,g)]}]}),requestAnimationFrame((()=>{if(!i.current||i.current.isDestroyed)return;i.current.deselectCell();const t=r,n=r+m.length-1;e===X_.ROW&&i.current.selectRows(t,n),e===X_.COL&&i.current.selectColumns(t,n)}))})),M=(0,s.useCallback)(((e,t)=>{if(!1===e.isImmediatePropagationEnabled)return;if(e.target.parentElement.classList.contains("checkbox-animated")&&(e.isImmediatePropagationEnabled=!1),e.target.parentElement.parentElement.classList.contains("DraftLinkAnchor"))return e.stopImmediatePropagation(),e.preventDefault(),!1;if(!g){const t=Ww(i.current);if(!t)return;return t.dispatchEvent(new MouseEvent("mousedown",e)),void t.click()}if(2===e.button)return;const r=a.current.getHotCurrentCellSelections();if(((0,$.lk)(e)||(0,$.Up)(e))&&!(0,Jw.yP)(r))return e.stopImmediatePropagation(),e.preventDefault(),void d(n);const o=(0,Jw.BO)(r)&&(0,Jw.QM)((0,Jw.f3)(r))&&t.row===(0,Jw.E_)((0,Jw.f3)(r))&&t.col===(0,Jw.cz)((0,Jw.f3)(r));!(0,$.lk)(e)&&!(0,$.Up)(e)&&o&&i.current.getActiveEditor()&&(e.stopImmediatePropagation(),e.preventDefault(),i.current.getActiveEditor().beginEditing())}),[n,g]);return(0,s.useImperativeHandle)(t,(()=>({beforeAutofill:w,beforeCopy:O,beforeCut:_,beforePaste:R,beforeChange:A,afterChange:D,afterGridAltered:N,afterGridMovement:x,beforeOnCellMouseDown:M})),[w,O,_,R,A,D,N,x,M]),null}));eR.propTypes={elementId:l().string,hotTableInstanceRef:l().oneOfType([l().func,l().object]),tableOperationsRef:l().oneOfType([l().func,l().object]),hotTableContainerRef:l().oneOfType([l().func,l().object]),updateHotCellSelections:l().func,jumpToTitle:l().func,dispatchUpdateTableElement:l().func,dispatchDeselectElement:l().func,dispatchUndoAction:l().func,dispatchRedoAction:l().func,dispatchFinishUndoingOrRedoing:l().func,gridSize:l().number,isSingleSelected:l().bool,isUndoingOrRedoing:l().bool,isDarkMode:l().bool,isReadOnly:l().bool,showTitle:l().bool,showCaption:l().bool,isResizing:l().bool,locale:l().string,currencyPreference:l().string,mounted:l().bool,filterQuery:l().string,getContextZoomScale:l().func,setIsGridMoving:l().func};const tR=eR,nR=(0,s.forwardRef)((function(e,t){const{elementId:n,currentlyEditingEditorId:r,hotTableInstanceRef:o,tableOperationsRef:i,hotTableContainerRef:a,isSingleSelected:l,isResizing:c,isReadOnly:d,dispatchSetCellSelection:u,dispatchStartEditingTableGrid:m,dispatchFinishEditingElement:p}=e;(0,s.useEffect)((()=>{o.current&&!c&&(l||(o.current.deselectCell(),o.current.unlisten()),l&&!d&&o.current.listen())}),[l]),(0,s.useEffect)((()=>{if(!o.current||!o.current.isListening())return;!r||r===(0,z_.S9)(n)||r===(0,z_.bH)(n)||o.current.deselectCell()}),[n,r]);const h=(0,s.useCallback)(((e,t,s,l,c,d)=>{(0,Jw.Wt)(o.current);!r||r===(0,z_.S9)(n)||r===(0,z_.bH)(n)||requestAnimationFrame((()=>p()));const m=[e,t,s,l],h=i.current.popTransactionIdForNextUpdateCellSelection();(0,Jw.mr)(o.current,a),requestAnimationFrame((()=>u(n,m,d,h)))}),[n,r]),g=(0,s.useCallback)((()=>{r!==(0,z_.S9)(n)&&m(n)}),[n,r]),f=(0,s.useCallback)((()=>{setTimeout((()=>{var e;null!==(e=o.current)&&void 0!==e&&e.getSelected()||(p(n),u(n,null))}))}),[n]);return(0,s.useImperativeHandle)(t,(()=>({afterSelection:h,afterSelectionEnd:g,afterDeselect:f})),[h,g,f]),null}));nR.propTypes={elementId:l().string,currentlyEditingEditorId:l().string,hotTableInstanceRef:l().oneOfType([l().func,l().object]),tableOperationsRef:l().oneOfType([l().func,l().object]),hotTableContainerRef:l().oneOfType([l().func,l().object]),isSingleSelected:l().bool,isResizing:l().bool,isReadOnly:l().bool,dispatchSetCellSelection:l().func,dispatchStartEditingTableGrid:l().func,dispatchFinishEditingElement:l().func};const rR=nR;var oR=n(40156),iR=n(76073);const sR=(0,s.forwardRef)((function(e,t){const{elementId:n,gridSize:r,mounted:o,dispatchUpdateTableElement:i,hotTableInstanceRef:a,tableOperationsRef:l}=e,c=(0,iR.Z)(r);(0,s.useEffect)((()=>{var e;if(!o)return;const t=null===(e=a.current)||void 0===e?void 0:e.getPlugin("manualRowResize");if(!a.current||!t||!c)return;const n=a.current.countRows();for(let o=0;o<n;o++){const e=a.current.getRowHeight(o),i=Math.ceil(e/c),s=0===o?1:0,l=0===o||o===n-1?1:0;t.setManualSize(o,i*r-s-l)}}),[r]);const d=(0,oR.Z)(((e,t,r)=>{var o,s,c;if(!(null===(o=a.current)||void 0===o?void 0:o.getPlugin("manualColumnResize")))return;const d=null===(s=l.current)||void 0===s?void 0:s.getHotTableData(),u=null===(c=l.current)||void 0===c?void 0:c.getHotColWidthsGU();u&&requestAnimationFrame((()=>{i({id:n,changes:{tableContent:{data:d,colWidthsGU:u}}})}))}),10,[r,n]),u=(0,s.useCallback)((()=>Fw.Ut*r),[r]),m=(0,s.useCallback)((e=>{if(!a.current)return;const t=a.current.countRows(),n=0===e?1:0,o=0===e||e===t-1?1:0;return Fw.wM*r-n-o}),[r]);return(0,s.useImperativeHandle)(t,(()=>({afterColumnResize:d,getDefaultColWidth:u,getDefaultRowHeight:m})),[d,u,m]),null}));var aR=n(14841),lR=n.n(aR);const cR=e=>2===e.button,dR=(0,s.forwardRef)((function(e,t){const{elementId:n,gridSize:r,getContextZoomScale:o,hotTableInstanceRef:i,tableOperationsRef:a}=e,l=(0,s.useRef)(),c=(0,s.useRef)(),d=(0,s.useCallback)(((e,t)=>{const n=$w();if(!n||cR(e))return;const r=o(),s=Gw();if(!s)return;const a=s.getBoundingClientRect(),l=Xw();if(!l)return;const d=l.getBoundingClientRect();if(t){var u;const e=null===(u=i.current)||void 0===u?void 0:u.getPlugin("manualRowMove");null==e||e.refreshPositions()}requestAnimationFrame((()=>{if(e.clientY<a.top||e.clientY>a.bottom)return void(n.style.top=c.current+"px");const t=getComputedStyle(s).getPropertyValue("--table-title-height"),o=lR()(t.split("px")[0])*r,i=e.clientY-a.top;c.current=(i-o)/r,n.style.top=c.current+"px";const l=Yw();if(l){const e=lR()(l.style.top.split("px")[0])+1,t=Math.round((d.top-a.top-o)/r),n=Math.round((d.bottom-a.top-o)/r),i=e>=t-1&&e<=n+1;l.style.display=i?"none":"block",l.classList.toggle("guideline-top",e<=1)}}))}),[]),u=(0,s.useCallback)(((e,t)=>{const n=Vw();if(!n||cR(e))return;const r=o(),s=Gw();if(!s)return;const a=s.getBoundingClientRect(),c=Xw();if(!c)return;const d=c.getBoundingClientRect();if(t){var u;const e=null===(u=i.current)||void 0===u?void 0:u.getPlugin("manualColumnMove");null==e||e.refreshPositions()}requestAnimationFrame((()=>{if(e.clientX<a.left||e.clientX>a.right)return void(n.style.left=l.current+"px");const t=e.clientX-a.left;l.current=t/r,n.style.left=l.current+"px";const o=qw();if(o){const e=lR()(o.style.left.split("px")[0]),t=Math.round((d.left-a.left)/r),n=Math.round((d.right-a.left)/r),i=e>=t-1&&e<=n+1;o.style.display=i?"none":"block"}}))}),[]),m=(0,s.useCallback)((()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",m),requestAnimationFrame((()=>{var e;const t=Yw();t&&(t.style.display="none");const r=qw();r&&(r.style.display="none"),null===(e=Zw(n))||void 0===e||e.classList.remove("remove-selection-border")}))}),[]),p=(0,s.useCallback)(((e,t)=>{var i;if(!1===e.isImmediatePropagationEnabled)return;if(!a.current)return;const s=a.current.getHotCurrentCellSelections(),l=a.current.getHotColWidthsGU(),c=(0,Jw.f3)(s);if(!c)return;if(!(0,Jw.tZ)(c)&&!(0,Jw.GI)(c))return;if(!(0,Jw.ZR)(t)&&!(0,Jw.C$)(t))return;if(!((0,Jw.Z8)(t.row,c)&&(0,Jw.wq)(t.col,c)))return;const p=Vw(),h=$w();if(!p&&!h)return;const g=(0,Jw.tZ)(c)?u:d;if(g(e,!0),null===(i=Zw(n))||void 0===i||i.classList.add("remove-selection-border"),document.addEventListener("mousemove",g),document.addEventListener("mouseup",m),!p)return;const f=o(),E=Gw();if(!E)return;const v=(e.clientX-E.getBoundingClientRect().left)/f;if(l){const e=nO(l,r),n=zd()(e.slice(0,t.col));p.style.marginLeft=n-v+"px"}}),[r]);return(0,s.useImperativeHandle)(t,(()=>({beforeOnCellMouseDown:p})),[p]),null})),uR=dR;var mR=n(22624);const pR=e=>{const{element:t,isSingleSelected:n,isDragging:r,shouldCoverTable:o,hotTableInstanceRef:i,hotTableContainerRef:a,inList:l,isReadOnly:c}=e,[d,u]=(0,s.useState)(o),m=l===Ay.L.IN_LIST_DOCUMENT_MODE,p=(0,$i.Mc)(t)||(0,$i.O3)(t)||m,h=Hw(a.current),g=null==h?void 0:h.scrollWidth,f=null==h?void 0:h.clientWidth,E=!ZO()(g)&&!ZO()(f)&&g>f;(0,s.useEffect)((()=>{u((o||c)&&!m)}),[o]),(0,s.useEffect)((()=>{if(!l)return;setTimeout((()=>{i.current&&i.current.updateSettings({viewportColumnRenderingOffset:p?100:3})}),0)}),[p]);let v=null;const b=(0,mR.Z)((()=>{if(n||!E||!p||r)return;const e=document.querySelector(".CanvasViewport");d&&(null==e||e.classList.add("prevent-horizontal-scrolling"),u(!1)),null!==v&&clearTimeout(v),v=setTimeout((()=>{null==e||e.classList.remove("prevent-horizontal-scrolling"),u(!0)}),150)}),100,[n,p,r,d,E]);let y=null;return s.createElement(s.Fragment,null,d&&s.createElement("div",{className:"HotTableCover",onWheel:e=>{0!==e.deltaX&&b(e)},onTouchStart:e=>{y=e.changedTouches[0].clientX},onTouchMove:e=>{e.changedTouches[0].clientX!==y&&b(e)}}))};var hR=n(50335);function gR(){console.info(this)}const fR=e=>function(t,n,r){const o=n.map((({start:e,end:t})=>[e.row,e.col,t.row,t.col]));(0,Jw.MV)(o).forEach((({row:t,col:n})=>{const r=QO.ZP.getSheetId(e),o=void 0===r?{}:{hfCellValue:QO.ZP.getCellValue({sheet:r,row:t,col:n}),hfCellType:QO.ZP.getCellType({sheet:r,row:t,col:n}),hfCellValueType:QO.ZP.getCellValueType({sheet:r,row:t,col:n}),hfCellValueDetailedType:QO.ZP.getCellValueDetailedType({sheet:r,row:t,col:n})};console.info(Object.assign({row:t,col:n,cellData:this.getCellMeta(t,n).cellData},o))}))};class ER extends s.Component{getTableContextMenuConfig(){const{elementId:e,hotTableInstanceRef:t,tableOperationsRef:n}=this.props;return!!n.current&&{items:Object.assign({cut:{},copy:{},paste:{key:"paste",name:"Paste",callback(){navigator.clipboard.readText().then((e=>{const n=t.current&&t.current.getPlugin("copyPaste");null==n||n.paste(e)}))}},separator4:gO.xV.SEPARATOR,add_rows_above_custom:{name:n.current.addRowsAboveMenuName,disabled:n.current.addRowsAboveDisabled,callback:n.current.addRowsAbove},add_rows_below_custom:{name:n.current.addRowsBelowMenuName,disabled:n.current.addRowsBelowDisabled,callback:n.current.addRowsBelow},separator1:gO.xV.SEPARATOR,add_cols_left_custom:{name:n.current.addColsLeftMenuName,disabled:n.current.addColsLeftDisabled,callback:n.current.addColsLeft},add_cols_right_custom:{name:n.current.addColsRightMenuName,disabled:n.current.addColsRightDisabled,callback:n.current.addColsRight},separator2:gO.xV.SEPARATOR,remove_rows_custom:{name:n.current.removeRowsMenuName,disabled:n.current.removeRowsDisabled,callback:n.current.removeRows},remove_cols_custom:{name:n.current.removeColsMenuName,disabled:n.current.removeColsDisabled,callback:n.current.removeCols},separator3:gO.xV.SEPARATOR,custom_alignment:{name:"Change Alignment...",submenu:{items:[{key:"custom_alignment:left",name:n.current.textAlignmentMenuName(Uw.H.LEFT),callback:n.current.updateCellTextAlignment(Uw.H.LEFT)},{key:"custom_alignment:center",name:n.current.textAlignmentMenuName(Uw.H.CENTER),callback:n.current.updateCellTextAlignment(Uw.H.CENTER)},{key:"custom_alignment:right",name:n.current.textAlignmentMenuName(Uw.H.RIGHT),callback:n.current.updateCellTextAlignment(Uw.H.RIGHT)},Object.assign({key:"separator"},gO.xV.SEPARATOR),{key:"custom_alignment:top",name:n.current.verticalAlignmentMenuName(Uw.Q4.TOP),callback:n.current.updateCellVerticalAlignment(Uw.Q4.TOP)},{key:"custom_alignment:middle",name:n.current.verticalAlignmentMenuName(Uw.Q4.MIDDLE),callback:n.current.updateCellVerticalAlignment(Uw.Q4.MIDDLE)},{key:"custom_alignment:bottom",name:n.current.verticalAlignmentMenuName(Uw.Q4.BOTTOM),callback:n.current.updateCellVerticalAlignment(Uw.Q4.BOTTOM)}]}}},(0,hR.Od)()?{separator5:gO.xV.SEPARATOR,debugTableInstance:{name:"Debug Table Instance",callback:gR,hidden:!(0,hR.Od)()},debugCell:{name:"Debug Cell",callback:fR(e),hidden:!(0,hR.Od)()}}:{})}}render(){return null}}const vR=ER;var bR=n(36968),yR=n.n(bR),IR=n(48403),CR=n.n(IR),SR=n(29742),TR=n(21018),wR=n(26815);const OR=e=>{let t="";return e.forEach((e=>{const n=(0,wR.Rq)(e);t+=`<span class="shortcut-key ${n.length>1?"shortcut-long":""}">${n}</span>`})),`<span class="shortcut-key-group">${t}</span>`};var _R=n(48233);const RR=e=>e.startsWith(_R.QP),AR=e=>e.startsWith(_R.WD);function DR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class NR extends s.Component{constructor(...e){super(...e),DR(this,"transactionIdForNextUpdateCellSelection",void 0),DR(this,"getHotTableData",(()=>{const{hotTableInstanceRef:e}=this.props;if(!e.current)return;const t=e.current.getCellsMeta(),n=[],r=e.current.countRows(),o=e.current.countCols();return t.forEach((e=>{const{row:t,col:i,cellData:s}=e||{};s&&t<r&&i<o&&yR()(n,[t,i],s)})),n})),DR(this,"getHotCurrentCellSelections",(()=>{var e;const{hotTableInstanceRef:t}=this.props;return null===(e=t.current)||void 0===e?void 0:e.getSelected()})),DR(this,"getHotColWidthsGU",(()=>{const{gridSize:e,hotTableInstanceRef:t}=this.props;if(!t.current)return;const n=[];for(let r=0;r<t.current.countCols();r++){const o=r===t.current.countCols()-1?2:0,i=(t.current.getColWidth(r)+o)/e;n.push(i)}return n})),DR(this,"popTransactionIdForNextUpdateCellSelection",(()=>{const e=this.transactionIdForNextUpdateCellSelection;return this.transactionIdForNextUpdateCellSelection=void 0,e})),DR(this,"updateHotCellSelections",((e,t)=>{const{isSingleSelected:n,hotTableInstanceRef:r}=this.props;if(!n)return;const o=(0,O.su)(e);if(!r.current)return;if(r.current.deselectCell(),!o)return;const i=r.current.getSelected();if(mI()(o,i))return;this.transactionIdForNextUpdateCellSelection=t;const s=e.find(Jw.tZ);if(s)return void r.current.selectColumns(Math.max((0,Jw.cz)(s),0),Math.min((0,Jw.jC)(s),r.current.countCols()-1));const a=e.find(Jw.GI);a?r.current.selectRows(Math.max((0,Jw.E_)(a),0),Math.min((0,Jw.E0)(a),r.current.countRows()-1)):r.current.selectCells(o)})),DR(this,"updateCellType",((e,t)=>{const{element:n,hotTableInstanceRef:r,currencyPreference:o}=this.props,i=(0,D.nRF)(n),s=r.current;if("string"!=typeof e)this.setCellDataForCellSelections((t=>Object.assign({},t,{type:e})),"CellMeta.updateCellType",t);else{const n=(t,n,r)=>(0,SR.vI)(t,e,o,i,n,r,s);this.setCellDataForCellSelections(n,"CellMeta.updateCellType",t)}})),DR(this,"updateCellTypeFormat",(e=>{this.setCellDataForCellSelections((t=>Object.assign({},t,{type:Object.assign({},t.type,e)})),"CellMeta.updateCellTypeFormat")})),DR(this,"updateColWidthPx",((e,t)=>{const{hotTableInstanceRef:n}=this.props;if(!n.current)return;const r=n.current.getPlugin("manualColumnResize"),o=r.setManualSize(e,t);r.newSize=o})),DR(this,"updateColWidthsPx",(e=>{const{hotTableInstanceRef:t}=this.props;if(!t.current)return;let n=!1;e.forEach(((e,r)=>{var o;(null===(o=t.current)||void 0===o?void 0:o.getColWidth(r))!==e&&(this.updateColWidthPx(r,e),n=!0)})),n&&requestAnimationFrame((()=>{t.current&&!t.current.isDestroyed&&t.current.render()}))})),DR(this,"addRowsAboveMenuName",(()=>{const e=this.getHotCurrentCellSelections(),t=(0,Jw.f3)(e);return`${t&&((0,Jw.E_)(t)===(0,Jw.E0)(t)||(0,Jw.tZ)(t))?"Add Row Above":"Add Rows Above"} ${OR(["alt","↑"])}`})),DR(this,"addRowsAboveDisabled",(()=>{const e=this.getHotCurrentCellSelections();return(0,Jw.FX)(e)})),DR(this,"addRowsAbove",(()=>{if(this.addRowsAboveDisabled())return;const{hotTableInstanceRef:e}=this.props;if(!e.current)return;const t=(0,po.k)(),n=`addRowsAbove:${t}`;this.transactionIdForNextUpdateCellSelection=t;const r=this.getHotCurrentCellSelections(),o=(0,Jw.f3)(r);if(!o)return void e.current.alter("insert_row_above",void 0,void 0,n);if((0,Jw.tZ)(o))return e.current.alter("insert_row_above",0,1,n),void this.updateHotCellSelections([[0,(0,Jw.cz)(o),0,(0,Jw.jC)(o)]],t);const i=Math.min((0,Jw.E_)(o),(0,Jw.E0)(o)),s=(0,Jw.Eq)(o);e.current.alter("insert_row_above",i,s,n),this.updateHotCellSelections([(0,O.su)(o)],t)})),DR(this,"addRowsBelowMenuName",(()=>{const e=this.getHotCurrentCellSelections(),t=(0,Jw.f3)(e);return`${t&&((0,Jw.E_)(t)===(0,Jw.E0)(t)||(0,Jw.tZ)(t))?"Add Row Below":"Add Rows Below"} ${OR(["alt","↓"])}`})),DR(this,"addRowsBelowDisabled",(()=>{const e=this.getHotCurrentCellSelections();return(0,Jw.FX)(e)})),DR(this,"addRowsBelow",(()=>{if(this.addRowsBelowDisabled())return;const{hotTableInstanceRef:e}=this.props;if(!e.current)return;const t=(0,po.k)(),n=`addRowsBelow:${t}`;this.transactionIdForNextUpdateCellSelection=t;const r=this.getHotCurrentCellSelections();if(!r)return void e.current.alter("insert_row_below",void 0,void 0,n);const o=(0,Jw.f3)(r);if(!o)return;if((0,Jw.tZ)(o)){const t=(0,Jw.Eq)(o)-1,r=1;e.current.alter("insert_row_below",t,r,n)}else{const t=Math.max((0,Jw.E_)(o),(0,Jw.E0)(o)),r=(0,Jw.Eq)(o);e.current.alter("insert_row_below",t,r,n)}this.updateHotCellSelections([(0,Jw.pJ)(o)],t)})),DR(this,"addColsLeftMenuName",(()=>{const e=this.getHotCurrentCellSelections(),t=(0,Jw.f3)(e);return`${t&&((0,Jw.cz)(t)===(0,Jw.jC)(t)||(0,Jw.GI)(t))?"Add Column Left":"Add Columns Left"} ${OR(["alt","←"])}`})),DR(this,"addColsLeftDisabled",(()=>{const e=this.getHotCurrentCellSelections();return(0,Jw.FX)(e)})),DR(this,"addColsLeft",(()=>{if(this.addColsLeftDisabled())return;const{hotTableInstanceRef:e}=this.props;if(!e.current)return;const t=(0,po.k)(),n=`addColsLeft:${t}`;this.transactionIdForNextUpdateCellSelection=t;const r=this.getHotCurrentCellSelections(),o=(0,Jw.f3)(r);if(!o)return void e.current.alter("insert_col_start",void 0,void 0,n);if((0,Jw.GI)(o)){const r=0,i=1;return e.current.alter("insert_col_start",r,i,n),void this.updateHotCellSelections([[(0,Jw.E_)(o),0,(0,Jw.E0)(o),0]],t)}const i=Math.min((0,Jw.cz)(o),(0,Jw.jC)(o)),s=(0,Jw.LR)(o);e.current.alter("insert_col_start",i,s,n),this.updateHotCellSelections([(0,O.su)(o)],t)})),DR(this,"addColsRightMenuName",(()=>{const e=this.getHotCurrentCellSelections(),t=(0,Jw.f3)(e);return`${t&&((0,Jw.cz)(t)===(0,Jw.jC)(t)||(0,Jw.GI)(t))?"Add Column Right":"Add Columns Right"} ${OR(["alt","→"])}`})),DR(this,"addColsRightDisabled",(()=>{const e=this.getHotCurrentCellSelections();return(0,Jw.FX)(e)})),DR(this,"addColsRight",(()=>{const{hotTableInstanceRef:e}=this.props;if(!e.current)return;const t=(0,po.k)(),n=`addColsRight:${t}`,r=this.getHotCurrentCellSelections();if(!r)return void e.current.alter("insert_col_end",void 0,void 0,n);const o=(0,Jw.f3)(r);if(!o)return;if((0,Jw.GI)(o)){const t=(0,Jw.LR)(o)-1,r=1;e.current.alter("insert_col_start",t,r,n)}else{const t=Math.max((0,Jw.cz)(o),(0,Jw.jC)(o))+1,r=(0,Jw.LR)(o);e.current.alter("insert_col_start",t,r,n)}this.updateHotCellSelections([(0,Jw.LN)(o)],t)})),DR(this,"removeRowsMenuName",(()=>{const e=this.getHotCurrentCellSelections(),t=(0,Jw.f3)(e);return t&&((0,Jw.E_)(t)===(0,Jw.E0)(t)||(0,Jw.tZ)(t))?"Delete Row":"Delete Rows"})),DR(this,"removeRowsDisabled",(()=>{const e=this.getHotTableData(),t=this.getHotCurrentCellSelections();if(!e||(0,Jw.FX)(t))return!0;const n=(0,Jw.f3)(t);return!n||(0,Jw.U4)(e,n)<Fw.D3})),DR(this,"removeRows",(()=>{if(this.removeRowsDisabled())return;const{hotTableInstanceRef:e}=this.props;if(!e.current)return;const t=(0,po.k)(),n=`removeRows:${t}`;this.transactionIdForNextUpdateCellSelection=t;const r=this.getHotCurrentCellSelections(),o=(0,Jw.f3)(r);if(!o)return;const i=Math.min((0,Jw.E_)(o),(0,Jw.E0)(o)),s=(0,Jw.Eq)(o);e.current.alter("remove_row",i,s,n)})),DR(this,"removeColsMenuName",(()=>{const e=this.getHotCurrentCellSelections(),t=(0,Jw.f3)(e);return t&&((0,Jw.cz)(t)===(0,Jw.jC)(t)||(0,Jw.GI)(t))?"Delete Column":"Delete Columns"})),DR(this,"removeColsDisabled",(()=>{const e=this.getHotTableData(),t=this.getHotCurrentCellSelections(),n=(0,Jw.f3)(t);return!e||!n||((0,Jw.FX)(t)||(0,Jw.rB)(e,n)<Fw._O)})),DR(this,"removeCols",(()=>{if(this.removeColsDisabled())return;const{hotTableInstanceRef:e}=this.props;if(!e.current)return;const t=(0,po.k)(),n=`removeCols:${t}`;this.transactionIdForNextUpdateCellSelection=t;const r=this.getHotCurrentCellSelections(),o=(0,Jw.f3)(r);if(!o)return;const i=Math.min((0,Jw.cz)(o),(0,Jw.jC)(o)),s=(0,Jw.LR)(o);e.current.alter("remove_col",i,s,n)})),DR(this,"addFormulaToCell",(()=>{const{hotTableInstanceRef:e}=this.props,t=this.getHotCurrentCellSelections();if(!t||!(0,Jw.BO)(t))return;(0,Jw.f3)(t)&&requestAnimationFrame((()=>{var t,n;e.current&&!e.current.isDestroyed&&(null===(t=e.current)||void 0===t||null===(n=t.getActiveEditor())||void 0===n||n.beginEditing("="))}))})),DR(this,"setCellBackground",(e=>{this.setCellDataForCellSelections((t=>Object.assign({},t,{background:e})),"CellMeta.updateCellBackground")})),DR(this,"getCellBackground",(e=>{const{hotTableInstanceRef:t}=this.props;if(!e)return null;const n=new Set;(0,Jw.MV)(e).forEach((e=>{var r,o,i;const{row:s,col:a}=e;n.add((null===(r=t.current)||void 0===r||null===(o=r.getCellMeta(s,a))||void 0===o||null===(i=o.cellData)||void 0===i?void 0:i.background)||null)}));const r=Array.from(n);return r.length>1?void 0:1===r.length?r[0]:null})),DR(this,"setTempColor",(e=>{const{hotTableInstanceRef:t}=this.props;if(!t.current)return;const n=this.getHotCurrentCellSelections();n&&((0,Jw.MV)(n).forEach((n=>{var r;if(!t.current)return;const{row:o,col:i}=n,s=(null===(r=t.current.getCellMeta(o,i))||void 0===r?void 0:r.cellData)||{};t.current.setCellMetaObject(o,i,{cellData:Object.assign({},s,{background:e})})})),t.current.render())}))}hasInlineStyle(e,t){var n;if(null!==(n=e.textStyle)&&void 0!==n&&n.includes(t))return!0;if(!e.value)return!1;const r=(0,t_.bQ)(e.value);if("object"!=typeof r)return!1;return Dt.EditorState.createWithContent((0,Dt.convertFromRaw)(r)).getCurrentInlineStyle().includes(t)}applyTextStyle(e){const{elementId:t,hotTableInstanceRef:n,dispatchUpdateTableElement:r}=this.props;if(!n.current)return;const o=this.getHotCurrentCellSelections(),i=this.getHotColWidthsGU();if(!o||!i)return;const s=this.getHotTableData();if(!s)return;const a=(0,Jw.f3)(o);if(!a)return;const l=(0,Jw.q_)(a),c=s[(0,Jw.E_)(l)][(0,Jw.cz)(l)],d=!e||!this.hasInlineStyle(c,e),u=!e||RR(e)||AR(e),m=KO()(s);(0,Jw.MV)(o).forEach((t=>{const{row:n,col:r}=t;let o=m[n][r].textStyle||[];d?(o=o.filter((t=>u?!(RR(t)||AR(t)):t!==e)),e&&o.push(e)):o=o.filter((t=>t!==e)),m[n][r].textStyle=o;const i=s[n][r].value,a=i&&(0,t_.bQ)(i);if(a&&"object"==typeof a){if(d&&u){let e=(0,Dt.convertFromRaw)(a),t=Dt.EditorState.createWithContent(e);const o=(0,TR.Z)(e);[...Object.values(_R.Kb),...Object.values(_R.Yc)].forEach((t=>{e=Dt.Modifier.removeInlineStyle(e,o,t)})),t=Dt.EditorState.push(t,e,"change-inline-style"),m[n][r].value=(0,t_.GU)((0,Dt.convertToRaw)(t.getCurrentContent()))}if(!d&&e){const t=(0,Dt.convertFromRaw)(a);let o=Dt.EditorState.createWithContent(t);const i=(0,TR.Z)(t),s=Dt.Modifier.removeInlineStyle(t,i,e);o=Dt.EditorState.push(o,s,"change-inline-style"),m[n][r].value=(0,t_.GU)((0,Dt.convertToRaw)(o.getCurrentContent()))}}this.setCellMetaObject(n,r,{cellData:m[n][r]})})),n.current.render();const p={type:J_.TR,id:t,cellSelections:n.current.getSelected()};setTimeout((()=>{r({id:t,changes:{tableContent:{colWidthsGU:i,data:m}},batchUndoActions:[p],batchRedoActions:[p]})}),0)}textAlignmentMenuName(e){return()=>{const{hotTableInstanceRef:t,locale:n}=this.props,r=this.getHotCurrentCellSelections(),o=!(0,Jw.MV)(r).some((({row:r,col:o})=>{if(!t.current)return!1;const{cellData:i=(0,kw.Pk)()}=t.current.getCellMeta(r,o),s=t.current.getDataAtCell(r,o);return(0,NO.z8)(i,n,s)!==e}));return`${CR()(e)}${o?'<span class="tick">✔︎</span>':""}`}}verticalAlignmentMenuName(e){return()=>{const{hotTableInstanceRef:t}=this.props,n=this.getHotCurrentCellSelections(),r=!(0,Jw.MV)(n).some((({row:n,col:r})=>{if(!t.current)return!1;const{cellData:o=(0,kw.Pk)()}=t.current.getCellMeta(n,r);return o.verticalAlignment?o.verticalAlignment!==e:e!==Fw.PN}));return`${CR()(e)}${r?'<span class="tick">✔︎</span>':""}`}}updateCellTextAlignment(e){return()=>this.setCellDataForCellSelections((t=>Object.assign({},t,{textAlignment:e})),"CellMeta.updateCellTextAlignment")}updateCellVerticalAlignment(e){return()=>this.setCellDataForCellSelections((t=>Object.assign({},t,{verticalAlignment:e})),"CellMeta.updateCellVerticalAlignment")}jumpToTitle(){const{elementId:e,showTitle:t,dispatchStartEditingTitle:n}=this.props;t&&requestAnimationFrame((()=>n(e)))}setCellData(e,t="CellMeta.update",n){const{elementId:r,hotTableInstanceRef:o,dispatchUpdateTableElement:i}=this.props;if(!o.current)return;const s=this.getHotTableData(),a=this.getHotColWidthsGU();if(!s||!a)return;const l=KO()(s);o.current.suspendRender();const c=[];e.forEach((e=>{const[t,n,r]=e,o=r(l[t][n],t,n);l[t][n]=Object.assign({},l[t][n],o),this.setCellMetaObject(t,n,{cellData:l[t][n]}),c.push([t,n,l[t][n].value])})),o.current.resumeRender(),o.current.render(),c.length>0&&requestAnimationFrame((()=>{var e;o.current&&!o.current.isDestroyed&&(null===(e=o.current)||void 0===e||e.setDataAtCell(c,t))}));const d={type:J_.TR,id:r,cellSelections:o.current.getSelected()};setTimeout((()=>{i({id:r,changes:{tableContent:{colWidthsGU:a,data:l}},batchUndoActions:[d],batchRedoActions:[d],transactionId:n})}),0)}setCellDataForCellSelections(e,t,n=this.getHotCurrentCellSelections()){const r=(0,Jw.MV)(n).map((t=>{const{row:n,col:r}=t;return[n,r,e]}));return this.setCellData(r,t)}setCellMetaObject(e,t,n){const{hotTableInstanceRef:r}=this.props;if(!r.current)return;const o=KO()(n);o.cellData&&(o.readOnly=(0,SR.lN)(o.cellData)),r.current.setCellMetaObject(e,t,o)}render(){return null}}const xR=NR;var MR=n(35292);const PR=e=>{const{currentContent:t,index:n,formula:r,focusedIndex:o,addFormulaToCell:i,setShowFormulaDropdown:a}=e,[l,c]=(0,LS.Z)({focusedIndex:o,index:n}),d=null==t?void 0:t.toUpperCase().replace("=",""),u=r.substring(d.length);return s.createElement("li",{className:`formula-option ${l}`,key:n,tabIndex:0,ref:c},s.createElement(hi.Z,{onMouseDown:e=>{i(r),a(!1),e.stopPropagation(),e.preventDefault()}},!!d&&s.createElement(s.Fragment,null,s.createElement("strong",null,d),u),!d&&s.createElement(s.Fragment,null,r)))};var LR=s.createElement("span",null,"View formula help"),kR=s.createElement(N.Z,{name:"chevron-right"});const FR=(0,s.forwardRef)((function(e,t){const{addFormulaToCell:n,showFormulaDropdown:r,setShowFormulaDropdown:o}=e,[i,a]=(0,s.useState)(QO.Id),[l,c]=(0,s.useState)(""),d=(0,MR.Z)(!0,0,i.length),{focusedIndex:u,setFocusIndex:m,moveListFocusUp:p,moveListFocusDown:h}=d,g=(0,s.useCallback)((()=>{const e=i[u];n(e)}),[i,u]),f=(0,s.useCallback)(((e,t)=>{if(o(e),t===l)return i.length>0;if(m(0),c(t??""),!t)return!1;const n=((e,t)=>{const n=e.toUpperCase().replace("=","");return n?t.filter((e=>e.startsWith(n))):["SUM","IF","MIN","MAX","COUNT","AVERAGE"]})(t,QO.Id);return a(n),n.length>0}),[i,u]),E=r&&!Xr()(i);return(0,s.useImperativeHandle)(t,(()=>({updateFormulaDropdown:f,useFocusedFormula:g,moveListFocusUp:p,moveListFocusDown:h,isFormulaDropdownOpen:()=>E})),[f,g,p,h,E]),s.createElement(s.Fragment,null,E&&s.createElement(pe.Z,{arrowColor:"var(--ui-modal-background-primary)",arrowStrokeColor:"var(--ui-modal-background-primary-hover)",className:"FormulaDropdown",selector:".Table.selected .handsontable-input-holder",position:he.as.BOTTOM,pollPosition:!0},s.createElement(F.Z,Object.assign({},e,{visible:E,popupId:gl.K2.FORMULA_DROPDOWN,closePopup:()=>o(!1)}),s.createElement("ul",{className:"formula-list","data-table-util":!0},i.map(((t,n)=>s.createElement(PR,Object.assign({formula:t,key:n,index:n,currentContent:l,focusedIndex:u,setShowFormulaDropdown:o},e))))),s.createElement("div",{className:"formula-docs-link"},s.createElement(hi.Z,{onMouseDown:()=>{window.open("https://help.milanote.com/en/articles/8584809-formulas-functions-for-tables","_blank")},rel:"noopener noreferrer"},LR,kR)))))}));FR.propTypes={addFormulaToCell:l().func,showFormulaDropdown:l().bool,setShowFormulaDropdown:l().func},PR.propTypes={currentCell:l().object,index:l().number,formula:l().string,addFormulaToCell:l().func,focusedIndex:l().number,setShowFormulaDropdown:l().func,currentContent:l().string};const BR=FR;var jR=n(98129),zR=n(89924);const UR=({date:e,updateDate:t,hasTime:n,updateDateHasTime:r,locale:o})=>s.createElement("div",{className:"SimpleDateTimePicker"},s.createElement("div",{className:"calendar-section"},s.createElement(jR.Z,{value:e,onChange:t,futureOnly:!1,locale:o})),s.createElement("div",{className:"time-section"},s.createElement(zR.Z,{hasDueDateTime:n,setHasDueDateTime:r,dueDate:e,setDueDate:t,unsetTimeMessage:"Add time…"})));UR.propTypes={date:l().instanceOf(Date),updateDate:l().func,hasTime:l().bool,updateDateHasTime:l().func,locale:l().string};const HR=UR,ZR=e=>{const{tableContentData:t,isCurrentlyEditingTableCell:n,gridSize:r,element:o,currentCellSelections:i,cellEditorRef:a,showFormulaDropdown:l,locale:c}=e,d=(0,Jw.MV)(i),{row:u,col:m}=d[0]||{},p=1===d.length?(0,O.su)(VO()(t,[u,m])):void 0,{type:{hasTime:h=!1,name:g}={},value:E}=p||{},[v,b]=(0,s.useState)(h),I=(0,ea.Z)((0,t_.bQ)(E)),[C,S]=(0,s.useState)((()=>(0,y.bl)(I,c)||new Date((new Date).setHours(0,0,0,0)))),T=n&&g===Uw.CellTypeNames.DATE_TIME&&!l&&!(0,OO.j)(I);return(0,s.useEffect)((()=>{if(ZO()(C)||!T)return;const e=(0,D.VWX)(d[0])(o),t=(null==a?void 0:a.current.getEditorState()).getCurrentContent().getPlainText(),n=(0,y.st)(t),r=(0,y.v)(C,{hasTime:v,hasSeconds:n,useTwelveHour:!0},c);null==a||a.current.setPlainText(r,e)}),[C,v]),T?s.createElement(pe.Z,{selector:".Table.selected .handsontable-input-holder",className:f()("TableDateTimePicker","className","light"),position:he.as.BOTTOM,gridSize:r,pollPosition:!0},s.createElement(F.Z,Object.assign({},e,{visible:T,popupId:gl.K2.TABLE_DATE_TIME_PICKER,ignoredClicksSelector:".Toolbar",closePopup:()=>{}}),s.createElement("div",{className:"popup-content","data-table-util":!0},s.createElement(HR,{locale:c,date:C,updateDate:e=>S(e),hasTime:v||!1,updateDateHasTime:e=>b(e)})))):null};ZR.propTypes={isCurrentlyEditingTableCell:l().bool,gridSize:l().number,element:l().object,tableContentData:l().array,currentCellSelections:l().object,updateCellTypeFormat:l().func,cellEditorRef:l().object,showFormulaDropdown:l().bool,locale:l().string};const GR=ZR,KR=e=>{const{element:t,tableContentData:n,gridSize:r,currentCellSelections:o,isCurrentlyEditingTableCell:i,dropdownRef:a,cellEditorRef:l,locale:c}=e,[d,u]=(0,s.useState)(!1);return s.createElement(s.Fragment,null,s.createElement(BR,{ref:a,showFormulaDropdown:d,setShowFormulaDropdown:u,addFormulaToCell:e=>{e&&l.current.setPlainText("="+e+"(")}}),i&&s.createElement(GR,{showFormulaDropdown:d,isCurrentlyEditingTableCell:i,gridSize:r,element:t,cellEditorRef:l,currentCellSelections:o,tableContentData:n,locale:c}))};KR.propTypes={element:l().object,tableContentData:l().array,gridSize:l().number,currentCellSelections:l().object,isCurrentlyEditingTableCell:l().bool,dropdownRef:l().oneOfType([l().func,l().object]),cellEditorRef:l().oneOfType([l().func,l().object]),locale:l().string};const WR=KR,VR=({row:e,col:t,textContent:n,hotTableInstance:r,isEditable:o=!0})=>{const i=(0,t_.bQ)(n),a=(0,ea.Z)(i),l=!0===n||"true"===a.toLowerCase();return s.createElement("div",{className:"CellCheckboxRenderer"},s.createElement(xt.Z,{checked:l,onPointerDown:n=>{n.handled=!0,o&&setTimeout((()=>{r.setDataAtCell(e,t,(!l).toString())}),50)},onClick:A.hE}))};VR.propTypes={row:l().number,col:l().number,textContent:l().any,hotTableInstance:l().object,isEditable:l().bool};const $R=VR,qR={[q_.NI.DIV_BY_ZERO]:"Numbers can't be divided by zero",[q_.NI.CYCLE]:"Circular reference detected"};var YR=s.createElement(N.Z,{name:"error-alert-round"}),XR=s.createElement(N.Z,{name:"error-alert-round"});const QR=e=>{const{cellError:t}=e,{message:n,value:r,type:o}=t,i=n&&""!==n?"."===(a=n).at(a.length-1)?a.slice(0,-1):a:qR[o]||r;var a;return s.createElement("div",{className:"CellFormulaErrorRenderer"},s.createElement(Po.Z,{enabled:!0,className:"cell-formula-error-tooltip-source",tooltipId:"tooltip-cell-formula-error",tooltipText:s.createElement("div",{className:"tooltip-cell-formula-error-content"},YR,i),pollPosition:!0,distance:10,delay:200,triggerOnMouseEnter:!0},XR))};var JR=n(95650);const eA=e=>{const{row:t,col:n,hotCellValue:r,cellData:o={},hotTableInstance:i,hide:a,filterQuery:l}=e,{type:c,textAlignment:d,textStyle:u,background:m}=o||{},{locale:p,elementId:h}=i.milanoteProps,[g,E,v]=(0,s.useMemo)((()=>{const e=QO.ZP.getSheetId(h);if(void 0===e)return[null,null,null];return[QO.ZP.getCellType({sheet:e,row:t,col:n}),QO.ZP.getCellValueDetailedType({sheet:e,row:t,col:n}),QO.ZP.getCellValue({sheet:e,row:t,col:n})]}),[r,o,p]),{rawContent:b,plainText:y,hasTextStyling:I,hasLinks:C}=(0,s.useMemo)((()=>{const e=(0,NO.qf)(o,p,r,{hfType:g,hfDetailedType:E});if(null===e)return{};const t=(0,Dt.convertToRaw)(e),n=e.getPlainText(),i=(e=>{let t;return e.getBlockMap().forEach((e=>{e.getCharacterList().forEach((e=>{const n=e.getStyle();var r;n&&(t=(null===(r=t)||void 0===r?void 0:r.union(n))||n)}))})),t})(e);return{rawContent:t,plainText:n,hasTextStyling:!!i&&i.size>0||!!u&&u.length>0,hasLinks:(0,JR.Z)(n).length>0}}),[r,o,p]),S=(0,s.useMemo)((()=>(0,NO.z8)(o,p,r)),[r,o,p]),T=(0,s.useMemo)((()=>(0,NO.qg)(o)),[m]);if(a)return null;const w=f()("MilanoteCellRendererComponent",T),O="FORMULA"===g||"ARRAYFORMULA"===g;if(O&&"ERROR"===E&&"object"==typeof v&&"message"in v)return s.createElement("div",{className:w},s.createElement(QR,{cellError:v}));if((null==c?void 0:c.name)===Uw.CellTypeNames.CHECKBOX){const e=d||Uw.kE[c.name].alignment;return s.createElement("div",{className:f()(w,"button-cell-renderer",`align-${e}`)},s.createElement($R,{row:t,col:n,textContent:r,isEditable:!O,hotTableInstance:i}))}return b?l||I||C?s.createElement("div",{className:w},s.createElement(B_,{className:"handsontable-renderer",isEditing:!1,isEditable:!1,textContent:b,defaultStyleOverride:u,textAlignment:S,editorId:`${h}-${Fw.Am}-RENDERER`,editorKey:`${Fw.Am}-RENDERER`,filterQuery:l})):s.createElement("div",{className:w,style:{textAlign:S}},s.createElement("p",null,y)):s.createElement("div",{className:w})};eA.propTypes={row:l().number,col:l().number,hotCellValue:l().any,cellData:l().object,hotTableInstance:l().object,hide:l().bool,filterQuery:l().string};const tA=eA;function nA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class rA extends s.Component{constructor(...e){super(...e),nA(this,"portalCacheMap",new Map),nA(this,"state",{portals:[]}),nA(this,"afterViewRender",(()=>{this.setState({portals:[...this.portalCacheMap.values()]},(()=>this.portalCacheMap.clear()))})),nA(this,"initGetMemoisedPortal",(()=>{const e={},t={};return(n,r)=>{const{row:o,col:i}=r,a=`${o}-${i}`;if(n.getAttribute("ghost-table"))return t[a];const l=e[a];if(!(!l||!mI()(l,r))&&""!==n.innerHTML)return t[a];const c=(0,ms.createPortal)(s.createElement(tA,r),n,a);return e[a]=r,t[a]=c,c}})),nA(this,"getMemoisedPortal",this.initGetMemoisedPortal()),nA(this,"getRendererWrapper",(()=>{const e=this;return(t,n,r,o,i,s,a)=>{const{cellData:l}=a,{locale:c,filterQuery:d}=t.milanoteProps||{},u=this.getMemoisedPortal(n,{row:r,col:o,cellData:l,hotTableInstance:t,hotCellValue:s,locale:c,filterQuery:d});n.getAttribute("ghost-table")?n.innerHTML=u.containerInfo.innerHTML||"":(e.portalCacheMap.set(`${r}-${o}`,u),n.classList.add(Qw(null==l?void 0:l.verticalAlignment)),n.style.background=(0,NO.VS)(l),(0,NO.BR)(t,r,o))}}))}render(){return s.createElement("div",{className:"HotTableRendererPortalManager"},this.state.portals)}}rA.propTypes={};const oA=rA,iA=e=>{const{element:t,mounted:n,tableContentData:r,currentCellSelections:o,tableContentColWidthsGU:i,gridSize:a,inList:l,getContextZoomScale:c,isUndoingOrRedoing:d,isGridMoving:u,setIsGridMoving:m,hotTableContainerRef:p,hotTableInstanceRef:h,tableOperationsRef:g}=e,f=()=>{if(!h.current)return;u&&m(!1);const e=h.current.getPlugin(r_);if(!e)return;const t=e.getOriginalSourceDataArray(),n=(0,eO.zx)(r);mI()(n,t)||h.current.updateData(n);const o=[];n.forEach(((e,t)=>{e.forEach(((e,n)=>{if(!h.current)return;const i=VO()(r,[t,n]),{cellData:s}=h.current.getCellMeta(t,n);var a;mI()(s,i)||(null===(a=g.current)||void 0===a||a.setCellMetaObject(t,n,{cellData:i}),o.push([t,n,null==i?void 0:i.value]))}))})),(0,Jw.mr)(h.current,p),Xr()(o)||(h.current.render(),requestAnimationFrame((()=>{h.current&&!h.current.isDestroyed&&h.current.setDataAtCell(o,"CellMeta.init")})))},E=(0,oR.Z)(f,100,[r]);(0,s.useEffect)((()=>!n||d||u?f():E()),[r]);const v=()=>{var e;if(!h.current)return;const t=h.current.getSelected();mI()((0,O.su)(o),t)||null===(e=g.current)||void 0===e||e.updateHotCellSelections(o)},b=(0,oR.Z)(v,100,[o]);(0,s.useEffect)((()=>{!n||d?v():b()}),[o]);const y=(0,mR.Z)((()=>{var e;const n=tO(t,l,p,c),r=nO(i,a,n);r&&(null===(e=g.current)||void 0===e||e.updateColWidthsPx(r))}),100,[i,a,l]);return(0,s.useEffect)((()=>{var e;if(!h.current||!l)return;const t=new ResizeObserver((()=>y()));return t.observe(null===(e=h.current)||void 0===e?void 0:e.rootElement),()=>t.disconnect()}),[]),(0,s.useEffect)((()=>{var e,t;const n=null==h||null===(e=h.current)||void 0===e?void 0:e.getPlugin("manualColumnResize");null!=n&&null!==(t=n.milanoteValues)&&void 0!==t&&t.isCurrentlyResizing||(y(),(0,Jw.mr)(h.current,p))}),[i,a]),null};var sA=n(85491),aA=n(55777),lA=n(48935),cA=n(71154),dA=n(7575);function uA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const mA=(0,Z_.Z)();(0,hO.fo)(gO.xV),(0,hO.fo)(fO.lV),(0,hO.fo)(EO.qn),(0,hO.fo)(vO.GB),(0,hO.fo)(bO.bV),(0,hO.fo)(yO.le),(0,hO.fo)(IO.dY),(0,hO.fo)(CO.Z),(0,hO.fo)(SO.Gf),(0,hO.fo)(TO.ry),(0,hO.fo)(b_),(0,hO.fo)(kO),(0,hO.fo)(UO),(0,hO.fo)(a_),(0,hO.fo)(XO),(0,hO.fo)(p_),(0,hO.fo)(C_),(0,pO.qm)("milanoteCellEditor",R_);const pA=(0,$e.aU)("isSingleSelected");class hA extends s.Component{constructor(e){super(e),uA(this,"onMouseDown",(e=>{const{isSingleSelected:t}=this.props;t&&(0,sA.B)(e)})),this.hotTableInstanceRef=e.hotTableInstanceRef,this.cellEditorRef=s.createRef(),this.dropdownRef=s.createRef(),this.tableCellEditingHandlersRef=s.createRef(),this.tableCellSelectionHandlersRef=s.createRef(),this.tableColumnResizeHandlersRef=s.createRef(),this.tableMoveColumnRowHandlersRef=s.createRef(),this.tableContextMenuHandlersRef=s.createRef(),this.tableResizeHandlersRef=s.createRef(),this.tableOperationsRef=s.createRef(),this.hotTableRendererPortalManagerRef=s.createRef(),this.state={mounted:!1,currentlyEditingCellEditorCoords:null,isSelectingCell:!1,shouldCoverTable:!e.isSingleSelected}}componentDidMount(){var e;const{element:t,elementId:n,tableContentData:r,tableContentColWidthsGU:o,hotTableContainerRef:i,hotTableInstanceRef:s,gridSize:a,isDarkMode:l,inList:c,isReadOnly:d,isResizing:u,getContextZoomScale:m,showTitle:p,showCaption:h,locale:g,filterQuery:f}=this.props;T_.ZP.addHotTableComponent(n,this);const E=i.current,v=tO(t,c,i,m),b=nO(o,a,v);s.current=new mO.ZP(E,{licenseKey:null===(e=mA.handsontable)||void 0===e?void 0:e.licenseKey,data:(0,eO.zx)(r),editor:d?null:"milanoteCellEditor",renderer:this.hotTableRendererPortalManagerRef.current.getRendererWrapper(),colHeaders:!0,rowHeaders:!0,autoColumnSize:!1,autoRowSize:!1,manualRowMove:!0,manualColumnMove:!0,columnHeaderHeight:0,rowHeaderHeight:0,height:"auto",formulas:{engine:QO.ZP,sheetName:n},manualColumnResize:b,manualRowResize:!0,contextMenu:this.tableContextMenuHandlersRef.current.getTableContextMenuConfig(),outsideClickDeselects:!1,colWidths:this.tableColumnResizeHandlersRef.current.getDefaultColWidth,rowHeights:this.tableColumnResizeHandlersRef.current.getDefaultRowHeight,afterInit(){var e;this.getPlugin(d_).removeHotContextMenuEventListeners();const t=this.getPlugin("CopyPaste");null!=t&&null!==(e=t.focusableElement)&&void 0!==e&&e.focus&&!d&&(t.focusableElement.focus=function(){this.mainElement.value=" ",this.mainElement.select()});const n=this.getPlugin("manualRowResize");n&&(n.setManualSize=function(e,t){const n=this.hot.toPhysicalRow(e);return this.rowHeightsMap.setValueAtIndex(n,t),t})},afterViewRender:(...e)=>this.hotTableRendererPortalManagerRef.current.afterViewRender(...e),beforeChange:(...e)=>this.tableCellEditingHandlersRef.current.beforeChange(...e),afterChange:(...e)=>setTimeout((()=>{var t;return null===(t=this.tableCellEditingHandlersRef.current)||void 0===t?void 0:t.afterChange(...e)})),afterCreateRow:(e,t,n)=>this.tableCellEditingHandlersRef.current.afterGridAltered(X_.ROW,Q_.INSERT,e,t,n),afterCreateCol:(e,t,n)=>this.tableCellEditingHandlersRef.current.afterGridAltered(X_.COL,Q_.INSERT,e,t,n),afterRemoveRow:(e,t,n,r)=>this.tableCellEditingHandlersRef.current.afterGridAltered(X_.ROW,Q_.REMOVE,e,t,r),afterRemoveCol:(e,t,n,r)=>this.tableCellEditingHandlersRef.current.afterGridAltered(X_.COL,Q_.REMOVE,e,t,r),beforeAutofill:(...e)=>this.tableCellEditingHandlersRef.current.beforeAutofill(...e),beforeCopy:(...e)=>this.tableCellEditingHandlersRef.current.beforeCopy(...e),beforeCut:(...e)=>this.tableCellEditingHandlersRef.current.beforeCut(...e),beforePaste:(...e)=>this.tableCellEditingHandlersRef.current.beforePaste(...e),beforeOnCellMouseDown:(...e)=>{this.tableCellEditingHandlersRef.current.beforeOnCellMouseDown(...e),this.tableMoveColumnRowHandlersRef.current.beforeOnCellMouseDown(...e)},afterRowMove:(...e)=>this.tableCellEditingHandlersRef.current.afterGridMovement(X_.ROW,...e),afterColumnMove:(...e)=>this.tableCellEditingHandlersRef.current.afterGridMovement(X_.COL,...e),afterSelection:(...e)=>{requestAnimationFrame((()=>this.setState({isSelectingCell:!0}))),this.tableCellSelectionHandlersRef.current.afterSelection(...e)},afterSelectionEnd:(...e)=>{requestAnimationFrame((()=>this.setState({isSelectingCell:!1}))),this.tableCellSelectionHandlersRef.current.afterSelectionEnd(...e)},afterDeselect:(...e)=>{this.tableCellSelectionHandlersRef.current.afterDeselect(...e)},afterColumnResize:(...e)=>this.tableColumnResizeHandlersRef.current.afterColumnResize(...e),milanoteEditing:{tableOperationsRef:this.tableOperationsRef,isReadOnly:d,filterQuery:f},milanoteFormulaCellReference:{cellEditorRef:this.cellEditorRef},milanoteFormulaAutocomplete:{enabled:!0,cellEditorRef:this.cellEditorRef,dropdownRef:this.dropdownRef}}),s.current.milanoteProps={gridSize:a,isDarkMode:l,showTitle:p,showCaption:h,getContextZoomScale:m,hotTableContainerRef:i,isResizing:u,elementId:(0,D.nRF)(t),locale:g,filterQuery:f},this.setState({mounted:!0})}componentDidUpdate(e){pA(e,this.props)&&(this.props.isSingleSelected?setTimeout((()=>{this.setState({shouldCoverTable:!1})}),0):this.setState({shouldCoverTable:!0}))}componentWillUnmount(){const{element:e,hotTableInstanceRef:t}=this.props;T_.ZP.removeHotTableComponent((0,D.nRF)(e),this),mO.ZP.hooks.destroy(t.current),setTimeout((()=>{t.current.destroy()}))}startEditingCellEditor(e){this.setState({currentlyEditingCellEditorCoords:e}),requestAnimationFrame((()=>{const{dispatchStartEditingTableCell:e,elementId:t,isCurrentlyEditingTableCell:n}=this.props;n||e(t)}))}finishEditingCellEditor(){this.setState({currentlyEditingCellEditorCoords:null}),requestAnimationFrame((()=>{const{dispatchFinishEditingElement:e,isCurrentlyEditingTableCell:t}=this.props;t&&e()}))}render(){var e,t;const{gridSize:n,hotTableContainerRef:r,hotTableInstanceRef:o,currentCellSelections:i}=this.props,{mounted:a,currentlyEditingCellEditorCoords:l,isSelectingCell:c}=this.state,d=null===(e=o.current)||void 0===e?void 0:e.countRows(),u=null===(t=o.current)||void 0===t?void 0:t.countCols(),m=!!i&&i.some((([e,,t])=>e===d-1||t===d-1)),p=!!i&&i.some((([,e,,t])=>e===u-1||t===u-1));return s.createElement("div",{className:f()("HotTable",{"is-selecting-cell":c,"is-selected-last-col":p,"is-selected-last-row":m}),onMouseDown:this.onMouseDown},s.createElement(pR,Object.assign({tableOperationsRef:this.tableOperationsRef,shouldCoverTable:this.state.shouldCoverTable},this.props)),s.createElement(xR,Object.assign({ref:this.tableOperationsRef},this.props)),s.createElement(tR,Object.assign({ref:this.tableCellEditingHandlersRef,tableOperationsRef:this.tableOperationsRef,mounted:a},this.props)),s.createElement(rR,Object.assign({ref:this.tableCellSelectionHandlersRef,tableOperationsRef:this.tableOperationsRef},this.props)),s.createElement(sR,Object.assign({ref:this.tableColumnResizeHandlersRef,tableOperationsRef:this.tableOperationsRef,mounted:a},this.props)),s.createElement(W_,Object.assign({ref:this.tableResizeHandlersRef,tableOperationsRef:this.tableOperationsRef},this.props)),s.createElement(uR,Object.assign({ref:this.tableMoveColumnRowHandlersRef,tableOperationsRef:this.tableOperationsRef},this.props)),s.createElement(vR,Object.assign({ref:this.tableContextMenuHandlersRef,tableOperationsRef:this.tableOperationsRef},this.props)),s.createElement(iA,Object.assign({tableOperationsRef:this.tableOperationsRef,mounted:a},this.props)),s.createElement(H_,Object.assign({},this.props,{cellEditorRef:this.cellEditorRef,hotTableContainerRef:r,hotTableInstanceRef:o,gridSize:n,currentlyEditingCellEditorCoords:l,mounted:a})),s.createElement(WR,Object.assign({},this.props,{dropdownRef:this.dropdownRef,cellEditorRef:this.cellEditorRef})),s.createElement(oA,{ref:this.hotTableRendererPortalManagerRef}),s.createElement("div",{className:"HotTableLib",ref:r}))}}hA.propTypes={element:l().object,elementId:l().string,tableContentData:l().array,tableContentColWidthsGU:l().array,dispatchUpdateTableElement:l().func,gridSize:l().number,tempSize:l().object,currentCellSelections:l().object,isPresentational:l().bool,isSingleSelected:l().bool,isResizing:l().bool,isDarkMode:l().bool,inList:l().string,isReadOnly:l().bool,showTitle:l().bool,showCaption:l().bool,isCurrentlyEditingTableCell:l().bool,locale:l().string,filterQuery:l().string,dispatchSetCellSelection:l().func,dispatchStartEditingTableCell:l().func,dispatchFinishEditingElement:l().func,dispatchUndoAction:l().func,dispatchRedoAction:l().func,dispatchDeselectElement:l().func,dispatchStartEditingTableGrid:l().func,hotTableInstanceRef:l().oneOfType([l().func,l().object]),hotTableContainerRef:l().oneOfType([l().func,l().object]),getContextZoomScale:l().func};const gA=(0,c.$j)(((e,{elementId:t})=>(0,E.zB)({tableContentData:(0,aA.UV)(),tableContentColWidthsGU:(0,aA.oq)(),currentlyEditingEditorId:(0,cA.Vp)(t),isCurrentlyEditingTableCell:(0,aA.Bp)(t),isDarkMode:lA.v2,isUndoingOrRedoing:e=>(0,dA.Nm)(e)||(0,dA.YX)(e),locale:eo.OL,currencyPreference:eo.EF})))(hA),fA=e=>{const{element:t,gridSize:n,inList:r,inTrash:o,isLocked:i,isEditable:a,elementEvents:l,isSelected:c,isDragging:d,isPresentational:u,currentBoardId:m,permissions:p,setParentHoveredChildAcceptsDrop:h,getContextZoomScale:g,getContextZoomTranslationPx:E,dispatchSetCellSelection:v,currentCellSelections:b}=e,y=(0,s.useRef)(null),I=(0,s.useRef)(null),C=(0,s.useRef)(null),S=(0,s.useRef)(null),T=(0,s.useRef)(null),[_,R]=(0,s.useState)(!1),A=(0,D.u3P)(t),N=(0,D.A7z)(t),x=(0,it._2)(ht.A.TRANSPARENT)(t),M=(0,D.nRF)(t),P=(0,D.KTp)(t),L=zw()((0,O.su)((0,D.yvq)(t))),k=(0,D.dzi)(t)||to.cv,F=x,B=r===Ay.L.IN_LIST_DOCUMENT_MODE,j=B||!a,z=u&&!!document.querySelector(`#el-${M}`),U=(0,s.useMemo)((()=>f()("Table drag-handle contrast-shadow",{"background-color-target":c,"background-color-contrast-target":c,"show-title":A,"show-caption":N,"has-cell-selection":null==b?void 0:b.size,"read-only":j})),[A,N,c,j,null==b?void 0:b.size]),H=(0,w.UX)(U,Object.assign({},e,{transparent:F})),Z=(0,ns.bS)(k,n,r),G=(0,s.useCallback)((()=>{if(B||!y.current||!I.current)return;const e=I.current.querySelector(".public-DraftEditor-content").firstChild,t=(0,pr.Kb)(getComputedStyle(e).height)/(0,pr.Kb)(getComputedStyle(e).lineHeight)%2==0;I.current.firstChild.classList.toggle("title-even-lines",t);const n=(0,pr.Kb)(getComputedStyle(I.current).height);y.current.style.setProperty("--table-title-height",`${n}px`)}),[n]);(0,s.useEffect)((()=>{A?(y.current.style.setProperty("--table-title-height",5*n+"px"),G()):y.current.style.setProperty("--table-title-height","0px")}),[A,L]),(0,s.useEffect)((()=>{G()}),[n]);const K=(0,s.useCallback)((()=>v(M,[0,0,0,0])),[M,v]);(0,s.useEffect)((()=>{if(!S.current||!y.current)return;const e=S.current.rootElement.querySelector("td");y.current.style.setProperty("--table-cell-border-rendered-width",`${rO(e)}px`)}),[]),(0,s.useEffect)((()=>{if(!S.current)return;const e=S.current.rootElement.querySelector(".wtHolder"),t=e.offsetHeight-e.clientHeight;y.current.style.setProperty("--scroll-bar-height",`${t}px`)}),[]);const W=!i&&a&&!r&&!j;return s.createElement("div",Object.assign({id:(0,w.Oc)(M),ref:y,className:H},l,{style:Z}),A&&s.createElement(cO,Object.assign({},e,{ref:I,onChange:()=>{requestAnimationFrame(G)},jumpToFirstCell:K})),z&&s.createElement(uO,{element:t,gridSize:n,inList:r,isDragging:d,inTrash:o}),!z&&s.createElement(gA,Object.assign({},e,{ref:C,hotTableInstanceRef:S,hotTableContainerRef:T,showTitle:A,showCaption:N,isReadOnly:j,isGridMoving:_,setIsGridMoving:R})),s.createElement(ei.Z,{show:(0,os.Z)(e),elementId:M,element:t,currentBoardId:m,gridSize:n,getContextZoomScale:g,getContextZoomTranslationPx:E}),s.createElement(Ko,e),s.createElement(Ae.Z,e),s.createElement(wi,e),s.createElement(Re.Z,Object.assign({},e,{padTop:!0,placeholder:"Add a description",textContent:P,captionVisible:N,editorId:`${M}-${Fw.AA}`,editorKey:Fw.AA})),s.createElement(Wi,{setParentHoveredChildAcceptsDrop:h,gridSize:n,isPresentational:u,element:t,elementId:M,getContextZoomScale:g}),s.createElement(ts,{gridSize:n,elementId:M,element:t,isPresentational:u,currentBoardId:m,permissions:p}),s.createElement(Ue,Object.assign({},e,{showHandle:W})))};fA.propTypes={element:l().object.isRequired,gridSize:l().number,inList:l().string,inTrash:l().bool,isLocked:l().bool,isSelected:l().bool,isEditable:l().bool,isPresentational:l().bool,isDragging:l().bool,isRemotelySelected:l().bool,permissions:l().number,currentBoardId:l().string,elementEvents:l().object,tempSize:l().object,setParentHoveredChildAcceptsDrop:l().func,getContextZoomScale:l().func,getContextZoomTranslationPx:l().func,dispatchStartEditingTitle:l().func,dispatchSetCellSelection:l().func,hotTableInstanceRef:l().object,hotTableContainerRef:l().object,currentCellSelections:l().object};const EA=fA;var vA,bA,yA,IA,CA=n(39461);function SA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const TA=(0,E.zB)({currentCellSelections:aA.pF});let wA=(vA=(0,c.$j)(TA,(e=>({dispatchCreateAndEditNewElement:({location:t,currentBoardId:n,element:r,creationSource:o,content:i})=>{const s=(0,D.KTp)(r);return e((0,Qr.bc)({creationSource:o,elementType:Fw.vj,location:t,currentBoardId:n,content:Object.assign({caption:s&&s.toJS(),showCaption:(0,D.A7z)(r),showTitle:(0,D.u3P)(r)},i,{width:to.cv}),select:!0}))},dispatchMoveElementsToTrash:({currentBoardId:t,elementIds:n})=>e((0,zr.fC)({currentBoardId:t,elementIds:n})),dispatchUpdateTitle:({id:t,title:n,transactionId:r})=>e((0,Qr.yj)({id:t,changes:{title:n},transactionId:r})),dispatchHideTitle:({id:t,transactionId:n})=>e((0,Qr.yj)({id:t,changes:{[qy.SZ]:!1},transactionId:n})),dispatchDeselectAllElements:()=>e((0,vs.yJ)()),dispatchStartEditingTitle:t=>e((0,vs.TV)({id:t,editorKey:Fw.e0,editorId:(0,z_.n9)(t)})),dispatchStartEditingTableGrid:t=>e((0,vs.TV)({id:t,editorKey:Fw.MY,editorId:(0,z_.S9)(t)})),dispatchStartEditingTableCell:t=>e((0,vs.TV)({id:t,editorKey:Fw.Am,editorId:(0,z_.bH)(t)})),dispatchFinishEditingElement:t=>e((0,vs.gR)(t)),dispatchSetCellSelection:(t,n,r,o)=>e((0,CA.Lb)(t,n,r,o)),dispatchUpdateTableElement:t=>e((0,CA.g6)(t)),dispatchUndoAction:()=>e((0,lr.wK)()),dispatchRedoAction:()=>e((0,lr.b)()),dispatchDeselectElement:t=>e((0,vs.wR)({ids:[t]})),dispatchFinishUndoingOrRedoing:()=>e((0,lr.tt)())}))),bA=(0,Mi.Z)(["dragModifierKeys"]),yA=ws({getMinWidth:cs()(Fw.yo),getMinHeight:cs()(Fw.Gl),enableHeight:!0}),vA(IA=(0,fs.Z)(IA=bA(IA=Cs(IA=yA(IA=hs(IA=class extends s.Component{constructor(...e){super(...e),SA(this,"moveElementsToTrash",(()=>{const{currentBoardId:e,element:t,dispatchMoveElementsToTrash:n}=this.props;n({currentBoardId:e,elementIds:[(0,D.nRF)(t)]})})),SA(this,"submitTableTitle",(()=>{const{dispatchDeselectAllElements:e}=this.props;e()}))}shouldComponentUpdate(e){return!e.isElementOpenInModal||!this.props.isElementOpenInModal}render(){const{connectLineEdgeDropTarget:e,canConnectLineEdge:t,createNewElement:n}=this.props;return(e&&t?e:us())(s.createElement("div",null,s.createElement(EA,Object.assign({},this.props,{updateElementType:this.updateElementType,saveContent:this.saveContent,createNewElement:n,submitTitle:this.submitTableTitle,moveElementsToTrash:this.moveElementsToTrash}))))}})||IA)||IA)||IA)||IA)||IA)||IA);wA.propTypes={element:l().object.isRequired,elementId:l().string,currentBoardId:l().string.isRequired,languagePreference:l().string,createNewElement:l().func,inList:l().string,canConnectLineEdge:l().bool,gridSize:l().number,isElementOpenInModal:l().bool,dispatchSaveTextContent:l().func,dispatchMoveElementsToTrash:l().func,isEditable:l().bool,connectLineEdgeDropTarget:l().func,dispatchStartEditingTitle:l().func,dispatchUpdateElementType:l().func,dispatchDeselectAllElements:l().func,dispatchUpdateTableElement:l().func};const OA=wA,_A=[Ws.z.TEXT_STYLES,Ws.z.TABLE_CELL_TYPE,Ws.z.TABLE_CELL_COLOR,Ws.z.TABLE_CELL_FORMULA,Ws.z.TABLE_CELL_ALIGNMENT,Ws.z.TABLE_ADD_COLUMN,Ws.z.TABLE_ADD_ROW],RA=()=>{const e=(e,t)=>e&&t===Fw.Am;return((e={})=>(0,b.QS)(Object.assign({elementType:Fw.vj,objectConstructorFn:Bw,displayName:Fw.pU},e)))({containerComponent:OA,presentationalComponent:EA,tools:[Ks.Tk.TABLE_OPERATIONS,Object.assign({},Ks.Tk.TITLE,{predicate:(t,n,r,o,i)=>!e(o,i)}),Object.assign({},Ks.Tk.CAPTION,{predicate:(t,n,r,o,i)=>!e(o,i)})],selectedTools:[Ws.z.TITLE,Ws.z.CAPTION,...Ws.l.MULTI_SELECT_ARRANGEMENT],"editingTools_TABLE-CELL":_A,"editingTools_TABLE-GRID":_A,"editingTools_TABLE-TITLE":[Ws.z.TITLE,Ws.z.CAPTION],editingTools_CAPTION:Ws.l.TEXT_EDITING_CAPTION,"editingRangeTools_TABLE-CELL":[Ws.z.TEXT_STYLES,Ws.z.TEXT_BOLD,Ws.z.TEXT_ITALIC,Ws.z.TEXT_STRIKETHROUGH],tooltip:Mt.mL?"⌃⌘N":"Ctrl+Alt+N"})};var AA=n(47915),DA=n(28040),NA=n(71630);function xA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const MA=(e,t)=>({enableDebugFeatures:()=>e((0,DA.HJ)()),enableDebugToolbar:()=>e((0,DA.fB)())});var PA=n(2525),LA=n.n(PA),kA=n(69e3);const FA="localStorage",BA={[FA]:{test:kA.I},contentEditable:{test:()=>{if(!("contentEditable"in document.documentElement))return;const e=function(...e){return"function"!=typeof document.createElement?document.createElement(e[0]):document.createElement.apply(document,e)}("div");return e.contentEditable=!0,"true"===e.contentEditable}},svg:{test:()=>!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect},webSockets:{test:()=>{const e="https:"==location.protocol?"wss":"ws";if("WebSocket"in window){const n="binaryType"in WebSocket.prototype;if(n)return n;try{return!!new WebSocket(`${e}://.`).binaryType}catch(t){}}return!1}}},jA="unsupportedAcknowledgement";var zA=n(32471),UA=n(89933),HA=n(74274),ZA=s.createElement("h2",null,"Sorry, your browser isn’t supported yet"),GA=s.createElement("p",{className:"explanation"},"We’re working hard to make Milanote work in Microsoft Edge, but we’re not there yet.");const KA=e=>{const t=[{text:"Install Google Chrome instead...",href:"https://www.google.com.au/chrome/"},{text:"Continue anyway",func:e.acknowledgeUnsupportedBrowser}];return s.createElement(UA.Z,null,ZA,GA,s.createElement(HA.Z,{actions:t}))};KA.propTypes={permissionsError:l().object,currentBoard:l().object,acknowledgeUnsupportedBrowser:l().func.isRequired};const WA=KA;var VA=s.createElement("h2",null,"Sorry, you need to enable storage to use Milanote"),$A=s.createElement("p",{className:"explanation"},"Milanote uses your browser's storage to save data while you're working, please enable it and try again.");const qA=e=>s.createElement(UA.Z,null,VA,$A,s.createElement(HA.Z,{actions:[{text:"Find out more",href:"http://www.whatarecookies.com/"}]}));qA.propTypes={};const YA=qA;var XA=n(15946),QA=s.createElement("h2",null,"Better on desktop"),JA=s.createElement("p",{className:"explanation"},"Because Milanote is so visual, these examples work best on a larger screen.");const eD=({acknowledgeUnsupportedBrowser:e})=>s.createElement(XA.Z,{className:"BrowserMobileDemoBoardFullScreenWarning"},QA,JA,s.createElement("div",{className:"laptop"},s.createElement("img",{src:n(65256),alt:""})),s.createElement(ho.Z,{onClickFn:e},"Continue anyway..."));eD.propTypes={acknowledgeUnsupportedBrowser:l().func};const tD=eD;var nD=n(35724);var rD=s.createElement(N.Z,{name:"green-tick"}),oD=s.createElement("h2",null,"Your account has been created!"),iD=s.createElement("p",{className:"explanation"},"To continue, please visit ",s.createElement("a",{href:"https://app.milanote.com"},"app.milanote.com")," on a desktop computer or tablet."),sD=s.createElement("p",{className:"secondary"},s.createElement("span",{className:"question"},"Why can’t I continue on my phone?"),"Milanote is a very visual tool, so setting up a new account is only possible on a larger screen.");const aD=({logout:e})=>s.createElement(XA.Z,{className:"BrowserMobileFullScreenWarning BrowserMobileFullScreenSignupSuccess"},rD,oD,iD,s.createElement("p",{className:"explanation"},"Or ",s.createElement(tc.Z,{onClickFn:e},"log in")," with a different account."),sD);aD.propTypes={logout:l().func};const lD=(0,c.$j)(null,(e=>({logout:()=>e(nD.kS())})))(aD);var cD=n(33921);const dD=e=>{const{supportedBrowser:t,features:n,acknowledgement:r,showingDetatchedHeader:o,isUsingMobileView:i,isGuest:a,currentUser:l}=e;return n.isSupported||-1===n.errors.indexOf(FA)||r?t&&n.isSupported||r?i&&o&&a&&!r?s.createElement(tD,e):i&&!a&&(()=>{switch((0,Gs.uT)()){case Bl.Q.ANDROID_BOARD_LIST:case Bl.Q.IOS_BOARD_LIST:case Bl.Q.IOS_CANVAS:case Bl.Q.IPAD_OS:return!1;default:return!0}})()&&l&&(0,O.vg)("fetched",l)&&!(0,zA.Nc)(l.get("education"),cD.UW.DESKTOP_ONBOARDING)?s.createElement(lD,e):null:s.createElement(WA,e):s.createElement(YA,e)};dD.propTypes={supportedBrowser:l().bool,features:l().object,acknowledgement:l().bool,showingDetatchedHeader:l().bool,isUsingMobileView:l().bool,isMobile:l().bool,isGuest:l().bool,isIOS:l().bool,acknowledgeUnsupportedBrowser:l().func.isRequired,currentUser:l().object};const uD=dD;var mD;const pD=(0,E.zB)({isGuest:eo.ht,currentUser:eo.ts,isMobile:()=>(0,Mt.tq)(),isIOS:()=>(0,Mt.gn)(),isUsingMobileView:L.UK}),hD=e=>{document.body.classList.add(e)};let gD=(0,c.$j)(pD)(mD=class extends s.Component{constructor(){super(),this.state={supportedBrowser:!1,acknowledgement:!1,features:{isValid:!0,errors:[]}},this.acknowledgeUnsupportedBrowser=this.acknowledgeUnsupportedBrowser.bind(this)}componentWillMount(){const e=(()=>{const e=window.navigator.userAgent||"";return/Safari|Chrome|Firefox|iPhone|iPad/.test(e)&&!/Edge|MSIE|rv:11/.test(e)})(),t=(()=>{let e=!0;const t=[];return LA()(BA,((n,r)=>{const o=n.test();o||(console.warn(`FEATURE WARNING: Required feature ${r} is not supported by this browser`),t.push(r)),e=e&&o})),{isSupported:e,errors:t}})();let n=!1;e&&t.isSupported||(n="true"===kA.Z.getItem(jA)),this.setState({supportedBrowser:e,acknowledgement:n,features:t});const r=(0,Mt.i7)()?"chrome":(0,Mt.G6)()?"safari":(0,Mt.vU)()?"firefox":void 0;r&&hD(r),(0,Mt.T)()&&hD("touch-device");const o=(0,Mt.Xf)();hD(`platform-${o}`)}acknowledgeUnsupportedBrowser(){kA.Z.setItem(jA,!0),this.setState({acknowledgement:!0})}render(){const{supportedBrowser:e,features:t,acknowledgement:n}=this.state;return s.createElement(uD,Object.assign({},this.props,{acknowledgeUnsupportedBrowser:this.acknowledgeUnsupportedBrowser,supportedBrowser:e,features:t,acknowledgement:n}))}})||mD;gD.propTypes={children:l().element};const fD=gD;var ED=n(56426),vD=n(68737);const bD=e=>{const{dispatchPwaAppInstall:t}=e;return s.useEffect((()=>{const e=()=>{setTimeout((()=>{(0,ED.z)()&&t()}),2e3)};return window.addEventListener("appinstalled",e),()=>{window.removeEventListener("appinstalled",e)}}),[]),null};bD.propTypes={dispatchPwaAppInstall:l().func};const yD=(0,c.$j)(null,(e=>({dispatchPwaAppInstall:()=>e({type:vD.G})})))(bD);var ID=n(53360),CD=n(57110);const SD=(0,O.vg)("name"),TD=(0,O.vg)("initialized"),wD=nl.I4.map((e=>(0,ns.cb)(e.name))),OD=({gridSize:e,updateGridSize:t})=>{const n=()=>{document.body.classList.remove(...wD),document.documentElement.classList.remove(...wD)};return(0,s.useEffect)((()=>{if(!TD(e))return;const t=SD(e);return t&&((e=>{const t=(0,ns.cb)(e);n(),document.body.classList.add(t),document.documentElement.classList.add(t)})(t),!(0,AA.$)()&&(0,CD._)(t)),n}),[e]),(0,s.useEffect)((()=>{if(TD(e))return;const{size:n,name:r}=(0,ns.qr)()||(0,ns.W9)(screen.width,screen.height,(0,Mt.T)());t(n,r)}),[]),null};OD.propTypes={gridSize:l().object,updateGridSize:l().func};const _D=(0,c.$j)((e=>({gridSize:e.getIn(["app","gridSize"])})),(e=>({updateGridSize:(t,n)=>e((0,ID.Vv)(t,n))})))(OD);var RD=n(78862),AD=n(1638),DD=n(91188);(0,O.P2)(["app","hybridApp","isForeground"]),(0,O.P2)(["app","hybridApp","isActive"]);const ND=(0,O.P2)(["app","hybridApp","nativeTheme"]);var xD=n(10798),MD=n(79218),PD=n(82627);const LD=(0,E.zB)({isInitialised:lA._Y,mode:lA.r5,theme:lA.LL,nativeTheme:ND,canShowDarkModeSuggestion:e=>(0,eo.J5)(e)&&!!(0,xD.xe)(e)&&!!(0,xD.i$)(e)&&(0,zA.Nc)((0,eo.wB)(e),cD.UW.DESKTOP_ONBOARDING)&&(0,eo.$S)(e)<(0,y.u3)()-y.yu.DAY&&0===(0,P._W)(e).size&&((0,MD.Bh)(e)||(0,MD.$5)(e)),isShowingOneTrustBanner:MD.h0}),kD=e=>{const{isInitialised:t,mode:n,theme:r,nativeTheme:o,canShowDarkModeSuggestion:i,isShowingOneTrustBanner:a,dispatchSetThemeMode:l,dispatchSetTheme:c,dispatchSuggestDarkMode:d}=e,u=(0,iR.Z)(a);s.useEffect((()=>{t&&n===PD.yU.LIGHT&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(0,Mm.Q3)("dark-mode-os-light-mode-milanote")}),[]),s.useEffect((()=>{t&&(()=>{const e=r===PD.yU.LIGHT?PD.yU.DARK:PD.yU.LIGHT;document.body.classList.remove(e),document.body.classList.add(r)})()}),[r]),s.useEffect((()=>{t&&(0,RD.rW)(n)}),[n]),s.useEffect((()=>{if(t)return;const e=(0,RD.B1)();l(e)}),[]);const m=s.useRef(n);s.useEffect((()=>{t&&(m.current=n)}),[n]);const p=e=>{e.matches&&m.current===PD.yU.MATCH_BROWSER&&c(PD.yU.LIGHT)},h=e=>{e.matches&&m.current===PD.yU.MATCH_BROWSER&&c(PD.yU.DARK)};return s.useEffect((()=>{window.matchMedia("(prefers-color-scheme: light)").addListener(p),window.matchMedia("(prefers-color-scheme: dark)").addListener(h)}),[]),s.useEffect((()=>{if(!i||a)return;const e=u&&!a?1e3:0;(0,AD.v)()||m.current!==PD.yU.LIGHT||(window.matchMedia("(prefers-color-scheme: dark)").matches&&setTimeout(d,e),(0,Gs.L7)()&&o===PD.yU.DARK&&setTimeout(d,e))}),[i,a,o]),null};kD.propTypes={dispatchSetThemeMode:l().func,dispatchSetTheme:l().func,dispatchSuggestDarkMode:l().func,isInitialised:l().bool,nativeTheme:l().string,mode:l().string,theme:l().string,isShowingOneTrustBanner:l().bool,canShowDarkModeSuggestion:l().bool};const FD=(0,c.$j)(LD,(e=>({dispatchSetThemeMode:t=>e((0,DD.qe)(t)),dispatchSetTheme:t=>e((0,DD.Dc)(t)),dispatchSuggestDarkMode:t=>e((0,k.Mw)(gl.K2.DARK_MODE_SUGGESTION,Cd()))})))(kD);var BD=n(23839),jD=n(11945),zD=n(65124);const UD=(0,E.zB)({isInitialised:zD.W}),HD=e=>{const{isInitialised:t,dispatchSetDnd3dEffects:n}=e;return s.useEffect((()=>{if(t)return;const e=(0,BD.xl)();n(e)}),[]),null};HD.propTypes={isInitialised:l().bool,dispatchSetDnd3dEffects:l().func};const ZD=(0,c.$j)(UD,(e=>({dispatchSetDnd3dEffects:t=>e((0,jD.W)(t))})))(HD),GD=({disableSerifHeadings:e})=>((0,s.useEffect)((()=>(e?document.body.classList.add("sans-serif-headings"):document.body.classList.remove("sans-serif-headings"),()=>{document.body.classList.remove("sans-serif-headings")})),[e]),null);GD.propTypes={disableSerifHeadings:l().bool};const KD=(0,c.$j)((e=>({disableSerifHeadings:(0,qr.OK)((0,eo.ts)(e))})))(GD);var WD=n(51335),VD=n(6123);const $D=e=>{const{dispatchPreloadIcons:t}=e;return s.useEffect((()=>{t()}),[]),null};$D.propTypes={dispatchPreloadIcons:l().func};const qD=(0,c.$j)(null,(e=>({dispatchPreloadIcons:()=>e(((e,t)=>{const n=t(),r=(0,lA.LL)(n),o=(0,L.Og)(n);WD.BR.preload(),o===nl.HR.MEDIUM.name&&WD.qD.preload(),o===nl.HR.SMALL.name&&WD.yJ.preload(),r===PD.yU.DARK&&(VD.gF.preload(),o===nl.HR.MEDIUM.name&&VD.Tw.preload(),o===nl.HR.SMALL.name&&VD.H_.preload())}))})))($D),YD="onetrust-banner-dark-filter",XD=e=>window.OnetrustActiveGroups?window.OnetrustActiveGroups.includes(e):null;var QD=n(16547),JD=n(20354),eN=n(59728);const tN=()=>!!window.OneTrust&&!!window.OneTrust.Init&&!!window.OneTrust.GetDomainData,nN=({isGuest:e,userId:t,userOTToken:n})=>{const r=(0,Z_.Z)(),[o,i]=(0,s.useState)(eN.Rx.UNFETCHED),a=(0,s.useCallback)(((e,t)=>{if(window.OneTrust=window.OneTrust||{},window.OneTrust.dataSubjectParams={},e&&t&&(window.OneTrust.dataSubjectParams={id:e,token:t,isAnonymous:!1}),o===eN.Rx.UNFETCHED){const{domainScript:e}=r.oneTrust,t=document.createElement("script");return t.src=`https://cdn.cookielaw.org/consent/${e}/otSDKStub.js`,t.dataset.domainScript=e,document.body.appendChild(t),i(eN.Rx.FETCHING),void(0,QD.AE)(tN,{duration:6e4}).then((()=>{i(eN.Rx.INITIALISED)})).catch((e=>{i(eN.Rx.ERROR),(0,JD.vl)({errorMessage:"OneTrust failed to load",error:e})}))}o===eN.Rx.INITIALISED&&window.OneTrust.syncConsentProfile(e,t,!1)}),[o]);return(0,s.useEffect)((()=>{(0,AA.$)()||(!e&&t&&"guest"!==t&&a(t,n),e&&a())}),[e,t]),[o]};var rN=n(99238);const oN=(0,E.zB)({isGuest:eo.ht,userId:eo.rc,userOTToken:eo.j_,activeModalId:rN.x,showOneTrustBanner:MD.h0}),iN=(0,Se.Le)((e=>{const{isGuest:t,userId:n,userOTToken:r,activeModalId:o,showOneTrustBanner:i,dispatchSetOneTrustStatus:a,dispatchSetOneTrustConsentModel:l,dispatchShowOneTrustBanner:c,dispatchHideOneTrustBanner:d}=e,u=(0,Z_.Z)(),[m]=nN({isGuest:t,userId:n,userOTToken:r}),[p,h]=(0,s.useState)((()=>XD(eN.RI.PERFORMANCE_COOKIES))),g=(0,iR.Z)(i),f=(0,mR.Z)((()=>{var e,t;if(m!==eN.Rx.INITIALISED)return;const n=(null===(e=window.OneTrust.GetDomainData())||void 0===e||null===(t=e.ConsentModel)||void 0===t?void 0:t.Name)===eN.wd.OPT_IN;!1===window.OneTrust.IsAlertBoxClosed()&&(n||!n&&null===o)?c():d()}),50,[m,o,c,d]);return(0,s.useEffect)((()=>{var e,t;if(a(m),m!==eN.Rx.INITIALISED)return;const n=null===(e=window.OneTrust.GetDomainData())||void 0===e||null===(t=e.ConsentModel)||void 0===t?void 0:t.Name;l(n),f(),h(XD(eN.RI.PERFORMANCE_COOKIES)),window.OneTrust.OnConsentChanged((()=>{f(),h(XD(eN.RI.PERFORMANCE_COOKIES))}))}),[m]),(0,Hr.Z)((()=>{i?f():setTimeout((()=>f()),3e3)}),[o]),(0,Hr.Z)((()=>{if(!g&&i){var e,t,n;document.body.classList.add("show-cookie-banner");(null===(e=window.OneTrust)||void 0===e||null===(t=e.GetDomainData())||void 0===t||null===(n=t.ConsentModel)||void 0===n?void 0:n.Name)===eN.wd.OPT_IN&&(()=>{const e=document.createElement("div");e.classList.add(YD),document.body.append(e)})()}g&&!i&&(document.body.classList.remove("show-cookie-banner"),(()=>{const e=document.getElementsByClassName(YD);Array.from(e).forEach((e=>document.body.removeChild(e)))})())}),[i]),(0,s.useEffect)((()=>{null!==p&&((0,Kt.lr)(p),p&&(0,Kt.Or)(u))}),[p]),null})),sN=(0,c.$j)(oN,(e=>({dispatchSetOneTrustStatus:t=>e((e=>({type:eN.nn,status:e}))(t)),dispatchSetOneTrustConsentModel:t=>e((e=>({type:eN.tn,consentModel:e}))(t)),dispatchShowOneTrustBanner:()=>e({type:eN.jZ}),dispatchHideOneTrustBanner:()=>e({type:eN.BX})})))(iN);var aN,lN=n(58177);const cN=(0,AA.$)();Vs(),Dl(),vp(),Wg(),ch(),$l(),sf(),Ef(),jf(),Zv(),$y(),uC(),AT(),YT(),dw(),Lw(),RA();const dN=(0,E.zB)({isLocalCacheHydrated:Fl.k});var uN=s.createElement(yD,null),mN=s.createElement(_D,null),pN=s.createElement(KD,null),hN=s.createElement(FD,null),gN=s.createElement(ZD,null),fN=s.createElement(qD,null),EN=s.createElement(sN,null);let vN=(e=>{var t;let n=(0,c.$j)(null,MA)(t=class extends s.Component{constructor(e){super(e),xA(this,"enableDebugFeatures",(()=>{this.props.enableDebugFeatures()})),xA(this,"enableDebugToolbar",(()=>{this.props.enableDebugToolbar()})),window.enableDebug=this.enableDebugFeatures,window.enableDebugToolbar=this.enableDebugToolbar}componentWillMount(){(0,hR.Od)()&&(console.info("[debug] Milanote debug tools enabled"),this.enableDebugFeatures()),(0,hR.Bq)(NA.qK.TOOLBAR)&&this.enableDebugToolbar()}render(){return s.createElement(e,this.props)}})||t;return n.propTypes={enableDebugFeatures:l().func,enableDebugToolbar:l().func},n})(aN=class extends s.Component{componentDidMount(){this.props.isLocalCacheHydrated&&this.props.dispatchAppConnectionStatusActive()}render(){const e=!(0,Gs.cE)()&&!(0,Z_.Z)().disableThirdPartyResources;return s.createElement("div",{className:f()("App",{"in-iframe":cN})},this.props.children,s.createElement(fD,this.props),uN,mN,pN,hN,gN,fN,e&&EN)}})||aN;vN.propTypes={children:l().oneOfType([l().arrayOf(l().node),l().node]),dispatchAppConnectionStatusActive:l().func,isLocalCacheHydrated:l().bool,isPreviewRoute:l().bool};const bN=(0,c.$j)(dN,(e=>({dispatchAppConnectionStatusActive:()=>e({type:lN.fX})})))(vN);var yN=n(73715),IN=n(45915);const CN=o()([IN.RY.AUTH_TOKEN]),SN=e=>{const t=(0,Se._X)((({location:e,dispatchOnSuccess:t,dispatchNavigateToRootWorkspace:n})=>{const r=(0,mh.JS)(e.hash),o=e.query,i=CN(r)||CN(o);return i?t(i,o):n()}));return(0,c.$j)(null,(t=>({dispatchOnSuccess:(n,r)=>t(((o,i)=>{e&&t(e(r)),(0,nD.BT)({replaceUrl:!0,dispatch:t,getState:i})({data:{token:n}})})),dispatchNavigateToRootWorkspace:()=>t((0,X.Bg)(!0))})))(t)},TN=SN(((e={})=>(t,n)=>{const r=e[IN.RY.REGISTRATION_ENTRY_POINT];if(r){const e=Vo.$R[r];e&&(0,Kt.dO)({eventType:e})}return t((0,nD.pV)())})),wN=SN(nD.he);var ON=n(27177),_N=n(97973),RN=n(29095),AN=n(80637),DN=n(11155),NN=n(62574),xN=n(93655),MN=n(6465);function PN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const LN=(0,E.zB)({currentUser:eo.ts,redirectPath:_N.Wu,redirectOverride:_N.zJ,onboarding:_N.NN,onboardingFlowId:_N.m,onboardingQuery:_N.QH,onboardingInitialEducation:_N.Qx}),kN=(0,Se.qC)(NN.Z,(0,c.$j)(LN,(e=>({dispatchAddListener:t=>e((0,RN.Z1)(t)),dispatchSetOnboardingMetadata:t=>e((0,RN.mo)(t)),dispatchNavigateToWorkspace:t=>e((0,X.Bg)()),dispatchPreloadSteps:()=>e((0,AN.Z)())}))));var FN=s.createElement(MN.Z,null);class BN extends s.Component{constructor(...e){super(...e),PN(this,"attachOnboardingListeners",(()=>{const{currentUser:e,onboardingFlowId:t,onboardingQuery:n,dispatchAddListener:r,dispatchPreloadSteps:o,dispatchSetOnboardingMetadata:i}=this.props;if(Object.keys(n).length&&i(n),!t)return this.handleFinished();const s=(0,qr.y$)(e);o().then((e=>{if(!(0,DN.x)(t))return this.handleFinished();(0,ON.RA)(),r({id:`url-onboarding-${t}`,predicate:e=>"@@router/LOCATION_CHANGE"===e.type&&-1!==e.payload.pathname.indexOf(s),gotoStep:t}),this.handleFinished()}))})),PN(this,"handleFinished",(()=>{const{dispatchNavigateToWorkspace:e}=this.props;return e()}))}componentDidMount(){bv()(10,this.attachOnboardingListeners)}render(){return FN}}BN.propTypes={isMobileSize:l().bool,onboardingFlowId:l().string,onboardingQuery:l().object,currentUser:l().object,location:l().object,dispatchAddListener:l().func,dispatchSetOnboardingMetadata:l().func,dispatchNavigateToWorkspace:l().func,dispatchPreloadSteps:l().func};const jN=kN((e=>s.createElement(xN.Z,{redirectToRegister:!0,redirectToUrl:e.redirectOverride,redirectParams:{[IN.RY.FROM_REDIRECTION]:encodeURIComponent(e.redirectPath),[IN.RY.INITIAL_ONBOARDING]:e.onboarding,[IN.RY.INITIAL_EDUCATION]:e.onboardingInitialEducation}},s.createElement(BN,e))));var zN=n(98173);const UN=(0,Se.qC)(NN.Z,(0,c.$j)(null,(e=>({dispatchNavigateToWorkspace:()=>e((0,X.Bg)())})))),HN=({dispatchNavigateToWorkspace:e})=>((0,s.useEffect)((()=>{const t=(0,ON.ky)();(0,Kt.dO)({eventType:"Used clear onboarding route",eventProperties:{onboardingStep:t}}),(0,ON.RA)(),(0,zN.lr)(),e()}),[]),null);HN.propTypes={dispatchNavigateToWorkspace:l().func};const ZN=UN((e=>s.createElement(xN.Z,{redirectParams:{from:encodeURIComponent(e.redirectPath)}},s.createElement(HN,e))));var GN=n(87924),KN=n(5116),WN=n(94757),VN=s.createElement("div",{className:"NoModalComponentElementModal"},s.createElement("h2",null,"This element cannot be displayed in full screen"),s.createElement("div",null,s.createElement("p",null,"Sorry, the element you're trying to view cannot be displayed in full screen at this time.")));const $N=()=>VN;$N.propTypes={};const qN=$N;var YN=s.createElement("div",{className:"NotFoundElementModal"},s.createElement("h2",null,"This element could not be found"),s.createElement("div",null,s.createElement("p",null,"Sorry, the element you're trying to view no longer exists.")));const XN=()=>YN;XN.propTypes={};const QN=XN;var JN=n(41998);var ex=s.createElement("br",null),tx=s.createElement("h2",null,"You don't have permission to view this element");const nx=e=>{const{currentUser:t}=e,n=(0,qr.Ho)(t),r=[{text:"Log in",func:e.navigateToLogin}],o=[{text:"Log in as someone else",func:e.logout}],i=n?r:o,a=n?null:s.createElement("p",{className:"details secondary"},"You're currently logged in as:",ex,s.createElement("strong",null,(0,qr.gV)(t)));return s.createElement("div",{className:"ElementAccessDeniedModal"},tx,s.createElement(HA.Z,{actions:i}),a)};nx.propTypes={requestAccess:l().func,navigateToLogin:l().func,logout:l().func,currentUser:l().object,close:l().func};const rx=(0,Se.qC)((0,c.$j)(((e,t)=>({currentUser:e.getIn(["app","currentUser"])})),((e,t)=>({navigateToLogin:t=>{t.preventDefault(),e((0,X.eV)())},logout:t=>{t.preventDefault(),e((0,nD.kS)())}}))))(nx);var ox,ix;function sx(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ax=(0,E.zB)({isElementSelected:(0,Y.rE)(),workspaceLoadIdleTime:xD.xe,isMobileView:L.UK,gridSize:L.ZP});let lx=(ox=(0,c.$j)(ax,(e=>({dispatchSelectElements:t=>e((0,vs.BH)({ids:t}))}))),(0,GN.Z)(ix=(0,KN.Z)(ix=ox(ix=class extends s.Component{constructor(e){super(e),sx(this,"close",(e=>{this.closeCallbackRef.current&&this.closeCallbackRef.current(e),this.props.close(e)})),sx(this,"elementInstanceModalRef",(e=>{this.elementInstanceModalComponent=e})),sx(this,"setOutsideModalChildren",(e=>this.setState({outsideModalChildren:e}))),this.closeCallbackRef=s.createRef(),this.state={outsideModalChildren:null,elementHasBeenSelected:e.isElementSelected}}componentDidUpdate(){const e=this.props.isElementFetched&&this.props.socketConnected&&this.props.workspaceLoadIdleTime;this.state.elementHasBeenSelected||this.props.isElementSelected||!e||(this.props.dispatchSelectElements([this.props.elementId]),this.setState({elementHasBeenSelected:!0}))}render(){const{element:e,isElementFetched:t,isMobileView:n}=this.props,{outsideModalChildren:r}=this.state;if(!e&&!t)return null;const o=(0,D.BGE)(e),i=o===v.WK||o===$s.tE,{DisplayElement:a,isError:l=!1}=(e=>{const{element:t}=e;if(!t)return{DisplayElement:QN,isError:!0};if((0,Di.ph)(t))return{DisplayElement:rx,isError:!0};const n=b.Z7((0,D.BGE)(t));return n?{DisplayElement:n,isError:!1}:{DisplayElement:qN,isError:!0}})(this.props);return s.createElement(WN.Z,Object.assign({},this.props,{className:f()("ElementModal",o&&o.toLowerCase()),outsideModalChildren:r,close:this.close,isError:l,padding:!1,styled:!1,alignTop:i,autoWidth:!0,blur:!0,hideClose:!0,noTransition:!0}),n&&s.createElement(JN.Z,{close:this.close}),s.createElement("div",{className:"element-modal-contents"},s.createElement(a,Object.assign({},this.props,{isModalView:!0,closeCallbackRef:this.closeCallbackRef,setOutsideModalChildren:this.setOutsideModalChildren,elementInstanceModalRef:this.elementInstanceModalRef}))))}})||ix)||ix)||ix);lx.propTypes={element:l().object,elementId:l().string,workspaceLoadIdleTime:l().number,socketConnected:l().bool,isElementSelected:l().bool,isElementFetched:l().bool,close:l().func,dispatchSelectElements:l().func,isMobileView:l().bool};const cx=lx;var dx=n(48034),ux=n(19255),mx=n(44928),px=n(72496),hx=n(98840),gx=n(48161);const fx=()=>s.createElement("div",{style:{width:"var(--checkout-modal-default-width)"}}),Ex=h()({loader:()=>n.e(9751).then(n.bind(n,20109)),loading:fx}),vx=h()({loader:()=>n.e(9544).then(n.bind(n,23155)),loading:fx}),bx=h()({loader:()=>n.e(9554).then(n.bind(n,76620)),loading:fx}),yx=h()({loader:()=>Promise.all([n.e(1615),n.e(5958)]).then(n.bind(n,84862)),loading:fx}),Ix=h()({loader:()=>n.e(6238).then(n.bind(n,23355)),loading:fx});var Cx=n(33311),Sx=n(16733),Tx=n(50448),wx=n(44050),Ox=n(27585),_x=n(95683);const Rx=(0,E.zB)({currentUser:eo.ts,subscription:eo.m8}),Ax=(0,c.$j)(Rx,(e=>({dispatchOpenIntercomMessages:()=>e((0,_x.F)()),dispatchFetchSubscriptionDetails:()=>e((0,Ox.a)()),dispatchNavigateTo:t=>e((0,Cx.VF)(t)),dispatchNavigateBrowserBack:()=>e((0,Cx.Hm)())})))((e=>{const{children:t,currentUser:n,subscription:r,location:o,dispatchOpenIntercomMessages:i,dispatchFetchSubscriptionDetails:a,dispatchNavigateTo:l,dispatchNavigateBrowserBack:c}=e;return(0,s.useEffect)((()=>{Ex.preload(),vx.preload(),bx.preload(),yx.preload()}),[]),s.createElement(Sx.Z,Object.assign({},e,{className:"CheckoutModal auto-width no-padding"}),s.createElement(Tx.default,null,s.createElement(wx.A,{currentUser:n,subscription:r,dispatchOpenIntercomMessages:i,dispatchFetchSubscriptionDetails:a,location:o,dispatchNavigateTo:l,dispatchNavigateBrowserBack:c},t)))}));var Dx=n(65306),Nx=s.createElement("div",{className:"ModalLoader"},s.createElement(K.Z,{show:!0}));const xx=()=>Nx;var Mx=n(6468),Px=n(32776);const Lx=h()({loader:()=>n.e(685).then(n.bind(n,40223)),loading:()=>null});var kx=n(34703),Fx=n(7624),Bx=n(20219);const jx=e=>{const{children:t,close:n,dispatchStartPublishPreviewMode:r,dispatchDisablePublishPreviewMode:i}=e;return s.useEffect((()=>{const t=o()(["params","currentBoardId"],e);return r(t),i}),[]),s.cloneElement(t,{close:n})};jx.propTypes={children:l().oneOfType([l().arrayOf(l().node),l().node]),close:l().func,dispatchStartPublishPreviewMode:l().func,dispatchDisablePublishPreviewMode:l().func};const zx=(0,c.$j)(null,(e=>({dispatchStartPublishPreviewMode:t=>e((0,Fx.Rc)(t,Bx.D3.PUBLISH_PREVIEW)),dispatchDisablePublishPreviewMode:()=>e((0,Fx.L2)())})))(jx);var Ux=n(6401),Hx=n(79532);const Zx=()=>null,Gx=h()({loader:()=>n.e(4083).then(n.bind(n,72911)),loading:Zx}),Kx=h()({loader:()=>n.e(1302).then(n.bind(n,27739)),loading:Zx}),Wx=h()({loader:()=>n.e(7108).then(n.bind(n,91315)),loading:Zx}),Vx=h()({loader:()=>n.e(1407).then(n.bind(n,88343)),loading:Zx}),$x=h()({loader:()=>n.e(44).then(n.bind(n,74466)),loading:Zx}),qx=h()({loader:()=>n.e(8021).then(n.bind(n,31169)),loading:Zx}),Yx=h()({loader:()=>Promise.all([n.e(1615),n.e(8208),n.e(9858),n.e(6259)]).then(n.bind(n,20608)),loading:Zx}),Xx=h()({loader:()=>n.e(4817).then(n.bind(n,18166)),loading:Zx}),Qx=h()({loader:()=>n.e(7121).then(n.bind(n,56999)),loading:Zx}),Jx=h()({loader:()=>n.e(125).then(n.bind(n,95666)),loading:Zx}),eM=h()({loader:()=>n.e(4577).then(n.bind(n,36282)),loading:Zx}),tM=h()({loader:()=>Promise.all([n.e(1615),n.e(8208),n.e(9858),n.e(6259)]).then(n.bind(n,19763)),loading:MN.Z}),nM=h()({loader:()=>n.e(132).then(n.bind(n,23975)),loading:Zx}),rM=h()({loader:()=>n.e(5431).then(n.bind(n,94682)),loading:Zx}),oM=h()({loader:()=>n.e(6805).then(n.bind(n,19842)),loading:Zx}),iM=h()({loader:()=>n.e(6143).then(n.bind(n,58609)),loading:xx}),sM=h()({loader:()=>n.e(6260).then(n.bind(n,24601)),loading:Zx}),aM=h()({loader:()=>n.e(5491).then(n.bind(n,61823)),loading:Zx}),lM=h()({loader:()=>n.e(168).then(n.bind(n,33316)),loading:Zx}),cM=h()({loader:()=>n.e(1741).then(n.bind(n,76183)),loading:Zx}),dM=h()({loader:()=>n.e(5841).then(n.bind(n,10711)),loading:Zx}),uM=h()({loader:()=>n.e(9782).then(n.bind(n,92235)),loading:Zx}),mM=h()({loader:()=>n.e(3927).then(n.bind(n,5343)),loading:Zx}),pM=h()({loader:()=>n.e(5526).then(n.bind(n,2234)),loading:Zx}),hM=h()({loader:()=>Promise.all([n.e(8208),n.e(2841)]).then(n.bind(n,74839)),loading:Zx}),gM=h()({loader:()=>n.e(2550).then(n.bind(n,44642)),loading:Zx}),fM=h()({loader:()=>n.e(4601).then(n.bind(n,66133)),loading:Zx}),EM=h()({loader:()=>n.e(4601).then(n.bind(n,86870)),loading:Zx}),vM=h()({loader:()=>n.e(30).then(n.bind(n,80970)),loading:Zx}),bM=h()({loader:()=>n.e(2022).then(n.bind(n,77257)),loading:Zx}),yM=h()({loader:()=>n.e(1740).then(n.bind(n,31706)),loading:Zx}),IM=h()({loader:()=>n.e(533).then(n.bind(n,80338)),loading:Zx}),CM=h()({loader:()=>n.e(5136).then(n.bind(n,73199)),loading:Zx}),SM=h()({loader:()=>n.e(7658).then(n.bind(n,40020)),loading:Zx}),TM=h()({loader:()=>n.e(6379).then(n.bind(n,19930)),loading:Zx}),wM=h()({loader:()=>Promise.all([n.e(9858),n.e(9248)]).then(n.bind(n,56756)),loading:Zx}),OM=s.createElement(d.AW,{component:bN},s.createElement(d.AW,{path:"/shell",component:Gx}),s.createElement(d.AW,{path:"/install-desktop-app",component:Kx}),s.createElement(d.l_,{from:"/install-windows-app",to:"/install-desktop-app"}),s.createElement(d.AW,{path:"/login",component:Mx.Z}),s.createElement(d.AW,{path:"/register",component:Lx}),s.createElement(d.AW,{path:"/register-terms",component:Wx}),s.createElement(d.AW,{path:"/register-confirm",component:Vx}),s.createElement(d.AW,{path:"/forgotten-password",component:$x}),s.createElement(d.AW,{path:"/change-password",component:qx}),s.createElement(d.AW,{path:"/register-success",component:TN}),s.createElement(d.AW,{path:"/login-success",component:wN}),s.createElement(d.AW,{path:"/unsubscribe",component:Yx}),s.createElement(d.l_,{from:"/account/unsubscribe",to:"/unsubscribe"}),s.createElement(d.AW,{path:"/email-verified",component:Xx}),s.createElement(d.AW,{path:"/email-verification-failed",component:Qx}),s.createElement(d.AW,{path:"/refer/(:referrer)",component:eM}),s.createElement(d.AW,{path:"/tutorial",component:jN}),s.createElement(d.l_,{from:"/compose",to:"/compose/email"}),s.createElement(d.AW,{path:"/app-refresh",component:CM}),s.createElement(d.AW,{exact:!0,path:"/preview",component:nM},s.createElement(d.AW,{path:"e/:elementId",component:TM}),s.createElement(d.AW,{path:":currentBoardId",component:wM})),s.createElement(d.AW,{path:"/admin",component:sM},s.createElement(d._j,{to:"/admin/users/"}),s.createElement(d.AW,{path:"ip-addresses",component:cM}),s.createElement(d.AW,{path:"subscriptions",component:uM}),s.createElement(d.AW,{path:"subscriptions/:planId",component:mM}),s.createElement(d.AW,{path:"attachments",component:pM}),s.createElement(d.AW,{path:"icons",component:dM}),s.createElement(d.AW,{path:"content-reports(/:reportId)",component:fM}),s.createElement(d.AW,{path:"users",sidebar:aM},s.createElement(d.AW,{path:":userId(/:activeTab)",component:lM})),s.createElement(d.AW,{path:"elements/:elementId",component:gM}),s.createElement(d.AW,{path:"activity-digest",component:yM}),s.createElement(d.AW,{path:"experiments",component:IM}),s.createElement(d.AW,{path:"ai-moderation-reports",component:hM}),s.createElement(d.AW,{path:"influencer-referrals",component:EM}),s.createElement(d.AW,{path:"marketing-campaigns",component:vM}),s.createElement(d.AW,{path:"products",component:bM})),s.createElement(d.AW,{path:"/",component:tM,manuallyRemoveLoader:!0},s.createElement(d.AW,{path:"/app-login",component:Px.Z,overlay:!0,registerPath:"app-register"}),s.createElement(d.AW,{path:"/app-register",component:kx.Z,overlay:!0,loginPath:"app-login"}),s.createElement(d.AW,{path:"/email-verification-required",component:Ux.Z}),s.createElement(d.AW,{path:"/subscription-invite",component:Jx}),s.createElement(d.l_,{from:"/subscription-invite/success",to:"/subscription-invite#state=success"}),s.createElement(d.l_,{from:"/subscription-invite/failure",to:"/subscription-invite#state=failure"}),s.createElement(d.AW,{path:"/free-plan",component:rM},s.createElement(d.AW,{path:"upgrade",component:hx.fg}),s.createElement(d.AW,{path:"refer",component:hx.zV})),s.createElement(d.AW,{path:"/checkout",component:Ax},s.createElement(d.AW,{path:"products",component:Ex}),s.createElement(d.AW,{path:"products/team",component:bx}),s.createElement(d.AW,{path:"members",component:yx}),s.createElement(d.AW,{path:"refer",component:vx}),s.createElement(d.AW,{path:"success",component:Ix})),s.createElement(d.AW,{path:"/plan",component:Dx.default},s.createElement(d._j,{to:"/plan/payment"}),s.createElement(d.AW,{path:"card",component:gx.pS}),s.createElement(d.AW,{path:"payment",component:gx.TX}),s.createElement(d.AW,{path:"team",component:gx.W5}),s.createElement(d.AW,{path:"select-type",component:gx.n})),s.createElement(d.AW,{path:"/onboarding"},s.createElement(d.AW,{path:"",component:SM},s.createElement(d.AW,{path:"mobile",component:ux.Z,disableClose:!0,className:"wide grey-background"})),s.createElement(d.AW,{path:"segment",component:oM,disableClose:!0,className:"wide grey-background"}),s.createElement(d.AW,{path:"onboarding-clear",component:ZN})),s.createElement(d.AW,{path:"/account",component:gx.ki},s.createElement(d._j,{to:"/account/settings"}),s.createElement(d.AW,{path:"settings",name:"Account settings"},s.createElement(d.fJ,{component:gx.f7}),s.createElement(d.AW,{path:"delete",component:gx.XA})),s.createElement(d.AW,{path:"notifications",component:gx.RN,name:"Emails & notifications"}),s.createElement(d.AW,{path:"plan",proOnly:!0,webOnly:!0,name:"Payment & billing",component:gx.M8},s.createElement(d.fJ,{component:gx.FK}),s.createElement(d.AW,{path:"invoices",component:gx.sv}),s.createElement(d.AW,{path:"unsubscribe",component:gx.mf}),s.createElement(d.AW,{path:"resubscribe",component:gx.XV}),s.createElement(d.AW,{path:"immediate-downgrade",component:gx.rs})),s.createElement(d.AW,{path:"interface",component:gx.y1,name:"Appearance"}),s.createElement(d.AW,{path:"preferences",component:gx.l3,name:"Preferences"}),s.createElement(d.AW,{path:"localization",component:gx.PT,name:"Localization"}),s.createElement(d.AW,{path:"toolbar",component:gx.TT,name:"Toolbar options"}),s.createElement(d.AW,{path:"privacy",component:gx.lp,name:"Privacy"}),s.createElement(d.l_,{from:"*",to:"/account/settings"})),s.createElement(d.AW,{path:`/${IN.jK}/:elementId`,component:cx,noTransition:!0}),s.createElement(d.AW,{path:"/compose",component:mx.Z},s.createElement(d.AW,{path:"email",component:px.Z}),s.createElement(d.AW,{path:"select-google-contacts",component:dx.Z})),s.createElement(d.AW,{path:"/shortcuts",component:Hx.tG}),s.createElement(d.AW,{path:"/report-content(/:boardId)",component:iM}),s.createElement(d.AW,{path:`/${Bx.tI}`,component:zx},s.createElement(d.AW,{path:`${IN.jK}/:elementId`,component:cx,noTransition:!0}),s.createElement(d.AW,{path:":currentBoardId(/:slug)",component:yN.Z,notModal:!0})),s.createElement(d.AW,{path:"/:currentBoardId(/:slug)",component:yN.Z,notModal:!0})));var _M=n(40699),RM=n(792);const AM=(0,c.Qz)(RM.m);var DM=n(38470);const NM=(0,c.Qz)(DM.r9);var xM=n(14349);const MM=(0,c.Qz)(xM.MN);var PM;const LM=(e,t)=>((o()("routes",t)||[]).reduce(((e,t)=>e||!!o()("manuallyRemoveLoader",t)),!1)||((0,_M.c)(),Ll.Z.cancelTimer()),s.createElement(e,t));let kM=(0,i.w)(PM=class extends s.Component{render(){const{store:e,history:t,measurementsStore:n,editorStore:r,liveCollaborationStore:o}=this.props;return s.createElement(MM,{store:o},s.createElement(NM,{store:r},s.createElement(AM,{store:n},s.createElement(c.zt,{store:e},s.createElement(m(),{title:"Milanote"},s.createElement(d.F0,{history:t,createElement:LM,routes:OM,store:e}))))))}})||PM;kM.propTypes={editorStore:l().object.isRequired,measurementsStore:l().object.isRequired,store:l().object.isRequired,liveCollaborationStore:l().object.isRequired,history:l().object.isRequired};const FM=kM},40825:(e,t,n)=>{"use strict";n.d(t,{Y:()=>o,a:()=>i});var r=n(19092);const o="APP_SET_INITIALISED",i=e=>({type:o,details:e,timestamp:(0,r.u3)()})},10798:(e,t,n)=>{"use strict";n.d(t,{Cv:()=>c,U6:()=>g,Zt:()=>m,fU:()=>l,gO:()=>h,i$:()=>p,jJ:()=>d,tQ:()=>a,tl:()=>s,w4:()=>i,xe:()=>f,z8:()=>u});const r=e=>t=>t.getIn(["app","initialised",e]),o=e=>t=>r(e)(t)>0,i=o("currentUser"),s=r("currentUser"),a=(o("remoteUsers"),o("aliases")),l=o("elementCounts"),c=o("boardSummaries"),d=o("boardHierarchies"),u=o("socketConnection"),m=o("customTemplates"),p=o("appInit"),h=r("appInit"),g=r("pageLoad"),f=r("workspaceLoadIdle")},59728:(e,t,n)=>{"use strict";n.d(t,{BX:()=>l,RI:()=>r,Rx:()=>o,jZ:()=>a,nn:()=>s,tn:()=>c,wd:()=>i});const r={STRICTLY_NECESSARY_COOKIES:"C0001",PERFORMANCE_COOKIES:"C0002",FUNCTIONAL_COOKIES:"C0003",TARGETING_COOKIES:"C0004"},o={UNFETCHED:"UNFETCHED",FETCHING:"FETCHING",INITIALISED:"INITIALISED",ERROR:"ERROR"},i={OPT_IN:"opt-in",OPT_OUT:"opt-out"},s="ONE_TRUST_SET_STATUS",a="ONE_TRUST_SHOW_BANNER",l="ONE_TRUST_HIDE_BANNER",c="ONE_TRUST_SET_CONSENT_MODEL"},79218:(e,t,n)=>{"use strict";n.d(t,{$5:()=>a,Bh:()=>s,h0:()=>c,m2:()=>d});var r=n(22222),o=n(59728);const i=e=>t=>t.getIn(["oneTrust","status"])===e,s=i(o.Rx.INITIALISED),a=i(o.Rx.ERROR),l=e=>e.getIn(["oneTrust","consentModel"]),c=e=>e.getIn(["oneTrust","showBanner"]),d=(0,r.P1)(c,l,((e,t)=>e&&t===o.wd.OPT_IN));(0,r.P1)(c,l,((e,t)=>e&&t!==o.wd.OPT_IN))},87430:(e,t,n)=>{"use strict";n.d(t,{An:()=>u,Cs:()=>C,Dl:()=>b,HX:()=>w,P$:()=>m,V6:()=>I,V8:()=>h,Wo:()=>c,Y7:()=>_,Zy:()=>p,en:()=>T,gy:()=>O,gz:()=>d,jR:()=>y,k$:()=>a,o_:()=>f,pk:()=>S,qi:()=>v,vD:()=>E,xv:()=>g,zp:()=>l});var r=n(27361),o=n.n(r),i=n(24414),s=n(45915);const a=e=>o()(e.get("routing"),"locationBeforeTransitions")||{},l=e=>a(e).search||"",c=e=>a(e).pathname||"",d=e=>a(e).query||{},u=e=>t=>d(t)[e],m=u(s.RY.ORIGIN),p=u(s.RY.INVITE_CODE),h=u(s.RY.MARKETING_REFERRAL_CODE)||u(s.RY.MARKETING_REFERRAL_CODE_2),g=u(s.RY.USER_REFERRER_CODE),f=u(s.RY.SUCCESS_REDIRECT),E=u(s.RY.INITIAL_ONBOARDING),v=u(s.RY.INITIAL_EDUCATION),b=u(s.RY.REGISTRATION_AVENUE),y=u(s.RY.REGISTRATION_ENTRY_POINT),I=u(s.RY.PUBLIC_BOARD_ID),C=u(s.RY.AB_GROUP),S=u(s.RY.FEATURE_FLAGS),T=u(s.RY.PERMISSION),w=u(s.RY.EMAIL),O=u(s.RY.EMAIL_TYPE),_=(u(s.RY.FEATURE_HIGHLIGHT),e=>{const t=d(e);return(0,i.g)(t)})},24492:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294),o=r.createElement("div",{className:"disclaimer"},"This site is protected by reCAPTCHA and the Google"," ",r.createElement("a",{href:"https://policies.google.com/terms"},"terms of service")," and"," ",r.createElement("a",{href:"https://policies.google.com/privacy"},"privacy policy")," apply.");const i=()=>o},93655:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(27361),o=n.n(r),i=n(67294),s=n(45697),a=n.n(s),l=n(37974),c=n(22222),d=n(85597),u=n(37574),m=n(80275),p=n(87430),h=n(6465);const g=(0,c.P1)(m.ts,(e=>e.get("authenticated")&&e.get("fetched"))),f=(0,c.zB)({isUserAvailable:g,location:p.k$});var E=i.createElement(h.Z,null);const v=e=>{const{isUserAvailable:t,children:n,location:r,redirectParams:s,redirectToRegister:a,redirectToUrl:l,dispatchNavigateToLogin:c,dispatchNavigateToRegister:m}=e;return(0,i.useEffect)((()=>{const e=o()(r,"pathname");if(!(0,d._V)()){let t;console.warn("AuthenticatedContainer: Attempted to access an authenticated page without an authentication token"),t=l&&(0,u.v8)(l)?()=>{(0,u.O8)(l)}:a?m:c;return t(s||{from:encodeURIComponent(e)})}}),[]),t?n:E};v.propTypes={redirectToRegister:a().bool,isUserAvailable:a().bool,redirectParams:a().object,children:a().oneOfType([a().arrayOf(a().node),a().node]),location:a().object,requiredUserRoles:a().array,currentUserRole:a().string,redirectToUrl:a().string,dispatchNavigateToLogin:a().func,dispatchNavigateToRegister:a().func};const b=(0,l.$j)(f,(e=>({dispatchNavigateToLogin:t=>e((0,u.eV)(t)),dispatchNavigateToRegister:t=>e((0,u.AN)(t))})))(v)},6150:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s),l=n(13292);const c=({children:e,className:t,logo:n,href:o,onClick:i})=>r.createElement(l.Z,{className:a()("SocialSignInButton",t),href:o,onClick:i},r.createElement("span",{className:"logo-container"},n),r.createElement("span",{className:"text"},e));c.propTypes={children:i().oneOfType([i().element,i().array,i().string]).isRequired,className:i().string,logo:i().element,href:i().string,onClick:i().func};const d=c},35724:(e,t,n)=>{"use strict";n.d(t,{BT:()=>N,he:()=>x,kS:()=>F,nh:()=>j,p4:()=>P,pV:()=>L,sh:()=>R,uo:()=>B,x4:()=>M,z2:()=>k});var r=n(77606),o=n.n(r),i=n(63422),s=n.n(i),a=n(46489),l=n.n(a),c=n(10048),d=n(45685),u=n(95372),m=n(85597),p=n(87430),h=n(2555),g=n(11111),f=n(75763),E=n(10992),v=n(68468),b=n(56884),y=n(65147),I=n(57448),C=n(37574),S=n(29812),T=n(41557),w=n(14927),O=n(89030);const _=["email","successCallback","registrationEntryPoint","givenName","familyName"];const R=3e4,A=e=>{const{token:t}=e.data;if(!t)throw new Error("No token found");return(0,m.se)(t),e},D=({replaceUrl:e=!1,successCallback:t,dispatch:n,getState:r})=>i=>{const a=r(),c=(0,v.$3)(a).filter(g.ph).map(f.nRF).toArray();if(o()(c)||n((0,I.X)({force:!0,elementIds:c})),(0,h._h)()&&(0,h.V)(),t)return t();const d=(0,p.o_)(a);if(d&&(0,C.v8)(d))return(0,C.O8)(d);const u=s()(["data","token"],i);if(u&&!d){const e=l()(u),{rootBoardId:t}=e;t&&n((0,S.D)({boardId:t}))}n((0,C.Bg)(e))},N=({replaceUrl:e,successCallback:t,dispatch:n,getState:r})=>o=>(A(o),D({replaceUrl:e,successCallback:t,dispatch:n,getState:r})(o)),x=()=>({type:T.XP}),M=(e,t,n)=>(r,o)=>(r({type:T.kZ}),(0,E.Z)("login").then(((e,t,n)=>async r=>(0,d.ZP)({method:w.Is.POST,url:"auth/login",timeout:R,data:Object.assign({},n,{email:e.toLowerCase(),password:t,recaptchaToken:r,platform:(0,u.k)()})}))(e,t,n)).then(A).then((e=>(r(x()),e))).then(D({dispatch:r,getState:o}))),P=()=>({type:T.Y0}),L=()=>({type:T.bp}),k=e=>{let{email:t,successCallback:n,registrationEntryPoint:r,givenName:o,familyName:i}=e,s=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,_);return(e,a)=>(e(P()),(0,E.Z)("register").then((e=>(0,d.ZP)({method:w.Is.POST,url:"auth/register",timeout:R,data:Object.assign({email:t.toLowerCase(),recaptchaToken:e,platform:(0,u.k)(),registrationEntryPoint:r,givenName:o.trim(),familyName:i.trim()},s)}))).then(A).then((t=>{if(e(L()),r){const e=O.$R[r];e&&(0,b.dO)({eventType:e})}return t})).then(D({successCallback:n,dispatch:e,getState:a})))},F=()=>(e,t)=>{e((0,y.J)()),(0,h.bh)().catch((e=>{c.Z.error("Failed to unsubscribe from push notifications",e)}))},B=({email:e="",password:t=""})=>(0,d.ZP)({method:w.Is.POST,url:"auth/validate-password",timeout:R,data:{email:e.toLowerCase(),password:t}}),j=e=>(0,d.ZP)({method:w.Is.GET,url:`invite/${e}`}).then((e=>e.data.email)).catch((()=>null))},41557:(e,t,n)=>{"use strict";n.d(t,{Nv:()=>i,XP:()=>o,Y0:()=>s,bp:()=>a,kZ:()=>r,yx:()=>l});const r="LOGIN_SUBMIT",o="LOGIN_SUCCESS",i="LOGOUT",s="REGISTER_SUBMIT",a="REGISTER_SUCCESS",l="token"},65147:(e,t,n)=>{"use strict";n.d(t,{J:()=>h});var r=n(45685),o=n(67557),i=n(85597),s=n(68087),a=n(98061),l=n(27177),c=n(69e3),d=n(9554);var u=n(80275),m=n(14927),p=n(41557);const h=()=>(e,t)=>{const n=t(),h=(0,u.rc)(n);(0,r.ZP)({method:m.Is.GET,url:"auth/clear-session"}),(0,l.RA)(),c.Z.removeItem(d.GK),c.Z.removeItem(d.Bz),(0,s.Y3)(),(0,a.Ox)(),(0,i.Zo)(),e({type:p.Nv,deviceId:(0,o.Z)(),userId:h,sync:!0})}},85597:(e,t,n)=>{"use strict";n.d(t,{Zo:()=>a,_V:()=>i,se:()=>s});var r=n(69e3),o=n(41557);const i=()=>r.Z.getItem(o.yx),s=e=>{var t,n;r.Z.setItem(o.yx,e),null===(t=window.desktopIntegration)||void 0===t||null===(n=t.setMnToken)||void 0===n||n.call(t,e)},a=()=>{var e,t;r.Z.removeItem(o.yx),null===(e=window.desktopIntegration)||void 0===e||null===(t=e.setMnToken)||void 0===t||t.call(e,void 0)}},95998:(e,t,n)=>{"use strict";n.d(t,{az:()=>g,nO:()=>f,pI:()=>h});var r=n(83927),o=n.n(r),i=n(77606),s=n.n(i),a=n(67557),l=n(59161),c=n(10048),d=n(39301),u=n(37574),m=n(68071),p=n(41557);const h=e=>{if(e.type!==p.Nv)return!1;if(e.force)return!0;if(!e.remote&&e.clientProcess)return!0;const t=(0,a.Z)(),n=e.deviceId;return!s()(t)&&t===n},g=e=>{const t=o()((e=>e&&encodeURIComponent(e)),e),n=`/api/auth/google/sign-in-redirect?${(0,d.B2)(Object.assign({},t,{origin:encodeURIComponent(e.origin||window.location.href)}))}`;let r=n;if((0,m.Z$)()){r=`${(0,l.Z)().apiRoot}${n}`}return(0,u.zS)(r)},f=async e=>{try{const t=(0,l.Z)(),r=(0,m.Z$)()?`${t.apiRoot}/api/auth/apple/callback`:`${t.urlBase}/api/auth/apple/callback`;n.g.AppleID&&n.g.AppleID.auth.init({clientId:"com.milanote.app.web",scope:"name email",redirectURI:r,state:JSON.stringify(Object.assign({origin:window.location.href},e))}),await n.g.AppleID.auth.signIn()}catch(t){c.Z.error("An error occurred while attempting Apple Sign In",t)}}},81459:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294),o=r.createElement("svg",{className:"AppleLogo",width:"39px",height:"44px",viewBox:"0 0 39 44",version:"1.1"},r.createElement("g",{id:"Left-White-Logo-Large",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.createElement("rect",{id:"Rectangle",x:"0",y:"0",width:"39",height:"44"}),r.createElement("path",{d:"M19.8196726,13.1384615 C20.902953,13.1384615 22.2608678,12.406103 23.0695137,11.4296249 C23.8018722,10.5446917 24.3358837,9.30883662 24.3358837,8.07298156 C24.3358837,7.9051494 24.3206262,7.73731723 24.2901113,7.6 C23.0847711,7.64577241 21.6353115,8.4086459 20.7656357,9.43089638 C20.0790496,10.2090273 19.4534933,11.4296249 19.4534933,12.6807374 C19.4534933,12.8638271 19.4840083,13.0469167 19.4992657,13.1079466 C19.5755531,13.1232041 19.6976128,13.1384615 19.8196726,13.1384615 Z M16.0053051,31.6 C17.4852797,31.6 18.1413509,30.6082645 19.9875048,30.6082645 C21.8641736,30.6082645 22.2761252,31.5694851 23.923932,31.5694851 C25.5412238,31.5694851 26.6245041,30.074253 27.6467546,28.6095359 C28.7910648,26.9312142 29.2640464,25.2834075 29.2945613,25.2071202 C29.1877591,25.1766052 26.0904927,23.9102352 26.0904927,20.3552448 C26.0904927,17.2732359 28.5316879,15.8848061 28.6690051,15.7780038 C27.0517133,13.4588684 24.5952606,13.3978385 23.923932,13.3978385 C22.1082931,13.3978385 20.6283185,14.4963764 19.6976128,14.4963764 C18.6906198,14.4963764 17.36322,13.4588684 15.7917006,13.4588684 C12.8012365,13.4588684 9.765,15.9305785 9.765,20.5993643 C9.765,23.4982835 10.8940528,26.565035 12.2824825,28.548506 C13.4725652,30.2268277 14.5100731,31.6 16.0053051,31.6 Z",id:"",fill:"#000000",fillRule:"nonzero"})));const i=e=>o},2700:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294),o=r.createElement("svg",{className:"GoogleLogo",width:"36px",height:"36px",viewBox:"0 0 36 36"},r.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"btn_google_light_normal",transform:"translate(-1.000000, -1.000000)"},r.createElement("g",{id:"logo_googleg_48dp",transform:"translate(10.000000, 10.000000)"},r.createElement("path",{d:"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z",id:"Shape",fill:"#4285F4"}),r.createElement("path",{d:"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z",id:"Shape",fill:"#34A853"}),r.createElement("path",{d:"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z",id:"Shape",fill:"#FBBC05"}),r.createElement("path",{d:"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z",id:"Shape",fill:"#EA4335"}),r.createElement("path",{d:"M0,0 L18,0 L18,18 L0,18 L0,0 Z",id:"Shape"})))));const i=()=>o},55601:(e,t,n)=>{"use strict";n.d(t,{ET:()=>s,X2:()=>r,et:()=>o,uS:()=>i});const r="PASSWORD_CHANGE_INITIALISED",o="PASSWORD_CHANGE_CODE_EXPIRED",i="PASSWORD_CHANGED",s="PASSWORD_CHANGE_FAILED"},62111:(e,t,n)=>{"use strict";n.d(t,{j:()=>o,l:()=>r});const r="PASSWORD_RESET_REQUESTED",o="PASSWORD_RESET_REQUEST_FAILED"},32776:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(68356);const o=n.n(r)()({loader:()=>n.e(3839).then(n.bind(n,88887)),loading:()=>null})},6468:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Q});var r=n(63422),o=n.n(r),i=n(67294),s=n(45697),a=n.n(s),l=n(37974),c=n(47915),d=n(67557),u=n(95998),m=n(68071),p=n(35724),h=n(37574),g=n(15946),f=n(87701),E=n(80086),v=n(57144),b=n(89366),y=n(43065),I=n(73497),C=n(26457),S=n(98676),T=n(42267),w=n(78432),O=n(6159),_=n(85263),R=n(11627),A=n(24281),D=n(7547);const N="login",x=[D._f.email,D._f.loginPassword];var M=i.createElement("input",{id:"pwd",className:"fake-password",tabIndex:"-1","aria-hidden":"true",type:"password",name:"fakepasswordremembered"}),P=i.createElement(C.Z,{show:!0});const L=e=>{const{deviceId:t,location:n,dispatchLogin:r}=e,o=(0,i.useRef)(null),s=(0,i.useMemo)((()=>({deviceId:t})),[t]),a=(0,O.Z)(n),l=(0,i.useCallback)((async e=>{try{await r(e)}catch(t){return(0,R.Z)({form:N,sensitive:!0})(t)}}),[]),c=i.createElement("div",{className:"forgotten-password"},i.createElement(E.Z,{to:"/forgotten-password",keepParams:!0,location:n},"Forgot your password?"));return(0,i.useEffect)((()=>{(0,_.tq)()||o.current&&o.current.focus()}),[]),i.createElement(v.Z,{className:"auth-form",initialValues:s,onSubmit:l,fields:x,name:N},(e=>i.createElement(i.Fragment,null,a&&M,i.createElement(b.Z,{field:D._f.email},(({input:e,display:t})=>i.createElement(w.Z,{label:"Email address",name:e.name,error:t.error},i.createElement(y.Z,Object.assign({},e,{ref:o,type:D._f.email.type,maxLength:D._f.email.maxLength,error:t.error}))))),i.createElement(b.Z,{field:D._f.loginPassword},(({input:e,display:t})=>i.createElement(w.Z,{label:"Password",name:e.name,error:t.error,HelperElement:c},i.createElement(T.Z,Object.assign({},e,{maxLength:D._f.loginPassword.maxLength,canShowPassword:!1,error:t.error}))))),i.createElement(I.Z,{type:"submit",className:"row primary",id:`${N}-submit`,disabled:(0,A.r)(e)},e.submitting?P:"Log in"),i.createElement(S.Z,{primaryError:e.submitError||a,hide:e.modifiedSinceLastSubmit||e.submitting}))))};L.propTypes={location:a().object,deviceId:a().string,dispatchLogin:a().func};const k=L;var F,B,j=n(24492),z=n(6150),U=n(81459),H=n(2700),Z=n(7405);n(19810);const G=["email","password"];const K=e=>o()(["route","registerPath"],e)||"register";var W=i.createElement("div",{className:"logo"},i.createElement(f.Z,{name:"milanote-logo-medium"})),V=i.createElement("div",{className:"heading"},i.createElement("h1",null,"Log in to Milanote")),$=i.createElement(H.Z,null),q=i.createElement(U.Z,null),Y=i.createElement(j.Z,null);let X=(F=(0,l.$j)((e=>({isGuest:e.getIn(["app","currentUser","isGuest"]),deviceId:(0,d.u)()})),(e=>({dispatchLogin:t=>{let{email:n,password:r}=t,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,G);return e((0,p.x4)(n,r,o))},dispatchForceLogout:()=>e((0,p.kS)()),navigateToWorkspace:()=>e((0,h.u8)())}))),F(B=class extends i.Component{componentDidMount(){const{isGuest:e,navigateToWorkspace:t,dispatchForceLogout:n}=this.props;return(0,m.cE)()?n():e?void 0:t()}render(){const{location:e,close:t,deviceId:n}=this.props;return(0,c.$)()?null:i.createElement(g.Z,{className:"AuthModal",overlay:(r=this.props,o()(["route","overlay"],r)||!1),close:t},W,V,i.createElement("div",{className:"section"},i.createElement(k,this.props)),i.createElement("div",{className:"section"},i.createElement("div",{className:"social-buttons"},i.createElement(z.Z,{className:"MilanoteGoogleSignIn",logo:$,onClick:()=>(0,u.az)({flow:Z.P.SIGN_IN,deviceId:n})},"Log in with Google"),i.createElement(z.Z,{className:"MilanoteAppleSignIn",logo:q,onClick:()=>(0,u.nO)({flow:Z.P.SIGN_IN,deviceId:n})},"Log in with Apple")),i.createElement("div",{className:"register-instead"},"Don't have an account?"," ",i.createElement(E.Z,{to:`/${K(this.props)}`,keepParams:!0,location:e},"Sign up now"))),Y);var r}})||B);X.propTypes={location:a().object,deviceId:a().string,isGuest:a().bool,close:a().func,navigateToWorkspace:a().func,dispatchForceLogout:a().func};const Q=X},34703:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(68356);const o=n.n(r)()({loader:()=>n.e(1964).then(n.bind(n,87353)),loading:()=>null})},45380:(e,t,n)=>{"use strict";n.d(t,{y:()=>d});var r=n(76262),o=n.n(r),i=n(21053),s=(n(67557),n(89030)),a=n(45915),l=n(33921);const c=["registrationAvenue","registrationEntryPoint","onboarding","initialEducation","currentBoardId","permissionId","locationQuery"];const d=e=>{let{registrationAvenue:t=s.Ap.BOARD_INVITE,registrationEntryPoint:n=s.yr.PUBLIC_EDIT_REGISTRATION,onboarding:r=l.wO,initialEducation:d=l.OM,currentBoardId:u,permissionId:m,locationQuery:p}=e,h=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,c);const g=o()([a.RY.ONBOARDING_FLOW_ID],p),f=Object.assign({},g,h,{[a.RY.INITIAL_EDUCATION]:d,[a.RY.REGISTRATION_ENTRY_POINT]:n});if(u){const e=(0,i.Q2)(`/${u}`,g);f[a.RY.FROM_REDIRECTION]=encodeURIComponent(e),f[a.RY.PUBLIC_BOARD_ID]=u,m&&(f[a.RY.PERMISSION]=m)}return t&&(f[a.RY.REGISTRATION_AVENUE]=t),r&&(f[a.RY.INITIAL_ONBOARDING]=r),(0,i.Q2)("/app-register",f)}},6159:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(63422),o=n.n(r),i=n(67294);const s="access_denied",a="user_cancelled_authorize",l="unregistered_user",c="confirmation_failure",d="email_conflict",u=o()(["query","error"]),m=o()(["query","email"]),p=o()(["query","provider"]),h=o()(["query","original-email"]),g=o()(["query","new-email"]),f=e=>p(e)||"Google",E=e=>(0,i.useMemo)((()=>{const t=(e=>{const t=u(e);return!!t&&t!==s&&t!==a})(e),n=(e=>{switch(u(e)){case l:{const t=m(e);return t?`The email ${t} is not registered`:"That email is not registered"}case c:return`Failed to register the ${m(e)} account`;case d:return`Your ${f(e)} Sign In email has changed, from "${h(e)}" to "${g(e)}" but another account is already using the new email.  Please contact support to resolve this issue.`;default:return`Something went wrong during ${f(e)} sign in`}})(e);return t&&n?{message:n}:void 0}),[e])},82042:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(23865);function o(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class i extends Error{constructor(e="Canvas size error",t){super(e),o(this,"code",void 0),o(this,"friendlyMessage",void 0),o(this,"tip",void 0),o(this,"details",void 0),Error.captureStackTrace&&Error.captureStackTrace(this,i),this.name="CanvasSizeError",this.code=r.uL.CANVAS_SIZE,this.friendlyMessage=t.friendlyMessage,this.tip=t.tip,this.details=t.details}}const s=i},68087:(e,t,n)=>{"use strict";n.d(t,{Sl:()=>l,Y3:()=>a,ct:()=>c,mB:()=>d});var r=n(76262),o=n.n(r),i=n(99699);const s="milanote.returnState",a=()=>{localStorage.removeItem(s)},l=(...e)=>{const t=localStorage.getItem(s),n=t?JSON.parse(t):{},r=o()(e,n);localStorage.setItem(s,JSON.stringify(r))},c=e=>{const t=localStorage.getItem(s);return(t?JSON.parse(t):{})[e]},d=(e,t)=>{const n=localStorage.getItem(s),r=n?JSON.parse(n):{};delete r[e];const o=(0,i.C)(Object.assign({},r,{[e]:t}),100);localStorage.setItem(s,JSON.stringify(o))}},42942:(e,t,n)=>{"use strict";n.d(t,{o:()=>m,r:()=>p});var r=n(43831),o=n(9300),i=n(7923),s=n(11111),a=n(8698),l=n(75763),c=n(22453),d=n(14616),u=n(1658);const m=(e,t)=>n=>{const o=(0,l.nRF)(n),m=(0,r.su)(e.get(o));if(m.id=o,(0,s.P7)(n))return Object.assign({},m,(0,i.lG)({right:-u.cR,bottom:-u.cR},m));if((0,a.KX)(n)){const e=(c.B-2)*t,n=(c.B-2)*t,r=m.left+d.k*t,o=m.top+d.k*t,s=(0,i.rI)({left:r,top:o,width:e,height:n});return Object.assign({},m,s)}return Object.assign({},m,(0,i.lG)({right:2,bottom:2},m))},p=({elements:e,measurements:t,gridSize:n,rounded:r=!0})=>{const s=e.map(m(t,n)),a=(0,i.lP)(s);return{left:r?(0,o.Rk)(a.left,n):a.left/n,right:r?(0,o.Rk)(a.right,n):a.right/n,top:r?(0,o.Rk)(a.top,n):a.top/n,bottom:r?(0,o.Rk)(a.bottom,n):a.bottom/n}}},6319:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});const r=(e,t,n=1/0)=>{const{x:r,y:o}=t,i=r-e.x,s=o-e.y,a=Math.abs(i),l=Math.abs(s),c=i<0?Math.max(r,0):e.x,d=s<0?Math.max(o,0):e.y;return{left:c,top:d,width:i<0?a-c+r:Math.min(a,n-e.x),height:s<0?l-d+o:l}}},60660:(e,t,n)=>{"use strict";n.d(t,{It:()=>E,JD:()=>g,Q8:()=>C,X9:()=>v,YL:()=>f,Zr:()=>b,ge:()=>m,iH:()=>h,to:()=>y,wx:()=>I,z1:()=>p});var r=n(7923),o=n(75186),i=n(9101),s=n(70309),a=n(48791),l=n(81897),c=n(80275),d=n(23518),u=n(32831);const m=({canvasSize:e,scrollAreaSize:t})=>({type:d.hJ,canvasSize:e,scrollAreaSize:t}),p=e=>({type:d.Q3,scrollAreaSize:e}),h=()=>({type:d.Aw}),g=()=>(e,t)=>{const n=t();return(0,l.tJ)(n)},f=({scale:e,translation:t,scrollAreaSize:n,mode:r})=>({type:d.qk,scale:e,translation:t,scrollAreaSize:n,mode:r}),E=e=>({type:d.xR,targetScale:e}),v=()=>({type:d.we}),b=()=>(e,t)=>{const n=t(),r=(0,c.rc)(n);(0,i.au)(r,{has_used_zoom:!0})},y=()=>(e,t)=>{const n=t();return(0,s.h4)(n)},I=({boardId:e,canvasOrigin:t})=>({type:d.h$,boardId:e,canvasOrigin:t}),C=()=>(e,t)=>{const n=t(),i=(0,a.ZP)(n),l=(0,s.l7)(n),c=(0,s.Nz)(n),d=document.getElementById(u.T);return d?(0,o.Ey)(d,i,l,c):(0,r.rI)({x:0,y:0,width:0,height:0})}},23518:(e,t,n)=>{"use strict";n.d(t,{Aw:()=>s,Q3:()=>o,h$:()=>u,hJ:()=>r,m7:()=>a,qk:()=>c,sc:()=>i,we:()=>l,xR:()=>d});const r="CANVAS_SET_SIZE",o="CANVAS_SET_SCROLL_AREA_SIZE",i="CANVAS_SCALE_ENABLE",s="CANVAS_SCALE_DISABLE",a="CANVAS_SCALE_TOGGLE",l="CANVAS_ZOOM_RESET_STATE",c="CANVAS_ZOOM_TRANSFORMATION_SET",d="CANVAS_ZOOM_TARGET_SCALE_SET",u="CANVAS_SET_INITIAL_ORIGIN"},63978:(e,t,n)=>{"use strict";n.d(t,{S:()=>i,w:()=>s});var r=n(22222),o=n(43831);const i=e=>e.getIn(["app","canvas","size"]),s=(0,r.P1)(i,o.su)},70309:(e,t,n)=>{"use strict";n.d(t,{FC:()=>c,Ji:()=>s,Nz:()=>l,h4:()=>i,l7:()=>a,qN:()=>d});var r=n(22222),o=n(43831);const i=e=>e.getIn(["app","canvas","zoom"]),s=e=>e.getIn(["app","canvas","zoom","mode"]),a=e=>e.getIn(["app","canvas","zoom","scale"]),l=e=>e.getIn(["app","canvas","zoom","translation"]),c=e=>e.getIn(["app","canvas","zoom","targetScale"]),d=(0,r.P1)(l,o.su)},51079:(e,t,n)=>{"use strict";n.d(t,{b:()=>s,f:()=>i});var r=n(22222),o=n(43831);const i=e=>e.getIn(["app","canvas","scrollAreaSize"]),s=(0,r.P1)(i,o.su)},32831:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});const r="canvas-viewport"},75186:(e,t,n)=>{"use strict";n.d(t,{Ey:()=>y,J7:()=>b,KA:()=>v,wc:()=>f,wn:()=>E});var r=n(31493),o=n(43831),i=n(7923),s=n(76232),a=n(62988),l=n(9300),c=n(56860),d=n(78210);const u={x:0,y:0},m=(0,o.vg)("x"),p=(0,o.vg)("y"),h=(e,t,n,r,o=0,i=1,s)=>{const a=((e,t,n,r=0,o=1)=>(e+t-n-r)/o)(e,t,n,o,i);return(0,l.Rk)(a,s)+r},g=(e,t,n,r=d.yp,o,i)=>{const s=e.getBoundingClientRect(),{scrollLeft:a,scrollTop:l}=e;return{x:h(t.x,a,s.left,m(r),m(i),o,n),y:h(t.y,l,s.top,p(r),p(i),o,n)}},f=(e,t,n,r,o)=>{const i=e.getBoundingClientRect(),{scrollLeft:s,scrollTop:a}=e,c=(t.x+s-i.left-o.x)/r,d=(t.y+a-i.top-o.y)/r,u=g(e,t,n,void 0,r,o);return{x:c-(0,l.wh)(u.x,n),y:d-(0,l.wh)(u.y,n)}},E=(e,t,n,r,o=d.yp,i,s,a)=>{const l=g(e,t,n,o,i,s);return l.order=a,{location:{parentId:r,section:c.WI.CANVAS,position:l},handledBy:e}},v=(e,t=u,n=u,o=1,l=u)=>{const c=r.Iu(n.x,n.y),d=r.Iu(-t.x,-t.y),m=r.Iu(-l.x,-l.y),p=[r.bA(1/o),m,d,c].reduce(r.Jp),h=(0,a.Q)(e),g=s.XK(p,h),f=(0,a.b)(g);return i.p5(f)},b=(e,t,n,o,i)=>{const l=((e,t,n,o)=>{const i=r.Iu(-m(o)||0,-p(o)||0),s=r.bA(1/n);return[r.Iu(m(t)*e||0,p(t)*e||0),s,i].reduce(r.Jp)})(t,n,o,i),c=a.Q(e),d=s.XK(l,c);return a.b(d)},y=(e,t,n,r,o)=>{const s=e.getBoundingClientRect(),a=g(e,{x:s.left,y:s.top},t,o,n,r),l=g(e,{x:s.right,y:s.bottom},t,o,n,r);return i.rI({left:a.x,top:a.y,right:l.x,bottom:l.y})}},66675:(e,t,n)=>{"use strict";n.d(t,{Pc:()=>l,Q1:()=>a,Wd:()=>d,cs:()=>c,nj:()=>o});var r=n(47915);const o={width:0,height:0},i={x:5,y:5},s={x:5,y:5},a={x:50,y:40},l=e=>(0,r.$)()?i:e<1?s:a,c=(e,t,n,r,o)=>{const i=t.right||0,s=t.bottom||0,a=l(o);return{width:o>=1||i>e.width?Math.round(Math.max(e.width,i+a.x*n)):e.width,height:o>=1||s>e.height?Math.round(Math.max(e.height,s+a.y*n)):e.height}},d=(e,t)=>e&&t&&(e.width<t.width||e.height<t.height)?{width:Math.max(e.width,t.width),height:Math.max(e.height,t.height)}:e},14415:(e,t,n)=>{"use strict";n.d(t,{np:()=>u,h1:()=>p,C8:()=>m});var r=n(67294),o=n(45697),i=n.n(o),s=n(30845);function a(e){const t=(0,r.useRef)(e);return t.current=e,t}const l={x:0,y:0},c=r.createContext(),d=(0,s.default)(((e,t)=>({getContextZoomScale:e,getContextZoomTranslationPx:t}))),u=e=>{const{children:t,zoomScale:n,zoomTranslationPx:o}=e,i=a(n||1),s=a(o||l),u=r.useCallback((()=>i.current),[]),m=r.useCallback((()=>s.current),[]),p=d(u,m);return r.createElement(c.Provider,{value:p},t)};u.propTypes={children:i().oneOfType([i().arrayOf(i().node),i().node]),zoomScale:i().number,zoomTranslationPx:i().object};const m=e=>{const t=t=>{const{zoomScale:n,zoomTranslationPx:o}=t;return r.createElement(u,{zoomScale:n,zoomTranslationPx:o},r.createElement(e,t))};return t.propTypes={zoomScale:i().number.isRequired,zoomTranslationPx:i().object.isRequired},t},p=e=>{class t extends r.Component{render(){return r.createElement(e,Object.assign({getContextZoomScale:this.context.getContextZoomScale,getContextZoomTranslationPx:this.context.getContextZoomTranslationPx},this.props))}}return t.contextType=c,t}},98138:(e,t,n)=>{"use strict";n.d(t,{H:()=>r,t:()=>o});const r={MIN_SCALE:.1,MIN_SCALE_MAX:.8,MAX_SCALE:3,SCALE_SPEED_FACTOR:.0025,INTERPOLATION_FACTOR:.25,SCALE_OUT_DELTA_LIMIT:.8,SCALE_IN_DELTA_LIMIT:1.2},o={ZOOM_TO_FIT:"zoom-to-fit"}},37986:(e,t,n)=>{"use strict";n.d(t,{Fj:()=>a,HP:()=>c,Tw:()=>l,b5:()=>d});var r=n(74691),o=n.n(r),i=n(7923),s=n(98138);const a=e=>{const t=Math.min(e.x,300),n=Math.min(e.y,300);return i.lG({top:n,left:t,bottom:n,right:t},e)},l=(e,t,n)=>{if(null!=e&&e.width&&null!=e&&e.height){const t=a(e);return n?i.rI({x:t.x,y:t.y,width:Math.max(t.width,n.width),height:Math.max(t.height,n.height)}):t}return n?i.Ao({x:0,y:0},n):i.rI(t)},c=(e,t)=>{if(!((null==e?void 0:e.height)&&(null==e?void 0:e.width)&&(null==t?void 0:t.height)&&(null==t?void 0:t.width)))return s.H.MIN_SCALE;const n=((e,t)=>Math.min(e.height/t.height,e.width/t.width))(e,t);return o()(n,s.H.MIN_SCALE,s.H.MIN_SCALE_MAX)},d=(e,t,n,r,i,a,l)=>{const d=((e,t)=>t?e>=1?s.H.MAX_SCALE:1:e<=1?1:s.H.MAX_SCALE)(n,r),u=((e,t,n,r,o)=>{const i=c(n,o);return t?e<=1?i:1:e>=1?1:i})(n,r,i,0,l),m=((e,t,n,r)=>t>=r&&e<=0||t<=n&&e>=0)(e,t,u,d);if(m)return t;const p=1+e*(-1*s.H.SCALE_SPEED_FACTOR);return o()(t*p,u,d)}},64599:(e,t,n)=>{"use strict";n.d(t,{G4:()=>d,Pn:()=>m,y5:()=>g});var r=n(50335),o=n(37986),i=n(66284),s=n(76232),a=n(40565),l=n(7923);const c=(e,t,n)=>Math.max((e-t*n)/2,0),d=(e,t,n)=>({x:c(e.width,t.width,n),y:c(e.height,t.height,n)}),u=(e,t,n)=>Math.max(-e/(1-t)*n+e/(1-t),0),m=(e,t,n)=>({width:e.width*t+2*n.x,height:e.height*t+2*n.y}),p=(e,t)=>t!==e&&t+2>=e,h=(e,t,n,s={x:0,y:0},c,h)=>{const g=c<1?n:l.rI(t),f=(0,i.E)(a.e5(s,h)),E=l.Ao(f,l.bA(c,n)),v=((e,t,n)=>{if(n>=1)return{x:0,y:0};const r=(0,o.HP)(e,t),i=d(e,t,r);return{x:u(i.x,r,n),y:u(i.y,r,n)}})(e,n,c),b=((e,t,n,r)=>1===n?{x:0,y:0}:{x:Math.max(e.left,t.x-r.left,0),y:Math.max(e.top,t.y-r.top,0)})(E,v,c,g),y=m(g,c,b),I={x:b.x-h.x||0,y:b.y-h.y||0},C=(0,i.E)({x:Math.max(s.x+I.x,0)||0,y:Math.max(s.y+I.y,0)||0}),S={width:Math.max(e.width+C.x,y.width),height:Math.max(e.height+C.y,y.height)};return p(S.width,e.width)&&(S.width=e.width,I.x-=C.x),p(S.height,e.height)&&(S.height=e.height,I.y-=C.y),(0,r.HW)()&&(console.groupCollapsed("%c -- DEBUG ZOOM: getNewScrollableAreaSize","color: #48c2ff"),console.info("%c arguments:","color: blue",{canvasViewportClientRect:e,canvasDocumentSize:t,contentRect:n,canvasScroll:s,currentScale:c,currentTranslation:h}),console.info("%c reset results:","color: green",{targetRect:g,contentTranslation:f,transformedContentRect:E,expectedPadding:v,newTranslation:b,scrollAreaSize:y,translationChange:I,newCanvasScroll:C,newScrollAreaSize:S}),console.groupEnd()),{newTranslation:b,newCanvasScroll:C,translationChange:I,newScrollAreaSize:S}},g=(e,t,n,r,o,i)=>{const a=s.yZ(t),l=s.i0(t),{newScrollAreaSize:c,newTranslation:d,translationChange:u,newCanvasScroll:m}=h(n,r,o,i,a,l),p=s._2(t,d);return{transformationPoint:{x:Math.round(((null==e?void 0:e.x)||0)+((null==u?void 0:u.x)||0)),y:Math.round(((null==e?void 0:e.y)||0)+((null==u?void 0:u.y)||0))},transformationMatrix:p,canvasScroll:m,scrollAreaSize:c}}},26515:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(()=>{let e=!1,t=new Set;return{getIsZooming:()=>e,setIsZooming:n=>{e=n,n||(t.forEach((e=>{e()})),t=new Set)},registerZoomEndSubscriber:e=>{t.add(e)}}})()},58837:(e,t,n)=>{"use strict";let r;n.d(t,{z:()=>r}),function(e){e.TEMPLATES="templates",e.RELEASES="releases",e.AI_ASSISTANT_SHORTCUTS="ai-assistant-shortcuts",e.EMOJI="emoji"}(r||(r={}))},91631:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),o=n(45697),i=n.n(o),s=n(54688),a=n(94184),l=n.n(a),c=n(39301);const d=({children:e})=>r.createElement("span",{className:"highlight"},e);d.propTypes={children:i().oneOfType([i().arrayOf(i().node),i().node])};const u=({highlightText:e,HighlightComponent:t=d,text:n,className:o})=>r.createElement("span",{className:l()("HighlightedText",o)},!e&&r.createElement("span",{key:"text"},n),e&&(0,c.gN)(e,n).map((({textPart:e,isMatch:n},o)=>{const i=n?t:"span";return r.createElement(i,{key:o},e)})));u.propTypes={className:i().string,highlightText:i().string,text:i().string,HighlightComponent:i().func};const m=(0,s.Le)(u)},42069:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(9547),o=n.n(r),i=n(67294);function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a extends i.Component{constructor(e){super(e),s(this,"scheduleTimeout",(e=>{this.timeoutId=setTimeout(this.onTimeout,e)})),s(this,"onTimeout",(()=>{this.setState((e=>{const t=(e.count+1)%4,n=t<3?160:600;return this.scheduleTimeout(n),{count:t}}))})),this.state={count:0}}componentDidMount(){this.scheduleTimeout(160)}componentWillUnmount(){this.timeoutId&&clearTimeout(this.timeoutId)}render(){const{count:e}=this.state,t=o()(e,".");return i.createElement("span",{className:"EllipsisAnimation"},t)}}const l=a},13292:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s);n(98545);const l=e=>r.createElement("a",{disabled:e.disabled,className:a()("AnchorButton Button",e.className),href:e.href,onMouseDown:e.onMouseDown,onClick:e.onClickFn||e.onClick,target:e.target,tabIndex:e.tabIndex},e.children);l.propTypes={children:i().oneOfType([i().element,i().array,i().string]),onKeyDown:i().func,onMouseDown:i().func,onClickFn:i().func,onClick:i().func,className:i().string,href:i().string,target:i().string,disabled:i().bool,type:i().string,tabIndex:i().number};const c=l},80877:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294),o=n(94184),i=n.n(o);n(98545);const s=r.forwardRef(((e,t)=>r.createElement("button",{ref:t,disabled:e.disabled,className:i()("Button",e.className),style:e.style,type:e.type||"button",onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onKeyDown:e.onKeyDown,onKeyPress:e.onKeyPress,onKeyUp:e.onKeyUp,onPointerDown:e.onPointerDown,onPointerUp:e.onPointerUp,onMouseDown:e.onMouseDown,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onClick:e.onClickFn||e.onClick,onDoubleClick:e.onDoubleClick||e.onDoubleClickFn,id:e.id},e.children)))},27097:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s),l=n(80877);const c=e=>r.createElement(l.Z,Object.assign({},e,{className:a()("LinkButton",e.className)}),e.children);c.propTypes={children:i().oneOfType([i().element,i().array,i().string]),className:i().string,onClick:i().func};const d=c},80086:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s),l=n(61409);const c=({className:e,children:t,to:n,location:o,keepParams:i=!1})=>{const s=i&&o?`${n}${o.search}`:n;return r.createElement(l.rU,{className:a()("RouteLink",e),to:s},t)};c.propTypes={children:i().oneOfType([i().element,i().array,i().string]),to:i().string,className:i().string,location:i().object,keepParams:i().bool};const d=c},73497:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),o=n(94184),i=n.n(o),s=n(80877);const a=r.forwardRef((function(e,t){return r.createElement(s.Z,Object.assign({ref:t},e,{className:i()("StyledButton",e.className)}))}))},42653:(e,t,n)=>{"use strict";n.d(t,{Z:()=>F});var r=n(67294),o=n(37974),i=n(45697),s=n.n(i),a=n(94184),l=n.n(a),c=n(54688),d=n(62107),u=n(75763),m=n(72923),p=n(43095),h=n(79606),g=n(35302),f=n(62900),E=n(6414),v=n(95528),b=n(89855),y=n(4367),I=n(31013),C=n(35066),S=n(17790);const T=(0,h.i)({}),w=(0,h.T)({}),O=(0,E.Z)(),_=(0,f.Z)(),R=(0,I.Z)({enableBlockStyles:!1}),A=(0,C.Z)({enableBlockStyles:!1}),D=(0,v.Z)(),N=[(0,b.Z)(),(0,g.Z)(),w,T,_,O,R,(0,y.BN)(),A,D,(0,S.Z)()],x=e=>r.createElement(p.Z,Object.assign({},e,{plugins:N,className:l()("SimpleTextEditor",e.className)}));x.propTypes={className:s().string};const M=(0,m.Z)(x);var P=n(25066);function L(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k extends r.Component{constructor(e){super(e),L(this,"updateElementType",(({elementType:e,data:t})=>{const{element:n,dispatchUpdateElementType:r}=this.props;r({id:(0,u.nRF)(n),elementType:e,data:t})})),this.wrappedSaveCaptionContent=this.wrappedSaveCaptionContent.bind(this)}wrappedSaveCaptionContent(e,t){const{captionVisible:n,saveCaptionContent:r}=this.props;if(!n)return null;r(e,t)}render(){const{captionVisible:e,element:t,spellCheck:n,isEditing:o,currentEditorKey:i,onDoubleClick:s,style:a,padTop:c}=this.props;if(!e)return null;const m=l()("Caption",{"caption-modified":(0,u.m$1)(t),"pad-top":c}),p=(0,d.N5)(this.props),h=(0,d.xI)(this.props);return r.createElement("div",{className:m,onDoubleClick:s,style:a},r.createElement(M,Object.assign({},this.props,{isEditing:o&&i===h,updateElementType:this.updateElementType,saveContent:this.wrappedSaveCaptionContent,editorId:p,editorKey:h,spellCheck:n})))}}k.propTypes={element:s().object.isRequired,isEditing:s().bool,isEditable:s().bool,spellCheck:s().bool,startEditing:s().func,stopEditing:s().func,saveCaptionContent:s().func,onEmptyBackspace:s().func,textContent:s().oneOfType([s().string,s().object]),captionVisible:s().bool,currentEditorKey:s().string,currentEditorId:s().string,createNewCard:s().func,filterQuery:s().string,dispatchUpdateElementType:s().func,onDoubleClick:s().func,style:s().object,padTop:s().bool,isSelected:s().bool};const F=(0,c.qC)((0,o.$j)(null,(e=>({dispatchUpdateElementType:({id:t,elementType:n,data:r})=>{e((0,P.k)({id:t,elementType:n,data:r}))}}))),c.cr)(k)},64791:(e,t,n)=>{"use strict";n.d(t,{RP:()=>f,pb:()=>g,zs:()=>h});var r=n(81629),o=n.n(r),i=n(68468),s=n(18260),a=n(75763),l=n(23680),c=n(37407),d=n(87447),u=n(83263),m=n(79319);const p=e=>({elementId:t})=>(n,r)=>{const o=r(),s=(0,i.sb)(o,{elementId:t});(0,a.A7z)(s)!==e&&n((0,c.yj)({id:t,changes:{showCaption:e}}))},h=p(!0),g=p(!1),f=({editOnToggle:e=!0}={})=>(t,n)=>{const r=n(),i=(0,d.Sp)(r),p=(0,d.CX)(r).first(),h=!(0,a.A7z)(p),g=h?"added":"removed";(0,s.Y)(`${g}-${(0,a.BGE)(p)}-caption`),t((0,c.Az)({updates:i.toJS().map((e=>({id:e,changes:{showCaption:h}})))}));if(e&&1===i.size&&!(0,m.Z)((0,a.KTp)(p))){const e=()=>{if(h){const e=i.first();t((0,l.TV)({id:e,editorId:`${e}-${u.h}`,editorKey:u.h}))}else t((0,l.gR)(i.first()))};o()(e)}return h}},83263:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});const r="CAPTION"},76719:(e,t,n)=>{"use strict";n.d(t,{C9:()=>o,XP:()=>s,mp:()=>l,ni:()=>a,pH:()=>i,yi:()=>c});let r=null;const o={enabled:!1,temporarilyEnabled:!1,blocked:!1,logged:!1},i=()=>{o.enabled=!1,o.temporarilyEnabled=!1},s=(e=!1)=>{o.enabled=!0,o.temporarilyEnabled=e},a=()=>{o.blocked=!0,o.logged=!1},l=()=>{o.blocked=!1,o.logged=!1},c=()=>{o.enabled&&!o.temporarilyEnabled||(s(!0),clearTimeout(r),r=setTimeout((()=>{r=setTimeout(i,0)}),0))}},82028:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(67294),o=n(37974),i=n(33260),s=n(46716),a=n(11111),l=n(60434),c=n(76472),d=n(69412),u=n(51777),m=n(30402),p=n(69129);const h=(0,o.$j)(null,(e=>({setTempColor:c.Z,setColor:t=>{e((0,d.Bl)({color:t,secondaryColor:null,useExistingColorSpace:!0})),e((0,l.j4)(p.K2.COLOR,!1))}}))),g=e=>{const t=(0,i.vK)(e),n=(0,s.TJ)(t);if(n)return n;const r=(0,i.pr)(e);return(0,a.v8)(r)||(0,a.P7)(r)?m._O:m.Yr},f=h((({openerEventTarget:e,setColor:t,setTempColor:n,onOpen:o,onBlur:i,elements:s})=>r.createElement(u.Z,{openerEventTarget:e,setTempColor:n,setColor:t,initialColor:s&&g(s),onOpen:o,onBlur:i})))},98129:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(67294),o=n(45697),i=n.n(o),s=n(75348),a=n(19092),l=n(87701);const c=({date:e,futureOnly:t})=>{if(!t)return null;const n=(0,a.T6)(new Date);return(0,a.Pd)(e,n)?"react-calendar__tile--past":null},d=(e,t)=>t.toLocaleString(e,{weekday:"narrow"});var u=r.createElement(l.Z,{name:"chevron-left"}),m=r.createElement(l.Z,{name:"chevron-left"});const p=e=>{const{value:t,onChange:n,locale:o="en-US"}=e,i="en-US"===o?"US":"ISO 8601";return r.createElement(s.ZP,Object.assign({className:"Calendar",formatShortWeekday:d,minDetail:"month",minDate:e.futureOnly?new Date:null,tileClassName:c,calendarType:i,showFixedNumberOfWeeks:!0},e,{onChange:e=>{t&&(e.setHours(t.getHours()),e.setMinutes(t.getMinutes()),e.setSeconds(t.getSeconds()),e.setMilliseconds(t.getMilliseconds())),n&&n(e)},nextLabel:u,prevLabel:m}))};p.propTypes={futureOnly:i().bool,value:i().object,onChange:i().func,locale:i().string};const h=p},50568:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),o=n(45697),i=n.n(o),s=n(24621),a=n(19092);function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends r.Component{constructor(e){super(e),l(this,"checkInterval",(()=>{const e=((e,t)=>{const n=t-e;return n>a.yu.DAY?null:n>a.yu.HOUR?a.yu.HOUR:a.yu.MINUTE})(this.props.timestamp,this.state.currentTime);if(e!==this.currentInterval){if(this.intervalId&&clearInterval(this.intervalId),!e)return;this.currentInterval=e,this.intervalId=setInterval(this.updateCurrentTime,this.currentInterval)}})),l(this,"updateCurrentTime",(()=>{this.setState({currentTime:(0,a.u3)()}),this.checkInterval()})),this.intervalId=null,this.state={currentTime:(0,a.u3)()}}componentDidMount(){this.checkInterval()}componentWillUnmount(){this.intervalId&&clearInterval(this.intervalId)}render(){const{currentTime:e}=this.state,{title:t,timestamp:n,showSuffix:o,lessThanMinuteMessage:i}=this.props;return r.createElement("div",{className:"FriendlyTimestamp",title:t},(0,s.Z)({timestamp:n,fromTimestamp:e,showSuffix:o,lessThanMinuteMessage:i}))}}c.propTypes={timestamp:i().number,showSuffix:i().bool,lessThanMinuteMessage:i().string,title:i().string};const d=c},27092:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s),l=r.createElement("div",{className:"background"});const c=r.forwardRef((function(e,t){const{className:n,iconElement:o,secondaryElement:i,titleElement:s,style:c}=e;return r.createElement("div",{className:a()("IconView",n),ref:t,style:c},l,r.createElement("div",{className:"icon-container"},o),r.createElement("div",{className:"details-container"},s,i&&r.createElement("div",{className:"secondary-details-container"},i)))}));c.propTypes={iconElement:i().oneOfType([i().arrayOf(i().node),i().node]).isRequired,titleElement:i().oneOfType([i().arrayOf(i().node),i().node]).isRequired,secondaryElement:i().oneOfType([i().arrayOf(i().node),i().node]),className:i().string,style:i().object};const d=c},61750:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(72669),o=n.n(r),i=n(67294),s=n(45697),a=n.n(s),l=n(37974),c=n(94184),d=n.n(c),u=n(54688),m=n(22222),p=n(75763),h=n(39301),g=n(60742),f=n(71154),E=n(37407),v=n(23680),b=n(41080);function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const I=100,C=(0,m.zB)({title:(e,{element:t,initialValue:n})=>(0,p.YQ0)(t)||n,isEditing:f.Fp}),S=(0,u.qC)((0,l.$j)(C,(e=>({dispatchUpdateTitle:(t,n,r)=>e((0,E.yj)({id:t,changes:{title:n},transactionId:r})),dispatchStartEditingTitle:(t,n,r)=>e(n?(0,v.K$)({id:t,editorKey:r,editDelay:n}):(0,v.TV)({id:t,editorKey:r})),dispatchStopEditingTitle:(t,n=!1)=>{e((0,v.gR)(t)),!n&&e((0,v.yJ)())}}))),u.cr);class T extends i.Component{constructor(...e){super(...e),y(this,"onStartEditing",(()=>{const{editDelay:e,elementId:t,dispatchStartEditingTitle:n,editorKey:r}=this.props;n(t,e,r)})),y(this,"onStopEditing",(({keepSelection:e})=>{const{elementId:t,dispatchStopEditingTitle:n,onStopEditing:r}=this.props;r&&r({keepSelection:e}),n(t,e)})),y(this,"onUpdate",(e=>{const{elementId:t,dispatchUpdateTitle:n,onUpdate:r}=this.props;if(!e||!e.length)return;if(r)return r({title:e,transactionId:(0,g.k)()});const o=(0,h.xJ)(e);o!==this.props.title&&n(t,o,(0,g.k)())})),y(this,"cleanContent",(e=>{const{maxLength:t=I}=this.props;if(e)return(0,h.y0)(o()(e.substring(0,t)))}))}render(){const{title:e,isEditing:t,isEditable:n,isSelected:r,selectAllOnEdit:o,selectFirst:s,wrapTitleElement:a,maxLength:l,filterQuery:c}=this.props,u=n&&t;return i.createElement("div",{className:d()("EditableTitle",{editing:u})},i.createElement(b.Z,{multiline:!0,className:"editable-title",enterKeyHint:"Done",isEditing:t,isEditable:n,isSelected:r,selectAllOnEdit:o,selectFirst:s,wrapContent:a,maxLength:l,filterQuery:c,onStartEditing:this.onStartEditing,onStopEditing:this.onStopEditing,onUpdate:this.onUpdate,cleanContent:this.cleanContent},e))}}T.propTypes={elementId:a().string,title:a().string,editorKey:a().string,dispatchUpdateTitle:a().func,dispatchStartEditingTitle:a().func,dispatchStopEditingTitle:a().func,onStopEditing:a().func,onUpdate:a().func,wrapTitleElement:a().element,maxLength:a().number,isEditing:a().bool,isEditable:a().bool,isSelected:a().bool,selectFirst:a().bool,selectAllOnEdit:a().bool,editDelay:a().number,filterQuery:a().string};const w=S(T)},41080:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(63422),o=n.n(r),i=n(67294),s=n(45697),a=n.n(s),l=n(94184),c=n.n(l),d=n(39702),u=n(85491);const m=e=>e?(e=>(null==e?void 0:e.nodeType)===Node.ELEMENT_NODE)(e)?e:m(e.parentNode):null;var p=n(51752),h=n(57007),g=n(91631),f=n(22466);const E=e=>{const{children:t}=e;return i.createElement("span",{className:"EditableTitleSearchHighlight highlight"},t)};E.propTypes={children:a().oneOfType([a().arrayOf(a().node),a().node])};const v=(0,f.Z)(E);var b=n(40253);function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class I extends i.PureComponent{constructor(e){super(e),y(this,"onKeyDown",(e=>{e.metaKey&&(e.keyCode!==b.nx.B&&e.keyCode!==b.nx.I||e.preventDefault());const t=this.props.multiline&&(0,p.p9)(e)&&(0,h.LI)();if(e.keyCode===b.nx.ENTER&&!t||e.keyCode===b.nx.ESC){e.preventDefault();const t=(0,p.p9)(e)||(0,p.nY)(e)||(0,p.lk)(e),n=this.getContent();this.setState({tempContent:n}),this.props.onStopEditing&&this.props.onStopEditing({content:n,keepSelection:t})}if(e.keyCode===b.nx.BACKSPACE||e.keyCode===b.nx.DELETE){this.getContent().length||this.props.onEmptyBackspace&&this.props.onEmptyBackspace()}})),y(this,"onMouseDown",(e=>{this.props.isEditing&&(e=>{var t;if(!e)return!1;const n=null===(t=(0,d.Mf)())||void 0===t?void 0:t.focusNode;if(!n)return!1;const r=m(n);return!!r&&e.contains(r)})(this.contentRef.current)&&(0,u.B)(e)})),y(this,"onDoubleClick",(e=>{this.props.isEditing&&(0,d.hE)(e)})),y(this,"getContent",(()=>this.cleanContent(o()("innerText",this.contentRef.current))||"")),y(this,"selectContent",(()=>{const{selectAllOnEdit:e}=this.props;this.contentRef.current&&(e?(0,h.td)(this.contentRef.current):(0,h.e6)(this.contentRef.current))})),y(this,"blurContent",(()=>{this.contentRef.current&&this.contentRef.current.blur()})),y(this,"updateContent",(e=>{const{isEditable:t,onUpdate:n}=this.props;if(t)return!e.length&&this.contentRef.current&&(this.contentRef.current.innerText=this.props.children),n?n(e):void 0})),y(this,"startEditingContent",(e=>{const{isEditable:t,selectFirst:n,isSelected:r,onStartEditing:o}=this.props;t&&(n&&!r||o())})),y(this,"handlePasteEvent",(e=>{e.preventDefault();const t=(e.originalEvent||e).clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,this.cleanContent(t))})),y(this,"cleanContent",(e=>{const{cleanContent:t}=this.props;return e&&t?t(e):e})),this.state={tempContent:null},this.contentRef=i.createRef()}componentDidMount(){this.contentRef.current&&this.contentRef.current.addEventListener("paste",this.handlePasteEvent),this.props.isEditing&&this.selectContent()}componentWillReceiveProps(e){const{tempContent:t}=this.state,{isEditing:n}=this.props;n&&!e.isEditing&&(this.updateContent(this.getContent()),this.setState({tempContent:null})),t&&!n&&e.isEditing&&this.setState({tempContent:null})}componentDidUpdate(e){const{isEditing:t}=this.props;t&&!e.isEditing&&this.selectContent(),!t&&e.isEditing&&this.blurContent()}componentWillUnmount(){this.contentRef.current&&(this.contentRef.current.removeEventListener("paste",this.handlePasteEvent),this.props.isEditing&&this.updateContent(this.getContent()))}render(){const{tempContent:e}=this.state,{children:t,isEditing:n,isEditable:r,wrapContent:o,filterQuery:s,className:a,enterKeyHint:l,multiline:d}=this.props,u=r&&n,m=e||t,p=this.cleanContent(m),h=u?p:i.createElement(g.Z,{className:"title-text",highlightText:s,text:p,HighlightComponent:v});return i.createElement("div",{className:c()("ElementSimpleContentEditable",{editing:u,multiline:d},a),ref:this.contentRef,onClick:this.startEditingContent,contentEditable:u,enterkeyhint:l,suppressContentEditableWarning:!0,onKeyDown:this.onKeyDown,onMouseDown:this.onMouseDown,onDoubleClick:this.onDoubleClick},o&&!n?i.cloneElement(o,null,h):h)}}I.propTypes={className:a().string,children:a().string,enterKeyHint:a().string,filterQuery:a().string,isEditing:a().bool,isEditable:a().bool,isSelected:a().bool,selectAllOnEdit:a().bool,selectFirst:a().bool,multiline:a().bool,onUpdate:a().func,onStartEditing:a().func,onStopEditing:a().func,onEmptyBackspace:a().func,cleanContent:a().func,wrapContent:a().element,maxLength:a().number};const C=I},46893:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(9041),o=n(21018);const i=(e,t)=>{const n=(0,o.Z)(e);let i=e;return null==t||t.forEach((e=>{i=r.Modifier.applyInlineStyle(i,n,e)})),i}},97813:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(e,t)=>{const{startKey:n,endKey:r}=t,o=((e,t)=>e.keySeq().skipUntil((e=>e===t)).skip(1).first())(e,r);return e.skipUntil((e=>e.get("key")===n)).takeWhile((e=>e.get("key")!==o))}},5169:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(26911);const o=e=>e===r.K2.CHECKLIST||e===r.K2.ORDERED_LIST||e===r.K2.LIST},86082:(e,t,n)=>{"use strict";n.d(t,{D5:()=>s,Oj:()=>l,ZP:()=>c});var r=n(9041),o=n(75146),i=n(37216);const s=(e,t,n)=>{let r=e.getBlockMap();return r?(t.forEach((t=>{const o=t.getKey(),i=e.getBlockForKey(o);if(!i)return;const s=i.mergeIn(["data"],n);r=r.merge({[o]:s})})),e.merge({blockMap:r})):e},a=(e,t,n)=>{const i=e.getSelection();let a=e.getCurrentContent();a=s(a,t,n);const l=r.EditorState.push(e,a,o.m_.CHANGE_BLOCK_DATA);return r.EditorState.forceSelection(l,i)},l=(e,t)=>{const n=(0,i.Z)(e);return a(e,n,t)},c=(e,t,n)=>a(e,[t],n)},51900:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(9041),o=n(75146);const i=(e,t,n,i={})=>{if(!t)return e;const s=e.getCurrentContent(),a=e.getSelection(),l=a.merge({anchorOffset:0});let c=r.Modifier.removeRange(s,l,o.$4.forward);const d=a.getStartKey(),u=c.getBlockMap(),m=u.get(d),p=m.getData().merge(i),h=m.merge({type:t,data:p});return c=c.merge({blockMap:u.set(d,h)}),r.EditorState.push(e,c,o.m_.CHANGE_BLOCK_TYPE)}},74386:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=e=>{const t=e.getSelection().getStartKey();return e.getCurrentContent().getBlockForKey(t)}},22733:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a,g:()=>s});var r=n(43393),o=n(9041),i=n(74386);const s=e=>{const t=e.getSelection();if(!t.isCollapsed())return!1;if(0!==t.getStartOffset())return!1;const n=e.getCurrentContent().getBlockMap();if(!n||n.size<=1)return!1;return!((0,i.Z)(e).getLength()>0)},a=e=>{if(!s(e)){const t=e.getCurrentContent(),n=e.getSelection(),o=null==n?void 0:n.getStartKey();return t&&o&&t.getBlockForKey(o)?e.getCurrentInlineStyle():r.OrderedSet()}const t=e.getInlineStyleOverride();if(!t)return r.OrderedSet();let n=t;return o.EditorState.setInlineStyleOverride(e,null).getCurrentInlineStyle().forEach((e=>{t.has(e)&&(n=n.remove(e)),t.has(e)||(n=n.add(e))})),n}},62067:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(9041),o=n(74386),i=n(86082),s=n(75146),a=n(26911);const l=(e,t)=>{var n;const l=e.getSelection();let c=e.getCurrentContent();const d=(0,o.Z)(e),u=!(null==d||null===(n=d.getData())||void 0===n||!n.get(a.kk.TEXT_ALIGN_CENTER));if(c=r.Modifier.splitBlock(c,l),t&&(c=r.Modifier.setBlockType(c,c.getSelectionAfter(),t)),u){const e=c.getSelectionAfter().getFocusKey(),t=c.getBlockForKey(e);c=(0,i.D5)(c,[t],{[a.kk.TEXT_ALIGN_CENTER]:!0})}const m=r.EditorState.push(e,c,s.m_.SPLIT_BLOCK);return e.getInlineStyleOverride()?r.EditorState.setInlineStyleOverride(m,null):m}},55093:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(69937),o=n.n(r),i=n(7108),s=n.n(i);var a=n(97813);const l=(e,t,n)=>{const r=((e,t)=>{const n=e.getCurrentContent(),r=n.getBlockMap(),o=[];let i=r.first();for(;i;){let e=null,a=null,l=null,c=null;const d=i.get("key"),u=n.getKeyAfter(d),m=r.get(u),p=i.getLength();for(let n=0;n<p;n++)i.getEntityAt(n)===t&&(s()(e)&&(e=d,a=n),n!==p-1?i.getEntityAt(n+1)!==t&&(l=d,c=n+1):m&&m.getEntityAt(0)===t||(l=d,c=n+1)),s()(a)||s()(c)||(o.push({startKey:e,startOffset:a,endKey:l,endOffset:c}),e=null,a=null,l=null,c=null);i=m}return o})(e,n);if(r.length<0)return null;if(1===r.length)return o()(r);const i=e.getCurrentContent().getBlockMap(),l=r.find((e=>((e,t,n)=>{if(t.startKey===n.endKey&&t.startOffset>n.endOffset)return!1;if(t.endKey===n.startKey&&t.endOffset<n.startOffset)return!1;const r=t.startKey===t.endKey,o=n.startKey===n.endKey;if(r&&o)return t.startKey===n.startKey;const i=(0,a.Z)(e,t).keySeq(),s=(0,a.Z)(e,n).keySeq();return i.some((e=>s.includes(e)))||s.some((e=>i.includes(e)))})(i,e,t)));return l||o()(r)}},51951:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(9041);const o=(e,t)=>{const n=r.EditorState.acceptSelection(e,t);return r.EditorState.forceSelection(n,t)}},57490:(e,t,n)=>{"use strict";n.d(t,{U:()=>s,Z:()=>a});var r=n(9041),o=n(75146),i=n(4933);const s=e=>t=>n=>{let o=r.SelectionState.createEmpty(t.getStartKey());return o=o.merge({anchorKey:t.getStartKey(),anchorOffset:t.getStartOffset(),focusKey:t.getStartKey(),focusOffset:t.getStartOffset(),isBackward:!1,hasFocus:!0}),r.Modifier.insertText(n,o,e,null,null)},a=e=>t=>n=>{const a=n.getCurrentContent(),l=n.getSelection();let c=s(e)(t)(a);const d=e.length,u=(0,i.Z)(l,d,d);c=c.set("selectionAfter",u);const m=r.EditorState.push(n,c,o.m_.INSERT_CHARACTERS);return r.EditorState.forceSelection(m,u)}},28678:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=e=>{if(!e)return!0;return!e.getCurrentContent().hasText()&&!e.isInCompositionMode()}},95650:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c,n:()=>l});var r=n(68337),o=n.n(r),i=n(76134),s=n.n(i);const a=o()();a.tlds(s());const l=e=>{const t=a.match(e);return t||[]},c=e=>l(e).map((e=>e.url))},96068:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(9041),o=n(75146);const i=e=>t=>{const n=t.getCurrentContent(),i=t.getSelection();let s=r.Modifier.removeRange(n,i,o.$4.forward),a=r.SelectionState.createEmpty(i.getStartKey());a=a.merge({anchorKey:i.getStartKey(),anchorOffset:i.getStartOffset(),focusKey:i.getStartKey(),focusOffset:i.getStartOffset(),isBackward:!1,hasFocus:!0}),s=r.Modifier.insertText(s,a,e,t.getCurrentInlineStyle(),null);const l=r.EditorState.push(t,s,o.m_.INSERT_CHARACTERS);return r.EditorState.forceSelection(l,s.getSelectionAfter())}},44256:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(43393),o=n(89165),i=n(22733);const s=e=>{if(e.getSelection().isCollapsed())return(0,i.Z)(e);let t=r.OrderedSet();return(0,o.Z)(e).getBlockMap().forEach((e=>{e.getCharacterList().forEach((e=>{const n=e.getStyle();n&&(t=t.union(n))}))})),t}},89165:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(15870),o=n.n(r),i=n(52151),s=n.n(i),a=n(94882),l=n.n(a),c=n(9041);const d=e=>{const t=l()(e),n=e.getCurrentContent();let r=t.valueSeq().toArray();return 0===s()(r).getLength()&&(r=o()(r)),c.ContentState.createFromBlockArray(r,n.getEntityMap())}},37216:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(97813);const o=e=>{const t=e.getCurrentContent(),n=e.getSelection(),o=t.getBlockMap(),i=n.getStartKey(),s=n.getEndKey();return(0,r.Z)(o,{startKey:i,endKey:s})}},21018:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(9041);const o=e=>{const t=e.getFirstBlock(),n=e.getLastBlock();return new r.SelectionState({anchorKey:t.getKey(),anchorOffset:0,focusKey:n.getKey(),focusOffset:n.getText().length})}},24749:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=e=>{const t=e.getSelection();if(t.isCollapsed())return!1;const n=t.getStartKey();if(n!==t.getEndKey())return!1;if(0!==t.getStartOffset())return!1;return e.getCurrentContent().getBlockForKey(n).getLength()===t.getEndOffset()}},95669:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=e=>{const t=e.getSelection();if(t.isCollapsed())return!1;const n=t.getStartKey();if(n!==t.getEndKey())return!0;const r=(e=>{const t=e.getCurrentContent().getBlockMap();return t?t.size:0})(e);if(1!==r)return!1;if(0!==t.getStartOffset())return!1;return e.getCurrentContent().getBlockForKey(n).getLength()===t.getEndOffset()}},4933:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(9041);const o=(e,t=0,n=0)=>{if(!t&&!n)return e;const o=r.SelectionState.createEmpty(e.getAnchorKey()),i=e.getAnchorKey(),s=e.getAnchorOffset(),a=e.getFocusKey(),l=e.getFocusOffset();return o.merge({anchorKey:i,anchorOffset:Math.max(0,s+t),focusKey:a,focusOffset:Math.max(0,l+n),isBackward:e.getIsBackward(),hasFocus:!1})}},61134:(e,t,n)=>{"use strict";n.d(t,{JO:()=>o.Z,hE:()=>r.hE,nx:()=>i.nx});var r=n(39702),o=n(87701),i=n(40253)},13586:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(9041);const o=()=>{const e=(0,r.getVisibleSelectionRect)(window);if(e)return e;const t=window.getSelection();return t&&t.focusNode?t.focusNode.getBoundingClientRect():null}},75146:(e,t,n)=>{"use strict";n.d(t,{$4:()=>s,CK:()=>i,NQ:()=>a,m_:()=>o,wz:()=>r});const r={handled:"handled",notHandled:"not-handled"},o={MOVE_SELECTION_TO_END_OF_BLOCK:"move-selection-to-end-of-block",MOVE_SELECTION_TO_START_OF_BLOCK:"move-selection-to-start-of-block",CHANGE_BLOCK_TYPE:"change-block-type",CHANGE_BLOCK_DATA:"change-block-data",CHANGE_INLINE_STYLE:"change-inline-style",SPLIT_BLOCK:"split-block",REMOVE_RANGE:"remove-range",ADJUST_DEPTH:"adjust-depth",APPLY_ENTITY:"apply-entity",INSERT_CHARACTERS:"insert-characters",INSERT_FRAGMENT:"insert-fragment"},i={BACKSPACE:"backspace",DELETE:"delete"},s={forward:"forward",backward:"backward"},a={MUTABLE:"MUTABLE",IMMUTABLE:"IMMUTABLE",SEGMENTED:"SEGMENTED"}},24863:(e,t,n)=>{"use strict";n.d(t,{Z:()=>oe});var r=n(41609),o=n.n(r),i=n(47037),s=n.n(i),a=n(67294),l=n(45697),c=n.n(l),d=n(37974),u=n(94184),m=n.n(u),p=n(54688),h=n(22222),g=n(9041),f=n(72586),E=n(31600),v=n(7575),b=n(10048),y=n(20963);const I=!window.requestIdleCallback;var C=n(43831),S=n(43393);var T=n(6307),w=n(5612),O=n(4835),_=n.n(O),R=n(8816),A=n.n(R),D=n(11151),N=n.n(D);const x=e=>A()(N()(e),_());var M=n(28678),P=n(26911);const L=e=>{if(!e)return!0;const t=e.getCurrentContent().getFirstBlock();return _()([`placeholder-${t.getType()}`,t.getData().get(P.kk.TEXT_ALIGN_CENTER)?"placeholder-align-center":void 0])};var k=n(96502),F=n(70452),B=n(96068),j=n(31412);const z=e=>{const t=e.blocks.map((e=>{if(!e.text.includes("\t"))return e;const t=e.text.replace(/\t/g,j.E),n=e.inlineStyleRanges.map((t=>Object.assign({},t,{offset:e.text.slice(0,t.offset).replace(/\t/g,j.E).length,length:e.text.slice(t.offset,t.offset+t.length).replace(/\t/g,j.E).length}))),r=e.entityRanges.map((t=>Object.assign({},t,{offset:e.text.slice(0,t.offset).replace(/\t/g,j.E).length,length:e.text.slice(t.offset,t.offset+t.length).replace(/\t/g,j.E).length})));return Object.assign({},e,{text:t,inlineStyleRanges:n,entityRanges:r})}));return Object.assign({},e,{blocks:t})};var U=n(46893),H=n(80177),Z=n(63422),G=n.n(Z),K=n(7020),W=n(14842),V=n.n(W);const $=x(G()("decorators"));var q=n(51951);var Y=n(19092),X=n(75146);n(20252);const Q=["editorKey","localEditorState"];var J,ee;function te(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ne=(0,h.zB)({hasLiveCollaborators:k.l,isUndoingOrRedoing:e=>(0,v.Nm)(e)||(0,v.YX)(e)});let re=(J=(0,d.$j)(ne),(0,p.Le)(ee=J(ee=(0,E.Z)(ee=class extends a.Component{constructor(e){var t;super(e),te(this,"getDecorator",(e=>{const t=((e,t)=>x((e=>e.dynamicDecorators&&e.dynamicDecorators(t)))(e))(e.plugins,e);return((e,t,n)=>{const r=$(e);let o=t?[...t,...r]:r;return o=o.map((e=>Object.assign({},e,{component:(0,K.Z)(e.component,n)}))),new(V())([new g.CompositeDecorator(o)])})(e.plugins,t,{getEditorState:this.getEditorState,setEditorState:this.setDraftPluginsEditorState})})),te(this,"buildFromTextContent",(e=>{const{textContent:t}=e;if(s()(t))return g.EditorState.createWithContent(g.ContentState.createFromText(t),this.getDecorator(e));const n=Object.assign({entityMap:{},blocks:[]},(0,C.su)(t));return o()(n.blocks)?g.EditorState.createEmpty(this.getDecorator(e)):g.EditorState.createWithContent((0,g.convertFromRaw)(z(n)),this.getDecorator(e))})),te(this,"buildEditorState",(e=>{const{textContent:t}=e;return t?this.buildFromTextContent(e):g.EditorState.createEmpty(this.getDecorator(e))})),te(this,"getEditorState",(()=>this.state.editorState)),te(this,"setDraftPluginsEditorState",(e=>this.editor&&this.editor.onChange?this.editor.onChange(e):this.onChange(e))),te(this,"onChange",(e=>{if(this.props.localEditorState)return;if(!this.props.isEditable)return;this.changeCount++,this.clearDebounceTimer();const t=this.state.editorState.getCurrentContent(),n=e.getCurrentContent(),r=this.lastSavedContent.getBlockMap().size,o=n.getBlockMap().size,i=t!==n;r!==o||!this.props.isEditing||this.props.hasLiveCollaborators&&this.changeCount>10?this.saveData(e):i&&(this.changeDebounceTimer=setTimeout((()=>this.saveData(e)),this.props.hasLiveCollaborators?Y.yu.SECOND:5e3)),this.props.isEditing&&(this.props.editorStateChanged({editorId:this.props.editorId,originalEditorId:this.props.originalEditorId,editorState:e}),this.props.onChange&&this.props.onChange({editorId:this.props.editorId,editorState:e}))})),te(this,"onMouseDown",(e=>{this.props.isEditing&&e.stopPropagation(),this.props.onMouseDown&&this.props.onMouseDown(e)})),te(this,"onClick",(e=>{this.props.isEditable&&(this.props.isEditing&&e.stopPropagation(),this.props.shouldFocusOnlyWhenSelected?this.props.shouldFocusOnlyWhenSelected&&this.props.isSingleSelected&&this.focusOnEditor(e):this.focusOnEditor(e),this.props.onClick&&this.props.onClick(e))})),te(this,"onBeforeUnload",(()=>{this.saveCurrentContent()})),te(this,"getProps",(()=>this.props)),te(this,"getTextDomElement",(()=>this.textEditorNode)),te(this,"getBoundingClientRect",(()=>{const e=this.getTextDomElement();return e?e.getBoundingClientRect():(b.Z.warn("Couldn't find the editor contents element"),{})})),te(this,"setEditorState",(e=>{this.setState({editorState:e})})),te(this,"clearDebounceTimer",(()=>{this.changeDebounceTimer&&clearTimeout(this.changeDebounceTimer),this.saveDataOnIdle.cancel()})),te(this,"saveData",(e=>{this.changeCount=0,this.clearDebounceTimer();const t=e.getCurrentContent();if(this.lastSavedContent===t)return;this.lastSavedContent=t;const{saveContent:n}=this.props,r=(0,g.convertToRaw)(t);n?n(r):this.setEditorState(e)})),te(this,"saveDataOnIdle",(e=>{let t;const n=(...n)=>{const r=n;t||(t=(0,y.Z)((()=>{t=null,e(...r)})))};return n.cancel=()=>{t&&(I?clearTimeout(t):window.cancelIdleCallback(t),t=null)},n})(this.saveData)),te(this,"saveSelection",(()=>{const{editorState:e}=this.state,{dispatchSaveEditorSelection:t,editorId:n}=this.props;t({editorId:n,selection:e.getSelection()})})),te(this,"focusOnEditor",(e=>{const{editorId:t,editorKey:n}=this.props;(0,w.J)(e)||(0,T.iN)(this.props)?this.editor&&this.editor.focus():(this.props.startEditing&&this.props.startEditing({editorId:t,editorKey:n}),this.props.onFocus&&this.props.onFocus(e))})),te(this,"forceEditorBlur",(()=>{this.editor.blur();const e=(e=>{const t=e.getSelection().set("hasFocus",!1);return g.EditorState.acceptSelection(e,t)})(this.state.editorState);this.setEditorState(e)})),te(this,"updateCloneCardEditorState",(()=>{const{editorState:e}=this.state,t=e.getCurrentContent();let n=(0,H.Z)(e);const r=n&&t.getEntity(n);return(r&&(0,C.vg)("type",r))===P.l3.LINK?(t.mergeEntityData(n,{highlight:!1}),g.EditorState.set(e,{currentContent:t})):null})),te(this,"saveCurrentContent",(e=>{this.saveData(e||this.state.editorState)})),te(this,"preventSaveOnUnmount",(()=>{this.saveOnUnmount=!1,this.clearDebounceTimer()})),te(this,"editorContainerRef",(e=>{this.editorParent=e,this.textEditorNode=e&&e.querySelector("div[data-contents='true']")})),te(this,"saveEditorRef",(e=>{this.editor=e}));const n=this.buildEditorState(this.props);this.lastSavedContent=n.getCurrentContent(),this.saveOnUnmount=!0,this.changeCount=0,this.state={editorState:n},"function"==typeof this.props.editorRef?this.props.editorRef(this):null!==(t=this.props.editorRef)&&void 0!==t&&t.hasOwnProperty("current")&&(this.props.editorRef.current=this)}componentDidMount(){if(this.props.isEditing&&this.editor){const{savedSelection:e,editorId:t}=this.props,{editorState:n}=this.state;let r=e?(0,q.Z)(n,e):g.EditorState.moveFocusToEnd(n);e&&this.props.dispatchSaveEditorSelection({editorId:t,selection:null}),F.QH()&&(r=(0,B.Z)(F.ee())(r),F.ZH()),this.editor.focus(),this.onChange(r),window.addEventListener("beforeunload",this.onBeforeUnload)}}componentWillReceiveProps(e,t){if((0,T.HF)(this.props,e)&&(0,T.d8)(this.props,e)&&this.setEditorState(e.editorState),e.isUndoingOrRedoing&&(0,T.G_)(this.props,e)){let t=this.buildEditorState(e);return e.isEditing&&(t=g.EditorState.moveFocusToEnd(t)),this.lastSavedContent=t.getCurrentContent(),void this.setEditorState(t)}if((0,T.wK)(this.props,e)&&(e.savedSelection&&this.props.dispatchSaveEditorSelection({editorId:this.props.editorId,selection:null}),this.state.editorState.isInCompositionMode()||this.saveCurrentContent()),!(0,T.HF)(this.props,e)&&!(0,T.R7)(this.props,e)&&((0,T.G_)(this.props,e)||(0,T.AH)(this.props,e))){let t=this.buildEditorState(e);e.isEditing&&(t=g.EditorState.moveFocusToEnd(t)),this.lastSavedContent=t.getCurrentContent(),this.setEditorState(t)}}shouldComponentUpdate(e,t){return this.state!==t||(this.props.isEditing!==e.isEditing||(this.props.localEditorState!==e.localEditorState||!!e.isEditing))}componentDidUpdate(e){const{editorState:t}=this.state;let n;const{defaultStyleOverride:r}=this.props;if(r&&(0,M.Z)(t)&&!t.getInlineStyleOverride()&&(n=g.EditorState.setInlineStyleOverride(t,(0,S.OrderedSet)(r))),(0,T.NE)(e,this.props)&&(n=g.EditorState.moveFocusToEnd(t),window.addEventListener("beforeunload",this.onBeforeUnload)),this.props.savedSelection&&e.savedSelection!==this.props.savedSelection){const{savedSelection:e,editorId:r}=this.props;n=(0,q.Z)(t,e),this.props.dispatchSaveEditorSelection({editorId:r,selection:null})}n&&(this.editor.focus(),this.onChange(n)),(0,T.wK)(e,this.props)&&(window.removeEventListener("beforeunload",this.onBeforeUnload),this.props.editorStateChanged({editorId:null,originalEditorId:null,editorState:g.EditorState.createEmpty()})),(0,T.R7)(e,this.props)&&!t.isInCompositionMode()&&this.forceEditorBlur()}componentWillUnmount(){this.saveOnUnmount&&this.saveCurrentContent(),window.removeEventListener("beforeunload",this.onBeforeUnload)}getEditor(){return this.editor}getCurrentEditorState(){return this.state.editorState}setPlainText(e,t){let n=g.EditorState.moveFocusToEnd(this.buildFromTextContent({textContent:e}));const r=(0,U.Z)(n.getCurrentContent(),t);n=g.EditorState.push(n,r,X.m_.CHANGE_INLINE_STYLE),this.onChange(n)}render(){const{isEditing:e,isEditable:t,className:n,placeholder:r,children:o,spellCheck:i,isClone:s}=this.props,{editorState:l}=this.state,c=this.props,{localEditorState:d}=c,u=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(c,Q),p=r&&(0,M.Z)(l),h=p&&L(l),g={editing:(0,T.iN)(this.props)};let E=d||l;return s&&(E=this.updateCloneCardEditorState()||E),a.createElement("div",{className:m()("Editor",h,n,g),ref:this.editorContainerRef,tabIndex:"-1",onMouseDown:this.onMouseDown,onClick:this.onClick},a.createElement(f.ZP,Object.assign({ref:this.saveEditorRef},u,{placeholder:p?r:"",preventSaveOnUnmount:this.preventSaveOnUnmount,saveCurrentContent:this.saveCurrentContent,defaultBlockRenderMap:!0,editorState:E,onChange:this.onChange,onFocus:this.focusOnEditor,readOnly:!(t&&e),spellCheck:i})),o&&o(l))}})||ee)||ee)||ee);re.propTypes={plugins:c().array,editorState:c().object,localEditorState:c().object,savedSelection:c().object,editorId:c().string.isRequired,originalEditorId:c().string,editorKey:c().string.isRequired,textContent:c().oneOfType([c().string,c().object]),className:c().string,isEditing:c().bool,isEditable:c().bool,shouldFocusOnlyWhenSelected:c().bool,isSelected:c().bool,isSingleSelected:c().bool,spellCheck:c().bool,isUndoingOrRedoing:c().bool,editorStateChanged:c().func,saveContent:c().func,startEditing:c().func,stopEditing:c().func,placeholder:c().string,editorRef:c().oneOfType([c().func,c().object]),onFocus:c().func,onChange:c().func,defaultStyleOverride:c().array,isClone:c().bool,onClick:c().func,onMouseDown:c().func,children:c().func,hasLiveCollaborators:c().bool,dispatchSaveEditorSelection:c().func};const oe=re},6307:(e,t,n)=>{"use strict";n.d(t,{AH:()=>c,G_:()=>a,HF:()=>s,NE:()=>p,R7:()=>o,d8:()=>l,iN:()=>h,wK:()=>m});var r=n(28644);const o=(0,r.FB)("isEditing"),i=(0,r.zO)("isEditing"),s=(0,r.cl)("isEditing"),a=(0,r.aU)("textContent"),l=(0,r.aU)("editorState"),c=((0,r.aU)("savedSelection"),(0,r.aU)("filterQuery")),d=e=>e.currentEditorId===e.editorId,u=e=>e.currentEditorId!==e.editorId,m=(e,t)=>o(e,t)&&d(e)||e.isEditing&&((e,t)=>d(e)&&u(t))(e,t),p=(e,t)=>i(e,t)&&d(t)||t.isEditing&&((e,t)=>d(t)&&u(e))(e,t),h=e=>e.isEditing&&d(e)},70452:(e,t,n)=>{"use strict";n.d(t,{QH:()=>s,ZH:()=>o,ee:()=>a,wK:()=>i});let r="";const o=()=>{r=""},i=e=>{e&&(r+=e)},s=()=>!!r.length,a=()=>r},57595:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s),l=n(61134);const c=["error","checked"];var d=r.createElement(l.JO,{name:"checkbox-animated"});const u=e=>{const{error:t,checked:n}=e,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,c),[i,s]=r.useState(!1),[l]=r.useState(e.checked);return r.useEffect((()=>{e.checked!==l&&s(!0)}),[e.checked]),r.createElement("div",Object.assign({contentEditable:!1,className:a()("Checkbox",{error:t,checked:n,animate:i})},o),d)};u.propTypes={checked:i().bool,error:i().bool};const m=u},31412:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,Z:()=>s});var r=n(99983),o=n.n(r);const i="    ",s=e=>o()(e).indent||i},93350:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(34143);const o=(e,t,n)=>{const o=n||(0,r.Z)(e);let i=0,s=0,a=0;for(;s>=0&&s<t;)i++,a=s,s=e.indexOf(o,s+o.length);return{line:Math.max(i-1,0),offset:t-a}}},10696:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(34143);const o=(e,t)=>{const n=t||(0,r.Z)(e);return e.split(n)}},34143:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(4306),o=n.n(r);const i=e=>o()(e)||"\n"},54203:(e,t,n)=>{"use strict";n.d(t,{u:()=>a});var r=n(9041),o=n(37216),i=n(75146),s=n(31412);const a=(e,t)=>{let n=e;const a=n.getCurrentContent(),l=(0,o.Z)(n),c=l.first().getText().length,d=l.last().getText().length,u=l.toArray().map((e=>e.getText())).join("\n").replace(/\t/g,s.E),m=n.getSelection(),p=m.getIsBackward(),h=m.merge({anchorOffset:p?c:0,focusOffset:p?0:d}),g=r.Modifier.replaceText(a,h,u,null);return n=r.EditorState.push(n,g,i.m_.INSERT_CHARACTERS),n=r.EditorState.forceSelection(n,g.getSelectionAfter()),r.RichUtils.toggleBlockType(n,t)}},6414:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(9041),o=n(28678),i=n(5169);const s="empty-delete",a="empty-backspace",l="remove-block-style";var c=n(61134),d=n(26911);const u=(e,t,n)=>(0,o.Z)(e)?(e=>{var t;if(r.RichUtils.getCurrentBlockType(e)===d.K2.UNSTYLED)return!0;const n=e.getCurrentContent().getFirstBlock();return!n||(null===(t=n.getData())||void 0===t?void 0:t.get(d.kk.IGNORE_FOR_DELETE))})(e)?n:l:t===c.nx.BACKSPACE?(e=>{const t=r.RichUtils.getCurrentBlockType(e);if(t===d.K2.UNSTYLED)return;const n=e.getSelection();if(!n.isCollapsed())return;if(0!==n.getStartOffset())return;const o=n.getStartKey(),s=e.getCurrentContent().getBlockBefore(o);return s?(0,i.Z)(t)&&s.getType()!==t?l:void 0:l})(e):void 0,m=(e,{getEditorState:t})=>{switch(e.keyCode){case c.nx.BACKSPACE:return u(t(),e.keyCode,a);case c.nx.DELETE:return u(t(),e.keyCode,s)}};var p=n(75146);const h=(e,t,n,{getProps:o,setEditorState:i})=>{if(e===l){const e=(e=>{const t=e.getCurrentContent(),n=e.getSelection();return r.Modifier.setBlockType(t,n,d.K2.UNSTYLED)})(t);return i(r.EditorState.push(t,e,p.m_.CHANGE_BLOCK_TYPE)),p.wz.handled}if(e!==s&&e!==a)return p.wz.notHandled;const{saveCurrentContent:c,onEmptyBackspace:u}=o();return c&&c(),u&&u({forward:e===s}),p.wz.handled},g=()=>({keyBindingFn:m,handleKeyCommand:h})},26722:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(9041);const o=(0,n(96068).Z)("\n");var i=n(62067),s=n(51752),a=n(74386),l=n(26911),c=n(75146);const d=(e,t)=>{if((0,s.lk)(e))return t;if((0,s.p9)(e))return o(t);const n=(e=>{const t=(0,a.Z)(e);if(t&&t.getLength()>=1)return e;const n=t.getKey(),o=e.getCurrentContent().getBlockAfter(n);let i=!1;i=!o||t.getType()!==o.getType();if(!i)return e;const s=r.RichUtils.tryToRemoveBlockStyle(e);return s?r.EditorState.push(e,s,c.m_.CHANGE_BLOCK_TYPE):e})(t);if(n!==t)return n;const d=r.RichUtils.getCurrentBlockType(t),u=-1!==d.indexOf(l.K2.HEADING_PREFIX)||d===l.K2.BLOCKQUOTE?l.K2.UNSTYLED:null;return(0,i.Z)(t,u)},u=(e,t,{setEditorState:n})=>{const r=d(e,t);return r!==t?(n(r),c.wz.handled):c.wz.notHandled}},95528:(e,t,n)=>{"use strict";n.d(t,{Z:()=>H});var r=n(9041),o=n(22733),i=n(75146);const s=(e,t,n,{setEditorState:s})=>{if(!(0,o.g)(t))return i.wz.notHandled;const a=(0,o.Z)(t),l=t.getSelection(),c=t.getCurrentContent(),d=r.Modifier.insertText(c,l,e,a);return s(r.EditorState.push(t,d,i.m_.INSERT_CHARACTERS)),i.wz.handled},a=({editorState:e,blockKey:t,direction:n})=>{const o=e.getSelection(),s=e.getCurrentContent(),a=s.getBlockBefore(t),l=s.getBlockAfter(t),c=a||l?(({currentContent:e,selection:t,blockKey:n,direction:o})=>{const s=e.getBlockBefore(n),a=e.getBlockAfter(n),l=s&&(o===i.$4.backward||!a),c=l?s.getKey():a.getKey(),d=l?s.getLength():0,u=r.SelectionState.createEmpty(c).merge({anchorOffset:d,focusOffset:d,hasFocus:!0}),m=e.getBlockMap().delete(n);return e.merge({blockMap:m,selectionBefore:t,selectionAfter:u})})({currentContent:s,selection:o,blockKey:t,direction:n}):(({currentContent:e,blockKey:t})=>{const n=e.getBlockForKey(t),o=r.SelectionState.createEmpty(t).merge({focusOffset:n.getLength(),hasFocus:!0});return r.Modifier.removeRange(e,o,i.$4.forward)})({currentContent:s,blockKey:t});return r.EditorState.push(e,c.set("selectionBefore",o),i.m_.REMOVE_RANGE)},l=(e,t)=>{switch(t){case i.CK.DELETE:case i.CK.BACKSPACE:return((e,t)=>{const n=e.getSelection(),r=n.getStartKey(),o=n.getEndKey(),s=e.getCurrentContent().getKeyAfter(r);if(r!==o&&o===s&&0===n.getStartOffset()&&0===n.getEndOffset()){const n=t===i.CK.BACKSPACE?i.$4.backward:i.$4.forward;return a({editorState:e,blockKey:r,direction:n})}return null})(e,t);default:return null}},c=(e,t,n,{setEditorState:o})=>{const s=l(t,e)||r.RichUtils.handleKeyCommand(t,e);return s?(o(s),i.wz.handled):i.wz.notHandled};var d=n(26722),u=n(51951),m=n(51752);const p=(e,{key:t,offset:n})=>{const r=e.getCurrentContent(),o=r.getBlockForKey(t).getEntityAt(n);if(!o)return{};return{entityKey:o,entity:r.getEntity(o)}};var h=n(55093);const g=({text:e,offset:t,isJump:n,isForward:r})=>n?(({text:e,offset:t,isForward:n})=>{let r=t+(n?1:-1);for(;r>=0&&r<=e.length;){if(e[r]&&" "!==e[r])return r;r+=n?1:-1}return r})({text:e,offset:t,isForward:r}):t+(r?1:-1),f=e=>(t,n,r)=>{const{key:o,offset:i}=n,s=t.getCurrentContent();let a=s.getBlockForKey(o),l=a.getText(),c=o,d=g({text:l,offset:i,isJump:r,isForward:e});for(;d<0||d>l.length;){const t=e?s.getKeyAfter(c):s.getKeyBefore(c);if(!t)return{key:c,offset:e?l.length:0};c=t,a=s.getBlockForKey(c),l=a.getText(),d=g({text:l,offset:e?-1:l.length+1,isJump:r,isForward:e})}return{key:c,offset:d}},E=f(!0),v=f(!1),b=e=>(t,n=!1)=>{const r=t.getSelection();return e(t,{key:r.getFocusKey(),offset:r.getFocusOffset()},n)},y=b(E),I=({nextPointFn:e,nextFocusPointFn:t})=>(n,{getEditorState:o,setEditorState:s})=>{const a=o(),l=a.getSelection(),c=e(a,(0,m.nY)(n));if(!c)return;const{entity:d}=p(a,c);if(!d||d.mutability!==i.NQ.IMMUTABLE)return;const{entityRange:g}=((e,{key:t,offset:n})=>{const{entityKey:r,entity:o}=p(e,{key:t,offset:n});if(!r||!o)return{};const i={startKey:t,startOffset:n,endKey:t,endOffset:n};return{entityKey:r,entity:o,entityRange:(0,h.Z)(e,i,r)}})(a,c);if(!g)return;if(g.startOffset===c.offset&&g.startKey===c.key)return;const f=t(g);let E=r.SelectionState.createEmpty(g.startKey);E=E.merge({anchorKey:(0,m.p9)(n)?l.getAnchorKey():f.key,anchorOffset:(0,m.p9)(n)?l.getAnchorOffset():f.offset,focusKey:f.key,focusOffset:f.offset,isBackward:!!(0,m.p9)(n)&&l.getIsBackward(),hasFocus:!0});s((0,u.Z)(a,E)),n.stopPropagation(),n.preventDefault()},C=I({nextPointFn:b(v),nextFocusPointFn:e=>({key:e.startKey,offset:e.startOffset})}),S=I({nextPointFn:y,nextFocusPointFn:e=>({key:e.endKey,offset:e.endOffset})});var T=n(29743),w=n(5169),O=n(96068),_=n(4933),R=n(37216),A=n(57490);const D=e=>{const t=e.getSelection(),n=t.getStartKey(),r=t.getEndKey(),o=e.getCurrentContent().getBlockMap();return o.toSeq().skipUntil(((e,t)=>t===n)).takeUntil(((e,t)=>t===r)).concat([[r,o.get(r)]])},N=e=>(0,w.Z)(e.getType()),x=(0,O.Z)("\t"),M=(P="\t",e=>{const t=e.getCurrentContent(),n=e.getSelection(),o=(0,A.U)(P);let s=(0,R.Z)(e).reduce(((e,t)=>{const n=t.getKey(),i=r.SelectionState.createEmpty(n);return o(i)(e)}),t);const a=P.length,l=(0,_.Z)(n,a,a);s=s.set("selectionAfter",l);const c=r.EditorState.push(e,s,i.m_.INSERT_CHARACTERS);return r.EditorState.forceSelection(c,l)});var P;const L=(e,t)=>"\t"===e.getBlockForKey(t).getText()[0],k=e=>{const t=e.getCurrentContent(),n=e.getSelection(),o=n.getAnchorKey(),s=n.getFocusKey(),a=L(t,o),l=L(t,s);let c=(0,R.Z)(e).reduce(((e,t)=>((e,t)=>{if(!L(e,t))return e;let n=r.SelectionState.createEmpty(t);return n=n.merge({focusOffset:1}),r.Modifier.removeRange(e,n,i.$4.backward)})(e,t.getKey())),t);if(c===t)return e;const d=(0,_.Z)(n,a?-1:0,l?-1:0);c=c.set("selectionAfter",d);const u=r.EditorState.push(e,c,i.m_.REMOVE_RANGE);return r.EditorState.forceSelection(u,d)},F=e=>e.getSelection().isCollapsed()?(e=>{const t=e.getCurrentContent(),n=e.getSelection(),o=n.getStartOffset();if(0===o)return k(e);const s=n.getStartKey();if("\t"!==t.getBlockForKey(s).getText().slice(o-1,o))return k(e);let a=r.SelectionState.createEmpty(n.getStartKey());a=a.merge({anchorKey:n.getStartKey(),anchorOffset:n.getStartOffset()-1,focusKey:n.getStartKey(),focusOffset:n.getStartOffset(),isBackward:!1,hasFocus:!1});let l=r.Modifier.removeRange(t,a,i.$4.backward);const c=(0,_.Z)(n,-1,-1);l=l.set("selectionAfter",c);const d=r.EditorState.push(e,l,i.m_.REMOVE_RANGE);return r.EditorState.forceSelection(d,c)})(e):k(e),B=(e,t)=>t?(e=>e.getSelection().isCollapsed()?x(e):M(e))(e):F(e),j=(e,{getEditorState:t,setEditorState:n})=>{if(e.isDefaultPrevented())return;e.preventDefault();const o=t(),s=!e.shiftKey,a=(e=>D(e).some(N))(o)?((e,t)=>{const n=e.getCurrentContent(),o=D(e).filter(N).map((e=>{const n=e.getDepth();if(t&&4===n)return e;const r=t?1:-1,o=(0,T.Z)(0,4,n+r);return e.set("depth",o)}));if(!o.count())return e;const s=e.getSelection(),a=n.getBlockMap().merge(o),l=n.merge({blockMap:a,selectionBefore:s,selectionAfter:s});return r.EditorState.push(e,l,i.m_.ADJUST_DEPTH)})(o,s):B(o,s);a&&a!==o&&n(a)};var z=n(40253);const U=(e,t)=>{switch(e.keyCode){case z.nx.LEFT_ARROW:return C(e,t);case z.nx.RIGHT_ARROW:return S(e,t);case z.nx.TAB:return j(e,t);default:return}},H=()=>({handleBeforeInput:s,handleKeyCommand:c,handleReturn:d.Z,keyBindingFn:U})},72923:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(49845),l=n(5191),c=n(60434),d=n(71154),u=n(59916);var m=n(8567),p=n(26911),h=n(75146),g=n(69129);function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E=(0,l.JH)({entityType:p.l3.LINK,mutability:h.NQ.MUTABLE,data:{highlight:!0},forceSelection:!1,mergeData:!0}),v=e=>({openHyperlinkPopup:()=>e((0,c.zI)(g.K2.HYPERLINK)),dispatchSetTemporaryEditorState:({editorState:t})=>e((({editorState:e})=>(t,n)=>{const r=n(),o=(0,d.pJ)(r);t((0,u.T)({id:o,data:{editorState:e}}))})({editorState:t}))}),b=e=>{var t,n;let o=(t=(0,s.$j)(null,v),(0,m.Z)(n=t(n=class extends r.Component{constructor(...e){super(...e),f(this,"openHyperlinkPopup",(()=>{const{dispatchGetEditorState:e,dispatchSetTemporaryEditorState:t,openHyperlinkPopup:n}=this.props,r=e();t({editorState:(0,a.Z)(r,E)}),n()}))}render(){return r.createElement(e,Object.assign({},this.props,{openHyperlinkPopup:this.openHyperlinkPopup}))}})||n)||n);return o.propTypes={currentlyEditingId:i().string,openHyperlinkPopup:i().func,dispatchSetTemporaryEditorState:i().func,dispatchEditorLinkEntityChange:i().func,dispatchGetEditorState:i().func},o}},79606:(e,t,n)=>{"use strict";n.d(t,{T:()=>V,i:()=>$});var r=n(67294),o=n(68337),i=n.n(o),s=n(76134),a=n.n(s);const l=["decoratedText","theme","target","rel","className","component","dir","entityKey","getEditorState","offsetKey","setEditorState","contentState"];const c=i()();c.tlds(a());class d extends r.Component{render(){const e=this.props,{decoratedText:t="",theme:n={},target:o="_self",rel:i="noreferrer noopener",className:s,component:a}=e,d=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,l),u=c.match(t),m=u&&u[0]?u[0].url:"",p=Object.assign({},d,{href:m,target:o,rel:i,className:s});return a?r.createElement(a,p):r.createElement("a",p)}}var u=n(95650),m=n(26911);const p=(e,t,...n)=>{if(e.getType()===m.K2.CODE_BLOCK)return;const r=(0,u.n)(e.get("text"));if(null!=r)for(let o=0;o<r.length;o+=1){const n=r[o].index;e.getCharacterList().get(n).hasStyle(m.K2.CODE)||t(r[o].index,r[o].lastIndex)}},h=(e,t,n)=>{n&&e.findEntityRanges((e=>{const t=e.getEntity();return null!==t&&n.getEntity(t).getType()===m.l3.LINK}),t)};var g=n(45697),f=n.n(g),E=n(39702),v=n(16226),b=n.n(v),y=n(59161),I=n(1014),C=n(21053);const S=(0,y.Z)(),T=({href:e,target:t})=>{return n=e,(b()(S.urlBase,n)||(0,C.O_)(n))&&(0,I.Jj)((0,C.o0)(n))?"_self":t;var n},w=e=>{const{target:t,href:n,className:o,children:i,onMouseDown:s}=e,a=T({href:n,target:t});return r.createElement("a",{className:`DraftLinkAnchor ${o}`,href:n,rel:"noopener noreferrer nofollow",target:a,onMouseDown:s,onClick:E.hE},i)};w.propTypes={shouldPreventClick:f().bool,target:f().string,href:f().string,className:f().string,onMouseDown:f().func,children:f().oneOfType([f().arrayOf(f().node),f().node])};const O=w;var _=n(94184),R=n.n(_);const A=e=>!(!e.altKey||0!==e.button)||!!(0,E.c)(e),D=e=>{const{className:t,href:n,target:o}=e;return r.createElement(O,Object.assign({},e,{className:R()("clickable",t),onMouseDown:e=>{A(e)||(e.preventDefault(),e.stopPropagation(),window.open(n,T({href:n,target:o})))},shouldHandleClickPredicate:A}))};D.propTypes={target:f().string,href:f().string,className:f().string,children:f().oneOfType([f().arrayOf(f().node),f().node])};const N=D,x=({clickableLinks:e})=>{const t=t=>{const{contentState:n,entityKey:o}=t,i=n.getEntity(o).getData();let s="";if(i.url){const e=(0,u.n)(i.url);s=e&&e[0]?e[0].url:""}const a=i.highlight?"highlight":"",l=e?N:O;return r.createElement(l,Object.assign({className:a},t,{href:s,target:"_blank"}))};return t.propTypes={contentState:f().object.isRequired,entityKey:f().string.isRequired},t};var M=n(51752),P=n(40253);const L="edit-hyperlink";var k=n(80177);const F=(e,{getEditorState:t})=>{if(!(0,M.lk)(e)||e.keyCode!==P.nx.K)return;const n=t();if(n.getSelection().isCollapsed()){if(!(0,k.Z)(n))return}return L};var B=n(75146);const j=(e,t,n,{getProps:r})=>{if(e!==L)return B.wz.notHandled;const{openHyperlinkPopup:o}=r();o&&o()};var z=n(45712),U=n.n(z),H=n(43831),Z=n(49845);const G=e=>{var t,n;if(!e)return null;if(1!==(0,u.n)(e).length)return null;const r=U().processHTML(e);if(1!==(null===(t=r.contentBlocks)||void 0===t?void 0:t.length))return null;const o=r.entityMap.getLastCreatedEntityKey();if(!o)return null;const i=r.entityMap.get(o);return i?i.getType()!==m.l3.LINK?null:((e,t)=>{var n;if(!e)return!1;if(!t)return!1;const r=(null===(n=t.getText())||void 0===n?void 0:n.length)||0;if(0===r)return!1;const o=t.getCharacterList();if((0,H.kE)(o)!==r)return!1;for(let i=0;i<r;i++)if(o.get(i).getEntity()!==e)return!1;return!0})(o,r.contentBlocks[0])?null===(n=i.getData())||void 0===n?void 0:n.url:null:null},K=(e,t)=>G(t)||(e=>e&&(0,u.Z)(e)[0]||null)(e),W=(e,t,n,{setEditorState:r})=>{if(n.getSelection().isCollapsed())return"not-handled";const o=K(e,t);if(!o)return"not-handled";const i=(0,Z.Z)(n,{entityType:m.l3.LINK,mutability:B.NQ.MUTABLE,data:{url:o}});return i?(r(i),"handled"):"not-handled"},V=({clickableLinks:e}={})=>({decorators:[{strategy:h,component:x({clickableLinks:e})}],keyBindingFn:F,handleKeyCommand:j,handlePastedText:W}),$=({clickableLinks:e}={})=>((e={})=>{const{component:t,target:n="_self",rel:o="noreferrer noopener"}=e;return{decorators:[{strategy:p,component:e=>r.createElement(d,Object.assign({},e,{target:n,rel:o,component:t}))}]}})({target:"_blank",component:e?N:O})},31013:(e,t,n)=>{"use strict";n.d(t,{Z:()=>$});var r=n(12742),o=n.n(r);const i=e=>{const t=o()(e);return new RegExp("(^|\\s|\\W+)"+t+`([^${e}\\s]|[^${e}\\s][^${e}]*[^${e}\\s])`+t+"$")},s=[i("*")],a=[i("_")],l=[i("`")],c=[i("~")],d=[" ","*","_","~","`",")"],u=e=>t=>t.match(e),m=u(/^\s*#+$/),p=u(/^\s*##+$/),h=u(/^\s*[1]+\.$/),g=u(/^\s*[\*,•,\-]$/),f=u(/^\s*>$/),E=e=>t=>e.reduce(((e,n)=>e||n.exec(t)),null),v=E(s),b=E(a),y=E(l),I=E(c),C=E([/\[([^\]]+)]\(([^)"]+)(?: "([^"]+)")?\)\s*$/]);var S=n(75146),T=n(9041),w=n(51900),O=n(54061),_=n.n(O),R=n(26911);const A={[R.K2.HEADING]:p,[R.K2.LARGE_HEADING]:m,[R.K2.ORDERED_LIST]:h,[R.K2.LIST]:g,[R.K2.BLOCKQUOTE]:f};var D=n(34143),N=n(10696),x=n(93350),M=n(62067);const P=e=>{const t=e.getSelection().getStartKey(),n=e.getCurrentContent().getBlockForKey(t).getType();return n===R.K2.UNSTYLED?(e=>{const t=e.getSelection(),n=t.getStartKey(),r=e.getCurrentContent().getBlockForKey(n).getText(),o=t.getAnchorOffset();if("``"!==r.slice(0,o))return e;const i=r.slice(o);return(0,w.Z)(e,R.K2.CODE_BLOCK,i)})(e):n===R.K2.CODE_BLOCK?(e=>{const t=e.getSelection(),n=e.getCurrentContent(),r=t.getStartKey(),o=t.getStartOffset(),i=n.getBlockForKey(r).getText(),s=(0,D.Z)(i),a=(0,N.Z)(i,s);if("``"!==a[(0,x.Z)(i,o,s).line])return e;const l=a.length>1?3:2,c=t.merge({focusKey:r,focusOffset:o-l,anchorKey:r,anchorOffset:o,isBackward:!0}),d=T.Modifier.removeRange(n,c,S.$4.backward),u=T.EditorState.push(e,d,S.m_.REMOVE_RANGE);return(0,M.Z)(u,R.K2.UNSTYLED)})(e):e},L=(e,t)=>{if("`"===t)return P(e);if(" "!==t)return e;const n=e.getSelection(),r=n.getStartKey(),o=e.getCurrentContent().getBlockForKey(r),i=o.getType();if(i!==R.K2.UNSTYLED&&i!==R.K2.LIST&&i!==R.K2.ORDERED_LIST&&i!==R.K2.CHECKLIST)return e;const s=o.getText(),a=n.getAnchorOffset(),l=s.slice(a),c=s.slice(0,a),d=(u=c,_()(A,((e,t,n)=>e||(t(u)?n:null)),null));var u;return(0,w.Z)(e,d,l)},k={[R.K2.BOLD]:v,[R.K2.ITALIC]:b,[R.K2.CODE]:y,[R.K2.STRIKETHROUGH]:I},F=(e,t,n,r)=>{const{index:o}=t,i=e.getCurrentContent(),s=e.getSelection().getStartKey(),a=i.getBlockForKey(s).getInlineStyleAt(o).add(n),l=t[0],c=t[1],d=t[2],u=o+c.length,m=o+l.length-1,p=T.SelectionState.createEmpty(s).merge({anchorOffset:u,focusOffset:m});let h=T.Modifier.replaceText(i,p,d,a);" "===r&&(h=T.Modifier.insertText(h,h.getSelectionAfter(),r));let g=T.EditorState.push(e,h,S.m_.CHANGE_INLINE_STYLE);g=T.EditorState.forceSelection(g,h.getSelectionAfter());const f=e.getCurrentInlineStyle();return T.EditorState.setInlineStyleOverride(g,f)},B=e=>(({contentState:e,selection:t})=>{const n=t.getStartKey(),r=t.getStartOffset();return 0===r?"":e.getBlockForKey(n).getText().substring(0,r)})({contentState:e.getCurrentContent(),selection:e.getSelection()}),j=(e,t)=>{const n=B(e);if(" "===t&&" "===n[n.length-1]&&e.getSelection().isCollapsed()&&e.getCurrentInlineStyle().includes(R.K2.CODE))return(e=>{const t=e.getCurrentContent(),n=e.getSelection(),r=n.getStartKey(),o=n.getStartOffset(),i=t.getBlockForKey(r),s=i.getInlineStyleAt(o-1),a=i.getInlineStyleAt(o);if(s.has(R.K2.CODE)&&a.has(R.K2.CODE))return e;const l=a.delete(R.K2.UNSTYLED),c=T.SelectionState.createEmpty(r).merge({anchorOffset:o-1,focusOffset:o}),d=T.Modifier.replaceText(t,c," ",l),u=T.EditorState.push(e,d,S.m_.CHANGE_INLINE_STYLE);return T.EditorState.forceSelection(u,d.getSelectionAfter())})(e);const r=(e=>_()(k,((t,n,r)=>{if(t)return t;const o=n(e);return o?{match:o,inlineStyle:r}:null}),null))(`${n}${t}`);if(r){const{match:n,inlineStyle:o}=r;if(o===R.K2.CODE){const t=e.getSelection().getStartKey();if(e.getCurrentContent().getBlockForKey(t).getType()===R.K2.CODE_BLOCK)return e}return F(e,n,o,t)}return e},z=(e,t)=>{if(t&&")"!==t&&" "!==t)return e;const n=B(e),r=C(`${n}${t}`);return r?((e,t,n)=>{const r=e.getCurrentContent(),o=e.getSelection().getStartKey(),[i,s,a]=t,{index:l}=t,c=l+i.length,d=T.SelectionState.createEmpty(o).merge({anchorOffset:l,focusOffset:c}),u=r.createEntity(R.l3.LINK,S.NQ.MUTABLE,{url:a}),m=u.getLastCreatedEntityKey();let p=T.Modifier.replaceText(u,d,s,null,m);" "===n&&(p=T.Modifier.insertText(p,p.getSelectionAfter(),n));const h=d.merge({focusOffset:l+s.length});let g=T.EditorState.push(e,p,S.m_.APPLY_ENTITY);return g=T.RichUtils.toggleLink(g,h,m),T.EditorState.forceSelection(g,p.getSelectionAfter())})(e,r,t):e},U=(e,t,n)=>{if(e===t)return e;const r=((e,t,n)=>{if(e===t)return e;const r=e.getCurrentContent(),o=r.getSelectionAfter(),i=T.Modifier.insertText(r,o,n),s=i.getSelectionAfter();return T.EditorState.set(e,{currentContent:i,selection:s})})(e,t,n);return((e,t)=>{let n=e.getUndoStack().pop();n=n.push(t);const r=t.getSelectionAfter();let o=e.getCurrentContent();return o=o.set("selectionBefore",r),T.EditorState.set(e,{currentContent:o,undoStack:n})})(t,r.getCurrentContent())},H=e=>{const t=e.getSelection(),n=t.getAnchorKey(),r=t.getAnchorOffset(),o=t.getFocusOffset();return`${n}:${r}-${t.getFocusKey()}:${o}`};var Z=n(15428);const G=({enableBlockStyles:e})=>(t,n,r,{setEditorState:o,getProps:i})=>{if(!(e=>-1!==d.indexOf(e))(t))return S.wz.notHandled;const s=((e,t,n)=>{let r=e;return n&&(r=L(e,t)),e===r&&(r=j(e,t)),e===r&&(r=z(e,t)),e!==r&&(r=U(e,r,t)),r})(n,t,e),{dispatchSetEditorContext:a}=i();return((e,t,n,r)=>{var o;if(" "!==n)return;if(e===t)return;const i=t.getSelection();if(!i.isCollapsed())return;const s=i.getStartKey(),a=null===(o=t.getCurrentContent().getBlockForKey(s))||void 0===o?void 0:o.getType();if(!a)return;const l=e.getCurrentContent().getBlockForKey(s),c=null==l?void 0:l.getType();if(c===a)return;const d=e.getSelection(),u=l.getText(),m=d.getAnchorOffset(),p=u.slice(0,m),h=`${p}${n}`,g=H(t),f={replacementStyleType:R.lx.BLOCK,replacement:{blockType:a,text:p,range:(E=i,{anchorKey:E.getAnchorKey(),anchorOffset:E.getAnchorOffset(),focusKey:E.getFocusKey(),focusOffset:E.getFocusOffset()})},restore:{blockType:c,text:h,range:{anchorKey:s,anchorOffset:0,focusKey:s,focusOffset:0}}};var E;r(Z.lW.markdown,g,f)})(n,s,t,a),n!==s?(o(s),S.wz.handled):S.wz.notHandled},K={[R.K2.CODE]:{fontFamily:"RobotoMono, Menlo, Courier New, Courier, monospace",fontSize:"var(--font-size-ui-small)",wordWrap:"break-word",background:"var(--ws-text-code-background-color)",color:"var(--ws-text-code-color)",padding:"0 0.6em 0.1em",borderRadius:"0.5em"}};var W=n(40253);const V=(e,{getEditorState:t,setEditorState:n,getProps:r})=>{if(e.key!==W.tW.BACKSPACE)return;const{dispatchGetEditorContextThunk:o,dispatchRemoveEditorContext:i}=r(),s=t(),a=H(s),l=o(Z.lW.markdown),c=null==l?void 0:l[a];if(!c)return;if(c.replacementStyleType!==R.lx.BLOCK)return;const{replacement:{blockType:d},restore:{blockType:u,text:m}}=c;if(i(Z.lW.markdown,a),!u)return;const p=s.getCurrentContent(),h=s.getSelection(),g=h.getFocusKey(),f=p.getBlockForKey(g);if(!f)return;if(f.getType()!==d)return;let E=T.Modifier.insertText(p,h,m);const v=E.getBlockForKey(g).merge({type:u}),b=E.getBlockMap();E=E.merge({blockMap:b.set(g,v)});return n(T.EditorState.push(s,E,"change-block-type")),"RESTORING_UN_STYLED_STATE"},$=({enableBlockStyles:e})=>({handleBeforeInput:G({enableBlockStyles:e}),customStyleMap:K,keyBindingFn:V})},33529:(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(22222),l=n(94184),c=n.n(l),d=n(43831),u=n(70555),m=n(39702),p=n(5980),h=n(52432),g=n(81188),f=n(91040),E=n(64322),v=n(96504),b=n(91631),y=n(73497),I=n(26457),C=n(89030),S=n(19092);const T=(0,a.zB)({hasInvitePermissions:e=>(0,h.gH)((0,f.UK)(e))&&!(0,g.ei)(e)});var w=r.createElement(I.Z,{show:!0}),O=r.createElement("span",{className:"error failed-message"},"Failed");const _=e=>{const{children:t,id:n,searchValue:o,className:i,mention:s,role:a,hasInvitePermissions:l,onMouseEnter:h,onMouseDown:g,onMouseUp:f,onMentionSelect:E,dispatchAddUserAsEditor:I,entryRef:T}=e,[_,R]=r.useState(!1),[A,D]=r.useState(null),N=(0,p.EZ)(s),x=(0,d.vg)("disabled",N),M=r.useCallback((async()=>{R(!0);try{await I({user:s}),E(s)}catch(e){R(!1),D(e),setTimeout((()=>D(null)),S.yu.SECOND)}}),[]);return r.createElement("div",{id:n,ref:T,className:c()("MentionSuggestionEntry",i,{disabled:x}),role:a,"aria-selected":e["aria-selected"],onMouseEnter:x?null:h,onMouseDown:x?m.jb:g,onMouseUp:x?null:f},r.createElement(v.u,{user:N,size:C.AR.REGULAR_SMALL}),r.createElement("div",{className:"user-details"},r.createElement(b.Z,{highlightText:o,text:(0,u.Gf)(N),className:"name"}),r.createElement(b.Z,{highlightText:o,text:(0,u.OD)(N),className:"email"})),x&&l&&!_&&!A&&r.createElement(y.Z,{className:"invite-button secondary thin",onMouseDown:m.jb,onClick:M},"Invite"),_&&w,A&&O,t)};_.propTypes={children:i().oneOfType([i().arrayOf(i().node),i().node]),entryRef:i().oneOfType([i().func,i().object]),className:i().string,id:i().string,searchValue:i().string,role:i().string,"aria-selected":i().string,mention:i().object,onMouseEnter:i().func,onMouseDown:i().func,onMouseUp:i().func,dispatchAddUserAsEditor:i().func,onMentionSelect:i().func,hasInvitePermissions:i().bool};const R=(0,s.$j)(T,(e=>({dispatchAddUserAsEditor:({user:t})=>e((0,E.Vx)({user:t}))})))(_)},43095:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ae});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(22222),l=n(9041),c=n(75146);const d=/[,.:;'"?!]/,u=(e,t,n,{setEditorState:r})=>{if(!d.test(e))return c.wz.notHandled;const o=t.getSelection();if(!o.isCollapsed())return c.wz.notHandled;const i=o.getStartOffset();if(i<2)return c.wz.notHandled;const s=o.getStartKey(),a=t.getCurrentContent(),u=a.getLastCreatedEntityKey();if(!u)return c.wz.notHandled;const m=a.getBlockForKey(s);if(" "!==m.getText()[i-1])return c.wz.notHandled;const p=m.getEntityAt(i-2);if(!p)return c.wz.notHandled;if(u!==p)return c.wz.notHandled;const h=l.SelectionState.createEmpty(s).merge({anchorOffset:i-1,focusOffset:i}),g=l.Modifier.replaceText(a,h,e,null);let f=l.EditorState.push(t,g,c.m_.INSERT_CHARACTERS);return f=l.EditorState.forceSelection(f,o),r(f),c.wz.handled};var m=n(43393),p=n(94184),h=n.n(p);const g=({mention:e,children:t,className:n})=>r.createElement("a",{href:e.link,className:n,spellCheck:!1},t),f=({children:e,className:t})=>r.createElement("span",{className:t,spellCheck:!1},e),E=e=>{const{entityKey:t,theme:n={},mentionComponent:o,children:i,decoratedText:s,className:a,contentState:l}=e,c=h()(n.mention,a),d=l.getEntity(t).getData().mention,u=o||(d.link?g:f);return r.createElement(u,{entityKey:t,mention:d,theme:n,className:c,decoratedText:s},i)};var v=n(3522),b=n.n(v);function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class I extends r.Component{constructor(e){super(e),y(this,"onMouseUp",(()=>{this.mouseDown&&(this.props.onMentionSelect(this.props.mention),this.mouseDown=!1)})),y(this,"onMouseDown",(e=>{e.preventDefault(),this.mouseDown=!0})),y(this,"onMouseEnter",(()=>{this.props.onMentionFocus(this.props.index)})),this.mouseDown=!1}componentDidUpdate(){this.mouseDown=!1}render(){const{theme:e={},mention:t,searchValue:n,isFocused:o,id:i}=this.props,s=o?e.mentionSuggestionsEntryFocused:e.mentionSuggestionsEntry,a=this.props.entryComponent;return r.createElement(a,{className:h()("mention-suggestion-entry",s),onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseEnter:this.onMouseEnter,onMentionSelect:this.props.onMentionSelect,role:"option",id:i,"aria-selected":o?"true":null,theme:e,mention:t,isFocused:o,searchValue:n})}}y(I,"propTypes",{entryComponent:i().any.isRequired,searchValue:i().string,onMentionSelect:i().func});const C=(e,t,n)=>{const r=t.getAnchorKey(),o=t.getAnchorOffset();return((e,t,n)=>{const r=e.substr(0,t),o=0===n.length?0:r.lastIndexOf(n),i=0===n.length?r:r.slice(o+n.length);return{begin:o,end:r.length,matchingString:i}})(e.getCurrentContent().getBlockForKey(r).getText(),o,n)},S=e=>"@"===e?"mention":`${e}mention`,T=(e,t,n,r,o)=>{const i=e.getCurrentContent().createEntity(S(r),o,{mention:t}).getLastCreatedEntityKey(),s=e.getSelection(),{begin:a,end:c}=C(e,s,r),d=s.merge({anchorOffset:a,focusOffset:c});let u=l.Modifier.replaceText(e.getCurrentContent(),d,`${n}${t.name}`,null,i);const m=d.getAnchorKey();e.getCurrentContent().getBlockForKey(m).getLength()===c&&(u=l.Modifier.insertText(u,u.getSelectionAfter()," "));const p=l.EditorState.push(e,u,"insert-mention");return l.EditorState.forceSelection(p,u.getSelectionAfter())},w=e=>{const[t,n,r]=e.split("-");return{blockKey:t,decoratorKey:parseInt(n,10),leafKey:parseInt(r,10)}},O=({mention:e,theme:t={}})=>e.avatar?r.createElement("img",{src:e.avatar,className:t.mentionSuggestionsEntryAvatar,role:"presentation"}):null,_=["mention","theme","isFocused","searchValue"];const R=e=>{const{mention:t,theme:n}=e,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,_);return r.createElement("div",o,r.createElement(O,{mention:t,theme:n}),r.createElement("span",{className:n.mentionSuggestionsEntryText},t.name))},A=["entryComponent","popoverComponent","onClose","onOpen","onAddMention","onSearchChange","suggestions","disabledSuggestions","ariaProps","callbacks","theme","store","entityMutability","positionSuggestions","mentionTrigger","mentionPrefix"];function D(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=r.createElement("div",null),x=r.createElement("div",{className:"section-title"},"Not sharing this board");class M extends r.Component{constructor(...e){super(...e),D(this,"state",{isActive:!1,focusedOptionIndex:0}),D(this,"onEditorStateChange",(e=>{const t=this.props.store.getAllSearches();if(0===t.size)return e;const n=()=>(this.props.store.resetEscapedSearch(),this.closeDropdown(),e),r=e.getSelection(),o=r.getAnchorKey(),i=r.getAnchorOffset();if(!r.isCollapsed()||!r.getHasFocus())return n();const s=t.map((e=>w(e))).filter((({blockKey:e})=>e===o)).map((({blockKey:t,decoratorKey:n})=>e.getBlockTree(t).getIn([n])));if(s.every((e=>void 0===e)))return n();const a=e.getCurrentContent().getPlainText(),l=s.filter((e=>void 0!==e)).map((({start:e,end:t})=>0===e&&i===this.props.mentionTrigger.length&&a.charAt(i)!==this.props.mentionTrigger&&new RegExp(String.raw({raw:`${b()(this.props.mentionTrigger)}`}),"g").test(a)&&i<=t||i>e+this.props.mentionTrigger.length&&i<=t));if(l.every((e=>!1===e)))return n();const c=this.activeOffsetKey;return this.activeOffsetKey=l.filter((e=>!0===e)).keySeq().first(),this.onSearchChange(e,r,this.activeOffsetKey,c),this.props.store.isEscaped(this.activeOffsetKey)||this.props.store.resetEscapedSearch(),this.state.isActive||this.props.store.isEscaped(this.activeOffsetKey)||!(this.props.suggestions.length>0||this.props.disabledSuggestions.length>0)||this.openDropdown(),void 0!==this.lastSelectionIsInsideWord&&l.equals(this.lastSelectionIsInsideWord)||this.setState({focusedOptionIndex:0}),this.lastSelectionIsInsideWord=l,e})),D(this,"onSearchChange",((e,t,n,r)=>{const{matchingString:o}=C(e,t,this.props.mentionTrigger);this.lastSearchValue===o&&n===r||(this.lastSearchValue=o,this.props.onSearchChange({value:o}))})),D(this,"onDownArrow",(e=>{e.preventDefault();const t=this.state.focusedOptionIndex+1;this.onMentionFocus(t>=this.props.suggestions.length?this.props.suggestions.length:t)})),D(this,"onTab",(e=>{e.preventDefault(),this.commitSelection()})),D(this,"onUpArrow",(e=>{if(e.preventDefault(),this.props.suggestions.length>0){const e=this.state.focusedOptionIndex-1;this.onMentionFocus(e<0?0:e)}})),D(this,"onEscape",(e=>{e.preventDefault(),e.stopPropagation();const t=this.lastSelectionIsInsideWord.filter((e=>!0===e)).keySeq().first();this.props.store.escapeSearch(t),this.closeDropdown(),this.props.store.setEditorState(this.props.store.getEditorState())})),D(this,"onMentionSelect",(e=>{if(!e)return;if(this.props.onAddMention){if(this.props.onAddMention(e,{setEditorState:this.props.store.setEditorState,getEditorState:this.props.store.getEditorState})===c.wz.handled)return}this.closeDropdown();const t=T(this.props.store.getEditorState(),e,this.props.mentionPrefix,this.props.mentionTrigger,this.props.entityMutability);this.props.store.setEditorState(t)})),D(this,"onMentionFocus",(e=>{const t=`mention-option-${this.key}-${e}`;this.props.ariaProps.ariaActiveDescendantID=t,this.setState({focusedOptionIndex:e}),this.props.store.setEditorState(this.props.store.getEditorState())})),D(this,"commitSelection",(()=>this.props.store.getIsOpened()?(this.onMentionSelect(this.props.suggestions[this.state.focusedOptionIndex]),"handled"):"not-handled")),D(this,"handleBeforeInput",(e=>" "!==e?"not-handled":this.props.suggestions[this.state.focusedOptionIndex]?this.commitSelection():"not-handled")),D(this,"openDropdown",(()=>{this.props.callbacks.handleReturn=this.commitSelection,this.props.callbacks.keyBindingFn=e=>{40===e.keyCode&&this.onDownArrow(e),38===e.keyCode&&this.onUpArrow(e),27===e.keyCode&&this.onEscape(e),9===e.keyCode&&this.onTab(e)};const e=`mention-option-${this.key}-${this.state.focusedOptionIndex}`;this.props.ariaProps.ariaActiveDescendantID=e,this.props.ariaProps.ariaOwneeID=`mentions-list-${this.key}`,this.props.ariaProps.ariaHasPopup="true",this.props.ariaProps.ariaExpanded=!0,this.setState({isActive:!0}),this.props.onOpen&&this.props.onOpen()})),D(this,"closeDropdown",(()=>{this.props.callbacks.handleReturn=void 0,this.props.callbacks.handleBeforeInput=void 0,this.props.callbacks.keyBindingFn=void 0,this.props.ariaProps.ariaHasPopup="false",this.props.ariaProps.ariaExpanded=!1,this.props.ariaProps.ariaActiveDescendantID=void 0,this.props.ariaProps.ariaOwneeID=void 0,this.setState({isActive:!1}),this.props.onClose&&this.props.onClose()}))}UNSAFE_componentWillMount(){this.key=(0,l.genKey)(),this.props.callbacks.onChange=this.onEditorStateChange}UNSAFE_componentWillReceiveProps(e){0===e.suggestions.length&&0===e.disabledSuggestions.length&&this.state.isActive?this.closeDropdown():!(e.suggestions.length>0||e.disabledSuggestions.length>0)||e.suggestions===this.props.suggestions&&e.disabledSuggestions===this.props.disabledSuggestions||this.state.isActive||this.openDropdown()}componentDidUpdate(e,t){if(this.popover){const n=this.props.suggestions.length;if(n>0&&this.state.focusedOptionIndex>=n&&this.setState({focusedOptionIndex:n-1}),!this.props.store.getAllSearches().has(this.activeOffsetKey))return;const r=this.props.store.getPortalClientRect(this.activeOffsetKey),o=this.props.positionSuggestions({decoratorRect:r,prevProps:e,prevState:t,props:this.props,state:this.state,popover:this.popover});Object.keys(o).forEach((e=>{this.popover.style[e]=o[e]}))}}componentWillUnmount(){this.props.callbacks.onChange=void 0}render(){if(!this.state.isActive)return null;const e=this.props,{entryComponent:t,popoverComponent:n=N,theme:o={}}=e,i=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,A),s=this.props.disabledSuggestions.length?[r.createElement("div",{className:"MentionSuggestionsDisabled",key:"disabled-suggestions"},x,this.props.disabledSuggestions.map(((e,n)=>r.createElement(I,{key:null!=e.id?e.id:e.name,onMentionSelect:this.onMentionSelect,mention:e,index:n,id:`mention-option-${this.key}-${n}`,theme:o,searchValue:this.lastSearchValue,entryComponent:t}))))]:[];return r.cloneElement(n,Object.assign({},i,{className:o.mentionSuggestions,role:"listbox",id:`mentions-list-${this.key}`,ref:e=>{this.popover=e}}),[...this.props.suggestions.map(((e,n)=>r.createElement(I,{key:null!=e.id?e.id:e.name,onMentionSelect:this.onMentionSelect,onMentionFocus:this.onMentionFocus,isFocused:this.state.focusedOptionIndex===n,mention:e,index:n,id:`mention-option-${this.key}-${n}`,theme:o,searchValue:this.lastSearchValue,entryComponent:t||R}))),...s])}}D(M,"propTypes",{entityMutability:i().oneOf(["SEGMENTED","IMMUTABLE","MUTABLE"]),entryComponent:i().any,onAddMention:i().func,suggestions:i().array});const P=M;class L extends r.Component{constructor(e){super(e),this.searchPortalRef=e=>{this.searchPortal=e}}componentDidMount(){this.props.store.register(this.props.offsetKey),this.props.store.setIsOpened(!0),this.updatePortalClientRect(this.props),this.props.setEditorState(this.props.getEditorState())}UNSAFE_componentWillReceiveProps(e){this.updatePortalClientRect(e)}componentWillUnmount(){this.props.store.unregister(this.props.offsetKey),this.props.store.setIsOpened(!1)}updatePortalClientRect(e){this.props.store.updatePortalClientRect(e.offsetKey,(()=>this.searchPortal.getBoundingClientRect()))}render(){return r.createElement("span",{className:this.key,ref:this.searchPortalRef},this.props.children)}}const k="[\\w-À-ÖØ-öø-ÿĀ-ňŊ-ſА-я぀-ゟ゠-ヿ㄰-㆏가-힣一-黿]*",F=e=>(t,n,r)=>{t.findEntityRanges((t=>{const n=t.getEntity();return null!==n&&r.getEntity(n).getType()===S(e)}),n)},B=(e,t,n)=>{const r=t?new RegExp(`${b()(e)}(${n}|\\s){0,}`,"g"):new RegExp(`(\\s|^)${b()(e)}${n}`,"g");return(e,t)=>{((e,t,n)=>{const r=t.getText();t.findEntityRanges((e=>!e.getEntity()),((t,o)=>{const i=r.slice(t,o);let s,a,l=e.lastIndex;for(;null!==(s=e.exec(i))&&e.lastIndex!==l;)l=e.lastIndex,a=t+s.index,n(a,a+s[0].length)}))})(r,e,t)}},j=e=>{if(!e)return null;return"static"!==window.getComputedStyle(e).getPropertyValue("position")?e:j(e.parentElement)},z=({decoratorRect:e,popover:t,state:n,props:r})=>{const o=j(t.parentElement),i={};if(o){i.scrollLeft=o.scrollLeft,i.scrollTop=o.scrollTop;const t=o.getBoundingClientRect();i.left=e.left-t.left,i.top=e.bottom-t.top}else i.scrollTop=window.pageYOffset||document.documentElement.scrollTop,i.scrollLeft=window.pageXOffset||document.documentElement.scrollLeft,i.top=e.bottom,i.left=e.left;const s=i.left+i.scrollLeft,a=i.top+i.scrollTop;let l,c;return n.isActive&&(r.suggestions.length>0?(l="scale(1)",c="all 0.25s cubic-bezier(.3,1.2,.2,1)"):(l="scale(0)",c="all 0.35s cubic-bezier(.3,1,.2,1)")),{left:`${s}px`,top:`${a}px`,transform:l,transformOrigin:"1em 0%",transition:c}},U={mention:"mention",mentionSuggestions:"mentionSuggestions",mentionSuggestionsEntry:"mentionSuggestionsEntry",mentionSuggestionsEntryFocused:"mentionSuggestionsEntryFocused",mentionSuggestionsEntryText:"mentionSuggestionsEntryText",mentionSuggestionsEntryAvatar:"mentionSuggestionsEntryAvatar"},H=e=>{if(!e)return null;return"static"!==window.getComputedStyle(e).getPropertyValue("position")?e:H(e.parentElement)},Z=({decoratorRect:e,popover:t,state:n,props:r})=>{const o=H(t.parentElement),i={};if(o){i.scrollLeft=o.scrollLeft,i.scrollTop=o.scrollTop;const t=o.getBoundingClientRect();i.left=e.left-t.left,i.top=e.bottom-t.top}else i.scrollTop=window.pageYOffset||document.documentElement.scrollTop,i.scrollLeft=window.pageXOffset||document.documentElement.scrollLeft,i.top=e.bottom,i.left=e.left;const s=i.left+i.scrollLeft,a=i.top+i.scrollTop;let l;return n.isActive&&(l=r.suggestions.length>0||r.disabledSuggestions.length?"scale(1)":"scale(0)"),{left:`${s}px`,top:`${a}px`,transform:l,transformOrigin:"1em 0%"}};var G=n(51206),K=n(24863);const W=({children:e})=>r.createElement("span",{className:"MentionEntity"},e);W.propTypes={children:i().oneOfType([i().arrayOf(i().node),i().node])};const V=W;var $=n(21146),q=n.n($),Y=n(73935),X=n(58968),Q=n(43831),J=n(28644),ee=n(33529);function te(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ne=(0,J.aU)("possibleSuggestions");class re extends r.Component{constructor(e){super(e),te(this,"onSearchChange",(({value:e})=>{this.lastSearchValue=e,this.getSuggestions(e,this.props.possibleSuggestions)})),te(this,"getSuggestions",((e,t)=>{const n=(0,X.Z)(e,t),r=q()((0,Q.vg)("disabled"),n),o=r[!1]||[],i=r[!0]||[];this.setState({suggestions:o,disabledSuggestions:i})})),this.lastSearchValue="",this.state={suggestions:e.possibleSuggestions,disabledSuggestions:[]}}componentDidUpdate(e){!this.props.isEditing&&ne(e,this.props)&&this.getSuggestions(this.lastSearchValue,this.props.possibleSuggestions)}render(){const{Component:e,onAddMention:t}=this.props,{suggestions:n,disabledSuggestions:o}=this.state,i=document.getElementById("mention-mount-point");return i?(0,Y.createPortal)(r.createElement(e,{suggestions:n,disabledSuggestions:o,onSearchChange:this.onSearchChange,onAddMention:t,entryComponent:ee.Z}),i):null}}re.propTypes={Component:i().func,possibleSuggestions:i().array,onAddMention:i().func,isEditing:i().bool};const oe=re;var ie;let se=(0,s.$j)((()=>(0,a.zB)({possibleSuggestions:(0,G.c)()})))(ie=class extends r.Component{constructor(e){super(e);const t={handleBeforeInput:u};this.mentionPlugin=((e={})=>{const t={keyBindingFn:void 0,handleKeyCommand:void 0,handleReturn:void 0,onChange:void 0},n={ariaHasPopup:"false",ariaExpanded:!1,ariaOwneeID:void 0,ariaActiveDescendantID:void 0};let o,i,s=(0,m.Map)(),a=(0,m.Map)();const l={getEditorState:void 0,setEditorState:void 0,getPortalClientRect:e=>a.get(e)(),getAllSearches:()=>s,isEscaped:e=>o===e,escapeSearch:e=>{o=e},resetEscapedSearch:()=>{o=void 0},register:e=>{s=s.set(e,e)},updatePortalClientRect:(e,t)=>{a=a.set(e,t)},unregister:e=>{s=s.delete(e),a=a.delete(e)},getIsOpened:()=>i,setIsOpened:e=>{i=e}},{mentionPrefix:c="",theme:d=U,positionSuggestions:u=z,mentionComponent:p,mentionSuggestionsComponent:h=P,entityMutability:g="SEGMENTED",mentionTrigger:f="@",mentionRegExp:v=k,supportWhitespace:b=!1}=e,y={ariaProps:n,callbacks:t,theme:d,store:l,entityMutability:g,positionSuggestions:u,mentionTrigger:f,mentionPrefix:c};return{MentionSuggestions:e=>r.createElement(h,Object.assign({},e,y)),decorators:[{strategy:F(f),component:e=>r.createElement(E,Object.assign({},e,{theme:d,mentionComponent:p}))},{strategy:B(f,b,v),component:e=>r.createElement(L,Object.assign({},e,{store:l}))}],getAccessibilityProps:()=>({role:"combobox",ariaAutoComplete:"list",ariaHasPopup:n.ariaHasPopup,ariaExpanded:n.ariaExpanded,ariaActiveDescendantID:n.ariaActiveDescendantID,ariaOwneeID:n.ariaOwneeID}),initialize:({getEditorState:e,setEditorState:t})=>{l.getEditorState=e,l.setEditorState=t},keyBindingFn:e=>t.keyBindingFn&&t.keyBindingFn(e),handleReturn:e=>t.handleReturn&&t.handleReturn(e),onChange:e=>t.onChange?t.onChange(e):e}})({entityMutability:c.NQ.IMMUTABLE,positionSuggestions:Z,mentionComponent:V,mentionPrefix:"@",theme:{mentionSuggestionsEntryFocused:"focused",mentionSuggestionsEntry:null,mentionSuggestions:"MentionSuggestions"}}),this.plugins=[this.mentionPlugin,t,...e.plugins]}render(){const{possibleSuggestions:e,onAddMention:t,children:n,isEditing:o}=this.props;return r.createElement(K.Z,Object.assign({},this.props,{plugins:this.plugins}),((...i)=>r.createElement("div",{className:"editor-children"},n&&n(...i),r.createElement(oe,{isEditing:o,Component:this.mentionPlugin.MentionSuggestions,possibleSuggestions:e,onAddMention:t}))))}})||ie;se.propTypes={plugins:i().array.isRequired,possibleSuggestions:i().array,onAddMention:i().func,children:i().func,isEditing:i().bool};const ae=se},58968:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I,b:()=>T});var r=n(11558),o=n.n(r),i=n(80369),s=n.n(i),a=n(30845),l=n(43831),c=n(88786),d=n(70555),u=n(5980),m=n(90252);const p=e=>{const t=e.toLowerCase();return e=>{let n=0;const r=(0,u.EZ)(e),o=((0,d.Gf)(r)||"").toLowerCase(),i=((0,d.vz)(r)||"").toLowerCase(),s=((0,d.X0)(r)||"").toLowerCase(),a=((0,d.OD)(r)||"").toLowerCase(),c=(0,l.vg)("disabled",r);return 0===i.indexOf(t)&&(n+=5),0===o.indexOf(t)&&(n+=2),0===s.indexOf(t)&&(n+=5),0===a.indexOf(t)&&(n+=1),n>0&&!c&&(n+=20),Object.assign({},e,{score:n})}},h=e=>!!e.score,g=(e,t)=>t.score-e.score,f=(0,l.vg)("name"),E=(0,l.vg)("id"),v=(0,l.vg)("disabled"),b=(e,t)=>{const n=v(e),r=v(t);return n&&!r?1:r&&!n?-1:(0,c.J2)(f,o()(0))(e,t)},y=(e,t)=>{const n=(0,m.zA)(e),r=(0,m.zA)(t);return r-n==0?b(e,t):r-n},I=(e,t)=>{const n=e?t.map(p(e)).filter(h).sort(g):t.sort(y),r=n.length<5?n.length:5;return n.slice(0,r)},C=(0,a.default)((e=>e.filter(s()(v)))),S=(0,a.default)((e=>e.filter(v))),T=(e,t,n)=>{const r=C(n),o=S(n),i=e?r.map(p(e)).filter(h).sort(g):[...r].sort((e=>(t,n)=>{if(e){if(e===E(t))return-1;if(e===E(n))return 1}return y(t,n)})(t));if(i.length>=5)return i;const s=e?o.map(p(e)).filter(h).sort(g):[...o].sort(b);return s.length?[...i,...s.slice(5-s.length)]:i}},5980:(e,t,n)=>{"use strict";n.d(t,{EZ:()=>h,RM:()=>p,M3:()=>m});var r=n(72669),o=n.n(r),i=n(69937),s=n.n(i),a=n(52905),l=n.n(a),c=n(43831),d=n(90252),u=n(70555);const m=e=>{const t=o()(l()((0,u.vz)(e))),n=o()(l()((0,u.X0)(e)));if(!t)return[];if(!n)return[t];const r=s()(n);return n===r?[t,`${t} ${r}`]:[t,`${t} ${r}`,`${t} ${n}`]},p=(e=[],t)=>n=>{const r=m(n),{bestName:o}=r.reduce(((t,n)=>{const{matchCount:r}=t;if(r<=1)return t;const o=((e,t=[])=>t.reduce(((t,n)=>n===e?t+1:t),0))(n,e);return o<r?{bestName:n,matchCount:o}:t}),{bestName:null,matchCount:e.length}),i=(0,d.n5)(n),s=!(0,c.vg)(i,t);return{id:(0,d.n5)(n),name:o||(0,u.OD)(n),_name:(0,u.Ht)(n),email:(0,u.OD)(n),image:(0,u.gJ)(n),shareCount:(0,d.zA)(n),disabled:s}},h=e=>Object.assign({},e,{_id:e.id,name:e._name})},51206:(e,t,n)=>{"use strict";n.d(t,{S:()=>y,c:()=>b});var r=n(77606),o=n.n(r),i=n(11151),s=n.n(i),a=n(30845),l=n(78327),c=n(5980),d=n(80275),u=n(91040),m=n(34548),p=n(83213),h=n(90252);const g=[],f=(0,a.default)((e=>e?s()(c.M3,e.toArray()):g)),E=(0,a.default)(((e,t,n)=>{if(!n.size)return g;const r=f(n);return n.valueSeq().toJS().map((0,c.RM)(r,e))})),v=(0,a.default)(((e,t)=>{if(o()(t))return e;const n=(0,p.Z)(t);return e.filter((e=>!n[(0,h.n5)(e)]))})),b=()=>(0,l.y1)(((e,{isEditing:t})=>t),u.xm,d.rc,d.ht,m.kA,u.cQ,u.Jv,u.G7,u.a8,((e,t,n,r,o,i,s,a,l)=>{if(r||!e)return g;const c=s||l&&a?v(o,i):t;return E(c,n,o)})),y=(0,l.y1)(u.xm,d.rc,d.ht,m.kA,u.cQ,u.Jv,u.G7,u.a8,((e,t,n,r,o,i,s,a)=>{if(n)return g;const l=i||a&&s?v(r,o):e;return E(l,t,r)}))},62900:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(81629),o=n.n(r),i=n(51752),s=n(75146),a=n(97245);const l=(e,t,{getProps:n})=>{const{createNewCard:r,saveCurrentContent:l}=n();return r&&((0,i.lk)(e)||(0,i.Up)(e))?(l(),o()((()=>r({creationSource:a.S1.CMD_ENTER}))),s.wz.handled):(0,i.nY)(e)?(l(),s.wz.handled):s.wz.notHandled},c=()=>({handleReturn:l})},89855:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(99203),o=n(83887);const i=e=>{const t=(0,o.ZP)(e,o.nJ.PHRASE,"gi");return(e,n,o)=>(0,r.$m)(t,e,n)};var s=n(67294),a=n(45697),l=n.n(a),c=n(22466);const d=e=>s.createElement("span",{className:"SearchHighlightSpan"},e.children);d.propTypes={children:l().oneOfType([l().arrayOf(l().node),l().node])};const u=(0,c.Z)(d),m=()=>({dynamicDecorators:e=>e.filterQuery?[{strategy:i(e.filterQuery),component:u}]:null})},22466:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(54688),o=n(22693),i=n(52411);const s=(0,r.qC)((0,r.lG)({poiType:i.Ku.SEARCH,poiData:{count:1}}),o.Z)},62523:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(26911);const o=e=>{switch(e){case r.K2.BLOCKQUOTE:case r.K2.CODE_BLOCK:case r.K2.LIST:case r.K2.ORDERED_LIST:case r.K2.CHECKLIST:return!1;default:return!0}}},35066:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r=n(51752),o=n(95669),i=n(24749),s=n(40253),a=n(26911);const l=e=>!!(0,o.Z)(e)||(!!(0,i.Z)(e)||!(e=>!!e.getSelection().isCollapsed()&&e.getCurrentInlineStyle().includes(a.K2.CODE))(e)&&e.getSelection().isCollapsed()),c=({enableBlockStyles:e})=>(t,{getEditorState:n})=>{if((0,r.lk)(t)){if(e)switch(t.keyCode){case s.nx[0]:return(0,r.p9)(t)?a.K2.UNSTYLED:void 0;case s.nx[1]:return(0,r.p9)(t)?a.K2.LARGE_HEADING:void 0;case s.nx[2]:return(0,r.p9)(t)?a.K2.HEADING:void 0;case s.nx[9]:return(0,r.p9)(t)?a.K2.SMALL_TEXT:void 0;case s.nx.U:return(0,r.p9)(t)?a.K2.LIST:void 0;case s.nx.O:return(0,r.p9)(t)?a.K2.ORDERED_LIST:void 0;case s.nx.PERIOD:{const e=n();if(l(e))return a.K2.CODE_BLOCK;break}case s.nx.SINGLE_QUOTE:return a.K2.BLOCKQUOTE;case s.nx.BACK_SLASH:return a.K2.ALIGN_CENTER}switch(t.keyCode){case s.nx.J:return a.K2.HIGHLIGHT;case s.nx.PERIOD:if((0,r.p9)(t))return;return a.K2.CODE;case s.nx.X:if(!(0,r.p9)(t))return;return a.K2.STRIKETHROUGH}}};var d=n(10910),u=n.n(d),m=n(9041),p=n(44256),h=n(86082),g=n(74386),f=n(88263),E=n(54203),v=n(75146),b=n(48233);const y=[a.K2.STRIKETHROUGH,a.K2.CODE],I=[a.K2.UNSTYLED,a.K2.SMALL_TEXT,a.K2.LARGE_HEADING,a.K2.HEADING,a.K2.LIST,a.K2.ORDERED_LIST,a.K2.BLOCKQUOTE,a.K2.CHECKLIST,a.K2.CODE_BLOCK],C=(e,t,{setEditorState:n})=>{const r=(0,p.Z)(e),o=[];let i=null;r.forEach((e=>{const t=e.startsWith(b.WD),n=e===a.K2.HIGHLIGHT;(e.startsWith(b.QP)||t||n||e===b.wT)&&o.push(e),(n||t)&&(i=e)}));const s=(e=>{switch(e){case a.K2.HIGHLIGHT:case b.Yc.GREEN:return b.Yc.ORANGE;case b.Yc.ORANGE:return b.Yc.PINK;case b.Yc.PINK:return b.Yc.BLUE;case b.Yc.BLUE:return b.Yc.GREY;case b.Yc.GREY:return null;default:return b.Yc.GREEN}})(i),l=s?[s]:[],c=(0,f.X)(e,{addedStyles:l,removedStyles:o});c&&n(c)},S=({enableBlockStyles:e})=>(t,n,r,{setEditorState:o})=>{if(t===a.K2.ALIGN_CENTER){const e=(e=>{const t=(0,g.Z)(e);if(!t)return e;const n=t.getData();if(!n)return e;const r=!n.get(a.kk.TEXT_ALIGN_CENTER),o={[a.kk.TEXT_ALIGN_CENTER]:r};return(0,h.Oj)(e,o)})(n);return o(e),v.wz.handled}if(t===a.K2.CODE_BLOCK){return o((0,E.u)(n,t)),v.wz.handled}if(t===a.K2.HIGHLIGHT)return C(n,0,{setEditorState:o}),v.wz.handled;if(u()(t,y)){return o(m.RichUtils.toggleInlineStyle(n,t)),v.wz.handled}if(e&&u()(t,I)){return o(m.RichUtils.toggleBlockType(n,t)),v.wz.handled}return v.wz.notHandled};var T=n(62523);const w="center-text",O=e=>{const t=e.getType();return(0,T.Z)(t)?(e=>{let t;e.getType()===a.K2.SMALL_TEXT&&(t="small-text");const n=e.getData();return n&&n.get(a.kk.TEXT_ALIGN_CENTER)&&(t=t?`${t} ${w}`:w),t})(e):void 0},_=({enableBlockStyles:e})=>({keyBindingFn:c({enableBlockStyles:e}),handleKeyCommand:S({enableBlockStyles:e}),blockStyleFn:O})},17790:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(41609),o=n.n(r),i=n(9041),s=n(34143);const a=(e,t,n,r)=>{const o=r||(0,s.Z)(e);let i=0,a=0,l=0,c=0,d=0;for(;l>=0&&l<n;)l<t&&(i++,d=l),a++,c=l,l=e.indexOf(o,l+o.length);return{startLine:Math.max(i-1,0),startOffset:t-d,endLine:Math.max(a-1,0),endOffset:n-c}};var l=n(10696);const c=(e,t)=>{const n=t||(0,s.Z)(e),r=e.length;let o=0,i=-1;const a=[];for(;o>=0&&o<r;){o=e.indexOf(n,o+n.length);const t=-1!==o?o:r;a.push({startOffset:i+1,endOffset:t}),i=o}return a};var d=n(31412),u=n(75146);const m=e=>{const t=(e=>{const t=e.getCurrentContent(),n=e.getSelection(),r=n.getStartKey(),o=n.getStartOffset(),i=n.getEndOffset(),c=t.getBlockForKey(r).getText(),u=(0,s.Z)(c),m=(0,l.Z)(c,u),p=a(c,o,i,u),h=[];for(let s=p.startLine;s<=p.endLine;s++)m[s]&&m[s].startsWith(d.E)&&h.push(s);return h})(e);if(o()(t))return;const n=e.getCurrentContent(),r=e.getSelection(),m=r.getStartKey(),p=r.getStartOffset(),h=r.getEndOffset(),g=n.getBlockForKey(m).getText(),f=(0,s.Z)(g),E=c(g,f);let v=n;const b=t[0],y=E[b].startOffset,I=d.E.length;t.reverse().forEach((e=>{const t=E[e],n=r.merge({focusKey:m,focusOffset:t.startOffset,anchorKey:m,anchorOffset:t.startOffset+I,isBackward:!0});v=i.Modifier.removeRange(v,n,u.$4.backward)}));const C=new i.SelectionState({anchorKey:m,anchorOffset:Math.max(p-I,y),focusKey:m,focusOffset:h-t.length*I}),S=i.EditorState.push(e,v,u.m_.REMOVE_RANGE);return i.EditorState.forceSelection(S,C)},p=e=>{const t=e.getCurrentContent(),n=e.getSelection();let r;return r=n.isCollapsed()?i.Modifier.insertText(t,n,d.E):i.Modifier.replaceText(t,n,d.E),i.EditorState.push(e,r,"insert-characters")};var h=n(26911);const g=(e,{setEditorState:t})=>{const n=e.getSelection().isCollapsed()?p(e):(e=>{const t=e.getCurrentContent(),n=e.getSelection(),r=n.getStartKey(),o=n.getStartOffset(),l=n.getEndOffset(),m=t.getBlockForKey(r).getText(),p=(0,s.Z)(m),h=a(m,o,l,p),g=c(m,p),f=d.E.length;let E=t,v=0;for(let s=h.endLine;s>=h.startLine;s--){v++;const e=g[s],t=n.merge({focusKey:r,focusOffset:e.startOffset,anchorKey:r,anchorOffset:e.startOffset,isBackward:!1});E=i.Modifier.insertText(E,t,d.E)}const b=new i.SelectionState({anchorKey:r,anchorOffset:o+f,focusKey:r,focusOffset:l+v*f}),y=i.EditorState.push(e,E,u.m_.REMOVE_RANGE);return i.EditorState.forceSelection(y,b)})(e);n&&t(n)},f=(e,{getEditorState:t,setEditorState:n})=>{const r=t();if((e=>{const t=e.getSelection(),n=e.getCurrentContent(),r=t.getStartKey(),o=n.getBlockForKey(r).getType();return o===h.K2.LIST||o===h.K2.ORDERED_LIST||o===h.K2.CHECKLIST})(r))return;e.preventDefault();return!e.shiftKey?g(r,{setEditorState:n}):((e,{setEditorState:t})=>{const n=m(e);n&&t(n)})(r,{setEditorState:n})};var E=n(40253);const v=()=>({keyBindingFn(e,{getEditorState:t,setEditorState:n}){if(e.keyCode===E.nx.TAB)return f(e,{getEditorState:t,setEditorState:n})}})},35302:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(26911),o=n(48233);const i={[r.K2.HIGHLIGHT]:{background:"var(--ws-text-highlight-background-color)",color:"var(--ws-text-highlight-color)"},[o.wT]:{background:"var(--ws-text-pseudo-select-color)"},[o.Kb.BLUE]:{color:"var(--ws-text-color-blue)"},[o.Kb.GREEN]:{color:"var(--ws-text-color-green)"},[o.Kb.ORANGE]:{color:"var(--ws-text-color-orange)"},[o.Kb.RED]:{color:"var(--ws-text-color-red)"},[o.Kb.GREY]:{color:"var(--ws-text-color-grey)"},[o.Yc.DARK_GREY]:{background:"var(--ws-text-background-color-dark-grey)",color:"var(--ws-text-background-color-dark-grey-text)"},[o.Yc.BLUE]:{background:"var(--ws-text-background-color-blue)",color:"var(--ws-text-highlight-color)"},[o.Yc.GREEN]:{background:"var(--ws-text-background-color-green)",color:"var(--ws-text-highlight-color)"},[o.Yc.ORANGE]:{background:"var(--ws-text-background-color-orange)",color:"var(--ws-text-highlight-color)"},[o.Yc.PINK]:{background:"var(--ws-text-background-color-pink)",color:"var(--ws-text-highlight-color)"},[o.Yc.GREY]:{background:"var(--ws-text-background-color-grey)",color:"var(--ws-text-highlight-color)"}},s=e=>!e||e.length<1?null:e.reduce(((e,t)=>{const n=i[t];if(n)return Object.assign({},e,n);if(!t.startsWith(o.q7))return e;const r=t.substr(-6);return Object.assign({},e,{color:`#${r}`})}),null),a=()=>({customStyleFn:s})},48233:(e,t,n)=>{"use strict";n.d(t,{Kb:()=>a,QP:()=>r,WD:()=>o,Yc:()=>l,q7:()=>i,wT:()=>s});const r="TEXT",o="BG",i="TEXT_HEX",s="PSEUDO_SELECTION",a={BLUE:`${r}-blue`,GREEN:`${r}-green`,ORANGE:`${r}-orange`,RED:`${r}-red`,GREY:`${r}-grey`},l={DARK_GREY:`${o}-dark-grey`,BLUE:`${o}-blue`,GREEN:`${o}-green`,ORANGE:`${o}-orange`,PINK:`${o}-pink`,GREY:`${o}-grey`}},4367:(e,t,n)=>{"use strict";n.d(t,{BN:()=>D,LV:()=>A,PG:()=>N});var r=n(92742),o=n.n(r),i=n(26911);const s=e=>{const t=(e=>t=>{const n=t.getBlockMap();if(1!==n.size)return!1;if(n.first().getType()!==i.K2.UNSTYLED)return!1;const r=o()(t.getPlainText());return e(r)})(e);return e=>t(e.getCurrentContent())};var a=n(69339);const l=s((e=>{if(1!==e.split(/\s/).length)return!1;return!(0,a.Z)(e,{type:"url",allowIPAddress:!0,required:!0})}));var c=n(75763),d=n(6690);const u=(e,t)=>{if(!l(e))return!1;const{updateElementType:n,preventSaveOnUnmount:r,element:i}=t();if((0,c.oCs)(i))return;r();const s=o()(e.getCurrentContent().getPlainText());return n({elementType:d.xE,data:{url:s}}),!0},m=e=>"[x]"===e,p=s(m),h=s((e=>(e=>"[]"===e||"[ ]"===e)(e)||m(e)));var g=n(75146),f=n(73440);const E=(e,{getProps:t})=>{if(!h(e))return g.wz.notHandled;const{updateElementType:n,preventSaveOnUnmount:r}=t(),o=p(e);r();const i={content:{isComplete:o}};return n({elementType:f.A,data:i}),g.wz.notHandled},v=(e,t,n)=>E(t,n),b=(e,t,n,r)=>" "!==e?g.wz.notHandled:E(t,r);const y=s(n(8686).MD);var I=n(66774),C=n(11111),S=n(18952),T=n(83515),w=n(92295),O=n(41013),_=n(11535);const R=(e,t)=>{const{element:n,updateElementType:r,preventSaveOnUnmount:i,textContent:s}=t();if(!(0,C.F_)(n)||!y(e))return!1;const a=o()(e.getCurrentContent().getPlainText());if((0,I.Z)(s)===a)return!1;const l=(0,S.Qx)(a);if(!l)return!1;const c=(0,T.E)(l);i();const d={color:l,showColorValue:!0,showCaption:!0,caption:(0,w.Z)(c),width:_.X,media:{height:O.HR.LARGE.size*_.ug,width:O.HR.LARGE.size*_.X}};return r({elementType:_.KY,data:d}),!0},A=()=>({handleReturn:(e,t,{getProps:n})=>u(t,n)?g.wz.handled:g.wz.notHandled,onBlur:(e,{getEditorState:t,getProps:n})=>{const r=t();u(r,n)}}),D=()=>({handleReturn:(e,t,{getProps:n})=>R(t,n)?g.wz.handled:g.wz.notHandled,onBlur:(e,{getEditorState:t,getProps:n})=>{const r=t();R(r,n)}}),N=()=>({handleBeforeInput:b,handleReturn:v})},26911:(e,t,n)=>{"use strict";let r;n.d(t,{K2:()=>o,kk:()=>a,l3:()=>s,lx:()=>r,ow:()=>i}),function(e){e.INLINE="INLINE",e.BLOCK="BLOCK"}(r||(r={}));const o={BOLD:"BOLD",ITALIC:"ITALIC",UNDERLINE:"UNDERLINE",LARGE_HEADING:"header-one",HEADING:"header-two",BLOCKQUOTE:"blockquote",CODE:"CODE",CODE_BLOCK:"code-block",STRIKETHROUGH:"STRIKETHROUGH",CENTER_TEXT:"CENTER-TEXT",LIST:"unordered-list-item",ORDERED_LIST:"ordered-list-item",CHECKLIST:"checklist",UNSTYLED:"unstyled",SMALL_TEXT:"small-text",HEADING_PREFIX:"header",HYPERLINK:"LINK",HIGHLIGHT:"HIGHLIGHT",ALIGN_CENTER:"ALIGN_CENTER"},i={[o.BOLD]:r.INLINE,[o.ITALIC]:r.INLINE,[o.UNDERLINE]:r.INLINE,[o.LARGE_HEADING]:r.BLOCK,[o.HEADING]:r.BLOCK,[o.BLOCKQUOTE]:r.BLOCK,[o.CODE]:r.INLINE,[o.CODE_BLOCK]:r.BLOCK,[o.STRIKETHROUGH]:r.INLINE,[o.LIST]:r.BLOCK,[o.ORDERED_LIST]:r.BLOCK,[o.SMALL_TEXT]:r.BLOCK,[o.CHECKLIST]:r.BLOCK,[o.HIGHLIGHT]:r.INLINE},s={LINK:"LINK",CLIP:"CLIP",MENTION:"mention"},a={TEXT_ALIGN_CENTER:"text-align-center",IGNORE_FOR_DELETE:"ignore-for-delete",HEADER_TITLE:"header-title"}},8567:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(75583),o=n(12896),i=n(5191);const s=(0,r.Z)(null,(e=>({dispatchGetEditorState:()=>e(((e,t)=>(0,o.hZ)(t()))),dispatchGetEditorId:()=>e(((e,t)=>(0,o._W)(t()))),dispatchSaveEditorSelection:({editorId:t,selection:n})=>e((0,i.l6)({editorId:t,selection:n})),dispatchSaveCurrentSelection:()=>e(((t,n)=>{const r=n(),s=(0,o._W)(r),a=(0,o.hZ)(r).getSelection();e((0,i.l6)({editorId:s,selection:a}))}))})))},75583:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(37974),o=n(38470);const i=(...e)=>{const t=Object.assign({},e[3],{storeKey:o.r9,getDisplayName:e=>`EditorStoreConnect(${e})`});return(0,r.$j)(e[0],e[1],e[2],t)}},31600:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(22222),o=n(75583),i=n(12896),s=n(78327);var a=n(15428);var l=n(5191);const c=(e,t)=>t.isEditing&&(0,i._W)(e)===t.editorId,d=(0,s.T1)((([e,t,n],[r,o,i])=>n===i&&(!r||e&&t===o&&n===i))),u=(0,o.Z)((()=>d(c,(0,r.P1)(c,i.hZ,((e,t)=>e?t:null)),i.$W,((e,t,n)=>({editorState:e?t:null,savedSelection:e?n:null})))),(e=>({editorStateChanged:({editorId:t,originalEditorId:n,editorState:r})=>e((0,l.sd)({editorId:t,originalEditorId:n,editorState:r})),dispatchEditorUnmount:()=>e((0,l.go)()),dispatchSaveEditorSelection:({editorId:t,selection:n})=>e((0,l.l6)({editorId:t,selection:n})),dispatchClearEditorUndoRedoStack:()=>e((0,l.XV)()),dispatchSetEditorContext:(t,n,r)=>e(((e,t,n)=>({type:a.G$,contextName:e,contextKey:t,context:n}))(t,n,r)),dispatchRemoveEditorContext:(t,n)=>e(((e,t)=>({type:a.VH,contextName:e,contextKey:t}))(t,n)),dispatchGetEditorContextThunk:(t,n)=>e((e=>(t,n)=>function(e,{editorContextName:t}){return(e=>e.get("editorContext"))(e)[t]}(n(),{editorContextName:e}))(t))})))},57059:(e,t,n)=>{"use strict";n.d(t,{Z:()=>z});var r=n(43393),o=n(53894),i=n(15857),s=n(24545),a=n(50335),l=n(44379),c=n(59161),d=n(68071),u=n(84796),m=n(38470),p=n(22733),h=n(62523),g=n(26911),f=n(10048);const E=e=>(window.dispatchToEditorStore=({action:t})=>{e.dispatch(t)},e=>t=>{if(t.remote)return e(t);const{editorState:n}=t,r={type:t.type,textInCurrentBlock:"",selectedBlockType:"unstyled",selectedInlineStyle:[],selectedBlockMetadata:{},canSelectedBlockAlignCenter:!0,selectedTextEntityType:"none",canSelectedTextLink:!1};if(t.type&&t.type===m.k0&&n){const e=n.getSelection().getFocusKey(),t=n.getCurrentContent().getBlockForKey(e);r.textInCurrentBlock=t&&t.getText()||"";const o=t&&t.getType();r.selectedBlockType=o;const i=(0,p.Z)(n);r.selectedInlineStyle=i.toJS();const s=t&&t.getData(),a=!!s&&!!s.get(g.kk.TEXT_ALIGN_CENTER);r.selectedBlockMetadata={[g.kk.TEXT_ALIGN_CENTER]:a},r.canSelectedBlockAlignCenter=(0,h.Z)(o);const l=n.getSelection(),c=l.getStartOffset(),d=t&&t.getEntityAt(c);if(d){const e=n.getCurrentContent().getEntity(d);r.selectedTextEntityType=e.getType(),r.canSelectedTextLink=!0}else r.canSelectedTextLink=c!==l.getEndOffset()}return window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.milanoteEditorActions&&window.webkit.messageHandlers.milanoteEditorActions.postMessage(r).catch((e=>{f.Z.error("Action could not be posted: ",r,e)})),window.flutter_inappwebview&&window.flutter_inappwebview.callHandler&&window.flutter_inappwebview.callHandler("flutterEditorActionHandler",r),e(t)});var v=n(72739),b=n(9041),y=n(54203);const I=(e,t)=>{let n=e;const{selection:r,styleCommand:o}=t;if((e=>e===g.K2.CODE_BLOCK)(o))return(0,y.u)(e,o);const i=g.ow[o]===g.lx.INLINE?b.RichUtils.toggleInlineStyle:b.RichUtils.toggleBlockType;return r&&(n=b.EditorState.forceSelection(n,r)),i(n,o)};var C=n(88263),S=n(49845);var T=n(55093);const w=(e,t)=>{const n=(e=>({startKey:e.getStartKey(),startOffset:e.getStartOffset(),endKey:e.getEndKey(),endOffset:e.getEndOffset()}))(e.getSelection());return(0,T.Z)(e,n,t)},O=(e,t)=>{const n=(e=>{const t=e.getCurrentContent().getBlockMap(),n=e.getSelection(),r=n.getStartKey(),o=n.getStartOffset(),i=t.get(r).getEntityAt(o);let s=r,a=o;if(i){const{startKey:t,startOffset:n}=w(e,i);s=t,a=n}const l=n.getEndKey(),c=n.getEndOffset(),d=t.get(l).getEntityAt(c);let u=l,m=c;if(d){const{endKey:t,endOffset:n}=w(e,d);u=t,m=n}return b.SelectionState.createEmpty(u).merge({anchorKey:s,anchorOffset:a,focusKey:u,focusOffset:m})})(e),r=b.EditorState.forceSelection(e,n);return b.RichUtils.toggleLink(e,r.getSelection(),null)};var _=n(74386),R=n(86082);var A=n(7108),D=n.n(A),N=n(63772),x=n.n(N);const M=r.Map({});var P=n(15428);const L={markdown:{}};let k="";const F=(0,v.U)({editorState:function(e=null,t){switch(t.type){case m.k0:return t.editorState;case m.XO:return I(e,t);case m.kR:return(0,C.X)(e,t);case m.FO:return((e,t)=>{let n=e;const{metadata:r}=t,o=(0,_.Z)(n);return o&&o.getData()?(n=(0,R.Oj)(n,r),n):n})(e,t);case m.wr:return(0,S.Z)(e,t);case m.L6:return O(e);case m.FE:return null;case m.VX:return((e,t)=>b.EditorState.set(e,{undoStack:r.Stack(),redoStack:r.Stack()}))(e);default:return e}},editorId:function(e=null,t){switch(t.type){case m.k0:return t.editorId;case m.FE:return null;default:return e}},originalEditorId:function(e=null,t){switch(t.type){case m.k0:return t.originalEditorId||t.editorId;case m.FE:return null;default:return e}},savedSelection:function(e=M,t){switch(t.type){case m.ky:return((e,t)=>{const{selection:n,editorId:r}=t;return x()(n)||!r?e:D()(n)?e.delete(r):e.set(r,n)})(e,t);case m.FE:return M;default:return e}},editorContext:(e=L,t)=>{switch(t.type){case m.k0:return((e,t)=>{const{editorId:n}=t;return n===k?e:(k=n,L)})(e,t);case P.G$:return((e,t)=>{const{contextName:n,contextKey:r,context:o}=t,i=Object.assign({},e);return i[n]=Object.assign({},i[n],{[r]:o}),i})(e,t);case P.VH:return((e,t)=>{const{contextName:n,contextKey:r}=t,o=Object.assign({},e),i=o[n];if(i){const e=Object.assign({},i);delete e[r],o[n]=Object.assign({},e)}return o})(e,t);default:return e}}});var B=n(45350);const j=r.Map({[m.k0]:B.DEBUG_LEVEL.FINE});function z(e=r.Map()){const t=[o.Z],n=(0,c.Z)();if((0,l.jF)(l.SI.REDUX_LOG_EDITOR)){const e=j.filter((e=>e>=n.debugLevel)).keySeq().toArray();t.push((0,s.hu)({predicate:(t,n)=>-1===e.indexOf(n.type),collapsed:!0,duration:!0,timestamp:!1,colors:{title:e=>"goldenrod"}}))}(0,a.Od)()&&t.push((0,u.Z)("editor_")),(0,d.cE)()&&t.push(E);const m=i.md.apply(null,t);return(0,i.MT)(F,e,m)}},5191:(e,t,n)=>{"use strict";n.d(t,{D4:()=>i,Gf:()=>d,JH:()=>l,K9:()=>a,XV:()=>c,Yl:()=>s,go:()=>m,l6:()=>u,sd:()=>o});var r=n(38470);const o=({editorId:e,originalEditorId:t,editorState:n})=>({type:r.k0,editorId:e,originalEditorId:t,editorState:n}),i=({styleCommand:e,selection:t})=>({type:r.XO,styleCommand:e,selection:t}),s=({addedStyles:e=[],removedStyles:t=[],addToUndoStack:n})=>({type:r.kR,addedStyles:e,removedStyles:t,addToUndoStack:n}),a=e=>({type:r.FO,metadata:e}),l=({entityType:e,mutability:t,data:n,forceSelection:o=!0,mergeData:i=!1})=>({type:r.wr,entityType:e,mutability:t,data:n,forceSelection:o,mergeData:i}),c=()=>({type:r.VX}),d=()=>({type:r.L6}),u=({editorId:e,selection:t})=>({type:r.ky,editorId:e,selection:t}),m=()=>({type:r.FE})},38470:(e,t,n)=>{"use strict";n.d(t,{FE:()=>m,FO:()=>a,L6:()=>c,VX:()=>d,XO:()=>i,k0:()=>o,kR:()=>s,ky:()=>u,r9:()=>r,wr:()=>l});const r="editorStore",o="EDITOR_STATE_CHANGED",i="EDITOR_STYLE_COMMAND",s="EDITOR_COLOR_STYLE_COMMAND",a="EDITOR_UPDATE_BLOCK_METADATA",l="EDITOR_ENTITY_CHANGE",c="EDITOR_ENTITY_REMOVE",d="EDITOR_CLEAR_UNDO_REDO_STACK",u="EDITOR_SELECTION_SAVE",m="EDITOR_UNMOUNT"},15428:(e,t,n)=>{"use strict";n.d(t,{G$:()=>r,VH:()=>o,lW:()=>i});const r="EDITOR_CONTEXT_SET",o="EDITOR_CONTEXT_REMOVE";let i;!function(e){e.markdown="markdown"}(i||(i={}))},12896:(e,t,n)=>{"use strict";n.d(t,{$W:()=>o,_W:()=>i,hZ:()=>r,vJ:()=>s});const r=e=>e.get("editorState"),o=(e,{editorId:t})=>e.getIn(["savedSelection",t]),i=e=>e.get("editorId"),s=e=>e.get("originalEditorId")},80177:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(37216);const o=e=>{const t=e.getCurrentContent(),n=e.getSelection(),o=n.getStartKey(),i=n.getEndKey(),s=(0,r.Z)(e);let a=s.first(),l=null;for(;a&&!l;){const e=a.get("key"),r=t.getKeyAfter(e),c=o===a.get("key")?Math.max(0,n.getStartOffset()-1):0,d=i===a.get("key")?Math.max(1,n.getEndOffset()):a.getLength()-1;for(let t=c;t<d;t++){if(l)return l;const e=a.getEntityAt(t);e&&(l=e)}a=s.get(r)}return l}},88263:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});var r=n(9041),o=n(44256);const i=(e,t)=>{let n=e;const{removedStyles:i=[],addToUndoStack:s=!0}=t;let{addedStyles:a=[]}=t;n=r.EditorState.set(n,{allowUndo:s});const l=n.getSelection();let c=(0,o.Z)(n);if(l.isCollapsed()){if(0===l.getFocusOffset()){const e=n.getCurrentInlineStyle();a&&e&&e.forEach((e=>{a.includes(e)?a=a.filter((t=>t!==e)):a.push(e)}))}return a&&a.forEach((e=>{c.has(e)||(c=c.add(e))})),i&&i.forEach((e=>{c.has(e)&&(c=c.remove(e))})),r.EditorState.setInlineStyleOverride(n,c)}let d=n.getCurrentContent();return i&&i.forEach((e=>{c.has(e)&&(d=r.Modifier.removeInlineStyle(d,l,e))})),a&&a.forEach((e=>{c.has(e)||(d=r.Modifier.applyInlineStyle(d,l,e))})),r.EditorState.push(n,d,"change-inline-style")}},49845:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(9041),o=n(80177),i=n(68750),s=n.n(i),a=n(75146);var l=n(43831);const c=(e,t)=>{const{entityType:n,mutability:i,data:c,forceSelection:d,mergeData:u}=t,m=e.getCurrentContent(),p=e.getSelection();let h=(0,o.Z)(e);if(h){const e=m.getEntity(h);h=(0,l.vg)("type",e)===n?h:null}if(p.isCollapsed()&&!h)return e;if(h)u?m.mergeEntityData(h,c):m.replaceEntityData(h,c);else{h=m.createEntity(n,i,c).getLastCreatedEntityKey()}const g=d?r.EditorState.forceSelection(e,e.getSelection()):e;return((e,t,n)=>{const o=e.getCurrentContent(),i=s()(o,t,n);return r.EditorState.push(e,i,a.m_.APPLY_ENTITY)})(g,g.getSelection(),h)}},46096:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),o=n.n(r),i=n(37974),s=n(64402);const a=({children:e,isElectron:t})=>t?null:e;a.propTypes={isElectron:o().bool,children:o().oneOfType([o().arrayOf(o().node),o().node])};const l=(0,i.$j)(s.Z)(a)},64402:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(22222),o=n(68071);const i=(0,r.zB)({isElectron:o.Z$})},81136:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s),l=n(33740),c=n(43831),d=n(76073),u=n(26457);const m=(0,c.vg)("type"),p=(0,c.vg)("svg"),h=(0,c.vg)("string"),g=(0,c.vg)("fetching"),f=({svg:e,className:t})=>r.createElement("div",{className:a()("Icon SVGIcon",t),dangerouslySetInnerHTML:(0,l.oe)(e)});f.propTypes={svg:i().string,className:i().string};const E=({string:e,className:t})=>r.createElement("div",{className:a()("Icon StringIcon",t)},r.createElement("div",{className:`string-icon-${e.length}`},e.split("").map(((e,t)=>r.createElement("span",{key:t},e)))));E.propTypes={string:i().string,className:i().string};var v=r.createElement(u.Z,{show:!0});const b=({icon:e,showLoading:t,enableFade:n})=>{const[o,i]=(0,r.useState)(!1),s=g(e),l=(0,d.Z)(s),c=p(e),u=h(e);return(0,r.useEffect)((()=>{t&&l&&!s&&(i(!0),requestAnimationFrame((()=>i(!1))))}),[t,l,e]),e&&t&&s?v:e&&c?r.createElement(f,{className:a()({faded:o&&n}),svg:c}):e&&u?r.createElement(E,{className:a()({faded:o&&n}),string:u}):null},y=e=>({"--element-icon-color":e}),I=e=>{const{icon:t,isDarkBackground:n,isSelected:o,secondaryColor:i}=e,s=a()("ElementIcon",m(t),{"color-combo":!!i,light:n,dark:!n,"color-contrast-target":o});return r.createElement("div",{className:s,style:y(i)},r.createElement(b,e))};I.propTypes=b.propTypes={icon:i().object,showLoading:i().bool,enableFade:i().bool,sizePx:i().number,isDarkBackground:i().bool,isSelected:i().bool,color:i().string};const C=I},28:(e,t,n)=>{"use strict";n.d(t,{J:()=>i});var r=n(56884),o=n(36410);const i=({boardId:e,icon:t,searchQuery:n,isFallback:i,setMode:s=o.U.USER_ACTION})=>{(0,r.dO)({eventType:"Set board icon",eventProperties:{boardId:e,setMode:s,searchQuery:n&&n.toLowerCase(),isFallback:i,iconType:t.type,iconId:t.id,iconName:t.name,iconUrl:t.png}})}},68123:(e,t,n)=>{"use strict";n.d(t,{R:()=>o,Y:()=>r});const r={STRING:"string",SVG:"svg"},o=4},55290:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(45685);const o=(e,t,n)=>{const o={url:"/icons",params:{search:e&&e.toLowerCase(),queryType:n,count:t},timeout:15e3};return(0,r.ZP)(o)}},74528:(e,t,n)=>{"use strict";n.d(t,{A2:()=>m,Vb:()=>g,ls:()=>h,w7:()=>u});var r=n(44908),o=n.n(r),i=n(91175),s=n.n(i),a=n(39301),l=n(68123),c=n(56860),d=n(86340);const u=(e=!1)=>t=>(e||isNaN(t))&&(e=>-1===d.Fg.indexOf(e.toLowerCase()))(t),m=e=>e.replace(/[.,\/"'\^&\*;:{}=\-_`~()]/g,""),p=e=>e[0],h=e=>{if(!e||e===c.q2)return[];let t=(e=>(0,a.lV)(e,"-").split("-").filter((e=>""!==e)))(e);if(!t.length)return[];t.length>2&&(t=t.filter(u(!0)));var n;return(e=>{const t=[],n=Math.min(l.R,e.length);for(let r=0;r<n;r++)t.push(e.slice(0,n-r).join(""));return e.forEach((e=>t.push(e))),o()(t)})(1===(n=t).length?n[0].split(""):n.map(p))},g=e=>s()(h(e))},3744:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(43393),o=n(68123);const i=(e,t="str")=>r.Map({type:o.Y.STRING,id:`${t}-${e}`,string:e.toUpperCase()})},50192:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s),l=n(1174),c=n.n(l);const d=e=>{const{children:t,forceLeave:n,className:o,style:i}=e;let s=null;return!n&&t&&(s=r.createElement("div",{className:a()("ElementTag",o),style:i},t)),r.createElement(c(),{transitionName:"pop",transitionAppear:!0,transitionAppearTimeout:700,transitionEnterTimeout:700,transitionLeaveTimeout:700},s)};d.propTypes={children:i().oneOfType([i().arrayOf(i().node),i().node]),forceLeave:i().bool,className:i().string,style:i().object};const u=d},45781:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(67294),o=n(45697),i=n.n(o),s=n(85263);const a=`https://static.milanote.com/emoji-assets/${s.mL?"apple":"twitter"}/`,l=({emojiCode:e,size:t=24})=>{const[n,o]=(0,r.useState)(!1);if(!e)return null;const i=e.toLowerCase(),s=`${a}${i}.png`,l=`${a}${i}@2x.png`;return n?r.createElement("span",{className:"EmojiImage fallback",style:{display:"block",fontSize:.7*t,lineHeight:1.5,width:t,height:t}},((e="")=>e.split("-").map((e=>String.fromCodePoint(parseInt(e,16)))).join(""))(e)):r.createElement("img",{className:"EmojiImage",src:l,srcSet:`${s} 1x, ${l} 2x`,width:Math.round(t),height:Math.round(t),onError:e=>o(!0)})};l.propTypes={emoji:i().object,emojiCode:i().string,size:i().number,platform:i().string};const c=l},91310:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ie});var r=n(24976),o=n.n(r),i=n(88846),s=n.n(i),a=n(8816),l=n.n(a),c=n(37453),d=n.n(c),u=n(65068),m=n.n(u),p=n(66415),h=n.n(p),g=n(49338),f=n.n(g),E=n(52612),v=n.n(E),b=n(67294),y=n(45697),I=n.n(y),C=n(74061),S=n(37974),T=n(94184),w=n.n(T),O=n(12742),_=n.n(O),R=n(23905),A=n.n(R),D=n(11151),N=n.n(D),x=n(21146),M=n.n(x),P=n(63422),L=n.n(P);const k=0,F=1,B="Frequently used",j=[{name:"Frequently used",groups:[B]},{name:"Smileys & Emotions",groups:["Smileys & Emotion"]},{name:"People & Body",groups:["People & Body"]},{name:"Animals & Nature",groups:["Animals & Nature"]},{name:"Food & Drink",groups:["Food & Drink"]},{name:"Travel & Places",groups:["Travel & Places"]},{name:"Activities",groups:["Activities"]},{name:"Objects",groups:["Objects"]},{name:"Symbols",groups:["Symbols"]},{name:"Flags",groups:["Flags"]}],z={"1F44D":4,"1F44E":3,"1F60A":2,"1F600":2,"1F642":1,"1F914":1,"1F60D":1,"1F61E":1},U=L()("unified"),H=(e,t)=>L()(["skin_variations",t,"unified"],e)||U(e),Z=L()("category"),G=(e,t="")=>N()((({name:n,groups:r})=>{const o=M()("category")(e),i=new RegExp(_()(t),"i"),s=N()((e=>h()("sort_order",o[e])))(r).filter((e=>!t.length||(e=>!![e.name,...e.short_names||[]].find((e=>e&&e.match(i))))(e))),a=A()(8,s).map((e=>({type:F,emojis:e})));return a.length?[{type:k,title:n},...a]:[]}),j);var K=n(22222),W=n(43393);var V=n(43831),$=n(75763),q=n(90471),Y=n(90252),X=n(78327),Q=n(80275),J=n(87447);const ee=(0,X.y1)(((e,{elementIds:t})=>t),(e=>e.get("elements")),(e=>e.get("comments")),Q.rc,((e,t,n,r)=>{const o=W.fromJS((0,J.Ak)(e,t)),i=(0,V.yS)(e,n).toList();return o.concat(i).flatMap($.YmW).filter((e=>(0,q.GU)(e)===r)).map(q.pk).toArray()})),te=(0,K.zB)({emojiData:e=>e.getIn(["app","cms","emoji","data"])||[],recentlyUsed:e=>{const t=(0,Y.Nu)((0,Q.ts)(e));return t?t.toJS():z},skinTone:e=>(0,Y.B_)((0,Q.ts)(e)),selectedReactionIds:ee});var ne=n(25507),re=n(29176),oe=n(58837);var ie=n(99452),se=n(8779),ae=n(55404),le=n(45781),ce=n(80877);const de=({className:e,emoji:t,selected:n,skinTone:r,gridSize:o=10,onClickFn:i})=>b.createElement(ce.Z,{className:w()("ReactionPopupEmojiButton",e,{selected:n}),onClickFn:i},b.createElement(le.Z,{emojiCode:H(t,r),size:2.4*o}));de.propTypes={emoji:I().object,selected:I().bool,className:I().string,skinTone:I().string,gridSize:I().number,onClickFn:I().func};const ue=de;var me=n(82520);const pe=({emojiData:e,skinTone:t,setSkinTone:n,gridSize:r})=>{const[o,i]=(0,b.useState)(!1),s=(0,b.useMemo)((()=>((e,t)=>e.find((e=>U(e)===t)))(e,"1F44D")),[e]),a=(0,b.useMemo)((()=>(e=>{const t=M()("category")(e);return(t.Component||t["Skin Tones"]||[]).map(U)})(e)),[e]);return s?b.createElement(me.Z,{closePopup:()=>i(!1),visible:o,ignoreClickContainment:!0},b.createElement("div",{className:w()("ReactionPopupSkinTonePicker",{closed:!o})},b.createElement("ul",{className:"tone-list"},[null,...a].map(((e,a)=>b.createElement("li",{key:e,style:{transform:`translate(${o?a*r*3.6:0}px, 0px)`,opacity:o||t===e?1:0}},b.createElement(ue,{onClickFn:()=>(e=>{i(!o),n(e)})(e),emoji:s,skinTone:e}))))),b.createElement(ce.Z,{className:w()("select-tone-button",{hidden:o}),onClickFn:()=>i(!0)},"Change skin tone"))):null};pe.propTypes={skinTone:I().string,gridSize:I().number,emojiData:I().array,setSkinTone:I().func};const he=pe;var ge=n(26457);const fe=l()(d(),h()("1"),o(),m()(24),s()((([e])=>e))),Ee=(0,b.memo)((function({style:e,index:t,data:{rows:n,skinTone:r,selectedReactionIds:o,handleClickEmoji:i,gridSize:s}}){const a=n[t];return a.type===k?b.createElement("div",{style:e,className:w()("emoji-list-row title",{first:0===t})},b.createElement("h2",null,a.title)):b.createElement("div",{style:Object.assign({},e,{display:"flex"}),className:"emoji-list-row emojis"},a.emojis.map((e=>b.createElement(ue,{key:U(e),emoji:e,gridSize:s,selected:o.indexOf(e.unified)>-1,skinTone:r,onClickFn:()=>i(e)}))))}),C.wy);Ee.propTypes={style:I().object,data:I().object,index:I().number};var ve=b.createElement("div",{className:"no-results-text"},"No emoji found ",b.createElement(le.Z,{emojiCode:"1F614",size:24})),be=b.createElement("div",{className:"no-results-text"},b.createElement(ge.Z,{show:!0}));const ye=({emojiData:e=[],gridSize:t=10,skinTone:n,recentlyUsed:r,elementIds:o,selectedReactionIds:i,closePopup:s,dispatchAddReaction:a,dispatchFetchEmojiData:l,dispatchUpdateRecentlyUsed:c,dispatchUpdateSkinTone:d})=>{const[u,m]=(0,b.useState)(v()(j).name),[p,h]=(0,b.useState)(""),g=(0,b.useRef)(),E=e.length>0;(0,b.useEffect)((()=>{E||l()}),[]);const y=(0,b.useMemo)((()=>{const t=[...fe(r).map(((t,n)=>{const r=e.find((e=>U(e)===t));return Object.assign({},r,{category:B,sort_order:n})})).filter((e=>!!e)),...e];return G(t,p)}),[p,e,r]),I=(0,b.useMemo)((()=>j.map((e=>({slug:e.name,title:e.name,disabled:!y.find((t=>t.type===k&&t.title===e.name))})))),[y]);(0,b.useEffect)((()=>{const e=I.find((e=>e&&e.slug===u));if(e&&!e.disabled)return;const t=I.find((e=>e&&!e.disabled));m(t&&t.slug||"none")}),[I]);const S=(0,b.useMemo)((()=>(e,t)=>{const n=y[t+1];return n&&n.type===k?46:34}),[y]),T=f()(10,(e=>{if(e.scrollUpdateWasRequested)return;const t=(e=>{let t,n=0;for(let r=0;r<y.length;r++){const o=y[r];if(n+=S(o,r),y[r].type===k&&(t=o.title),n>=e)return t}})(0===e.scrollOffset?0:e.scrollOffset+150);t&&t!==u&&m(t)})),w=30.4*t,O=50.5*t;return b.createElement(b.Fragment,null,b.createElement(ae.Z,{tools:b.createElement(he,{emojiData:e,skinTone:n,setSkinTone:d,gridSize:t}),showSearch:!0,popupMode:u,setMode:({mode:e})=>{m(e);const t=y.findIndex((({type:t,title:n})=>t===k&&n===e));t>-1&&g.current&&g.current.scrollToItem(t,"start")},modeList:I,searchPlaceholder:"Search emojis...",clearSearchOnSubmit:!1,handleSearchChange:h}),E&&y.length?b.createElement(C.S_,{className:"emoji-list",onScroll:T,ref:g,width:w,height:O,itemCount:y.length,itemSize:e=>S(y[e],e),itemKey:e=>(({emojis:e,title:t})=>t||`${U(v()(e))}${Z(v()(e))}`)(y[e]),itemData:{rows:y,skinTone:n,selectedReactionIds:i,handleClickEmoji:e=>{c(((e,t)=>{const n=t[e]||0;return Object.assign({},t,{[e]:n+1})})(U(e),r)),a({elementIds:o,emojiCode:H(e,n)}),s&&s()},gridSize:t},overscanCount:10},Ee):b.createElement("div",{style:{width:w,height:O},className:"no-results"},E?ve:be))};ye.propTypes={gridSize:I().number,emojiData:I().array,elementIds:I().array,selectedReactionIds:I().array,skinTone:I().string,recentlyUsed:I().object,closePopup:I().func,dispatchAddReaction:I().func,dispatchFetchEmojiData:I().func,dispatchUpdateRecentlyUsed:I().func,dispatchUpdateSkinTone:I().func};const Ie=(0,S.$j)(te,(e=>({dispatchFetchEmojiData:()=>e((async e=>{e((0,ne.S)(re.P6.cms,oe.z.EMOJI)((async()=>(await fetch("https://static.milanote.com/emoji-assets/data.json")).json())))})),dispatchAddReaction:({elementIds:t,emojiCode:n})=>e((0,ie.r)({updateIds:t,emojiCode:n})),dispatchUpdateRecentlyUsed:t=>e((0,se.SF)({changes:{settings:{reactionsRecent:t}}})),dispatchUpdateSkinTone:t=>e((0,se.SF)({changes:{settings:{reactionsSkinTone:t}}}))})))(ye)},62061:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(63422),o=n.n(r),i=n(67294),s=n(27097);const a=({error:e})=>`Error: ${e&&e.toString()}\nStack: ${o()("stack",e)}`;var l=i.createElement("summary",null,"Otherwise");const c=e=>{const{getErrorDetails:t=a,dispatchToggleIntercom:n,furtherDetails:r}=e,o=i.useRef(null),c=t(e),d=()=>{o.current&&(o.current.select(),document.execCommand("copy"))};return i.createElement("details",null,l,i.createElement("div",{className:"info"},i.createElement("p",{className:"support-message"},"Please ",i.createElement(s.Z,{onClick:n},"contact support")," and provide them with the following information:"),r,i.createElement("button",{className:"clipboard",onClick:d},"Copy to clipboard"),i.createElement("div",null,i.createElement("textarea",{ref:o,readOnly:!0,value:c,onFocus:d,onClick:d}))))}},35423:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(94184),l=n.n(a),c=n(39702),d=n(95683),u=n(37574),m=n(27097),p=n(62061);const h=e=>{const{className:t,heading:n="Something went wrong",dispatchRefreshPageAndClearLocalCache:o,furtherMessage:i=""}=e;return r.createElement("div",{className:l()("ErrorRenderer",t),onClick:c.hE,onDoubleClick:c.jb},r.createElement("div",{className:"error-message"},r.createElement("h3",null,n),r.createElement("p",{className:"refresh-message"},"First try"," ",r.createElement(m.Z,{onClick:o},"refreshing the page"),i)),r.createElement(p.Z,e))};h.propTypes={className:i().string,furtherDetails:i().string,furtherMessage:i().oneOfType([i().arrayOf(i().node),i().node,i().string]),heading:i().string,dispatchToggleIntercom:i().func,dispatchRefreshPageAndClearLocalCache:i().func,getErrorDetails:i().func,error:i().object};const g=(0,s.$j)(null,(e=>({dispatchToggleIntercom:()=>e((0,d.F)()),dispatchRefreshPageAndClearLocalCache:()=>e((0,u.up)())})))(h)},94630:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(10048),l=n(20354),c=n(72345),d=n(35423);function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=(e,t)=>`Error rendering component: ${e.toString()}`,p=(e,t)=>({stack:t.componentStack});class h extends r.Component{constructor(...e){super(...e),u(this,"state",{hasRenderError:!1,error:null}),u(this,"handleBeforeUnload",(e=>{if(this.state.hasRenderError){const{dispatchLocalCacheForceClear:e}=this.props;e()}}))}static getDerivedStateFromError(e){return{hasRenderError:!0,error:e}}componentDidMount(){window.addEventListener("beforeunload",this.handleBeforeUnload)}componentWillUnmount(){window.removeEventListener("beforeunload",this.handleBeforeUnload)}componentDidCatch(e,t){const{doNotReport:n,getErrorMessage:r=m,getRollbarErrorDetails:o=p,dispatchLocalCacheForceClear:i}=this.props;if(n)return;i();const s=r(e,t,this.props);a.Z.error(s,e),a.Z.error("Component stack",t.componentStack);const c=o(e,t,this.props);(0,l.vl)({errorMessage:s,error:c})}render(){const{ErrorRenderer:e=d.Z}=this.props;return this.state.hasRenderError?r.createElement(e,Object.assign({},this.props,{error:this.state.error})):this.props.children}}h.propTypes={elementId:i().string,doNotReport:i().bool,children:i().oneOfType([i().arrayOf(i().node),i().node]),ErrorRenderer:i().func,getErrorMessage:i().func,getRollbarErrorDetails:i().func,dispatchLocalCacheForceClear:i().func};const g=(0,s.$j)(null,(e=>({dispatchLocalCacheForceClear:()=>e((0,c.X)())})))(h)},21886:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o,_:()=>i});var r=n(27095);const o=({modalId:e,data:t})=>({type:r.v,modalId:e,data:t}),i=()=>({type:r.b})},27095:(e,t,n)=>{"use strict";n.d(t,{b:()=>o,v:()=>r});const r="ERROR_MODAL_OPEN",o="ERROR_MODAL_CLOSE"},28036:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(67294),o=n(45697),i=n.n(o),s=n(85263),a=n(17173);function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=e=>{class t extends r.Component{constructor(e){super(e),l(this,"onMouseDown",(e=>{this.mouseDownTimestamp=Date.now(),this.mouseDownPos={x:e.pageX,y:e.pageY}})),l(this,"onMouseUp",(e=>{if(!this.mouseDownTimestamp||!this.mouseDownPos)return;const t=Date.now(),n=t-this.mouseDownTimestamp;this.allowDoubleClickCreate=n<120||this.mouseDownPos.x===e.pageX&&this.mouseDownPos.y===e.pageY;const r=!!this.mouseUpTimestamp&&t-this.mouseUpTimestamp<300;(0,s.HM)()&&this.allowDoubleClickCreate&&(0,a.Kl)(e,!r),this.mouseUpTimestamp=t,this.mouseDownTimestamp=null,this.mouseDownPos=null})),l(this,"onDoubleClick",(e=>{if(!this.allowDoubleClickCreate)return void(this.allowDoubleClickCreate=!0);this.allowDoubleClickCreate=!0;const{onDoubleClick:t}=this.props;t&&t(e)})),this.allowDoubleClickCreate=!0,this.mouseDownTimestamp=null,this.mouseDownPos=null,this.mouseUpTimestamp=0}render(){return r.createElement(e,Object.assign({},this.props,{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onDoubleClick:this.onDoubleClick}))}}return t.propTypes={onDoubleClick:i().func},t}},1931:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(67294),o=n(37974),i=n(94184),s=n.n(i),a=n(48935),l=n(68356),c=n.n(l);const d={"file-3d":c()({loader:()=>n.e(8423).then(n.bind(n,42308)),loading:()=>null}),"file-acrobat":c()({loader:()=>n.e(9031).then(n.bind(n,48381)),loading:()=>null}),"file-aftereffects":c()({loader:()=>n.e(7646).then(n.bind(n,60795)),loading:()=>null}),"file-audio":c()({loader:()=>n.e(1118).then(n.bind(n,10682)),loading:()=>null}),"file-axure":c()({loader:()=>n.e(2497).then(n.bind(n,13020)),loading:()=>null}),"file-code":c()({loader:()=>n.e(7649).then(n.bind(n,46012)),loading:()=>null}),"file-document":c()({loader:()=>n.e(4258).then(n.bind(n,37240)),loading:()=>null}),"file-dreamweaver":c()({loader:()=>n.e(8683).then(n.bind(n,67218)),loading:()=>null}),"file-email":c()({loader:()=>n.e(3479).then(n.bind(n,89848)),loading:()=>null}),"file-excel":c()({loader:()=>n.e(5484).then(n.bind(n,60022)),loading:()=>null}),"file-experience-design":c()({loader:()=>n.e(55).then(n.bind(n,16043)),loading:()=>null}),"file-file":c()({loader:()=>n.e(8543).then(n.bind(n,37852)),loading:()=>null}),"file-font":c()({loader:()=>n.e(1546).then(n.bind(n,87078)),loading:()=>null}),"file-html":c()({loader:()=>n.e(5302).then(n.bind(n,87374)),loading:()=>null}),"file-illustrator":c()({loader:()=>n.e(5233).then(n.bind(n,6598)),loading:()=>null}),"file-image":c()({loader:()=>n.e(28).then(n.bind(n,22281)),loading:()=>null}),"file-indesign":c()({loader:()=>n.e(2923).then(n.bind(n,14815)),loading:()=>null}),"file-keynote":c()({loader:()=>n.e(5807).then(n.bind(n,39345)),loading:()=>null}),"file-lightroom":c()({loader:()=>n.e(719).then(n.bind(n,93182)),loading:()=>null}),"file-movie":c()({loader:()=>n.e(3083).then(n.bind(n,65465)),loading:()=>null}),"file-muse":c()({loader:()=>n.e(8846).then(n.bind(n,58938)),loading:()=>null}),"file-numbers":c()({loader:()=>n.e(1670).then(n.bind(n,76558)),loading:()=>null}),"file-plaintext":c()({loader:()=>n.e(3560).then(n.bind(n,96831)),loading:()=>null}),"file-ppt":c()({loader:()=>n.e(947).then(n.bind(n,25054)),loading:()=>null}),"file-premiere":c()({loader:()=>n.e(129).then(n.bind(n,13615)),loading:()=>null}),"file-raw-image":c()({loader:()=>n.e(4976).then(n.bind(n,40085)),loading:()=>null}),"file-rtf":c()({loader:()=>n.e(7301).then(n.bind(n,94475)),loading:()=>null}),"file-sketch":c()({loader:()=>n.e(1469).then(n.bind(n,11346)),loading:()=>null}),"file-svg":c()({loader:()=>n.e(1706).then(n.bind(n,74510)),loading:()=>null}),"file-word":c()({loader:()=>n.e(8076).then(n.bind(n,78896)),loading:()=>null}),"file-zip":c()({loader:()=>n.e(4304).then(n.bind(n,46044)),loading:()=>null})},u={"file-3d":c()({loader:()=>n.e(8423).then(n.bind(n,4932)),loading:()=>null}),"file-acrobat":c()({loader:()=>n.e(9031).then(n.bind(n,23042)),loading:()=>null}),"file-aftereffects":c()({loader:()=>n.e(7646).then(n.bind(n,18015)),loading:()=>null}),"file-audio":c()({loader:()=>n.e(1118).then(n.bind(n,60637)),loading:()=>null}),"file-axure":c()({loader:()=>n.e(2497).then(n.bind(n,55538)),loading:()=>null}),"file-code":c()({loader:()=>n.e(7649).then(n.bind(n,47487)),loading:()=>null}),"file-document":c()({loader:()=>n.e(4258).then(n.bind(n,45156)),loading:()=>null}),"file-dreamweaver":c()({loader:()=>n.e(8683).then(n.bind(n,55707)),loading:()=>null}),"file-email":c()({loader:()=>n.e(3479).then(n.bind(n,85589)),loading:()=>null}),"file-excel":c()({loader:()=>n.e(5484).then(n.bind(n,8164)),loading:()=>null}),"file-experience-design":c()({loader:()=>n.e(55).then(n.bind(n,7697)),loading:()=>null}),"file-file":c()({loader:()=>n.e(8543).then(n.bind(n,23549)),loading:()=>null}),"file-font":c()({loader:()=>n.e(1546).then(n.bind(n,41660)),loading:()=>null}),"file-html":c()({loader:()=>n.e(5302).then(n.bind(n,85952)),loading:()=>null}),"file-illustrator":c()({loader:()=>n.e(5233).then(n.bind(n,89178)),loading:()=>null}),"file-image":c()({loader:()=>n.e(28).then(n.bind(n,50479)),loading:()=>null}),"file-indesign":c()({loader:()=>n.e(2923).then(n.bind(n,6678)),loading:()=>null}),"file-keynote":c()({loader:()=>n.e(5807).then(n.bind(n,84860)),loading:()=>null}),"file-lightroom":c()({loader:()=>n.e(719).then(n.bind(n,79540)),loading:()=>null}),"file-movie":c()({loader:()=>n.e(3083).then(n.bind(n,2810)),loading:()=>null}),"file-muse":c()({loader:()=>n.e(8846).then(n.bind(n,15612)),loading:()=>null}),"file-numbers":c()({loader:()=>n.e(1670).then(n.bind(n,88784)),loading:()=>null}),"file-plaintext":c()({loader:()=>n.e(3560).then(n.bind(n,55429)),loading:()=>null}),"file-ppt":c()({loader:()=>n.e(947).then(n.bind(n,40740)),loading:()=>null}),"file-premiere":c()({loader:()=>n.e(129).then(n.bind(n,34536)),loading:()=>null}),"file-raw-image":c()({loader:()=>n.e(4976).then(n.bind(n,9033)),loading:()=>null}),"file-rtf":c()({loader:()=>n.e(7301).then(n.bind(n,74715)),loading:()=>null}),"file-sketch":c()({loader:()=>n.e(1469).then(n.bind(n,38940)),loading:()=>null}),"file-svg":c()({loader:()=>n.e(1706).then(n.bind(n,89769)),loading:()=>null}),"file-word":c()({loader:()=>n.e(8076).then(n.bind(n,18779)),loading:()=>null}),"file-zip":c()({loader:()=>n.e(4304).then(n.bind(n,53759)),loading:()=>null})},m={"file-3d":c()({loader:()=>n.e(8423).then(n.bind(n,62908)),loading:()=>null}),"file-acrobat":c()({loader:()=>n.e(9031).then(n.bind(n,37657)),loading:()=>null}),"file-aftereffects":c()({loader:()=>n.e(7646).then(n.bind(n,63033)),loading:()=>null}),"file-apple-movie":c()({loader:()=>n.e(9131).then(n.bind(n,61948)),loading:()=>null}),"file-audio":c()({loader:()=>n.e(1118).then(n.bind(n,74211)),loading:()=>null}),"file-axure":c()({loader:()=>n.e(2497).then(n.bind(n,838)),loading:()=>null}),"file-code":c()({loader:()=>n.e(7649).then(n.bind(n,91110)),loading:()=>null}),"file-document":c()({loader:()=>n.e(4258).then(n.bind(n,38668)),loading:()=>null}),"file-dreamweaver":c()({loader:()=>n.e(8683).then(n.bind(n,63949)),loading:()=>null}),"file-email":c()({loader:()=>n.e(3479).then(n.bind(n,87977)),loading:()=>null}),"file-excel":c()({loader:()=>n.e(5484).then(n.bind(n,49048)),loading:()=>null}),"file-experience-design":c()({loader:()=>n.e(55).then(n.bind(n,68313)),loading:()=>null}),"file-file":c()({loader:()=>n.e(8543).then(n.bind(n,65136)),loading:()=>null}),"file-font":c()({loader:()=>n.e(1546).then(n.bind(n,93089)),loading:()=>null}),"file-html":c()({loader:()=>n.e(5302).then(n.bind(n,29646)),loading:()=>null}),"file-illustrator":c()({loader:()=>n.e(5233).then(n.bind(n,33965)),loading:()=>null}),"file-image":c()({loader:()=>n.e(28).then(n.bind(n,32767)),loading:()=>null}),"file-indesign":c()({loader:()=>n.e(2923).then(n.bind(n,36429)),loading:()=>null}),"file-keynote":c()({loader:()=>n.e(5807).then(n.bind(n,83797)),loading:()=>null}),"file-lightroom":c()({loader:()=>n.e(719).then(n.bind(n,80602)),loading:()=>null}),"file-movie":c()({loader:()=>n.e(3083).then(n.bind(n,7078)),loading:()=>null}),"file-muse":c()({loader:()=>n.e(8846).then(n.bind(n,61695)),loading:()=>null}),"file-numbers":c()({loader:()=>n.e(1670).then(n.bind(n,91032)),loading:()=>null}),"file-otf":c()({loader:()=>n.e(676).then(n.bind(n,89413)),loading:()=>null}),"file-pages":c()({loader:()=>n.e(8124).then(n.bind(n,9358)),loading:()=>null}),"file-photoshop":c()({loader:()=>n.e(1988).then(n.bind(n,26861)),loading:()=>null}),"file-plaintext":c()({loader:()=>n.e(3560).then(n.bind(n,83668)),loading:()=>null}),"file-ppt":c()({loader:()=>n.e(947).then(n.bind(n,38752)),loading:()=>null}),"file-premiere":c()({loader:()=>n.e(129).then(n.bind(n,84669)),loading:()=>null}),"file-raw-image":c()({loader:()=>n.e(4976).then(n.bind(n,12825)),loading:()=>null}),"file-rtf":c()({loader:()=>n.e(7301).then(n.bind(n,31623)),loading:()=>null}),"file-sketch":c()({loader:()=>n.e(1469).then(n.bind(n,23323)),loading:()=>null}),"file-svg":c()({loader:()=>n.e(1706).then(n.bind(n,40531)),loading:()=>null}),"file-word":c()({loader:()=>n.e(8076).then(n.bind(n,25001)),loading:()=>null}),"file-zip":c()({loader:()=>n.e(4304).then(n.bind(n,80251)),loading:()=>null})},p={"file-3d":c()({loader:()=>n.e(8423).then(n.bind(n,51068)),loading:()=>null}),"file-acrobat":c()({loader:()=>n.e(9031).then(n.bind(n,4419)),loading:()=>null}),"file-aftereffects":c()({loader:()=>n.e(7646).then(n.bind(n,34511)),loading:()=>null}),"file-apple-movie":c()({loader:()=>n.e(9131).then(n.bind(n,23845)),loading:()=>null}),"file-audio":c()({loader:()=>n.e(1118).then(n.bind(n,51861)),loading:()=>null}),"file-axure":c()({loader:()=>n.e(2497).then(n.bind(n,82432)),loading:()=>null}),"file-code":c()({loader:()=>n.e(7649).then(n.bind(n,34714)),loading:()=>null}),"file-document":c()({loader:()=>n.e(4258).then(n.bind(n,52493)),loading:()=>null}),"file-dreamweaver":c()({loader:()=>n.e(8683).then(n.bind(n,24076)),loading:()=>null}),"file-email":c()({loader:()=>n.e(3479).then(n.bind(n,22467)),loading:()=>null}),"file-excel":c()({loader:()=>n.e(5484).then(n.bind(n,25598)),loading:()=>null}),"file-experience-design":c()({loader:()=>n.e(55).then(n.bind(n,87465)),loading:()=>null}),"file-file":c()({loader:()=>n.e(8543).then(n.bind(n,91402)),loading:()=>null}),"file-font":c()({loader:()=>n.e(1546).then(n.bind(n,97357)),loading:()=>null}),"file-html":c()({loader:()=>n.e(5302).then(n.bind(n,55889)),loading:()=>null}),"file-illustrator":c()({loader:()=>n.e(5233).then(n.bind(n,37591)),loading:()=>null}),"file-image":c()({loader:()=>n.e(28).then(n.bind(n,5924)),loading:()=>null}),"file-indesign":c()({loader:()=>n.e(2923).then(n.bind(n,91137)),loading:()=>null}),"file-keynote":c()({loader:()=>n.e(5807).then(n.bind(n,92433)),loading:()=>null}),"file-lightroom":c()({loader:()=>n.e(719).then(n.bind(n,68928)),loading:()=>null}),"file-movie":c()({loader:()=>n.e(3083).then(n.bind(n,16623)),loading:()=>null}),"file-muse":c()({loader:()=>n.e(8846).then(n.bind(n,70599)),loading:()=>null}),"file-numbers":c()({loader:()=>n.e(1670).then(n.bind(n,18616)),loading:()=>null}),"file-otf":c()({loader:()=>n.e(676).then(n.bind(n,51350)),loading:()=>null}),"file-pages":c()({loader:()=>n.e(8124).then(n.bind(n,1106)),loading:()=>null}),"file-photoshop":c()({loader:()=>n.e(1988).then(n.bind(n,50151)),loading:()=>null}),"file-plaintext":c()({loader:()=>n.e(3560).then(n.bind(n,94962)),loading:()=>null}),"file-ppt":c()({loader:()=>n.e(947).then(n.bind(n,29057)),loading:()=>null}),"file-premiere":c()({loader:()=>n.e(129).then(n.bind(n,59490)),loading:()=>null}),"file-raw-image":c()({loader:()=>n.e(4976).then(n.bind(n,41438)),loading:()=>null}),"file-rtf":c()({loader:()=>n.e(7301).then(n.bind(n,63393)),loading:()=>null}),"file-sketch":c()({loader:()=>n.e(1469).then(n.bind(n,9956)),loading:()=>null}),"file-svg":c()({loader:()=>n.e(1706).then(n.bind(n,67759)),loading:()=>null}),"file-word":c()({loader:()=>n.e(8076).then(n.bind(n,40730)),loading:()=>null}),"file-zip":c()({loader:()=>n.e(4304).then(n.bind(n,12552)),loading:()=>null})},h={"file-acrobat":c()({loader:()=>n.e(9031).then(n.bind(n,63414)),loading:()=>null}),"file-image":c()({loader:()=>n.e(28).then(n.bind(n,56443)),loading:()=>null}),"file-plaintext":c()({loader:()=>n.e(3560).then(n.bind(n,19897)),loading:()=>null}),"file-word":c()({loader:()=>n.e(8076).then(n.bind(n,74222)),loading:()=>null}),"file-zip":c()({loader:()=>n.e(4304).then(n.bind(n,68018)),loading:()=>null})},g={"file-acrobat":c()({loader:()=>n.e(9031).then(n.bind(n,77180)),loading:()=>null}),"file-image":c()({loader:()=>n.e(28).then(n.bind(n,72732)),loading:()=>null}),"file-plaintext":c()({loader:()=>n.e(3560).then(n.bind(n,40163)),loading:()=>null}),"file-word":c()({loader:()=>n.e(8076).then(n.bind(n,48203)),loading:()=>null}),"file-zip":c()({loader:()=>n.e(4304).then(n.bind(n,18136)),loading:()=>null})};var f=n(91727);const E=(0,o.$j)((e=>({isDarkMode:(0,a.v2)(e)})))((({fileType:e,iconName:t,isDarkMode:n,iconTheme:o,iconStyle:i="outlined",audioOnly:a,disabled:l})=>{const c=a?f.ld.AUDIO:f.ld[e]||f.ld.GENERIC,E=t||c.iconName||"file-file",v=o||(n?"dark":"light")||"light",b=(e=>{switch(e){case"large":return{light:d,dark:u};case"mini":return{light:h,dark:g};default:return{light:m,dark:p}}})(i)[v][E];return b?r.createElement("div",{className:s()("FileIcon",{disabled:l})},r.createElement(b,null)):null}))},78432:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294),o=n(45697),i=n.n(o),s=n(1373);const a=({label:e,name:t,error:n,errors:o,HelperElement:i,children:a})=>r.createElement("div",{className:"form-row"},r.createElement("div",{className:"field-info"},r.createElement("label",{className:"field-label",htmlFor:t},e),n&&r.createElement(s.Z,{sanitisedError:n}),o&&o.map(((e,t)=>r.createElement(s.Z,{sanitisedError:e,key:t})))),r.createElement("div",{className:"field-row"},Array.isArray(a)?a.map(((e,t)=>r.createElement("div",{className:"field",key:t},e))):r.createElement("div",{className:"field"},a)),i&&r.createElement("div",{className:"field-helper"},i));a.propTypes={label:i().string,name:i().string,error:i().object,errors:i().arrayOf(i().object),HelperElement:i().node,children:i().oneOfType([i().arrayOf(i().node),i().node]).isRequired};const l=a},34398:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s),l=n(80877),c=n(87701);const d=({show:e,canClear:t,onMouseDown:n,onPointerDown:o,onClick:i})=>{if(!e)return null;const s=t?"search-clear":"search-magnifying-glass";return r.createElement(l.Z,{className:a()("SearchClearButton",{clear:t}),onMouseDown:n,onPointerDown:o,onClickFn:i},r.createElement(c.Z,{name:s}))};d.propTypes={show:i().bool,canClear:i().bool,onClick:i().func,onMouseDown:i().func,onPointerDown:i().func};const u=d},43065:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s);const l=["name","className","error"];const c=r.forwardRef((function(e,t){const{name:n,className:o,error:i}=e,s=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,l);return r.createElement("input",Object.assign({className:a()("FormInput",o,{error:!!i}),id:n,name:n,ref:t},s))}));c.propTypes={name:i().string,className:i().string,error:i().object};const d=c},42267:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s),l=n(28644),c=n(43065);const d=e=>{const{error:t,onClick:n,isVisible:o,isFocused:i}=e,s=a()("VisibilityButton",{"has-input-focus":i,error:t});return r.createElement("input",{type:"button",className:s,onClick:n,value:o?"Hide":"Show"})};d.propTypes={onClick:i().func.isRequired,isFocused:i().bool.isRequired,isVisible:i().bool.isRequired,error:i().object};const u=d,m=["canShowPassword","error"];function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=(0,l.zO)("isFocused"),g=(0,l.zO)("isVisible");class f extends r.Component{constructor(e){super(e),p(this,"toggleFocus",(()=>{this.setState({isFocused:!0})})),p(this,"toggleBlur",(()=>{this.setState({isFocused:!1})})),p(this,"toggleVisibility",(e=>{e.preventDefault(),this.setState((e=>({isVisible:!e.isVisible})))})),this.passwordInputRef=r.createRef(),this.state={isVisible:!1,isFocused:!1}}componentDidUpdate(e,t){(g(t,this.state)||h(t,this.state))&&this.passwordInputRef.current&&this.passwordInputRef.current.focus()}render(){const e=this.props,{canShowPassword:t,error:n}=e,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,m),{isVisible:i,isFocused:s}=this.state,l=a()("field PasswordInput",{"has-show-button":t});return r.createElement("div",{className:"field-row"},r.createElement("div",{className:l},r.createElement(c.Z,Object.assign({},o,{error:n,ref:this.passwordInputRef,type:i?"text":"password",onFocus:this.toggleFocus,onBlur:this.toggleBlur,className:"password-input"})),t?r.createElement(u,Object.assign({},this.props,{error:n,onClick:this.toggleVisibility,isFocused:s,isVisible:i})):null))}}f.propTypes={error:i().object,canShowPassword:i().bool};const E=f},89366:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),o=n(45697),i=n.n(o),s=n(66688),a=n(71328);const l=["field","children"];const c=e=>{if(e.touched)return e.submitError&&!e.modifiedSinceLastSubmit?e.submitError:e.error},d=e=>{const{field:t,children:n}=e,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,l);return r.createElement(s.gN,Object.assign({name:t.name,validate:(0,a.W)(t),type:t.type},o),(({input:e,meta:t})=>n({input:e,meta:t,display:{error:c(t)}})))};d.propTypes={field:i().object.isRequired,children:i().func.isRequired};const u=d},57144:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(41609),o=n.n(r),i=n(67294),s=n(94184),a=n.n(s),l=n(45697),c=n.n(l),d=n(66688),u=n(71328);n(40587);const m=["fields","className","onSubmit","children"];const p=e=>{const{fields:t,className:n,onSubmit:r,children:s}=e,l=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,m),c=(0,i.useCallback)((e=>{const n=(0,u.O)(t)(e);return o()(n)?r(e):n}),[r]);return i.createElement(d.l0,Object.assign({onSubmit:c},l),(e=>{const{handleSubmit:t,submitting:r,submitErrors:o,errors:l,modifiedSinceLastSubmit:c,name:d}=e,u={errors:o&&!c?o:l};return i.createElement("form",{className:a()("Form",n,{submitting:r}),onSubmit:t,noValidate:!0,name:d},s(Object.assign({},e,{display:u})))}))};p.propTypes={fields:c().array,initialValues:c().object,className:c().string,onSubmit:c().func,children:c().func,name:c().string};const h=p},24281:(e,t,n)=>{"use strict";n.d(t,{r:()=>r});const r=e=>{const{submitting:t,hasValidationErrors:n,hasSubmitErrors:r,modifiedSinceLastSubmit:o}=e;return t||n||r&&!o}},11627:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(27361),o=n.n(r),i=n(95142),s=n(79049),a=n(10048),l=n(23865),c=n(33853),d=n(20354);const u=({form:e,reportError:t=!0,sensitive:n})=>r=>{var u;const m=`${e} submission error`;if(a.Z.error(m,r,r.response),!r.response)return{[i.Ck]:{message:o()(r,"message")||"An unknown error occurred. Please try again or contact support.",isNetworkError:(0,s.eE)(r)}};const p=o()(r,"response.data.error"),h=p&&p.code===l.ws.VALIDATION_FAILURE;t&&!h&&(0,d.vl)({errorMessage:m,error:r,sensitive:n,level:c.n.ERROR});const g={[i.Ck]:{message:o()(p,"message")||"Something went wrong, please try again",isNetworkError:(0,s.eE)(r),status:null===(u=r.response)||void 0===u?void 0:u.status}};var f;return h?Object.assign({},p.details,null!==(f=p.inner)&&void 0!==f&&f.showPrimaryError?g:{}):g}},98676:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),o=n(45697),i=n.n(o),s=n(78394),a=n(45915),l=r.createElement("span",null,"We couldn't connect to the Milanote servers.",r.createElement("br",null),"Check the"," ",r.createElement("a",{href:a.r9,target:"_blank",rel:"noopener noreferrer"},"status page")," on our website for updates."),c=r.createElement("span",null,"Sorry, something went wrong. Please try again or check the"," ",r.createElement("a",{href:a.r9,target:"_blank",rel:"noopener noreferrer"},"status page")," ","if you continue to have problems.");const d=e=>null!=e&&e.isNetworkError?l:null!=e&&e.message&&500!==e.status?e.message:c,u=e=>{const{primaryError:t,hide:n}=e;return r.createElement(s.Z,{message:d(t),show:!n&&!!t})};u.propTypes={primaryError:i().object,hide:i().bool};const m=u},78394:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s),l=n(87701);const c=({icon:e,message:t,children:n,show:o,className:i})=>o?r.createElement("div",{className:a()("FormPrimaryMessage",i)},e?r.createElement(l.Z,{name:e}):null,t,n):null;c.propTypes={message:i().oneOfType([i().string,i().arrayOf(i().node),i().node]),icon:i().string,show:i().bool,className:i().string,children:i().oneOfType([i().arrayOf(i().node),i().node])};const d=c,u=({message:e,show:t,children:n,icon:o="cross-small"})=>r.createElement(d,{className:"PrimaryErrorMessage",message:e,show:t,icon:o},n);u.propTypes={message:i().oneOfType([i().string,i().arrayOf(i().node),i().node]),show:i().bool,icon:i().string,children:i().oneOfType([i().arrayOf(i().node),i().node])};const m=u},1373:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),o=n(45697),i=n.n(o);class s extends r.Component{shouldComponentUpdate(e,t){return e.sanitisedError!==this.props.sanitisedError}render(){const{sanitisedError:e}=this.props;return e&&e.message?r.createElement("div",{className:"field-message error"},e.message):null}}s.propTypes={sanitisedError:i().object};const a=s},87701:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(67294),o=n(45697),i=n.n(o),s=n(22222),a=n(37974),l=n(51335),c=n(6123);const d=({isDarkMode:e,name:t,gridSize:n,getIconSizeForGridSize:o,size:i})=>{const s=i||o(n);return e?r.createElement(c.ZP,{name:t,iconSize:s}):r.createElement(l.ZP,{name:t,iconSize:s})};d.propTypes={isDarkMode:i().bool,name:i().string,gridSize:i().number,getIconSizeForGridSize:i().func,size:i().string};const u=d;var m=n(48935),p=n(48791),h=n(41013),g=n(16341);const f=(0,s.zB)({gridSize:p.ZP,size:(e,t)=>t.size,isDarkMode:m.v2}),E=e=>{switch(e){case h.HR.SMALL.size:return g.O.SMALL;case h.HR.MEDIUM.size:return g.O.MEDIUM;case h.HR.LARGE.size:default:return g.O.LARGE}},v=({isDarkMode:e,name:t,gridSize:n,size:o})=>r.createElement(u,{isDarkMode:e,name:t,gridSize:n,getIconSizeForGridSize:E,overrideSize:o});v.propTypes={isDarkMode:i().bool,name:i().string,gridSize:i().number,size:i().string,getIconSizeForGridSize:i().func};const b=(0,a.$j)(f)(v)},6123:(e,t,n)=>{"use strict";n.d(t,{H_:()=>h,Tw:()=>p,ZP:()=>f,gF:()=>m});var r=n(67294),o=n(45697),i=n.n(o),s=n(68356),a=n.n(s),l=n(51335),c=n(16341),d=r.createElement("div",{className:"Icon loading"});const u=()=>d,m=a()({loader:()=>n.e(420).then(n.bind(n,99798)),loading:u}),p=a()({loader:()=>n.e(3677).then(n.bind(n,23050)),loading:u}),h=a()({loader:()=>n.e(4936).then(n.bind(n,12650)),loading:u}),g=({name:e,iconSize:t})=>{switch(t){case c.O.SMALL:return r.createElement(h,{name:e,iconSize:t},r.createElement(p,{name:e,iconSize:t},r.createElement(m,{name:e,iconSize:t},r.createElement(l.ZP,{name:e,iconSize:t}))));case c.O.MEDIUM:return r.createElement(p,{name:e,iconSize:t},r.createElement(m,{name:e,iconSize:t},r.createElement(l.ZP,{name:e,iconSize:t})));case c.O.LARGE:default:return r.createElement(m,{name:e,iconSize:t},r.createElement(l.ZP,{name:e,iconSize:t}))}};g.propTypes={name:i().string,iconSize:i().string};const f=g},16341:(e,t,n)=>{"use strict";n.d(t,{O:()=>r});const r={SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE"}},51335:(e,t,n)=>{"use strict";n.d(t,{BR:()=>u,ZP:()=>g,qD:()=>m,yJ:()=>p});var r=n(67294),o=n(45697),i=n.n(o),s=n(68356),a=n.n(s),l=n(16341),c=r.createElement("div",{className:"Icon loading"});const d=()=>c,u=a()({loader:()=>Promise.resolve().then(n.bind(n,594)),loading:d}),m=a()({loader:()=>n.e(2246).then(n.bind(n,15743)),loading:d}),p=a()({loader:()=>n.e(7070).then(n.bind(n,10409)),loading:d}),h=({name:e,iconSize:t})=>{switch(t){case l.O.SMALL:return r.createElement(p,{name:e,iconSize:t},r.createElement(m,{name:e,iconSize:t},r.createElement(u,{name:e,iconSize:t})));case l.O.MEDIUM:return r.createElement(m,{name:e,iconSize:t},r.createElement(u,{name:e,iconSize:t}));case l.O.LARGE:default:return r.createElement(u,{name:e,iconSize:t})}};h.propTypes={name:i().string,iconSize:i().string};const g=h},594:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>kd});var r=n(67294),o=n(45697),i=n.n(o),s=r.createElement("path",{fill:"#2F63F7",fillRule:"evenodd",d:"M11.06 7.646a.5.5 0 0 1 0 .708l-5 5a.5.5 0 1 1-.706-.708L10 8 5.354 3.354a.5.5 0 0 1-.058-.638l.058-.07a.5.5 0 0 1 .707 0l5 5z"});const a=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon ai-advance"},e),s)));var l=r.createElement("path",{fill:"#2F63F7",fillRule:"evenodd",d:"M9.93 1.616c.395-.328.968.08.788.56L8.71 7.529H13a.5.5 0 0 1 .383.824l-.065.063-7.25 5.97c-.395.325-.966-.082-.786-.562l1.985-5.296L3 8.53a.5.5 0 0 1-.384-.821l.064-.064 7.25-6.03zM8.335 8.528l-1.461 3.899 4.733-3.898-3.272-.001zm.784-4.938L4.383 7.529h3.259L9.119 3.59z"});const c=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon ai-auto"},e),l)));var d=r.createElement("path",{fill:"#2F63F7",d:"M13.146 7.146a.5.5 0 1 1 .708.708L9.707 12l4.147 4.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.708 0l-4.5-4.5a.5.5 0 0 1 0-.708l4.5-4.5z"});const u=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",className:"Icon ai-back"},e),d)));var m=r.createElement("path",{fill:"#2F63F7",d:"M11.974 6a6 6 0 1 1-5.972 6.59.5.5 0 1 1 .996-.097A5 5 0 1 0 7.973 9h1.25a.5.5 0 0 1 0 1h-2.5a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5l.09.008a.5.5 0 0 1 .41.492v1.335A5.994 5.994 0 0 1 11.973 6zM12 8.25a.5.5 0 0 1 .5.5v3.043l1.75 1.707a.5.5 0 0 1 .058.638l-.058.07a.5.5 0 0 1-.707 0l-1.897-1.854-.146-.147V8.75a.5.5 0 0 1 .5-.5z"});const p=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",className:"Icon ai-history"},e),m)));var h=r.createElement("path",{fill:"#2F63F7",fillRule:"evenodd",d:"M8 2c1.894 0 3.633.885 4.751 2.335L12.75 3a.5.5 0 0 1 .41-.492l.09-.008a.5.5 0 0 1 .5.5v2.5a.5.5 0 0 1-.5.5h-2.5a.5.5 0 1 1 0-1h1.251a5 5 0 1 0 .975 3.492.5.5 0 1 1 .995.098A6 6 0 1 1 8 2z"});const g=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon ai-refresh"},e),h)));var f=r.createElement("path",{fill:"#2F63F7",fillRule:"evenodd",d:"m8.354 2.646 5 5 .011.013a.503.503 0 0 1 .033.039l-.044-.052A.502.502 0 0 1 13.5 8v.01a.503.503 0 0 1-.005.064L13.5 8a.502.502 0 0 1-.146.354l-5 5a.5.5 0 0 1-.708-.708L11.792 8.5H3a.5.5 0 0 1 0-1l8.792-.001-4.146-4.145a.5.5 0 0 1-.057-.638l.057-.07a.5.5 0 0 1 .708 0z"});const E=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon ai-submit"},e),f)));var v=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#DBDCDE",rx:4}),r.createElement("path",{fill:"#323B4A",d:"M24 22.5a.75.75 0 1 1 0 1.5H8a.75.75 0 1 1 0-1.5zM14 11a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-7a1 1 0 0 1 1-1h4zm8-3a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h4zm-8.5 4.5h-3v6h3v-6zm8-3h-3v9h3v-9z"}));const b=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon align-bottom"},e),v)));var y=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#DBDCDE",rx:4}),r.createElement("path",{fill:"#323B4A",d:"M16 7.25a.75.75 0 0 1 .75.75v1H20a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-3.25v2H22a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-5.25v1a.75.75 0 0 1-.648.743L16 24.75a.75.75 0 0 1-.75-.75v-1H10a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h5.25v-2H12a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h3.25V8a.75.75 0 0 1 .648-.743zm-.75 11.25H10.5v3h4.75v-3zm6.25 0h-4.75v3h4.75v-3zm-6.25-8H12.5v3h2.75v-3zm4.25 0h-2.75v3h2.75v-3z"}));const I=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon align-center-horiz"},e),y)));var C=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#DBDCDE",rx:4}),r.createElement("path",{fill:"#323B4A",d:"M14 9a1 1 0 0 1 1 1v5.249h2V12a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3.249l1 .001a.75.75 0 0 1 .743.648l.007.102a.75.75 0 0 1-.75.75l-1-.001V20a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-3.251h-2V22a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-5.25H8a.75.75 0 0 1-.743-.648L7.25 16a.75.75 0 0 1 .75-.75h1V10a1 1 0 0 1 1-1h4zm-.5 7.749-3 .001v4.75h3v-4.751zm8 0h-3V19.5h3v-2.751zm-8-6.249h-3v4.75l3-.001V10.5zm8 2h-3v2.749h3V12.5z"}));const S=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon align-center-vert"},e),C)));var T=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#DBDCDE",rx:4}),r.createElement("path",{fill:"#323B4A",d:"M8.75 7.25A.75.75 0 0 1 9.5 8v16A.75.75 0 1 1 8 24V8a.75.75 0 0 1 .75-.75zM23 17a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H13a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h10zm-.5 1.5h-9v3h9v-3zM20 9a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h7zm-.5 1.5h-6v3h6v-3z"}));const w=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon align-left"},e),T)));var O=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#DBDCDE",rx:4}),r.createElement("path",{fill:"#323B4A",d:"M23.25 7.25A.75.75 0 0 1 24 8v16a.75.75 0 1 1-1.5 0V8a.75.75 0 0 1 .75-.75zM19 17a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h10zm-.5 1.5h-9v3h9v-3zM19 9a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h7zm-.5 1.5h-6v3h6v-3z"}));const _=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon align-right"},e),O)));var R=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#DBDCDE",rx:4}),r.createElement("path",{fill:"#323B4A",d:"M14 12a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1V13a1 1 0 0 1 1-1h4zm-.5 1.5h-3v9h3v-9zM22 12a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-7a1 1 0 0 1 1-1h4zm-.5 1.5h-3v6h3v-6zM24 8a.75.75 0 1 1 0 1.5H8A.75.75 0 0 1 8 8z"}));const A=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon align-top"},e),R)));var D=r.createElement("path",{fill:"#323B4A",fillRule:"evenodd",d:"m13 3.586-7 7-3-3L1.586 9l3.707 3.707a1 1 0 0 0 1.414 0L14.414 5 13 3.586z"});const N=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon block-style-tick"},e),D)));var x=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("circle",{cx:8,cy:8,r:8,fill:"#333"}),r.createElement("rect",{width:9.6,height:3.2,x:3.2,y:6.4,fill:"#FFF",rx:.8}));const M=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon board-access-denied"},e),x)));var P=r.createElement("path",{fill:"#FFF",fillRule:"nonzero",d:"M8.125 3.283c-3.819 0-7.15 2.626-8.076 6.369L0 9.848a11.051 11.051 0 0 1 7.849-3.282h.276v3.282L13 4.924 8.125 0v3.283Z"});const L=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:13,height:10,viewBox:"0 0 13 10",className:"Icon board-link"},e),P)));var k=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("circle",{cx:8,cy:8,r:8,fill:"#333"}),r.createElement("path",{fill:"#FFF",d:"M8 3.2a3 3 0 0 1 3 3V7h.2a.8.8 0 0 1 .8.8V11a.8.8 0 0 1-.8.8H4.8A.8.8 0 0 1 4 11V7.8a.8.8 0 0 1 .8-.8H5v-.8a3 3 0 0 1 3-3zm0 1.2a1.8 1.8 0 0 0-1.8 1.8V7h3.6v-.8A1.8 1.8 0 0 0 8 4.4z"}));const F=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon board-password-protected"},e),k)));var B=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("circle",{cx:8,cy:8,r:8,fill:"#333"}),r.createElement("path",{fill:"#FFF",d:"m13.116 6.84.155.2c.407.52.437 1.247.087 1.796l-.087.124c-2.585 3.452-7.705 3.518-10.387.199l-.155-.2a1.565 1.565 0 0 1-.087-1.796l.087-.123c2.585-3.453 7.705-3.519 10.387-.2zM7.999 6c-1.102 0-1.996.895-1.996 2s.894 2 1.996 2c1.103 0 1.997-.895 1.997-2s-.894-2-1.997-2z"}));const j=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon board-published"},e),B)));var z=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("circle",{cx:8,cy:8,r:8,fill:"#333"}),r.createElement("path",{fill:"#FFF",d:"M9.6 8c1.193 0 2.25.891 2.387 2.224L12 10.4v.2a.6.6 0 0 1-.6.6H4.6a.6.6 0 0 1-.6-.6v-.2C4 9.023 5.12 8 6.4 8h3.2zM8 4a1.6 1.6 0 1 1 0 3.2A1.6 1.6 0 0 1 8 4z"}));const U=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon board-shared-users"},e),z)));var H=r.createElement("g",{fill:"none"},r.createElement("path",{fill:"#FFF",d:"M5.293 3.707C4.663 3.077 5.109 2 6 2h7a1 1 0 0 1 1 1v7c0 .89-1.077 1.337-1.707.707l-1.34-1.34c-2.353 2.14-3.659 4.39-3.961 6.76-.13 1.018-1.527 1.203-1.917.253C3.307 12.072 3.74 8.306 6.377 5.244l.213-.24-1.297-1.297z"}),r.createElement("path",{fill:"#333",d:"M13 3H6l2 2-.225.216C4.828 8.108 4.236 11.703 6 16c.365-2.864 2.032-5.53 5-8l2 2V3z"}));const Z=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon board-shortcut"},e),H)));var G=r.createElement("path",{fill:"#2F63F7",fillRule:"evenodd",d:"M3 12a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1h-3l-2 2-2-2H3z"});const K=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon board-status-comment-only"},e),G)));var W=r.createElement("path",{fill:"#5F6672",fillRule:"evenodd",d:"M8 1.25A3.75 3.75 0 0 1 11.75 5v1H12a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h.25V5A3.75 3.75 0 0 1 8 1.25zm0 1.5A2.25 2.25 0 0 0 5.75 5v1h4.5V5A2.25 2.25 0 0 0 8 2.75z"});const V=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon board-status-read-only"},e),W)));var $=r.createElement("path",{fill:"#FFF",d:"M1 0h8a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1zm0 3v5h8V3H1z"});const q=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:10,height:9,viewBox:"0 0 10 9",className:"Icon board-template"},e),$)));var Y=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#D8D8D8",d:"M2 0h7a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2z"}),r.createElement("path",{fill:"#323B4A",d:"M5.5 7 8 3H3z"}));const X=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:11,height:10,viewBox:"0 0 11 10",className:"Icon button-toggle-down"},e),Y)));var Q=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#D8D8D8",d:"M2 0h7a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2z"}),r.createElement("path",{fill:"#323B4A",d:"M5.5 3 8 7H3z"}));const J=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:11,height:10,viewBox:"0 0 11 10",className:"Icon button-toggle-top"},e),Q)));var ee=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"none",rx:4}),r.createElement("path",{fill:"#48505E",d:"M22 8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H10a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2h12Zm0 1.5H10a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h12a.5.5 0 0 0 .5-.5V10a.5.5 0 0 0-.5-.5Zm-5.008 3 2.507 7.273h-1.647l-.54-1.659h-2.625l-.54 1.659H12.5l2.51-7.273h1.982Zm-.962 1.662h-.057l-.895 2.752h1.847l-.895-2.752Z"}));const te=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon cell-type-auto"},e),ee)));var ne=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"none",rx:4}),r.createElement("path",{fill:"#48505E",d:"M22 8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H10a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2h12Zm0 1.5H10a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h12a.5.5 0 0 0 .5-.5V10a.5.5 0 0 0-.5-.5Zm-2.025 3.17a.75.75 0 0 1 .105 1.055l-4.5 5.5a.75.75 0 0 1-1.11.055l-2.5-2.5a.75.75 0 0 1 1.06-1.06l1.914 1.913 3.976-4.858a.75.75 0 0 1 1.055-.105Z"}));const re=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon cell-type-checkbox"},e),ne)));var oe=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"none",rx:4}),r.createElement("path",{fill:"#4C596E",fillRule:"nonzero",d:"M20.388 18.8c0-4.528-6.645-2.432-6.645-5.296 0-1.003.832-1.616 2.197-1.616.968 0 1.63.317 2.29.936.458.428.641.568 1.04.448l.264-.08c.512-.155.64-.47.377-.928-.562-.972-1.804-1.714-3.167-1.947l.105-1.437c.04-.544-.224-.832-.752-.832h-.16c-.528 0-.792.288-.752.832l.1 1.39c-1.966.204-3.302 1.48-3.302 3.234 0 4.464 6.613 2.576 6.613 5.296 0 1.1-.884 1.744-2.4 1.744a3.741 3.741 0 0 1-2.835-1.254c-.466-.51-.652-.634-1.065-.464l-.171.07c-.548.225-.688.498-.424.944.662 1.122 1.993 2 3.591 2.249l-.106 1.398c-.042.544.224.832.752.832h.16c.528 0 .788-.288.752-.832l-.09-1.35c2.196-.183 3.628-1.474 3.628-3.337Z"}));const ie=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon cell-type-currency"},e),oe)));var se=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"none",rx:4}),r.createElement("path",{fill:"#323B4A",d:"M20.25 8a.75.75 0 0 1 .75.75V10h1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H10a2 2 0 0 1-2-2V12a2 2 0 0 1 2-2h1V8.75a.75.75 0 0 1 .648-.743L11.75 8a.75.75 0 0 1 .75.75V10h7V8.75a.75.75 0 0 1 .648-.743Zm2.25 8.25h-13V22a.5.5 0 0 0 .5.5h12a.5.5 0 0 0 .5-.5v-5.75ZM22 11.5H10a.5.5 0 0 0-.5.5v2.75h13V12a.5.5 0 0 0-.5-.5Z"}));const ae=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon cell-type-datetime"},e),se)));var le=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"none",rx:4}),r.createElement("path",{fill:"#48505E",fillRule:"nonzero",d:"M10.408 12.6H8.89L7 13.744v1.369l1.749-1.048h.044V19.9h1.615v-7.3Zm1.71 7.3h5.445v-1.262h-3.207v-.05l1.115-1.044c1.57-1.369 1.991-2.053 1.991-2.884 0-1.265-1.081-2.16-2.718-2.16-1.603 0-2.703.916-2.7 2.35h1.533c-.004-.7.458-1.127 1.156-1.127.67 0 1.17.399 1.17 1.04 0 .582-.372.98-1.066 1.619l-2.718 2.406V19.9Zm9.333.1c1.715 0 2.942-.902 2.938-2.15.004-.908-.6-1.557-1.722-1.693V16.1c.854-.146 1.443-.723 1.439-1.543.004-1.152-1.051-2.057-2.632-2.057-1.566 0-2.745.877-2.767 2.139h1.547c.019-.556.552-.916 1.212-.916.653 0 1.089.378 1.085.926.004.574-.507.963-1.241.963h-.713v1.133h.713c.865 0 1.405.414 1.402 1.002.003.581-.519.98-1.257.98-.712 0-1.245-.356-1.275-.89h-1.626C18.58 19.111 19.774 20 21.451 20Z"}));const ce=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon cell-type-number"},e),le)));var de=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"none",rx:4}),r.createElement("path",{fill:"#48505E",d:"M20 17.25a2.75 2.75 0 1 1 0 5.5 2.75 2.75 0 0 1 0-5.5Zm2.03-7.28a.75.75 0 0 1 0 1.06l-11 11a.75.75 0 0 1-1.06-1.06l11-11a.75.75 0 0 1 1.06 0ZM20 18.75a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5Zm-8-9.5a2.75 2.75 0 1 1 0 5.5 2.75 2.75 0 0 1 0-5.5Zm0 1.5a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5Z"}));const ue=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon cell-type-percentage"},e),de)));var me=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"none",rx:4}),r.createElement("path",{fill:"#48505E",d:"M9 20a3 3 0 0 1-3-3v-2a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v2a3 3 0 0 1-3 3H9Zm14-6.5h-5v5h5a1.5 1.5 0 0 0 1.5-1.5v-2a1.5 1.5 0 0 0-1.5-1.5Z"}));const pe=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon cell-type-progress"},e),me)));var he=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"none",rx:4}),r.createElement("path",{fill:"#48505E",d:"M15.436 7.347a.632.632 0 0 1 1.128 0l2.439 4.892 5.458.785c.479.069.69.615.42.98l-.072.081-3.95 3.807.934 5.38c.082.474-.382.843-.82.695l-.092-.04L16 21.387l-4.88 2.54a.629.629 0 0 1-.922-.556l.009-.1.932-5.379-3.948-3.807a.62.62 0 0 1 .242-1.037l.106-.024 5.457-.785 2.44-4.892ZM16 9.577l-1.66 3.331a1.5 1.5 0 0 1-1.13.816l-3.684.529 2.655 2.56A1.5 1.5 0 0 1 12.635 18l-.018.147-.63 3.636 3.32-1.728a1.5 1.5 0 0 1 1.238-.066l.147.066 3.32 1.728-.63-3.635a1.5 1.5 0 0 1 .335-1.229l.102-.108 2.654-2.559-3.684-.53a1.5 1.5 0 0 1-1.057-.687l-.072-.128L16 9.577Z"}));const ge=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon cell-type-rating"},e),he)));var fe=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"none",rx:4}),r.createElement("path",{fill:"#48505E",d:"m7.238 19.9.541-1.664h2.635l.542 1.664h1.653l-2.516-7.3h-1.99l-2.52 7.3h1.655Zm.934-2.87.898-2.762h.057l.898 2.763H8.172Zm5.214 2.87h3.12c1.639 0 2.512-.855 2.512-2.017 0-1.08-.773-1.733-1.604-1.772v-.071c.76-.171 1.319-.71 1.319-1.569 0-1.094-.813-1.871-2.424-1.871h-2.923v7.3Zm1.544-1.262V16.7h1.293c.742 0 1.202.428 1.202 1.03 0 .55-.375.91-1.237.91H14.93Zm0-2.983v-1.808h1.172c.685 0 1.073.353 1.073.88 0 .578-.47.928-1.101.928H14.93Zm11.43-.5c-.202-1.685-1.479-2.655-3.168-2.655-1.929 0-3.4 1.362-3.4 3.75 0 2.381 1.446 3.75 3.4 3.75 1.871 0 3.001-1.244 3.169-2.588l-1.562-.007c-.146.78-.759 1.23-1.582 1.23-1.109 0-1.861-.824-1.861-2.385 0-1.519.741-2.385 1.871-2.385.845 0 1.455.489 1.572 1.29h1.562Z"}));const Ee=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon cell-type-text"},e),fe)));var ve=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:16,height:16,fill:"#CBCED2",className:"fill",rx:2}),r.createElement("path",{stroke:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m4 8 3 3 5-5",className:"tick"})),be=r.createElement("rect",{width:15,height:15,x:.5,y:.5,fill:"none",stroke:"#333D4E",className:"border",rx:2});const ye=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon checkbox-animated"},e),ve,be)));var Ie=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:16,height:16,fill:"#CBCED2",rx:2}),r.createElement("path",{stroke:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m4 8 3 3 5-5"}));const Ce=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon checkbox-checked"},e),Ie)));var Se=r.createElement("g",{fill:"none",fillRule:"nonzero"},r.createElement("path",{fill:"#FFF",d:"m4.412 6.174-4.24 4.24 7.535 7.536L21.243 4.414 17 .172 7.706 9.457z",className:"checkbox-tick-border"}),r.createElement("path",{fill:"#b5b5b5",d:"M7.707 15.121 18.414 4.414 17 3l-9.293 9.282L4.414 9 3 10.414z",className:"checkbox-tick-path"}));const Te=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:22,height:18,viewBox:"0 0 22 18",className:"Icon checkbox-tick"},e),Se)));var we=r.createElement("rect",{width:15,height:15,x:.5,y:.5,fill:"#FFF",fillRule:"evenodd",stroke:"#333D4E",rx:2});const Oe=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon checkbox-unchecked"},e),we)));var _e=r.createElement("path",{fillOpacity:.85,d:"M0 8.477a.88.88 0 0 0 .273.644l7.745 7.568a.84.84 0 0 0 .634.264c.508 0 .899-.38.899-.889a.917.917 0 0 0-.264-.634l-7.11-6.953 7.11-6.954A.936.936 0 0 0 9.551.89.876.876 0 0 0 8.652 0a.869.869 0 0 0-.634.254L.273 7.832A.864.864 0 0 0 0 8.477Z"});const Re=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:9.551,height:16.963,className:"Icon chevron-left-large"},e),_e)));var Ae=r.createElement("path",{fill:"#777",fillRule:"nonzero",d:"M5.067 8.183a.625.625 0 1 1-.884.884l-4-4a.625.625 0 0 1 0-.884l4-4a.625.625 0 0 1 .884.884L1.509 4.625l3.558 3.558Z"});const De=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:6,height:10,viewBox:"0 0 6 10",className:"Icon chevron-left"},e),Ae)));var Ne=r.createElement("path",{fill:"#FFF",fillRule:"evenodd",d:"M14.69 12 8.22 5.53a.75.75 0 0 1 1.06-1.06l7 7a.75.75 0 0 1 0 1.06l-7 7a.75.75 0 0 1-1.06-1.06L14.69 12z"});const xe=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",className:"Icon chevron-right-large"},e),Ne)));var Me=r.createElement("path",{fill:"#F4511C",fillRule:"evenodd",d:"M9.44 8 6.97 5.53a.749.749 0 1 1 1.06-1.06l3 3a.749.749 0 0 1 0 1.06l-3 3a.749.749 0 1 1-1.06-1.06L9.44 8z"});const Pe=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon chevron-right-orange"},e),Me)));var Le=r.createElement("path",{fill:"#323B4A",fillRule:"evenodd",d:"M9.44 8 6.97 5.53a.749.749 0 1 1 1.06-1.06l3 3a.749.749 0 0 1 0 1.06l-3 3a.749.749 0 1 1-1.06-1.06L9.44 8z"});const ke=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon chevron-right"},e),Le)));var Fe=r.createElement("path",{fill:"#A3A7AE",fillRule:"evenodd",d:"M12 4a8 8 0 1 1 0 16 8 8 0 0 1 0-16zm0 1.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13zm0 2.25a.75.75 0 0 1 .743.648l.007.102v3.237l1.836 2.294a.752.752 0 0 1-.117 1.055.752.752 0 0 1-.98-.036l-.075-.081-2.164-2.706V8.5a.75.75 0 0 1 .75-.75z"});const Be=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",className:"Icon clock"},e),Fe)));var je=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("circle",{cx:8,cy:8,r:8,fill:"#1B2536"}),r.createElement("path",{fill:"#FFF",d:"M11.36 6.4a.64.64 0 0 1 .64.64v4.32a.64.64 0 0 1-.64.64H7.04a.64.64 0 0 1-.64-.64V7.04a.64.64 0 0 1 .64-.64zM8.8 4a.8.8 0 0 1 .8.8v.8H7.2a1.6 1.6 0 0 0-1.6 1.6v2.4h-.8a.8.8 0 0 1-.8-.8v-4a.8.8 0 0 1 .8-.8z"}));const ze=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon clone-outlined"},e),je)));var Ue=r.createElement("path",{fill:"#1B2536",fillRule:"evenodd",d:"M15 7v6a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2zm-2-1H7a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zm-2-3v2h-1V3a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2v1H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2z"});const He=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon clone"},e),Ue)));var Ze=r.createElement("g",{fill:"#FFF",fillRule:"evenodd"},r.createElement("path",{d:"M7.496.592a.854.854 0 0 1 1.21.002c.335.335.332.88.002 1.21l-6.49 6.49a.854.854 0 0 1-1.21-.002.859.859 0 0 1-.002-1.21l6.49-6.49Z"}),r.createElement("path",{d:"M1.006 1.804a.854.854 0 0 1 .002-1.21.859.859 0 0 1 1.21-.002l6.49 6.49a.854.854 0 0 1-.002 1.21.859.859 0 0 1-1.21.002l-6.49-6.49Z"}));const Ge=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:9,height:9,viewBox:"0 0 9 9",className:"Icon close-x-small"},e),Ze)));var Ke=r.createElement("path",{fill:"#777",fillRule:"evenodd",d:"m6.63 5.857 3.89-3.89a.674.674 0 1 0-.954-.955l-3.891 3.89-3.89-3.89a.674.674 0 1 0-.955.955l3.89 3.89-3.89 3.89a.674.674 0 1 0 .954.955l3.891-3.89 3.89 3.89a.674.674 0 1 0 .955-.954l-3.89-3.89Z"});const We=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:11,height:11,viewBox:"0 0 11 11",className:"Icon close-x"},e),Ke)));var Ve=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#9B28B4",d:"m5.942 15.497-3.46 2a11.04 11.04 0 0 0 4.022 4.022l1.998-3.462a7.022 7.022 0 0 1-2.56-2.56"}),r.createElement("path",{fill:"#491FA9",d:"M5 12H1c0 2.004.544 3.877 1.481 5.496l3.461-1.999A6.968 6.968 0 0 1 5 12"}),r.createElement("path",{fill:"#FE0101",d:"m21.519 17.488-3.448-1.991a7.01 7.01 0 0 1-2.552 2.551l1.992 3.449a10.991 10.991 0 0 0 4.008-4.009"}),r.createElement("path",{fill:"#D521C2",d:"M8.502 18.057 6.504 21.52A10.937 10.937 0 0 0 12 23v-4a6.96 6.96 0 0 1-3.498-.943"}),r.createElement("path",{fill:"#B7123B",d:"M12 19v4c2.004 0 3.877-.545 5.496-1.481l-1.999-3.462A6.959 6.959 0 0 1 12 19"}),r.createElement("path",{fill:"#0246FF",d:"m5.942 8.502-3.46-1.999A10.934 10.934 0 0 0 1 12h4c0-1.276.346-2.468.942-3.498"}),r.createElement("path",{fill:"#FEB800",d:"M19 12h4c0-2.004-.544-3.877-1.481-5.496l-3.461 1.998A6.972 6.972 0 0 1 19 12"}),r.createElement("path",{fill:"#FFFB06",d:"m18.058 8.502 3.46-1.999a11.029 11.029 0 0 0-4.022-4.022l-2 3.461a7.025 7.025 0 0 1 2.562 2.56"}),r.createElement("path",{fill:"#FF7E02",d:"m18.058 15.497 3.46 2A10.943 10.943 0 0 0 23 12h-4a6.958 6.958 0 0 1-.942 3.497"}),r.createElement("path",{fill:"#C7ED03",d:"m15.497 5.942 1.999-3.46A10.933 10.933 0 0 0 12 1v4c1.275 0 2.467.346 3.497.942"}),r.createElement("path",{fill:"#0098D0",d:"m8.502 5.942-1.999-3.46a11.029 11.029 0 0 0-4.022 4.022l3.461 1.998a7.022 7.022 0 0 1 2.56-2.56"}),r.createElement("path",{fill:"#15B42A",d:"M12 5V1c-2.004 0-3.877.544-5.496 1.481l1.998 3.461A6.962 6.962 0 0 1 12 5"}));const $e=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",className:"Icon color-wheel"},e),Ve)));var qe=r.createElement("path",{fill:"#1B2536",fillOpacity:.3,fillRule:"evenodd",d:"M12 8a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1 0-1h7a.5.5 0 0 1 .5.5z"});const Ye=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon column-collapse"},e),qe)));var Xe=r.createElement("path",{fill:"#A3A7AE",fillRule:"evenodd",d:"m11 9-3 3-3-3h6zM8 4l3 3H5l3-3z"});const Qe=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon column-expand"},e),Xe)));var Je=r.createElement("defs",null,r.createElement("filter",{id:"CommentPinIcon__a",width:"141.7%",height:"134.5%",x:"-20.8%",y:"-13.8%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:1.5}),r.createElement("feComposite",{in:"shadowBlurOuter1",in2:"SourceAlpha",operator:"out",result:"shadowBlurOuter1"}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0.196078431 0 0 0 0 0.231372549 0 0 0 0 0.290196078 0 0 0 0.3 0"})),r.createElement("path",{id:"CommentPinIcon__b",d:"M3.515 3.515c4.686-4.687 12.283-4.688 16.97 0 4.687 4.686 4.688 12.283 0 16.97L12 28.971l-8.485-8.486c-4.687-4.686-4.688-12.283 0-16.97z"})),et=r.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(3 2)"},r.createElement("use",{xlinkHref:"#CommentPinIcon__b",fill:"#000",filter:"url(#CommentPinIcon__a)"}),r.createElement("path",{fill:"#2F63F7",stroke:"#FFF",strokeLinejoin:"square",strokeWidth:2,d:"M12 1c2.815 0 5.63 1.074 7.778 3.222A10.965 10.965 0 0 1 23 12c0 2.815-1.074 5.63-3.222 7.778L12 27.556l-7.778-7.778A10.965 10.965 0 0 1 1 12c0-2.815 1.074-5.63 3.222-7.778A10.965 10.965 0 0 1 12 1z"}));const tt=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:30,height:35,viewBox:"0 0 30 35",className:"Icon comment-pin"},e),Je,et)));var nt=r.createElement("path",{fill:"#BBBEC3",fillRule:"evenodd",d:"M8 7c1.633 0 3.086.813 4 2.031C12.914 7.812 14.367 7 16 7h2a1 1 0 0 1 0 2h-2c-1.668 0-3 1.332-3 3v10h2a1 1 0 0 1 0 2h-2v12c0 1.668 1.332 3 3 3h2a1 1 0 0 1 0 2h-2c-1.633 0-3.086-.813-4-2.031C11.086 40.187 9.633 41 8 41H6a1 1 0 0 1 0-2h2c1.668 0 3-1.332 3-3V24H9a1 1 0 0 1 0-2h2V12c0-1.668-1.332-3-3-3H6a1 1 0 0 1 0-2zm32.537 6L41 19.8h-1.42c-1.697-4.042-2.13-5.17-4.815-5.17h-1.82v16.61c0 1.848 1.018 2.193 3.055 2.256V35H25.97v-1.504c2.067-.063 3.055-.408 3.055-2.257V14.63h-1.79c-2.686 0-3.118 1.129-4.846 5.172H21L21.463 13h19.074z"});const rt=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,viewBox:"0 0 48 48",className:"Icon content-empty"},e),nt)));var ot=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("circle",{cx:20,cy:20,r:20,fill:"#E60B0B"}),r.createElement("g",{fill:"#FFF"},r.createElement("path",{d:"m26.586 10.586-16 16 2.828 2.828 16-16z"}),r.createElement("path",{d:"m26.586 29.414 2.828-2.828-16-16-2.828 2.828z"})));const it=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:40,height:40,viewBox:"0 0 40 40",className:"Icon cross-large"},e),ot)));var st=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("circle",{cx:10,cy:10,r:10,fill:"#E60B0B"}),r.createElement("g",{fill:"#FFF"},r.createElement("path",{d:"m13.293 5.293-8 8 1.414 1.414 8-8z"}),r.createElement("path",{d:"m13.293 14.707 1.414-1.414-8-8-1.414 1.414z"})));const at=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",className:"Icon cross-small"},e),st)));var lt=r.createElement("defs",null,r.createElement("filter",{id:"CursorRemoteEraserIcon__a",width:"201.3%",height:"205.6%",x:"-50.6%",y:"-47.2%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:1}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",result:"shadowMatrixOuter1",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),r.createElement("feMerge",null,r.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),r.createElement("feMergeNode",{in:"SourceGraphic"}))),r.createElement("filter",{id:"CursorRemoteEraserIcon__b",width:"153.3%",height:"155.6%",x:"-26.6%",y:"-22.2%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:1.5}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0.196078431 0 0 0 0 0.231372549 0 0 0 0 0.290196078 0 0 0 0.3 0"})),r.createElement("path",{id:"CursorRemoteEraserIcon__c",d:"M10.83.885a3.02 3.02 0 0 1 4.272 0l2.776 2.776a3.02 3.02 0 0 1 0 4.271l-9.482 9.482A2 2 0 0 1 6.982 18H4.825a2.517 2.517 0 0 1-1.78-.737l-2.16-2.161a3.02 3.02 0 0 1 0-4.272L10.83.885z"})),ct=r.createElement("g",{fill:"none",fillRule:"evenodd",filter:"url(#CursorRemoteEraserIcon__a)",transform:"translate(3 3)"},r.createElement("use",{xlinkHref:"#CursorRemoteEraserIcon__c",fill:"#000",filter:"url(#CursorRemoteEraserIcon__b)"}),r.createElement("use",{xlinkHref:"#CursorRemoteEraserIcon__c",fill:"#2F63F7"}),r.createElement("path",{fill:"#FFF",d:"m5.323 8.527 4.911 4.911-2.612 2.613a1.5 1.5 0 0 1-.912.432l-.148.007H4.825l-.132-.009a1.007 1.007 0 0 1-.58-.286l-2.16-2.161-.098-.108a1.51 1.51 0 0 1 .097-2.028l3.371-3.37zm6.683-6.672a1.51 1.51 0 0 1 2.028.097L16.81 4.73l.098.107a1.51 1.51 0 0 1-.098 2.028l-5.508 5.506-4.91-4.91 5.506-5.508z"}));const dt=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:24,height:24,className:"Icon cursor-remote-eraser"},e),lt,ct)));var ut=r.createElement("defs",null,r.createElement("filter",{id:"CursorRemotePenIcon__a",width:"203.3%",height:"203.6%",x:"-51.7%",y:"-46.3%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:1}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",result:"shadowMatrixOuter1",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),r.createElement("feMerge",null,r.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),r.createElement("feMergeNode",{in:"SourceGraphic"}))),r.createElement("filter",{id:"CursorRemotePenIcon__b",width:"154.4%",height:"154.5%",x:"-27.2%",y:"-21.8%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:1.5}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0.196078431 0 0 0 0 0.231372549 0 0 0 0 0.290196078 0 0 0 0.3 0"})),r.createElement("path",{id:"CursorRemotePenIcon__c",d:"m16.52.553.13.12 1.062 1.063c.8.8.894 2.052.249 2.959l-.108.14-1.682 2.02a2.485 2.485 0 0 1-.53 1.062l-.141.153-5.744 5.643a9.5 9.5 0 0 1-2.13 1.601l-.34.178-2.838 1.42a1.497 1.497 0 0 1-.544.153l-2.472 1.182a1 1 0 0 1-1.378-1.226l.045-.108 1.183-2.468c.012-.14.043-.279.095-.413l.058-.133 1.42-2.839a9.5 9.5 0 0 1 1.514-2.193l.265-.276L10.38 2.95a2.49 2.49 0 0 1 1.01-.616l2.162-1.8a2.3 2.3 0 0 1 2.969.02z"})),mt=r.createElement("g",{fill:"none",fillRule:"evenodd",filter:"url(#CursorRemotePenIcon__a)",transform:"translate(3 3)"},r.createElement("use",{xlinkHref:"#CursorRemotePenIcon__c",fill:"#000",filter:"url(#CursorRemotePenIcon__b)"}),r.createElement("use",{xlinkHref:"#CursorRemotePenIcon__c",fill:"#2F63F7"}),r.createElement("path",{fill:"#FFF",d:"M11.534 3.926a1 1 0 0 1 1.225 0l.095.083 1.585 1.586.084.094a1 1 0 0 1 0 1.226l-.084.094-5.744 5.643-.266.254a8 8 0 0 1-1.488 1.072l-.325.172-2.839 1.42-1-1 1.42-2.839.172-.325A8 8 0 0 1 5.44 9.918l.254-.266 5.744-5.643zM14.662 1.7a.7.7 0 0 1 .856.105l1.063 1.063.07.08a.7.7 0 0 1-.027.863l-.86 1.033a2.518 2.518 0 0 0-.264-.31L13.914 2.95l-.123-.115a2.5 2.5 0 0 0-.262-.201l1.046-.87z"}));const pt=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:24,height:24,className:"Icon cursor-remote-pen"},e),ut,mt)));var ht=r.createElement("defs",null,r.createElement("filter",{id:"CursorRemoteSelectIcon__a",width:"244%",height:"160.9%",x:"-76%",y:"-34.5%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:1}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",result:"shadowMatrixOuter1",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),r.createElement("feMerge",null,r.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),r.createElement("feMergeNode",{in:"SourceGraphic"}))),r.createElement("filter",{id:"CursorRemoteSelectIcon__b",width:"186.9%",height:"167.4%",x:"-43.5%",y:"-27%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:1.5}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0.196078431 0 0 0 0 0.231372549 0 0 0 0 0.290196078 0 0 0 0.3 0"})),r.createElement("path",{id:"CursorRemoteSelectIcon__c",d:"m0 14.086.006.102a.75.75 0 0 0 1.267.436l3.686-3.58h5.791a.75.75 0 0 0 .531-1.28L1.984.444C1.12-.421 0 .046 0 1.265v12.822z"})),gt=r.createElement("g",{fill:"none",fillRule:"evenodd",filter:"url(#CursorRemoteSelectIcon__a)",transform:"rotate(-15 51.375 -32.947)"},r.createElement("use",{xlinkHref:"#CursorRemoteSelectIcon__c",fill:"#000",filter:"url(#CursorRemoteSelectIcon__b)"}),r.createElement("use",{xlinkHref:"#CursorRemoteSelectIcon__c",fill:"#2F63F7"}),r.createElement("path",{fill:"#FFF",d:"m1.5 2.083 7.443 7.46H4.675a.75.75 0 0 0-.476.171l-.13.107L1.5 12.313V2.083z"}));const ft=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:37,height:43,className:"Icon cursor-remote-select"},e),ht,gt)));var Et=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#DBDCDE",rx:4}),r.createElement("path",{fill:"#323B4A",d:"M8.5 7.25a.75.75 0 0 1 .75.75v16a.75.75 0 1 1-1.5 0V8a.75.75 0 0 1 .75-.75zm15 0a.75.75 0 0 1 .75.75v16a.75.75 0 1 1-1.5 0V8a.75.75 0 0 1 .75-.75zM19 10a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1V11a1 1 0 0 1 1-1h6zm-.5 1.5h-5v9h5v-9z"}));const vt=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon distribute-horizontally"},e),Et)));var bt=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#DBDCDE",rx:4}),r.createElement("path",{fill:"#323B4A",d:"M24 23.5a.75.75 0 1 1 0 1.5H8a.75.75 0 1 1 0-1.5zM21 12a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H11a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1h10zm-.5 1.5h-9v5h9v-5zM24 7a.75.75 0 1 1 0 1.5H8A.75.75 0 0 1 8 7z"}));const yt=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon distribute-vertically"},e),bt)));var It=r.createElement("defs",null,r.createElement("filter",{id:"DragIcon__a",width:"181.2%",height:"181.2%",x:"-40.6%",y:"-40.6%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:1}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",result:"shadowMatrixOuter1",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),r.createElement("feMerge",null,r.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),r.createElement("feMergeNode",{in:"SourceGraphic"})))),Ct=r.createElement("g",{fill:"none",fillRule:"evenodd",filter:"url(#DragIcon__a)",transform:"translate(4.022 2.975)"},r.createElement("path",{fill:"#000",d:"M3.283 6.641a2.363 2.363 0 0 0-1.46-.63c-.76-.134-1.534.352-1.756 1.13a2.133 2.133 0 0 0 .228 1.615c.105.183.232.355.448.606l.573.652.157.188c.043.055.08.105.117.158l.234.367.89 1.457c.058.09.102.158.128.191l.847.941.79.748c.138.13.264.242.385.346.06.052.11.181.131.371.018.16.012.34-.008.513l-.018.12a.375.375 0 0 0 .369.446l.78.01 1.334.025.496-.002c.233-.004.408-.016.574-.036.417-.049.824-.494 1.226-1.126l.12-.191c.353.648.802 1.212 1.283 1.285.452.05.891.05 1.326.003a.376.376 0 0 0 .323-.471 3.027 3.027 0 0 1-.107-.82 3.687 3.687 0 0 1 .09-.919 7.079 7.079 0 0 1 1.104-1.643 6.3 6.3 0 0 0 .863-1.591c.027-.092.053-.189.078-.297l.098-.47c.265-1.475.563-2.937.894-4.388.064-.388.064-.8-.002-1.205-.145-.415-.405-.696-.742-.848a1.37 1.37 0 0 0-1.064-.03 1.758 1.758 0 0 0-.854.712c-.12.176-.237.368-.345.567v-1.63a2.244 2.244 0 0 0-.578-1.403c-.523-.457-1.21-.574-1.815-.336a1.92 1.92 0 0 0-.701.56l-.006-.091A1.552 1.552 0 0 0 8.8.183a2.082 2.082 0 0 0-1.707 0c-.52.25-.857.754-.89 1.32l-.046.33-.025.24-.008.099-.002.073c-.021.386-.03.722-.027 1.142a7.874 7.874 0 0 0-.7-1.421 2.441 2.441 0 0 0-1.088-.935c-.662-.187-1.318-.018-1.772.425a1.82 1.82 0 0 0-.386 1.513c.13.522.29 1.018.478 1.502l.244.55c.085.192.142.328.193.46l.057.152c.025.072.05.136.078.204l.214.5c.036.088.063.161.09.246l.113.365a8.037 8.037 0 0 0-.334-.307z"}),r.createElement("path",{fill:"#FFF",d:"m4.696 8.107-.138-.555a20.481 20.481 0 0 0-.251-.915l-.081-.262a4.792 4.792 0 0 0-.161-.427l-.172-.396-.129-.342-.144-.35-.299-.675c-.172-.442-.32-.908-.44-1.382a1.053 1.053 0 0 1 .21-.846c.232-.22.612-.319.967-.22.26.117.522.342.703.628.223.357.415.735.571 1.127l.112.297c.276.707.474 1.43.593 2.166l.093.463c.089.445.743.38.743-.073l-.001-1.393-.024-1.394-.002-.458c.001-.143.004-.279.008-.416l.024-.52.015-.151.055-.431a.836.836 0 0 1 .463-.72 1.331 1.331 0 0 1 1.083.005.797.797 0 0 1 .47.68l.024.334.065.754v3.653c.04.191.164.287.373.287.21 0 .335-.096.377-.289v-.011c.023-1.296.135-2.595.335-3.883.078-.258.294-.512.58-.649a.991.991 0 0 1 .994.185c.198.222.333.546.351.886v3.56c.023.175.132.263.329.263.196 0 .33-.06.403-.177.05-.155.103-.307.164-.468l.245-.618.184-.43.018-.037c.11-.216.24-.433.381-.64.124-.2.295-.344.498-.423a.623.623 0 0 1 .811.369c.027.205.033.458.007.717l-.025.194c-.034.277-.284 1.476-.752 3.598l-.106.59-.088.447-.05.222-.044.168a5.548 5.548 0 0 1-.732 1.353 7.468 7.468 0 0 0-1.229 1.876 4.268 4.268 0 0 0-.134 1.166c-.001.187.012.377.04.566a5.49 5.49 0 0 1-.736-.028c-.11-.017-.428-.405-.647-.776l-.063-.11a.749.749 0 0 0-.67-.406.754.754 0 0 0-.675.417c-.274.451-.65.893-.758.905l-.225.02-.33.012c-.127.002-.274.002-.448 0l-1.678-.031a2.694 2.694 0 0 0-.012-.412c-.039-.362-.155-.66-.39-.86l-.234-.208-.898-.846-.803-.893-.118-.184-.741-1.224a20.028 20.028 0 0 0-.348-.55l-.11-.15-.126-.158a16.584 16.584 0 0 0-.266-.307l-.38-.43a3.336 3.336 0 0 1-.384-.512 1.38 1.38 0 0 1-.152-1.042.832.832 0 0 1 .838-.594l.105.011c.416.03.772.185 1.046.444.266.23.504.468.724.722l.068.084.246.342.253.334c.127.126.281.158.462.095.272-.095.182-.637.163-.668z"}),r.createElement("path",{fill:"#000",d:"M11.353 8.53c.18 0 .332.128.367.299l.008.075v3.452a.375.375 0 0 1-.743.075l-.007-.075V8.904c0-.207.167-.374.375-.374zm-2.001 0c.18 0 .332.127.368.297l.008.075.01 3.454a.375.375 0 0 1-.743.077l-.007-.075-.01-3.454a.373.373 0 0 1 .374-.374zm-1.997-.005a.376.376 0 0 1 .37.3l.008.075.02 3.445a.377.377 0 0 1-.373.38.38.38 0 0 1-.37-.3l-.007-.076-.02-3.444a.375.375 0 0 1 .372-.38z"}));const St=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",className:"Icon drag"},e),It,Ct)));var Tt=r.createElement("path",{fill:"#48505E",fillRule:"evenodd",d:"m11 8 5-4-5-4 .001 3.25H6a6 6 0 1 0 0 12h2.25a.75.75 0 0 0 0-1.5H6a4.5 4.5 0 0 1-4.495-4.288L1.5 9.25a4.5 4.5 0 0 1 4.288-4.495L6 4.75h5.001L11 8z"});const wt=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon drawing-editor-redo"},e),Tt)));var Ot=r.createElement("path",{fill:"#48505E",fillRule:"evenodd",d:"M14.389.387a.99.99 0 0 1-.107 1.327l-.088.075-2.857 2.112-1.508 1.13-.945.718-.69.529-.933.724-.837.66-.766.618-.72.597-.469.398-.465.407-.21.189-.383.351-.175.166-.322.317-.292.307a10.9 10.9 0 0 0-.273.306 4.865 4.865 0 0 0-.397.525 2.23 2.23 0 0 0-.107.18l-.026.053.045-.004a6.96 6.96 0 0 0 .995-.204l.21-.057.267-.077.558-.172.606-.202.692-.242 1.172-.43L9.157 9.63l.987-.357.159-.056c.189-.065.36-.122.528-.174l.357-.107c.262-.074.444-.118.658-.147l.202-.02a1.2 1.2 0 0 1 .42.042c.074.022.154.057.258.119.116.08.224.19.272.288a.848.848 0 0 1 .107.277c.019.088.022.15.019.253-.008.12-.028.213-.062.312l-.063.157c-.043.09-.089.173-.137.25-.05.078-.097.15-.15.221l-.17.224c-.064.079-.135.164-.218.262l-.227.256-.23.251-.374.394-.288.293-2.273 2.258-.138.14 1.797-.5.662-.173.38-.09.179-.038.343-.064c.057-.01.113-.02.17-.028l.344-.047a7.925 7.925 0 0 1 1.7-.033c.65.073 1.22.23 1.716.498.56.29 1.039.74 1.366 1.278.12.196.222.404.305.623l.076.222c.073.235.122.459.149.687l.018.23a.639.639 0 0 1-1.263.168l-.015-.105a2.538 2.538 0 0 0-.376-1.14 2.201 2.201 0 0 0-.875-.793c-.338-.177-.75-.284-1.23-.33a6.433 6.433 0 0 0-1.397.049c-.462.063-.935.167-1.53.331l-2.073.607-.303.083-.27.069-.27.062-.24.046-.206.03a1.99 1.99 0 0 1-.57.006 1.034 1.034 0 0 1-.454-.17l-.12-.09-.07-.071-.047-.057-.04-.063a.825.825 0 0 1-.096-.245l-.014-.103-.004-.061c0-.04.002-.074.007-.112l.035-.162.035-.1c.052-.124.102-.213.174-.32l.121-.17.172-.215.18-.213.206-.23.524-.557 2.045-2.087.39-.408.164-.178-.685.26-3.386 1.333-.755.288-.705.258c-.554.198-1.04.36-1.518.501l-.45.126c-.48.127-.824.193-1.24.232a2.853 2.853 0 0 1-.565-.009 1.74 1.74 0 0 1-.39-.097 1.231 1.231 0 0 1-.49-.335c-.357-.4-.48-.99-.36-1.48.078-.35.214-.647.422-.977.152-.243.323-.475.523-.716.28-.334.559-.639.883-.964l.342-.335.382-.36.434-.395.239-.215.475-.416.481-.413.752-.63.813-.665.902-.725L8.084 3.97l1.771-1.374 1.64-1.255L12.994.203a1.002 1.002 0 0 1 1.395.184z"});const _t=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,viewBox:"0 0 18 18",className:"Icon drawing-editor-stroke-1"},e),Ot)));var Rt=r.createElement("path",{fill:"#48505E",fillRule:"evenodd",d:"M14.792.622a1.606 1.606 0 0 1-.173 2.182l-.155.126-2.57 1.855-2.145 1.573-1.61 1.208-.824.631-.984.773-.684.554-.444.368-.463.396-.407.36c-.127.115-.246.225-.359.332l-.227.22.356-.107.564-.18.887-.303 1.044-.375 2.685-.984.556-.196.358-.122.396-.129.36-.107.286-.078.167-.039c.157-.034.264-.055.392-.07l.136-.013.152-.005.114.004.117.01c.072.011.142.025.222.046.113.033.244.09.365.163.085.056.167.124.237.196.077.078.144.166.182.237.04.068.075.14.105.218.026.068.037.112.056.2a1.31 1.31 0 0 1 .025.343 1.54 1.54 0 0 1-.072.388l-.07.183-.02.044c-.049.103-.103.2-.16.289-.107.165-.2.294-.33.452l-.228.269-.278.306-.289.305-.153.157-.334.335-1.23 1.193.558-.145a12.406 12.406 0 0 1 1.476-.294l.182-.022a7.929 7.929 0 0 1 1.697-.02c.663.077 1.246.24 1.759.52a3.662 3.662 0 0 1 1.423 1.338c.165.27.296.563.39.871a3.734 3.734 0 0 1 .149.698l.017.18.004.093a.93.93 0 0 1-.912.95.932.932 0 0 1-.941-.747l-.03-.236-.021-.12a1.935 1.935 0 0 0-.068-.243 1.927 1.927 0 0 0-.214-.442 1.735 1.735 0 0 0-.706-.622c-.278-.141-.627-.228-1.04-.264a5.852 5.852 0 0 0-1.246.056l-.231.036-.227.041-.235.051-.392.098-.475.134-1.892.565-.307.085-.287.071-.147.034-.244.048-.108.018-.15.02c-.182.02-.31.027-.465.016l-.169-.018-.13-.025-.076-.021-.143-.05-.104-.048-.105-.06a.959.959 0 0 1-.155-.115l-.058-.053-.074-.08a.85.85 0 0 1-.115-.153 1.213 1.213 0 0 1-.143-.348 1.378 1.378 0 0 1-.03-.246v-.04l.005-.088.007-.056a1.77 1.77 0 0 1 .018-.109l.011-.044a1.758 1.758 0 0 1 .156-.381l.086-.143c.049-.075.098-.146.151-.217.098-.127.199-.251.305-.376l.168-.193.187-.204.393-.419.958-.987-1.739.697-1.152.442-.364.134c-.535.195-1.003.353-1.466.493-.284.085-.537.154-.793.214-.345.08-.616.127-.928.155-.186.014-.33.017-.491.006l-.236-.026-.103-.018-.137-.033-.094-.028-.136-.05-.044-.02a1.643 1.643 0 0 1-.163-.08L.79 13.9l-.09-.07a1.99 1.99 0 0 1-.168-.162l-.075-.087-.13-.185a1.735 1.735 0 0 1-.083-.137l-.029-.06a3.876 3.876 0 0 1-.098-.232l-.022-.066-.044-.174a1.43 1.43 0 0 1-.04-.234l-.01-.247-.001-.04c.006-.135.022-.27.05-.423.092-.411.234-.721.47-1.104.16-.255.333-.492.538-.74l.138-.164.278-.315c.14-.155.286-.308.442-.466l.328-.324.37-.35.657-.603.454-.399.459-.397.715-.604.507-.42.825-.672.928-.743 1.788-1.41 2.122-1.64L12.496.339a1.654 1.654 0 0 1 2.296.283z"});const At=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,viewBox:"0 0 18 18",className:"Icon drawing-editor-stroke-2"},e),Rt)));var Dt=r.createElement("path",{fill:"#48505E",fillRule:"nonzero",d:"m11.842.507-.372.287-2.557 1.991-1.107.875-1.5 1.205-.797.652-.719.599-.449.382-.646.562-.653.586-.403.375-.352.337-.313.311-.286.3-.272.303c-.09.103-.18.208-.272.319a7.253 7.253 0 0 0-.554.768c-.284.467-.425.797-.528 1.26a3.4 3.4 0 0 0-.062.523l.004.201c.007.17.025.307.06.45l.04.16c.014.056.029.101.046.15.04.107.082.203.129.3.035.077.077.15.145.254l.102.147.114.145.153.161.124.112c.082.068.14.11.246.178.11.07.208.122.325.172l.186.074.087.028.181.049.14.029.118.018.23.023c.181.012.337.01.57-.007.326-.03.594-.077.974-.166l.186-.046.386-.107c.067-.02.137-.04.209-.063l.265-.083.549-.185.584-.21.44-.167a4.27 4.27 0 0 0-.156.227l-.068.11-.08.147-.092.212-.074.252-.024.137-.014.144-.002.11c.002.122.017.242.043.357a1.685 1.685 0 0 0 .305.639l.078.09.082.085.08.074c.073.064.14.113.215.16l.16.089.12.055.186.065.109.03.174.033c.275.035.446.035.717.004l.18-.023.262-.049.268-.06.314-.082.341-.097 1.24-.382.797-.237.343-.092.197-.046.279-.055.189-.03a5.077 5.077 0 0 1 1.043-.06c.318.025.583.087.776.181.199.092.349.22.47.395.057.085.107.184.147.294l.027.083.033.13.013.082.007.08c.083.688.677 1.2 1.374 1.189l.131-.008a1.354 1.354 0 0 0 1.204-1.229l.003-.118H18l-.017-.178-.01-.195h-.01l-.009-.067-.02-.127a4.025 4.025 0 0 0-.117-.484 3.976 3.976 0 0 0-.408-.917 3.896 3.896 0 0 0-1.512-1.428c-.523-.286-1.12-.464-1.82-.549l-.325-.028a8.425 8.425 0 0 0-1.373.034l-.136.018.16-.157.244-.25.335-.359.187-.214c.158-.187.272-.337.397-.528.068-.105.132-.218.191-.34l.054-.122.062-.17.04-.139.016-.076.024-.137a1.79 1.79 0 0 0 .015-.181l.002-.093-.008-.17a2.114 2.114 0 0 0-.108-.47 1.978 1.978 0 0 0-.151-.31l-.078-.12-.096-.123-.078-.084a1.886 1.886 0 0 0-.348-.285 2.118 2.118 0 0 0-.51-.226l-.153-.036-.2-.031-.09-.008-.142-.005-.084.001-.114.005-.156.014-.099.012-.203.035-.122.025-.32.075-.496.14-.385.12-.54.18-.584.201-1.125.397.422-.318.546-.406.905-.665.946-.686 1.728-1.233 2.438-1.714.185-.149a2.34 2.34 0 0 0 .37-3.097l-.102-.136a2.443 2.443 0 0 0-3.376-.384z"});const Nt=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,viewBox:"0 0 18 18",className:"Icon drawing-editor-stroke-3"},e),Dt)));var xt=r.createElement("path",{fill:"#48505E",fillRule:"nonzero",d:"m10.86.666-.328.254-2.26 1.759-.983.777-1.33 1.068-.71.581-.642.536-.404.343-.58.503-.588.53-.37.342-.32.308-.292.29-.272.284-.26.29c-.096.109-.18.208-.268.314a7.375 7.375 0 0 0-.573.793c-.317.52-.484.919-.6 1.441-.049.25-.073.451-.08.655l.003.236c.01.241.035.43.082.626l.036.145.025.09.048.147c.035.093.069.174.103.252l.054.115c.045.101.109.211.198.346l.103.15.138.179.066.076.135.142.166.154a3.07 3.07 0 0 0 .796.497l.192.076.143.05.208.056.186.04.152.026.261.028c.248.017.432.014.687-.004.357-.033.64-.082 1.024-.172l.178-.044.426-.118.02.102a2.585 2.585 0 0 0 .474.99l.095.111.113.12.114.107c.129.113.237.193.358.267l.175.099.177.085.096.039.166.057.159.047.088.02.154.03c.386.05.621.052.947.015l.178-.023.286-.051.28-.063.306-.079.327-.092 1.116-.343.694-.208.273-.072.142-.033.208-.04.132-.021c.258-.039.493-.052.687-.04l.08.008c.1.012.175.031.212.048l.021.062.006.035-.01-.026A2.265 2.265 0 0 0 15.769 18l.166-.01.15-.021c1.046-.18 1.818-1.01 1.9-2.035v-.026l.008-.042a1.01 1.01 0 0 0 .002-.22l-.014-.157-.005-.124-.012-.112-.01-.055-.02-.074-.007-.05a4.493 4.493 0 0 0-.136-.57 4.547 4.547 0 0 0-.466-1.045 4.49 4.49 0 0 0-1.747-1.648l-.217-.111a5.256 5.256 0 0 0-1.21-.399l-.088-.017.013-.023c.026-.047.05-.095.074-.144l.064-.145.08-.216.058-.191.03-.128.031-.17c.018-.126.025-.209.029-.301l.002-.103-.008-.218a4.397 4.397 0 0 0-.023-.193l-.025-.144a2.726 2.726 0 0 0-.331-.848l-.089-.138-.057-.079-.084-.107-.118-.133a2.825 2.825 0 0 0-.518-.429l-.182-.103a2.933 2.933 0 0 0-.37-.165l-.162-.053 2.219-1.56.217-.171c1.233-1.098 1.441-2.867.53-4.167l-.112-.15a3.22 3.22 0 0 0-4.47-.54z"});const Mt=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,viewBox:"0 0 18 18",className:"Icon drawing-editor-stroke-4"},e),xt)));var Pt=r.createElement("path",{fill:"#48505E",fillRule:"evenodd",d:"m16.1.553.13.12 1.063 1.063c.8.8.894 2.052.249 2.959l-.108.14-1.682 2.02a2.489 2.489 0 0 1-.53 1.062l-.141.153-5.744 5.643a9.56 9.56 0 0 1-2.13 1.601l-.34.178-2.838 1.42a1.52 1.52 0 0 1-.544.153l-2.053.958a.999.999 0 0 1-1.378-1.226l.045-.108.764-2.244c.012-.14.043-.279.095-.413l.058-.133 1.42-2.839c.4-.799.91-1.537 1.514-2.193l.265-.276L9.96 2.95c.293-.294.64-.499 1.01-.616l2.162-1.8A2.298 2.298 0 0 1 16.1.553zm-3.76 3.373a.998.998 0 0 0-1.225 0l-.095.083-5.744 5.643-.254.266a7.977 7.977 0 0 0-1.072 1.488l-.173.325-1.419 2.839 1 1 2.839-1.42.325-.172a7.977 7.977 0 0 0 1.488-1.072l.266-.254 5.744-5.643.084-.094a1 1 0 0 0 0-1.226l-.084-.094-1.585-1.586-.095-.083zM14.243 1.7l-.087.062-1.046.871c.09.06.178.127.262.2l.123.116 1.586 1.585c.097.098.185.201.263.31l.86-1.033a.698.698 0 0 0 .027-.862l-.07-.081L15.1 1.805a.702.702 0 0 0-.856-.105z"});const Lt=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:18,height:19,viewBox:"0 0 18 19",className:"Icon drawing-editor-tool-draw"},e),Pt)));var kt=r.createElement("path",{fill:"#48505E",fillRule:"evenodd",d:"m15.102.885 2.776 2.776a3.019 3.019 0 0 1 0 4.271L12.37 13.44l.03.03-1.067 1.068-.031-.03-1.983 1.982h5.537a.756.756 0 0 1 .103 1.504l-.103.007L7.809 18H4.825a2.52 2.52 0 0 1-1.78-.737l-2.16-2.161a3.02 3.02 0 0 1 0-4.272L10.83.885a3.02 3.02 0 0 1 4.272 0zM5.323 8.527l-3.37 3.371a1.51 1.51 0 0 0-.098 2.028l.097.108 2.162 2.16a1 1 0 0 0 .58.287l.131.009h1.978l.381-.001 3.051-3.05-4.912-4.912zm6.683-6.672-.108.097L6.391 7.46l4.912 4.912 5.507-5.507a1.51 1.51 0 0 0 .098-2.028l-.098-.107-2.776-2.777a1.51 1.51 0 0 0-2.028-.097z"});const Ft=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:19,height:18,viewBox:"0 0 19 18",className:"Icon drawing-editor-tool-erase"},e),kt)));var Bt=r.createElement("path",{fill:"#48505E",fillRule:"evenodd",d:"M.787.104a1.31 1.31 0 0 1 1.286.15l.107.087 8.942 8.187c.374.342.511.87.35 1.35-.146.433-.51.753-.95.85l-.135.022-2.261.256 1.953 4.402a1.28 1.28 0 0 1-.452 1.576l-.112.068-.113.055-1.852.788c-.612.261-1.32.02-1.642-.547l-.06-.117-1.975-4.453-1.768 1.387c-.314.247-.72.333-1.1.246l-.14-.041-.123-.05a1.29 1.29 0 0 1-.735-1.028L0 13.157V1.286C0 .77.31.306.787.104zm.718 1.66v10.958l2.96-2.321 2.676 6.032 1.469-.624-2.692-6.068 3.827-.434-8.24-7.543z"});const jt=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:12,height:18,viewBox:"0 0 12 18",className:"Icon drawing-editor-tool-select"},e),Bt)));var zt=r.createElement("path",{fill:"#48505E",fillRule:"evenodd",d:"M5 8 0 4l5-4-.001 3.25H10a6 6 0 1 1 0 12H7.75a.75.75 0 0 1 0-1.5H10a4.5 4.5 0 0 0 4.495-4.288l.005-.212a4.5 4.5 0 0 0-4.288-4.495L10 4.75H4.999L5 8z"});const Ut=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon drawing-editor-undo"},e),zt)));var Ht=r.createElement("path",{fill:"#BBBEC3",fillRule:"evenodd",d:"m37.309 6.583.158.125 1.836 1.54a3.393 3.393 0 0 1 .714 4.367l-.11.169-2.271 3.269c-.11.435-.305.855-.584 1.235l-.146.187-14.26 16.615a14.757 14.757 0 0 1-3.18 2.834l-.401.255-4.312 2.65a1.996 1.996 0 0 1-.75.273l-3.682 2.176a1.297 1.297 0 0 1-1.914-1.447l.04-.127 1.531-4.071c.004-.175.03-.35.081-.523l.059-.17 1.86-4.708a14.757 14.757 0 0 1 2.12-3.692l.299-.37 14.262-16.616a3.578 3.578 0 0 1 1.687-1.122l2.55-2.532a3.392 3.392 0 0 1 4.413-.317Zm-4.994 4.967a1.595 1.595 0 0 0-2.02.177l-.104.113-14.262 16.616-.287.355a12.757 12.757 0 0 0-1.628 2.734l-.175.422-1.861 4.708 1.728 1.45 4.312-2.65.384-.246a12.757 12.757 0 0 0 2.411-2.08l.3-.344 14.26-16.615.094-.123a1.596 1.596 0 0 0-.177-2.02l-.113-.104-2.74-2.3-.122-.093Zm2.096-3.326-.106.095-1.323 1.315c.196.092.385.206.564.338l.177.14 2.74 2.3c.283.236.52.508.71.803l1.092-1.573a1.393 1.393 0 0 0-.144-1.764l-.104-.097-1.836-1.54a1.392 1.392 0 0 0-1.77-.017Z"});const Zt=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,viewBox:"0 0 48 48",className:"Icon drawing-empty-placeholder"},e),Ht)));var Gt=r.createElement("path",{fill:"#48505E",fillRule:"evenodd",d:"m15.972 6.251.267.015c1.356.04 2.613.687 3.39 1.745-1.227.72-1.983 1.987-2.001 3.36.002 1.553.978 2.954 2.48 3.56a8.704 8.704 0 0 1-1.29 2.501c-.76 1.083-1.557 2.14-2.821 2.16-1.229.027-1.642-.689-3.05-.689-1.423 0-1.863.67-3.042.716-1.204.042-2.124-1.155-2.912-2.228-1.574-2.19-2.8-6.171-1.156-8.88.772-1.32 2.214-2.159 3.8-2.208 1.205-.023 2.325.776 3.066.776.727 0 2.11-.956 3.536-.813Zm.282-4.25a3.82 3.82 0 0 1-.947 2.824 3.553 3.553 0 0 1-2.75 1.239 3.64 3.64 0 0 1 .972-2.72 4.284 4.284 0 0 1 2.725-1.343Z"});const Kt=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",className:"Icon drawing-input-apple-pencil"},e),Gt)));var Wt=r.createElement("path",{fill:"#48505E",fillRule:"evenodd",d:"M12.228 5.684c1.266 0 2.318.983 2.404 2.208l.005.16v2.763l2.946.527c1.623.29 2.683 1.858 2.358 3.426l-.04.167-1.275 4.82a2.394 2.394 0 0 1-1.74 1.687l-.17.036-2.853.494a1.899 1.899 0 0 1-1.792-.666l-.093-.125-.78-1.15a2.93 2.93 0 0 0-.666-.699l-.201-.138-4.96-3.106a.785.785 0 0 1-.368-.732c.17-2.014 2.272-3.331 4.186-2.68l.168.064.461.187V8.053c0-1.299 1.089-2.369 2.41-2.369Zm0 1.5c-.46 0-.846.345-.902.763l-.008.106v6.359a.5.5 0 0 1-.688.463l-1.835-.745c-.856-.346-1.818.088-2.168.857l-.038.093 4.539 2.844c.446.28.837.635 1.157 1.051l.154.213.778 1.148a.392.392 0 0 0 .314.164l.076-.006L16.461 20a.906.906 0 0 0 .679-.526l.035-.102 1.279-4.83c.196-.723-.26-1.487-1.001-1.693l-.134-.03-3.358-.6a1 1 0 0 1-.824-.985V8.053c0-.465-.41-.869-.91-.869Zm0-5.184c3.39 0 6.157 2.72 6.157 6.053v.204a.775.775 0 0 1-.849.772.84.84 0 0 1-.76-.871l.003-.105c0-2.48-2.028-4.474-4.551-4.474S7.677 5.573 7.677 8.053c0 .273.052.618.156 1.032a.838.838 0 0 1-.561 1.004l-.059.016a.785.785 0 0 1-.941-.587c-.134-.58-.201-1.068-.201-1.465C6.07 4.719 8.837 2 12.228 2Z"});const Vt=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",className:"Icon drawing-input-touch"},e),Wt)));var $t=r.createElement("path",{fill:"#A3A7AE",fillRule:"evenodd",d:"M9.53 10.22a.749.749 0 1 0-1.06 1.06l3 3a.749.749 0 0 0 1.06 0l3-3a.749.749 0 1 0-1.06-1.06L12 12.69l-2.47-2.47z"});const qt=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",className:"Icon dropdown-arrow"},e),$t)));var Yt=r.createElement("defs",null,r.createElement("filter",{id:"ElementAudioIcon__a",width:"131.2%",height:"131.2%",x:"-15.6%",y:"-12.5%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:1.5}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0.196078431 0 0 0 0 0.231372549 0 0 0 0 0.290196078 0 0 0 0.15 0"})),r.createElement("rect",{id:"ElementAudioIcon__b",width:32,height:32,x:0,y:0,rx:2})),Xt=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("g",null,r.createElement("use",{xlinkHref:"#ElementAudioIcon__b",fill:"#000",filter:"url(#ElementAudioIcon__a)"}),r.createElement("use",{xlinkHref:"#ElementAudioIcon__b",fill:"#FFF"})),r.createElement("path",{fill:"#4EB85A",d:"M2 0h28a2 2 0 0 1 2 2v22H0V2a2 2 0 0 1 2-2z"}),r.createElement("path",{fill:"#FFF",d:"M12.75 6a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-1.5 0V6.75a.75.75 0 0 1 .75-.75zm7.5 0a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-1.5 0V6.75a.75.75 0 0 1 .75-.75zm-10 3a.75.75 0 0 1 .75.75v4.5a.75.75 0 0 1-1.5 0v-4.5a.75.75 0 0 1 .75-.75zm7.5 0a.75.75 0 0 1 .75.75v4.5a.75.75 0 0 1-1.5 0v-4.5a.75.75 0 0 1 .75-.75zm5 0a.75.75 0 0 1 .75.75v4.5a.75.75 0 0 1-1.5 0v-4.5a.75.75 0 0 1 .75-.75zm-15 1.5a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5a.75.75 0 0 1 .75-.75zm7.5 0a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5a.75.75 0 0 1 .75-.75zm10 0a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5a.75.75 0 0 1 .75-.75z"}));const Qt=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:32,height:32,viewBox:"0 0 32 32",className:"Icon element-audio"},e),Yt,Xt)));var Jt=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#5882F8",rx:8}),r.createElement("rect",{width:7,height:7,x:8,y:8,fill:"#FFF",rx:2}),r.createElement("rect",{width:7,height:7,x:8,y:17,fill:"#FFF",fillOpacity:.75,rx:2}),r.createElement("rect",{width:7,height:7,x:17,y:8,fill:"#FFF",fillOpacity:.25,rx:3.5}),r.createElement("rect",{width:7,height:7,x:17,y:17,fill:"#FFF",fillOpacity:.5,rx:2}));const en=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon element-board"},e),Jt)));var tn=r.createElement("defs",null,r.createElement("rect",{id:"ElementCardMobileIcon__a",width:32,height:22,rx:2})),nn=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("use",{xlinkHref:"#ElementCardMobileIcon__a",fill:"#FFF"}),r.createElement("path",{fill:"#323B4A",d:"M24.24 13c.385 0 .703.28.753.648l.007.102c0 .414-.33.75-.76.75H5.76a.753.753 0 0 1-.76-.75c0-.414.33-.75.76-.75h18.48zm2.003-4c.383 0 .7.28.75.648L27 9.75c0 .414-.346.75-.757.75H5.757A.752.752 0 0 1 5 9.75c0-.414.346-.75.757-.75h20.486zm0-4c.383 0 .7.28.75.648L27 5.75c0 .414-.346.75-.757.75H5.757A.752.752 0 0 1 5 5.75c0-.414.346-.75.757-.75h20.486z"}));const rn=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:32,height:22,viewBox:"0 0 32 22",className:"Icon element-card-mobile"},e),tn,nn)));var on=r.createElement("defs",null,r.createElement("filter",{id:"ElementCardIcon__a",width:"131.2%",height:"145.5%",x:"-15.6%",y:"-18.2%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:1.5}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0.196078431 0 0 0 0 0.231372549 0 0 0 0 0.290196078 0 0 0 0.15 0"})),r.createElement("rect",{id:"ElementCardIcon__b",width:32,height:22,rx:2})),sn=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("use",{xlinkHref:"#ElementCardIcon__b",fill:"#000",filter:"url(#ElementCardIcon__a)"}),r.createElement("use",{xlinkHref:"#ElementCardIcon__b",fill:"#FFF"}),r.createElement("path",{fill:"#323B4A",d:"M24.24 13c.385 0 .703.28.753.648l.007.102c0 .414-.33.75-.76.75H5.76a.753.753 0 0 1-.76-.75c0-.414.33-.75.76-.75h18.48zm2.003-4c.383 0 .7.28.75.648L27 9.75c0 .414-.346.75-.757.75H5.757A.752.752 0 0 1 5 9.75c0-.414.346-.75.757-.75h20.486zm0-4c.383 0 .7.28.75.648L27 5.75c0 .414-.346.75-.757.75H5.757A.752.752 0 0 1 5 5.75c0-.414.346-.75.757-.75h20.486z"}));const an=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:32,height:22,viewBox:"0 0 32 22",className:"Icon element-card"},e),on,sn)));var ln=r.createElement("path",{fill:"#1B2536",fillOpacity:.3,fillRule:"evenodd",d:"M15 7v6a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2zm-2-1H7a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zm-2-3v2h-1V3a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2v1H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2z"});const cn=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon element-clone"},e),ln)));var dn=r.createElement("defs",null,r.createElement("filter",{id:"ElementColorSwatchIcon__b",width:"155.6%",height:"143.5%",x:"-27.8%",y:"-17.4%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:1.5}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0.196078431 0 0 0 0 0.231372549 0 0 0 0 0.290196078 0 0 0 0.15 0"})),r.createElement("filter",{id:"ElementColorSwatchIcon__e",width:"155.6%",height:"143.5%",x:"-27.8%",y:"-17.4%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:1.5}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0.196078431 0 0 0 0 0.231372549 0 0 0 0 0.290196078 0 0 0 0.15 0"})),r.createElement("path",{id:"ElementColorSwatchIcon__a",d:"M0 1.003A.999.999 0 0 1 .993 0h16.014c.548 0 .993.439.993 1.003v20.994A.998.998 0 0 1 17.007 23H.993A.992.992 0 0 1 0 21.997V1.003z"}),r.createElement("path",{id:"ElementColorSwatchIcon__d",d:"M0 1.003A.999.999 0 0 1 .993 0h16.014c.548 0 .993.439.993 1.003v20.994A.998.998 0 0 1 17.007 23H.993A.992.992 0 0 1 0 21.997V1.003z"})),un=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("g",{transform:"rotate(-4 17.978 .628)"},r.createElement("mask",{id:"ElementColorSwatchIcon__c",fill:"#fff"},r.createElement("use",{xlinkHref:"#ElementColorSwatchIcon__a"})),r.createElement("use",{xlinkHref:"#ElementColorSwatchIcon__a",fill:"#000",filter:"url(#ElementColorSwatchIcon__b)"}),r.createElement("use",{xlinkHref:"#ElementColorSwatchIcon__a",fill:"#FFF"}),r.createElement("path",{fill:"#318295",d:"M-2.685-2.024h23v18h-23z",mask:"url(#ElementColorSwatchIcon__c)"})),r.createElement("g",{transform:"rotate(4 -109.493 148.676)"},r.createElement("mask",{id:"ElementColorSwatchIcon__f",fill:"#fff"},r.createElement("use",{xlinkHref:"#ElementColorSwatchIcon__d"})),r.createElement("use",{xlinkHref:"#ElementColorSwatchIcon__d",fill:"#000",filter:"url(#ElementColorSwatchIcon__e)"}),r.createElement("use",{xlinkHref:"#ElementColorSwatchIcon__d",fill:"#FFF"}),r.createElement("path",{fill:"#E15678",d:"M-2-2h22v18H-2z",mask:"url(#ElementColorSwatchIcon__f)"})));const mn=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:28,height:32,viewBox:"0 0 28 32",className:"Icon element-color-swatch"},e),dn,un)));var pn=r.createElement("defs",null,r.createElement("filter",{id:"ElementColumnIcon__a",width:"131.2%",height:"131.2%",x:"-15.6%",y:"-12.5%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:1.5}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0.196078431 0 0 0 0 0.231372549 0 0 0 0 0.290196078 0 0 0 0.15 0"})),r.createElement("rect",{id:"ElementColumnIcon__b",width:32,height:32,rx:2})),hn=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("use",{xlinkHref:"#ElementColumnIcon__b",fill:"#000",filter:"url(#ElementColumnIcon__a)"}),r.createElement("use",{xlinkHref:"#ElementColumnIcon__b",fill:"#FFF"}),r.createElement("path",{fill:"#F3F3F4",d:"M3 9h26v9H3zm0 11h26v9H3z"}),r.createElement("rect",{width:18,height:1.5,x:7,y:4,fill:"#323B4A",rx:.75}));const gn=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:32,height:32,viewBox:"0 0 32 32",className:"Icon element-column"},e),pn,hn)));var fn=r.createElement("defs",null,r.createElement("filter",{id:"ElementCommentThreadIcon__a",width:"121.9%",height:"126.9%",x:"-10.9%",y:"-9.6%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:1}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0.196078431 0 0 0 0 0.231372549 0 0 0 0 0.290196078 0 0 0 0.15 0"})),r.createElement("path",{id:"ElementCommentThreadIcon__b",d:"M2.002 22A1.995 1.995 0 0 1 0 20.009V1.99C0 .891.89 0 2.002 0h27.996C31.104 0 32 .89 32 1.991V20.01c0 1.1-.89 1.991-2.002 1.991H20l-4 4-4-4H2.002z"})),En=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("use",{xlinkHref:"#ElementCommentThreadIcon__b",fill:"#000",filter:"url(#ElementCommentThreadIcon__a)"}),r.createElement("use",{xlinkHref:"#ElementCommentThreadIcon__b",fill:"#F4F7FE"}),r.createElement("path",{fill:"#6D92F9",d:"M24.24 14c.385 0 .703.28.753.648l.007.102c0 .414-.33.75-.76.75H5.76a.753.753 0 0 1-.76-.75c0-.414.33-.75.76-.75h18.48zm2.003-4c.383 0 .7.28.75.648l.007.102c0 .414-.346.75-.757.75H5.757A.752.752 0 0 1 5 10.75c0-.414.346-.75.757-.75h20.486zm0-4c.383 0 .7.28.75.648L27 6.75c0 .414-.346.75-.757.75H5.757A.752.752 0 0 1 5 6.75c0-.414.346-.75.757-.75h20.486z"}));const vn=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:32,height:26,viewBox:"0 0 32 26",className:"Icon element-comment-thread"},e),fn,En)));var bn=r.createElement("defs",null,r.createElement("filter",{id:"ElementDocumentIcon__b",width:"138.5%",height:"131.2%",x:"-19.2%",y:"-12.5%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:1.5}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0.196078431 0 0 0 0 0.231372549 0 0 0 0 0.290196078 0 0 0 0.15 0"})),r.createElement("filter",{id:"ElementDocumentIcon__d",width:"279.6%",height:"277.8%",x:"-89.7%",y:"-77.8%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:2.5}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",result:"shadowMatrixOuter1",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"}),r.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter2"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter2",result:"shadowBlurOuter2",stdDeviation:1}),r.createElement("feColorMatrix",{in:"shadowBlurOuter2",result:"shadowMatrixOuter2",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),r.createElement("feMerge",null,r.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),r.createElement("feMergeNode",{in:"shadowMatrixOuter2"}))),r.createElement("path",{id:"ElementDocumentIcon__a",d:"M.855 0H16.74c.228 0 .447.091.608.254l8.406 8.496c.158.16.247.376.247.602v21.793a.855.855 0 0 1-.855.855H.855A.855.855 0 0 1 0 31.145V.855C0 .383.383 0 .855 0z"}),r.createElement("path",{id:"ElementDocumentIcon__e",d:"m17.094 0 8.812 9h-8.042a.855.855 0 0 1-.855-.855v-.01L17.094 0z"})),yn=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("g",null,r.createElement("mask",{id:"ElementDocumentIcon__c",fill:"#fff"},r.createElement("use",{xlinkHref:"#ElementDocumentIcon__a"})),r.createElement("use",{xlinkHref:"#ElementDocumentIcon__a",fill:"#000",filter:"url(#ElementDocumentIcon__b)"}),r.createElement("use",{xlinkHref:"#ElementDocumentIcon__a",fill:"#FFF"}),r.createElement("g",{fill:"#000",mask:"url(#ElementDocumentIcon__c)"},r.createElement("use",{xlinkHref:"#ElementDocumentIcon__e",filter:"url(#ElementDocumentIcon__d)"})),r.createElement("path",{fill:"#FFF",d:"M17.095 0 26 9h-8.136a.855.855 0 0 1-.855-.855v-.01L17.095 0z",mask:"url(#ElementDocumentIcon__c)"})),r.createElement("path",{fill:"#48505E",d:"M20.25 24c.38 0 .693.28.743.648l.007.102c0 .414-.334.75-.75.75H5.75a.749.749 0 1 1 0-1.5h14.5zm-9.962-8 .118 1.81h-.549c-.376-.917-.525-1.316-1.16-1.316h-.242v3.972c0 .43.172.517.69.54v.494H6.37v-.494c.525-.023.705-.11.705-.54v-3.972h-.25c-.635 0-.784.4-1.16 1.316h-.541L5.243 16h5.045zm9.96 4c.38 0 .695.28.745.648l.007.102c0 .414-.344.75-.753.75h-6.494a.75.75 0 1 1 0-1.5h6.494zm0-4c.38 0 .695.28.745.648l.007.102c0 .414-.344.75-.753.75h-6.494a.75.75 0 1 1 0-1.5h6.494z"}));const In=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:26,height:32,viewBox:"0 0 26 32",className:"Icon element-document"},e),bn,yn)));var Cn=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#DBDCDE",rx:4}),r.createElement("path",{fill:"#BBBEC3",d:"M10 6h8l6 6v12a2 2 0 0 1-2 2H10a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z"}),r.createElement("path",{fill:"#FFF",d:"m18 6 6 6h-6z"}));const Sn=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon element-file"},e),Cn)));var Tn=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#48505E",d:"M19 19v-1.071c-1.122-.051-1.495-.238-1.495-1.173V8.137h.527c1.377 0 1.7.867 2.515 2.856h1.19l-.254-3.927H10.534l-.255 3.927h1.174c.816-1.989 1.139-2.856 2.516-2.856h.543v8.619c0 .935-.39 1.122-1.53 1.173V19H19z"}),r.createElement("path",{fill:"#A3A7AE",d:"M.5 24a.5.5 0 0 1 .492.41L1 24.5v.5h.442a.49.49 0 0 1 .481.5c0 .245-.17.45-.394.492L1.442 26H.481A.49.49 0 0 1 0 25.5v-1a.5.5 0 0 1 .5-.5zm30 2a.5.5 0 0 1-.09-.992L30.5 25h.5v-.5a.5.5 0 0 1 .992-.09l.008.09v1a.5.5 0 0 1-.41.492L31.5 26h-1zm-26-1a.5.5 0 0 1 .09.992L4.5 26h-1a.5.5 0 0 1-.09-.992L3.5 25h1zm3 0a.5.5 0 0 1 .09.992L7.5 26h-1a.5.5 0 0 1-.09-.992L6.5 25h1zm3 0a.5.5 0 0 1 .09.992L10.5 26h-1a.5.5 0 0 1-.09-.992L9.5 25h1zm3 0a.5.5 0 0 1 .09.992L13.5 26h-1a.5.5 0 0 1-.09-.992L12.5 25h1zm3 0a.5.5 0 0 1 .09.992L16.5 26h-1a.5.5 0 0 1-.09-.992L15.5 25h1zm3 0a.5.5 0 0 1 .09.992L19.5 26h-1a.5.5 0 0 1-.09-.992L18.5 25h1zm3 0a.5.5 0 0 1 .09.992L22.5 26h-1a.5.5 0 0 1-.09-.992L21.5 25h1zm3 0a.5.5 0 0 1 .09.992L25.5 26h-1a.5.5 0 0 1-.09-.992L24.5 25h1zm3 0a.5.5 0 0 1 .09.992L28.5 26h-1a.5.5 0 0 1-.09-.992L27.5 25h1zm3-4a.5.5 0 0 1 .492.41l.008.09v1a.5.5 0 0 1-.992.09L31 22.5v-1a.5.5 0 0 1 .5-.5zm-31 0a.5.5 0 0 1 .492.41L1 21.5v1a.5.5 0 0 1-.992.09L0 22.5v-1a.5.5 0 0 1 .5-.5zm0-3a.5.5 0 0 1 .492.41L1 18.5v1a.5.5 0 0 1-.992.09L0 19.5v-1a.5.5 0 0 1 .5-.5zm31 0a.5.5 0 0 1 .492.41l.008.09v1a.5.5 0 0 1-.992.09L31 19.5v-1a.5.5 0 0 1 .5-.5zm-31-3a.5.5 0 0 1 .492.41L1 15.5v1a.5.5 0 0 1-.992.09L0 16.5v-1a.5.5 0 0 1 .5-.5zm31 0a.5.5 0 0 1 .492.41l.008.09v1a.5.5 0 0 1-.992.09L31 16.5v-1a.5.5 0 0 1 .5-.5zm-31-3a.5.5 0 0 1 .492.41L1 12.5v1a.5.5 0 0 1-.992.09L0 13.5v-1a.5.5 0 0 1 .5-.5zm31 0a.5.5 0 0 1 .492.41l.008.09v1a.5.5 0 0 1-.992.09L31 13.5v-1a.5.5 0 0 1 .5-.5zM.5 9a.5.5 0 0 1 .492.41L1 9.5v1a.5.5 0 0 1-.992.09L0 10.5v-1A.5.5 0 0 1 .5 9zm31 0a.5.5 0 0 1 .492.41L32 9.5v1a.5.5 0 0 1-.992.09L31 10.5v-1a.5.5 0 0 1 .5-.5zM.5 6a.5.5 0 0 1 .492.41L1 6.5v1a.5.5 0 0 1-.992.09L0 7.5v-1A.5.5 0 0 1 .5 6zm31 0a.5.5 0 0 1 .492.41L32 6.5v1a.5.5 0 0 1-.992.09L31 7.5v-1a.5.5 0 0 1 .5-.5zM.5 3a.5.5 0 0 1 .492.41L1 3.5v1a.5.5 0 0 1-.992.09L0 4.5v-1A.5.5 0 0 1 .5 3zm31 0a.5.5 0 0 1 .492.41L32 3.5v1a.5.5 0 0 1-.992.09L31 4.5v-1a.5.5 0 0 1 .5-.5zM1.442 0a.49.49 0 0 1 .481.5c0 .245-.17.45-.394.492L1.442 1H1v.5a.5.5 0 0 1-.992.09L0 1.5v-1C0 .255.17.05.394.008L.481 0h.961zM31.5 0a.5.5 0 0 1 .492.41L32 .5v1a.5.5 0 0 1-.992.09L31 1.5V1h-.5a.5.5 0 0 1-.09-.992L30.5 0h1zm-27 0a.5.5 0 0 1 .09.992L4.5 1h-1a.5.5 0 0 1-.09-.992L3.5 0h1zm3 0a.5.5 0 0 1 .09.992L7.5 1h-1a.5.5 0 0 1-.09-.992L6.5 0h1zm3 0a.5.5 0 0 1 .09.992L10.5 1h-1a.5.5 0 0 1-.09-.992L9.5 0h1zm3 0a.5.5 0 0 1 .09.992L13.5 1h-1a.5.5 0 0 1-.09-.992L12.5 0h1zm3 0a.5.5 0 0 1 .09.992L16.5 1h-1a.5.5 0 0 1-.09-.992L15.5 0h1zm3 0a.5.5 0 0 1 .09.992L19.5 1h-1a.5.5 0 0 1-.09-.992L18.5 0h1zm3 0a.5.5 0 0 1 .09.992L22.5 1h-1a.5.5 0 0 1-.09-.992L21.5 0h1zm3 0a.5.5 0 0 1 .09.992L25.5 1h-1a.5.5 0 0 1-.09-.992L24.5 0h1zm3 0a.5.5 0 0 1 .09.992L28.5 1h-1a.5.5 0 0 1-.09-.992L27.5 0h1z"}));const wn=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:26,viewBox:"0 0 32 26",className:"Icon element-header"},e),Tn)));var On=r.createElement("defs",null,r.createElement("path",{id:"ElementImageMobileIcon__a",d:"M0 0h20v20H0z"})),_n=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#FFF",rx:4}),r.createElement("g",{transform:"translate(6 6)"},r.createElement("mask",{id:"ElementImageMobileIcon__b",fill:"#fff"},r.createElement("use",{xlinkHref:"#ElementImageMobileIcon__a"})),r.createElement("use",{xlinkHref:"#ElementImageMobileIcon__a",fill:"#C3E5FB"}),r.createElement("g",{mask:"url(#ElementImageMobileIcon__b)"},r.createElement("path",{fill:"#7FB961",d:"m6 7 18 20h-36z"}),r.createElement("path",{fill:"#9ED084",d:"m16 9 18 20H-2z"}))));const Rn=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:32,height:32,viewBox:"0 0 32 32",className:"Icon element-image-mobile"},e),On,_n)));var An=r.createElement("defs",null,r.createElement("path",{id:"ElementImageIcon__a",d:"M0 0h20v20H0z"})),Dn=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#FFF",rx:4}),r.createElement("g",{transform:"translate(6 6)"},r.createElement("mask",{id:"ElementImageIcon__b",fill:"#fff"},r.createElement("use",{xlinkHref:"#ElementImageIcon__a"})),r.createElement("use",{xlinkHref:"#ElementImageIcon__a",fill:"#C3E5FB"}),r.createElement("g",{mask:"url(#ElementImageIcon__b)"},r.createElement("path",{fill:"#7FB961",d:"m6 7 18 20h-36z"}),r.createElement("path",{fill:"#9ED084",d:"m16 9 18 20H-2z"}))));const Nn=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:32,height:32,viewBox:"0 0 32 32",className:"Icon element-image"},e),An,Dn)));var xn=r.createElement("path",{fill:"#323B4A",fillRule:"evenodd",d:"m30.385 0-3 8-1.793-1.793-21.5 21.5a1 1 0 0 1-1.32.083l-.094-.083a1 1 0 0 1 0-1.414L24.177 4.792 22.385 3l8-3z"});const Mn=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:28,viewBox:"0 0 32 28",className:"Icon element-line"},e),xn)));var Pn=r.createElement("defs",null,r.createElement("rect",{id:"ElementLinkMobileIcon__a",width:32,height:32,rx:2})),Ln=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("use",{xlinkHref:"#ElementLinkMobileIcon__a",fill:"#FFF"}),r.createElement("path",{fill:"#323B4A",d:"M16.934 13.634a.75.75 0 0 1 1.06 0 4.75 4.75 0 0 1 0 6.717l-1.885 1.886A4.75 4.75 0 1 1 9.39 15.52a.75.75 0 1 1 1.06 1.06 3.25 3.25 0 1 0 4.597 4.596l1.886-1.885a3.25 3.25 0 0 0 0-4.596.75.75 0 0 1 0-1.061zM15.52 9.39a4.75 4.75 0 1 1 6.717 6.718.75.75 0 0 1-1.06-1.06 3.25 3.25 0 1 0-4.597-4.597l-1.885 1.886a3.25 3.25 0 0 0 0 4.596.75.75 0 1 1-1.061 1.06 4.75 4.75 0 0 1 0-6.717z"}));const kn=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:32,height:32,viewBox:"0 0 32 32",className:"Icon element-link-mobile"},e),Pn,Ln)));var Fn=r.createElement("defs",null,r.createElement("filter",{id:"ElementLinkIcon__a",width:"131.2%",height:"131.2%",x:"-15.6%",y:"-12.5%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:1.5}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0.196078431 0 0 0 0 0.231372549 0 0 0 0 0.290196078 0 0 0 0.15 0"})),r.createElement("rect",{id:"ElementLinkIcon__b",width:32,height:32,rx:2})),Bn=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("use",{xlinkHref:"#ElementLinkIcon__b",fill:"#000",filter:"url(#ElementLinkIcon__a)"}),r.createElement("use",{xlinkHref:"#ElementLinkIcon__b",fill:"#FFF"}),r.createElement("path",{fill:"#323B4A",d:"M16.934 13.634a.75.75 0 0 1 1.06 0 4.75 4.75 0 0 1 0 6.717l-1.885 1.886A4.75 4.75 0 1 1 9.39 15.52a.75.75 0 1 1 1.06 1.06 3.25 3.25 0 1 0 4.597 4.596l1.886-1.885a3.25 3.25 0 0 0 0-4.596.75.75 0 0 1 0-1.061zM15.52 9.39a4.75 4.75 0 1 1 6.717 6.718.75.75 0 0 1-1.06-1.06 3.25 3.25 0 1 0-4.597-4.597l-1.885 1.886a3.25 3.25 0 0 0 0 4.596.75.75 0 1 1-1.061 1.06 4.75 4.75 0 0 1 0-6.717z"}));const jn=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:32,height:32,viewBox:"0 0 32 32",className:"Icon element-link"},e),Fn,Bn)));var zn=r.createElement("defs",null,r.createElement("filter",{id:"ElementMapIcon__a",width:"131.2%",height:"131.2%",x:"-15.6%",y:"-12.5%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:1.5}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0.196078431 0 0 0 0 0.231372549 0 0 0 0 0.290196078 0 0 0 0.15 0"})),r.createElement("rect",{id:"ElementMapIcon__b",width:32,height:32,x:0,y:0,rx:2}),r.createElement("path",{id:"ElementMapIcon__c",d:"M2 0h28a2 2 0 0 1 2 2v22H0V2a2 2 0 0 1 2-2z"})),Un=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("use",{xlinkHref:"#ElementMapIcon__b",fill:"#000",filter:"url(#ElementMapIcon__a)"}),r.createElement("use",{xlinkHref:"#ElementMapIcon__b",fill:"#FFF"}),r.createElement("mask",{id:"ElementMapIcon__d",fill:"#fff"},r.createElement("use",{xlinkHref:"#ElementMapIcon__c"})),r.createElement("use",{xlinkHref:"#ElementMapIcon__c",fill:"#6FC562"}),r.createElement("path",{fill:"#D8D8D8",d:"M18-2 0-3v28.556L8.5 26l1.5-8 5-4.888L21.5 10z",mask:"url(#ElementMapIcon__d)"}),r.createElement("path",{fill:"#7FB6F3",d:"m18.768-2 7 28.556H32V-2z",mask:"url(#ElementMapIcon__d)"}),r.createElement("path",{fill:"#F3F3F4",d:"m22.11 10.112 1.317 3.776-4.744 1.656a8.999 8.999 0 0 0-5.883 6.847l-.05.298-1.005 6.611-3.954-.6 1.004-6.612a13.004 13.004 0 0 1 8.262-10.21l.308-.111 4.744-1.655z",mask:"url(#ElementMapIcon__d)"}),r.createElement("path",{fill:"#ECC934",fillRule:"nonzero",d:"m18.651-2.673 10 28-3.766 1.346-10-28z",mask:"url(#ElementMapIcon__d)"}),r.createElement("g",{mask:"url(#ElementMapIcon__d)"},r.createElement("g",{transform:"translate(4 4)"},r.createElement("path",{fill:"#E84C4C",d:"M6.867 7.165A4.333 4.333 0 0 0 8 4.223C8 1.891 6.209 0 4 0S0 1.891 0 4.223c0 1.145.433 2.18 1.133 2.942l.01.013.014.014.031.034 2.498 2.637a.428.428 0 0 0 .628 0l2.498-2.637.031-.034.013-.014c.005-.004.007-.01.011-.013z"}),r.createElement("circle",{cx:4,cy:4.132,r:1.5,fill:"#FFF"}))));const Hn=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:32,height:32,viewBox:"0 0 32 32",className:"Icon element-map"},e),zn,Un)));var Zn=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("g",{transform:"translate(3 3)"},r.createElement("rect",{width:14,height:14,fill:"#5882F8",rx:3}),r.createElement("rect",{width:3.063,height:3.063,x:7.438,y:7.438,fill:"#FFF",rx:.875}),r.createElement("rect",{width:3.063,height:3.063,x:3.5,y:7.438,fill:"#FFF",rx:.875}),r.createElement("rect",{width:3.063,height:3.063,x:7.438,y:3.5,fill:"#FFF",rx:1.531}),r.createElement("rect",{width:3.063,height:3.063,x:3.5,y:3.5,fill:"#FFF",rx:.875})),r.createElement("path",{fill:"#323B4A",fillRule:"nonzero",d:"M14 1a5 5 0 0 1 5 5v8a5 5 0 0 1-5 5H6a5 5 0 0 1-5-5V6a5 5 0 0 1 5-5h8zm0 2H6a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3z"}));const Gn=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",className:"Icon element-mini-board-selected"},e),Zn)));var Kn=r.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(3 3)"},r.createElement("rect",{width:14,height:14,fill:"#5882F8",rx:3}),r.createElement("rect",{width:3.063,height:3.063,x:7.438,y:7.438,fill:"#FFF",rx:.875}),r.createElement("rect",{width:3.063,height:3.063,x:3.5,y:7.438,fill:"#FFF",rx:.875}),r.createElement("rect",{width:3.063,height:3.063,x:7.438,y:3.5,fill:"#FFF",rx:1.531}),r.createElement("rect",{width:3.063,height:3.063,x:3.5,y:3.5,fill:"#FFF",rx:.875}));const Wn=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",className:"Icon element-mini-board"},e),Kn)));var Vn=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#CCC",d:"M3 4h14a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1z"}),r.createElement("path",{fill:"#FFF",d:"M3 5h14v10H3z"}),r.createElement("path",{fill:"#767C86",d:"M5.5 7h9a.5.5 0 1 1 0 1h-9a.5.5 0 0 1 0-1zm0 2h9a.5.5 0 1 1 0 1h-9a.5.5 0 0 1 0-1zm0 2h8a.5.5 0 1 1 0 1h-8a.5.5 0 1 1 0-1z"}),r.createElement("path",{fill:"#323B4A",fillRule:"nonzero",d:"M16 3a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H4a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h12zm0 2H4a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z"}));const $n=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",className:"Icon element-mini-card-selected"},e),Vn)));var qn=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#CCC",d:"M3 4h14a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1z"}),r.createElement("path",{fill:"#FFF",d:"M3 5h14v10H3z"}),r.createElement("path",{fill:"#767C86",d:"M5.5 7h9a.5.5 0 1 1 0 1h-9a.5.5 0 0 1 0-1zm0 2h9a.5.5 0 1 1 0 1h-9a.5.5 0 0 1 0-1zm0 2h8a.5.5 0 1 1 0 1h-8a.5.5 0 1 1 0-1z"}));const Yn=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",className:"Icon element-mini-card"},e),qn)));var Xn=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#CCC",d:"M8 6h8a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z"}),r.createElement("path",{fill:"#1E7D9F",d:"M8 6h8a1 1 0 0 1 1 1v7H7V7a1 1 0 0 1 1-1z"}),r.createElement("path",{fill:"#FFF",d:"M8 14h8v3H8z"}),r.createElement("path",{fill:"#16A0E5",d:"M8 7h8v7H8z"}),r.createElement("path",{fill:"#CCC",d:"M4 2h8a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z"}),r.createElement("path",{fill:"#D6223E",d:"M4 2h8a1 1 0 0 1 1 1v7H3V3a1 1 0 0 1 1-1z"}),r.createElement("path",{fill:"#FFF",d:"M4 10h8v3H4z"}),r.createElement("path",{fill:"#F02848",d:"M4 3h8v7H4z"}),r.createElement("path",{fill:"#323B4A",fillRule:"nonzero",d:"M11 1a3 3 0 0 1 3 3v1h1a3 3 0 0 1 2.995 2.824L18 8v8a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3v-1H5a3 3 0 0 1-2.995-2.824L2 12V4a3 3 0 0 1 3-3h6zm0 2H5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h3v3a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1h-3V4a1 1 0 0 0-1-1z"}));const Qn=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",className:"Icon element-mini-color-swatch-selected"},e),Xn)));var Jn=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#CCC",d:"M8 6h8a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z"}),r.createElement("path",{fill:"#1E7D9F",d:"M8 6h8a1 1 0 0 1 1 1v7H7V7a1 1 0 0 1 1-1z"}),r.createElement("path",{fill:"#FFF",d:"M8 14h8v3H8z"}),r.createElement("path",{fill:"#16A0E5",d:"M8 7h8v7H8z"}),r.createElement("path",{fill:"#CCC",d:"M4 2h8a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z"}),r.createElement("path",{fill:"#D6223E",d:"M4 2h8a1 1 0 0 1 1 1v7H3V3a1 1 0 0 1 1-1z"}),r.createElement("path",{fill:"#FFF",d:"M4 10h8v3H4z"}),r.createElement("path",{fill:"#F02848",d:"M4 3h8v7H4z"}));const er=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",className:"Icon element-mini-color-swatch"},e),Jn)));var tr=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#CCC",d:"M4 2h12a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z"}),r.createElement("path",{fill:"#FFF",d:"M4 3h12v14H4z"}),r.createElement("path",{fill:"#D1D3D6",d:"M5 6h10v4.5H5V6zm0 5.5h10V16H5v-4.5z"}),r.createElement("path",{fill:"#767C86",d:"M6.5 4h7a.5.5 0 1 1 0 1h-7a.5.5 0 0 1 0-1z"}),r.createElement("path",{fill:"#323B4A",fillRule:"nonzero",d:"M16 1a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h12zm0 2H4v14h12V3z"}));const nr=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",className:"Icon element-mini-column-selected"},e),tr)));var rr=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#CCC",d:"M4 2h12a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z"}),r.createElement("path",{fill:"#FFF",d:"M4 3h12v14H4z"}),r.createElement("path",{fill:"#D1D3D6",d:"M5 6h10v4.5H5V6zm0 5.5h10V16H5v-4.5z"}),r.createElement("path",{fill:"#767C86",d:"M6.5 4h7a.5.5 0 1 1 0 1h-7a.5.5 0 0 1 0-1z"}));const or=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",className:"Icon element-mini-column"},e),rr)));var ir=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#D5DFFD",d:"M4 15a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2h-3.586L10 17.414 7.586 15H4z"}),r.createElement("path",{fill:"#5882F8",d:"M5.5 7h9a.5.5 0 1 1 0 1h-9a.5.5 0 0 1 0-1zm0 2h9a.5.5 0 1 1 0 1h-9a.5.5 0 0 1 0-1zm0 2h8a.5.5 0 1 1 0 1h-8a.5.5 0 1 1 0-1z"}),r.createElement("path",{fill:"#323B4A",fillRule:"nonzero",d:"M16 2a4 4 0 0 1 4 4v7a4 4 0 0 1-4 4h-2.734l-1.928 1.737L10 19.94l-1.338-1.204L6.733 17H4a4 4 0 0 1-3.995-3.8L0 13V6a4 4 0 0 1 4-4h12zm0 2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h3.5l2.5 2.25L12.5 15H16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"}));const sr=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",className:"Icon element-mini-comment-thread-selected"},e),ir)));var ar=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#D5DFFD",d:"M4 15a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2h-3.586L10 17.414 7.586 15H4z"}),r.createElement("path",{fill:"#5882F8",d:"M5.5 7h9a.5.5 0 1 1 0 1h-9a.5.5 0 0 1 0-1zm0 2h9a.5.5 0 1 1 0 1h-9a.5.5 0 0 1 0-1zm0 2h8a.5.5 0 1 1 0 1h-8a.5.5 0 1 1 0-1z"}));const lr=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",className:"Icon element-mini-comment-thread"},e),ar)));var cr=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#CCC",d:"M5 3h7l4 4v9a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"}),r.createElement("path",{fill:"#FFF",d:"M11 4v4h4v8H5V4h6zm3.5 3H12V4.5L14.5 7z"}),r.createElement("path",{fill:"#767C86",d:"M7.5 10h5a.5.5 0 1 1 0 1h-5a.5.5 0 1 1 0-1zm0 2h5a.5.5 0 1 1 0 1h-5a.5.5 0 1 1 0-1z"}),r.createElement("path",{fill:"#323B4A",fillRule:"nonzero",d:"M12 2a2 2 0 0 1 1.414.586l2.707 2.707A3 3 0 0 1 17 7.414V15a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3h6zm0 2H6a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V7.414a1 1 0 0 0-.293-.707L12 4z"}));const dr=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",className:"Icon element-mini-document-selected"},e),cr)));var ur=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#CCC",d:"M5 3h7l4 4v9a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"}),r.createElement("path",{fill:"#FFF",d:"M11 4v4h4v8H5V4h6zm3.5 3H12V4.5L14.5 7z"}),r.createElement("path",{fill:"#767C86",d:"M7.5 10h5a.5.5 0 1 1 0 1h-5a.5.5 0 1 1 0-1zm0 2h5a.5.5 0 1 1 0 1h-5a.5.5 0 1 1 0-1z"}));const mr=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",className:"Icon element-mini-document"},e),ur)));var pr=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#CCC",d:"M5 3h7l4 4v9a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"}),r.createElement("path",{fill:"#FFF",d:"M11 4v4h4v8H5V4h6zm3.5 3H12V4.5L14.5 7z"}),r.createElement("path",{fill:"#323B4A",fillRule:"nonzero",d:"M12 2a2 2 0 0 1 1.414.586l2.707 2.707A3 3 0 0 1 17 7.414V15a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3h6zm0 2H6a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V7.414a1 1 0 0 0-.293-.707L12 4z"}));const hr=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",className:"Icon element-mini-file-selected"},e),pr)));var gr=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#CCC",d:"M5 3h7l4 4v9a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"}),r.createElement("path",{fill:"#FFF",d:"M11 4v4h4v8H5V4h6zm3.5 3H12V4.5L14.5 7z"}));const fr=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",className:"Icon element-mini-file"},e),gr)));var Er=r.createElement("defs",null,r.createElement("path",{id:"ElementMiniImageSelectedIcon__a",d:"M0 0h12v12H0z"}),r.createElement("path",{id:"ElementMiniImageSelectedIcon__c",d:"M1 0h12a1 1 0 0 1 1 1v9H0V1a1 1 0 0 1 1-1z"}),r.createElement("path",{id:"ElementMiniImageSelectedIcon__f",d:"M10.6 5.1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"}),r.createElement("filter",{id:"ElementMiniImageSelectedIcon__e",width:"300%",height:"300%",x:"-100%",y:"-100%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:1}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 1 0 0 0 0 0.992156863 0 0 0 0 0.866666667 0 0 0 0.5 0"}))),vr=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#CCC",d:"M4 3h12a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"}),r.createElement("path",{fill:"#68C0E0",d:"M4 3h12a1 1 0 0 1 1 1v9H3V4a1 1 0 0 1 1-1z"}),r.createElement("g",{transform:"translate(4 4)"},r.createElement("mask",{id:"ElementMiniImageSelectedIcon__b",fill:"#fff"},r.createElement("use",{xlinkHref:"#ElementMiniImageSelectedIcon__a"})),r.createElement("use",{xlinkHref:"#ElementMiniImageSelectedIcon__a",fill:"#FFF"}),r.createElement("g",{mask:"url(#ElementMiniImageSelectedIcon__b)"},r.createElement("g",{transform:"translate(-1 -1)"},r.createElement("mask",{id:"ElementMiniImageSelectedIcon__d",fill:"#fff"},r.createElement("use",{xlinkHref:"#ElementMiniImageSelectedIcon__c"})),r.createElement("use",{xlinkHref:"#ElementMiniImageSelectedIcon__c",fill:"#8AE0FF"}),r.createElement("path",{fill:"#4EB85A",d:"M8 8 4.5 4.5 1 8v2h12V8l-2.5-2z",mask:"url(#ElementMiniImageSelectedIcon__d)"}),r.createElement("g",{mask:"url(#ElementMiniImageSelectedIcon__d)"},r.createElement("use",{xlinkHref:"#ElementMiniImageSelectedIcon__f",fill:"#000",filter:"url(#ElementMiniImageSelectedIcon__e)"}),r.createElement("use",{xlinkHref:"#ElementMiniImageSelectedIcon__f",fill:"#FFFCE6"}))))),r.createElement("path",{fill:"#323B4A",fillRule:"nonzero",d:"M14.5 2A3.5 3.5 0 0 1 18 5.5v9a3.5 3.5 0 0 1-3.5 3.5h-9A3.5 3.5 0 0 1 2 14.5v-9A3.5 3.5 0 0 1 5.5 2h9zm0 2h-9A1.5 1.5 0 0 0 4 5.5v9A1.5 1.5 0 0 0 5.5 16h9a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 4z"}));const br=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:20,height:20,viewBox:"0 0 20 20",className:"Icon element-mini-image-selected"},e),Er,vr)));var yr=r.createElement("defs",null,r.createElement("path",{id:"ElementMiniImageIcon__a",d:"M0 0h12v12H0z"}),r.createElement("path",{id:"ElementMiniImageIcon__c",d:"M1 0h12a1 1 0 0 1 1 1v9H0V1a1 1 0 0 1 1-1z"}),r.createElement("path",{id:"ElementMiniImageIcon__f",d:"M10.6 5.1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"}),r.createElement("filter",{id:"ElementMiniImageIcon__e",width:"300%",height:"300%",x:"-100%",y:"-100%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:1}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 1 0 0 0 0 0.992156863 0 0 0 0 0.866666667 0 0 0 0.5 0"}))),Ir=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#CCC",d:"M4 3h12a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"}),r.createElement("path",{fill:"#68C0E0",d:"M4 3h12a1 1 0 0 1 1 1v9H3V4a1 1 0 0 1 1-1z"}),r.createElement("g",{transform:"translate(4 4)"},r.createElement("mask",{id:"ElementMiniImageIcon__b",fill:"#fff"},r.createElement("use",{xlinkHref:"#ElementMiniImageIcon__a"})),r.createElement("use",{xlinkHref:"#ElementMiniImageIcon__a",fill:"#FFF"}),r.createElement("g",{mask:"url(#ElementMiniImageIcon__b)"},r.createElement("g",{transform:"translate(-1 -1)"},r.createElement("mask",{id:"ElementMiniImageIcon__d",fill:"#fff"},r.createElement("use",{xlinkHref:"#ElementMiniImageIcon__c"})),r.createElement("use",{xlinkHref:"#ElementMiniImageIcon__c",fill:"#8AE0FF"}),r.createElement("path",{fill:"#4EB85A",d:"M8 8 4.5 4.5 1 8v2h12V8l-2.5-2z",mask:"url(#ElementMiniImageIcon__d)"}),r.createElement("g",{mask:"url(#ElementMiniImageIcon__d)"},r.createElement("use",{xlinkHref:"#ElementMiniImageIcon__f",fill:"#000",filter:"url(#ElementMiniImageIcon__e)"}),r.createElement("use",{xlinkHref:"#ElementMiniImageIcon__f",fill:"#FFFCE6"}))))));const Cr=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:20,height:20,viewBox:"0 0 20 20",className:"Icon element-mini-image"},e),yr,Ir)));var Sr=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#CCC",d:"M4 3h12a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"}),r.createElement("path",{fill:"#FFF",d:"M4 4h12v12H4z"}),r.createElement("path",{stroke:"#5F6672",strokeLinecap:"round",d:"M10.75 9.25c.781.781 1 2 .25 2.75l-1 1c-.75.75-2.219.781-3 0-.781-.781-.75-2.25 0-3"}),r.createElement("path",{stroke:"#5F6672",strokeLinecap:"round",d:"M9.25 10.75c-.781-.781-1-2-.25-2.75l1-1c.75-.75 2.219-.781 3 0 .781.781.75 2.25 0 3"}),r.createElement("path",{fill:"#323B4A",fillRule:"nonzero",d:"M15 2a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3h10zm0 2H5a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1z"}));const Tr=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",className:"Icon element-mini-link-selected"},e),Sr)));var wr=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#CCC",d:"M4 3h12a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"}),r.createElement("path",{fill:"#FFF",d:"M4 4h12v12H4z"}),r.createElement("path",{stroke:"#5F6672",strokeLinecap:"round",d:"M10.75 9.25c.781.781 1 2 .25 2.75l-1 1c-.75.75-2.219.781-3 0-.781-.781-.75-2.25 0-3"}),r.createElement("path",{stroke:"#5F6672",strokeLinecap:"round",d:"M9.25 10.75c-.781-.781-1-2-.25-2.75l1-1c.75-.75 2.219-.781 3 0 .781.781.75 2.25 0 3"}));const Or=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",className:"Icon element-mini-link"},e),wr)));var _r=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#CCC",d:"M3 4h14a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1z"}),r.createElement("path",{fill:"#FFF",d:"M3 5h14v10H3z"}),r.createElement("path",{fill:"#767C86",d:"m11.485 6.963-1.22.798-.69.458-.542.367-.352.242-.317.222-.293.211-.469.35-.17.133-.15.121-.134.113a5.44 5.44 0 0 0-.352.33 2.38 2.38 0 0 0-.215.252c-.094.127-.151.24-.185.368a.628.628 0 0 0 .411.755c.061.02.114.03.178.038.08.008.147.01.242.004.168-.014.307-.036.503-.08l.176-.043.188-.05.41-.119.57-.182 1.01-.342-.559.489-.206.187-.082.079-.142.148-.051.061a.694.694 0 0 0-.084.131l-.018.042-.019.072-.006.067.002.031.006.043a.396.396 0 0 0 .058.133l.019.025.062.061.062.042a.6.6 0 0 0 .23.076c.08.01.139.008.248-.002l.084-.01.098-.017.216-.044.12-.029.808-.202a4.85 4.85 0 0 1 .58-.108 2.81 2.81 0 0 1 .519-.016c.175.015.32.048.436.1a.654.654 0 0 1 .4.46l.02.125a.37.37 0 0 0 .383.272c.202-.008.367-.162.357-.355l-.008-.081a1.22 1.22 0 0 0-.065-.26l-.031-.078a1.282 1.282 0 0 0-.133-.234 1.425 1.425 0 0 0-.582-.468c-.2-.092-.433-.15-.706-.176a3.68 3.68 0 0 0-.686.011l-.205.026-.208.035-.15.03-.26.059-.196.046.544-.462.26-.231.091-.086.179-.178.068-.077.065-.083a.905.905 0 0 0 .062-.097l.029-.06a.466.466 0 0 0 .035-.147.385.385 0 0 0-.01-.125.361.361 0 0 0-.06-.132.416.416 0 0 0-.145-.133.632.632 0 0 0-.133-.053.688.688 0 0 0-.2-.018l-.084.007c-.058.007-.11.015-.172.029l-.243.06-.272.077-.385.12-1.088.353-.454.143-.268.08-.234.067-.215.057-.252.058.092-.087.112-.1.188-.157.228-.178.36-.267.28-.198.296-.205.325-.22.63-.416.367-.239.585-.376 1.11-.704.042-.03c.204-.166.23-.438.06-.627a.56.56 0 0 0-.703-.082z"}),r.createElement("path",{fill:"#323B4A",fillRule:"nonzero",d:"M16 3a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H4a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h12zm0 2H4a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z"}));const Rr=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",className:"Icon element-mini-sketch-selected"},e),_r)));var Ar=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#CCC",d:"M3 4h14a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1z"}),r.createElement("path",{fill:"#FFF",d:"M3 5h14v10H3z"}),r.createElement("path",{fill:"#767C86",d:"m11.485 6.963-1.22.798-.69.458-.542.367-.352.242-.317.222-.293.211-.469.35-.17.133-.15.121-.134.113a5.44 5.44 0 0 0-.352.33 2.38 2.38 0 0 0-.215.252c-.094.127-.151.24-.185.368a.628.628 0 0 0 .411.755c.061.02.114.03.178.038.08.008.147.01.242.004.168-.014.307-.036.503-.08l.176-.043.188-.05.41-.119.57-.182 1.01-.342-.559.489-.206.187-.082.079-.142.148-.051.061a.694.694 0 0 0-.084.131l-.018.042-.019.072-.006.067.002.031.006.043a.396.396 0 0 0 .058.133l.019.025.062.061.062.042a.6.6 0 0 0 .23.076c.08.01.139.008.248-.002l.084-.01.098-.017.216-.044.12-.029.808-.202a4.85 4.85 0 0 1 .58-.108 2.81 2.81 0 0 1 .519-.016c.175.015.32.048.436.1a.654.654 0 0 1 .4.46l.02.125a.37.37 0 0 0 .383.272c.202-.008.367-.162.357-.355l-.008-.081a1.22 1.22 0 0 0-.065-.26l-.031-.078a1.282 1.282 0 0 0-.133-.234 1.425 1.425 0 0 0-.582-.468c-.2-.092-.433-.15-.706-.176a3.68 3.68 0 0 0-.686.011l-.205.026-.208.035-.15.03-.26.059-.196.046.544-.462.26-.231.091-.086.179-.178.068-.077.065-.083a.905.905 0 0 0 .062-.097l.029-.06a.466.466 0 0 0 .035-.147.385.385 0 0 0-.01-.125.361.361 0 0 0-.06-.132.416.416 0 0 0-.145-.133.632.632 0 0 0-.133-.053.688.688 0 0 0-.2-.018l-.084.007c-.058.007-.11.015-.172.029l-.243.06-.272.077-.385.12-1.088.353-.454.143-.268.08-.234.067-.215.057-.252.058.092-.087.112-.1.188-.157.228-.178.36-.267.28-.198.296-.205.325-.22.63-.416.367-.239.585-.376 1.11-.704.042-.03c.204-.166.23-.438.06-.627a.56.56 0 0 0-.703-.082z"}));const Dr=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",className:"Icon element-mini-sketch"},e),Ar)));var Nr=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#CCC",d:"M3 4h14a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1z"}),r.createElement("path",{fill:"#FFF",d:"M3 5h14v10H3z"}),r.createElement("path",{fill:"#E6E6E6",d:"M3 5h14v3H3z"}),r.createElement("path",{fill:"#CCC",d:"M3 11h14v1H3z"}),r.createElement("path",{fill:"#CCC",d:"M12 5h1v10h-1zM7 5h1v10H7z"}),r.createElement("path",{fill:"#323B4A",fillRule:"nonzero",d:"M16.5 3A2.5 2.5 0 0 1 19 5.5v9a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 1 14.5v-9A2.5 2.5 0 0 1 3.5 3h13zm0 2h-13a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5z"}));const xr=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",className:"Icon element-mini-table-selected"},e),Nr)));var Mr=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#CCC",d:"M3 4h14a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1z"}),r.createElement("path",{fill:"#FFF",d:"M3 5h14v10H3z"}),r.createElement("path",{fill:"#E6E6E6",d:"M3 5h14v3H3z"}),r.createElement("path",{fill:"#CCC",d:"M3 11h14v1H3z"}),r.createElement("path",{fill:"#CCC",d:"M12 5h1v10h-1zM7 5h1v10H7z"}));const Pr=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",className:"Icon element-mini-table"},e),Mr)));var Lr=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#CCC",d:"M3 4h14a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1z"}),r.createElement("path",{fill:"#FFF",d:"M3 5h14v10H3z"}),r.createElement("path",{fill:"#767C86",d:"M10.286 8h4a.5.5 0 1 1 0 1h-4a.5.5 0 1 1 0-1zm0 3h4a.5.5 0 1 1 0 1h-4a.5.5 0 1 1 0-1zM6.232 7.837a.429.429 0 1 0-.606.606l.857.857a.429.429 0 0 0 .606 0l1.428-1.428a.429.429 0 1 0-.606-.606L6.786 8.39l-.554-.554zm0 3a.429.429 0 0 0-.606.606l.857.857a.429.429 0 0 0 .606 0l1.428-1.428a.429.429 0 1 0-.606-.606L6.786 11.39l-.554-.554z"}),r.createElement("path",{fill:"#323B4A",fillRule:"nonzero",d:"M16 3a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H4a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h12zm0 2H4a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z"}));const kr=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",className:"Icon element-mini-task-list-selected"},e),Lr)));var Fr=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#CCC",d:"M3 4h14a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1z"}),r.createElement("path",{fill:"#FFF",d:"M3 5h14v10H3z"}),r.createElement("path",{fill:"#767C86",d:"M10.286 8h4a.5.5 0 1 1 0 1h-4a.5.5 0 1 1 0-1zm0 3h4a.5.5 0 1 1 0 1h-4a.5.5 0 1 1 0-1zM6.232 7.837a.429.429 0 1 0-.606.606l.857.857a.429.429 0 0 0 .606 0l1.428-1.428a.429.429 0 1 0-.606-.606L6.786 8.39l-.554-.554zm0 3a.429.429 0 0 0-.606.606l.857.857a.429.429 0 0 0 .606 0l1.428-1.428a.429.429 0 1 0-.606-.606L6.786 11.39l-.554-.554z"}));const Br=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",className:"Icon element-mini-task-list"},e),Fr)));var jr=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#1B2536",fillOpacity:.5,d:"M13.146 12.146a.5.5 0 0 1 .708.708l-1 1a.5.5 0 0 1-.708-.708zm0-4a.5.5 0 0 1 .708.708l-5 5a.5.5 0 0 1-.708-.708zm0-4a.5.5 0 0 1 .708.708l-9 9a.5.5 0 0 1-.708-.708z"}),r.createElement("path",{fill:"#FFF",fillOpacity:.7,d:"M13.146 6.146a.5.5 0 0 1 .708.708l-7 7a.5.5 0 0 1-.708-.708zm0-4a.5.5 0 0 1 .708.708l-11 11a.5.5 0 0 1-.708-.708zm0 8a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708-.708z"}));const zr=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon element-resize-handle"},e),jr)));var Ur=r.createElement("defs",null,r.createElement("filter",{id:"ElementSketchIcon__a",width:"131.2%",height:"138.5%",x:"-15.6%",y:"-15.4%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:1.5}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0.196078431 0 0 0 0 0.231372549 0 0 0 0 0.290196078 0 0 0 0.15 0"})),r.createElement("path",{id:"ElementSketchIcon__b",d:"M0 1.997C0 .894.89 0 2.002 0h27.996A2 2 0 0 1 32 1.997v22.006C32 25.106 31.11 26 29.998 26H2.002A2 2 0 0 1 0 24.003V1.997z"})),Hr=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("g",null,r.createElement("use",{xlinkHref:"#ElementSketchIcon__b",fill:"#000",filter:"url(#ElementSketchIcon__a)"}),r.createElement("use",{xlinkHref:"#ElementSketchIcon__b",fill:"#FFF"})),r.createElement("path",{fill:"#48505E",d:"M20.79 5.344a.88.88 0 0 1-.095 1.18l-.078.066-2.54 1.878-1.34 1.005-.84.637-.613.47-.83.644-.744.586-.68.55-.641.53-.416.354-.414.362-.187.168-.34.312-.155.148-.286.282-.26.273c-.084.09-.164.18-.243.272a4.335 4.335 0 0 0-.353.466 2.025 2.025 0 0 0-.095.16l-.023.047.04-.003c.247-.028.525-.087.885-.182l.187-.05.236-.069.496-.153.54-.179.614-.215 1.042-.383 2.483-.94.877-.318.14-.049c.17-.058.322-.109.47-.155l.318-.095c.233-.066.394-.105.585-.13l.18-.019c.133-.006.221 0 .373.038.066.02.136.051.229.106.103.07.2.169.242.256.05.086.085.18.095.246a.98.98 0 0 1-.039.502l-.055.14c-.038.08-.079.154-.123.222a3.554 3.554 0 0 1-.132.197l-.152.199c-.056.07-.12.146-.193.233l-.202.227-.204.223-.333.35-.256.261-2.02 2.007-.123.125 1.598-.444.588-.155.338-.08.158-.033.306-.058.15-.024.307-.042a6.993 6.993 0 0 1 1.51-.03c.578.065 1.086.205 1.526.443.497.258.923.658 1.214 1.136.107.174.197.36.27.554l.069.197c.065.21.108.408.132.611l.016.205a.567.567 0 0 1-1.123.149l-.013-.093a2.24 2.24 0 0 0-.334-1.013 1.954 1.954 0 0 0-.778-.706c-.3-.157-.666-.252-1.093-.294a5.815 5.815 0 0 0-1.242.044c-.41.056-.831.149-1.36.295l-1.843.54-.269.073-.24.061-.24.055-.214.042-.182.026a1.766 1.766 0 0 1-.507.005.931.931 0 0 1-.404-.151l-.106-.08-.062-.063-.042-.05-.036-.056a.8.8 0 0 1-.086-.218l-.012-.092-.003-.054c0-.036.002-.066.006-.1l.03-.144.032-.09c.047-.109.09-.188.155-.283l.108-.15.152-.193.16-.189.184-.204.465-.495 1.818-1.855.346-.363.147-.158-.61.23-3.009 1.186-.671.256-.627.229c-.493.176-.924.32-1.35.446l-.399.111a6.139 6.139 0 0 1-1.103.206c-.19.013-.332.013-.501-.007a1.509 1.509 0 0 1-.347-.087 1.097 1.097 0 0 1-.436-.298 1.494 1.494 0 0 1-.32-1.315c.069-.31.19-.575.375-.868.135-.216.287-.423.465-.637.249-.297.497-.567.785-.857l.304-.297.34-.32.385-.352.212-.19.423-.37.428-.367.668-.56.722-.592.802-.644 1.237-.976 1.574-1.222 1.458-1.115L19.55 5.18a.89.89 0 0 1 1.24.164z"}));const Zr=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:32,height:26,viewBox:"0 0 32 26",className:"Icon element-sketch"},e),Ur,Hr)));var Gr=r.createElement("defs",null,r.createElement("filter",{id:"ElementTableIcon__a",width:"131.2%",height:"138.5%",x:"-15.6%",y:"-15.4%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:1.5}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0.196078431 0 0 0 0 0.231372549 0 0 0 0 0.290196078 0 0 0 0.15 0"})),r.createElement("path",{id:"ElementTableIcon__b",d:"M0 1.997C0 .894.89 0 2.002 0h27.996A2 2 0 0 1 32 1.997v22.006C32 25.106 31.11 26 29.998 26H2.002A2 2 0 0 1 0 24.003V1.997Z"})),Kr=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("g",{transform:"translate(3 2)"},r.createElement("use",{xlinkHref:"#ElementTableIcon__b",fill:"#000",filter:"url(#ElementTableIcon__a)"}),r.createElement("use",{xlinkHref:"#ElementTableIcon__b",fill:"#FFF"})),r.createElement("path",{fill:"#D1D3D6",d:"M5 2h28a2 2 0 0 1 2 2v4H3V4a2 2 0 0 1 2-2Z"}),r.createElement("path",{fill:"#1B2536",fillOpacity:.1,d:"M14 2v12h10V2h1v12h10v1H25v6h10v1H25v6h-1v-6H14v6h-1v-6H3v-1h10v-6H3v-1h10V2h1Zm10 19v-6H14v6h10Z"}));const Wr=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:38,height:32,viewBox:"0 0 38 32",className:"Icon element-table"},e),Gr,Kr)));var Vr=r.createElement("defs",null,r.createElement("filter",{id:"ElementTaskListIcon__a",width:"131.2%",height:"145.5%",x:"-15.6%",y:"-18.2%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:1.5}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0.196078431 0 0 0 0 0.231372549 0 0 0 0 0.290196078 0 0 0 0.15 0"})),r.createElement("path",{id:"ElementTaskListIcon__b",d:"M0 1.991C0 .891.89 0 2.002 0h27.996C31.104 0 32 .89 32 1.991V20.01c0 1.1-.89 1.991-2.002 1.991H2.002A1.995 1.995 0 0 1 0 20.009V1.99z"})),$r=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("use",{xlinkHref:"#ElementTaskListIcon__b",fill:"#000",filter:"url(#ElementTaskListIcon__a)"}),r.createElement("use",{xlinkHref:"#ElementTaskListIcon__b",fill:"#FFF"}),r.createElement("path",{fill:"#323B4A",d:"M10.47 11.47a.75.75 0 0 1 1.06 1.06l-3 3a.75.75 0 0 1-1.06 0l-1.5-1.5a.75.75 0 0 1 1.06-1.06l.97.97zM26.245 13c.382 0 .698.28.748.648l.007.102a.75.75 0 0 1-.755.75h-11.49a.75.75 0 1 1 0-1.5h11.49zM10.47 5.47a.75.75 0 0 1 1.06 1.06l-3 3a.75.75 0 0 1-1.06 0l-1.5-1.5a.75.75 0 0 1 1.06-1.06l.97.97zM26.245 7c.382 0 .698.28.748.648L27 7.75a.75.75 0 0 1-.755.75h-11.49a.75.75 0 1 1 0-1.5h11.49z"}));const qr=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:32,height:22,viewBox:"0 0 32 22",className:"Icon element-task-list"},e),Vr,$r)));var Yr=r.createElement("defs",null,r.createElement("filter",{id:"ElementVideoIcon__a",width:"131.2%",height:"131.2%",x:"-15.6%",y:"-12.5%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:1.5}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0.196078431 0 0 0 0 0.231372549 0 0 0 0 0.290196078 0 0 0 0.15 0"})),r.createElement("rect",{id:"ElementVideoIcon__b",width:32,height:32,x:0,y:0,rx:2}),r.createElement("path",{id:"ElementVideoIcon__c",d:"M2 0h28a2 2 0 0 1 2 2v22H0V2a2 2 0 0 1 2-2z"})),Xr=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("g",null,r.createElement("use",{xlinkHref:"#ElementVideoIcon__b",fill:"#000",filter:"url(#ElementVideoIcon__a)"}),r.createElement("use",{xlinkHref:"#ElementVideoIcon__b",fill:"#FFF"}),r.createElement("mask",{id:"ElementVideoIcon__d",fill:"#fff"},r.createElement("use",{xlinkHref:"#ElementVideoIcon__c"})),r.createElement("use",{xlinkHref:"#ElementVideoIcon__c",fill:"#70ADD3"}),r.createElement("circle",{cx:7,cy:4,r:8,fill:"#00FFBA",fillOpacity:.601,mask:"url(#ElementVideoIcon__d)",opacity:.58}),r.createElement("circle",{cx:18,cy:26,r:12,fill:"#C54DE9",mask:"url(#ElementVideoIcon__d)",opacity:.688}),r.createElement("circle",{cx:28,cy:14,r:6,fill:"#FFF",fillRule:"nonzero",mask:"url(#ElementVideoIcon__d)",opacity:.311})),r.createElement("g",{transform:"translate(9 5)"},r.createElement("circle",{cx:7,cy:7,r:7,fill:"#000",opacity:.4}),r.createElement("path",{fill:"#FFF",d:"M9.203 7.438 5.741 9.342A.5.5 0 0 1 5 8.905v-3.81a.5.5 0 0 1 .741-.437l3.462 1.904a.501.501 0 0 1 0 .876z"})));const Qr=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:32,height:32,viewBox:"0 0 32 32",className:"Icon element-video"},e),Yr,Xr)));var Jr=r.createElement("path",{fill:"#5F6672",fillRule:"evenodd",d:"M9.772 1.818a.75.75 0 0 1 1.456.364l-3 12a.75.75 0 0 1-1.456-.364zM3.47 4.47a.75.75 0 0 1 1.06 1.06L2.06 8l2.47 2.47a.75.75 0 0 1-1.06 1.06l-3-3a.75.75 0 0 1 0-1.06zm11.06 0 3 3a.75.75 0 0 1 0 1.06l-3 3a.75.75 0 0 1-1.06-1.06L15.94 8l-2.47-2.47a.75.75 0 0 1 1.06-1.06z"});const eo=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:18,height:16,viewBox:"0 0 18 16",className:"Icon embed"},e),Jr)));var to=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("circle",{cx:8,cy:8,r:8,fill:"#FF8D22"}),r.createElement("path",{fill:"#FFF",d:"M8 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2zM8 3a1 1 0 0 1 1 1v5a1 1 0 1 1-2 0V4a1 1 0 0 1 1-1z"}));const no=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon error-alert-round"},e),to)));var ro=r.createElement("g",{fill:"#F4511C",fillRule:"evenodd"},r.createElement("path",{d:"M51.666 51a4.317 4.317 0 0 0 3.753-2.216 4.517 4.517 0 0 0 0-4.433L32.753 4.216A4.314 4.314 0 0 0 29 2c-1.55 0-2.98.844-3.755 2.216L2.579 44.351a4.53 4.53 0 0 0 0 4.433A4.318 4.318 0 0 0 6.335 51h45.33ZM6.335 52.964a6.282 6.282 0 0 1-5.467-3.217 6.494 6.494 0 0 1 .001-6.361L23.535 3.25A6.281 6.281 0 0 1 29 .036a6.277 6.277 0 0 1 5.463 3.215L57.13 43.386a6.48 6.48 0 0 1 0 6.363 6.28 6.28 0 0 1-5.463 3.215H6.335Z"}),r.createElement("path",{d:"M27.135 27.636 27 20h4l-.135 7.636L30.298 36h-2.596zM29 43a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"}));const oo=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:58,height:53,viewBox:"0 0 58 53",className:"Icon error-alert"},e),ro)));var io=r.createElement("defs",null,r.createElement("filter",{id:"ExportPdfIcon__b",width:"200%",height:"200%",x:"-50%",y:"-50%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{dy:-1,in:"SourceAlpha",result:"shadowOffsetInner1"}),r.createElement("feComposite",{in:"shadowOffsetInner1",in2:"SourceAlpha",k2:-1,k3:1,operator:"arithmetic",result:"shadowInnerInner1"}),r.createElement("feColorMatrix",{in:"shadowInnerInner1",result:"shadowMatrixInner1",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),r.createElement("feOffset",{dx:1,in:"SourceAlpha",result:"shadowOffsetInner2"}),r.createElement("feComposite",{in:"shadowOffsetInner2",in2:"SourceAlpha",k2:-1,k3:1,operator:"arithmetic",result:"shadowInnerInner2"}),r.createElement("feColorMatrix",{in:"shadowInnerInner2",result:"shadowMatrixInner2",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),r.createElement("feMerge",null,r.createElement("feMergeNode",{in:"shadowMatrixInner1"}),r.createElement("feMergeNode",{in:"shadowMatrixInner2"}))),r.createElement("path",{id:"ExportPdfIcon__a",d:"M0 4h12v7H0z"})),so=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#CACACA",d:"M3 0v26h20V6.999L16 0z"}),r.createElement("path",{fill:"#FFF",d:"M4 1h11v7h7v17H4z"}),r.createElement("path",{fill:"#FFF",d:"m16 1.417 5.581 5.582H16z"}),r.createElement("g",null,r.createElement("use",{xlinkHref:"#ExportPdfIcon__a",fill:"#E60B0B"}),r.createElement("use",{xlinkHref:"#ExportPdfIcon__a",fill:"#000",filter:"url(#ExportPdfIcon__b)"})));const ao=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:23,height:26,viewBox:"0 0 23 26",className:"Icon export-pdf"},e),io,so)));var lo=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#CACACA",d:"M0 0v26h20V6.999L13 0z"}),r.createElement("path",{fill:"#FFF",d:"M1 1h11v7h7v17H1z"}),r.createElement("path",{fill:"#FFF",d:"m13 1.417 5.581 5.582H13z"}),r.createElement("g",{fill:"#929292"},r.createElement("path",{d:"M4 12h12v1H4zM4 14h12v1H4zM4 16h12v1H4zM4 18h12v1H4z"})));const co=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:20,height:26,viewBox:"0 0 20 26",className:"Icon export-text"},e),lo)));var uo=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#CACACA",d:"M0 0v26h20V6.999L13 0z"}),r.createElement("path",{fill:"#FFF",d:"M1 1h11v7h7v17H1z"}),r.createElement("path",{fill:"#FFF",d:"m13 1.417 5.581 5.582H13z"}),r.createElement("path",{fill:"#2A579A",d:"M5 12h1.963l.585 3.965c.052.442.108.886.169 1.332.06.447.117.895.169 1.346h.052c.087-.45.171-.9.253-1.346.083-.446.167-.89.254-1.332L9.355 12h1.625l.91 3.965c.087.433.171.873.253 1.32.083.446.167.899.254 1.358h.052c.06-.46.12-.91.175-1.352.057-.442.115-.884.176-1.326L13.385 12h1.833l-1.508 8.476h-2.405l-.832-3.848c-.07-.33-.132-.66-.189-.995a33.537 33.537 0 0 1-.149-.968h-.052l-.162.969c-.057.333-.12.665-.189.994l-.793 3.848H6.573L5 12Z"}));const mo=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:20,height:26,viewBox:"0 0 20 26",className:"Icon export-word"},e),uo)));var po=r.createElement("path",{fill:"#A3A7AE",fillRule:"evenodd",d:"M7.5 4a.5.5 0 0 1 0 1H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V8.5a.5.5 0 0 1 1 0V12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm6-2a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V3.707L7.078 9.625a.497.497 0 0 1-.703-.703L12.293 3H9.5a.5.5 0 0 1 0-1z"});const ho=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon external-link"},e),po)));var go=r.createElement("path",{d:"M5.695 12 16 2.09 13.827 0 5.695 7.805 2.173 4.433 0 6.523z"});const fo=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:12,viewBox:"0 0 16 12",className:"Icon feature-tick"},e),go)));var Eo=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"gray",d:"M23.172 0a2 2 0 0 1 1.414.586l6.828 6.828A2 2 0 0 1 32 8.828V36a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4h19.172zM22 1.5H4A2.5 2.5 0 0 0 1.5 4v32A2.5 2.5 0 0 0 4 38.5h24a2.5 2.5 0 0 0 2.5-2.5V10H22V1.5zm1.525.146-.025-.021V8.5h6.877l-6.852-6.854z"}),r.createElement("path",{fill:"#AF72FF",fillRule:"nonzero",d:"m9.333 29 .935-2.695h3.977l.93 2.695h1.63l-3.663-10.182h-1.775L7.703 29h1.63zm1.382-3.987 1.502-4.345h.08l1.5 4.345h-3.082zm10.304 4.141c1.665 0 2.844-.82 3.182-2.063l-1.407-.254c-.269.721-.915 1.09-1.76 1.09-1.273 0-2.128-.826-2.168-2.298h5.43v-.527c0-2.759-1.651-3.838-3.382-3.838-2.127 0-3.53 1.62-3.53 3.968 0 2.371 1.383 3.922 3.635 3.922zm-2.148-4.638c.06-1.084.845-2.024 2.053-2.024 1.154 0 1.91.855 1.914 2.024h-3.967z"}));const vo=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:40,viewBox:"0 0 32 40",className:"Icon file-aftereffects"},e),Eo)));var bo=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{stroke:"#B5B5B5",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 14H1v33h36V14H26"}),r.createElement("path",{fill:"#B5B5B5",fillRule:"nonzero",d:"M18.25 1.539v27.93c0 .572.336 1.035.75 1.035s.75-.463.75-1.034V1.539c0-.572-.336-1.035-.75-1.035s-.75.463-.75 1.035z"}),r.createElement("path",{stroke:"#B5B5B5",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m12 8 7-7 7 7"}));const yo=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:38,height:48,viewBox:"0 0 38 48",className:"Icon file-form-upload"},e),bo)));var Io=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{stroke:"#F37221",strokeLinecap:"round",strokeWidth:1.406,d:"m14.99 3.522 2.436 6.57"}),r.createElement("path",{fill:"#F37221",fillRule:"nonzero",d:"m14.676 10.27 4.057 3.339.916-5.124z"}),r.createElement("path",{stroke:"#F37221",strokeLinecap:"round",strokeWidth:1.406,d:"M29.594 1v7.391"}),r.createElement("path",{fill:"#F37221",fillRule:"nonzero",d:"m27.108 7.584 2.487 4.764 2.486-4.764z"}),r.createElement("path",{stroke:"#F37221",strokeLinecap:"round",strokeWidth:1.406,d:"m1 32.522 5.667 5.748"}),r.createElement("path",{fill:"#F37221",fillRule:"nonzero",d:"m3.942 39.782 5.76 1.566-1.543-5.843z"}),r.createElement("path",{fill:"#323B4A",d:"M46.815 42.088c-.126-1.578-1.69-5.244-2.254-6.237-.793-1.4-1.617-1.838-2.61-1.774-.963.06-1.35.616-1.107 1.628.028.124.166.559.373 1.065.004.014.004.028.004.028s-.307-.62-.754-1.29c-.12-.263-.25-.516-.366-.733-.92-1.731-1.97-2.237-3.178-2.162-.892.057-1.378.463-1.427 1.197-.19.872-.106 1.955-.085 2.215l-.02-.043a13.36 13.36 0 0 0-.082-.306c-.57-4.014-1.092-8.04-1.73-12.047-.355-2.233-.715-3.832-1.247-6.034-.253-1.05-.912-1.823-2.054-1.293-.461.214-.694.599-1.039 1.158-.5.812-.564 1.891-.535 2.835.067 2.22.313 4.435.49 6.654.105 1.307.5 7.406.612 8.795-.042.384-.077.648-.077.648l-.493-1.19c-2.009-4.794-4.01-9.589-6.039-14.372a13.15 13.15 0 0 0-1.13-2.109c-.652-.983-1.502-.915-2.234.018-1.138 1.457-.124 5.019.278 6.326 1.254 4.078 2.533 8.153 3.939 12.178.683 1.96.704 3.922.606 5.924-.046.926-.434 1.275-1.37 1.222-.698-.04-1.392-.2-2.08-.353-1.933-.435-3.86-.901-5.791-1.332-1.237-.278-2.452-.16-3.629.313-.803.324-1.458.83-1.85 1.628-.461.94-.243 1.642.684 2.098.433.214.895.388 1.363.502 4.693 1.14 8.346 3.904 11.422 7.527.229.267.546.645.923 1.083l.173.2c.82.879 4.678 4.274 13.884 2.379 5.816-1.197 7.627-5.56 8.194-8.236.286-1.962.437-3.943.42-5.934a15.11 15.11 0 0 0-.184-2.176z"}));const Co=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:47,height:59,viewBox:"0 0 47 59",className:"Icon gesture-copy"},e),Io)));var So=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{stroke:"#F37221",strokeLinecap:"round",strokeWidth:1.406,d:"M31.663 1v7.356"}),r.createElement("path",{fill:"#F37221",fillRule:"nonzero",d:"m28.534 7.556 3.129 4.742 3.128-4.742z"}),r.createElement("text",{fill:"#F37221",fillRule:"nonzero",fontFamily:"Inter-Bold, Inter",fontSize:10,fontWeight:"bold",transform:"translate(1 1)"},r.createElement("tspan",{x:40.996,y:24.091},"x2")),r.createElement("path",{stroke:"#F37221",strokeLinecap:"round",strokeWidth:1.406,d:"m1 32.383 5.705 5.722"}),r.createElement("path",{fill:"#F37221",fillRule:"nonzero",d:"m3.962 39.611 5.799 1.56-1.554-5.817z"}),r.createElement("path",{fill:"#323B4A",d:"M48.372 43.162c-.127-1.57-1.702-5.22-2.27-6.21-.797-1.393-1.627-1.83-2.627-1.766-.969.06-1.359.614-1.114 1.621.028.124.167.557.376 1.06.004.015.004.029.004.029s-.309-.617-.76-1.284a12.66 12.66 0 0 0-.368-.73c-.926-1.724-1.983-2.228-3.2-2.153-.896.057-1.386.46-1.436 1.191-.191.87-.106 1.947-.085 2.206l-.02-.042-.082-.305c-.575-3.997-1.1-8.004-1.742-11.994-.358-2.223-.72-3.816-1.255-6.007-.256-1.047-.919-1.816-2.068-1.288-.464.213-.699.596-1.046 1.153-.504.808-.568 1.883-.54 2.823.068 2.21.316 4.415.494 6.624.106 1.302.503 7.373.617 8.756-.043.383-.078.646-.078.646s-.33-.791-.497-1.185c-2.021-4.773-4.036-9.547-6.078-14.31-.312-.73-.699-1.44-1.139-2.099-.656-.978-1.51-.911-2.248.018-1.146 1.45-.124 4.997.28 6.298 1.262 4.06 2.55 8.118 3.965 12.125.688 1.95.71 3.905.61 5.898-.046.922-.436 1.27-1.38 1.216-.702-.039-1.4-.199-2.092-.351-1.947-.433-3.887-.897-5.83-1.326-1.245-.277-2.469-.16-3.653.312-.809.322-1.469.826-1.862 1.62-.465.937-.245 1.635.688 2.09.436.212.9.386 1.372.5 4.724 1.134 8.402 3.886 11.498 7.493.23.265.55.641.93 1.078l.173.198c.826.876 4.71 4.256 13.977 2.37 5.855-1.192 7.678-5.537 8.249-8.2.287-1.954.44-3.926.422-5.908a14.881 14.881 0 0 0-.185-2.167z"}),r.createElement("path",{stroke:"#F37221",strokeLinecap:"round",strokeWidth:1.406,d:"m15.084 4.766 2.455 6.539"}),r.createElement("path",{fill:"#F37221",fillRule:"nonzero",d:"m14.767 11.48 4.084 3.329.922-5.101z"}));const To=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:55,height:60,viewBox:"0 0 55 60",className:"Icon gesture-cut"},e),So)));var wo=r.createElement("defs",null,r.createElement("filter",{id:"GestureDragCardIcon__a",width:"155.6%",height:"200%",x:"-27.8%",y:"-40%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{dy:2,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:3}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",result:"shadowMatrixOuter1",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.152360823 0"}),r.createElement("feOffset",{dx:1,dy:2,in:"SourceAlpha",result:"shadowOffsetOuter2"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter2",result:"shadowBlurOuter2",stdDeviation:1.5}),r.createElement("feColorMatrix",{in:"shadowBlurOuter2",result:"shadowMatrixOuter2",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.106262634 0"}),r.createElement("feMerge",null,r.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),r.createElement("feMergeNode",{in:"shadowMatrixOuter2"}))),r.createElement("path",{id:"GestureDragCardIcon__b",d:"M0 0h36v20H0z"})),Oo=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("g",{fillRule:"nonzero",opacity:.94,transform:"translate(6 4)"},r.createElement("use",{xlinkHref:"#GestureDragCardIcon__b",fill:"#000",filter:"url(#GestureDragCardIcon__a)"}),r.createElement("use",{xlinkHref:"#GestureDragCardIcon__b",fill:"#FEFEFE"})),r.createElement("path",{fill:"#323B4A",d:"M49.577 39.401c-.128-1.605-1.705-5.333-2.273-6.343-.8-1.424-1.63-1.87-2.632-1.804-.97.061-1.36.626-1.116 1.655.029.127.167.569.377 1.083a.138.138 0 0 1 .003.03s-.309-.631-.76-1.312c-.12-.268-.252-.525-.37-.746-.926-1.761-1.985-2.275-3.203-2.2-.899.059-1.39.472-1.439 1.218-.217 1.014-.078 2.311-.078 2.311s-.345-1.373-.64-2.206c0-.007-.003-.01-.003-.018-.558-2.2-2.256-2.59-3.648-2.5-1.098.073-1.701.757-1.652 1.558 0 .141.011.297.04.464.149.974.173 3.02.173 3.02s-.33-.807-.497-1.209c-2.025-4.876-4.042-9.752-6.088-14.618-.313-.746-.7-1.47-1.14-2.144-.657-1-1.514-.931-2.252.018-1.148 1.482-.125 5.104.28 6.434 1.265 4.148 2.554 8.292 3.971 12.386.569 1.644.682 3.293.647 4.963l-.01.112a5.24 5.24 0 0 1-.775 2.109c-.512.778-1.076.615-1.709-.07-1.023-1.108-1.147-3.137-1.218-3.944-.12-1.392.117-2.746-1.513-4.623-.835-.956-1.758-1.271-2.242-1.192-.515.084-.738 1.58-.717 3.5.025 2.166.014 4.34-.04 6.506-.074 2.949.978 5.46 2.661 7.789 1.01 1.398 2.157 2.637 3.382 3.79l.004-.015s3.555 3.206 10.613 3.198c1.545.011 3.328-.152 5.37-.576 5.865-1.217 7.691-5.655 8.263-8.375.288-1.996.44-4.01.423-6.036a16.799 16.799 0 0 0-.192-2.213z"}));const _o=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:50,height:57,viewBox:"0 0 50 57",className:"Icon gesture-drag-card"},e),wo,Oo)));var Ro=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#F3F3F4",fillRule:"nonzero",d:"M0 0h34.843v28.255H0z",opacity:.94}),r.createElement("path",{stroke:"#F37221",strokeWidth:1.406,d:"M15.883 7.1c4.451-.7 8.628 2.327 9.334 6.765 1.266 10.726-14.003 13.13-16.115 2.543-.706-4.439 2.333-8.603 6.78-9.307z",opacity:.6}),r.createElement("path",{stroke:"#F37221",strokeWidth:1.406,d:"M15.46 10.85a4.61 4.61 0 0 1 5.972 2.587c2.015 5.754-6.106 8.94-8.569 3.365a4.586 4.586 0 0 1 2.596-5.952z"}),r.createElement("path",{fill:"#323B4A",d:"M42.808 38.106c-.126-1.577-1.69-5.238-2.254-6.23-.792-1.399-1.616-1.837-2.61-1.772-.96.06-1.348.615-1.105 1.626.028.124.165.558.373 1.063.004.015.004.029.004.029s-.307-.62-.754-1.288c-.12-.263-.25-.516-.366-.733-.92-1.73-1.969-2.235-3.177-2.16-.89.057-1.377.463-1.426 1.196-.215.996-.078 2.27-.078 2.27s-.341-1.349-.634-2.167c0-.007-.003-.01-.003-.018-.553-2.16-2.236-2.544-3.617-2.455-1.088.071-1.687.744-1.638 1.53 0 .139.01.292.039.455.148.958.173 2.968.173 2.968s-.328-.794-.493-1.189c-2.008-4.789-4.008-9.578-6.037-14.356a13.132 13.132 0 0 0-1.13-2.107c-.652-.982-1.5-.914-2.233.018-1.138 1.455-.123 5.013.278 6.32 1.254 4.073 2.532 8.144 3.937 12.164.564 1.616.677 3.235.641 4.875l-.01.11a5.098 5.098 0 0 1-.768 2.07c-.507.766-1.067.606-1.694-.067-1.014-1.088-1.137-3.081-1.208-3.874-.12-1.367.116-2.697-1.5-4.54-.828-.94-1.744-1.25-2.222-1.171-.511.082-.733 1.551-.712 3.437a175.71 175.71 0 0 1-.039 6.39c-.074 2.897.969 5.362 2.638 7.65 1 1.374 2.138 2.59 3.353 3.722l.004-.014S22.065 55.007 29.063 55c1.532.01 3.3-.15 5.325-.566 5.814-1.196 7.625-5.554 8.192-8.227.285-1.96.436-3.938.419-5.927a16.348 16.348 0 0 0-.19-2.174z"}));const Ao=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:43,height:55,viewBox:"0 0 43 55",className:"Icon gesture-edit-image"},e),Ro)));var Do=r.createElement("defs",null,r.createElement("linearGradient",{id:"GestureMultiSelectIcon__a",x1:"2535.436%",x2:"-42.245%",y1:"2667.687%",y2:"-47.057%"},r.createElement("stop",{offset:"0%",stopColor:"#F37221"}),r.createElement("stop",{offset:"86.72%",stopColor:"#F37221",stopOpacity:.48}),r.createElement("stop",{offset:"100%",stopColor:"#F37221",stopOpacity:.4})),r.createElement("linearGradient",{id:"GestureMultiSelectIcon__b",x1:"129.222%",x2:"14.223%",y1:"68.267%",y2:"41.75%"},r.createElement("stop",{offset:"0%",stopColor:"#F37221"}),r.createElement("stop",{offset:"86.72%",stopColor:"#F37221",stopOpacity:.48}),r.createElement("stop",{offset:"100%",stopColor:"#F37221",stopOpacity:.4})),r.createElement("linearGradient",{id:"GestureMultiSelectIcon__c",x1:"1166.66%",x2:"-1411.019%",y1:"1176.247%",y2:"-1538.5%"},r.createElement("stop",{offset:"0%",stopColor:"#F37221"}),r.createElement("stop",{offset:"86.72%",stopColor:"#F37221",stopOpacity:.48}),r.createElement("stop",{offset:"100%",stopColor:"#F37221",stopOpacity:.4})),r.createElement("linearGradient",{id:"GestureMultiSelectIcon__d",x1:"64.118%",x2:"-4.846%",y1:"87.34%",y2:"-95.021%"},r.createElement("stop",{offset:"0%",stopColor:"#F37221"}),r.createElement("stop",{offset:"86.72%",stopColor:"#F37221",stopOpacity:.48}),r.createElement("stop",{offset:"100%",stopColor:"#F37221",stopOpacity:.4})),r.createElement("linearGradient",{id:"GestureMultiSelectIcon__e",x1:"142.115%",x2:"-2435.563%",y1:"147.267%",y2:"-2567.477%"},r.createElement("stop",{offset:"0%",stopColor:"#F37221"}),r.createElement("stop",{offset:"86.72%",stopColor:"#F37221",stopOpacity:.48}),r.createElement("stop",{offset:"100%",stopColor:"#F37221",stopOpacity:.4})),r.createElement("linearGradient",{id:"GestureMultiSelectIcon__f",x1:"85.786%",x2:"-29.213%",y1:"58.252%",y2:"31.735%"},r.createElement("stop",{offset:"0%",stopColor:"#F37221"}),r.createElement("stop",{offset:"86.72%",stopColor:"#F37221",stopOpacity:.48}),r.createElement("stop",{offset:"100%",stopColor:"#F37221",stopOpacity:.4})),r.createElement("linearGradient",{id:"GestureMultiSelectIcon__g",x1:"1510.892%",x2:"-1066.786%",y1:"1638.71%",y2:"-1076.037%"},r.createElement("stop",{offset:"0%",stopColor:"#F37221"}),r.createElement("stop",{offset:"86.72%",stopColor:"#F37221",stopOpacity:.48}),r.createElement("stop",{offset:"100%",stopColor:"#F37221",stopOpacity:.4})),r.createElement("linearGradient",{id:"GestureMultiSelectIcon__h",x1:"104.842%",x2:"35.879%",y1:"195.013%",y2:"12.652%"},r.createElement("stop",{offset:"0%",stopColor:"#F37221"}),r.createElement("stop",{offset:"86.72%",stopColor:"#F37221",stopOpacity:.48}),r.createElement("stop",{offset:"100%",stopColor:"#F37221",stopOpacity:.4}))),No=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#F3F3F4",d:"M15 12h36v20H15z"}),r.createElement("g",{fillRule:"nonzero"},r.createElement("path",{fill:"url(#GestureMultiSelectIcon__a)",d:"M1.231-.516a.703.703 0 0 1 .095 1.4L1.231.89.878.889l.001.417c0 .356-.265.65-.608.697l-.095.007a.703.703 0 0 1-.697-.608l-.006-.096V.186c0-.355.264-.65.607-.696l.096-.006H1.23z",transform:"translate(1 1)"}),r.createElement("path",{fill:"url(#GestureMultiSelectIcon__b)",d:"M4.551.89h1.992a.703.703 0 1 0 0-1.406H4.551a.703.703 0 0 0 0 1.406zm5.312 0h1.992a.703.703 0 0 0 0-1.406H9.863a.703.703 0 0 0 0 1.406zm5.312 0h1.992a.703.703 0 0 0 0-1.406h-1.992a.703.703 0 0 0 0 1.406zm5.311 0h1.992a.703.703 0 0 0 0-1.406h-1.992a.703.703 0 0 0 0 1.406zm5.312 0h1.992a.703.703 0 0 0 0-1.406h-1.992a.703.703 0 1 0 0 1.406z",transform:"translate(1 1)"}),r.createElement("path",{fill:"url(#GestureMultiSelectIcon__c)",d:"M32.18-.516c.356 0 .65.264.696.607l.007.096v1.12a.703.703 0 0 1-1.4.095l-.006-.096-.001-.417h-.351a.703.703 0 0 1-.697-.607L30.42.187c0-.356.265-.65.608-.697l.096-.006h1.055z",transform:"translate(1 1)"}),r.createElement("path",{fill:"url(#GestureMultiSelectIcon__d)",d:"M31.477 5.185v2.19a.703.703 0 0 0 1.406 0v-2.19a.703.703 0 0 0-1.406 0zm0 5.842v2.19a.703.703 0 0 0 1.406 0v-2.19a.703.703 0 0 0-1.406 0zm0 5.842v2.191a.703.703 0 0 0 1.406 0v-2.19a.703.703 0 1 0-1.406 0z",transform:"translate(1 1)"}),r.createElement("path",{fill:"url(#GestureMultiSelectIcon__e)",d:"M32.18 23.089c.356 0 .65.264.696.607l.007.096v1.12c0 .355-.265.65-.608.696l-.095.007h-1.055a.703.703 0 0 1-.096-1.4l.096-.007h.351v-.416c0-.356.265-.65.608-.697l.096-.006z",transform:"translate(1 1)"}),r.createElement("path",{fill:"url(#GestureMultiSelectIcon__f)",d:"M27.8 24.208h-1.99a.703.703 0 0 0 0 1.407h1.99a.703.703 0 1 0 0-1.407zm-5.311 0h-1.992a.703.703 0 0 0 0 1.407h1.992a.703.703 0 1 0 0-1.407zm-5.312 0h-1.992a.703.703 0 0 0 0 1.407h1.992a.703.703 0 1 0 0-1.407zm-5.311 0H9.874a.703.703 0 0 0 0 1.407h1.992a.703.703 0 1 0 0-1.407zm-5.312 0H4.562a.703.703 0 0 0 0 1.407h1.992a.703.703 0 1 0 0-1.407z",transform:"translate(1 1)"}),r.createElement("path",{fill:"url(#GestureMultiSelectIcon__g)",d:"M.176 23.089c.356 0 .65.264.697.607l.006.096-.001.416h.353c.356 0 .65.265.697.608l.006.095c0 .356-.264.65-.608.697l-.095.007H.176a.703.703 0 0 1-.697-.608l-.006-.096v-1.12c0-.388.315-.702.703-.702z",transform:"translate(1 1)"}),r.createElement("path",{fill:"url(#GestureMultiSelectIcon__h)",d:"M.879 19.917v-2.19a.703.703 0 0 0-1.406 0v2.19a.703.703 0 0 0 1.406 0zm0-5.842v-2.191a.703.703 0 0 0-1.406 0v2.19a.703.703 0 0 0 1.406 0zm0-5.843v-2.19a.703.703 0 0 0-1.406 0v2.19a.703.703 0 0 0 1.406 0z",transform:"translate(1 1)"})),r.createElement("path",{fill:"#323B4A",d:"M57.812 43.911c-.124-1.594-1.657-5.297-2.21-6.301-.777-1.415-1.585-1.857-2.559-1.793-.943.062-1.323.623-1.084 1.645.027.126.162.565.366 1.076a.14.14 0 0 1 .003.029s-.3-.626-.739-1.303a13.067 13.067 0 0 0-.36-.741c-.9-1.75-1.93-2.26-3.114-2.185-.874.058-1.35.468-1.399 1.21-.21 1.007-.076 2.296-.076 2.296s-.335-1.364-.621-2.192c0-.007-.004-.011-.004-.018-.542-2.185-2.193-2.573-3.546-2.484-1.067.072-1.655.753-1.606 1.548 0 .14.01.295.038.46.145.969.169 3.002.169 3.002s-.321-.802-.483-1.202c-1.969-4.844-3.93-9.688-5.92-14.522a13.425 13.425 0 0 0-1.108-2.13c-.64-.994-1.471-.925-2.19.018-1.115 1.472-.12 5.07.273 6.391 1.23 4.121 2.483 8.239 3.861 12.305.553 1.634.663 3.272.629 4.931l-.01.112a5.259 5.259 0 0 1-.754 2.094c-.497.774-1.05.612-1.66-.068-.995-1.101-1.116-3.117-1.185-3.92-.118-1.381.114-2.727-1.471-4.592-.812-.95-1.71-1.263-2.18-1.184-.5.083-.718 1.57-.697 3.477.024 2.152.014 4.311-.038 6.464-.073 2.93.95 5.423 2.587 7.737.98 1.39 2.096 2.62 3.287 3.765l.004-.014s3.457 3.185 10.318 3.177c1.503.011 3.236-.15 5.222-.572 5.702-1.209 7.477-5.618 8.033-8.32.28-1.984.428-3.985.41-5.997a15.852 15.852 0 0 0-.186-2.199z"}));const xo=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:58,height:61,viewBox:"0 0 58 61",className:"Icon gesture-multi-select"},e),Do,No)));var Mo=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{stroke:"#F37221",strokeWidth:1.406,d:"M7.883 1.1c4.451-.7 8.628 2.327 9.334 6.765 1.266 10.726-14.003 13.13-16.115 2.543C.396 5.969 3.435 1.805 7.882 1.1z",opacity:.6}),r.createElement("path",{stroke:"#F37221",strokeWidth:1.406,d:"M7.46 4.85a4.61 4.61 0 0 1 5.972 2.587c2.015 5.754-6.106 8.94-8.569 3.365A4.586 4.586 0 0 1 7.46 4.85z"}),r.createElement("path",{fill:"#323B4A",d:"M34.808 32.106c-.126-1.577-1.69-5.238-2.254-6.23-.792-1.399-1.616-1.837-2.61-1.772-.96.06-1.348.615-1.105 1.626.028.124.165.558.373 1.063.004.015.004.029.004.029s-.307-.62-.754-1.288c-.12-.263-.25-.516-.366-.733-.92-1.73-1.969-2.235-3.177-2.16-.89.057-1.377.463-1.426 1.196-.215.996-.078 2.27-.078 2.27s-.341-1.349-.634-2.167c0-.007-.003-.01-.003-.018-.553-2.16-2.236-2.544-3.617-2.455-1.088.071-1.687.744-1.638 1.53 0 .139.01.292.039.455.148.958.173 2.968.173 2.968s-.328-.794-.493-1.189c-2.008-4.789-4.008-9.578-6.037-14.356a13.132 13.132 0 0 0-1.13-2.107c-.652-.982-1.5-.914-2.233.018-1.138 1.455-.123 5.013.278 6.32 1.254 4.073 2.532 8.144 3.937 12.164.564 1.616.677 3.235.641 4.875l-.01.11a5.098 5.098 0 0 1-.768 2.07c-.507.766-1.067.606-1.694-.067-1.014-1.088-1.137-3.081-1.208-3.874-.12-1.367.116-2.697-1.5-4.54-.828-.94-1.744-1.25-2.222-1.171-.511.082-.733 1.551-.712 3.437a175.71 175.71 0 0 1-.039 6.39c-.074 2.897.969 5.362 2.638 7.65 1 1.374 2.138 2.59 3.353 3.722l.004-.014S14.065 49.007 21.063 49c1.532.01 3.3-.15 5.325-.566 5.814-1.196 7.625-5.554 8.192-8.227.285-1.96.436-3.938.419-5.927a16.348 16.348 0 0 0-.19-2.174z"}));const Po=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:35,height:49,viewBox:"0 0 35 49",className:"Icon gesture-new-note"},e),Mo)));var Lo=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#323B4A",d:"M45.815 41.088c-.126-1.578-1.69-5.244-2.254-6.237-.793-1.4-1.617-1.838-2.61-1.774-.963.06-1.35.616-1.107 1.628.028.124.166.559.373 1.065.004.014.004.028.004.028s-.307-.62-.754-1.29c-.12-.263-.25-.516-.366-.733-.92-1.731-1.97-2.237-3.178-2.162-.892.057-1.378.463-1.427 1.197-.19.872-.106 1.955-.085 2.215l-.02-.043a13.36 13.36 0 0 0-.082-.306c-.57-4.014-1.092-8.04-1.73-12.047-.355-2.233-.715-3.832-1.247-6.034-.253-1.05-.912-1.823-2.054-1.293-.461.214-.694.599-1.039 1.158-.5.812-.564 1.891-.535 2.835.067 2.22.313 4.435.49 6.654.105 1.307.5 7.406.612 8.795-.042.384-.077.648-.077.648l-.493-1.19c-2.009-4.794-4.01-9.589-6.039-14.372a13.15 13.15 0 0 0-1.13-2.109c-.652-.983-1.502-.915-2.234.018-1.138 1.457-.124 5.019.278 6.326 1.254 4.078 2.533 8.153 3.939 12.178.683 1.96.704 3.922.606 5.924-.046.926-.434 1.275-1.37 1.222-.698-.04-1.392-.2-2.08-.353-1.933-.435-3.86-.901-5.791-1.332-1.237-.278-2.452-.16-3.629.313-.803.324-1.458.83-1.85 1.628-.461.94-.243 1.642.684 2.098.433.214.895.388 1.363.502 4.693 1.14 8.346 3.904 11.422 7.527.229.267.546.645.923 1.083l.173.2c.82.879 4.678 4.274 13.884 2.379 5.816-1.197 7.627-5.56 8.194-8.236.286-1.962.437-3.943.42-5.934a15.11 15.11 0 0 0-.184-2.176z"}),r.createElement("path",{stroke:"#F37221",strokeLinecap:"round",strokeWidth:1.406,d:"m3.035 34.6 5.668 5.748"}),r.createElement("path",{fill:"#F37221",fillRule:"nonzero",d:"M1.544 37.364 0 31.522l5.76 1.566z"}),r.createElement("path",{stroke:"#F37221",strokeLinecap:"round",strokeWidth:1.406,d:"m15.895 6.04 2.439 6.569"}),r.createElement("path",{fill:"#F37221",fillRule:"nonzero",d:"m13.676 7.648.915-5.126 4.058 3.342z"}),r.createElement("path",{stroke:"#F37221",strokeLinecap:"round",strokeWidth:1.406,d:"M30.46 3.957v7.391"}),r.createElement("path",{fill:"#F37221",fillRule:"nonzero",d:"M27.351 4.76 30.46 0l3.109 4.76z"}));const ko=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:46,height:58,viewBox:"0 0 46 58",className:"Icon gesture-paste"},e),Lo)));var Fo=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#323B4A",d:"M36.226 17.389c2.504 1.572 5.895 6.247 5.768 9.465-.09 2.322.567 5.283-7.036 12.177-4.162 3.772-8.737 2.586-11.33 1.431a8.298 8.298 0 0 1-.542-.254 12.166 12.166 0 0 1-1.574-.933c-1.89-1.222-4.037-2.885-4.571-3.353-1.71-1.51-2.512-3.666-3.055-4.99-.614-1.493-.79-3.876-.102-4.611.665-.709.51-.33 1.806 1.137a9.088 9.088 0 0 1-.334-.849c-.025-.047-.055-.091-.085-.135-2.525-4.122-5.058-8.243-7.58-12.367-.394-.65-.791-1.307-1.1-1.996-.401-.896-.028-1.46.973-1.539 1.06-.084 1.987.296 2.743.99a14.094 14.094 0 0 1 1.62 1.804c2.354 3.06 4.688 6.139 7.032 9.209a.624.624 0 0 0-.077-.163c-2.27-3.444-4.586-6.857-6.794-10.336-1.223-1.922-2.313-3.93-3.376-5.94-.508-.962-.079-1.635 1.03-1.747.523-.053 1.16-.043 1.584.206.84.495 1.707 1.07 2.317 1.803 1.438 1.725 2.732 3.564 4.082 5.36.804 1.066 4.648 6.023 5.447 7.091.077-.063-2.895-4.009-2.818-4.072-1.234-1.864-2.49-3.719-3.693-5.6-1.015-1.585-2.01-3.18-2.936-4.815-.578-1.02-.19-1.752.98-1.87.604-.06 1.268.067 1.85.26 1.072.356 1.807 1.173 2.495 2.022 2.835 3.49 5.688 6.966 8.503 10.472.94 1.172 1.979 2.235 3.278 2.999a5.473 5.473 0 0 0 1.04.468c.367.12.744.203 1.112.236 0 0-2.207-.978-3.781-2.823-.568-.667-1.204-1.403-1.735-2.108-.602-.807 4.04.342 8.86 3.37z"}),r.createElement("path",{stroke:"#F37221",strokeLinecap:"round",strokeWidth:1.406,d:"M25.387 5.103h7.374"}),r.createElement("path",{fill:"#F37221",fillRule:"nonzero",d:"m31.956 8.207 4.754-3.104L31.956 2z"}));const Bo=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:47,height:45,viewBox:"0 0 47 45",className:"Icon gesture-redo"},e),Fo)));var jo=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{stroke:"#F37221",strokeLinecap:"round",strokeWidth:1.406,d:"M22 5h-7.164"}),r.createElement("path",{fill:"#F37221",fillRule:"nonzero",d:"M15.618 2 11 5l4.618 3z"}),r.createElement("path",{fill:"#323B4A",d:"M10.759 17.212c-2.503 1.578-5.887 6.278-5.754 9.517.095 2.337-.558 5.316 7.06 12.268 4.17 3.803 8.745 2.618 11.338 1.46.165-.07.346-.155.542-.255a12.102 12.102 0 0 0 1.573-.937c1.888-1.226 4.034-2.896 4.568-3.366 1.708-1.516 2.506-3.685 3.047-5.017.611-1.502.783-3.9.094-4.641-.666-.715-.511-.333-1.805 1.141.134-.3.243-.583.333-.853.025-.047.055-.092.084-.137 2.52-4.144 5.047-8.287 7.562-12.434.394-.653.79-1.314 1.098-2.006.4-.901.025-1.47-.977-1.55-1.06-.088-1.987.293-2.742.992-.592.548-1.13 1.17-1.618 1.811-2.35 3.077-4.679 6.171-7.018 9.257a.627.627 0 0 1 .076-.164c2.265-3.463 4.576-6.893 6.78-10.39 1.219-1.933 2.306-3.952 3.366-5.974.507-.967.076-1.645-1.033-1.76-.523-.054-1.161-.045-1.585.205-.839.496-1.706 1.074-2.315 1.81-1.435 1.734-2.726 3.583-4.075 5.389-.802 1.07-4.638 6.053-5.436 7.127-.078-.064 2.889-4.03 2.812-4.094 1.231-1.874 2.485-3.738 3.685-5.63 1.013-1.594 2.005-3.197 2.928-4.841.578-1.026.188-1.763-.983-1.883-.604-.062-1.268.064-1.85.257-1.072.357-1.806 1.179-2.493 2.032-2.83 3.507-5.678 7-8.488 10.524-.94 1.178-1.977 2.246-3.275 3.013a5.44 5.44 0 0 1-1.04.47c-.366.12-.744.203-1.112.235 0 0 2.206-.98 3.779-2.835.566-.67 1.201-1.41 1.731-2.118.601-.811-4.04.337-8.857 3.377z"}));const zo=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:47,height:45,viewBox:"0 0 47 45",className:"Icon gesture-undo"},e),jo)));var Uo=r.createElement("path",{fill:"#A3A7AE",fillRule:"evenodd",d:"M11.5 3a.5.5 0 0 0-.5.5V14h3V3.5a.5.5 0 0 0-.5-.5h-2Zm-9 2a.5.5 0 0 0-.5.5V14h3V5.5a.5.5 0 0 0-.5-.5h-2ZM7 7a.5.5 0 0 0-.5.5V14h3V7.5A.5.5 0 0 0 9 7H7Z"});const Ho=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon graph"},e),Uo)));var Zo=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("circle",{cx:8,cy:8,r:8,fill:"#4EB85A"}),r.createElement("path",{fill:"#FFF",d:"m12 4.586-5 5-3-3L2.586 8l3.707 3.707a1 1 0 0 0 1.414 0L13.414 6 12 4.586z"}));const Go=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon green-tick"},e),Zo)));var Ko=r.createElement("path",{fill:"#8D929A",fillRule:"evenodd",d:"M8 1a7 7 0 1 1 0 14A7 7 0 0 1 8 1Zm1.992 7.501H6.008c.05 1.561.336 2.995.79 4.055C7.217 13.533 7.69 14 8 14c.31 0 .783-.467 1.202-1.444.454-1.06.74-2.494.79-4.055Zm-4.984 0H2.02a6.005 6.005 0 0 0 4.269 5.252c-.724-1.174-1.217-3.076-1.282-5.252Zm8.971 0h-2.987c-.065 2.176-.558 4.078-1.283 5.253A6.006 6.006 0 0 0 13.98 8.5ZM6.291 2.246l-.024.008A6.005 6.005 0 0 0 2.021 7.5h2.987c.065-2.176.558-4.079 1.283-5.254ZM8 2c-.31 0-.783.467-1.202 1.444-.454 1.06-.74 2.494-.79 4.056h3.984c-.05-1.562-.336-2.996-.79-4.056-.39-.912-.829-1.38-1.138-1.438L8 2Zm1.71.247.025.042c.711 1.178 1.192 3.06 1.257 5.211h2.987A6.005 6.005 0 0 0 9.71 2.247Z"});const Wo=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon header-editable-link"},e),Ko)));var Vo=r.createElement("path",{fill:"#8D929A",fillRule:"evenodd",d:"m16.72 3.92.186.24c.62.79.656 1.9.11 2.728l-.11.152c-3.892 5.199-11.617 5.279-15.627.24l-.185-.24c-.62-.79-.656-1.9-.11-2.728l.11-.152c3.892-5.199 11.617-5.279 15.627-.24ZM9 2.6a2.997 2.997 0 0 0-2.995 3c0 1.657 1.34 3 2.994 3a2.997 2.997 0 0 0 2.995-3c0-1.657-1.34-3-2.995-3Z"});const $o=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:18,height:11,viewBox:"0 0 18 11",className:"Icon header-published-link"},e),Vo)));var qo=r.createElement("defs",null,r.createElement("path",{id:"HelpCenterIcon__a",d:"M41 14.5V0H5v48h36V36.75z"})),Yo=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{stroke:"#979797",strokeWidth:2,d:"M30.442 6 35 13.287V52H1V6h29.442z"}),r.createElement("use",{xlinkHref:"#HelpCenterIcon__a",fill:"#FFF"}),r.createElement("path",{stroke:"#979797",strokeWidth:2,d:"M40 47H6V1h34v46z"}),r.createElement("g",{stroke:"#979797",strokeWidth:2,transform:"translate(29 13)"},r.createElement("circle",{cx:11,cy:11,r:11}),r.createElement("path",{d:"m21.232 16.49 6.486 6.485a3 3 0 1 1-4.243 4.243l-6.486-6.486 4.243-4.243z"})));const Xo=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:59,height:53,viewBox:"0 0 59 53",className:"Icon help-center"},e),qo,Yo)));var Qo=r.createElement("defs",null,r.createElement("filter",{id:"IconArrowIcon__a",width:"201.2%",height:"166.5%",x:"-50.6%",y:"-30.5%",filterUnits:"objectBoundingBox"},r.createElement("feMorphology",{in:"SourceAlpha",operator:"dilate",radius:1.5,result:"shadowSpreadOuter1"}),r.createElement("feOffset",{dy:1,in:"shadowSpreadOuter1",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:2}),r.createElement("feComposite",{in:"shadowBlurOuter1",in2:"SourceAlpha",operator:"out",result:"shadowBlurOuter1"}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0.196078431 0 0 0 0 0.231372549 0 0 0 0 0.290196078 0 0 0 0.3 0"})),r.createElement("path",{id:"IconArrowIcon__b",d:"M1547 102h6v15h8v-15h6l-10-10z"})),Jo=r.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(-1540 -87)"},r.createElement("use",{xlinkHref:"#IconArrowIcon__b",fill:"#000",filter:"url(#IconArrowIcon__a)"}),r.createElement("path",{fill:"#F4511C",stroke:"#FFF",strokeWidth:1.5,d:"m1557 90.94 11.81 11.81h-7.06v15h-9.5v-15h-7.06L1557 90.94z"}));const ei=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:37,height:37,viewBox:"0 0 34 37",className:"Icon icon-arrow"},e),Qo,Jo)));var ti=r.createElement("path",{fill:"#BBBEC3",fillRule:"evenodd",d:"M27 21.828V37a1 1 0 0 1-2 0V21.828l-4.586 4.586A1 1 0 0 1 19 25l6.646-6.646a.5.5 0 0 1 .708 0L33 25a1 1 0 0 1-1.414 1.414L27 21.828ZM50 27c0 5.951-4.688 11-10.488 11H34a1 1 0 0 1 0-2h5.512C44.192 36 48 31.86 48 27c0-4.491-3.27-8.332-7.534-8.825l-.478-.055a.5.5 0 0 1-.441-.536l.037-.48c.03-.372.044-.75.044-1.135C39.628 8.247 33.455 2 26 2c-6.683 0-12.226 5.052-13.237 11.82l-.061.412a.5.5 0 0 1-.477.426l-.416.015C6.354 14.864 2 19.322 2 25c0 5.814 4.557 11 10.163 11H18a1 1 0 0 1 0 2h-5.837C5.438 38 0 31.905 0 25c0-6.46 4.768-11.63 10.924-12.27C12.39 5.398 18.578 0 26 0c8.574 0 15.628 7.156 15.628 15.969 0 .124-.002.247-.004.37C46.442 17.351 50 21.829 50 27Z"});const ni=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:50,height:38,viewBox:"0 0 50 38",className:"Icon image-form-upload"},e),ti)));var ri=r.createElement("path",{fill:"#FFF",fillRule:"evenodd",d:"M11.167 22.756a1 1 0 0 1 .116 1.993l-.116.007h-1a1 1 0 0 1-.117-1.994l.117-.006h1zm15.5-11.5a1 1 0 0 1 .993.883l.007.117v1a1 1 0 0 1-1.994.116l-.006-.116v-1a1 1 0 0 1 1-1zm-22 0a1 1 0 0 1 .993.883l.007.117v1a1 1 0 0 1-1.994.116l-.006-.116v-1a1 1 0 0 1 1-1zm0 5a1 1 0 0 1 .993.883l.007.117v1a1 1 0 0 1-1.994.116l-.006-.116v-1a1 1 0 0 1 1-1zm22-.5a1 1 0 0 1 .993.883l.007.117v1a1 1 0 0 1-1.994.116l-.006-.116v-1a1 1 0 0 1 1-1zm16 6h-24a3 3 0 0 0-3 3v16a3 3 0 0 0 3 3h24a3 3 0 0 0 3-3v-16a3 3 0 0 0-3-3zm-24 2h24a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-24a1 1 0 0 1-1-1v-16a1 1 0 0 1 1-1zm17.207-9.208a1 1 0 0 1 .083 1.32l-.083.095a1 1 0 0 1-1.32.083l-.094-.083-3.493-3.493-.145-.267c-.181-.346-.2-.482-.055-.787l.121-.232.079-.143 3.493-3.493a1 1 0 0 1 1.497 1.32l-.083.095-1.793 1.793h2.586a5 5 0 0 1 4.995 4.783l.005.217v2a1 1 0 0 1-1.994.116l-.006-.116v-2a3 3 0 0 0-2.824-2.995l-.176-.005H34.08l1.793 1.792zM11.167 5.756a1 1 0 0 1 .116 1.993l-.116.007h-1a1 1 0 0 1-.117-1.994l.117-.006h1zm10 0a1 1 0 0 1 .116 1.993l-.116.007h-1a1 1 0 0 1-.117-1.994l.117-.006h1zm-5 0a1 1 0 0 1 .116 1.993l-.116.007h-1a1 1 0 0 1-.117-1.994l.117-.006h1zm-10 .1a.9.9 0 0 1 .113 1.793l-.21.014a.6.6 0 0 0-.495.495l-.015.21a.9.9 0 0 1-1.793-.112 2.4 2.4 0 0 1 2.4-2.4zm19 0a.9.9 0 0 0-.113 1.793l.21.014a.6.6 0 0 1 .495.495l.015.21a.9.9 0 0 0 1.793-.112 2.4 2.4 0 0 0-2.4-2.4zm-19 18.8a.9.9 0 0 0 .113-1.793l-.21-.015a.6.6 0 0 1-.495-.495l-.015-.21a.9.9 0 0 0-1.793.113 2.4 2.4 0 0 0 2.4 2.4z"});const oi=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:49,height:49,viewBox:"0 0 49 49",className:"Icon image-hover-replace"},e),ri)));var ii=r.createElement("path",{fill:"#BBBEC3",fillRule:"evenodd",d:"M12 39a1 1 0 0 1 .117 1.993L12 41h-1a1 1 0 0 1-.117-1.993L11 39h1zm5 0a1 1 0 0 1 .117 1.993L17 41h-1a1 1 0 0 1-.117-1.993L16 39h1zm5 0a1 1 0 0 1 .117 1.993L22 41h-1a1 1 0 0 1-.117-1.993L21 39h1zm5 0a1 1 0 0 1 .117 1.993L27 41h-1a1 1 0 0 1-.117-1.993L26 39h1zm5 0a1 1 0 0 1 .117 1.993L32 41h-1a1 1 0 0 1-.117-1.993L31 39h1zm5 0a1 1 0 0 1 .117 1.993L37 41h-1a1 1 0 0 1-.117-1.993L36 39h1zM5.5 37.6a.9.9 0 0 1 .893.787l.015.21a.6.6 0 0 0 .495.495l.21.015A.9.9 0 0 1 7 40.9a2.4 2.4 0 0 1-2.4-2.4.9.9 0 0 1 .9-.9zm36.9 0a.9.9 0 0 1 .9.9 2.4 2.4 0 0 1-2.4 2.4.9.9 0 0 1-.113-1.793l.21-.015a.6.6 0 0 0 .495-.495l.015-.21a.9.9 0 0 1 .893-.787zM18.818 20.808a1.1 1.1 0 0 1 1.546.171l7.098 8.872 3.148-4.328.095-.113a.791.791 0 0 1 .084-.077l.067-.054a1.1 1.1 0 0 1 1.535.247l6.305 8.73A1.1 1.1 0 0 1 37.804 36H10.193a1.1 1.1 0 0 1-.9-1.733l9.313-13.234.082-.103a.632.632 0 0 1 .032-.034zM5.5 32.5a1 1 0 0 1 .993.883l.007.117v1a1 1 0 0 1-1.993.117L4.5 34.5v-1a1 1 0 0 1 1-1zm37-.5a1 1 0 0 1 .993.883L43.5 33v1a1 1 0 0 1-1.993.117L41.5 34v-1a1 1 0 0 1 1-1zm-22.949-8.836L11.925 34h24.119l-4.547-6.297-3.111 4.28a1.1 1.1 0 0 1-1.429.311l-.108-.07-.096-.078a.633.633 0 0 1-.032-.031l-.084-.093-7.086-8.858zM5.5 27.5a1 1 0 0 1 .993.883l.007.117v1a1 1 0 0 1-1.993.117L4.5 29.5v-1a1 1 0 0 1 1-1zm37-.5a1 1 0 0 1 .993.883L43.5 28v1a1 1 0 0 1-1.993.117L41.5 29v-1a1 1 0 0 1 1-1zm-37-4.5a1 1 0 0 1 .993.883l.007.117v1a1 1 0 0 1-1.993.117L4.5 24.5v-1a1 1 0 0 1 1-1zm37-.5a1 1 0 0 1 .993.883L43.5 23v1a1 1 0 0 1-1.993.117L41.5 24v-1a1 1 0 0 1 1-1zM33 14a4 4 0 1 1 0 8 4 4 0 0 1 0-8zM5.5 17.5a1 1 0 0 1 .993.883l.007.117v1a1 1 0 0 1-1.993.117L4.5 19.5v-1a1 1 0 0 1 1-1zm37-.5a1 1 0 0 1 .993.883L43.5 18v1a1 1 0 0 1-1.993.117L41.5 19v-1a1 1 0 0 1 1-1zM33 16a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm9.5-3.5a1 1 0 0 1 .993.883l.007.117v1a1 1 0 0 1-1.993.117L41.5 14.5v-1a1 1 0 0 1 1-1zm-37 0a1 1 0 0 1 .993.883l.007.117v1a1 1 0 0 1-1.993.117L4.5 14.5v-1a1 1 0 0 1 1-1zM7 7.1a.9.9 0 0 1 .113 1.793l-.21.015a.6.6 0 0 0-.495.495l-.015.21A.9.9 0 0 1 4.6 9.5 2.4 2.4 0 0 1 7 7.1zm34 0a2.4 2.4 0 0 1 2.4 2.4.9.9 0 0 1-1.793.113l-.015-.21a.6.6 0 0 0-.495-.495l-.21-.015A.9.9 0 0 1 41 7.1zM12 7a1 1 0 0 1 .117 1.993L12 9h-1a1 1 0 0 1-.117-1.993L11 7h1zm10 0a1 1 0 0 1 .117 1.993L22 9h-1a1 1 0 0 1-.117-1.993L21 7h1zm10 0a1 1 0 0 1 .117 1.993L32 9h-1a1 1 0 0 1-.117-1.993L31 7h1zm5 0a1 1 0 0 1 .117 1.993L37 9h-1a1 1 0 0 1-.117-1.993L36 7h1zM17 7a1 1 0 0 1 .117 1.993L17 9h-1a1 1 0 0 1-.117-1.993L16 7h1zm10 0a1 1 0 0 1 .117 1.993L27 9h-1a1 1 0 0 1-.117-1.993L26 7h1z"});const si=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,viewBox:"0 0 48 48",className:"Icon image-missing"},e),ii)));var ai=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#929292",d:"M16 18h3.256C21.876 18 24 15.79 24 13.065c0-2.538-1.841-4.629-4.21-4.905.016-.202.024-.406.024-.612C19.814 3.38 16.565 0 12.558 0 8.93 0 5.923 2.771 5.388 6.39 2.394 6.498 0 9.055 0 12.195 0 15.4 2.499 18 5.581 18H9v-.9H5.581C3.004 17.1.9 14.911.9 12.194.9 9.54 2.91 7.379 5.42 7.29l.748-.027.11-.74C6.753 3.298 9.42.9 12.557.9c3.502 0 6.356 2.969 6.356 6.648 0 .182-.007.363-.02.543l-.067.863.86.1c1.927.225 3.413 1.943 3.413 4.01 0 2.237-1.73 4.036-3.844 4.036H16v.9Z"}),r.createElement("path",{fill:"#979797",d:"M13 11.207V20.5h-1v-9.293l-2.146 2.147-.354.353L8.793 13l.353-.354 3-3 .354-.353.177.177.177.176 3 3 .353.354-.707.707-.354-.353L13 11.207Z"}));const li=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:24,height:21,viewBox:"0 0 24 21",className:"Icon image-popup-upload"},e),ai))),ci=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",style:{enableBackground:"new 0 0 123 23"},viewBox:"0 0 123 23",className:"Icon inbox-empty"},e),r.createElement("path",{d:"m77 12.4-2.4-2V.9c0-.5-.4-.9-.9-.9H49.3c-.5 0-.9.4-.9.9V10.3l-2.4 2c-.2.2-.3.4-.3.7v9.1c0 .5.4.9.9.9h29.8c.5 0 .9-.4.9-.9V13c0-.2-.2-.5-.3-.6zm-1.1.2h-1.3v-1.1l1.3 1.1zM49.3.9h24.4v11.6h-9v.4c0 .1-.4 2.8-3.2 2.8-2.7 0-3.2-2.7-3.2-2.8v-.4h-9V.9zm-.9 10.6v1.1h-1.3l1.3-1.1zm-1.8 10.6v-8.6h10.9c.3 1.3 1.4 3.2 4 3.2s3.7-1.9 4-3.2h10.9v8.6H46.6z",style:{fill:"#d7d7d7"}}),r.createElement("path",{d:"M52.9 4.5H70v.9H52.9zM52.9 9H70v.9H52.9zM52.9 6.8h16.2v.9H52.9z",style:{fill:"#d7d7d7"}}))));var di=r.createElement("path",{fill:"#A3A7AE",fillRule:"evenodd",d:"M5.75 1a.75.75 0 0 1 .75.75v12.5a.75.75 0 0 1-1.5 0V1.75A.75.75 0 0 1 5.75 1zm5 2a.75.75 0 0 1 .75.75v8.5a.75.75 0 0 1-1.5 0v-8.5a.75.75 0 0 1 .75-.75zm-7.5 1a.75.75 0 0 1 .75.75v6.5a.75.75 0 0 1-1.5 0v-6.5A.75.75 0 0 1 3.25 4zm5 1a.75.75 0 0 1 .75.75v4.5a.75.75 0 0 1-1.5 0v-4.5A.75.75 0 0 1 8.25 5zm5 0a.75.75 0 0 1 .75.75v4.5a.75.75 0 0 1-1.5 0v-4.5a.75.75 0 0 1 .75-.75zM.75 6.5a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5a.75.75 0 0 1 .75-.75zm15 0a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5a.75.75 0 0 1 .75-.75z"});const ui=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon link-audio-icon"},e),di)));var mi=r.createElement("defs",null,r.createElement("path",{id:"LinkFailIcon__a",d:"M1.284 15c-.459 0-.883-.258-1.112-.678a1.427 1.427 0 0 1 0-1.357L6.887.678C7.117.258 7.541 0 8 0c.46 0 .883.258 1.112.678l6.716 12.287c.23.42.23.936 0 1.357-.23.42-.654.678-1.112.678H1.284Z"})),pi=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{stroke:"#F6A623",d:"M1.284 15c-.459 0-.883-.258-1.112-.678a1.427 1.427 0 0 1 0-1.357L6.887.678C7.117.258 7.541 0 8 0c.46 0 .883.258 1.112.678l6.716 12.287c.23.42.23.936 0 1.357-.23.42-.654.678-1.112.678H1.284Z"}),r.createElement("g",{fill:"#F6A623"},r.createElement("path",{d:"M7.068 6.712 7 5.5h2l-.068 1.212L8.65 9.5H7.35zM8 12.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"})));const hi=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:15,viewBox:"0 0 16 15",className:"Icon link-fail"},e),mi,pi)));var gi=r.createElement("path",{fill:"#A3A7AE",fillRule:"evenodd",d:"M9.134 5.834a.749.749 0 0 1 1.06 0 4.75 4.75 0 0 1 0 6.717L8.31 14.437A4.75 4.75 0 0 1 1.592 7.72a.749.749 0 1 1 1.06 1.06 3.25 3.25 0 1 0 4.597 4.596l1.886-1.885a3.25 3.25 0 0 0 0-4.596.75.75 0 0 1 0-1.061zM7.72 1.59a4.75 4.75 0 1 1 6.717 6.718.749.749 0 1 1-1.06-1.06A3.251 3.251 0 0 0 8.78 2.651L6.895 4.538a3.248 3.248 0 0 0 0 4.596.75.75 0 0 1-1.061 1.06 4.75 4.75 0 0 1 0-6.717z"});const fi=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon link-icon"},e),gi)));var Ei=r.createElement("defs",null,r.createElement("filter",{id:"LinkMapIconIcon__a",colorInterpolationFilters:"auto"},r.createElement("feColorMatrix",{in:"SourceGraphic",values:"0 0 0 0 0.639216 0 0 0 0 0.654902 0 0 0 0 0.682353 0 0 0 1.000000 0"}))),vi=r.createElement("g",{fill:"none",fillRule:"evenodd",filter:"url(#LinkMapIconIcon__a)"},r.createElement("path",{fill:"#E84C4C",d:"M8 0c3.59 0 6.5 3.026 6.5 6.757 0 1.831-.703 3.49-1.84 4.706l-.018.022-.022.023-.05.053-4.06 4.22a.703.703 0 0 1-1.02 0l-4.06-4.22-.05-.053-.022-.023-.017-.022A6.87 6.87 0 0 1 1.5 6.757C1.5 3.026 4.41 0 8 0zm0 4a2.5 2.5 0 0 0 0 5 2.5 2.5 0 0 0 0-5z"}));const bi=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon link-map-icon"},e),Ei,vi)));var yi=r.createElement("path",{fill:"#A3A7AE",fillRule:"evenodd",d:"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM6.071 5.095a.571.571 0 0 0-.571.571v4.668a.573.573 0 0 0 .847.5l4.243-2.333a.572.572 0 0 0 0-1.002L6.347 5.166a.57.57 0 0 0-.276-.071z"});const Ii=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon link-video-icon"},e),yi)));var Ci=r.createElement("path",{fill:"#323B4A",fillRule:"evenodd",d:"M8 1.25A3.75 3.75 0 0 1 11.75 5v1H12a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h.25V5A3.75 3.75 0 0 1 8 1.25zm0 1.5A2.25 2.25 0 0 0 5.75 5v1h4.5V5A2.25 2.25 0 0 0 8 2.75z"});const Si=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon lock"},e),Ci)));var Ti=r.createElement("path",{fill:"#FFF",fillRule:"evenodd",d:"M2 10a1 1 0 0 1 .993.883L3 11v2h2a1 1 0 0 1 .117 1.993L5 15H2a1 1 0 0 1-.993-.883L1 14v-3a1 1 0 0 1 1-1zm12 0a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-3a1 1 0 0 1 0-2h2v-2a1 1 0 0 1 1-1zM5 1a1 1 0 1 1 0 2H3v2a1 1 0 1 1-2 0V2a1 1 0 0 1 1-1h3zm6 0h3a1 1 0 0 1 .993.883L15 2v3a1 1 0 0 1-1.993.117L13 5V3h-2a1 1 0 0 1-.117-1.993L11 1h3-3z"});const wi=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon media-player-fullscreen"},e),Ti)));var Oi=r.createElement("path",{fill:"#767C86",fillRule:"evenodd",d:"M6 2a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h2zm6 0a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h2z"});const _i=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon media-player-pause"},e),Oi)));var Ri=r.createElement("path",{fill:"#767C86",fillRule:"evenodd",d:"M3 3.685v8.63a1 1 0 0 0 1.479.878l7.912-4.315a1 1 0 0 0 0-1.756L4.479 2.807A1 1 0 0 0 3 3.685z"});const Ai=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon media-player-play"},e),Ri)));var Di=r.createElement("path",{fill:"#767C86",fillRule:"evenodd",d:"M6.89 1.728A.5.5 0 0 1 7 2.04v11.92a.5.5 0 0 1-.812.39L3.375 11.3a1 1 0 0 1-.252-.3H2a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h1.123a1 1 0 0 1 .252-.3l2.813-3.05a.5.5 0 0 1 .702.078zM13.25 3a.75.75 0 0 1 .75.75v8.5a.75.75 0 1 1-1.5 0v-8.5a.75.75 0 0 1 .75-.75zm-3 2a.75.75 0 0 1 .75.75v4.5a.75.75 0 1 1-1.5 0v-4.5a.75.75 0 0 1 .75-.75z"});const Ni=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon media-player-volume-loud"},e),Di)));var xi=r.createElement("path",{fill:"#767C86",fillRule:"evenodd",d:"M6.89 1.728A.5.5 0 0 1 7 2.04v11.92a.5.5 0 0 1-.812.39L3 11H2a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h1l3.188-3.35a.5.5 0 0 1 .702.078zm3.806 3.17.084.072 1.97 1.969 1.97-1.97a.75.75 0 0 1 1.06 1.061L13.811 8l1.97 1.97a.75.75 0 0 1 .072.976l-.073.084a.75.75 0 0 1-.976.073l-.084-.073-1.97-1.969-1.97 1.97A.75.75 0 0 1 9.72 9.97L11.689 8l-1.97-1.97a.75.75 0 0 1-.136-.874l.064-.102.073-.084a.75.75 0 0 1 .976-.073z"});const Mi=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon media-player-volume-mute"},e),xi)));var Pi=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#929292",d:"m0 8 9-7v14z"}),r.createElement("path",{fill:"#929292",d:"M2 5h4v6H2a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2z"}),r.createElement("path",{stroke:"#929292",strokeWidth:2,d:"M11.243 12.243a6 6 0 0 0 0-8.486"}));const Li=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:19,height:16,viewBox:"0 0 19 16",className:"Icon media-player-volume-quiet"},e),Pi)));var ki=r.createElement("path",{fill:"#323B4A",fillRule:"evenodd",d:"M5.53 6.47a.75.75 0 0 0-1.06 1.06l3 3a.75.75 0 0 0 1.06 0l3-3a.75.75 0 0 0-1.06-1.06L8 8.94 5.53 6.47z"});const Fi=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon menu-down-arrow"},e),ki)));var Bi=r.createElement("path",{fill:"#8D929A",fillRule:"evenodd",d:"M8 12a1.5 1.5 0 1 1-3.001-.001A1.5 1.5 0 0 1 8 12zm5.5 0a1.5 1.5 0 1 1-3.001-.001A1.5 1.5 0 0 1 13.5 12zm5.5 0a1.5 1.5 0 1 1-3.001-.001A1.5 1.5 0 0 1 19 12z"});const ji=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",className:"Icon menu-ellipsis"},e),Bi)));var zi=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#31303A",d:"M60 0C26.863 0 0 26.863 0 60s26.863 60 60 60 60-26.863 60-60S93.137 0 60 0"}),r.createElement("path",{stroke:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:6.667,d:"m36.667 83.333 46.666-46.666v46.666H36.667V36.667l46.666 46.666"}));const Ui=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:120,height:120,viewBox:"0 0 120 120",className:"Icon milanote-logo-large"},e),zi)));var Hi=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#31303A",d:"M27 0C12.088 0 0 12.088 0 27s12.088 27 27 27 27-12.088 27-27S41.912 0 27 0"}),r.createElement("path",{stroke:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"m16.5 37.5 21-21v21h-21v-21l21 21"}));const Zi=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,viewBox:"0 0 54 54",className:"Icon milanote-logo-medium"},e),Hi)));var Gi=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("circle",{cx:9,cy:9,r:9,fill:"#1B2536"}),r.createElement("path",{fill:"#FFF",d:"M12 11.242 9.793 9.035 12 6.83v4.413zM6.83 12l2.205-2.207L11.243 12H6.829zm-.76-5.171 2.207 2.206-2.207 2.207V6.83zm6.67-1.788a.535.535 0 0 0-.584.116l-3.122 3.12-3.12-3.12A.536.536 0 0 0 5 5.535v7.005a.537.537 0 0 0 .15.367l.002.002.001.001.008.008.001.002h.002a.52.52 0 0 0 .367.151h7.009a.54.54 0 0 0 .531-.53V5.536a.536.536 0 0 0-.33-.495z"}));const Ki=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,viewBox:"0 0 18 18",className:"Icon milanote-logo-small"},e),Gi)));var Wi=r.createElement("path",{fill:"#323B4A",fillRule:"evenodd",d:"M13 8a1 1 0 0 1-1 1H4a1 1 0 1 1 0-2h8a1 1 0 0 1 1 1z"});const Vi=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon minus"},e),Wi)));var $i=r.createElement("path",{fill:"#48505E",fillRule:"evenodd",d:"M18.75 24v1.25a.75.75 0 1 1-1.5 0V24h1.5zm-8-8v4c0 .647.492 1.18 1.122 1.244l.128.006h9.25a.75.75 0 1 1 0 1.5H12a2.75 2.75 0 0 1-2.745-2.582L9.25 20v-4h1.5zM16 13.25a2.75 2.75 0 0 1 2.745 2.582l.005.168v4h-1.5v-4a1.25 1.25 0 0 0-1.122-1.244L16 14.75H6.75a.75.75 0 1 1 0-1.5H16zm3-6.682v.682h1a4.75 4.75 0 0 1 4.745 4.533l.005.217v2a.75.75 0 0 1-1.493.102L23.25 14v-2a3.25 3.25 0 0 0-3.066-3.245L20 8.75h-1v.682a.5.5 0 0 1-.82.385l-1.72-1.433a.5.5 0 0 1 0-.768l1.72-1.433a.5.5 0 0 1 .82.385zM10 10a.75.75 0 0 1 .75.75V12h-1.5v-1.25A.75.75 0 0 1 10 10z"});const qi=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon modal-toolbar-crop"},e),$i)));var Yi=r.createElement("path",{fill:"#48505E",fillRule:"evenodd",d:"M16 7a9 9 0 1 1 0 18 9 9 0 0 1 0-18zm0 1.5a7.5 7.5 0 1 0 0 15 7.5 7.5 0 0 0 0-15zm0 3.25a.75.75 0 0 1 .743.648l.007.102v5.188l1.72-1.718a.75.75 0 0 1 .976-.073l.084.073a.75.75 0 0 1 .073.976l-.073.084-3 3a.75.75 0 0 1-.976.073l-.084-.073-3-3a.75.75 0 0 1 .976-1.133l.084.073 1.72 1.72V12.5a.75.75 0 0 1 .75-.75z"});const Xi=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon modal-toolbar-download"},e),Yi)));var Qi=r.createElement("path",{fill:"#48505E",fillRule:"evenodd",d:"m23.1 7.562.13.12 1.063 1.063c.8.8.894 2.052.249 2.959l-.108.14-1.682 2.019a2.485 2.485 0 0 1-.53 1.062l-.141.154-5.744 5.642a9.5 9.5 0 0 1-2.13 1.602l-.34.178-2.838 1.42a1.497 1.497 0 0 1-.544.152l-2.053.96a1 1 0 0 1-1.378-1.227l.045-.108.764-2.245a1.5 1.5 0 0 1 .095-.413l.058-.132 1.42-2.84a9.5 9.5 0 0 1 1.514-2.192l.265-.276 5.745-5.643a2.49 2.49 0 0 1 1.01-.615l2.162-1.8a2.3 2.3 0 0 1 2.969.02zm-3.76 3.373a1 1 0 0 0-1.225 0l-.095.083-5.744 5.643-.254.266a8 8 0 0 0-1.072 1.487l-.173.326-1.419 2.839 1 1 2.839-1.42.325-.172a8 8 0 0 0 1.488-1.072l.266-.254 5.744-5.643.084-.094a1 1 0 0 0 0-1.226l-.084-.094-1.585-1.586-.095-.083zm1.903-2.226-.087.062-1.046.87c.09.061.178.128.262.201l.123.115 1.586 1.586c.097.097.185.201.263.31l.86-1.033a.7.7 0 0 0 .027-.862l-.07-.082L22.1 8.814a.7.7 0 0 0-.856-.105z"});const Ji=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon modal-toolbar-draw"},e),Qi)));var es=r.createElement("path",{fill:"#48505E",fillRule:"evenodd",d:"M15.25 9a.75.75 0 1 1 0 1.5H11a1.5 1.5 0 0 0-1.493 1.356L9.5 12v9a1.5 1.5 0 0 0 1.356 1.493L11 22.5h9a1.5 1.5 0 0 0 1.493-1.356L21.5 21v-4.25a.75.75 0 1 1 1.5 0V21a3 3 0 0 1-3 3h-9a3 3 0 0 1-3-3v-9a3 3 0 0 1 3-3h4.25zm9-2a.75.75 0 0 1 .743.648L25 7.75v5a.75.75 0 0 1-1.493.102l-.007-.102V9.56l-6.97 6.97a.75.75 0 0 1-1.133-.976l.073-.084 6.968-6.97H19.25a.75.75 0 0 1-.743-.648L18.5 7.75a.75.75 0 0 1 .648-.743L19.25 7h5z"});const ts=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon modal-toolbar-open-new-tab"},e),es)));var ns=r.createElement("path",{fill:"#48505E",fillRule:"evenodd",d:"M18 13a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1h10zm-.5 1.5h-9v7h9v-7zm1.384-8.253a.5.5 0 0 1 .116.32v.683h1a4.75 4.75 0 0 1 4.745 4.533l.005.217v2a.75.75 0 0 1-1.493.102L23.25 14v-2a3.25 3.25 0 0 0-3.066-3.245L20 8.75h-1v.682a.5.5 0 0 1-.82.385l-1.72-1.433a.5.5 0 0 1 0-.768l1.72-1.433a.5.5 0 0 1 .704.064z"});const rs=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon modal-toolbar-rotate"},e),ns)));var os=r.createElement("g",{fill:"#B5B5B5",fillRule:"evenodd"},r.createElement("circle",{cx:14,cy:2,r:2}),r.createElement("circle",{cx:8,cy:2,r:2}),r.createElement("circle",{cx:2,cy:2,r:2}));const is=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:4,viewBox:"0 0 16 4",className:"Icon more-ellipsis"},e),os)));var ss=r.createElement("path",{fill:"#979797",fillRule:"evenodd",d:"M3.493 7.5a2.998 2.998 0 0 0-2.993 3c0 1.663 1.336 3 2.993 3H8.5L8 13v5.007A2.998 2.998 0 0 0 11 21c1.663 0 3-1.336 3-2.993V13l-.5.5h5.007a2.998 2.998 0 0 0 2.993-3c0-1.663-1.336-3-2.993-3H13.5l.5.5V2.993A2.998 2.998 0 0 0 11 0a2.99 2.99 0 0 0-3 2.993V8l.5-.5H3.493ZM9 8.5V2.993A1.99 1.99 0 0 1 11 1c1.104 0 2 .894 2 1.993V8.5h5.507a1.99 1.99 0 0 1 1.993 2c0 1.104-.894 2-1.993 2H13v5.507A1.99 1.99 0 0 1 11 20c-1.104 0-2-.894-2-1.993V12.5H3.493a1.99 1.99 0 0 1-1.993-2c0-1.104.894-2 1.993-2H9Z"});const as=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:22,height:21,viewBox:"0 0 22 21",className:"Icon nav-create"},e),ss)));var ls=r.createElement("path",{fill:"#8D929A",fillRule:"evenodd",d:"M12 1c6.075 0 11 4.925 11 11s-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1zm0 1.5a9.5 9.5 0 1 0 0 19 9.5 9.5 0 0 0 0-19zm-.282 12.746c.504 0 .924.415.924.918a.923.923 0 1 1-1.847 0c0-.503.416-.918.923-.918zm.236-7.83c1.694 0 2.83 1.016 2.83 2.516 0 1.039-.508 1.74-1.334 2.24l-.142.09c-.68.456-.95.936-.966 1.931v.088h-1.32l.004-.325c.054-1.525.553-2.022 1.371-2.523.55-.342.979-.827.979-1.515 0-.817-.637-1.338-1.422-1.338-.706 0-1.404.429-1.459 1.408H9.092c.06-1.662 1.306-2.572 2.862-2.572z"});const cs=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",className:"Icon nav-help"},e),ls)));var ds=r.createElement("path",{fill:"#8D929A",fillRule:"evenodd",d:"M2 19v-2a2 2 0 0 0 2-2l.463-6.02a7.56 7.56 0 0 1 15.074 0L20 15a2 2 0 0 0 2 2v2h-6.75v.5a3.25 3.25 0 0 1-6.5 0V19H2zm8.25 0v.5a1.75 1.75 0 0 0 3.5 0V19h-3.5zM12 3.5a6.06 6.06 0 0 0-6.041 5.594l-.46 5.971A3.49 3.49 0 0 1 4.45 17.5h15.102a3.49 3.49 0 0 1-1.04-2.216l-.01-.219-.46-5.97A6.06 6.06 0 0 0 12 3.5z"});const us=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",className:"Icon nav-notifications"},e),ds)));var ms=r.createElement("path",{fill:"#8D929A",fillRule:"evenodd",d:"M16 1a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H8a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h8zm0 1.5H8A1.5 1.5 0 0 0 6.5 4v16A1.5 1.5 0 0 0 8 21.5h8a1.5 1.5 0 0 0 1.5-1.5V4A1.5 1.5 0 0 0 16 2.5zm-2.5 16a.5.5 0 1 1 0 1h-3a.5.5 0 1 1 0-1zm-.5-14a.5.5 0 1 1 0 1h-2a.5.5 0 1 1 0-1z"});const ps=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",className:"Icon nav-quick-notes"},e),ms)));var hs=r.createElement("path",{fill:"#8D929A",d:"M13.11.728a.5.5 0 0 1 .702-.078l3.7 2.96a.5.5 0 0 1 0 .78l-3.7 2.96A.5.5 0 0 1 13 6.96V4.5H8a6.5 6.5 0 0 0 0 13h3V19H8A8 8 0 1 1 8 3h5V1.04a.5.5 0 0 1 .11-.312z"});const gs=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:18,height:19,viewBox:"0 0 18 19",className:"Icon nav-redo"},e),hs)));var fs=r.createElement("path",{fill:"#8D929A",fillRule:"evenodd",d:"M10.5 1.25a9.25 9.25 0 0 1 9.25 9.25 9.213 9.213 0 0 1-2.2 5.99l4.98 4.98a.75.75 0 0 1-1.06 1.06l-4.98-4.98a9.213 9.213 0 0 1-5.99 2.2 9.25 9.25 0 0 1 0-18.5zm0 1.5a7.75 7.75 0 1 0 0 15.5 7.75 7.75 0 0 0 0-15.5z"});const Es=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",className:"Icon nav-search"},e),fs)));var vs=r.createElement("path",{fill:"#8D929A",fillRule:"evenodd",d:"M14.071 1.25a.75.75 0 0 1 .72.538l.802 2.72c.45.204.877.445 1.283.724l2.875-.703a.75.75 0 0 1 .821.343l2.071 3.457a.75.75 0 0 1-.114.917l-2.05 2.043a7.018 7.018 0 0 1 .001 1.409l2.05 2.042a.75.75 0 0 1 .113.917l-2.07 3.457a.75.75 0 0 1-.822.343l-2.876-.704a8.822 8.822 0 0 1-1.28.723l-.804 2.735a.75.75 0 0 1-.72.539H9.929a.75.75 0 0 1-.72-.538l-.802-2.72a8.391 8.391 0 0 1-1.283-.724l-2.875.703a.75.75 0 0 1-.821-.343l-2.071-3.457a.75.75 0 0 1 .114-.917l2.05-2.043A7.265 7.265 0 0 1 3.483 12c0-.227.012-.46.036-.698L1.47 9.26a.75.75 0 0 1-.113-.917l2.07-3.457a.75.75 0 0 1 .822-.343l2.876.704a8.822 8.822 0 0 1 1.28-.723L9.21 1.79a.75.75 0 0 1 .72-.539h4.142zm-3.58 1.5-.745 2.533a.75.75 0 0 1-.433.481c-.578.24-1.112.54-1.582.893a.75.75 0 0 1-.628.129L4.43 6.13 2.945 8.61l1.892 1.886a.75.75 0 0 1 .213.636c-.043.31-.066.598-.066.867 0 .268.022.555.067.885a.75.75 0 0 1-.214.632l-1.892 1.886 1.485 2.48 2.673-.654a.75.75 0 0 1 .628.128c.487.366 1.008.66 1.577.89a.75.75 0 0 1 .438.484l.744 2.519h3.02l.744-2.533a.75.75 0 0 1 .433-.481 7.251 7.251 0 0 0 1.582-.893.75.75 0 0 1 .628-.129l2.673.655 1.485-2.48-1.892-1.886a.75.75 0 0 1-.213-.636c.043-.31.066-.598.066-.867a6.52 6.52 0 0 0-.067-.885.75.75 0 0 1 .214-.632l1.892-1.886-1.485-2.48-2.673.654a.75.75 0 0 1-.628-.128 6.923 6.923 0 0 0-1.577-.89.75.75 0 0 1-.438-.484L13.51 2.75h-3.02zM12 8.25c2.075 0 3.772 1.685 3.772 3.75S14.075 15.75 12 15.75c-2.075 0-3.772-1.685-3.772-3.75S9.925 8.25 12 8.25zm0 1.5c-1.249 0-2.272 1.015-2.272 2.25s1.023 2.25 2.272 2.25c1.249 0 2.272-1.015 2.272-2.25S13.249 9.75 12 9.75z"});const bs=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",className:"Icon nav-settings"},e),vs)));var ys=r.createElement("path",{fill:"#8D929A",d:"M4.89.728A.5.5 0 0 0 4.188.65l-3.7 2.96a.5.5 0 0 0 0 .78l3.7 2.96A.5.5 0 0 0 5 6.96V4.5h5a6.5 6.5 0 0 1 0 13H7V19h3a8 8 0 1 0 0-16H5V1.04a.5.5 0 0 0-.11-.312z"});const Is=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:18,height:19,viewBox:"0 0 18 19",className:"Icon nav-undo"},e),ys)));var Cs=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#FFF",d:"m9.046 1.92-.17.074a2.945 2.945 0 0 0-.82.574L3.588 6.92l-.227.234a8.367 8.367 0 0 0-1.355 1.94L.9 11.287l-.066.146-.062.171c-.035.11-.06.215-.078.325l-.562 1.638-.013.026c-.316.905.077 1.844.895 2.233l.164.068c.444.16.937.137 1.368-.067L3.8 15.18c.271-.023.537-.097.784-.219l2.212-1.096.281-.147a8.426 8.426 0 0 0 1.902-1.414l4.47-4.353.145-.154.137-.17c.173-.231.306-.473.402-.725l.042-.125 1.175-1.398.108-.138c.815-1.133.69-2.649-.279-3.61l-.828-.82-.157-.145A2.804 2.804 0 0 0 10.595.64L9.046 1.92Z"}),r.createElement("path",{fill:"#767C86",d:"m13.546 1.427.1.093.83.822c.622.617.696 1.585.193 2.285l-.084.109-1.31 1.56a1.914 1.914 0 0 1-.414.82l-.11.119-4.476 4.359a7.397 7.397 0 0 1-1.66 1.237l-.264.138-2.212 1.096a1.174 1.174 0 0 1-.423.118l-1.6.741a.785.785 0 0 1-.674 0 .77.77 0 0 1-.4-.947l.035-.084.596-1.734c.009-.107.033-.215.073-.319l.046-.102 1.106-2.193a7.338 7.338 0 0 1 1.18-1.695l.207-.213L8.76 3.278c.228-.227.5-.385.787-.475l1.684-1.391a1.804 1.804 0 0 1 2.314.015Z"}),r.createElement("path",{fill:"#FFF",d:"M9.82 4.048c.23-.121.521-.1.735.064l.068.06 1.231 1.222.061.068.06.093c.122.227.102.514-.064.726l-.06.068-4.472 4.354-.206.195-.212.183a6.139 6.139 0 0 1-.927.63l-.252.133-2.146 1.063-.677-.671 1.074-2.128.133-.25.142-.24c.198-.314.425-.612.679-.888l.196-.204 4.47-4.353.073-.065Zm2.411-1.688a.45.45 0 0 1 .464.106l.828.82.05.058.041.07a.439.439 0 0 1-.064.466l-.592.703-.023-.03-.113-.12-1.236-1.226-.098-.091-.107-.087.707-.586.068-.048Z"}));const Ss=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon notification-annotation"},e),Cs)));var Ts=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:16,height:16,fill:"#FFF",rx:4}),r.createElement("rect",{width:14,height:14,x:1,y:1,fill:"#5882F8",rx:3}),r.createElement("rect",{width:3.063,height:3.063,x:4.5,y:4.5,fill:"#FFF",rx:.875}),r.createElement("rect",{width:3.063,height:3.063,x:4.5,y:8.438,fill:"#FFF",fillOpacity:.75,rx:.875}),r.createElement("rect",{width:3.063,height:3.063,x:8.438,y:4.5,fill:"#FFF",fillOpacity:.25,rx:1.531}),r.createElement("rect",{width:3.063,height:3.063,x:8.438,y:8.438,fill:"#FFF",fillOpacity:.5,rx:.875}));const ws=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon notification-board"},e),Ts)));var Os=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#CCC",d:"M0 4.009C0 2.899.895 2 1.994 2h12.012C15.107 2 16 2.902 16 4.009v7.982c0 1.11-.895 2.009-1.994 2.009H1.994A2.003 2.003 0 0 1 0 11.991V4.01z"}),r.createElement("path",{fill:"#FFF",d:"M1 3.995A1 1 0 0 1 2.007 3h11.986C14.55 3 15 3.456 15 3.995v8.01a1 1 0 0 1-1.007.995H2.007A1.007 1.007 0 0 1 1 12.005v-8.01z"}),r.createElement("path",{fill:"#767C86",d:"M11.49 9c.25 0 .459.183.502.412L12 9.5c0 .276-.222.5-.51.5H3.51A.51.51 0 0 1 3 9.5c0-.276.222-.5.51-.5h7.98zm1-2c.25 0 .459.183.502.412L13 7.5c0 .276-.228.5-.51.5H3.51A.51.51 0 0 1 3 7.5c0-.276.228-.5.51-.5h8.98zm0-2c.25 0 .459.183.502.412L13 5.5c0 .276-.228.5-.51.5H3.51A.51.51 0 0 1 3 5.5c0-.276.228-.5.51-.5h8.98z"}));const _s=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon notification-card"},e),Os)));var Rs=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#CCC",d:"M1 1.002C1 .45 1.456 0 1.995 0h8.01c.55 0 .995.456.995 1.002v9.996c0 .553-.456 1.002-.995 1.002h-8.01C1.445 12 1 11.544 1 10.998V1.002Z"}),r.createElement("path",{fill:"#276E7F",d:"M1 .997C1 .447 1.456 0 1.995 0h8.01A1 1 0 0 1 11 .997V8H1V.997Z"}),r.createElement("path",{fill:"#FFF",d:"M2 8h8v3H2z"}),r.createElement("path",{fill:"#318295",d:"M2 1h8v7H2z"}),r.createElement("path",{fill:"#CCC",d:"M5 5.002C5 4.45 5.456 4 5.995 4h8.01c.55 0 .995.456.995 1.002v9.996c0 .553-.456 1.002-.995 1.002h-8.01C5.445 16 5 15.544 5 14.998V5.002Z"}),r.createElement("path",{fill:"#C54867",d:"M5 4.997c0-.55.456-.997.995-.997h8.01a1 1 0 0 1 .995.997V12H5V4.997Z"}),r.createElement("path",{fill:"#FFF",d:"M6 12h8v3H6z"}),r.createElement("path",{fill:"#E15678",d:"M6 5h8v7H6z"}));const As=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon notification-color-swatch"},e),Rs)));var Ds=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#C1D0FC",d:"M2 13a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2h-3.586L8 15.414 5.586 13H2z"}),r.createElement("path",{fill:"#EAEFFE",d:"M2 12a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1h-4l-2 2-2-2H2z"}),r.createElement("path",{fill:"#5882F8",d:"M11.49 9c.25 0 .459.183.502.412L12 9.5c0 .276-.222.5-.51.5H3.51A.51.51 0 0 1 3 9.5c0-.276.222-.5.51-.5h7.98zm1-2c.25 0 .459.183.502.412L13 7.5c0 .276-.228.5-.51.5H3.51A.51.51 0 0 1 3 7.5c0-.276.228-.5.51-.5h8.98zm0-2c.25 0 .459.183.502.412L13 5.5c0 .276-.228.5-.51.5H3.51A.51.51 0 0 1 3 5.5c0-.276.228-.5.51-.5h8.98z"}));const Ns=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon notification-comment"},e),Ds)));var xs=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#CCC",d:"M2 2.007C2 1.45 2.453 1 2.997 1H10l4 4v9.005c0 .55-.456.995-1.002.995H3.002C2.45 15 2 14.55 2 13.993V2.007Z"}),r.createElement("path",{fill:"#FFF",d:"M9 2v4h4v8H3V2h6Zm3.5 3H10V2.501L12.5 5Z"}),r.createElement("path",{fill:"#767C86",d:"M10.509 10a.5.5 0 0 1 .483.412L11 10.5a.5.5 0 0 1-.491.5H5.491a.5.5 0 0 1 0-1h5.018Zm0-2a.5.5 0 0 1 .483.412L11 8.5a.5.5 0 0 1-.491.5H5.491a.5.5 0 0 1 0-1h5.018Z"}));const Ms=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon notification-document"},e),xs)));var Ps=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#FFF",d:"M9.454 0c.498 0 .98.19 1.338.533l3.13 2.987c.368.352.578.835.578 1.342v8.388c0 1.53-1.279 2.75-2.833 2.75H4.333C2.78 16 1.5 14.78 1.5 13.25V2.75C1.5 1.22 2.779 0 4.333 0h5.12z"}),r.createElement("path",{fill:"#767C86",d:"M9.454 1a.94.94 0 0 1 .648.256l3.13 2.988a.857.857 0 0 1 .268.618v8.388c0 .966-.82 1.75-1.833 1.75H4.333C3.321 15 2.5 14.216 2.5 13.25V2.75C2.5 1.784 3.32 1 4.333 1h5.12zM8 2.312H4.333a.448.448 0 0 0-.458.438v10.5c0 .242.205.438.458.438h7.334a.448.448 0 0 0 .458-.438v-7H8.687a.68.68 0 0 1-.68-.56L8 5.595V2.312zm4.014 2.625L9.375 2.419v2.518h2.639z"}));const Ls=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon notification-file"},e),Ps)));var ks=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#FFF",d:"M3 0h10a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3z"}),r.createElement("path",{fill:"#767C86",d:"M12.375 1A2.625 2.625 0 0 1 15 3.625v8.75A2.625 2.625 0 0 1 12.375 15h-8.75A2.625 2.625 0 0 1 1 12.375v-8.75A2.625 2.625 0 0 1 3.625 1h8.75zM6.25 9.803l-3.473 3.474a.853.853 0 0 1-.056.049c.234.224.553.361.904.361h8.75c.35 0 .67-.137.905-.361l-.057-.05-2.16-2.16-1.286 1.286a.658.658 0 0 1-.929 0L6.25 9.803zm6.125-7.49h-8.75c-.725 0-1.313.587-1.313 1.312v8.259l3.474-3.473c.23-.23.59-.254.847-.07l.081.07 2.598 2.598 1.286-1.286a.658.658 0 0 1 .929 0l2.16 2.161V3.625c0-.725-.587-1.313-1.312-1.313zm-2.188 1.312a2.188 2.188 0 1 1-.002 4.376 2.188 2.188 0 0 1 .003-4.376zm0 1.313a.874.874 0 1 0 0 1.75.876.876 0 1 0 0-1.75z"}));const Fs=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon notification-image"},e),ks)));var Bs=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#FFF",d:"m14.46 1.54.172.178a5.256 5.256 0 0 1-.171 7.253c-.62.62-1.608.651-2.265.092a5.268 5.268 0 0 1-1.362 3.526l-.174.183-1.689 1.689a5.256 5.256 0 0 1-7.432-7.432 1.673 1.673 0 0 1 2.265-.092 5.268 5.268 0 0 1 1.362-3.526l.174-.183L7.029 1.54a5.256 5.256 0 0 1 7.432 0z"}),r.createElement("path",{fill:"#767C86",d:"M9.003 6.047a.672.672 0 0 1 .95 0 4.255 4.255 0 0 1 0 6.018l-1.69 1.689a4.256 4.256 0 0 1-6.017-6.018.672.672 0 0 1 .95.95 2.912 2.912 0 0 0 4.118 4.118l1.689-1.69a2.91 2.91 0 0 0 0-4.117.672.672 0 0 1 0-.95zm-1.267-3.8a4.255 4.255 0 0 1 6.018 6.017.672.672 0 0 1-.95-.95 2.912 2.912 0 0 0-4.118-4.118l-1.689 1.69a2.91 2.91 0 0 0 0 4.117.672.672 0 0 1-.95.95 4.255 4.255 0 0 1 0-6.018z"}));const js=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon notification-link"},e),Bs)));var zs=r.createElement("circle",{cx:7,cy:7,r:6,fill:"#2f63f7",fillRule:"evenodd",stroke:"#FFF",strokeWidth:2});const Us=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:14,height:14,viewBox:"0 0 14 14",className:"Icon notification-live"},e),zs)));var Hs=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("circle",{cx:8,cy:8,r:8,fill:"#C1D0FC"}),r.createElement("g",{transform:"translate(1 1)"},r.createElement("circle",{cx:7,cy:7,r:7,fill:"#EAEFFE"}),r.createElement("path",{fill:"#2F63F7",d:"M7.19 12c1.014 0 2.09-.25 2.584-.502l-.335-.98c-.375.139-1.283.394-2.183.394-2.612 0-4.025-1.382-4.025-3.883 0-2.331 1.35-3.956 3.927-3.956 2.103 0 3.67 1.166 3.666 3.358.004 1.594-.249 2.312-.88 2.312-.336 0-.533-.263-.537-.645V4.424h-1.1v.432H8.25c-.126-.34-.884-.652-1.74-.536-1.101.142-2.159 1.026-2.159 2.678 0 1.702.947 2.702 2.234 2.76.895.042 1.59-.348 1.775-.807h.048c.095.579.615.895 1.413.853C11.518 9.742 12.004 8.26 12 6.496 12.004 3.961 10.26 2 7.185 2 3.91 2 2.004 3.972 2 7.044 2.004 10.19 3.878 12 7.19 12zm-.277-3.35c-1.03 0-1.377-.818-1.381-1.698.004-.88.505-1.525 1.389-1.525.983 0 1.346.471 1.35 1.52.012 1.128-.36 1.703-1.358 1.703z"})));const Zs=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon notification-mention"},e),Hs)));var Gs=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:12,height:12,x:.5,y:.5,fill:"#D5D5D5",stroke:"#B8B8B8",rx:1.8}),r.createElement("rect",{width:12,height:12,x:5.5,y:5.5,fill:"#B57FE5",stroke:"#000",strokeOpacity:.2,rx:1.8}));const Ks=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,viewBox:"0 0 18 18",className:"Icon notification-new-template"},e),Gs)));var Ws=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("circle",{cx:8,cy:8,r:8,fill:"#FFF"}),r.createElement("path",{fill:"#767C86",d:"M8 1a7 7 0 1 1 0 14A7 7 0 0 1 8 1zm0 1.5a5.5 5.5 0 1 0 0 11 5.5 5.5 0 1 0 0-11zm3 6.438c.437 0 .707.476.482.851C10.635 11.202 9.458 11.75 8 11.75c-1.458 0-2.635-.548-3.482-1.96A.562.562 0 0 1 5 8.938h6zM5.75 5.75a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5zm4.5 0a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5z"}));const Vs=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon notification-reaction"},e),Ws)));var $s=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("circle",{cx:8,cy:8,r:8,fill:"#FFF"}),r.createElement("path",{fill:"#767C86",d:"M8 1a7 7 0 1 1 0 14A7 7 0 0 1 8 1zm0 1.5a5.5 5.5 0 1 0 0 11 5.5 5.5 0 1 0 0-11zm0 1.315a.75.75 0 0 1 .75.75v3.126l1.82 1.834a.749.749 0 1 1-1.063 1.057l-2.184-2.2-.073-.176v-3.64a.75.75 0 0 1 .75-.75z"}));const qs=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon notification-reminder-clock"},e),$s)));var Ys=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("circle",{cx:8,cy:8,r:8,fill:"#FFF"}),r.createElement("g",{transform:"translate(1 1)"},r.createElement("circle",{cx:7,cy:7,r:7,fill:"#5F6672"}),r.createElement("path",{fill:"#FFF",d:"M8.4 7c1.04 0 1.96.774 2.087 1.932l.013.168v.175c0 .29-.235.525-.525.525h-5.95a.525.525 0 0 1-.525-.525V9.1c0-1.205.98-2.1 2.1-2.1h2.8zM7 3.5a1.4 1.4 0 1 1 0 2.8 1.4 1.4 0 0 1 0-2.8z"})));const Xs=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon notification-share"},e),Ys)));var Qs=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#CCC",d:"M0 3.002A1 1 0 0 1 1 2h14c.552 0 1 .456 1 1.002v9.996A1 1 0 0 1 15 14H1c-.552 0-1-.456-1-1.002V3.002Z"}),r.createElement("path",{fill:"#FFF",d:"M1 3h14v10H1z"}),r.createElement("path",{fill:"#767C86",d:"m9.485 4.963-1.22.798-.69.458-.542.367-.352.242-.317.222-.293.211-.469.35-.17.133-.15.121-.134.113a5.44 5.44 0 0 0-.352.33 2.38 2.38 0 0 0-.215.252c-.094.127-.151.24-.185.368a.628.628 0 0 0 .411.755c.061.02.114.03.178.038.08.008.147.01.242.004.168-.014.307-.036.503-.08l.176-.043.188-.05.41-.119.57-.182 1.01-.342-.559.489-.206.187-.082.079-.142.148-.051.061a.694.694 0 0 0-.084.131l-.018.042-.019.072-.006.067.002.031.006.043a.396.396 0 0 0 .058.133l.019.025.062.061.062.042c.078.044.15.066.23.076.08.01.139.008.248-.002l.084-.01.098-.017.216-.044.12-.029.808-.202c.23-.055.408-.088.58-.108.19-.022.362-.027.519-.016.175.015.32.048.436.1a.654.654 0 0 1 .4.46l.02.125a.37.37 0 0 0 .383.272c.202-.008.367-.162.357-.355l-.008-.081a1.22 1.22 0 0 0-.065-.26l-.031-.078a1.282 1.282 0 0 0-.133-.234 1.425 1.425 0 0 0-.582-.468c-.2-.092-.433-.15-.706-.176a3.68 3.68 0 0 0-.686.011l-.205.026L9 9.545l-.15.03-.26.059-.196.046.544-.462.26-.231.091-.086.179-.178.068-.077.065-.083a.905.905 0 0 0 .062-.097l.029-.06a.466.466 0 0 0 .035-.147.385.385 0 0 0-.01-.125.361.361 0 0 0-.06-.132.416.416 0 0 0-.145-.133.632.632 0 0 0-.133-.053.688.688 0 0 0-.2-.018l-.084.007c-.058.007-.11.015-.172.029l-.243.06-.272.077-.385.12-1.088.353-.454.143-.268.08-.234.067-.215.057-.252.058.092-.087.112-.1.188-.157.228-.178.36-.267.28-.198.296-.205.325-.22.63-.416.367-.239.585-.376 1.11-.704.042-.03c.204-.166.23-.438.06-.627a.56.56 0 0 0-.703-.082Z"}));const Js=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon notification-sketch"},e),Qs)));var ea=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#CCC",d:"M1 0h14a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1z"}),r.createElement("path",{fill:"#FFF",d:"M1 1h14v10H1z"}),r.createElement("path",{fill:"#E6E6E6",d:"M1 1h14v3H1z"}),r.createElement("path",{fill:"#CCC",d:"M1 7h14v1H1z"}),r.createElement("path",{fill:"#CCC",d:"M10 1h1v10h-1zM5 1h1v10H5z"}));const ta=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 12",className:"Icon notification-table"},e),ea)));var na=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#FFF",d:"M3 0h10a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3z"}),r.createElement("g",{transform:"translate(1 1)"},r.createElement("rect",{width:14,height:14,fill:"#A3A7AE",rx:2}),r.createElement("path",{fill:"#FFF",d:"M10.5 4.013 6.125 8.388 3.5 5.763 2.263 7l3.243 3.244a.877.877 0 0 0 1.238 0l4.993-4.994L10.5 4.013z"})));const ra=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon notification-task-checked"},e),na)));var oa=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#FFF",d:"M3 0h10a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3z"}),r.createElement("g",{transform:"translate(1 1)"},r.createElement("rect",{width:14,height:14,fill:"#A3A7AE",rx:2}),r.createElement("path",{fill:"#FFF",d:"M10.5 4.013 6.125 8.388 3.5 5.763 2.263 7l3.243 3.244a.877.877 0 0 0 1.238 0l4.993-4.994L10.5 4.013z"})));const ia=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon notification-task-update"},e),oa)));var sa=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#CCC",d:"M0 4.009C0 2.899.895 2 1.994 2h12.012C15.107 2 16 2.902 16 4.009v7.981c0 1.11-.895 2.009-1.994 2.009H1.994A2.002 2.002 0 0 1 0 11.991V4.01z"}),r.createElement("path",{fill:"#FFF",d:"M1 3.995A1 1 0 0 1 2.007 3h11.986C14.55 3 15 3.456 15 3.995v8.01a1 1 0 0 1-1.007.995H2.007A1.007 1.007 0 0 1 1 12.005v-8.01z"}),r.createElement("path",{fill:"#767C86",d:"M5.911 8.266a.427.427 0 0 1 .606 0 .427.427 0 0 1 0 .606L5.09 10.3a.427.427 0 0 1-.606 0l-.857-.857a.43.43 0 0 1 .606-.606l.554.554zM12.288 9c.244 0 .448.183.49.412l.008.088c0 .276-.215.5-.498.5H8.283a.504.504 0 0 1-.497-.5c0-.276.215-.5.497-.5h4.005zM5.911 5.266a.427.427 0 0 1 .606 0 .427.427 0 0 1 0 .606L5.09 7.3a.427.427 0 0 1-.606 0l-.857-.857a.43.43 0 0 1 .606-.606l.554.554zM12.288 6c.244 0 .448.183.49.412l.008.088c0 .276-.215.5-.498.5H8.283a.504.504 0 0 1-.497-.5c0-.276.215-.5.497-.5h4.005z"}));const aa=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon notification-task"},e),sa)));var la=r.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(1 1)"},r.createElement("rect",{width:10,height:10,x:.5,y:.5,fill:"#BFBFBF",stroke:"#9C9C9C",rx:1.8}),r.createElement("rect",{width:10,height:10,x:3.5,y:3.5,fill:"#B57FE5",stroke:"#000",strokeOpacity:.2,rx:1.8}));const ca=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon notification-template"},e),la)));var da=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:34,height:34,rx:3.579}),r.createElement("path",{fill:"#FFF",d:"M8.16 8.16h8.16v10.88H8.16zm0 12.24h8.16v5.44H8.16zm9.52-12.24h8.16v17.68h-8.16z"}));const ua=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:34,height:34,viewBox:"0 0 34 34",className:"Icon notification-unshare-board"},e),da)));var ma=r.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"#E50C0C",strokeWidth:2},r.createElement("circle",{cx:8,cy:8,r:7}),r.createElement("path",{strokeLinecap:"square",d:"m4 12 8-8"}));const pa=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon notification-unshare"},e),ma)));var ha=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("circle",{cx:8,cy:8,r:8,fill:"#FFF"}),r.createElement("g",{transform:"translate(1 1)"},r.createElement("circle",{cx:7,cy:7,r:7,fill:"#4EB85A"}),r.createElement("path",{fill:"#FFF",d:"M10.5 4.013 6.125 8.388 3.937 6.125 2.7 7.362l2.806 2.882a.877.877 0 0 0 1.238 0l4.993-4.994L10.5 4.013z"})));const ga=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon notification-viewed"},e),ha)));var fa=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:49,height:49,x:.5,y:.5,fill:"#FFF",stroke:"#C6C6C6",rx:5}),r.createElement("rect",{width:18,height:18,x:11.5,y:11.5,fill:"#D5D5D5",stroke:"#C6C6C6",rx:2.778}),r.createElement("rect",{width:18,height:18,x:20.5,y:20.5,fill:"#B57FE5",stroke:"#000",strokeOpacity:.2,rx:2.778}));const Ea=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:50,height:50,viewBox:"0 0 50 50",className:"Icon old-notification-template"},e),fa)));var va=r.createElement("path",{fill:"#333",fillRule:"evenodd",d:"M11.2 9.778c2.418 0 4.556 1.78 4.785 4.43l.015.236v.356a1.2 1.2 0 0 1-1.2 1.2H1.2A1.2 1.2 0 0 1 0 14.8v-.356c0-2.676 2.239-4.666 4.8-4.666h6.4zM8 2c1.767 0 3.2 1.393 3.2 3.111 0 1.718-1.433 3.111-3.2 3.111-1.767 0-3.2-1.393-3.2-3.11C4.8 3.391 6.233 2 8 2z"});const ba=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon payment-person"},e),va)));var ya=r.createElement("path",{fill:"#FFF",fillRule:"evenodd",d:"M17.72 11.09 2.082 19.848a1.25 1.25 0 0 1-1.861-1.09V1.243A1.25 1.25 0 0 1 2.082.153l15.636 8.755a1.252 1.252 0 0 1 0 2.182z"});const Ia=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:19,height:20,viewBox:"0 0 19 20",className:"Icon play-arrow"},e),ya)));var Ca=r.createElement("path",{fill:"#323B4A",fillRule:"evenodd",d:"M8.75 3.757V7.25h3.493a.75.75 0 0 1 .742.64l.008.11a.75.75 0 0 1-.64.742l-.11.008H8.75v3.493a.75.75 0 0 1-1.5 0V8.75H3.757a.75.75 0 0 1-.742-.64L3.007 8a.75.75 0 0 1 .64-.742l.11-.008H7.25V3.757a.75.75 0 0 1 1.5 0z"});const Sa=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon plus"},e),Ca)));var Ta=r.createElement("defs",null,r.createElement("filter",{id:"PointerIcon__a",width:"208.3%",height:"168.4%",x:"-54.2%",y:"-34.2%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:1}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",result:"shadowMatrixOuter1",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),r.createElement("feMerge",null,r.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),r.createElement("feMergeNode",{in:"SourceGraphic"})))),wa=r.createElement("g",{fill:"none",fillRule:"evenodd",filter:"url(#PointerIcon__a)",transform:"translate(7 2)"},r.createElement("path",{fill:"#FFF",d:"M8.914 15.57c.362.737.02 1.817-.853 2.264-.872.448-1.81.347-2.272-.332-.173-.144-2.063-3.814-2.063-3.814L0 17.414V.586L11.414 12H7.162c.208.4 1.391 2.834 1.752 3.57z"}),r.createElement("path",{fill:"#000",d:"M1 3v12l3-3s2.332 4.625 2.404 4.754c.138.246.533.659 1.164.322.63-.336.537-.84.391-1.19L5.5 11H9L1 3z"}));const Oa=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",className:"Icon pointer"},e),Ta,wa)));var _a=r.createElement("path",{fill:"#777",d:"M4 0a2.413 2.413 0 0 0-2.4 2.4c0 .612.24 1.175.625 1.6H1.6C.719 4 0 4.719 0 5.6v1.6h6.4V4.8h3.2v2.4H16V5.6c0-.881-.719-1.6-1.6-1.6h-.625a2.39 2.39 0 0 0 .625-1.6C14.4 1.084 13.316 0 12 0c-1.272 0-2.266.806-3.05 1.6h-1.9C6.266.806 5.272 0 4 0zm0 1.6c.516 0 1.447.612 2.15 1.35.119.125.094.128.2.25H4a.798.798 0 0 1-.8-.8c0-.444.356-.8.8-.8zm8 0c.444 0 .8.356.8.8 0 .444-.356.8-.8.8H9.65c.106-.122.081-.125.2-.25.703-.738 1.634-1.35 2.15-1.35zM.8 8v6.4c0 .881.719 1.6 1.6 1.6h4V8H.8zm8.8 0v8h4c.881 0 1.6-.719 1.6-1.6V8H9.6z"});const Ra=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon present"},e),_a)));var Aa=r.createElement("g",{fill:"none",fillRule:"evenodd",opacity:.7},r.createElement("path",{fill:"#DADADA",d:"M0 0h78v62H0z"}),r.createElement("path",{fill:"#CACACA",d:"m26 28 26 34H0z"}),r.createElement("path",{fill:"#CACACA",d:"m61 41 17 21H44z"}),r.createElement("path",{fill:"#C9C9C9",fillRule:"nonzero",d:"M78 0v62H0V0h78zM3 3v56h72V3H3z"}),r.createElement("path",{fill:"#F8F8F8",d:"M58 29a8 8 0 1 0 0-16 8 8 0 0 0 0 16z"}));const Da=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:78,height:62,viewBox:"0 0 78 62",className:"Icon preview-image"},e),Aa)));var Na=r.createElement("path",{fill:"#323B4A",fillRule:"evenodd",d:"M10 0 6.909 8.241 5.062 6.394 1.457 10 0 8.543l3.605-3.606-1.846-1.846z"});const xa=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:10,height:10,viewBox:"0 0 10 10",className:"Icon quick-line-arrow"},e),Na)));var Ma=r.createElement("rect",{width:16,height:16,fill:"#FFF",fillRule:"evenodd",rx:8});const Pa=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon quick-line-circle"},e),Ma)));var La=r.createElement("path",{fill:"#8D929A",fillRule:"evenodd",d:"M8 1.25a6.769 6.769 0 0 1 1.639.201.562.562 0 1 1-.272 1.092A5.493 5.493 0 0 0 8 2.375a5.624 5.624 0 1 0 0 11.25 5.624 5.624 0 0 0 5.615-5.959.563.563 0 0 1 1.123-.065A6.75 6.75 0 1 1 8 1.25zm3 7.688c.437 0 .707.476.482.851C10.635 11.202 9.458 11.75 8 11.75c-1.458 0-2.635-.548-3.482-1.96A.562.562 0 0 1 5 8.938h6zM5.75 5.75a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5zm4.5 0a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5zm3-4.688c.285 0 .52.212.557.487l.005.076v1.313h1.313c.285 0 .52.211.557.486l.005.076c0 .285-.211.52-.486.557l-.076.006h-1.313v1.312c0 .285-.211.52-.486.557l-.076.005a.561.561 0 0 1-.557-.486l-.005-.076V4.062h-1.313a.561.561 0 0 1-.557-.486l-.005-.076c0-.285.211-.52.486-.557l.076-.006h1.313V1.625c0-.259.174-.477.412-.542l.074-.015.076-.005z"});const ka=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon reaction-add"},e),La)));var Fa=r.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"#45971D"},r.createElement("path",{strokeLinejoin:"round",d:"M11 9.383V9.5H1v-.117c0-.465.191-.91.53-1.23.619-.587 1.048-1.873 1.288-3.859C3.037 2.484 4.243 1 6 1s2.963 1.484 3.182 3.294c.24 1.986.67 3.272 1.289 3.859.338.32.529.765.529 1.23z"}),r.createElement("path",{d:"M4.5 10a1.5 1.5 0 0 0 3 0"}));const Ba=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:12,height:12,viewBox:"0 0 12 12",className:"Icon reminder-bell-mini"},e),Fa)));var ja=r.createElement("path",{fill:"#A3A7AE",fillRule:"evenodd",d:"M12 4.25a6.001 6.001 0 0 1 5.987 5.586l.37 5.36a.65.65 0 0 0 .643.554h.75v1.9H14.5a2.5 2.5 0 0 1-4.995.114l-.003-.114H4.25v-1.9H5c.326 0 .597-.24.644-.593l.369-5.32A6.001 6.001 0 0 1 12 4.25zm.997 13.4h-1.996a1 1 0 0 0 1.992.067l.004-.067zM12 5.75a4.5 4.5 0 0 0-4.49 4.19l-.36 5.16c0 .381-.1.74-.273 1.05h10.238l-.078-.153a1.998 1.998 0 0 1-.185-.845L16.49 9.94A4.5 4.5 0 0 0 12 5.75z"});const za=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",className:"Icon reminder-bell"},e),ja)));var Ua=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#323B4A",d:"M5.53 6.53a.749.749 0 1 1-1.06-1.06l2-2a.749.749 0 0 1 1.06 0l2 2a.749.749 0 1 1-1.06 1.06L7 5.06 5.53 6.53z",className:"color-fill"}),r.createElement("path",{stroke:"#323B4A",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 5.5V9a2 2 0 0 0 2 2h2.5",className:"color-stroke"}));const Ha=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon save-workspace-arrow"},e),Ua)));var Za=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("circle",{cx:10,cy:10,r:10,fill:"#6F6F72"}),r.createElement("path",{fill:"#FFF",d:"m11.2 10 2.398-2.399a.848.848 0 0 0-1.2-1.2L10 8.802l-2.399-2.4a.848.848 0 1 0-1.2 1.2L8.802 10l-2.399 2.399a.848.848 0 0 0 1.2 1.199L10 11.199l2.399 2.399a.848.848 0 1 0 1.199-1.2L11.199 10z"}));const Ga=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",className:"Icon search-clear"},e),Za)));var Ka=r.createElement("defs",null,r.createElement("filter",{id:"SearchCurrentBoardIcon__a",width:"118.5%",height:"117.8%",x:"-9.2%",y:"-5.9%",filterUnits:"objectBoundingBox"},r.createElement("feMorphology",{in:"SourceAlpha",operator:"dilate",radius:1,result:"shadowSpreadOuter1"}),r.createElement("feOffset",{dy:1,in:"shadowSpreadOuter1",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:.5}),r.createElement("feComposite",{in:"shadowBlurOuter1",in2:"SourceAlpha",operator:"out",result:"shadowBlurOuter1"}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0.431372549 0 0 0 0 0.431372549 0 0 0 0 0.443137255 0 0 0 0.329313859 0"})),r.createElement("filter",{id:"SearchCurrentBoardIcon__d",width:"377.4%",height:"373.9%",x:"-138.7%",y:"-136.9%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:2.5}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 1 0 0 0 0 0.992156863 0 0 0 0 0.866666667 0 0 0 0.5 0"})),r.createElement("filter",{id:"SearchCurrentBoardIcon__f",width:"111.7%",height:"111.5%",x:"-5.8%",y:"-2.9%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:.5}),r.createElement("feComposite",{in:"shadowBlurOuter1",in2:"SourceAlpha",operator:"out",result:"shadowBlurOuter1"}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.07 0"})),r.createElement("filter",{id:"SearchCurrentBoardIcon__h",width:"111.8%",height:"115.4%",x:"-5.9%",y:"-3.8%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:.5}),r.createElement("feComposite",{in:"shadowBlurOuter1",in2:"SourceAlpha",operator:"out",result:"shadowBlurOuter1"}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"})),r.createElement("path",{id:"SearchCurrentBoardIcon__b",d:"M2.906 3.955h32.45v33.772H2.906z"}),r.createElement("path",{id:"SearchCurrentBoardIcon__e",d:"M24.156 15.742c1.493 0 2.704-1.226 2.704-2.738 0-1.513-1.21-2.739-2.704-2.739-1.494 0-2.704 1.226-2.704 2.739 0 1.512 1.21 2.738 2.704 2.738z"}),r.createElement("path",{id:"SearchCurrentBoardIcon__i",d:"M0 0h34v26H0z"}),r.createElement("linearGradient",{id:"SearchCurrentBoardIcon__c",x1:"50%",x2:"50%",y1:"100%",y2:"0%"},r.createElement("stop",{offset:"0%",stopColor:"#96BA69"}),r.createElement("stop",{offset:"100%",stopColor:"#7AA948"})),r.createElement("rect",{id:"SearchCurrentBoardIcon__g",width:34.253,height:34.685,x:3.564,y:3.439,rx:3.629})),Wa=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("g",{transform:"rotate(-10 19.63 15.126)"},r.createElement("use",{xlinkHref:"#SearchCurrentBoardIcon__b",fill:"#000",filter:"url(#SearchCurrentBoardIcon__a)"}),r.createElement("use",{xlinkHref:"#SearchCurrentBoardIcon__b",fill:"#FFF"}),r.createElement("path",{stroke:"#A5A5A5",d:"M2.406 3.455h33.45v34.772H2.406z"})),r.createElement("path",{fill:"#A8D8F4",d:"M4.358 9.256 30.99 4.561l3.804 21.573-26.632 4.695z"}),r.createElement("path",{fill:"#84AF53",d:"m14.979 17.579 10.937 10.12-17.753 3.13z"}),r.createElement("path",{fill:"url(#SearchCurrentBoardIcon__c)",d:"m27.39 19.905 5.858 7.302H21.53z",transform:"rotate(-10 27.89 17.84)"}),r.createElement("path",{fill:"#000",fillOpacity:.104,fillRule:"nonzero",d:"m30.99 4.56 3.803 21.574-26.63 4.696L4.359 9.256l26.63-4.696zM5.404 9.998l3.487 19.776 24.855-4.382L30.26 5.616 5.405 9.998z"}),r.createElement("g",{transform:"rotate(-10 24.656 7.289)"},r.createElement("use",{xlinkHref:"#SearchCurrentBoardIcon__e",fill:"#000",filter:"url(#SearchCurrentBoardIcon__d)"}),r.createElement("use",{xlinkHref:"#SearchCurrentBoardIcon__e",fill:"#FFFDDD"})),r.createElement("g",{transform:"rotate(10 -5.1 120.937)"},r.createElement("use",{xlinkHref:"#SearchCurrentBoardIcon__g",fill:"#000",filter:"url(#SearchCurrentBoardIcon__f)"}),r.createElement("use",{xlinkHref:"#SearchCurrentBoardIcon__g",fill:"#C7C7C7"}),r.createElement("rect",{width:33.253,height:33.685,x:4.064,y:3.939,stroke:"#A5A5A5",rx:3.629})),r.createElement("path",{fill:"#FFF",d:"m30.399 16.228 7.988 1.409-1.902 10.786-7.988-1.409zM28.18 28.812l7.988 1.409-.951 5.394-7.989-1.409zM40.163 17.95l7.988 1.408-3.17 17.978-7.988-1.41z"}),r.createElement("g",{transform:"translate(12 24)"},r.createElement("use",{xlinkHref:"#SearchCurrentBoardIcon__i",fill:"#000",filter:"url(#SearchCurrentBoardIcon__h)"}),r.createElement("use",{xlinkHref:"#SearchCurrentBoardIcon__i",fill:"#FFF"}),r.createElement("path",{stroke:"#A5A5A5",strokeWidth:.907,d:"M.454.454v25.092h33.092V.454H.454z"})),r.createElement("path",{fill:"#929292",fillRule:"nonzero",d:"M18 32h22v-1H18zm0 3h21v-1H18zm0 3h22v-1H18zm0 3h20v-1H18z"}));const Va=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:58,height:52,viewBox:"0 0 58 52",className:"Icon search-current-board"},e),Ka,Wa)));var $a=r.createElement("path",{fill:"#BBBEC3",fillRule:"evenodd",d:"M11 3a8 8 0 0 1 6.162 13.102l3.868 3.868a.75.75 0 0 1-1.06 1.06l-3.868-3.868A8 8 0 1 1 11 3zm0 1.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13z"});const qa=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",className:"Icon search-magnifying-glass"},e),$a)));var Ya=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:24,height:24,fill:"#E8E9EB",rx:12}),r.createElement("path",{fill:"#5F6672",d:"M11.82 13a2.5 2.5 0 0 1 2.339 1.615l.39 1.03A1 1 0 0 1 13.614 17H6.5a1 1 0 0 1-.937-1.348l.38-1.022A2.5 2.5 0 0 1 8.285 13h3.535zm5.673-5a.75.75 0 0 1 .75.75v1.492h1.492a.75.75 0 0 1 .742.64l.008.11a.75.75 0 0 1-.639.743l-.11.008h-1.493v1.492a.75.75 0 0 1-1.5 0v-1.492H15.25a.75.75 0 0 1-.742-.64l-.008-.11a.75.75 0 0 1 .64-.742l.11-.008h1.492V8.75a.75.75 0 0 1 .75-.75zm-7.446-1a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5z"}));const Xa=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",className:"Icon share"},e),Ya)));var Qa=r.createElement("path",{fill:"#A3A7AE",fillRule:"evenodd",d:"M12.5 11a.5.5 0 1 1 0 1h-9a.5.5 0 1 1 0-1zm0-4a.5.5 0 1 1 0 1h-9a.5.5 0 0 1 0-1zm0-4a.5.5 0 1 1 0 1h-9a.5.5 0 0 1 0-1z"});const Ja=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon task-drag"},e),Qa)));var el=r.createElement("path",{fill:"#A3A7AE",fillRule:"evenodd",d:"M6.496 1C5.676 1 5 1.676 5 2.496V3H2.5a.5.5 0 0 0 0 1H3v8.5c0 .824.676 1.5 1.5 1.5h7c.824 0 1.5-.676 1.5-1.5V4h.5a.5.5 0 1 0 0-1H11v-.504C11 1.676 10.324 1 9.504 1H6.496zm0 1h3.008c.281 0 .496.215.496.496V3H6v-.504C6 2.215 6.215 2 6.496 2zM4 4h8v8.5c0 .281-.219.5-.5.5h-7a.494.494 0 0 1-.5-.5V4z"});const tl=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon task-trash"},e),el)));var nl=r.createElement("defs",null,r.createElement("filter",{id:"TextClipperIcon__a",width:"116.7%",height:"123.1%",x:"-8.3%",y:"-7.7%",filterUnits:"objectBoundingBox"},r.createElement("feMorphology",{in:"SourceAlpha",operator:"dilate",radius:1,result:"shadowSpreadOuter1"}),r.createElement("feOffset",{dy:1,in:"shadowSpreadOuter1",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:.5}),r.createElement("feComposite",{in:"shadowBlurOuter1",in2:"SourceAlpha",operator:"out",result:"shadowBlurOuter1"}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0.431372549 0 0 0 0 0.431372549 0 0 0 0 0.443137255 0 0 0 0.329313859 0"})),r.createElement("filter",{id:"TextClipperIcon__c",width:"150%",height:"169.2%",x:"-25%",y:"-30.8%",filterUnits:"objectBoundingBox"},r.createElement("feMorphology",{in:"SourceAlpha",operator:"dilate",radius:1,result:"shadowSpreadOuter1"}),r.createElement("feOffset",{dy:1,in:"shadowSpreadOuter1",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:2.5}),r.createElement("feComposite",{in:"shadowBlurOuter1",in2:"SourceAlpha",operator:"out",result:"shadowBlurOuter1"}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0.431372549 0 0 0 0 0.431372549 0 0 0 0 0.443137255 0 0 0 0.329313859 0"})),r.createElement("path",{id:"TextClipperIcon__b",d:"M0 0h36v26H0z"}),r.createElement("path",{id:"TextClipperIcon__d",d:"M0 0h36v26H0z"})),rl=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("g",{transform:"translate(6 5)"},r.createElement("use",{xlinkHref:"#TextClipperIcon__b",fill:"#000",filter:"url(#TextClipperIcon__a)"}),r.createElement("use",{xlinkHref:"#TextClipperIcon__b",fill:"#FFF"}),r.createElement("path",{stroke:"#929292",strokeOpacity:.3,d:"M-.5-.5h37v27h-37z"})),r.createElement("path",{fill:"#929292",d:"M11 11h26v1H11zm0 3h24v1H11zm0 3h26v1H11zm0 3h22v1H11z"}),r.createElement("g",{transform:"translate(6 5)"},r.createElement("use",{xlinkHref:"#TextClipperIcon__d",fill:"#000",filter:"url(#TextClipperIcon__c)"}),r.createElement("use",{xlinkHref:"#TextClipperIcon__d",fill:"#FFF"}),r.createElement("path",{stroke:"#929292",strokeOpacity:.3,d:"M-.5-.5h37v27h-37z"})),r.createElement("path",{fill:"#929292",d:"M11 11h26v1H11zm0 3h24v1H11zm0 3h26v1H11zm0 3h22v1H11z"}));const ol=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:48,height:38,viewBox:"0 0 48 38",className:"Icon text-clipper"},e),nl,rl)));var il=r.createElement("path",{fill:"#4EB85A",fillRule:"evenodd",d:"m13 3.586-7 7-3-3L1.586 9l3.707 3.707a1 1 0 0 0 1.414 0L14.414 5 13 3.586z"});const sl=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon tick-green"},e),il)));var al=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#B5B5B5",d:"M8 15.414 18.707 4.707l-1.414-1.414L8 12.575 4.707 9.293l-1.414 1.414z",className:"tick-line"}));const ll=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:22,height:19,viewBox:"0 0 22 19",className:"Icon tick"},e),al)));var cl=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("path",{fill:"#1B2536",fillOpacity:.3,d:"M24 7a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h16zM12.5 19.499h-4V23.5h4v-4.001zm11 0h-4V23.5h4v-4.001zm-5.5 0h-4V23.5h4v-4.001zm-5.5-5.5h-4v4h4v-4zm5.5 0h-4v4h4v-4zm5.5 0h-4v4h4v-4zM12.5 8.5h-4v3.999h4V8.5zm5.5 0h-4v3.999h4V8.5zm5.5 0h-4v3.999h4V8.5z"}),r.createElement("path",{fill:"#48505E",fillRule:"nonzero",d:"M24 7a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-6V7h6zm-.5 12.499h-4V23.5h4v-4.001zm0-5.5h-4v4h4v-4zm0-5.499h-4v3.999h4V8.5z"}));const dl=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-add-column"},e),cl)));var ul=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("path",{fill:"#1B2536",fillOpacity:.3,d:"M25 24a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v16zM12.501 12.5v-4H8.5v4h4.001zm0 11v-4H8.5v4h4.001zm0-5.5v-4H8.5v4h4.001zm5.5-5.5v-4h-4v4h4zm0 5.5v-4h-4v4h4zm0 5.5v-4h-4v4h4zm5.499-11v-4h-3.999v4H23.5zm0 5.5v-4h-3.999v4H23.5zm0 5.5v-4h-3.999v4H23.5z"}),r.createElement("path",{fill:"#48505E",fillRule:"nonzero",d:"M25 24a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1v-6h18v6zm-12.499-.5v-4H8.5v4h4.001zm5.5 0v-4h-4v4h4zm5.499 0v-4h-3.999v4H23.5z"}));const ml=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-add-row"},e),ul)));var pl=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("path",{fill:"#48505E",d:"M8 23.7h16a.75.75 0 0 0 0-1.5H8a.75.75 0 1 0 0 1.5zm11.46-7.5a.5.5 0 0 0-.5-.5h-2.21V8.752a.752.752 0 0 0-1.497-.102l-.007.102.004 6.948h-2.21a.5.5 0 0 0-.242.062l-.07.047a.5.5 0 0 0-.078.703l2.96 3.7a.5.5 0 0 0 .78 0l2.96-3.7a.5.5 0 0 0 .11-.312z"}));const hl=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-align-bottom"},e),pl)));var gl=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("path",{fill:"#48505E",d:"M11.75 16.75h8.5a.75.75 0 1 0 0-1.5h-8.5a.75.75 0 1 0 0 1.5zm-2.75-6h14a.75.75 0 1 0 0-1.5H9a.75.75 0 0 0 0 1.5zm1 12h12a.75.75 0 1 0 0-1.5H10a.75.75 0 1 0 0 1.5z"}));const fl=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-align-center"},e),gl)));var El=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("path",{fill:"#48505E",d:"M9 16.75h14a.75.75 0 1 0 0-1.5H9a.75.75 0 1 0 0 1.5zm0-6h14a.75.75 0 1 0 0-1.5H9a.75.75 0 0 0 0 1.5zm0 12h14a.75.75 0 1 0 0-1.5H9a.75.75 0 1 0 0 1.5z"}));const vl=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-align-justified"},e),El)));var bl=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("path",{fill:"#48505E",d:"M9 16.75h8.25a.75.75 0 1 0 0-1.5H9a.75.75 0 1 0 0 1.5zm0-6h14a.75.75 0 1 0 0-1.5H9a.75.75 0 0 0 0 1.5zm0 12h12a.75.75 0 1 0 0-1.5H9a.75.75 0 1 0 0 1.5z"}));const yl=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-align-left"},e),bl)));var Il=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("path",{fill:"#48505E",d:"M24 15.25H8a.75.75 0 1 0 0 1.5h16a.75.75 0 1 0 0-1.5zM12.54 22.5a.5.5 0 0 0 .5.5h2.208l-.002 3.248a.752.752 0 1 0 1.504 0v-3.249l2.21.001a.5.5 0 0 0 .242-.063l.07-.047a.5.5 0 0 0 .078-.702l-2.96-3.7a.5.5 0 0 0-.78 0l-2.96 3.7a.5.5 0 0 0-.11.312zm0-13a.5.5 0 0 1 .5-.5h2.208l-.002-3.248a.752.752 0 1 1 1.504 0v3.249L18.96 9a.5.5 0 0 1 .242.063l.07.047a.5.5 0 0 1 .078.702l-2.96 3.7a.5.5 0 0 1-.78 0l-2.96-3.7a.5.5 0 0 1-.11-.312z"}));const Cl=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-align-middle"},e),Il)));var Sl=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("path",{fill:"#48505E",d:"M23 16.75h-8.25a.75.75 0 1 1 0-1.5H23a.75.75 0 1 1 0 1.5zm0-6H9a.75.75 0 1 1 0-1.5h14a.75.75 0 0 1 0 1.5zm0 12H11a.75.75 0 1 1 0-1.5h12a.75.75 0 1 1 0 1.5z"}));const Tl=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-align-right"},e),Sl)));var wl=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("path",{fill:"#48505E",d:"M24 8H8a.75.75 0 0 0 0 1.5h16A.75.75 0 1 0 24 8zm-11.46 7.5a.5.5 0 0 0 .5.5h2.21v6.947a.752.752 0 0 0 1.497.103l.007-.103L16.75 16l2.21.001a.5.5 0 0 0 .242-.063l.07-.047a.5.5 0 0 0 .078-.702l-2.96-3.7a.5.5 0 0 0-.78 0l-2.96 3.7a.5.5 0 0 0-.11.312z"}));const Ol=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-align-top"},e),wl)));var _l=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#DBDCDE",rx:4}),r.createElement("path",{fill:"#323B4A",d:"M8.75 7.25A.75.75 0 0 1 9.5 8v16A.75.75 0 1 1 8 24V8a.75.75 0 0 1 .75-.75zM23 17a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H13a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h10zm-.5 1.5h-9v3h9v-3zM20 9a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h7zm-.5 1.5h-6v3h6v-3z"}));const Rl=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-alignment"},e),_l)));var Al=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#DBDCDE",rx:4}),r.createElement("path",{fill:"#323B4A",d:"m16 12-8 4 8 4v-3h7a1 1 0 0 0 .993-.883L24 16a1 1 0 0 0-.883-.993L23 15h-7v-3z"}));const Dl=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-arrow-left"},e),Al)));var Nl=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#DBDCDE",rx:4}),r.createElement("path",{fill:"#323B4A",d:"m16 12 8 4-8 4v-3H9a1 1 0 0 1-.993-.883L8 16a1 1 0 0 1 1-1h7v-3z"}));const xl=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-arrow-right"},e),Nl)));var Ml=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#DBDCDE",rx:4}),r.createElement("path",{fill:"#323B4A",d:"M19 17a5 5 0 0 1 4.995 4.783L24 22v1a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-1a5 5 0 0 1 5-5h6zm0 1.5h-6A3.5 3.5 0 0 0 9.5 22v.5h13v-.468l-.003-.185A3.5 3.5 0 0 0 19 18.5zM16 8a4 4 0 1 1 0 8 4 4 0 0 1 0-8zm0 1.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5z"}));const Pl=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-assign"},e),Ml)));var Ll=r.createElement("g",{fill:"none",fillRule:"nonzero"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("path",{fill:"#48505E",d:"M14 13.375c0-.289.299-.47.537-.323l4.286 2.624a.385.385 0 0 1 0 .648l-4.286 2.624c-.238.146-.537-.034-.537-.323v-5.25Z"}),r.createElement("path",{fill:"#48505E",d:"M16 7a.75.75 0 1 1 0 1.5 7.5 7.5 0 1 0 5.32 2.214.75.75 0 0 1 1.064-1.058A9 9 0 1 1 16 7Z"}),r.createElement("path",{fill:"#48505E",d:"m18.5 7.75-3-2.5v5z"}));const kl=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-autoplay"},e),Ll)));var Fl=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#EBEDEE",rx:4}),r.createElement("path",{fill:"#323B4A",d:"M12 22h4.857c2.748 0 4.096-1.4 4.096-3.27 0-1.816-1.289-2.882-2.566-2.947v-.117c1.172-.275 2.097-1.096 2.097-2.555 0-1.787-1.289-3.111-3.89-3.111H12v12zm2.174-1.816v-3.516h2.396c1.342 0 2.174.82 2.174 1.893 0 .955-.656 1.623-2.232 1.623h-2.338zm0-5.08v-3.311h2.197c1.277 0 1.94.674 1.94 1.6 0 1.054-.856 1.71-1.987 1.71h-2.15z"}));const Bl=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-bold"},e),Fl)));var jl=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#1B2536",d:"M4 0h24a4 4 0 0 1 4 4v14H0V4a4 4 0 0 1 4-4zM0 19h32v9a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4v-9z",className:"background decoration"}),r.createElement("path",{fill:"#48505E",d:"M23.25 26a.75.75 0 1 1 0 1.5H6.75a.75.75 0 1 1 0-1.5h16.5zm2-3a.75.75 0 1 1 0 1.5H6.75a.75.75 0 1 1 0-1.5h18.5z"}));const zl=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-caption"},e),jl)));var Ul=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#DBDCDE",rx:4}),r.createElement("path",{fill:"#48505E",d:"M25 9a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V11a2 2 0 0 1 2-2h18zm0 1.5H7a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h18a.5.5 0 0 0 .5-.5V11a.5.5 0 0 0-.5-.5zM13.167 13c.46 0 .833.336.833.75v4.5c0 .414-.373.75-.833.75H9.833c-.46 0-.833-.336-.833-.75v-4.5c0-.414.373-.75.833-.75h3.334zm8.333 3.75a.75.75 0 0 1 .102 1.493l-.102.007h-5.222a.75.75 0 0 1-.102-1.493l.102-.007H21.5zm1.066-3.25a.75.75 0 0 1 .102 1.493l-.102.007h-6.288a.75.75 0 0 1-.102-1.493l.102-.007h6.288z"}));const Hl=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-card-view"},e),Ul)));var Zl=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("path",{fill:"#48505E",d:"M22 8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H10a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2h12Zm0 1.5H10a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h12a.5.5 0 0 0 .5-.5V10a.5.5 0 0 0-.5-.5Zm-5.008 3 2.507 7.273h-1.647l-.54-1.659h-2.625l-.54 1.659H12.5l2.51-7.273h1.982Zm-.962 1.662h-.057l-.895 2.752h1.847l-.895-2.752Z"}));const Gl=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-cell-type"},e),Zl)));var Kl=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#EBEDEE",rx:4}),r.createElement("path",{fill:"#48505E",d:"M22 20.25a.75.75 0 0 1 0 1.5H10a.75.75 0 0 1 0-1.5zm-1-5a.75.75 0 0 1 0 1.5H11a.75.75 0 0 1 0-1.5zm2-5a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1 0-1.5z"}));const Wl=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-center-text"},e),Kl)));var Vl=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#EBEDEE",rx:4}),r.createElement("path",{fill:"#323B4A",d:"M16.772 9.818a.75.75 0 0 1 1.456.364l-3 12a.75.75 0 0 1-1.456-.364zM10.47 12.47a.75.75 0 0 1 1.06 1.06L9.06 16l2.47 2.47a.75.75 0 0 1-1.06 1.06l-3-3a.75.75 0 0 1 0-1.06zm11.06 0 3 3a.75.75 0 0 1 0 1.06l-3 3a.75.75 0 0 1-1.06-1.06L22.94 16l-2.47-2.47a.75.75 0 0 1 1.06-1.06z"}));const $l=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-code"},e),Vl)));var ql=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("path",{fill:"#48505E",d:"M21.657 9.357c3.124 3.143 3.124 8.238 0 11.381l-4.952 4.981a.997.997 0 0 1-1.41 0l-4.952-4.98c-3.124-3.144-3.124-8.238 0-11.382a7.967 7.967 0 0 1 11.314 0zm-10.25 1.058c-2.482 2.497-2.541 6.511-.177 9.08l.177.186L16 24.3l4.593-4.62c2.482-2.497 2.541-6.51.177-9.08l-.177-.185a6.466 6.466 0 0 0-9.186 0zM16 11.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7zm0 1.5a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 13z"}));const Yl=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-collapse"},e),ql)));var Xl=r.createElement("rect",{width:20,height:16,fill:"#BBBEC3",fillRule:"evenodd",className:"fill",rx:2});const Ql=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:20,height:16,className:"Icon toolbar-color-mode-background"},e),Xl)));var Jl=r.createElement("path",{fill:"#BBBEC3",fillRule:"evenodd",d:"M18 0a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h16zm.5 4h-17v10a.5.5 0 0 0 .41.492L2 14.5h16a.5.5 0 0 0 .492-.41L18.5 14V4z",className:"fill"});const ec=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:20,height:16,viewBox:"0 0 20 16",className:"Icon toolbar-color-mode-bar"},e),Jl)));var tc=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("path",{fill:"#48505E",d:"M7 13.5a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v.269l4-2.818V8a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1v-.218l-4 2.816v.738l4 2.817V19a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1v-3.017l-4-2.817v.334a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1v-5zm12.5 6v4h4v-4h-4zm0-11v4h4v-4h-4zM8.5 14v4h4v-4h-4z"}));const nc=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-connect"},e),tc)));var rc=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("path",{fill:"#48505E",d:"M6 20a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-5zm1.5.5v4h4v-4h-4zM19 7a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1V7zm1.5.5v4h4v-4h-4z"}),r.createElement("path",{stroke:"#48505E",strokeLinecap:"round",strokeWidth:1.5,d:"m20 12-2 2m-4 4-2 2"}),r.createElement("path",{stroke:"#48505E",strokeDasharray:"2,2",strokeLinecap:"round",d:"M21 21 11 11"}));const oc=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-disconnect"},e),rc)));var ic=r.createElement("path",{fill:"#5F6672",fillRule:"evenodd",d:"m6.646 4.646.708.708-2.147 2.145L13 7.5v1H5.207l2.147 2.146-.708.708L3.293 8z"});const sc=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",className:"Icon toolbar-dismiss"},e),ic)));var ac=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#DBDCDE",rx:4}),r.createElement("path",{fill:"#323B4A",d:"M8.5 7.25a.75.75 0 0 1 .75.75v16a.75.75 0 1 1-1.5 0V8a.75.75 0 0 1 .75-.75zm15 0a.75.75 0 0 1 .75.75v16a.75.75 0 1 1-1.5 0V8a.75.75 0 0 1 .75-.75zM19 10a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1V11a1 1 0 0 1 1-1h6zm-.5 1.5h-5v9h5v-9z"}));const lc=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-distribute"},e),ac)));var cc=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("g",{fill:"#48505E",fillRule:"nonzero"},r.createElement("path",{d:"M21.778 6.733a2.3 2.3 0 0 1 2.969.02l.13.12 1.062 1.063c.8.8.894 2.052.249 2.959l-.108.14-1.623 1.948a.8.8 0 0 1-1.293-.936l.063-.088 1.624-1.948a.7.7 0 0 0 .026-.862l-.07-.081-1.062-1.063a.702.702 0 0 0-.856-.105l-.087.062-1.948 1.623a.8.8 0 0 1-1.103-1.154l.079-.075 1.948-1.623zM8.391 21.754l-1.226 2.56a.998.998 0 0 0 1.333 1.334l2.561-1.226a.501.501 0 0 0 .138-.805l-2-2a.5.5 0 0 0-.805.137z"}),r.createElement("path",{d:"m18.575 9.117-6.877 6.875a9.503 9.503 0 0 0-1.78 2.47L8.501 21.3a1.501 1.501 0 0 0 .281 1.731l1 1a1.5 1.5 0 0 0 1.732.281l2.839-1.419a9.515 9.515 0 0 0 2.469-1.78l6.873-6.873a2.501 2.501 0 0 0 0-3.536l-1.586-1.586a2.501 2.501 0 0 0-3.536 0zm1.06 1.06a1 1 0 0 1 1.32-.082l.094.083 1.586 1.586a1 1 0 0 1 .083 1.32l-.083.094-6.875 6.875a8.016 8.016 0 0 1-1.754 1.326l-.325.172-2.839 1.42-1-1 1.42-2.84a8.034 8.034 0 0 1 1.244-1.812l.254-.266 6.875-6.875z"})));const dc=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-draw"},e),cc)));var uc=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#DBDCDE",rx:4}),r.createElement("path",{fill:"#323B4A",d:"M20.5 7.25a.75.75 0 0 1 .75.75v1H22a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H10a2 2 0 0 1-2-2V11a2 2 0 0 1 2-2h.75V8a.75.75 0 0 1 .648-.743l.102-.007a.75.75 0 0 1 .75.75v1h7.5V8a.75.75 0 0 1 .648-.743zm2 8.25h-13V22a.5.5 0 0 0 .5.5h12a.5.5 0 0 0 .5-.5v-6.5zm-.5-5H10a.5.5 0 0 0-.5.5v3h13v-3a.5.5 0 0 0-.5-.5z"}));const mc=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-due-date"},e),uc)));var pc=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("path",{fill:"#48505E",d:"M15.373 9.234c1.064 0 1.946.35 1.946 1.204 0 .448-.266.812-.742.952h-.756c.084-.784-.014-1.484-.574-1.484-.574 0-.98.714-1.12 2.45h1.736l-.168.896h-1.666l-.756 3.556c-.98 4.634-2.324 6.09-4.172 6.09-1.008 0-1.68-.406-1.68-1.078 0-.644.49-.98 1.036-1.05h.35c.042.854.224 1.512.658 1.512.434 0 .616-.546.98-2.562l1.204-6.468-1.399-.002.154-.686 1.455-.278c.504-1.918 1.498-3.052 3.514-3.052zm3.958 2.996.812 2.534.686-1.12c.602-.98 1.148-1.414 1.82-1.414.728 0 1.12.49 1.12 1.022 0 .644-.42 1.05-.994 1.246h-.308c0-.504-.126-.812-.448-.812-.35 0-.532.182-.952.826l-.672 1.036.658 2.058c.182.588.294.91.616.91.308 0 .616-.238 1.092-.77l.378.364c-1.036 1.47-1.736 2.03-2.59 2.03-.742 0-1.092-.588-1.386-1.414l-.476-1.33-.84 1.33c-.56.896-1.12 1.414-1.89 1.414-.658 0-1.036-.462-1.036-1.008 0-.672.392-1.078.98-1.288h.308c0 .518.126.84.462.84.35 0 .56-.238.938-.826l.798-1.204-1.064-2.982-.924-.476.14-.434 2.352-.532h.42z"}));const hc=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-formula"},e),pc)));var gc=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#EBEDEE",rx:4}),r.createElement("path",{fill:"#323B4A",d:"M19.005 19.949 19 16.5h-6l-.005 3.449c0 1.008.54 1.196 1.71 1.23V22H9v-.82c1.206-.035 1.71-.223 1.71-1.231v-7.915c0-.991-.504-1.18-1.71-1.213V10h5.704v.82c-1.17.035-1.71.223-1.71 1.214L13 15.5h6l.005-3.466c0-.991-.54-1.18-1.71-1.213V10H23v.82c-1.206.035-1.71.223-1.71 1.214v7.915c0 1.008.504 1.196 1.71 1.23V22h-5.704v-.82c1.17-.035 1.71-.223 1.71-1.231z"}));const fc=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-h-1"},e),gc)));var Ec=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#EBEDEE",rx:4}),r.createElement("path",{fill:"#DCFF7F",d:"M8 8h16a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1z",className:"decoration"}),r.createElement("path",{fill:"#323B4A",d:"m9.606 21.03.921-2.654h3.919l.915 2.655h1.607L13.358 11H11.61L8 21.03h1.606zm1.362-3.927 1.48-4.281h.078l1.479 4.28h-3.037zm9.32 4.094c1.244 0 1.944-.632 2.223-1.195h.059v1.029H24v-4.996c0-2.19-1.724-2.625-2.92-2.625-1.36 0-2.615.548-3.104 1.92l1.376.313c.215-.534.764-1.048 1.749-1.048.89 0 1.371.438 1.425 1.2l.005.181c0 .394-.298.492-.996.579l-.905.102c-1.425.166-2.884.539-2.884 2.248 0 1.48 1.111 2.292 2.541 2.292zm.318-1.175c-.828 0-1.425-.372-1.425-1.097 0-.738.616-1.029 1.395-1.154l.725-.1c.504-.072 1.089-.178 1.235-.323v.97c0 .89-.71 1.704-1.93 1.704z"}));const vc=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-highlight"},e),Ec)));var bc=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#EBEDEE",rx:4}),r.createElement("path",{fill:"#323B4A",d:"M16.934 13.634a.75.75 0 0 1 1.06 0 4.75 4.75 0 0 1 0 6.717l-1.885 1.886A4.75 4.75 0 1 1 9.39 15.52a.75.75 0 1 1 1.06 1.06 3.25 3.25 0 1 0 4.597 4.596l1.886-1.885a3.25 3.25 0 0 0 0-4.596.75.75 0 0 1 0-1.061zM15.52 9.39a4.75 4.75 0 0 1 6.717 6.718.75.75 0 0 1-1.06-1.06 3.25 3.25 0 1 0-4.597-4.597l-1.885 1.886a3.25 3.25 0 0 0 0 4.596.75.75 0 1 1-1.061 1.06 4.75 4.75 0 0 1 0-6.717z"}));const yc=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-hyperlink"},e),bc)));var Ic=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("path",{fill:"#48505E",d:"M19.75 24v1.25a.75.75 0 1 1-1.5 0V24h1.5zm-9-9v5c0 .647.492 1.18 1.122 1.244l.128.006h10.25a.75.75 0 1 1 0 1.5H12a2.75 2.75 0 0 1-2.745-2.582L9.25 20v-5h1.5zM17 12.25a2.75 2.75 0 0 1 2.745 2.582l.005.168v5h-1.5v-5a1.25 1.25 0 0 0-1.122-1.244L17 13.75H6.75a.75.75 0 1 1 0-1.5H17zm3-7.75v1.75h1a4.75 4.75 0 0 1 4.745 4.533l.005.217v2a.75.75 0 0 1-1.493.102L24.25 13v-2a3.25 3.25 0 0 0-3.066-3.245L21 7.75h-1V9.5L17 7l3-2.5zM10 9a.75.75 0 0 1 .75.75V11h-1.5V9.75A.75.75 0 0 1 10 9z"}));const Cc=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-image-edit"},e),Ic)));var Sc=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#DBDCDE",rx:4}),r.createElement("path",{fill:"#323B4A",d:"M23 8c1.105 0 2 1.018 2 2v12c0 .982-.895 2-2 2H9c-1.105 0-2-1.018-2-2V10c0-.982.895-2 2-2h14zm-9 8-5 6h14l-3.5-4-1.963 2.244L14 16zm6-5a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"}));const Tc=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-image-preview"},e),Sc)));var wc=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("path",{fill:"#48505E",d:"M22 7a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H10a3 3 0 0 1-3-3V10a3 3 0 0 1 3-3h12zm-8 11.06-4.97 4.97a.758.758 0 0 1-.063.057A1.49 1.49 0 0 0 10 23.5h12c.401 0 .765-.157 1.034-.414l-.064-.056L19 19.06l-1.47 1.47a.75.75 0 0 1-1.06 0L14 18.06zm8-9.56H10A1.5 1.5 0 0 0 8.5 10v11.438l4.97-4.968a.75.75 0 0 1 .976-.073l.084.073L17 18.94l1.47-1.47a.75.75 0 0 1 1.06 0l3.97 3.969V10A1.5 1.5 0 0 0 22 8.5zM19 10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"}));const Oc=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-image"},e),wc)));var _c=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#EBEDEE",rx:4}),r.createElement("path",{fill:"#48505E",d:"M16.75 20.25a.75.75 0 0 1 .102 1.493l-.102.007h-8a.75.75 0 0 1-.102-1.493l.102-.007h8zm4.47-7.28a.749.749 0 0 1 1.06 0l2.5 2.5a.749.749 0 0 1 0 1.06l-2.5 2.5a.749.749 0 1 1-1.06-1.06L23.19 16l-1.97-1.97a.749.749 0 0 1 0-1.06zm-4.47 2.28a.75.75 0 0 1 .102 1.493l-.102.007h-8a.75.75 0 0 1-.102-1.493l.102-.007h8zm0-5a.75.75 0 0 1 .102 1.493l-.102.007h-8a.75.75 0 0 1-.102-1.493l.102-.007h8z"}));const Rc=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-indent"},e),_c)));var Ac=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#EBEDEE",rx:4}),r.createElement("path",{fill:"#323B4A",d:"M14.954 10H20l-.281 1.81h-1.583l-2.074 8.38h1.582L17.046 22H12l.193-1.81h1.583l2.075-8.38h-1.583z"}));const Dc=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-italic"},e),Ac)));var Nc=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("path",{fill:"#323B4A",d:"M22 12a2 2 0 0 1 2 2v1.25h2.182c.452 0 .818.336.818.75 0 .38-.308.693-.707.743l-.111.007H24V18a2 2 0 0 1-2 2H10a2 2 0 0 1-2-2v-1.25H5.818C5.366 16.75 5 16.414 5 16c0-.38.308-.693.707-.743l.111-.007H8V14a2 2 0 0 1 2-2h12zm-2 3h-8a1 1 0 0 0-.117 1.993L12 17h8a1 1 0 0 0 0-2z"}));const xc=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-line-label"},e),Nc)));var Mc=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("path",{stroke:"#48505E",strokeDasharray:"3 4",strokeLinecap:"round",strokeWidth:2,d:"M7.5 24.5 25 7"}));const Pc=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-line-style-dash"},e),Mc)));var Lc=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("path",{stroke:"#48505E",strokeDasharray:"0 4",strokeLinecap:"round",strokeWidth:2,d:"M7.5 24.5 25 7"}));const kc=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-line-style-dot"},e),Lc)));var Fc=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("path",{fill:"#48505E",d:"M23.793 6.793a1 1 0 0 1 1.497 1.32l-.083.094-17 17a1 1 0 0 1-1.497-1.32l.083-.094 17-17z"}));const Bc=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-line-style-solid"},e),Fc)));var jc=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("path",{stroke:"#48505E",strokeLinecap:"round",d:"M7 25 25 7"}));const zc=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-line-weight-1-px"},e),jc)));var Uc=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("path",{stroke:"#48505E",strokeLinecap:"round",strokeWidth:2,d:"m7.5 24.5 17-17"}));const Hc=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-line-weight-2-px"},e),Uc)));var Zc=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("path",{stroke:"#48505E",strokeLinecap:"round",strokeWidth:4,d:"M8 24 24 8"}));const Gc=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-line-weight-4-px"},e),Zc)));var Kc=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("path",{fill:"#48505E",d:"M23 21a1.5 1.5 0 0 1 .144 2.993L23 24H9a1.5 1.5 0 0 1-.144-2.993L9 21h14zm.5-7a1 1 0 0 1 .117 1.993L23.5 16h-15a1 1 0 0 1-.117-1.993L8.5 14h15zm.5-6a.5.5 0 0 1 .09.992L24 9H8a.5.5 0 0 1-.09-.992L8 8h16z"}));const Wc=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-line-weight"},e),Kc)));var Vc=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#EBEDEE",rx:4}),r.createElement("path",{fill:"#323B4A",d:"M10 19.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm13 .75a.75.75 0 1 1 0 1.5h-8a.75.75 0 1 1 0-1.5zM10 14.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm13 .75a.75.75 0 1 1 0 1.5h-8a.75.75 0 1 1 0-1.5zM10 9.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm13 .75a.75.75 0 1 1 0 1.5h-8a.75.75 0 1 1 0-1.5z"}));const $c=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-list"},e),Vc)));var qc=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("path",{fill:"#48505E",d:"M11 12a5 5 0 0 1 10 0v2h1a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H10a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h1v-2zm11 3.5H10a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .5.5h12a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.5-.5zM19.5 14v-2a3.5 3.5 0 0 0-7 0v2h7z"}));const Yc=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-lock"},e),qc)));var Xc=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("path",{fill:"#48505E",d:"M23 6a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h14zm0 1.5H9a.5.5 0 0 0-.492.41L8.5 8v16a.5.5 0 0 0 .41.492L9 24.5h14a.5.5 0 0 0 .492-.41L23.5 24V8a.5.5 0 0 0-.41-.492L23 7.5zM20.21 19c.437 0 .79.336.79.75s-.353.75-.79.75h-8.42c-.437 0-.79-.336-.79-.75s.353-.75.79-.75zm0-3c.437 0 .79.336.79.75s-.353.75-.79.75h-8.42c-.437 0-.79-.336-.79-.75s.353-.75.79-.75zm0-3c.437 0 .79.336.79.75s-.353.75-.79.75h-8.42c-.437 0-.79-.336-.79-.75s.353-.75.79-.75zm0-3c.437 0 .79.336.79.75s-.353.75-.79.75h-8.42c-.437 0-.79-.336-.79-.75s.353-.75.79-.75z"}));const Qc=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-longform"},e),Xc)));var Jc=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#EBEDEE",rx:4}),r.createElement("path",{fill:"#48505E",d:"M23.75 14.5a.75.75 0 0 1 .743.648l.007.102v2a5.75 5.75 0 0 1-5.53 5.746l-.22.004H10.5v1.75l-3-2.5 3-2.5v1.75h8.25a4.25 4.25 0 0 0 4.245-4.044L23 17.25v-2a.75.75 0 0 1 .75-.75zM21.5 7.25l3 2.5-3 2.5V10.5h-7.75a4.25 4.25 0 0 0-4.245 4.044l-.005.206v2a.75.75 0 0 1-1.493.102L8 16.75v-2a5.75 5.75 0 0 1 5.53-5.746L13.75 9h7.75V7.25z"}));const ed=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-loop"},e),Jc)));var td=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#DBDCDE",rx:4}),r.createElement("path",{fill:"#323B4A",d:"M23 8c1.105 0 2 1.018 2 2v12c0 .982-.895 2-2 2H9c-1.105 0-2-1.018-2-2V10c0-.982.895-2 2-2h14zm-9.248 4.068A.5.5 0 0 0 13 12.5v7a.5.5 0 0 0 .752.432l6-3.5a.5.5 0 0 0 0-.864z"}));const nd=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-media-preview"},e),td)));var rd=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:16,fill:"#E3E4E6",rx:4}),r.createElement("path",{fill:"#323B4A",d:"M9 6a2 2 0 1 1 0 4 2 2 0 0 1 0-4zm7 0a2 2 0 1 1 0 4 2 2 0 0 1 0-4zm7 0a2 2 0 1 1 0 4 2 2 0 0 1 0-4z"}));const od=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:16,viewBox:"0 0 32 16",className:"Icon toolbar-more"},e),rd)));var id=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#EBEDEE",rx:4}),r.createElement("path",{fill:"#323B4A",d:"M9.46 17.84c1.09 0 1.811.623 1.811 1.506 0 .58-.28 1.056-1.327 2.01l-.743.73v.034h2.137V23H7.71v-.776l1.812-1.677c.463-.445.711-.724.711-1.129 0-.447-.333-.726-.78-.726-.465 0-.773.298-.77.786H7.66c-.003-1 .73-1.639 1.8-1.639zM23 20.25a.75.75 0 1 1 0 1.5h-8a.75.75 0 1 1 0-1.5zm0-5a.75.75 0 1 1 0 1.5h-8a.75.75 0 1 1 0-1.5zM10.416 8.91V14H9.34V9.93h-.03l-1.166.732v-.955l1.26-.798h1.012zM23 10.25a.75.75 0 1 1 0 1.5h-8a.75.75 0 1 1 0-1.5z"}));const sd=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-numlist"},e),id)));var ad=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#EBEDEE",rx:4}),r.createElement("path",{fill:"#323B4A",d:"M11.939 16.128c0-1.536 1.036-2.496 3.476-2.848V12C11.538 12.256 10 14.432 10 17.056 10 18.72 10.836 20 12.507 20c1.237 0 2.206-.8 2.206-2.016 0-1.056-.568-1.664-1.504-1.856h-1.27zm6.585 0h1.27c.936.192 1.504.8 1.504 1.856 0 1.216-.97 2.016-2.206 2.016-1.671 0-2.507-1.28-2.507-2.944 0-2.624 1.538-4.8 5.415-5.056v1.28c-2.44.352-3.476 1.312-3.476 2.848z"}));const ld=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-quote"},e),ad)));var cd=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("path",{fill:"#48505E",d:"M16 7a9.116 9.116 0 0 1 2.186.268.75.75 0 1 1-.364 1.455A7.578 7.578 0 0 0 16 8.5a7.5 7.5 0 1 0 7.487 7.055.75.75 0 0 1 1.497-.087A9 9 0 1 1 16 7zm4 10.25a.75.75 0 0 1 .643 1.136C19.513 20.269 17.943 21 16 21c-1.943 0-3.513-.731-4.643-2.614A.75.75 0 0 1 12 17.25h8zM13 13a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm6 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm4-6.25a.75.75 0 0 1 .743.648l.007.102v1.75h1.75a.75.75 0 0 1 .743.648l.007.102a.75.75 0 0 1-.648.743l-.102.007h-1.75v1.75a.75.75 0 0 1-.648.743L23 13.25a.75.75 0 0 1-.743-.648l-.007-.102v-1.75H20.5a.75.75 0 0 1-.743-.648L19.75 10a.75.75 0 0 1 .648-.743l.102-.007h1.75V7.5a.75.75 0 0 1 .55-.723l.098-.02L23 6.75z"}));const dd=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-reaction"},e),cd)));var ud=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#EBEDEE",rx:4}),r.createElement("path",{fill:"#1B2536",d:"M16.442 10c2.366 0 4.015 1.354 4.066 3.219h-1.695c-.125-1.075-1.075-1.7-2.411-1.7-1.433 0-2.338.733-2.338 1.723-.005 1.114 1.206 1.54 2.116 1.774l1.138.296c.58.143 1.223.355 1.788.688H24.5a.5.5 0 1 1 0 1h-4.292c.285.425.46.946.46 1.588 0 1.973-1.576 3.412-4.312 3.412-2.61 0-4.242-1.302-4.356-3.412h1.763c.102 1.268 1.228 1.87 2.582 1.87 1.496 0 2.582-.75 2.582-1.887 0-.836-.626-1.264-1.522-1.571H8.5a.5.5 0 1 1 0-1l5.677.001c-1.174-.556-1.864-1.407-1.864-2.657 0-2.008 1.791-3.344 4.129-3.344z"}));const md=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-strikethrough"},e),ud)));var pd=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#DCDDDF",d:"M1 0h20a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1z",className:"background"}),r.createElement("path",{fill:"#323B4A",d:"m4.606 14.03.921-2.654h3.919l.915 2.655h1.607L8.358 4H6.61L3 14.03h1.606zm1.362-3.927 1.48-4.281h.078l1.479 4.28H5.968zm9.074 4.094c1.244 0 1.944-.632 2.224-1.195h.058v1.029h1.43V9.035c0-2.19-1.724-2.625-2.919-2.625-1.361 0-2.615.548-3.105 1.92l1.376.313c.216-.534.765-1.048 1.749-1.048.89 0 1.372.438 1.425 1.2l.005.181c0 .394-.298.492-.995.579l-.905.102c-1.425.166-2.885.539-2.885 2.248 0 1.48 1.112 2.292 2.542 2.292zm.313-1.175c-.827 0-1.425-.372-1.425-1.097 0-.738.616-1.029 1.395-1.154l.726-.1c.503-.072 1.088-.178 1.234-.323v.97c0 .89-.71 1.704-1.93 1.704z",className:"text"}));const hd=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:22,height:18,viewBox:"0 0 22 18",className:"Icon toolbar-text-color"},e),pd)));var gd=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#1B2536",d:"M4 32h24a4 4 0 0 0 4-4V12H0v16a4 4 0 0 0 4 4zM0 11h32V4a4 4 0 0 0-4-4H4a4 4 0 0 0-4 4v7z",className:"background decoration"}),r.createElement("rect",{width:20,height:1.5,x:6,y:5,fill:"#48505E",className:"path",rx:.75}));const fd=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-title"},e),gd)));var Ed=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#DBDCDE",rx:4}),r.createElement("path",{fill:"#323B4A",d:"M16 7a9 9 0 1 1 0 18 9 9 0 0 1 0-18zm0 1.5v15a7.5 7.5 0 0 0 0-15z"}));const vd=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-transparent"},e),Ed)));var bd=r.createElement("defs",null,r.createElement("path",{id:"ToolbarTrashEmptyIcon__a",d:"M0 0h26l-1.778 24.007C24.099 25.66 22.657 27 20.999 27H5c-1.657 0-3.1-1.339-3.223-2.993L0 0z"})),yd=r.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(2 5)"},r.createElement("g",{transform:"translate(1)"},r.createElement("mask",{id:"ToolbarTrashEmptyIcon__b",fill:"#fff"},r.createElement("use",{xlinkHref:"#ToolbarTrashEmptyIcon__a"})),r.createElement("use",{xlinkHref:"#ToolbarTrashEmptyIcon__a",fill:"#BBBEC3"}),r.createElement("path",{fill:"#A3A7AE",d:"M-1 4h28v4z",mask:"url(#ToolbarTrashEmptyIcon__b)",transform:"matrix(-1 0 0 1 26 0)"})),r.createElement("rect",{width:28,height:4,fill:"#BBBEC3",rx:1}));const Id=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-trash-empty"},e),bd,yd)));var Cd=r.createElement("defs",null,r.createElement("path",{id:"ToolbarTrashIcon__a",d:"M0 0h26l-1.778 24.007C24.099 25.66 22.657 27 20.999 27H5c-1.657 0-3.1-1.339-3.223-2.993L0 0z"})),Sd=r.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(2)"},r.createElement("path",{fill:"#FEFEFE",d:"M18 1.515 26 7H10z"}),r.createElement("path",{fill:"#FFF",d:"m11 0 9 5L2 7z"}),r.createElement("g",{transform:"translate(1 5)"},r.createElement("mask",{id:"ToolbarTrashIcon__b",fill:"#fff"},r.createElement("use",{xlinkHref:"#ToolbarTrashIcon__a"})),r.createElement("use",{xlinkHref:"#ToolbarTrashIcon__a",fill:"#BBBEC3"}),r.createElement("path",{fill:"#A3A7AE",d:"M-1 4h28v4z",mask:"url(#ToolbarTrashIcon__b)",transform:"matrix(-1 0 0 1 26 0)"})),r.createElement("rect",{width:28,height:4,y:5,fill:"#BBBEC3",rx:1}));const Td=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-trash"},e),Cd,Sd)));var wd=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#EBEDEE",rx:4}),r.createElement("path",{fill:"#48505E",d:"M15.25 20.25a.75.75 0 0 0-.102 1.493l.102.007h8a.75.75 0 0 0 .102-1.493l-.102-.007h-8zm-4.47-7.28a.749.749 0 0 0-1.06 0l-2.5 2.5a.749.749 0 0 0 0 1.06l2.5 2.5a.749.749 0 1 0 1.06-1.06L8.81 16l1.97-1.97a.749.749 0 0 0 0-1.06zm4.47 2.28a.75.75 0 0 0-.102 1.493l.102.007h8a.75.75 0 0 0 .102-1.493l-.102-.007h-8zm0-5a.75.75 0 0 0-.102 1.493l.102.007h8a.75.75 0 0 0 .102-1.493l-.102-.007h-8z"}));const Od=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-unindent"},e),wd)));var _d=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("rect",{width:32,height:32,fill:"#1B2536",rx:4}),r.createElement("path",{fill:"#323B4A",d:"M18.586 6a1 1 0 0 1 .707.293l4.414 4.414a1 1 0 0 1 .293.707V24a2 2 0 0 1-2 2H10a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h8.586zM17 7.5h-7a.5.5 0 0 0-.5.5v16a.5.5 0 0 0 .5.5h12a.5.5 0 0 0 .5-.5V13h-4.75a.75.75 0 0 1-.743-.648L17 12.25V7.5zm5.379 4L18.5 7.622V11.5h3.879z"}));const Rd=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",className:"Icon toolbar-upload"},e),_d)));var Ad=r.createElement("path",{fill:"#929292",fillRule:"evenodd",d:"M4 4a4 4 0 1 1 8 0 4 4 0 0 1-8 0Zm12 12.248V15.17c0-.539-.202-1.4-.8-2.267-.997-1.445-3.096-2.903-7.196-2.904C3.896 10 1.798 11.46.8 12.905c-.598.866-.8 1.727-.8 2.266v1.077A12.944 12.944 0 0 0 8 19c3.017 0 5.794-1.028 8-2.752Z"});const Dd=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:19,viewBox:"0 0 16 19",className:"Icon user-guest"},e),Ad)));var Nd=r.createElement("path",{fill:"#666D7A",fillRule:"nonzero",d:"M21 3v6h-1V4.706L4.706 20H9v1H3v-6h1v4.292L19.292 4H15V3h6Z"});const xd=(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",className:"Icon util-zoom-to-actual"},e),Nd)));var Md=r.createElement("path",{fill:"#666D7A",fillRule:"nonzero",d:"M11 13v6h-1v-4.293l-6.146 6.147-.708-.708L9.293 14 5 14v-1h6Zm9.146-9.854.708.708-6.147 6.145L19 10v1h-6V5h1v4.293l6.146-6.147Z"});const Pd={"ai-advance":a,"ai-auto":c,"ai-back":u,"ai-history":p,"ai-refresh":g,"ai-submit":E,"align-bottom":b,"align-center-horiz":I,"align-center-vert":S,"align-left":w,"align-right":_,"align-top":A,"block-style-tick":N,"board-access-denied":M,"board-link":L,"board-password-protected":F,"board-published":j,"board-shared-users":U,"board-shortcut":Z,"board-status-comment-only":K,"board-status-read-only":V,"board-template":q,"button-toggle-down":X,"button-toggle-top":J,"cell-type-auto":te,"cell-type-checkbox":re,"cell-type-currency":ie,"cell-type-datetime":ae,"cell-type-number":ce,"cell-type-percentage":ue,"cell-type-progress":pe,"cell-type-rating":ge,"cell-type-text":Ee,"checkbox-animated":ye,"checkbox-checked":Ce,"checkbox-tick":Te,"checkbox-unchecked":Oe,"chevron-left-large":Re,"chevron-left":De,"chevron-right-large":xe,"chevron-right-orange":Pe,"chevron-right":ke,clock:Be,"clone-outlined":ze,clone:He,"close-x-small":Ge,"close-x":We,"color-wheel":$e,"column-collapse":Ye,"column-expand":Qe,"comment-pin":tt,"content-empty":rt,"cross-large":it,"cross-small":at,"cursor-remote-eraser":dt,"cursor-remote-pen":pt,"cursor-remote-select":ft,"distribute-horizontally":vt,"distribute-vertically":yt,drag:St,"drawing-editor-redo":wt,"drawing-editor-stroke-1":_t,"drawing-editor-stroke-2":At,"drawing-editor-stroke-3":Nt,"drawing-editor-stroke-4":Mt,"drawing-editor-tool-draw":Lt,"drawing-editor-tool-erase":Ft,"drawing-editor-tool-select":jt,"drawing-editor-undo":Ut,"drawing-empty-placeholder":Zt,"drawing-input-apple-pencil":Kt,"drawing-input-touch":Vt,"dropdown-arrow":qt,"element-audio":Qt,"element-board":en,"element-card-mobile":rn,"element-card":an,"element-clone":cn,"element-color-swatch":mn,"element-column":gn,"element-comment-thread":vn,"element-document":In,"element-file":Sn,"element-header":wn,"element-image-mobile":Rn,"element-image":Nn,"element-line":Mn,"element-link-mobile":kn,"element-link":jn,"element-map":Hn,"element-mini-board-selected":Gn,"element-mini-board":Wn,"element-mini-card-selected":$n,"element-mini-card":Yn,"element-mini-color-swatch-selected":Qn,"element-mini-color-swatch":er,"element-mini-column-selected":nr,"element-mini-column":or,"element-mini-comment-thread-selected":sr,"element-mini-comment-thread":lr,"element-mini-document-selected":dr,"element-mini-document":mr,"element-mini-file-selected":hr,"element-mini-file":fr,"element-mini-image-selected":br,"element-mini-image":Cr,"element-mini-link-selected":Tr,"element-mini-link":Or,"element-mini-sketch-selected":Rr,"element-mini-sketch":Dr,"element-mini-table-selected":xr,"element-mini-table":Pr,"element-mini-task-list-selected":kr,"element-mini-task-list":Br,"element-resize-handle":zr,"element-sketch":Zr,"element-table":Wr,"element-task-list":qr,"element-video":Qr,embed:eo,"error-alert-round":no,"error-alert":oo,"export-pdf":ao,"export-text":co,"export-word":mo,"external-link":ho,"feature-tick":fo,"file-aftereffects":vo,"file-form-upload":yo,"gesture-copy":Co,"gesture-cut":To,"gesture-drag-card":_o,"gesture-edit-image":Ao,"gesture-multi-select":xo,"gesture-new-note":Po,"gesture-paste":ko,"gesture-redo":Bo,"gesture-undo":zo,graph:Ho,"green-tick":Go,"header-editable-link":Wo,"header-published-link":$o,"help-center":Xo,"icon-arrow":ei,"image-form-upload":ni,"image-hover-replace":oi,"image-missing":si,"image-popup-upload":li,"inbox-empty":ci,"link-audio-icon":ui,"link-fail":hi,"link-icon":fi,"link-map-icon":bi,"link-video-icon":Ii,lock:Si,"media-player-fullscreen":wi,"media-player-pause":_i,"media-player-play":Ai,"media-player-volume-loud":Ni,"media-player-volume-mute":Mi,"media-player-volume-quiet":Li,"menu-down-arrow":Fi,"menu-ellipsis":ji,"milanote-logo-large":Ui,"milanote-logo-medium":Zi,"milanote-logo-small":Ki,minus:Vi,"modal-toolbar-crop":qi,"modal-toolbar-download":Xi,"modal-toolbar-draw":Ji,"modal-toolbar-open-new-tab":ts,"modal-toolbar-rotate":rs,"more-ellipsis":is,"nav-create":as,"nav-help":cs,"nav-notifications":us,"nav-quick-notes":ps,"nav-redo":gs,"nav-search":Es,"nav-settings":bs,"nav-undo":Is,"notification-annotation":Ss,"notification-board":ws,"notification-card":_s,"notification-color_swatch":As,"notification-comment":Ns,"notification-document":Ms,"notification-file":Ls,"notification-image":Fs,"notification-link":js,"notification-live":Us,"notification-mention":Zs,"notification-new-template":Ks,"notification-reaction":Vs,"notification-reminder-clock":qs,"notification-share":Xs,"notification-sketch":Js,"notification-table":ta,"notification-task-checked":ra,"notification-task-update":ia,"notification-task":aa,"notification-template":ca,"notification-unshare-board":ua,"notification-unshare":pa,"notification-viewed":ga,"old-notification-template":Ea,"payment-person":ba,"play-arrow":Ia,plus:Sa,pointer:Oa,present:Ra,"preview-image":Da,"quick-line-arrow":xa,"quick-line-circle":Pa,"reaction-add":ka,"reminder-bell-mini":Ba,"reminder-bell":za,"save-workspace-arrow":Ha,"search-clear":Ga,"search-current-board":Va,"search-magnifying-glass":qa,share:Xa,"task-drag":Ja,"task-trash":tl,"text-clipper":ol,"tick-green":sl,tick:ll,"toolbar-add-column":dl,"toolbar-add-row":ml,"toolbar-align-bottom":hl,"toolbar-align-center":fl,"toolbar-align-justified":vl,"toolbar-align-left":yl,"toolbar-align-middle":Cl,"toolbar-align-right":Tl,"toolbar-align-top":Ol,"toolbar-alignment":Rl,"toolbar-arrow-left":Dl,"toolbar-arrow-right":xl,"toolbar-assign":Pl,"toolbar-autoplay":kl,"toolbar-bold":Bl,"toolbar-caption":zl,"toolbar-card-view":Hl,"toolbar-cell-type":Gl,"toolbar-center-text":Wl,"toolbar-code":$l,"toolbar-collapse":Yl,"toolbar-color-mode-background":Ql,"toolbar-color-mode-bar":ec,"toolbar-connect":nc,"toolbar-disconnect":oc,"toolbar-dismiss":sc,"toolbar-distribute":lc,"toolbar-draw":dc,"toolbar-due-date":mc,"toolbar-formula":hc,"toolbar-h1":fc,"toolbar-highlight":vc,"toolbar-hyperlink":yc,"toolbar-image-edit":Cc,"toolbar-image-preview":Tc,"toolbar-image":Oc,"toolbar-indent":Rc,"toolbar-italic":Dc,"toolbar-line-label":xc,"toolbar-line-style-dash":Pc,"toolbar-line-style-dot":kc,"toolbar-line-style-solid":Bc,"toolbar-line-weight-1-px":zc,"toolbar-line-weight-2-px":Hc,"toolbar-line-weight-4-px":Gc,"toolbar-line-weight":Wc,"toolbar-list":$c,"toolbar-lock":Yc,"toolbar-longform":Qc,"toolbar-loop":ed,"toolbar-media-preview":nd,"toolbar-more":od,"toolbar-numlist":sd,"toolbar-quote":ld,"toolbar-reaction":dd,"toolbar-strikethrough":md,"toolbar-text-color":hd,"toolbar-title":fd,"toolbar-transparent":vd,"toolbar-trash-empty":Id,"toolbar-trash":Td,"toolbar-unindent":Od,"toolbar-upload":Rd,"user-guest":Dd,"util-zoom-to-actual":xd,"util-zoom-to-fit":(0,r.memo)((e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",className:"Icon util-zoom-to-fit"},e),Md)))},Ld=({name:e,iconSize:t,children:n})=>{const o=Pd[e];return o?r.createElement(o,null):n||null};Ld.propTypes={name:i().string,iconSize:i().string,children:i().element};const kd=Ld},14505:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(21711),o=n.n(r),i=n(67294),s=n(45697),a=n.n(s),l=n(94184),c=n.n(l),d=n(23615);const u=({className:e,source:t,children:n,style:r})=>{let s=null;t&&(s=o()(t)?t.map(d.qx).join(","):(0,d.qx)(t));const a=Object.assign({},r,{backgroundImage:s});return i.createElement("div",{className:c()("BackgroundImage",e),style:a},n)};u.propTypes={source:a().string,className:a().string,children:a().oneOfType([a().arrayOf(a().node),a().node]),style:a().object};const m=u},58339:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(22222),l=n(43831),c=n(75763),d=n(95803),u=n(13612),m=n(81905);const p=(0,a.zB)({attachment:u.FG}),h=({element:e,imageData:t,cropToGrid:n,cropInset:o,gridSize:i,children:s,widthPx:a,imageQualityWidthPxOverride:d,savedWidthPx:u,imageType:p,forcedSize:h,attachment:g,thumbnailUrl:f,dispatchCleanElementAttachment:E,useSecureMediaUrl:v,showBrokenIconOnError:b})=>{const y=(0,r.useCallback)((t=>{const n=(0,c.nRF)(e);g&&(0,l.vg)("fetched",g)&&E(n)}),[e]),I=(0,c.nRF)(e),C=t||(0,c.ywY)(e),S=(0,c.omV)(e);return r.createElement(m.Z,{elementId:I,imageType:p,imageDetails:C,mediaDetails:S,attachmentDetails:g,onImageLoadCb:y,widthPx:a,imageQualityWidthPxOverride:d,savedWidthPx:u,forcedSize:h,cropInset:o,cropToGrid:n,gridSize:i,thumbnailUrl:f,useSecureMediaUrl:v,showBrokenIconOnError:b},s)};h.propTypes={element:i().object.isRequired,imageData:i().object,cropToGrid:i().bool,cropInset:i().number,gridSize:i().number,attachment:i().object,children:i().oneOfType([i().arrayOf(i().node),i().node]),thumbnailUrl:i().string,imageType:i().string.isRequired,widthPx:i().number.isRequired,imageQualityWidthPxOverride:i().number,savedWidthPx:i().number,forcedSize:i().object,dispatchCleanElementAttachment:i().func,useSecureMediaUrl:i().bool,showBrokenIconOnError:i().bool};const g=(0,s.$j)(p,(e=>({dispatchCleanElementAttachment:t=>e((0,d.X6)({id:t}))})))(h)},81905:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s),l=n(43831),c=n(54114),d=n(13612),u=n(49364);const m=e=>{const{forcedSize:t,mediaDetails:n,attachmentDetails:o,widthPx:i,cropToGrid:s,cropInset:u,gridSize:m}=e,p=(0,d.nE)(o);if(!p)return null;const h=s||!!t||!!n,g=t||n&&{width:(0,l.vg)("width",n),height:(0,l.vg)("height",n)}||s&&{width:(0,l.P2)(["data","width"],o),height:(0,l.P2)(["data","height"],o)}||{width:i},f=h?(0,c.ZP)({forcedSize:g,roundSaved:!1,cropToGrid:s,cropInset:u,gridSize:m,widthPx:i}):null;return r.createElement("div",{className:a()("AttachmentImage",{"force-aspect-ratio":h}),style:f},r.createElement("img",Object.assign({draggable:!1,src:p},g,{alt:""})))};m.propTypes={widthPx:i().number,forcedSize:i().object,mediaDetails:i().object,attachmentDetails:i().object,cropToGrid:i().bool,cropInset:i().number,gridSize:i().number};const p=e=>{const{elementId:t,imageType:n,imageDetails:o,mediaDetails:i,attachmentDetails:s,alt:a,widthPx:l,imageQualityWidthPxOverride:c,savedWidthPx:p,onImageLoadCb:h,children:g,forcedSize:f,thumbnailUrl:E,cropToGrid:v,cropInset:b,gridSize:y,useSecureMediaUrl:I,showBrokenIconOnError:C}=e;if(!o&&!(0,d.nE)(s))return null;const S=(0,d.nE)(s);let T=null;if(o){const e={display:!S?"block":"none"};T=r.createElement(u.Z,{elementId:t,imageType:n,imageDetails:o,mediaDetails:i,style:e,alt:a,widthPx:l,imageQualityWidthPxOverride:c,savedWidthPx:p,cropToGrid:v,cropInset:b,gridSize:y,onImageLoadCb:h,forcedSize:f,thumbnailUrl:E,useSecureMediaUrl:I,showBrokenIconOnError:C})}return r.createElement("div",{className:"OptimisticImage"},r.createElement(m,e),T,g)};p.propTypes={imageType:i().string.isRequired,elementId:i().string,imageDetails:i().object,mediaDetails:i().object,attachmentDetails:i().object,onImageLoadCb:i().func,alt:i().string,children:i().oneOfType([i().arrayOf(i().node),i().node]),thumbnailUrl:i().string,widthPx:i().number.isRequired,imageQualityWidthPxOverride:i().number,savedWidthPx:i().number,forcedSize:i().object,cropToGrid:i().bool,cropInset:i().number,gridSize:i().number,useSecureMediaUrl:i().bool,showBrokenIconOnError:i().bool};const h=p},49364:(e,t,n)=>{"use strict";n.d(t,{Z:()=>F,x:()=>L});var r=n(67294),o=n(45697),i=n.n(o),s=n(43831),a=n(54114),l=n(76073),c=n(93618),d=n(37974),u=n(22222),m=n(41962),p=n(10048),h=n(51354),g=n(40201),f=n(62287);const E=(0,u.zB)({isBoardPreview:g._,renderSecureImagesThroughProxy:(0,h.D)(f.Iu.renderSecureImagesThroughProxy),renderSecureImagesThroughCF:(0,h.D)(f.Iu.renderSecureImagesThroughCF,!0)}),v=({imageType:e,imageDetails:t,widthPx:n,imageQualityWidthPxOverride:r,heightPx:o,children:i,elementId:s,isBoardPreview:a,useSecureMediaUrl:l=!1,renderSecureImagesThroughProxy:c,renderSecureImagesThroughCF:d})=>{if(!t)return null;const u=r||n,h=(0,m.aK)({widthPx:u,heightPx:o,imageDetails:t,imageType:e}),g=(0,m.MC)({imageSize:h,imageDetails:t,elementId:s,useSecureMediaUrl:l&&!a,renderSecureImagesThroughProxy:c,renderSecureImagesThroughCF:d});return g?i(g):(p.Z.warn(`Expected a source '${g}' but unable to find it`,g),null)};v.propTypes={imageType:i().string.isRequired,imageDetails:i().object.isRequired,children:i().func.isRequired,widthPx:i().number.isRequired,imageQualityWidthPxOverride:i().number,heightPx:i().number,elementId:i().string,isBoardPreview:i().bool,useSecureMediaUrl:i().bool,renderSecureImagesThroughProxy:i().bool,renderSecureImagesThroughCF:i().bool};const b=(0,d.$j)(E)(v);var y=n(63422),I=n.n(y),C=n(94184),S=n.n(C),T=n(98066),w=n.n(T),O=n(50021);var _=n(14505),R=n(87701),A=r.createElement(R.Z,{name:"image-missing"});const D=({src:e,style:t={},width:n,height:o,paddingBottom:i,showBrokenIconOnError:s})=>{const a=n<60||o<60;return r.createElement("div",{className:"MissingImage","data-missing-image-src":e,style:Object.assign({},t,{width:n,height:o,paddingBottom:i})},s&&r.createElement("div",{className:S()("missing-image-icon-container",{small:a})},A))};D.propTypes={src:i().string,style:i().object,width:i().number,height:i().number,paddingBottom:i().string,showBrokenIconOnError:i().bool};const N=D,x=e=>{const{thumbnail:t,style:n,alt:o,forcedSize:i,transparent:s,paddingBottom:a,source:l,onImageLoadCb:c,showBrokenIconOnError:d=!1}=e,{hideImage:u,visibleSource:m,isError:p}=(({source:e,onImageLoadCb:t})=>{const n=(0,r.useRef)(),o=(0,r.useRef)(e),[i,s]=(0,r.useState)(e),[a,l]=(0,r.useState)((0,O.Te)(e)),[c,d]=(0,r.useState)((0,O.ez)(e)),u=(0,r.useCallback)(((e,t)=>{w()((()=>t&&t(e,n.current)),300)}),[]),m=(0,r.useCallback)(((e,t)=>{d(!1),(0,O.Te)(e)||u(e,t),s(e),l(!0)}),[]),p=(0,r.useCallback)(((e,t)=>{var r,i;const s=()=>{o.current===e&&m(e,t),(0,O.TL)({source:e})},a=()=>{d(!0),u(e,t),(0,O.bk)({source:e})};null!=n&&null!==(r=n.current)&&void 0!==r&&r.src&&(null==n||null===(i=n.current)||void 0===i?void 0:i.src)===e||(o.current=e,n.current=new Image,n.current.onload=s,n.current.onerror=a,n.current.src=e,n.current.complete&&s())}),[]);return(0,r.useEffect)((()=>(!a&&p(e,t),()=>{n.current&&(n.current.onload=()=>null)})),[]),(0,r.useEffect)((()=>{p(e,t)}),[e]),{hideImage:!a,visibleSource:i,isError:c}})({source:l,onImageLoadCb:c}),h=I()("width",i),g=I()("height",i);if(p)return r.createElement(N,{src:l,style:n,width:h,height:g,paddingBottom:a,showBrokenIconOnError:d});const f=Object.assign({},n,{paddingBottom:a}),E=S()("image-node",{transparent:u});return r.createElement(_.Z,{className:"ProgressiveImage",style:f,source:s?null:t},r.createElement("img",{className:E,src:m,alt:o,width:h,height:g}))};x.propTypes={source:i().string,visibleSource:i().string,thumbnail:i().string,onImageLoadCb:i().func,hasLoaded:i().bool,style:i().object,alt:i().string,forcedSize:i().object,transparent:i().bool,hideImage:i().bool,paddingBottom:i().string,showBrokenIconOnError:i().bool};const M=x;var P=n(80415);const L=({savedSize:e,forcedSize:t,renderedWidth:n})=>{const r=t||e;if(!r)return null;const o=(0,s.vg)("width",r);return(0,s.vg)("height",r)*(n/o)},k=({elementId:e,imageType:t,imageDetails:n,mediaDetails:o,alt:i,widthPx:d,savedWidthPx:u,imageQualityWidthPxOverride:m,onImageLoadCb:p,style:h,forcedSize:g,thumbnailUrl:f,cropToGrid:E,cropInset:v,gridSize:y,useSecureMediaUrl:I,showBrokenIconOnError:C})=>{const S=f||(0,s.vg)("thumb",n),T=(0,s.vg)("transparent",n),w=(0,s.vg)("height",o)&&(0,s.vg)("width",o)?o:n,O=(0,a.ZP)({savedSize:w,forcedSize:g,roundSaved:!1,cropToGrid:E,cropInset:v,gridSize:y,widthPx:d}),_=(null==O?void 0:O.paddingBottom)||"0%",[R,A]=r.useState(null),D=(0,l.Z)(_),N=r.useRef(null);(0,c.Z)((()=>{N.current&&cancelAnimationFrame(N.current);const e=(t,n)=>{const r=parseFloat(t),o=parseFloat(n);if(!r||Math.abs(o-r)<.01)return A(null),void(N.current=null);const i=(o-r)*P.f3+r;A(`${i}%`),requestAnimationFrame((()=>e(i,o)))},t=u||d,n=(0,a.ZP)({savedSize:w,forcedSize:null,roundSaved:!1,cropToGrid:E,cropInset:v,gridSize:y,widthPx:t});return e(D,(null==n?void 0:n.paddingBottom)||0),()=>{N.current&&cancelAnimationFrame(N.current)}}),[E]);const x=L({savedSize:w,forcedSize:g,renderedWidth:d});return r.createElement(b,{elementId:e,imageType:t,imageDetails:n,widthPx:d,imageQualityWidthPxOverride:m,heightPx:x,useSecureMediaUrl:I},(e=>r.createElement(M,{thumbnail:S,source:e,style:h,onImageLoadCb:p,alt:i,transparent:T,forcedSize:g,paddingBottom:R||_,showBrokenIconOnError:C})))};k.propTypes={imageType:i().string.isRequired,elementId:i().string,imageDetails:i().object.isRequired,mediaDetails:i().object,widthPx:i().number.isRequired,savedWidthPx:i().number,imageQualityWidthPxOverride:i().number,onImageLoadCb:i().func,style:i().object,alt:i().string,thumbnailUrl:i().string,forcedSize:i().object,cropToGrid:i().bool,cropInset:i().number,gridSize:i().number,useSecureMediaUrl:i().bool,showBrokenIconOnError:i().bool};const F=k},50021:(e,t,n)=>{"use strict";n.d(t,{TL:()=>s,Te:()=>o,bk:()=>a,ez:()=>i});const r={},o=e=>{var t;return(null===(t=r[e])||void 0===t?void 0:t.loaded)||!1},i=e=>{var t;return(null===(t=r[e])||void 0===t?void 0:t.error)||!1},s=({source:e})=>{r[e]={loaded:!0,error:!1}},a=({source:e})=>{r[e]={loaded:!1,error:!0}}},47353:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(42981),o=n.n(r),i=n(67294),s=n(45697),a=n.n(s);function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=({loop:e=!1}={})=>t=>{class n extends i.Component{constructor(t){super(t),l(this,"setFocusIndex",(e=>{if(e===this.state.focusedIndex)return;const{listSize:t,initialFocusIndex:n}=this.props;this.setState({focusedIndex:o()(Math.min(n,0),t-1,e)})})),l(this,"moveListFocusUp",(()=>{const{listSize:t}=this.props,{focusedIndex:n}=this.state;let r=n-1;return r=e&&r<0?t-1:r,this.setFocusIndex(r)})),l(this,"moveListFocusDown",(()=>{const{listSize:t}=this.props,{focusedIndex:n}=this.state;let r=n+1;return r=e&&r>t-1?0:r,this.setFocusIndex(r)})),this.state={focusedIndex:t.initialFocusIndex}}componentWillReceiveProps(e){(e.listSize<this.props.listSize||e.listSize&&!this.props.listSize)&&this.setState({focusedIndex:e.initialFocusIndex})}render(){const{focusedIndex:e}=this.state;return i.createElement(t,Object.assign({},this.props,{focusedIndex:e,setFocusIndex:this.setFocusIndex,moveListFocusUp:this.moveListFocusUp,moveListFocusDown:this.moveListFocusDown}))}}return n.propTypes={listSize:a().number.isRequired,initialFocusIndex:a().number.isRequired},n}},61024:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d,q:()=>c});var r=n(67294),o=n(45697),i=n.n(o),s=n(51752),a=n(40253);function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c={HORIZONTAL:"HORIZONTAL",VERTICAL:"VERTICAL"},d=({listDirection:e=c.VERTICAL})=>t=>{class n extends r.Component{constructor(t){super(t),l(this,"handleKeyDown",(t=>{const{moveListFocusDown:n,moveListFocusUp:r,onSubmit:o,onClose:i,onDelete:s}=this.props;switch(t.keyCode){case a.nx.TAB:return this.onTab(t);case a.nx.DOWN_ARROW:if(e===c.HORIZONTAL)return;return t.preventDefault(),n&&n();case a.nx.UP_ARROW:if(e===c.HORIZONTAL)return;return t.preventDefault(),r&&r();case a.nx.RIGHT_ARROW:if(e===c.VERTICAL)return;return t.preventDefault(),n&&n();case a.nx.LEFT_ARROW:if(e===c.VERTICAL)return;return t.preventDefault(),r&&r();case a.nx.ESC:return i&&i(t);case a.nx.ENTER:return o&&o(t);case a.nx.DELETE:case a.nx.BACKSPACE:return s&&s(t);default:return this.onDigit(t)}})),l(this,"onDigit",(e=>{const{keyCode:t}=e,{onDigit:n}=this.props;if(t<a.nx[0]||t>a.nx[9])return;(0,s.lk)(e)&&(e.preventDefault(),e.stopPropagation());const r=t-a.nx[0];return n&&n({digit:r,event:e})})),l(this,"onTab",(e=>{const{moveListFocusDown:t,moveListFocusUp:n}=this.props;return e.preventDefault(),(0,s.p9)(e)?n():t()})),this.keyboardInputRef=t.inputRef||r.createRef()}componentDidMount(){this.listenerRef=this.keyboardInputRef&&this.keyboardInputRef.current?this.keyboardInputRef.current:document,this.listenerRef.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){this.listenerRef&&this.listenerRef.removeEventListener("keydown",this.handleKeyDown)}render(){return r.createElement(t,Object.assign({},this.props,{keyboardInputRef:this.keyboardInputRef}))}}return n.propTypes={moveListFocusDown:i().func,moveListFocusUp:i().func,onDigit:i().func,onSubmit:i().func,onClose:i().func,onDelete:i().func,onSelectIndex:i().func,inputRef:i().object},n}},35292:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(42981),o=n.n(r),i=n(67294),s=n(76073);const a=(e=!1,t,n)=>{const[r,a]=(0,i.useState)(t),l=(0,s.Z)(n);(0,i.useEffect)((()=>{n<(l||0)&&a(t)}),[n]);const c=(0,i.useCallback)((e=>{e!==r&&a(o()(Math.min(t,0),n-1,e))}),[r,n]),d=(0,i.useCallback)((()=>{let t=r-1;return t=e&&t<0?n-1:t,c(t)}),[r,c,n]),u=(0,i.useCallback)((()=>{let t=r+1;return t=e&&t>n-1?0:t,c(t)}),[r,c,n]);return{focusedIndex:r,setFocusIndex:c,moveListFocusUp:d,moveListFocusDown:u}}},59465:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294);const o=({focusedIndex:e,index:t})=>{const n=e===t,o=r.useRef();return r.useLayoutEffect((()=>{if(!n||!o.current)return;const e=o.current.parentElement,t=o.current.getBoundingClientRect(),r=e.getBoundingClientRect(),i=t.height/2;r.bottom-t.bottom-i<0&&(e.scrollTop=t.top-r.top+e.scrollTop-r.height+t.height),t.top-r.top-i<0&&(e.scrollTop=t.top-r.top+e.scrollTop)}),[n]),[n,o]}},40699:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c,c:()=>a});var r=n(67294),o=n(6465);const i="initial-page-loader-overlay";let s=!1;const a=()=>{s||(s=!!document.getElementById(i),requestAnimationFrame((()=>{const e=document.getElementById(i);e&&e.parentNode.removeChild(e)})))};var l=r.createElement("div",{id:i,className:"InitialPageLoader"},r.createElement("div",{className:"fake-pwa-header"}),r.createElement(o.Z,null));const c=e=>l},49033:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),o=n(45697),i=n.n(o),s=n(1174),a=n.n(s);const l=["fadeIn","show"];const c={transitionName:"fade",duration:300,appear:!1};var d=n(68071);var u=r.createElement("circle",{cx:27,cy:27,r:27,strokeWidth:2,strokeMiterlimit:"10",stroke:"none",fill:"#353535"});const m=e=>{const{animate:t=!0}=e,o=(0,d.L7)()?n(3853):"/img/milanote-loader-sprite-210727.png";return r.createElement("div",{className:"LogoSpinner"},r.createElement("svg",{viewBox:"0 0 54 54",width:54,height:54,style:{position:"absolute"},className:"path logo-spinner-circle"},u),r.createElement("div",{className:"logo-container",style:{backgroundImage:"url(data:image/gif;base64,R0lGODlhMAAwAPMAADU1NTo6Oj09PUREREVFRUZGRkdHR0hISFJSUlRUVGhoaAAAAAAAAAAAAAAAAAAAACH5BAAAAAAAIf8LSW1hZ2VNYWdpY2sOZ2FtbWE9MC40NTQ1NDUALAAAAAAwADAAAATqEASEBrg46837FUliDUqpWF6qaqQ5mSW6zlxrIrAp07yd/ydeD0iMCVe+4m93ZCmfzCYg+QRGhdSqVTrVLrfHbDbXXWKBB0D1Iqa11U/MOzVfy8GdOVzpNNfwF3YZemyAgXEbeoSHfH9+i4xFHmKQkUR0XlcYgnlVmpuImEWfoI0qY6SlkkhEqZZArKMrnI5KqbR9nim4d0uVe6uJYJW8ioavP8J+g8e0lYScv2U5O4LShct2173UyGTbzGaexysHVl7dUmPoRlzT7DCusfDt7tz0+Pn6+/z9MDj+8iEAFpDdiAQF0SEIACACADs=)",backgroundRepeat:"no-repeat",backgroundSize:"24px 24px"}},t&&r.createElement("img",{className:"animation-frame",src:o,width:24,height:5280,alt:"Milanote loading icon"})))};m.propTypes={animate:i().bool};const p=(({transitionName:e,duration:t,appear:n}=c)=>o=>{const s=i=>{let{fadeIn:s=!1,show:c=!0}=i,d=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(i,l);return s?r.createElement(a(),{transitionName:e,transitionAppear:n,transitionAppearTimeout:t,transitionEnterTimeout:t,transitionLeaveTimeout:t},c?r.createElement(o,d):null):c?r.createElement(o,d):null};return s.propTypes={fadeIn:i().bool,show:i().bool},s})()(m)},6465:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(67294),o=n(45697),i=n.n(o),s=n(22222),a=n(37974),l=n(88883),c=n(395),d=n(68071),u=n(34595);const m=(0,s.zB)({isLocalCacheHydrated:c.k});var p=r.createElement("header",{className:"AppHeader"},r.createElement("div",{className:"WorkspaceToolsHeader header-tools"})),h=r.createElement("div",{id:"toolbar",className:"Toolbar"});const g=e=>{const{isLocalCacheHydrated:t}=e;return r.createElement("div",{className:"PageLoader"},r.createElement("div",{className:"WorkspaceWrapper"},(()=>{switch((0,d.uT)()){case u.Q.IOS_BOARD_LIST:case u.Q.IOS_CANVAS:return!1;case u.Q.IPAD_OS:default:return!0}})()&&p,r.createElement("div",{className:"Workspace"},r.createElement("div",{className:"workspace-positioner "},h,!t&&r.createElement(l.Z,e)))))};g.propTypes={isLocalCacheHydrated:i().bool};const f=(0,a.$j)(m)(g)},88883:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(67294),o=n(45697),i=n.n(o),s=n(49033);const a=["logoAnimate"];const l=e=>{let{logoAnimate:t=!0}=e,n=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);return r.createElement("div",{className:"PageLoaderMain workspace-positioner"},r.createElement("main",{className:"Main"},r.createElement(s.Z,Object.assign({},n,{animate:t}))))};l.propTypes={logoAnimate:i().bool};const c=l},26457:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),o=n(45697),i=n.n(o),s=n(1174),a=n.n(s),l=n(94184),c=n.n(l),d=r.createElement("defs",null,r.createElement("linearGradient",{id:"spinner-gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},r.createElement("stop",{offset:"0%",stopColor:"var(--ui-loading-spinner-gradient-start)",stopOpacity:1}),r.createElement("stop",{offset:"90%",stopColor:"var(--ui-loading-spinner-gradient-stop)",stopOpacity:0}),r.createElement("stop",{offset:"100%",stopColor:"var(--ui-loading-spinner-gradient-stop)",stopOpacity:0})));const u=({className:e,strokeWeightMultiplier:t=1})=>r.createElement("div",{className:c()("Spinner",e)},r.createElement("div",{className:"spinner-wrapper"},r.createElement("div",{className:"spinner-container"},r.createElement("svg",{className:"circular",viewBox:"25 25 50 50"},d,r.createElement("circle",{className:"path spinner-line",cx:"50",cy:"50",r:"20",fill:"none",stroke:"url(#spinner-gradient)",strokeWidth:2*t,strokeMiterlimit:"10"}))))),m=e=>{const{show:t,fadeIn:n,className:o,strokeWeightMultiplier:i}=e;return n?r.createElement(a(),{transitionName:"fade",transitionEnterTimeout:200,transitionLeaveTimeout:200},t?r.createElement(u,{className:o,strokeWeightMultiplier:i}):null):t?r.createElement(u,{className:o,strokeWeightMultiplier:i}):null};u.propTypes=m.propTypes={show:i().bool,fadeIn:i().bool,className:i().string,strokeWeightMultiplier:i().number};const p=m},31650:(e,t,n)=>{"use strict";n.d(t,{Lt:()=>y,QY:()=>v,XB:()=>E,gX:()=>b});var r=n(57369),o=n(14253),i=n(43831),s=n(41261),a=n(495),l=n(46951),c=n(48791),d=n(25926),u=n(68468),m=n(81897),p=n(70309),h=n(68624),g=n(53256),f=n(7923);const E=({id:e,measurements:t})=>((0,r.sd)(e,t),{type:g.z,id:e,measurements:t}),v=({id:e})=>((0,r.Vv)(e),{type:g.A,id:e}),b=e=>async(t,n,{measurementsStore:r})=>{if((0,i.xb)(e))return;const m=r.getState(),g=n(),v=(0,u.$3)(g),b=(0,c.ZP)(g),y=(0,p.l7)(g),I=(0,i.su)((0,p.Nz)(g)),C=e.map((e=>{const t=(0,a.sb)(v,e),n=document.querySelector(`[data-element-id="${e}"]`);if(!n)return;const r=(0,d._c)(m,{id:e}),c=(0,i.vg)("workspaceSection",r),u=(0,f.rI)(n.getBoundingClientRect()),{featureSuggestionsHeight:p,originOffset:h,canvasOffset:g}=(0,s.d)(t,n,u,b,y),C=(0,l.f)(u,t,y,I,c,p,h,g,n);return o.Z.updateElementCachedMeasurements(e,C),E({id:e,measurements:C})})).filter((e=>!!e));if((0,i.xb)(C))return;const S=(0,h.fS)({actions:C});r.dispatch(S)},y=()=>async(e,t)=>{const n=t(),r=(0,m.Q1)(n);e(b(r))}},53256:(e,t,n)=>{"use strict";n.d(t,{A:()=>o,z:()=>r});const r="MEASUREMENT_SET",o="MEASUREMENT_REMOVE"},25926:(e,t,n)=>{"use strict";n.d(t,{FM:()=>d,_c:()=>m,gd:()=>c,hU:()=>p,pN:()=>u,yb:()=>g});var r=n(22222),o=n(78327),i=n(7923),s=n(43831),a=n(11111),l=n(91824);const c=e=>e.get("elementMeasurements"),d=(0,r.P1)(c,s.Wo),u=(e,t)=>t.measurements,m=(e,{id:t})=>c(e).get(t),p=()=>(e,t)=>c(t()),h=i.rI({x:0,y:0,width:0,height:0}),g=(0,o.y1)(c,(e=>{const t={left:1/0,right:0,top:1/0,bottom:0},n=i.rI(e.reduce(((e,t)=>{if(!t||!(0,l.YT)(t))return e;if((0,a.P7)(t))return e;const n=t.get("left"),r=t.get("right"),o=t.get("top"),i=t.get("bottom");return n<e.left&&(e.left=n),r>e.right&&(e.right=r),o<e.top&&(e.top=o),i>e.bottom&&(e.bottom=i),e}),t));return n.left===1/0||n.top===1/0?h:n}))},24194:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ae});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(63323),l=n.n(a),c=n(26515),d=n(69164),u=n(64242),m=n(14253),p=n(57369),h=n(31650),g=n(23493),f=n.n(g),E=n(39693),v=n.n(E),b=n(85564),y=n.n(b),I=n(41609),C=n.n(I),S=n(10048),T=n(7923),w=n(9300),O=n(43831),_=n(11111),R=n(495),A=n(90252),D=n(76719),N=n(75763),x=n(48791),M=n(80275);var P=n(83547),L=n(7575);var k=n(81897),F=n(10798),B=n(24389),j=n(56860),z=n(19092),U=n(97245),H=n(62287);const Z=(0,O.vg)("bottom"),G=(e,t,n,r,o,i,s=[],a,l)=>{if(!e||!t)return;s.push(e);const c=(0,P.$)(r),d=(0,x.ZP)(r),u=(0,k._Z)(r),m=(0,O.vg)("y",u),p=(0,R.sb)(c,e);if(D.C9.blocked&&S.Z.warn("Blocked collision recursion for %s (%s)",e,(0,N.BGE)(p)),!p)return;const h=(0,N.nRF)(p),g=((e,t,n,r,o,i)=>{const s=(0,O.vg)(e,r);if(!n||s)return s;const a=(0,R.sb)(o,e);return(0,_.F_)(a)||(0,_.PG)(a)||(0,_.Iw)(a)?Object.assign({},t,T.Iu({x:0,y:-8*i},t)):null})(e,t,n,o,c,d);if(!g||!g.width||!g.height)return;const f=Z(t)-Z(g);if(0===f)return;const{top:E,right:b,bottom:I,left:C}=t,M=g,L=T.rI(Object.assign({},M,{bottom:M.bottom+4*d})),F=T.rI({top:E,left:C,right:b,bottom:I}),B=T.rI(Object.assign({},F,{bottom:F.bottom+4*d})),z=T.rI({top:E,left:C,right:b,bottom:I+3*d}),U=a||(0,k.tJ)(r),K=l||U;if((0,O.kE)(K)>150&&!(0,A.Iw)(H.Iu.disableAutoShiftLimit,i))return[];const W=[],V=[],$=[];let q=!1;return K.forEach((t=>{if(q)return;if((0,N.cOT)(t))return;if((0,_.Ag)(t))return;const i=(0,N.nRF)(t);if(i===h)return;if((0,_.P7)(t)&&((0,N.XSh)(t)||(0,N.vjE)(t)!==(0,N.u_)(t)))return;let a=o[i];if(0===T.bg(a))return void S.Z.warn("Neighbour element has no area",t,a);if((0,_.P7)(t)&&a){const e=(0,N._Nr)(t),n=((0,N.dS2)(t)-e)*d;a=Object.assign({},a,{right:a.left+n,bottom:a.top+12,width:n,height:12})}else if(!n&&T.dI(M,a))return void(q=!0);if(!a||a.section!==j.WI.CANVAS)return;a.top>=M.bottom&&$.push(t);const l=f>0&&!T.dI(M,a)&&T.dI(z,a),c=f<0&&T.dI(L,a)&&!T.dI(F,a),u=f>0&&!T.dI(L,a)&&T.dI(B,a);if(!l&&!c){if(u){const e=(0,O.su)((0,N.qEr)(t));W.push({id:i,location:e,from:e,autoPush:!0,saveOriginalLocation:!0,noSync:!0})}return}s.push(i);const g=((e,t,n)=>{const r=e.top-(t.bottom+4);return(0,w.Rk)(r,n)})(a,M,d),E=(e=>e>3?2:e)(g),v=((e,t,n,r,o,i,s)=>{if(e>0)return 0;const a=T.rI({top:t.top+e-2*o,left:t.left,right:t.right,bottom:t.top});return n.reduce(((e,n)=>{const l=(0,N.nRF)(n),c=r[l];if(0===T.bg(c))return e;if(!c||c.section!==j.WI.CANVAS)return e;if((0,_.P7)(n))return e;if(T.dI(t,c))return e;if(!T.dI(a,c))return e;if(i.includes(l))return e;const d=Math.round((c.bottom-t.top)/o)+1;return Math.min(Math.max(e,d),s)}),-1/0)})(f,a,U,o,d,s,c?0:1/0);let b=Math.round((I+4)/d)+E-(0,w.Rk)(a.top,d);b=Math.round(Math.max(v,b));const y=(0,O.su)((0,N.qEr)(t));if(!y)return;const C=Object.assign({},y,{position:Object.assign({},y.position)}),R=l&&g>3,A=c&&((e,t)=>e.getIn(["app","collision","originalLocation",t.elementId,"position","y"]))(r,{elementId:i})||m,x=(0,w.Rk)(a.top,d)+b+m;if(C.position.y=Math.max(x,A),D.C9.blocked){const n=c?"up":"down";S.Z.warn("- Collision between %s (%s) and %s (%s) - shifting %s by %s grid points",e,(0,N.BGE)(p),i,(0,N.BGE)(t),n,b,F,a)}W.push({id:i,location:C,from:y,autoPush:!0,saveOriginalLocation:R});const P=(C.position.y-m)*d,k=P+a.height;V.push({elementId:i,elementMeasurement:T.rI(Object.assign({},a,{top:P,bottom:k}))})})),q?[]:v()(y()([...V.map((e=>G(e.elementId,e.elementMeasurement,!1,r,o,i,s,U,$))),W]))},K=z.yu.SECOND;let W=0;const V=f()((()=>{W=0}),K),$=({elementId:e,elementMeasurement:t,currentMeasurements:n,isNewCard:r})=>(o,i)=>{if(D.C9.blocked)return;const s=i(),a=(0,M.ts)(s);if(!(e=>{const t=(0,F.U6)(e),n=(0,F.xe)(e);return!(!t||!n||(0,z.u3)()-t<5*z.yu.SECOND||(0,z.u3)()-n<z.yu.SECOND)})(s))return;if(!(0,A.ZH)(a))return;const l=(e=>e.getIn(["app","resizing","isResizing"]))(s),c=(0,L.Nm)(s),d=(0,L.YX)(s);if(l||c||d)return;let u=G(e,t,r,s,n,a);if(C()(u))return;if(W++,W>=15)return(0,D.ni)(),void G(e,t,r,s,n,a);V(),u=(e=>{const t={};return e.forEach((e=>{const{id:n,location:r}=e;t[n]&&t[n].location.position.y>r.position.y||(t[n]=e)})),Object.values(t)})(u);const m=(0,L.vd)(s),p=u.every((e=>!e.noSync));o((0,B.Zq)({moves:u,transactionId:m,sync:p,moveOperation:U.Pm.COLLISION}))};var q=n(87393),Y=n(50335),X=n(20354),Q=n(14849),J=n(46951),ee=n(41261),te=n(60658),ne=n(33853);function re(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const oe=({isPreview:e,isEditable:t,syncedMeasurements:n,element:r,gridSize:o,previousDevicePixelRatio:i,previousMeasurements:s,previousGridSize:a,previousX:l,previousY:c,currentX:d,currentY:u,heightChange:m})=>!!D.C9.enabled&&(!e&&(!!t&&(!!n&&(!(0,_.P7)(r)&&(!(0,_.Ag)(r)&&(a===o&&(!!(0,te.PY)(r)&&(i===window.devicePixelRatio&&(!s||l===d&&(c===u&&(!(Math.abs(m)<=4)&&(!(0,_.t3)(r)||6!==Math.abs(m))))))))))))),ie=e=>({dispatchGetChildIds:t=>e((0,q.bp)([t])),dispatchCheckCollisions:(...t)=>e($(...t))}),se=e=>({dispatchMeasurementsSet:({id:t,measurements:n})=>e((0,h.XB)({id:t,measurements:n})),dispatchMeasurementsRemove:({id:t})=>e((0,h.QY)({id:t}))}),ae=e=>{var t;let n=(0,s.$j)(void 0,ie)(t=(0,u.Z)(void 0,se)(t=class extends r.Component{constructor(e,t){super(e,t),re(this,"forceMeasure",(()=>{this.measureComponent.current&&this.measureComponent.current.measure()})),re(this,"getElementMeasurementFromCanvasDocument",(e=>{const{element:t,getContextZoomScale:n,getContextZoomTranslationPx:r,gridSize:o,boardSection:i}=this.props,s=this.measureElementRef.current,a=n(),l=r(),{featureSuggestionsHeight:c,originOffset:d,canvasOffset:u}=(0,ee.d)(t,s,e,o,a);return(0,J.f)(e,t,a,l,i,c,d,u,s)})),re(this,"measureElement",(e=>{var t,n;if(this.preventMeasure)return;if(c.Z.getIsZooming()){if(this.previousMeasurements)return;return void c.Z.registerZoomEndSubscriber(this.forceMeasure)}if(0===e.height)return;if(e.width===window.screen.width)return;const{currentBoardId:r,element:o,dispatchMeasurementsSet:i,dispatchGetChildIds:s,dispatchCheckCollisions:a,gridSize:d,isPreview:u,isEditable:h}=this.props,g=(0,N.nRF)(o),f=this.measureElementRef.current;if(e=this.getElementMeasurementFromCanvasDocument(e),l()(this.previousMeasurements,e))return;const E=(0,N.uLQ)(o),v=(0,N.oNe)(o),b=((null===(t=e)||void 0===t?void 0:t.height)||0)-((null===(n=this.previousMeasurements)||void 0===n?void 0:n.height)||0),y={isPreview:u,isEditable:h,syncedMeasurements:p.t$,element:o,gridSize:d,previousDevicePixelRatio:this.previousDevicePixelRatio,previousMeasurements:this.previousMeasurements,previousGridSize:this.previousGridSize,previousX:this.previousX,previousY:this.previousY,currentX:v,currentY:E,heightChange:b},I=oe(y);if((0,_.t3)(o)&&6===b&&oe(Object.assign({},y,{heightChange:10}))&&(0,Y.HW)()&&(S.Z.groupCollapsed("%c WARNING: Possible collision detection bug - report this! ","background: #fee2d6"),S.Z.info("It's possible that a column collision detection bug has occurred.\nIf you see this message, please report it to the team and collect details about the actions you were performing.\n"),S.Z.log("Details:",Object.assign({elementId:g},y)),S.Z.groupEnd()),I){const t=!this.previousMeasurements&&!(0,O.vg)(g,p.t$);if(D.C9.blocked&&!D.C9.logged){D.C9.logged=!0;const e=t?"new card":`height change of ${b}px`;S.Z.warn("Attempted to perform collision detection while blocked. BOARD ID: %s, ID: %s, TYPE: %s, REASON:",r,g,(0,N.BGE)(o),e),(0,X.vl)({errorMessage:"Attempted to perform collision detection while blocked",level:ne.n.WARNING,custom:{currentBoardId:r,id:g,elementType:(0,N.BGE)(o),reason:e}})}a({elementId:g,elementMeasurement:e,currentMeasurements:p.t$,isNewCard:t})}if(this.hasBeenMeasured=!0,i({id:g,measurements:e}),(0,_.t3)(o)){s(g).forEach((e=>m.Z.forceElementMeasure(e)))}f&&f.style&&(f.style.containIntrinsicSize=`${e.width}px ${e.height}px`),this.previousGridSize=d,this.previousMeasurements=e,this.previousDevicePixelRatio=window.devicePixelRatio,this.previousX=v,this.previousY=E})),re(this,"updateCachedMeasurements",(e=>{this.previousMeasurements=e})),re(this,"setShouldPreventMeasure",(e=>{this.preventMeasure=e})),this.hasBeenMeasured=!1,this.measureComponent=r.createRef(),this.measureElementRef=r.createRef(),this.previousMeasurements=null,this.previousGridSize=e.gridSize,this.previousDevicePixelRatio=window.devicePixelRatio,this.preventMeasure=!1}componentWillMount(){const{element:e}=this.props,t=(0,N.nRF)(e);m.Z.registerElement(t,this)}componentDidUpdate(e){const{element:t}=this.props;(0,N.qEr)(t)!==(0,N.qEr)(e.element)&&this.forceMeasure()}componentWillUnmount(){const{element:e,dispatchMeasurementsRemove:t}=this.props,n=(0,N.nRF)(e);m.Z.removeElement(n,this),m.Z.getElementReferenceCount(n)<1&&this.hasBeenMeasured&&t({id:n})}render(){const{documentMode:t,isEditing:n,isClipboardCut:o,isFocusedForegroundElement:i}=this.props;if(o)return null;if(t||i)return r.createElement(e,this.props);const s=!((0,Q.n9)(this.props.element)&&n);return r.createElement(d.Z,{ref:this.measureComponent,whitelist:["width","height","top","left"],shouldMeasure:s,onMeasure:this.measureElement},r.createElement(e,Object.assign({},this.props,{measureElementRef:this.measureElementRef,forceMeasure:this.forceMeasure,setShouldPreventMeasure:this.setShouldPreventMeasure})))}})||t)||t;return n.propTypes={currentBoardId:i().string,element:i().object.isRequired,isDragging:i().bool,isClipboardCut:i().bool,dispatchMeasurementsSet:i().func,dispatchMeasurementsRemove:i().func,dispatchGetChildIds:i().func,dispatchCheckCollisions:i().func,documentMode:i().bool,isEditable:i().bool,isEditing:i().bool,isPreview:i().bool,isFocusedForegroundElement:i().bool,gridSize:i().number,boardSection:i().string,getContextZoomScale:i().func,getContextZoomTranslationPx:i().func},n}},97069:(e,t,n)=>{"use strict";n.d(t,{Ig:()=>i,JD:()=>s,Wl:()=>a});var r=n(43831);let o={};const i=e=>{o=e},s=()=>o,a=e=>(0,r.vg)(e,o)},57369:(e,t,n)=>{"use strict";n.d(t,{Vv:()=>i,sd:()=>o,t$:()=>r});const r={},o=(e,t)=>{r[e]=t},i=e=>{r[e]=null}},41261:(e,t,n)=>{"use strict";n.d(t,{d:()=>p,l:()=>m});var r=n(14253),o=n(25689),i=n(40565),s=n(11111),a=n(8698),l=n(29144),c=n(7923);const d=e=>{if(!e)return e;const t=e.top-e.height,n=e.left-e.width/2;return Object.assign({},e,{bottom:t+e.height,top:t,left:n,right:n+e.width,y:t,x:n})},u=(e,t,n,r=1)=>{const o=((e,t,n)=>{if(!n)return t;if((0,s.Iw)(e)&&(0,l.Em)(e))return d(t);if(!(0,a.KX)(e))return t;const r=n.querySelector(".icon-container");return r?r.getBoundingClientRect():t})(e,t,n),u=(0,c.CZ)(o),m=(0,c.rL)(t),p=i.Yw(m,u),h=i.bA(1/r,p);return i.NM(h)},m=(e,t,n,r)=>{const i=[t];if(!n)return i;if((0,s.Iw)(e)&&(0,l.Em)(e))return[d(t)];if(!(0,a.KX)(e))return i;const u=n.querySelector(".title-container");if(!u)return i;const m=(0,c.rI)(u.getBoundingClientRect());return(0,o.L)(m,r),i.push(m),i},p=(e,t,n,o,i)=>{const s=r.Z.getCanvasViewportTranslation(),a=((e,t)=>{if(!e)return 0;const n=e.querySelector(".FeatureSuggestions");return n?n.getBoundingClientRect().height-.2*t:0})(t,o);return{featureSuggestionsHeight:a,canvasOffset:s,originOffset:u(e,n,t,i)}}},25689:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r=(e,t)=>(e.x=(e.x||e.left)+t.x,e.y=(e.y||e.top)+t.y,e.top+=t.y,e.bottom+=t.y,e.left+=t.x,e.right+=t.x,e)},46951:(e,t,n)=>{"use strict";n.d(t,{f:()=>a});var r=n(25689),o=n(41261),i=n(46440),s=n(75763);const a=(e,t,n,a,l,c,d,u,m)=>{const p=Object.assign({},e,{id:(0,s.nRF)(t),workspaceSection:l,section:(0,s.PRW)(t),elementType:(0,s.BGE)(t),originOffset:d});(0,r.L)(p,u),((e,t)=>{t&&(e.height=e.height-t,e.bottom=e.bottom-t)})(p,c);const h={scale:n,translation:a};(0,i.o)(p,h);const g=(0,o.l)(t,p,m,u);return Object.assign({},p,{rects:g})}},46440:(e,t,n)=>{"use strict";n.d(t,{P:()=>i,o:()=>s});var r=n(43831);const o=(e,t,n,r)=>{const o=e[t];null!=o&&(e[t]=Math.round((o+n)*r))},i=(e,t)=>{const n=(0,r.P2)(["translation","x"],t),i=(0,r.P2)(["translation","y"],t),s=(0,r.vg)("scale",t);return o(e,"x",n,s),o(e,"y",i,s),o(e,"left",n,s),o(e,"top",i,s),o(e,"right",n,s),o(e,"bottom",i,s),o(e,"width",0,s),o(e,"height",0,s),e},s=(e,t)=>{const n=-(0,r.P2)(["translation","x"],t),o=-(0,r.P2)(["translation","y"],t),s=1/(0,r.vg)("scale",t);return i(e,{scale:s,translation:{x:n,y:o}})}},64242:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(37974),o=n(792);const i=(...e)=>{const t=Object.assign({},e[3],{storeKey:o.m,getDisplayName:e=>`MeasurementsConnect(${e})`});return(0,r.$j)(e[0],e[1],e[2],t)}},792:(e,t,n)=>{"use strict";n.d(t,{f:()=>s,m:()=>i});var r=n(53256),o=n(52411);const i="measurementsStore",s=[r.z,r.A,o.nj,o.g0]},14253:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(23842),o=n(39702);function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=new class{constructor(){i(this,"registerElement",((e,t)=>{this.elementReferenceCount[e]=this.elementReferenceCount[e]||0,this.elementReferenceCount[e]++,this.measureElementDecorators[e]=t})),i(this,"removeElement",((e,t)=>{this.elementReferenceCount[e]--,t===this.measureElementDecorators[e]&&(this.measureElementDecorators[e]=null)})),i(this,"getElementReferenceCount",(e=>this.elementReferenceCount[e]||0)),i(this,"forceElementMeasure",(e=>{const t=this.measureElementDecorators[e];t&&t.forceMeasure&&t.forceMeasure()})),i(this,"updateElementCachedMeasurements",((e,t)=>{const n=this.measureElementDecorators[e];n&&n.updateCachedMeasurements&&n.updateCachedMeasurements(t)})),i(this,"registerCanvasViewport",(e=>{this.canvasViewport=e})),i(this,"removeCanvasViewport",(()=>{this.canvasViewport=null})),i(this,"getElementMeasurementFromCanvasDocument",(e=>{const t=this.measureElementDecorators[e],n=(0,o.MS)(e);if(t&&n)return t.getElementMeasurementFromCanvasDocument(n.toJSON())})),i(this,"getCanvasViewportDomElement",(()=>this.canvasViewport)),i(this,"getCanvasViewportScrollAsPoint",(()=>(0,r.du)(this.canvasViewport))),i(this,"getCanvasViewportTranslation",(()=>{const e=this.canvasViewport&&this.canvasViewport.getBoundingClientRect();return{y:this.canvasViewport&&this.canvasViewport.scrollTop-e.top||0,x:this.canvasViewport&&this.canvasViewport.scrollLeft-e.left||0}})),this.elementReferenceCount={},this.measureElementDecorators={}}}},75390:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(43393),o=n(53894),i=n(15857),s=n(24545),a=n(50335),l=n(44379),c=n(68624),d=n(84796),u=n(72739),m=n(53256);const p=r.Map();var h=n(76262),g=n.n(h),f=n(52411);const E=r.Map();const v=(0,u.U)({elementMeasurements:function(e=p,t){switch(t.type){case m.z:return e.set(t.id,r.fromJS(t.measurements));case m.A:return e.delete(t.id);default:return e}},pointsOfInterest:function(e=E,t){switch(t.type){case f.nj:return((e,t)=>{const n=r.fromJS(g()("type",t));return e.update(t.id,(e=>e?e.merge(n):n))})(e,t);case f.g0:return e.delete(t.id);case f.Bh:return((e,t)=>e.withMutations((e=>t.ids.forEach((t=>e.setIn([t,"seen"],!0))))))(e,t);default:return e}}});var b=n(792);function y(e=r.Map()){const t=[];t.push(o.Z),t.push((0,c.dP)({bulkActionTypes:b.f})),(0,a.Od)()&&t.push((0,d.Z)("msr_")),(0,l.jF)(l.SI.REDUX_LOG_MEASUREMENTS)&&t.push((0,s.hu)({collapsed:!0,duration:!0,timestamp:!1,colors:{title:e=>"palevioletred"}}));const n=i.md.apply(null,t);return(0,i.MT)((0,c.wO)(v),e,n)}},89933:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s),l=n(15946),c=n(87701),d=r.createElement("div",{className:"logo"},r.createElement(c.Z,{name:"error-alert"}));const u=({children:e,className:t,overlay:n,close:o})=>r.createElement(l.Z,{className:a()("FullScreenErrorModal",t),overlay:n,close:o},d,e);u.propTypes={children:i().oneOfType([i().element,i().array]).isRequired,overlay:i().bool,close:i().func,className:i().string};const m=u},15946:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(63422),o=n.n(r),i=n(67294),s=n(45697),a=n.n(s),l=n(94184),c=n.n(l),d=n(37974),u=n(39702),m=n(41755),p=n(77606),h=n.n(p);const g=({children:e,className:t,styled:n=!0})=>i.createElement("div",{className:c()("PageContent",t,{StyledPageContent:n})},e);g.propTypes={children:a().oneOfType([a().arrayOf(a().node),a().node]).isRequired,className:a().string,styled:a().bool};const f=g;var E=n(94630),v=n(35423);const b=e=>i.createElement(v.Z,Object.assign({},e,{className:"ModalErrorRenderer",heading:"Something went wrong within this modal"})),y=e=>i.createElement(E.Z,Object.assign({},e,{ErrorRenderer:b}));var I=n(41998),C=n(75798),S=i.createElement(C.Z,null);class T extends i.Component{componentWillMount(){const{noTransition:e}=this.props;e?document.body.classList.add("no-transition"):document.body.classList.remove("no-transition")}componentDidMount(){const{bodyClass:e="modal"}=this.props;!h()(e)&&document.body.classList.add(e)}componentWillUnmount(){const{bodyClass:e="modal"}=this.props;!h()(e)&&document.body.classList.remove(e)}render(){const{children:e,className:t,onClick:n,styled:r,showBack:o}=this.props;return i.createElement("div",{className:"modal-container",onClick:n},i.createElement("div",{className:c()("Modal",t)},i.createElement(y,this.props,o&&S,i.createElement(I.Z,this.props),i.createElement(f,{className:"modal-content",styled:r},e))))}}T.propTypes={children:a().oneOfType([a().element,a().array]).isRequired,className:a().string,onClick:a().func,close:a().func,showBack:a().bool,styled:a().bool,blur:a().bool,noTransition:a().bool,bodyClass:a().string};const w=T;var O=n(42441),_=n.n(O);function R(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const A=(0,n(28644).aU)("disableClose");class D extends i.Component{constructor(...e){super(...e),R(this,"bindEscKeyListener",(()=>{const{close:e}=this.props;this.escKeyBound||(_().bind("escape",(t=>e())),this.escKeyBound=!0)})),R(this,"unbindEscKeyListener",(()=>{this.escKeyBound&&(_().unbind("escape"),this.escKeyBound=!1)}))}componentWillMount(){const{close:e,disableClose:t}=this.props;e&&!t&&this.bindEscKeyListener()}componentWillReceiveProps(e){A(this.props,e)&&(e.disableClose?this.unbindEscKeyListener():this.bindEscKeyListener())}componentWillUnmount(){this.unbindEscKeyListener()}render(){return this.props.children}}D.propTypes={children:a().oneOfType([a().element,a().array]).isRequired,close:a().func,disableClose:a().oneOfType([a().string,a().bool])};const N=D;var x;function M(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const P=o()(["location","pathname"]);let L=(0,d.$j)(null,(e=>({dispatchModalOpened:t=>e((0,m.bz)(t)),dispatchModalClosed:t=>e((0,m.VX)(t))})))(x=class extends i.Component{constructor(...e){super(...e),M(this,"onMouseDown",(e=>{this.wasMouseDownTarget=this.fullScreenModalElement===e.target})),M(this,"onClick",(e=>{if(!this.wasMouseDownTarget)return;const{disableClose:t,close:n}=this.props;!t&&n&&n(e),this.wasMouseDownTarget=!1}))}componentDidMount(){this.props.dispatchModalOpened(this.props.modalName||P(this.props))}componentWillUnmount(){this.props.dispatchModalClosed(this.props.modalName||P(this.props))}render(){const{children:e,className:t,overlay:n,close:r,outsideModalChildren:o,padding:s=!0,alignTop:a=!1,autoWidth:l=!1}=this.props,d=c()("FullScreenModal",t,{overlay:n,"auto-width":l,"no-padding":!s,"align-top":a});return i.createElement("div",{ref:e=>{this.fullScreenModalElement=e},className:d,onMouseDown:this.onMouseDown,onClick:this.onClick},o,i.createElement("div",{className:"modal-positioner"},i.createElement(N,this.props,i.createElement(w,Object.assign({},this.props,{onClick:u.hE,close:r}),e))))}})||x;L.propTypes={children:a().oneOfType([a().element,a().array]).isRequired,outsideModalChildren:a().oneOfType([a().element,a().array]),className:a().string,modalName:a().string,overlay:a().bool,close:a().func,disableClose:a().any,padding:a().bool,alignTop:a().bool,autoWidth:a().bool,dispatchModalOpened:a().bool,dispatchModalClosed:a().bool};const k=L},74274:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294),o=n(45697),i=n.n(o),s=n(80086);const a=({actions:e,location:t})=>r.createElement("ul",{className:"ModalActionsList"},e.map(((e,n)=>r.createElement("li",{key:n},e.to?r.createElement(s.Z,{to:e.to,keepParams:e.keepParams,location:t},e.text):r.createElement("a",{href:e.href||"#",onClick:e.func},e.text)))));a.propTypes={actions:i().arrayOf(i().shape({text:i().string.isRequired,func:i().func,to:i().string,keepParams:i().bool,href:i().string})),location:i().object};const l=a},75798:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),o=n(94184),i=n.n(o),s=n(33311),a=n(37974),l=n(80877),c=n(87701);const d=(0,a.$j)(null,(e=>({goBackHistory:()=>e((0,s.Hm)())})));var u=r.createElement("span",null,r.createElement(c.Z,{name:"chevron-left"}));const m=d((({className:e,title:t="Back",onClick:n,goBackHistory:o})=>{const s=n||o;return r.createElement(l.Z,{onClick:s,className:i()("ModalBackButton",e)},u," ",t)}))},41998:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),o=n(45697),i=n.n(o),s=n(80877),a=n(87701),l=n(16341);const c=({close:e,disableClose:t,hideClose:n})=>!e||t||n?null:r.createElement(s.Z,{onClickFn:e,className:"ModalCloseButton"},r.createElement(a.Z,{name:"close-x",size:l.O.LARGE}));c.propTypes={close:i().func,disableClose:i().any,hideClose:i().bool};const d=c},94757:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(67294),o=n(45697),i=n.n(o),s=n(15946),a=n(89933);const l=e=>e.isError?r.createElement(a.Z,Object.assign({overlay:!0},e),e.children):r.createElement(s.Z,Object.assign({overlay:!0},e),e.children);l.propTypes={children:i().node,isError:i().bool};const c=l},16733:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(67294),o=n(45697),i=n.n(o),s=n(94757),a=n(93655);const l=e=>r.createElement(a.Z,null,r.createElement(s.Z,e,e.children));l.propTypes={close:i().func,children:i().node,className:i().string,disableClose:i().bool,showBack:i().bool};const c=l},99238:(e,t,n)=>{"use strict";n.d(t,{_:()=>r,x:()=>o});const r=e=>!!e.getIn(["app","modal","activeModal"]),o=e=>e.getIn(["app","modal","activeModal"])},41755:(e,t,n)=>{"use strict";n.d(t,{VX:()=>i,bz:()=>o});var r=n(35429);const o=(e,t)=>({type:r.Np,modalName:e,state:t}),i=e=>({type:r.gM,modalName:e})},35429:(e,t,n)=>{"use strict";n.d(t,{Bx:()=>s,Np:()=>r,gM:()=>i,r:()=>o});const r="MODAL_OPEN",o="MODAL_SET_STATE",i="MODAL_CLOSE";let s;!function(e){e.SHORTCUTS="SHORTCUTS",e.SHARE="SHARE",e.TABLE_ANNOUNCEMENT="TABLE_ANNOUNCEMENT",e.AI_REPORT_FEEDBACK="AI_REPORT_FEEDBACK"}(s||(s={}))},48294:(e,t,n)=>{"use strict";n.d(t,{W:()=>s,Z:()=>i});var r=n(67294);const o=r.createContext(null),i=o,s=e=>{class t extends r.Component{render(){return r.createElement(e,Object.assign({boardSection:this.context},this.props))}}return t.contextType=o,t}},7652:(e,t,n)=>{"use strict";n.d(t,{Pz:()=>i,ZE:()=>s,mb:()=>o});var r=n(52411);const o=({id:e,poiType:t,currentBoardId:n,section:o,targetRect:i,data:s})=>({type:r.nj,id:e,currentBoardId:n,section:o,poiType:t,targetRect:i,data:s}),i=({id:e})=>({type:r.g0,id:e}),s=({ids:e})=>({type:r.Bh,ids:e})},52411:(e,t,n)=>{"use strict";n.d(t,{Bh:()=>i,Ku:()=>s,g0:()=>o,nj:()=>r});const r="POI_SET",o="POI_REMOVE",i="POI_MULTIPLE_SEEN",s={SEARCH:"SEARCH",ELEMENT:"ELEMENT",ACTIVITY:"ACTIVITY"}},22693:(e,t,n)=>{"use strict";n.d(t,{Z:()=>D});var r=n(67294),o=n(45697),i=n.n(o),s=n(63323),a=n.n(s),l=n(37974),c=n(22222),d=n(26515),u=n(7923),m=n(64242),p=n(14253),h=n(46440),g=n(70309),f=n(81897),E=n(48294),v=n(69164),b=n(7652),y=n(28644),I=n(56860);const C=["positions"];function S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let T=0;const w=(0,y.aU)("zoomState"),O=(0,y.aU)("poiType"),_=(0,y.aU)("positions"),R=e=>({dispatchPoiSet:({id:t,poiType:n,targetRect:r,data:o,currentBoardId:i,section:s})=>e((0,b.mb)({id:t,poiType:n,currentBoardId:i,section:s,targetRect:r,data:o})),dispatchPoiRemove:({id:t})=>e((0,b.Pz)({id:t}))}),A=(0,c.zB)({currentBoardId:f.s4,zoomState:g.h4,positions:f.X9}),D=e=>{var t,n,o;let s=(t=(0,m.Z)(void 0,R),n=(0,l.$j)(A),(0,E.W)(o=t(o=n(o=class extends r.Component{constructor(e){super(e),S(this,"updateStoredPoi",(e=>{const{dispatchPoiSet:t,poiData:n,poiType:r,currentBoardId:o,boardSection:i}=e;if(i){if(!r||!this.measurements||!i)return this.removeStoredPoi(e);t({id:this.id,poiType:r,currentBoardId:o,section:i,targetRect:this.measurements,data:n}),this.poiSet=!0}})),S(this,"removeStoredPoi",(e=>{if(!this.poiSet)return;const{dispatchPoiRemove:t}=e;t({id:this.id}),this.poiSet=!1})),S(this,"measureElement",(e=>{var t;const{boardSection:n,commentId:r,zoomState:o}=this.props;if(d.Z.getIsZooming())return void(this.isAwaitingMeasurement=!0);this.isAwaitingMeasurement=!1;const i=n===I.WI.CANVAS?p.Z.getCanvasViewportTranslation():null;let s=((e,t)=>t&&e?((t.x||t.y)&&(t.x+=e.x,t.y+=e.y),t.top+=e.y,t.bottom+=e.y,t.left+=e.x,t.right+=e.x,t):t)(i,e);if(r&&null!==(t=this.measureComponent)&&void 0!==t&&t._node){const e=this.measureComponent._node.closest(".CommentThread"),t=e&&e.getBoundingClientRect(),n=u.Iu(i,t);s=u.d0(n,s)}s=(0,h.o)(s,o),a()(this.measurements,s)||(this.measurements=s,this.updateStoredPoi(this.props))})),S(this,"forceMeasure",(()=>{this.measureComponent&&this.measureComponent.measure()})),T++,this.id=`POI_${T}`,this.measurements=null,this.poiSet=!1,this.isAwaitingMeasurement=!1}componentWillReceiveProps(e){var t,n;!O(this.props,e)&&(t=this.props,n=e,a()(t.poiData,n.poiData))||this.updateStoredPoi(e)}componentDidUpdate(e){(_(e,this.props)||this.isAwaitingMeasurement&&w(e,this.props))&&this.forceMeasure()}componentWillUnmount(){this.removeStoredPoi(this.props)}render(){const t=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(this.props,C),{boardSection:n}=this.props;return n?r.createElement(v.Z,{ref:e=>{this.measureComponent=e},onMeasure:this.measureElement},r.createElement(e,t)):r.createElement(e,this.props)}})||o)||o)||o);return s.propTypes={currentBoardId:i().string,commentId:i().string,poiType:i().string.isRequired,poiData:i().object.isRequired,positions:i().object,boardSection:i().string,dispatchPoiSet:i().func,dispatchPoiRemove:i().func,zoomState:i().object},s}},58964:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(94184),l=n.n(a),c=n(22222),d=n(82520),u=n(94630),m=n(63422),p=n.n(m),h=n(35423);const g=({popupId:e,error:t})=>`Popup ID: ${e}\nError: ${t&&t.toString()}\nStack: ${p()("stack",t)}`,f=e=>r.createElement(h.Z,Object.assign({},e,{className:"PopupErrorRenderer",heading:"Something went wrong in this popup",getErrorDetails:g}));f.propTypes={popupId:i().string,error:i().object};const E=f,v=(e,t,n)=>`Error rendering ${n.popupId} popup: ${e.toString()}`,b=(e,t,n)=>({popupId:n.popupId,stack:t.componentStack}),y=e=>r.createElement(u.Z,Object.assign({},e,{ErrorRenderer:E,getErrorMessage:v,getRollbarErrorDetails:b}));y.propTypes={popupId:i().string.isRequired};const I=y;var C=n(48791),S=n(19690),T=n(60434),w=n(69129);const O=(0,c.P1)(S._W,((e,t)=>t.popupId),((e,t)=>t.forceVisible),C.UK,((e,t,n,r)=>({visible:n||e.has(t),isMobile:r}))),_=(0,s.$j)(O,((e,t)=>({closePopup:()=>e((0,T.j4)(t.popupId,!1))}))),R=e=>{const{visible:t,className:n,arrowDir:o,children:i,padded:s,isMobile:a,stayOpen:c}=e;return t?r.createElement("div",{className:l()("PopupPanel",n,`arrow-${o||w.VH.top}`,{padded:s})},r.createElement(d.Z,Object.assign({},e,{stayOpen:a||c}),r.createElement(I,e,r.createElement("div",{className:"popup-content"},i)))):null};R.propTypes={visible:i().bool,padded:i().bool,isMobile:i().bool,stayOpen:i().bool,className:i().string,arrowDir:i().string,children:i().oneOfType([i().arrayOf(i().node),i().node]).isRequired};const A=_(R)},82520:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(98066),o=n.n(r),i=n(67294),s=n(45697),a=n.n(s),l=n(73935),c=n(12767);function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u={capture:!0},m=({closeOnMouseUp:e})=>e?"mouseup":"mousedown";class p extends i.Component{constructor(...e){super(...e),d(this,"attachListener",(()=>{const{duration:e,stayOpen:t}=this.props;t||(this.attachTimerId=o()((()=>{this.listenersAttached=!0,document.addEventListener(m(this.props),this.checkTargetContained,u),document.addEventListener(m(this.props),this.closePopup,u)}),250),e&&(this.delayedHide=o()(this.closePopup,e)))})),d(this,"removeListener",(()=>{const{stayOpen:e}=this.props;clearTimeout(this.attachTimerId),!e&&this.listenersAttached&&(this.listenersAttached=!1,document.removeEventListener(m(this.props),this.checkTargetContained,u),document.removeEventListener(m(this.props),this.closePopup,u),this.delayedHide&&(clearTimeout(this.delayedHide),this.delayedHide=null))})),d(this,"checkTargetContained",(e=>{const t=!this.error&&(0,l.findDOMNode)(this);if(this.targetContained=t&&(null==t?void 0:t.contains(e.target)),this.targetContained||this.props.ignoreClickContainment)return;const n=this.props.ignoredClicksSelector?`.FloatingPanel,.FloatingPanelErrorRenderer,${this.props.ignoredClicksSelector}`:".FloatingPanel,.FloatingPanelErrorRenderer";if(e.target.closest(n))return void(this.targetContained=!0);const r=e.target.closest(`.${c.f0}`),o=(0,c.U9)(this.props.popupId);this.targetContained=r&&r.classList.contains(o)})),d(this,"closePopup",(e=>{if(this.targetContained)return;const{closePopup:t}=this.props;t(),this.error&&this.removeListener()}))}componentWillMount(){const{visible:e}=this.props;this.listenersAttached=!1,e&&this.attachListener()}componentWillReceiveProps(e){const{visible:t,onClose:n}=this.props;!t&&e.visible&&this.attachListener(),t&&!e.visible&&(this.removeListener(),n&&n())}componentWillUnmount(){const{onClose:e}=this.props;this.removeListener(),e&&e()}componentDidCatch(e,t){throw this.error=!0,e}render(){return this.props.children}}p.propTypes={closePopup:a().func.isRequired,closeOnMouseUp:a().bool,visible:a().bool,stayOpen:a().bool,ignoreClickContainment:a().bool,duration:a().number,onClose:a().func,children:a().oneOfType([a().arrayOf(a().node),a().node]).isRequired,popupId:a().string,ignoredClicksSelector:a().string};const h=p},22616:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(67294),o=n(94184),i=n.n(o),s=n(12767),a=n(87701),l=r.createElement("span",{className:"arrow"},r.createElement(a.Z,{name:"menu-down-arrow"}));const c=r.forwardRef((function(e,t){const{popupId:n,icon:o,text:a,className:c,showArrow:d,onToggle:u,closeSection:m,stayActivePredicate:p}=e,h=a?r.createElement("span",{className:"tool-text"},a):null;return r.createElement(s.ZP,{forwardedRef:t,popupId:n,stayActivePredicate:p,closeSection:m,className:i()("PopupToolButton highlight",c),onToggle:u},(()=>r.createElement("div",{className:"button-content",id:`popup-${n}-button`},o,h,d&&l)))}))},12767:(e,t,n)=>{"use strict";n.d(t,{f0:()=>w,ZP:()=>A,U9:()=>O});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(22222),l=n(94184),c=n.n(l),d=n(76073),u=n(19690),m=n(60434),p=n(23279),h=n.n(p),g=n(28644),f=n(80877);function E(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v=(0,g.aU)("onClick"),b=(0,g.aU)("onClickFn"),y=(0,g.aU)("onDoubleClick"),I=(0,g.aU)("onMouseDown"),C=(0,g.aU)("onMouseUp");class S extends r.Component{constructor(e){super(e),E(this,"createDebouncedMouseHandlers",(e=>{this.onMouseDown=e.onMouseDown&&h()(e.onMouseDown,250,{leading:!0,trailing:!1}),this.onClick=e.onClick&&h()(e.onClick,250,{leading:!0,trailing:!1}),this.onDoubleClick=e.onDoubleClick&&h()(e.onDoubleClick,250,{leading:!0,trailing:!1}),this.onMouseUp=e.onMouseUp&&h()(e.onMouseUp,250,{leading:!0,trailing:!1})})),this.createDebouncedMouseHandlers(e)}componentWillReceiveProps(e){(v(this.props,e)||b(this.props,e)||y(this.props,e)||I(this.props,e)||C(this.props,e))&&this.createDebouncedMouseHandlers(e)}render(){return r.createElement(f.Z,Object.assign({ref:this.props.forwardedRef},this.props,{onClick:this.onClick,onDoubleClick:this.onDoubleClick,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp}))}}S.propTypes={forwardedRef:i().object,children:i().oneOfType([i().element,i().array,i().string]).isRequired,onClick:i().func,onMouseDown:i().func,onMouseUp:i().func};const T=S,w="PopupTrigger",O=e=>`popup-trigger-${e}`,_=(0,a.P1)(u._W,((e,t)=>t.popupId),((e,t)=>({isPopupOpen:e.has(t)}))),R=e=>{const{children:t,popupId:n,className:o,isPopupOpen:i,preventFocus:s,enableDoubleClick:a,closeSection:l,onToggle:u,onClick:m,stayActivePredicate:p,dispatchTogglePopup:h,dispatchClosePopupsInSection:g,disableToggleClose:f,disabled:E=!1,forwardedRef:v}=e,b=(0,r.useRef)(),y=(0,d.Z)(i),I=e=>{b.current&&(b.current=!1,l&&g({section:l,popupId:n}),i&&f||h({popupId:n,stayActivePredicate:p}),u&&u(!i,e))};return(0,r.useEffect)((()=>{!!y!==i&&u&&u(i)}),[i]),r.createElement(T,{forwardedRef:v,className:c()(w,`popup-trigger-${n} maintain-enabled-styling`,o),disabled:E,onClick:m,onMouseDown:e=>{b.current=!0,s&&e.preventDefault()},onMouseUp:a?null:I,onDoubleClick:a?I:null},t(i))};R.propTypes={popupId:i().string.isRequired,children:i().func.isRequired,stayActivePredicate:i().func,className:i().string,isPopupOpen:i().bool,dispatchTogglePopup:i().func,onToggle:i().func,onClick:i().func,dispatchClosePopupsInSection:i().func,closeSection:i().string,enableDoubleClick:i().bool,preventFocus:i().bool,disableToggleClose:i().bool,disabled:i().bool,forwardedRef:i().object};const A=(0,s.$j)(_,(e=>({dispatchTogglePopup:({popupId:t,stayActivePredicate:n})=>e((0,m.zI)(t,n)),dispatchClosePopupsInSection:({section:t,popupId:n})=>e((0,m.Dd)({section:t,excludedIds:[n]}))})))(R)},60434:(e,t,n)=>{"use strict";n.d(t,{Dd:()=>f,Mw:()=>m,Pd:()=>g,j4:()=>p,sj:()=>v,zI:()=>E});var r=n(17351),o=n.n(r),i=n(15886),s=n.n(i),a=n(19690),l=n(43831),c=n(69129),d=n(12265);const u=(e,t)=>t.type===d.nv,m=(e,t=u)=>({type:c.HR,popupId:e,predicateFn:t}),p=(e,t=!0)=>({type:c.AV,popupId:e,closeAll:t}),h=e=>({type:c.AV,popupIds:e}),g=()=>(e,t)=>{const n=t(),r=(0,a._W)(n);r&&r.size&&e(p("",!0))},f=({section:e,excludedIds:t=[]})=>(n,r)=>{let i=c.vb[e];if((0,l.xb)(i))return;const d=r(),u=(0,a._W)(d).keySeq().toArray();i=o()(s()(u,i),t),(0,l.xb)(i)||n(h(i))},E=(e,t=u)=>({type:c.SO,popupId:e,predicateFn:t}),v=({predicateFn:e})=>(t,n)=>{const r=n(),o=(0,a._W)(r).keySeq().toArray().filter(e);(0,l.xb)(o)||t(h(o))}},69129:(e,t,n)=>{"use strict";n.d(t,{AV:()=>o,HR:()=>r,K2:()=>l,SO:()=>i,VH:()=>s,kZ:()=>a,vb:()=>c});const r="POPUP_OPEN",o="POPUP_CLOSE",i="POPUP_TOGGLE",s={none:"none",top:"top",bottom:"bottom",left:"left",right:"right"};let a,l;!function(e){e.INTERNAL="INTERNAL",e.HEADER="HEADER",e.TOOLBAR="TOOLBAR",e.MODAL_HEADER="MODAL_HEADER"}(a||(a={})),function(e){e.ADD_USERS_ADDITIONAL="add-users-additional",e.USER="user",e.BILLING_ALERT="billing-alert",e.ELECTRON_UPDATE_REQUIRED="electronUpdateRequired",e.SEARCH="search",e.EXPORT="export",e.HELP="help",e.NOTIFICATIONS="notifications",e.PUSH_SUGGESTION="push-suggestion",e.QUICK_NOTES="quickNotes",e.ELEMENT_CREATE="element-create",e.MORE="more",e.FILE_UPLOAD="fileUpload",e.IMAGE="image",e.ALIGNMENT="alignment",e.DISTRIBUTE="distribute",e.COLOR="color",e.ICON="icon",e.HYPERLINK="hyperlink",e.EXPORT_DOCUMENT="export-document",e.REMOTE_USERS="remoteUsers",e.INSPIRATION="inspiration",e.NOTIFICATION="notification",e.GUEST_SETTINGS="guest-settings",e.IMAGE_SEARCH="image-search",e.TRASH="trash",e.CURRENT_BOARD_MENU="current-board-menu",e.HEADER_EDITORS="header-editors",e.SHARE_MODAL_EDITORS="share-modal-editors",e.PUBLISHED_VIEWERS="published-viewers",e.DARK_MODE_SUGGESTION="dark-mode-suggestion",e.TOOLBAR_ERROR_INFO="toolbar-error-info",e.COLOR_DISPLAY="color-display",e.LINE_WEIGHT="lineWeight",e.REACTION_TOOL="reaction-tool",e.BLOCK_STYLE="block-style",e.BREADCRUMB_TRUNCATE_MENU="breadcrumb-truncate-menu",e.VIEW="view",e.EXPORT_BOARD="export-board",e.AI_ASSISTANT="ai-assistant",e.FORMULA_DROPDOWN="formula-dropdown",e.CELL_TYPE="cell-type",e.TABLE_CELL_ALIGNMENT_TOOL="table-cell-alignment-tool",e.CELL_TYPE_FORMATTING_OPTIONS="cell-type-formatting-options",e.TABLE_DATE_TIME_PICKER="table-date-time-picker"}(l||(l={}));const c={[a.INTERNAL]:[l.ADD_USERS_ADDITIONAL],[a.HEADER]:[l.USER,l.BILLING_ALERT,l.ELECTRON_UPDATE_REQUIRED,l.SEARCH,l.EXPORT,l.HELP,l.NOTIFICATIONS,l.PUSH_SUGGESTION,l.QUICK_NOTES,l.VIEW],[a.TOOLBAR]:[l.ELEMENT_CREATE,l.MORE,l.FILE_UPLOAD,l.IMAGE,l.ALIGNMENT,l.DISTRIBUTE,l.COLOR,l.ICON,l.HYPERLINK],[a.MODAL_HEADER]:[l.EXPORT_DOCUMENT]}},19690:(e,t,n)=>{"use strict";n.d(t,{OH:()=>o,Z$:()=>a,ZP:()=>l,_W:()=>i,wg:()=>s});var r=n(22222);const o=e=>t=>t.getIn(["app","popup",e]),i=e=>e.getIn(["app","popup","active"]),s=e=>(0,r.P1)(i,(t=>t.has(e))),a=(0,r.P1)(((e,t)=>t.popupId),i,((e,t)=>t.has(e))),l=s},85180:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s);const l=r.forwardRef((function({children:e,className:t,scrollable:n},o){return r.createElement("div",{ref:o,className:a()("PopupModeContent",t,{scrollable:n})},r.createElement("div",null,e))}));l.propTypes={children:i().oneOfType([i().arrayOf(i().node),i().node]),className:i().string,scrollable:i().bool};const c=l},55404:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s),l=n(54688),c=n(13292);const d=(0,l.CA)({handleButtonClick:({setMode:e,mode:t})=>n=>{n.preventDefault(),t.disabled||e({mode:t.slug})}}),u=({mode:e,popupMode:t,handleButtonClick:n})=>r.createElement(c.Z,{onClickFn:n,disabled:e.disabled,className:a()("PopupModeMenuButton",{active:e.slug===t,disabled:e.disabled})},r.createElement("span",{className:"title"},e.title));u.propTypes={mode:i().object,popupMode:i().string,handleButtonClick:i().func};const m=d(u);var p=n(77606),h=n.n(p),g=n(85263),f=n(34398);n(17692);function E(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends r.Component{constructor(e){super(e),E(this,"handleSubmit",(e=>{const{submitSearch:t,clearSearchOnSubmit:n=!0}=this.props;e.preventDefault(),(0,g.T)()?this.blurInput():this.focusInput(),t&&t(this.state.search),n&&this.setState({search:""})})),E(this,"handleChange",(e=>{const{handleSearchChange:t}=this.props,n=e.target.value;this.setState({search:n}),t&&t(n)})),E(this,"onClear",(()=>{const{handleSearchChange:e}=this.props;this.setState({search:""}),e&&e(""),this.focusInput()})),E(this,"onClearMouseDown",(()=>{this.focusInput(),this.setState({forceActive:!0}),document.addEventListener("mouseup",this.onClearMouseUp)})),E(this,"onClearMouseUp",(()=>{document.removeEventListener("mouseup",this.onClearMouseUp),this.mounted&&this.setState({forceActive:!1})})),E(this,"focusInput",(()=>{this.inputRef.current&&this.inputRef.current.focus()})),E(this,"blurInput",(()=>{this.inputRef.current&&this.inputRef.current.blur()})),this.state={search:"",forceActive:!1},this.inputRef=r.createRef()}componentDidMount(){requestAnimationFrame((()=>{(0,g.T)()||this.mounted&&this.focusInput()})),this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const{forceActive:e,search:t}=this.state;return r.createElement("div",{className:"PopupModeMenuSearchForm"},r.createElement("form",{onSubmit:this.handleSubmit},r.createElement("input",{ref:this.inputRef,className:a()("PopupTextInput","PopupModeMenuSearchForm",{active:e}),placeholder:this.props.searchPlaceholder,enterkeyhint:"Search",value:t,onChange:this.handleChange}),r.createElement(f.Z,{show:!0,canClear:!h()(t),onMouseDown:this.onClearMouseDown,onClick:this.onClear})))}}v.propTypes={submitSearch:i().func,handleSearchChange:i().func,clearSearchOnSubmit:i().bool,selectedElements:i().object,searchPlaceholder:i().string};const b=["Component"];const y=e=>r.createElement("div",{className:"PopupModeMenu"},r.createElement("ul",null,e.modeList.map(((t,n)=>{let{Component:o}=t,i=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,b);return r.createElement("li",{key:n},o?r.createElement(o,Object.assign({},e,{mode:i})):r.createElement(m,Object.assign({},e,{mode:i})))}))),r.createElement("div",{className:"tools"},e.tools,e.showSearch&&r.createElement(v,e)));y.propTypes={showSearch:i().bool,modeList:i().array,tools:i().oneOfType([i().arrayOf(i().node),i().node])};const I=y},39381:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(43831),o=n(90010);const i=[],s=e=>t=>!(!t||"object"!=typeof t)&&(e=>(0,r.vg)("blocks",e)||i)(t).some((t=>{return!!(n=t,(0,r.vg)("text",n)||"").match(e);var n})),a=e=>t=>t&&!!t.match(e),l=e=>t=>n=>{const r=e(n);return a(t)(r)};var c=n(75763),d=n(29144);const u=(0,r.vg)("text"),m=({queryRegEx:e,comments:t})=>n=>{const r=(0,c.s36)(n);return!(!r||!t)&&t.valueSeq().filter((e=>(0,d.s3)(e)===r)).some((e=>t=>s(e)(u(t)))(e))};var p=n(11111);const h=e=>t=>{const n=(0,c.KTp)(t),r=(0,c.A7z)(t),o=s(e);return r&&o(n)},g=l(c.YQ0),f=l(c.ncQ),E=({queryRegEx:e,comments:t})=>n=>{if((0,p.vu)(n))return!0;if((0,p.v8)(n)||(0,p.t3)(n)||(0,p.k8)(n))return g(e)(n);if(m({queryRegEx:e,comments:t})(n))return!0;if((0,p.F_)(n)||(0,p.qk)(n)){const t=(0,c.FBA)(n);return g(e)(n)||h(e)(n)||s(e)(t)}if((0,p.Or)(n)){const t=(0,c.JWl)(n);return h(e)(n)||(e=>t=>!!t&&!!t.join().match(e))(e)(t)}if((0,p.u$)(n)){const t=(0,c.UwW)(n);return f(e)(n)||a(e)(t)||h(e)(n)}if((0,p.zE)(n)){const t=(0,c.vt7)(n);return g(e)(n)||a(e)(t)||h(e)(n)}if((0,p.N2)(n)){const t=(0,c.FBA)(n);return s(e)(t)}if((0,p.P7)(n)){const t=(0,c.AU0)(n)?(0,c.Wt9)(n):null;return a(e)(t)}if((0,p.Se)(n)||(0,p.k5)(n))return h(e)(n);if((0,p.wb)(n)){const t=(0,c.IrM)(n),i=(0,c.nRF)(n);return g(e)(n)||h(e)(n)||(e=>(t,n)=>{var i;if(!n)return!1;const s=(0,o.nM)(t);return null===(i=(0,r.su)(n))||void 0===i?void 0:i.some(((t,n)=>null==t?void 0:t.some(((t,r)=>{var o;return null==s||null===(o=s.getCopyableData(n,r))||void 0===o?void 0:o.match(e)}))))})(e)(i,t)}return!1}},22479:(e,t,n)=>{"use strict";n.d(t,{$A:()=>o,Mg:()=>l,UD:()=>i,Yl:()=>s,k2:()=>r,pf:()=>a});const r="ELEMENT_SEARCH_SUBMIT",o="ELEMENT_SEARCH_SUCCESS",i="ELEMENT_SEARCH_FAILURE",s="ELEMENT_SEARCH_CLEAR",a="ELEMENT_SEARCH_SET_QUERY",l=-1},21007:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294),o=n(45697),i=n.n(o);function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a extends r.Component{constructor(e){super(e),s(this,"handleFileSelection",(e=>{const{uploadFile:t,uploadMultipleFiles:n}=this.props;if(!t&&!n)return;if(!this.fileInputRef.current)return;const{files:r}=this.fileInputRef.current;return r.length?n?n(r):t(r[0]):void 0})),s(this,"click",(()=>{this.fileInputRef.current&&this.fileInputRef.current.click()})),this.fileInputRef=r.createRef()}render(){const{id:e,accept:t="image/*",multiple:n}=this.props;return r.createElement("input",{className:"FileInput",type:"file",accept:t,multiple:n,name:`file-input-${e}`,id:`file-input-${e}`,ref:this.fileInputRef,onChange:this.handleFileSelection})}}a.propTypes={id:i().string.isRequired,uploadFile:i().func,uploadMultipleFiles:i().func,accept:i().string,multiple:i().bool};const l=a},86937:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u,g:()=>l});var r=n(77606),o=n.n(r),i=n(84785),s=n(42166),a=n(73935);const l=(e,t,n)=>{const{uploadMultipleFiles:r,uploadFile:i,transactionId:s}=e,{files:l}=t.getItem();if(o()(l))return;if(r){const e=r(l,s);return{handledBy:a.findDOMNode(n),uploadPromise:e}}const c=t.getItem().files&&t.getItem().files[0];if(c&&i){const e=i(c,s);return{handledBy:a.findDOMNode(n),uploadPromise:e}}},c={drop:l},d=(e,t)=>({connectFileDropTarget:e.dropTarget(),fileIsHovered:t.canDrop()&&t.isOver(),fileCanDrop:t.canDrop()}),u=(e,t)=>{const n=t||d,r=Object.assign({},c,e);return(0,i.DropTarget)(s.FILE,r,n)}},57390:(e,t,n)=>{"use strict";n.d(t,{Z:()=>oe});var r=n(52151),o=n.n(r),i=n(67294),s=n(45697),a=n.n(s),l=n(73935),c=n(94184),d=n.n(c),u=n(37974),m=n(42981),p=n.n(m),h=n(9300),g=n(7923),f=n(77875),E=n(41013);const v={top:0,left:0,rotate:0,side:f.as.TOP},b=(0,g.rI)({left:10,right:10,top:20,bottom:20}),y=(e,t)=>e/2-t/2,I=(e,t,n)=>p()(n.left,e.width+e.left-t.width-n.right),C=(e,t,n)=>p()(n.top,e.height+e.top-t.height-n.bottom),S=(e,t,n,r,o)=>{const{gridSize:i=E.HR.LARGE.size,insets:s=b}=r,a=o(r),l=(0,h.RK)(a,i);return C(n,t,s)(e.top+y(e.height,t.height)+l+n.top)},T=(e,t,n,r,o)=>{const{alignment:i}=r;switch(i){case f.UV.START:return((e,t,n,r,o)=>{const{gridSize:i=E.HR.LARGE.size,insets:s=b}=r;if(t.height>n.height+n.top-(s.top+s.bottom))return S(e,t,n,r,o);const a=o(r),l=(0,h.RK)(a,i),c=e.top-2*i+l+n.top,d=c+t.height+s.bottom-n.height-n.top;return d>0?p()(s.top,c-d-s.bottom,1/0):c})(e,t,n,r,o);case f.UV.END:return((e,t,n,r,o)=>{const{gridSize:i=E.HR.LARGE.size,insets:s=b}=r;if(t.height>n.height+n.top-(s.top+s.bottom))return S(e,t,n,r,o);const a=o(r),l=(0,h.RK)(a,i),c=e.bottom+2*i-l-t.height+n.top;return p()(s.top,c,1/0)})(e,t,n,r,o);default:return S(e,t,n,r,o)}},w=(e,t,n,r,o)=>{const{gridSize:i=E.HR.LARGE.size,insets:s=b}=r,a=o(r),l=(0,h.RK)(a,i);return I(n,t,s)(e.left+y(e.width,t.width)-l)},O=(e,t,n,r,o)=>{const{alignment:i}=r;switch(i){case f.UV.START:return((e,t,n,r,o)=>{const{gridSize:i=E.HR.LARGE.size,insets:s=b}=r;if(t.width>n.width-(s.left+s.right))return w(e,t,n,r,o);const a=o(r),l=(0,h.RK)(a,i),c=e.left-2*i+l,d=c+t.width+s.right-n.width;return d>0?p()(s.left,c-d-s.right,1/0):c})(e,t,n,r,o);case f.UV.END:return((e,t,n,r,o)=>{const{gridSize:i=E.HR.LARGE.size,insets:s=b}=r;if(t.width>n.width-2*(s.left+s.right))return w(e,t,n,r,o);const a=o(r),l=(0,h.RK)(a,i),c=e.right+2*i-l-t.width;return p()(s.left,c,1/0)})(e,t,n,r,o);default:return w(e,t,n,r,o)}},_=(e,t,n,r)=>(o,i,s,a)=>{const l=t(o,i,s,a,n),c=e(o,i,s,a,r);return{x:c,y:l,top:l,left:c,right:c+i.width,bottom:l+i.height,width:i.width,height:i.height}},R=e=>e.distance||0===e.distance?e.distance:10,A=e=>e.offset||0,D=e=>{const{gridSize:t=E.HR.LARGE.size}=e;return(0,h.RK)(R(e),t)},N=_(w,S,R,A),x=_(((e,t,n,r,o)=>{const{gridSize:i=E.HR.LARGE.size,insets:s=b}=r,a=o(r),l=(0,h.RK)(a,i);return I(n,t,s)(e.left-t.width-l)}),T,A,R),M=_(((e,t,n,r,o)=>{const{gridSize:i=E.HR.LARGE.size,insets:s=b}=r,a=o(r),l=(0,h.RK)(a,i);return I(n,t,s)(e.right+l)}),T,A,R),P=_(O,((e,t,n,r,o)=>{const{gridSize:i=E.HR.LARGE.size,insets:s=b}=r,a=o(r),l=(0,h.RK)(a,i);return C(n,t,s)(e.bottom+n.top+l)}),R,A),L=_(O,((e,t,n,r,o)=>{const{gridSize:i=E.HR.LARGE.size,insets:s=b}=r,a=o(r),l=(0,h.RK)(a,i);return C(n,t,s)(e.top+n.top-t.height-l)}),R,A),k=(e,t,n)=>(r,o,i,s)=>{const a=e(r,o,i,s);return n(a,r,i,s)?t(r,o,i,s):a},F=(e,t,n,r)=>e.right>t.left-D(r),B=(e,t,n,r)=>e.left-D(r)<t.right,j=(e,t,n,r)=>e.top-D(r)<t.bottom,z=(e,t,n,r)=>e.bottom>t.top-D(r),U=(e,t,n={})=>{const{position:r=f.as.BOTTOM}=n;if(!e)return{x:f.mz.left,y:f.mz.top,right:f.mz.left,bottom:f.mz.top,left:f.mz.left,top:f.mz.top,width:0,height:0};const o={x:window.scrollX,y:window.scrollY,top:window.scrollY,left:window.scrollX,right:window.innerWidth+window.scrollX,bottom:window.innerHeight+window.scrollY,width:window.innerWidth,height:window.innerHeight};return(e=>{switch(e){case f.as.CENTER:return N;case f.as.LEFT:return k(x,M,F);case f.as.RIGHT:return k(M,x,B);case f.as.BOTTOM:return k(P,L,j);case f.as.TOP:default:return k(L,P,z)}})(r)(e,t,o,n)};var H=n(75970),Z=n(13203),G=n(32002);const K=i.forwardRef((function(e,t){const{width:n,height:r,color:o,strokeWidth:s,strokeColor:a,style:l}=e;return i.createElement("div",{ref:t,className:"arrow",style:l},i.createElement("svg",{width:n,height:r,viewBox:`0 0 ${n} ${r}`,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:`M0 ${r} L${n/2} 0 L${n} ${r}`,fill:o,stroke:a,strokeWidth:s,fillRule:"evenodd"})))}));K.propTypes={width:a().number,height:a().number,color:a().string,strokeWidth:a().number,strokeColor:a().string,style:a().object};const W=K;var V=n(63422),$=n.n(V),q=n(94630),Y=n(35423);const X=({className:e,error:t})=>`Popup: ${e}\nError: ${t&&t.toString()}\nStack: ${$()("stack",t)}`,Q=e=>i.createElement("div",null,i.createElement(Y.Z,Object.assign({},e,{furtherMessage:" or opening and closing the popup.",className:"FloatingPanelErrorRenderer",heading:"Something went wrong",getErrorDetails:X}))),J=e=>{const{children:t}=e;return i.createElement(q.Z,{ErrorRenderer:Q,getErrorMessage:X},t)};J.propTypes={children:a().oneOfType([a().arrayOf(a().node),a().node])};const ee=J;var te;function ne(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let re=(0,u.$j)(null,(e=>({dispatchHideTooltip:()=>e((0,G.i)())})))(te=class extends i.Component{constructor(e){super(e),ne(this,"getTooltipPosition",(()=>{var e;if(!this.mounted)return;if(!this.isRendered){const e=(0,Z.r)();if(requestAnimationFrame(this.getTooltipPosition),!e)return;return this.forceUpdate()}this.props.pollPosition&&requestAnimationFrame(this.getTooltipPosition);const{selector:t,insets:n={top:0,left:0,right:0,bottom:0}}=this.props,r=o()(document.querySelectorAll(t)),{targetRect:i=r&&r.getBoundingClientRect(),relativeParentSelector:s}=this.props,a=s&&(null===(e=document.querySelector(s))||void 0===e?void 0:e.getBoundingClientRect()),l=a?(0,g.Yw)(a,i):i;if(!l||0===(0,H.b)(l))return this.tip.current.style.top=`${f.mz.top}px`,void(this.tip.current.style.left=`${f.mz.left}px`);const c=this.tip.current.getBoundingClientRect(),d=this.arrow.current&&this.arrow.current.getBoundingClientRect(),u=U(l,c,this.props);this.tip.current.style.top=`${u.top}px`,this.tip.current.style.left=`${u.left}px`;const m=window.innerHeight-n.top-n.bottom,p=window.innerWidth-n.left-n.right;if(this.tip.current.style.setProperty("--popup-available-height",`${m}px`),this.tip.current.style.setProperty("--popup-available-width",`${p}px`),!(({position:e})=>e!==f.as.CENTER)(this.props)&&this.arrow.current)return void(this.arrow.current.style.visiblity="hidden");const b=((e,t,n,r={})=>{if(!e||!t)return v;const{offset:o=0,gridSize:i=E.HR.LARGE.size}=r,s=window.scrollY,a=window.scrollX,l=(window.innerWidth,window.innerHeight,(0,h.RK)(o,i));return t.left>e.right?{top:e.top-t.top+y(e.height,n.height)+l+s,left:2-n.height,rotate:270,side:f.as.RIGHT}:t.right<e.left?{top:e.top-t.top+y(e.height,n.height)+l+l+s,left:t.width-2,rotate:90,side:f.as.LEFT}:t.bottom>e.top?{top:-n.height,left:e.left-t.left+y(e.width,n.width)-l+a,rotate:0,side:f.as.BOTTOM}:{top:t.height-2,left:e.left-t.left+y(e.width,n.width)+l+a,rotate:180,side:f.as.TOP}})(l,u,d,this.props);this.arrow.current.style.top=`${b.top}px`,this.arrow.current.style.left=`${b.left}px`,this.arrow.current.style.transform=`rotate(${b.rotate}deg)`,this.props.arrowStyle&&this.props.arrowStyle.transform&&(this.arrow.current.style.transform=`${this.arrow.current.style.transform} ${this.props.arrowStyle.transform}`),this.arrow.current.style.visiblity="visible",this.tip.current.classList.add(b.side)})),ne(this,"showTooltip",(()=>{this.setState({hide:!1})})),ne(this,"hideTooltip",(()=>{this.props.dispatchHideTooltip()})),this.isRendered=!1,this.hideTooltipDelay=null,this.showTooltipDelay=null,this.state={hide:!1},this.tip=i.createRef(),this.arrow=i.createRef()}componentWillMount(){document.addEventListener("click",this.hideTooltip,!0);const{delay:e=0,duration:t,dispatchHideTooltip:n}=this.props;if(e&&(this.setState({hide:!0}),this.showTooltipDelay=setTimeout((()=>this.showTooltip()),e)),t){const r=t+e;this.hideTooltipDelay=setTimeout((()=>n()),r)}}componentDidMount(){this.mounted=!0,this.getTooltipPosition()}componentDidUpdate(e){this.props.pollPosition||e.selector===this.props.selector||this.getTooltipPosition()}componentWillUnmount(){this.mounted=!1,clearTimeout(this.hideTooltipDelay),clearTimeout(this.showTooltipDelay),document.removeEventListener("click",this.hideTooltip,!0)}render(){const{children:e,className:t,style:n,arrowColor:r="var(--arrow-color)",arrowStrokeColor:o="var(--arrow-stroke-color)",arrowWidth:s=9,arrowHeight:a=7,arrowStrokeWidth:c=1,responsive:u,onMouseDown:m,onClick:p,mountPointSelector:h}=this.props,g=Object.assign({},f.mz,n),E=Object.assign({},this.props.arrowStyle,{position:"absolute",width:s,height:a}),v=i.createElement("div",{ref:this.tip,className:d()("FloatingPanel",t,{hide:this.state.hide,responsive:u}),onMouseDown:m,onClick:p,style:g},i.createElement(W,{ref:this.arrow,width:s,height:a,color:r,strokeColor:o,strokeWidth:c,style:E}),i.createElement("div",{className:"content"},i.createElement(ee,this.props,e))),b=(0,Z.r)(h);return b?(this.isRendered=!0,(0,l.createPortal)(v,b)):null}})||te;re.propTypes={responsive:a().bool,selector:a().string,mountPointSelector:a().string,relativeParentSelector:a().string,delay:a().number,offset:a().number,duration:a().number,className:a().string,arrowColor:a().string,arrowStrokeColor:a().string,arrowWidth:a().number,arrowHeight:a().number,arrowStrokeWidth:a().number,arrowStyle:a().object,targetRect:a().object,style:a().object,insets:a().object,position:a().string,alignment:a().string,pollPosition:a().bool,children:a().oneOfType([a().arrayOf(a().node),a().node]),dispatchHideTooltip:a().func,onMouseDown:a().func,onClick:a().func};const oe=re},41563:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(94184),l=n.n(a),c=n(63291),d=n(28644),u=n(32002),m=n(19092),p=n(77875);function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=(0,d.FB)("enabled");class f extends r.Component{constructor(...e){super(...e),h(this,"showToolTip",(e=>{const{enabled:t,tooltipActive:n,tooltipActiveTimestamp:r,tooltipText:o,shortcut:i,position:s,distance:a,offset:l,arrowOffset:c,className:d,duration:u,delay:h,fade:g,getTargetRectFn:f,pollPosition:E}=this.props;if(!t)return;const v=n&&(0,m.u3)()>=r;this.props.dispatchOpenTooltip({fade:g,tooltip:{selector:`#${this.state.tooltipId}`,text:o,shortcut:i,position:s||p.as.BOTTOM,distance:a,offset:l,duration:u,arrowOffset:c,className:`Tooltip small ${d}`,delay:v||!h?0:h,targetRect:f&&f(),pollPosition:E}})})),h(this,"hideTooltip",(()=>{const{dispatchHideTooltip:e,tooltipActive:t}=this.props;t&&e()}))}componentWillMount(){this.setState({tooltipId:`tip-${(0,c.Z)(6)}`})}componentWillReceiveProps(e){g(this.props,e)&&e.tooltipActive&&this.hideTooltip()}render(){const{children:e,className:t,triggerOnMouseEnter:n,keepOnMouseLeave:o,triggerOnClick:i,triggerOnDrag:s,tooltipActive:a}=this.props,{tooltipId:c}=this.state;return r.createElement("div",{className:l()("TooltipSource",t),id:c,draggable:!0,onClick:i&&this.showToolTip,onMouseDown:a?this.hideTooltip:null,onMouseEnter:n&&this.showToolTip,onMouseLeave:n&&!o?this.hideTooltip:null,onScroll:this.hideTooltip,onDragStart:s?this.showToolTip:this.hideTooltip},e)}}f.propTypes={tooltipId:i().string,enabled:i().bool,className:i().string,tooltipText:i().oneOfType([i().element,i().array,i().string]),shortcut:i().array,position:i().string,delay:i().number,distance:i().number,offset:i().number,duration:i().number,arrowOffset:i().number,fade:i().bool,tooltipActive:i().bool,tooltipActiveTimestamp:i().number,triggerOnMouseEnter:i().bool,keepOnMouseLeave:i().bool,triggerOnClick:i().bool,triggerOnDrag:i().bool,pollPosition:i().bool,children:i().node,getTargetRectFn:i().func,dispatchOpenTooltip:i().func,dispatchHideTooltip:i().func};const E=(0,s.$j)((e=>({tooltipActive:!!e.getIn(["app","tooltip","content"]),tooltipActiveTimestamp:e.getIn(["app","tooltip","activeTimestamp"])})),(e=>({dispatchOpenTooltip:({tooltip:t,fade:n})=>e((0,u.h)({tooltip:t,fade:n})),dispatchHideTooltip:()=>e((0,u.i)())})))(f)},13203:(e,t,n)=>{"use strict";n.d(t,{r:()=>r});const r=e=>e&&document.querySelector(e)||document.querySelector("#app .FullScreenModal .modal-positioner")||document.querySelector("#app .Workspace.workspace-ready")},32002:(e,t,n)=>{"use strict";n.d(t,{h:()=>i,i:()=>s});var r=n(19092),o=n(77875);const i=({tooltip:e,fade:t=!1})=>({type:o._$,tooltip:e,fade:t,activeTimestamp:(0,r.u3)()+((null==e?void 0:e.delay)||0)}),s=()=>({type:o.wE})},77875:(e,t,n)=>{"use strict";n.d(t,{UV:()=>a,_$:()=>r,as:()=>s,mz:()=>i,wE:()=>o});const r="TOOLTIP_SHOW",o="TOOLTIP_HIDE",i={top:-99999,left:-99999};let s,a;!function(e){e.TOP="top",e.BOTTOM="bottom",e.RIGHT="right",e.LEFT="left",e.CENTER="center"}(s||(s={})),function(e){e.START="start",e.CENTER="center",e.END="end"}(a||(a={}))},49965:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var r=n(60658),o=n(7923);const i=(e,t)=>(0,o.rI)({top:e*((0,r.jP)(t)?5.3:10),right:e,bottom:2*e,left:e})},96504:(e,t,n)=>{"use strict";n.d(t,{u:()=>Y,Z:()=>X});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s),l=n(37974),c=n(22222),d=n(54688),u=n(28644),m=n(90252),p=n(20354),h=n(22121),g=n(72522),f=n(19092),E=n(33853),v=n(29176);const b=["userResource","dispatchFetchUser"];function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const I=(0,u.X4)(["userResource","hasError"]),C=(0,u.i4)(["userResource","hasError"]),S=(0,u.XA)(["userResource","errorCount"]),T=()=>(0,c.zB)({userResource:(e,{user:t})=>t&&(0,g.Rf)(e,v.P6.users,(0,m.n5)(t))}),w=e=>({dispatchFetchUser:t=>e((0,h.uh)([t],!0))});var O=n(87701),_=n(81905),R=n(81248);const A=({attachment:e,user:t,sizePx:n,onImageLoadCb:o})=>r.createElement("div",{className:"AvatarImage"},r.createElement(_.Z,{imageType:R.v.AVATAR,imageDetails:(0,m.HK)(t),attachmentDetails:e,onImageLoadCb:o,widthPx:n,forcedSize:{width:n,height:n}}));A.propTypes={user:i().object.isRequired,sizePx:i().number,attachment:i().object,onImageLoadCb:i().func};const D=A;var N=n(99489),x=n(70555),M=n(66705);const P="guest",L="image",k="initials",F=e=>`avatar-color-${(0,M.dr)((0,x.zv)(e))%8}`;var B=r.createElement("span",{className:"GuestAvatar"},r.createElement(O.Z,{name:"user-guest"}));var j=r.createElement("div",{className:"avatar-contents"},r.createElement((()=>B),null));const z=({user:e,sizePx:t,attachment:n,onImageLoadCb:o})=>{const i=(({user:e,attachment:t})=>!e||(0,m.Ho)(e)||(0,m.kC)(e)?P:(0,m.HK)(e)||t&&t.size?L:(0,x.OD)(e)&&!(0,x.vz)(e)?P:k)({user:e,attachment:n});switch(i){case L:return r.createElement("div",{className:"avatar-contents"},r.createElement(D,{attachment:n,user:e,sizePx:t,onImageLoadCb:o}));case k:return r.createElement("div",{className:a()("avatar-contents",F(e))},r.createElement("span",{className:"initals"},(0,N.Qm)(e)));default:return j}};z.propTypes={type:i().string,user:i().object,active:i().bool,sizePx:i().number.isRequired,attachment:i().object,onImageLoadCb:i().func};const U=z;var H=n(43831),Z=n(9300),G=n(76906),K=n(48791);const W=(0,c.P1)(K.FP,((e,t)=>t.size),((e,t)=>({sizePx:Math.ceil((0,Z.RK)(t,e))}))),V=(0,l.$j)(W);var $=r.createElement(O.Z,{name:"notification-live"});const q=e=>{const{user:t,active:n,activeIndicator:o,sizePx:i,attachment:s}=e,l=(0,H.vg)("image",t)||s&&s.size,c=o?$:null;return r.createElement("div",{className:a()("UserAvatar",{active:n,"has-image":l}),style:(0,G.n)(i)},r.createElement(U,e),c)};q.propTypes={user:i().object,active:i().bool,activeIndicator:i().bool,size:i().number.isRequired,sizePx:i().number,attachment:i().object,onImageLoadCb:i().func};const Y=V(q),X=(0,d.qC)(V,(e=>{var t;let n=(0,l.$j)(T,w)(t=class extends r.Component{constructor(...e){super(...e),y(this,"reFetchOnMountIfNecessary",(e=>{const{userResource:t,dispatchFetchUser:n,user:r}=e;if(!t||!r)return;const o=null==t?void 0:t.errorTime,i=Date.now()-o;return(null==t?void 0:t.errorCount)>10?void 0:(null==t?void 0:t.errorCount)>3&&i>5*f.yu.MINUTE?n((0,m.n5)(r)):void this.reFetchUserIfNecessary(e)})),y(this,"reFetchUserIfNecessary",(e=>{const{userResource:t,dispatchFetchUser:n,user:r}=e;if(!t||!r)return;if(null!=t&&t.fetching)return;if(null==t||!t.hasError)return;if(4===(null==t?void 0:t.errorCount)){var o;const e=null==t||null===(o=t.error)||void 0===o?void 0:o.data;(0,p.vl)({errorMessage:"User failed to fetch 4 times",level:E.n.WARN,error:e,custom:{userId:(0,m.n5)(r)}})}if((null==t?void 0:t.errorCount)>3)return;const i=null==t?void 0:t.errorTime,s=Date.now()-i;if(!((null==t?void 0:t.errorCount)>1&&(!i||s<30*f.yu.SECOND)))return n((0,m.n5)(r));this.refetchTimeoutId=setTimeout((()=>{this.refetchTimeoutId=null,this.reFetchUserIfNecessary(e)}),30*f.yu.SECOND-(s||0)+10)}))}componentWillMount(){this.reFetchOnMountIfNecessary(this.props)}componentWillReceiveProps(e){(I(this.props,e)||C(this.props,e)&&S(this.props,e))&&this.reFetchUserIfNecessary(e)}componentWillUnmount(){this.refetchTimeoutId&&clearTimeout(this.refetchTimeoutId)}render(){const t=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(this.props,b);return r.createElement(e,t)}})||t;return n.propTypes={user:i().object,userResource:i().object,dispatchFetchUser:i().string},n}))(q)},76906:(e,t,n)=>{"use strict";n.d(t,{i:()=>l,n:()=>a});var r=n(88306),o=n.n(r),i=n(99489),s=n(90252);const a=o()((e=>({"--avatar-size":`${e}px`}))),l=(e,t)=>t&&(0,i.Gg)(e)&&(0,s.J_)(e)===t&&!(0,s.y$)(e)},17219:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(68071);const o=({children:e,fallback:t=null})=>(0,r.cE)()?t:e},44928:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(68356);const o=n.n(r)()({loader:()=>n.e(5585).then(n.bind(n,56428)),loading:()=>null})},72496:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(68356);const o=n.n(r)()({loader:()=>n.e(7419).then(n.bind(n,66177)),loading:()=>null})},16579:(e,t,n)=>{"use strict";n.d(t,{OH:()=>o,P2:()=>a,b2:()=>r,xR:()=>i,yX:()=>s});const r="COMPOSE_MODAL_CLOSED",o="COMPOSE_EMAIL_SET_EDITOR_STATE",i="COMPOSE_MODAL_ADD_AND_REMOVE_RECIPIENTS",s={invite:"invite",share:"share"},a={view:"view",edit:"edit",comment:"comment"}},48034:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(68356);const o=n.n(r)()({loader:()=>n.e(9920).then(n.bind(n,62393)),loading:()=>null})},28040:(e,t,n)=>{"use strict";n.d(t,{HJ:()=>i,fB:()=>s,i:()=>a});var r=n(71630),o=n(50335);const i=()=>((0,o.Cy)(),{type:r.LU}),s=()=>((0,o.Cy)(),{type:r.tm}),a=({enabled:e,toolName:t})=>({type:r.Xo,enabled:e,toolName:t})},71630:(e,t,n)=>{"use strict";n.d(t,{$O:()=>s,LU:()=>r,Xo:()=>o,qK:()=>c,tm:()=>i,tv:()=>a,yH:()=>l});const r="ENABLE_DEBUG_TOOLS",o="TOGGLE_DEBUG_TOOL",i="ENABLE_DEBUG_TOOLBAR",s="milanote.debug",a="milanote.debug.disableCache",l="milanote.debug.disableLocalCacheReset";let c;!function(e){e.GLOBAL="global",e.LOGS="logs",e.TOOLBAR="toolbar"}(c||(c={}))},50335:(e,t,n)=>{"use strict";n.d(t,{Bg:()=>b,Bq:()=>h,Cy:()=>u,HW:()=>g,Lq:()=>l,Od:()=>m,UL:()=>a,ZE:()=>f,pk:()=>p});var r=n(52353),o=n.n(r),i=n(69e3),s=n(71630);const a=()=>"true"===i.Z.getItem(s.tv),l=()=>"true"===i.Z.getItem(s.yH),c=e=>{const t=e===s.qK.GLOBAL?s.$O:`${s.$O}.${e}`,n=i.Z.getItem(t);if(null==n)return;if("true"===n)return!0;if("false"===n)return!1;const r=parseInt(n);return isNaN(r)?n:r};let d={};const u=(e=s.qK.GLOBAL)=>((e=s.qK.GLOBAL,t)=>{d[e]=t,d.global&&console.info("[debug] Settings updated:",d)})(e,!0),m=()=>!!d.global,p=e=>{const t=e.split(".");for(let n=t.length-1;n>=0;n--){const e=t.slice(0,n+1).join("."),r=d[e];if(!o()(r))return r}return m()},h=e=>!!d[e],g=(e=s.qK.GLOBAL)=>!!p(e),f=()=>d,E=()=>{const e=c(s.qK.GLOBAL);return!o()(e)&&e},v=`${s.$O}.`,b=()=>{const e=(()=>{const e={global:E()},t=Object.keys(i.Z);for(const n of t){if(!n.startsWith(v))continue;const t=n.replace(v,""),r=c(t);o()(r)||(e[t]=r)}return e})();(e=>{d=e,d.global&&console.info("[debug] Set debug settings:",d)})(e)}},49900:(e,t,n)=>{"use strict";n.d(t,{t:()=>o,v:()=>r});const r="DEBUG_TOOL_UPDATE",o={DRAWING:"drawing",LIVE_CURSOR:"liveCursor",ZOOM:"zoom"}},67557:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c,u:()=>l});var r=n(61277),o=n(19092),i=n(63291),s=n(69e3);const a="mdid",l=()=>s.Z.getItem(a),c=()=>{const e=l();if(e)return e;const t=`mdid-${(0,r.VN)((0,o.u3)())}${(0,i.Z)(5)}`;return(e=>{s.Z.setItem(a,e)})(t),t}},13260:(e,t,n)=>{"use strict";n.d(t,{M:()=>l});var r=n(63291),o=n(19092),i=n(61277);const s="msid";let a;const l=()=>{const e=a||(null!==(t=n.g.mnSession)&&void 0!==t&&t.sessionId?n.g.mnSession.sessionId:null!==(l=n.g.desktopIntegration)&&void 0!==l&&l.requestSessionIdSync?n.g.desktopIntegration.requestSessionIdSync():n.g.sessionStorage?n.g.sessionStorage.getItem(s):void 0);var t,l;if(a=e,e)return e;const c=`msid-${(0,i.VN)((0,o.u3)())}${(0,r.Z)(5)}`;return(e=>{n.g.sessionStorage&&n.g.sessionStorage.setItem(s,e),a=e})(c),c}},92918:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Le});var r=n(67294),o=n(45697),i=n.n(o),s=n(42393),a=n(81629),l=n.n(a),c=n(6557),d=n.n(c),u=n(73935),m=n(94184),p=n.n(m),h=n(37974),g=n(46408),f=n(54688),E=n(85491),v=n(89546),b=n(39702),y=n(5612),I=n(11111),C=n(68468),S=n(28644),T=n(57007),w=n(75763),O=n(8520),_=n(52432),R=n(51752),A=n(68071),D=n(8713),N=n(14415),x=n(48294),M=n(24194),P=n(73114),L=n(57819);class k extends r.Component{shouldComponentUpdate(e){return!e.animating}render(){return r.Children.only(this.props.children)}}k.propTypes={children:i().oneOfType([i().arrayOf(i().node),i().node]),animating:i().bool};const F=k;var B=n(6224),j=n(87447),z=n(90624),U=n(37407),H=n(18368),Z=n(81050),G=n(23680),K=n(47947);var W=n(80903),V=n(6304),$=n(34595);const q=["measureElementRef"];var Y,X,Q;function J(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ee=(0,S.FB)("isResizing");var te=r.createElement("div",null);let ne=(Y=(0,h.$j)(C.ZP,(e=>({dispatchUpdateElement:({id:t,changes:n,sync:r,analyticsEvent:o,transactionId:i})=>e((0,U.yj)({id:t,changes:n,sync:r,analyticsEvent:o,transactionId:i})),dispatchGetSelectedElementIds:()=>e(((e,t)=>(0,j.Sp)(t()))),dispatchHandleSelectionModeSelectElement:(t,n,r)=>e((0,K.b)(t,n,r)),dispatchStartEditingElement:({id:t,editorId:n,editorKey:r})=>e((0,G.TV)({id:t,editorId:n,editorKey:r})),dispatchStopEditing:t=>e((0,G.gR)(t)),dispatchShowGuestAppRegistrationForm:()=>e((0,H.Q)()),dispatchFocusElementStart:(t,n,r)=>{e((0,Z.EE)(t,n,r)),e((0,G.gR)(t))},dispatchGetPresentationModeIsFocusModeAllowed:()=>e(((e,t)=>(0,z.kh)(t())))}))),X=(0,f.CA)({stopEditing:({dispatchStopEditing:e,element:t})=>()=>t&&e((0,w.nRF)(t))}),Y(Q=(0,x.W)(Q=(0,N.h1)(Q=X(Q=(0,P.Z)(Q=(0,M.Z)(Q=(0,L.Z)(Q=(0,f.Le)(Q=class extends r.Component{constructor(e){super(e),J(this,"onMouseDown",(e=>{if(e.handled)return void(this.mouseDownFired=!1);(0,T.MO)(),this.mouseDownFired=!0,(0,E.B)(e);const{isRemotelySelected:t,isLocked:n,stopEditing:r,documentMode:o,isEditing:i,isEditingChild:s,isSelected:a,shouldFocusOnlyWhenSelected:l,element:c}=this.props;o||l&&n&&!a||(n&&!a&&this.selectThisElement(e),(0,I.k8)(c)&&s&&r(),!t&&i&&r())})),J(this,"onClick",(e=>{if(!this.mouseDownFired)return;this.mouseDownFired=!1;const{isLocked:t,shouldFocusOnlyWhenSelected:n}=this.props;!n&&t||this.preventClick||this.selectThisElement(e)})),J(this,"onContextMenu",(e=>{const{element:t,isLocked:n,isEditing:r,isSelected:o,isEditable:i,dispatchGetSelectedElementIds:s}=this.props;if(!this.mouseDownFired&&e.detail!==V.Xf)return;if(this.mouseDownFired=!1,r||!i||o||n||this.preventClick)return;e.preventDefault();s().includes((0,w.CKs)(t))||this.selectThisElement()})),J(this,"startEditing",(({editorId:e,editorKey:t})=>{const{element:n,isEditable:r,isRemotelyActive:o,dispatchStartEditingElement:i}=this.props,s=(0,A.uT)()===$.Q.IOS_CANVAS;!r||o||s||i({id:(0,w.nRF)(n),editorId:e,editorKey:t})})),J(this,"selectThisElement",(e=>{const{isFocusedForegroundElement:t,isRemotelyActive:n,element:r,permissions:o,getContextZoomScale:i,dispatchHandleSelectionModeSelectElement:s,dispatchShowGuestAppRegistrationForm:a,dispatchFocusElementStart:l,isPresentationModeEnabled:c,dispatchGetPresentationModeIsFocusModeAllowed:d}=this.props,u=(0,w.nRF)(r);if(c&&d()&&(0,O.NM)(r)&&!t&&e&&(0,b.Id)(e)&&!(0,R.lk)(e)){e&&e.stopPropagation(),e&&e.preventDefault();return void l(u,i(),function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(this.props,q))}if(!(0,I.pi)(r)&&(0,_.os)(o))return a();if(e&&e.stopPropagation(),n)return;return s(u,(0,y.M)(e))})),J(this,"elementEvents",{onMouseDown:this.onMouseDown,onClick:this.onClick,onDoubleClick:b.hE,onContextMenu:this.onContextMenu}),this.preventClick=!1}componentWillMount(){const{connectDragPreview:e}=this.props;e&&e((0,g.r)())}componentDidMount(){if(this.props.isSelected){const e=u.findDOMNode(this);(0,b.Sk)(e)||e.scrollIntoView({block:"nearest",inline:"nearest"})}}componentWillReceiveProps(e){ee(this.props,e)&&(this.preventClick=!0,l()((()=>{this.preventClick=!1})))}shouldComponentUpdate(e){return!e.animating||this.props.isDragging||e.isDragging}render(){const{element:e,elementLocalData:t,isDragging:n,isSelected:o,connectDragSource:i,dragModifierKeys:s,isResizing:a,animating:l,isClipboardCut:c,observerRootOptions:u,onVisibilityChange:m,renderPlaceholder:h,placeholderComponent:g,allowElementPlaceholder:f}=this.props;if(c)return null;const E=v.g6((0,w.BGE)(e));if(!E)return console.warn("Unable to find a display element for:",e),te;const b=s.get(W.nl.altKey),y=!(0,I.Iw)(e),C=b&&y?"copy":"move",S=p()("Element",{dragging:n&&!b,copy:y&&n&&b,resizing:a,hidden:(0,D.F9)(t)}),T=r.createElement("div",{ref:this.props.measureElementRef,className:S,"data-element-id":(0,w.nRF)(e)},r.createElement(B.Z,{domRef:this.props.measureElementRef,onVisibilityChange:m,enable:!(0,I.P7)(e),observerRootOptions:u,setContentVisibility:!f}),r.createElement(F,{animating:l},h?g:r.createElement(E,Object.assign({selectThisElement:this.selectThisElement,startEditing:this.startEditing,elementEvents:this.elementEvents},this.props))));return((0,P.p)(this.props)&&!(0,I.N2)(e)?i:d())(T,{dropEffect:C,delayTouchStart:o?0:300})}})||Q)||Q)||Q)||Q)||Q)||Q)||Q)||Q);ne.propTypes={element:i().object.isRequired,elementLocalData:i().object,elementId:i().string.isRequired,currentBoardId:i().string.isRequired,isRemotelyActive:i().bool,isFocusedForegroundElement:i().bool,isEditing:i().bool,isEditingChild:i().bool,isEditable:i().bool,isDraggable:i().bool,isSelected:i().bool,isSingleSelected:i().bool,isLocked:i().bool,isClipboardCut:i().bool,isOver:i().bool,isDragging:i().bool,isResizing:i().bool,isHovered:i().bool,isRemotelySelected:i().bool,shouldFocusOnlyWhenSelected:i().bool,permissions:i().number,remoteSelectionData:i().object,connectDropTarget:i().func,connectDragSource:i().func,connectDragPreview:i().func,dispatchHandleSelectionModeSelectElement:i().func,dispatchStartEditingElement:i().func,dispatchUpdateElement:i().func,dispatchStopEditing:i().func,stopEditing:i().func,documentMode:i().bool,dragModifierKeys:i().object,dispatchGetSelectedElementIds:i().func,animating:i().bool,dispatchShowGuestAppRegistrationForm:i().func,measureElementRef:i().object,isPresentationModeEnabled:i().bool,getContextZoomScale:i().func,dispatchFocusElementStart:i().func,dispatchGetPresentationModeIsFocusModeAllowed:i().func,observerRootOptions:i().object,onVisibilityChange:i().func,renderPlaceholder:i().bool,placeholderComponent:i().element,allowElementPlaceholder:i().bool};const re=ne;let oe=null;const ie=()=>(null!==oe||(oe=null!==n.g.document.querySelector("grammarly-desktop-integration")),oe),se=e=>"IndexSizeError"===(null==e?void 0:e.name)&&ie();var ae=n(46488),le=n.n(ae),ce=n(63422),de=n.n(ce),ue=n(22222),me=n(48791),pe=n(81897),he=n(91040),ge=n(35423),fe=n(27097),Ee=n(62061),ve=r.createElement("h3",null,"A Grammarly error occurred within this card"),be=r.createElement("p",null,"Grammarly is known to cause issues within Milanote.");const ye=e=>{const{dispatchRefreshPageAndClearLocalCache:t}=e;return r.createElement("div",{className:"ErrorRenderer ElementErrorRenderer GrammarlyErrorRenderer",onClick:b.hE,onDoubleClick:b.jb},r.createElement("div",{className:"error-message"},ve,r.createElement("div",{className:"refresh-message"},be,r.createElement("p",null,"If you're using the Grammarly browser extension, please try disabling it and"," ",r.createElement(fe.Z,{onClick:t},"refreshing the page"),"."))),r.createElement(Ee.Z,e))},Ie=({elementId:e,error:t})=>`Element ID: ${e}\nError: ${t&&t.toString()}\nStack: ${de()("stack",t)}`,Ce=e=>se(e.error)?r.createElement(ye,Object.assign({},e,{getErrorDetails:Ie})):r.createElement(ge.Z,Object.assign({},e,{className:"ElementErrorRenderer",heading:"Something went wrong within this card",getErrorDetails:Ie}));Ce.propTypes={elementId:i().string,error:i().object};const Se=(0,ue.zB)({gridSize:me.ZP,currentBoardId:pe.s4,permissions:he.UK,element:C.sb});let Te=e=>{const{connectDragSource:t,connectDragPreview:n,isDragging:o}=e;r.useEffect((()=>{n&&n((0,g.r)())}),[]);return(t||le())(r.createElement("div",{className:p()("ElementContainerErrorRenderer",{dragging:o})},r.createElement(Ce,e)))};const we=(0,f.qC)((0,h.$j)(Se),(0,h.$j)(C.ZP),P.Z);Te.propTypes={isDragging:i().bool,connectDragSource:i().func,connectDragPreview:i().func},Te=we(Te);const Oe=e=>e.isPresentational?r.createElement(Ce,e):r.createElement(Te,e);Oe.propTypes={isPresentational:i().bool};const _e=Oe;var Re=n(94630);const Ae=e=>se(e)?`Error rendering element: Grammarly error: ${e.toString()}`:`Error rendering element: ${e.toString()}`,De=(e,t,n)=>({elementId:n.elementId,stack:t.componentStack,hasGrammarly:ie()}),Ne=e=>r.createElement(Re.Z,Object.assign({},e,{doNotReport:e.isPresentational,ErrorRenderer:_e,getErrorMessage:Ae,getRollbarErrorDetails:De}));Ne.propTypes={elementId:i().string,isPresentational:i().bool,children:i().oneOfType([i().arrayOf(i().node),i().node])};const xe=Ne;var Me=n(2780);const Pe=r.memo((function(e){const t=(e=>e.isPreview?Me.Z:e.isPresentational?s.Z:re)(e);return r.createElement(xe,{elementId:e.elementId,isPresentational:e.isPresentational},r.createElement(t,e))}));Pe.propTypes={currentBoardId:i().string.isRequired,elementId:i().string,isPresentational:i().bool,isPreview:i().bool};const Le=Pe},6224:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),o=n(45697),i=n.n(o),s=n(26515);const a="0px",l=document.querySelector(".App"),c=e=>{const{domRef:t,enable:n,onVisibilityChange:o,observerRootOptions:i={},setContentVisibility:c}=e,d=r.useRef(null);return r.useEffect((()=>{if(!n)return;if(!window.IntersectionObserver)return;if(!t||!t.current)return;const e=()=>{t.current&&(c&&(t.current.style.contentVisibility=d.current?"visible":"auto"),null==o||o(!!d.current))},{root:r=l,rootMargin:u=a}=i,m=new IntersectionObserver((([t])=>{const{isIntersecting:n,boundingClientRect:r}=t;d.current=n,(r.width||r.height)&&(s.Z.getIsZooming()?s.Z.registerZoomEndSubscriber(e):e())}),{root:r,rootMargin:u});return m.observe(t.current),()=>{null==m||m.disconnect()}}),[]),null};c.propTypes={enable:i().bool,domRef:i().object,onVisibilityChange:i().func,observerRootOptions:i().object,setContentVisibility:i().bool};const d=c},42393:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s),l=n(89546),c=n(75763),d=r.createElement("div",null);const u=e=>{const{element:t,isDragging:n,dragOrigin:o,measureElementRef:i}=e,s=l.Pc((0,c.BGE)(t));if(!s)return console.warn("Unable to find a display element for:",t),d;const u=o?{transformOrigin:`${o.x}px ${o.y}px`}:null;return r.createElement("div",{ref:i,className:a()("Element",{dragging:n}),style:u},r.createElement(s,e))};u.propTypes={element:i().object.isRequired,isDragging:i().bool,gridSize:i().number.isRequired,documentMode:i().bool,dragOrigin:i().object,measureElementRef:i().object};const m=u},2780:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(24194),o=n(42393);const i=(0,n(14415).h1)((0,r.Z)(o.Z))},37407:(e,t,n)=>{"use strict";n.d(t,{Az:()=>de,C8:()=>le,GC:()=>pe,LJ:()=>ie,TK:()=>v.TK,Yn:()=>oe,Zk:()=>he,az:()=>ne,bc:()=>ae,dY:()=>v.dY,vU:()=>me,xH:()=>ee,xX:()=>re,yj:()=>ce});var r=n(32973),o=n.n(r),i=n(63422),s=n.n(i),a=n(94885),l=n.n(a),c=n(91175),d=n.n(c),u=n(81629),m=n.n(u),p=n(66445),h=n(60434),g=n(68624),f=n(95803),E=n(23680),v=n(10305),b=n(80275),y=n(68468),I=n(81410),C=n(49508),S=n(19690),T=n(10536),w=n(95372),O=n(62107),_=n(43831),R=n(11111),A=n(495),D=n(19092),N=n(60742),x=n(87447),M=n(24389),P=n(11581),L=n(90693),k=n(32752),F=n(78210),B=n(75763),j=n(60658),z=n(85263),U=n(78453),H=n(19495),Z=n(97245),G=n(72902),K=n(43236),W=n(56860),V=n(93776),$=n(69129);const q=["transactionId"],Y=["transactionId"],X=["changes","predicate"];function Q(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}const J=(e=1)=>({type:G.sG,count:e,sync:!1}),ee=(e={})=>(t,n)=>{const{_id:r}=e,o=n(),i=(0,T.g)(o),s=(0,T.q)(o),a=r||(0,P.Z)(i,s);return t(J()),a},te=(e,t,n,r)=>{if(s()(["position","score"],t))return t;const o=(0,C.pD)(e),i=(0,L.UF)({elements:r,elementGraph:o,parentId:n}).valueSeq().toJS(),a=(0,j.fX)(i),l=Object.assign({},t,{position:Object.assign({},t.position,{score:a+K.XL})}),{location:c}=(0,F.LO)({location:l});return c},ne=(e,t,n)=>(r,o,{measurementsStore:i})=>{const{elementType:s,content:a,attachment:l,location:c,duplicate:u,duplicatedId:m,creationSource:h,temp:g,sync:E=!0,markAsFetched:C=!0}=e,S=o(),T=(0,b.rc)(S),O=(0,I.s4)(S),_=(0,y.$3)(S),R=(0,D.u3)(),A=e.transactionId||(0,N.k)(),x=[{id:t,location:c}];x.map((0,M.YF)(r,o,{measurementsStore:i})(x));const P=c.section===W.WI.INBOX?d()(x)&&d()(x).location||c:te(S,c,O,_);return r((0,v.fK)({id:t,elementType:s,location:P,content:a,sync:E,timestamp:R,meta:{creator:T,modifiedBy:T,createdTime:R,modifiedTime:R,platform:(0,w.k)(),locationSectionModifiedTime:R},temp:g,transactionId:A,duplicate:u,duplicatedId:m,creationSource:h,markAsFetched:C})),r((0,p.NP)({location:c,transactionId:A})),l&&r((0,f.pD)({id:t,file:l,transactionId:A,attachmentData:n})),t},re=e=>(t,n,{measurementsStore:r})=>{const{elements:o,sync:i=!0,timestamp:s=(0,D.u3)(),markAsFetched:a=!1,transactionId:l=(0,N.k)()}=e;if(!o)return;const c=n(),d=(0,b.rc)(c),u=(0,I.s4)(c),m=(0,y.$3)(c),h=o.map((e=>({id:e.id,location:e.location})));h.map((0,M.YF)(t,n,{measurementsStore:r})(h));const f=h.map((e=>{var t;return(null===(t=e.location)||void 0===t?void 0:t.section)===W.WI.INBOX?e.location:te(c,e.location,u,m)})),E=o.map(((e,t)=>{var n,r,o,c,u;return Object.assign({},e,{id:e.id||e._id,location:f[t]||e.location,sync:void 0===e.sync?i:e.sync,timestamp:e.timestamp||s,markAsFetched:void 0===e.markAsFetched?a:e.markAsFetched,meta:Object.assign({},e.meta,{creator:(null===(n=e.meta)||void 0===n?void 0:n.creator)||d,modifiedBy:(null===(r=e.meta)||void 0===r?void 0:r.modifiedBy)||d,createdTime:(null===(o=e.meta)||void 0===o?void 0:o.createdTime)||s,modifiedTime:(null===(c=e.meta)||void 0===c?void 0:c.modifiedTime)||s,platform:(null===(u=e.meta)||void 0===u?void 0:u.platform)||(0,w.k)()}),transactionId:l})})),C=f.reduce(((e,t)=>e||((null==t?void 0:t.section)===W.WI.INBOX?t:null)),null);C&&t((0,p.NP)({location:C,transactionId:l})),t(J(E.length));const S=E.map(v.fK);return t((0,g.fS)({actions:S,transactionId:l}))},oe=e=>(t,n)=>{const{attachment:r}=e;r&&console.warn("An element is attempting to be created synchronously with an attachment.\nThis means the attachment will be shown after an empty element is created.");const o=t(ee(e));return t(ne(e,o))},ie=e=>async(t,n)=>{const{attachment:r}=e,o=t(ee(e)),i=r?await t((0,f.W1)({file:r,id:o})):null;return t(ne(e,o,i))},se=e=>(t,n)=>{e.transactionId=e.transactionId||(0,N.k)();const{transactionId:r,select:i=!0,edit:s=!0,selection:a,dispatchSaveEditorSelection:l}=e;return s&&U.bO(H.Lw.ELEMENT_CREATION,{elementType:e.elementType,creationSource:e.creationSource}),t(ie(e)).then((c=>{const d=n(),u=(0,y.$3)(d),p=(0,A.sb)(u,c);if(!p)return c;if(e.currentBoardId&&e.location.parentId!==e.currentBoardId){const t=(0,B.BGE)((0,A.sb)(u,e.location.parentId)),n=(0,b.Kw)(d),r=(0,S.ZP)($.K2.QUICK_NOTES)(d),o=n===e.location.parentId&&r;if((0,R.v8)(t)&&!o)return c}if(i&&t((0,E.uX)({ids:[c],transactionId:r})),(0,R.Or)(e))return c;const g=(0,O.s6)({element:p}),f=(0,O.iS)({element:p});if(a&&l&&l({editorId:g,selection:a}),s){if((0,R.Iw)(p)&&(0,j.N0)(p)){const e=`collapsed-comment-${c}`;t((0,h.zI)(e,o()))}(0,z.HM)()?t((0,E.TV)({id:c,editorId:g,editorKey:f,transactionId:r})):m()((()=>t((0,E.TV)({id:c,editorId:g,editorKey:f,transactionId:r}))))}return c}))},ae=se,le=e=>se(Object.assign({},e,{edit:!1})),ce=e=>{let{transactionId:t=(0,N.k)()}=e,n=Q(e,q);return(0,v.yj)(Object.assign({},n,{transactionId:t}))},de=e=>{let{transactionId:t=(0,N.k)()}=e,n=Q(e,Y);return(0,v.Az)(Object.assign({},n,{transactionId:t}))},ue=l()(R.ph),me=e=>{let{changes:t,predicate:n=ue}=e,r=Q(e,X);return(e,o)=>{const i=o(),s=(0,x.eD)(i).filter(n),a=(0,_.su)(s.map((e=>({id:(0,B.nRF)(e),changes:t}))));return e(de(Object.assign({updates:a},r)))}},pe=({id:e,location:t,changes:n,sync:r=!0,transactionId:o=(0,N.k)()})=>(i,s)=>i(Object.assign({type:Z.wh},(({id:e,location:t,getState:n})=>{const r=n(),o=(0,y.$3)(r),i=(0,A.sb)(o,e);return{id:e,location:t,from:(0,_.su)((0,B.qEr)(i))}})({id:e,location:t,getState:s}),{changes:n,sync:r,timestamp:(0,D.u3)(),transactionId:o})),he=e=>(t,n)=>{const{elementId:r,location:o,permissionId:i}=e,s=n(),a=(0,y.$3)(s),l=(0,A.sb)(a,r);if(!l||!(0,R.v8)(l))return;const c=(0,B.G8z)(l),d=(0,_.su)((0,B.qEr)(l));let u=o;u||(u=(0,j.Mc)(l)?Object.assign({},d,{position:{index:((0,_.P2)(["position","index"],l)||0)+1}}):Object.assign({},d,{position:{x:(0,_.P2)(["position","x"],d)+6,y:(0,_.P2)(["position","y"],d)+5}}));const m=Object.assign({},(0,k.c1)(l),{permissionId:i,linkTo:c,linkAlias:!0});return t(le({elementType:V.C,content:m,location:u}))}},36346:(e,t,n)=>{"use strict";n.d(t,{$_:()=>m,Ce:()=>u,e5:()=>l,h1:()=>c,qB:()=>d});var r=n(44908),o=n.n(r),i=n(7923),s=n(56860);const a=e=>e.section===s.WI.TRASH,l=({location:e})=>a(e),c=({from:e})=>a(e),d=({location:e,from:t})=>l({location:e})||c({from:t}),u=(e,t,n)=>{const r=n.get(e.id);if(!r)return[];const o=(0,i.rI)(r);return t.filter((e=>{if(!e.id)return!1;const t=n.get(e.id);if(!t)return!1;const r=(0,i.rI)(t);return(0,i.dI)(o,r)}))},m=(e,t,n)=>e.reduce(((e,r)=>{const i=u(r,t,n);return o()(e.concat(i))}),[])},24389:(e,t,n)=>{"use strict";n.d(t,{Zq:()=>se,Il:()=>le,YF:()=>ie});var r=n(77606),o=n.n(r),i=n(63422),s=n.n(i),a=n(23279),l=n.n(a),c=n(91175),d=n.n(c),u=n(36968),m=n.n(u),p=n(66604),h=n.n(p),g=n(7739),f=n.n(g),E=n(64721),v=n.n(E),b=n(77297),y=n(60742),I=n(43236),C=n(11111),S=n(60658),T=n(53106),w=n(495),O=n(88786),_=n(36346),R=n(90693),A=n(87447),D=n(75763),N=n(79900),x=n(30840),M=n(78210),P=n(80583),L=n(43831),k=n(10305),F=n(49508),B=n(68468),j=n(81188),z=n(81897),U=n(25926),H=n(66445),Z=n(44236),G=n.n(Z),K=n(37407),W=n(73440);var V=n(23680),$=n(83601),q=n(85264),Y=n(56860),X=n(36309),Q=n(97245);const J=e=>t=>(t.from=((e,t)=>(0,B.sb)(e,{elementId:t}).get("location").toJS())(e,t.id),t),ee=e=>`${e.location.parentId}.${e.location.position.index}`,te=e=>`${e.location.position.group}`,ne=(e,t)=>n=>{const{location:r}=n;if(null!=r.position.score)return!1;const o=null==t?void 0:t[r.parentId],i=e.get(r.parentId);return!(!i||(0,C.pi)(i)&&!(0,T.rD)(o))},re=(e,t,n)=>{const{location:r}=d()(t),o=((e,t,n)=>{const r=e(),o=d()(t),{section:i,parentId:a}=s()("location",o),l=(0,B.$3)(r),c=(0,F.pD)(r),u=(0,R.CB)({elements:l,elementGraph:c,parentId:a}).valueSeq().toJS();return i===Y.WI.INBOX?u.filter(S.Mc):(0,_.$_)(t,u,n)})(e,t,n).map(D.F7m).sort(O.bz);return(0,I.xU)(o,r.position.index,t.length)},oe=(e,t,{measurementsStore:n})=>r=>{const o=n.getState(),i=(0,U.gd)(o),s=t(),a=s.get("elements"),l=(0,j.Rg)(s),c=r.filter(ne(a,l)),u=r.every((e=>e.location.section===Y.WI.INBOX))?f()(c,ee):f()(c,te);return h()(u,(n=>{let r=re(t,n,i);return null==r&&(e((({parentId:e,section:t})=>({type:q.mH,parentId:e,section:t,sync:!0}))(d()(n).location)),r=re(t,n,i)||[]),{currentIndex:0,newScores:r}}))},ie=(e,t,{measurementsStore:n})=>r=>{const o=oe(e,t,{measurementsStore:n})(r),i=t(),s=i.get("elements"),a=(0,j.Rg)(i);return e=>{if(!ne(s,a)(e))return e;const t=e.location.section===Y.WI.INBOX?ee(e):te(e),n=o[t],{currentIndex:r=0,newScores:i=[]}=n;return m()(e,"location.position.score",i[r]),m()(n,"currentIndex",r+1),e}},se=({moves:e,sync:t=!0,transactionId:n=(0,y.k)(),moveOperation:r,initialMeasurements:o})=>(i,a,{measurementsStore:l})=>{const c=a();var d;if(!e.every((d=c,e=>{const t=(0,B.$3)(d);if(-1!==e.location.parentId.indexOf(e.id))return console.warn("Paradox: Unable to perform move as the element is being moved onto itself.",e),!1;const n=(0,w.jg)(t,e.location.parentId);if(v()(n,e.id))return console.warn("Paradox: Unable to perform move as the moved element exists in the location's ancestry.",e),!1;const r=(0,w.sb)(t,e.id),o=(0,S.CU)((0,D.CKs)(r)),i=(0,S.CU)(e.location.parentId),s=(0,N.XW)(d),a=(0,S.O3)(r)?X.Jo.FULL_ACCESS:(0,x.Yj)(t,o,s),l=(0,x.Yj)(t,i,s),c=(0,P.rS)(a,r),u=(0,P.rS)(l,r);return c&&u})))return void console.warn("Preventing moves as a paradox will occur.");let u=e.filter((e=>(t,n)=>{const{id:r,location:o}=t;if(!(0,B.sb)(e,{elementId:r}))return!1;if(o.section!==Y.WI.INBOX)return!0;const i=(0,B.$3)(e),s=(0,F.pD)(e),a=(0,R.uV)({elements:i,elementGraph:s,parentId:o.parentId,section:o.section}),l=o.position.index+n,c=a.get(l);return!c||(0,D.nRF)(c)!==r})(c)).map(ie(i,a,{measurementsStore:l})(e)).map(M.LO).map(J(c)).map(S.dY);u.length&&(u=i((0,$.rF)({moves:u})),i(k.Zq({moves:u,initialMeasurements:o,sync:t,transactionId:n,moveOperation:r})),i((0,H.ef)({moves:u,transactionId:n})),i((({moves:e,transactionId:t})=>(n,r)=>{const o=r(),i=(0,B.$3)(o),s=(0,F.pD)(o),a=e.reduce(((e,t)=>{const n=t.from.parentId,r=(0,w.sb)(i,n);return(0,C.k8)(r)&&e.push(n),e}),[]);G()(a).forEach((e=>{if(0===(0,R.CB)({elements:i,elementGraph:s,parentId:e}).size){const r=(0,S.mK)({listId:e});n((0,K.Yn)({elementType:W.A,location:r,select:!0,transactionId:t}))}}))})({moves:u,transactionId:n})),i((({moves:e,transactionId:t})=>(n,r)=>{const o=s()([0,"from","parentId"],e),i=s()([0,"location","parentId"],e);if(o===i)return;const a=r();if((0,z.s4)(a)===i)return;const l=(0,B.sb)(a,{elementId:i});(0,C.v8)(l)&&n((0,V.yJ)({transactionId:t}))})({moves:u,transactionId:n})))},ae=l()((({moves:e,moveOperation:t,dispatch:n})=>n(se({moves:e,moveOperation:t}))),500),le=({x:e=0,y:t=0,transactionId:n=(0,y.k)()})=>(r,i)=>{const s=i(),a=(0,A.eD)(s),l=a.filter((e=>!!(0,S.PY)(e)&&!(0,D.cOT)(e)));if(l.size<1||0===e&&0===t)return;const c=(0,L.qo)(a.map(D.nRF));let d=l;const u=(0,b.Ii)(a);if(!o()(u)){const e=(0,B.$3)(s);u.forEach((t=>{if(c.includes(t))return;const n=(0,w.sb)(e,t);n&&(d=d.push(n))}))}const m=d.map((n=>({id:(0,D.nRF)(n),location:Object.assign({},(0,D.qEr)(n).toJS(),{position:Object.assign({},(0,D.FX_)(n).toJS(),{x:(0,D.oNe)(n)+e,y:(0,D.uLQ)(n)+t})})}))).toArray();return m.length?(ae({moves:m,moveOperation:Q.Pm.NUDGE,dispatch:r}),r(se({moves:m,moveOperation:Q.Pm.NUDGE,sync:!1,transactionId:n}))):void 0}},47947:(e,t,n)=>{"use strict";n.d(t,{b:()=>I});var r=n(91966),o=n.n(r),i=n(12571),s=n.n(i),a=n(8804),l=n.n(a),c=n(25325),d=n.n(c),u=n(43831),m=n(495),p=n(60658),h=n(75763),g=n(68468),f=n(77299),E=n(87447),v=n(23680),b=n(15364);const y=(e,t)=>(n,r)=>{const o=r(),i=(0,g.$3)(o),s=(0,m.sb)(i,e),a=(0,h.CKs)(s),l=(0,p.Mc)(s)?{[a]:e}:null;return n((0,v.Fi)({ids:[e],rangeAnchors:l,transactionId:t}))},I=(e,t,n)=>(r,i)=>{switch(t){case b.o.SINGLE:return r(((e,t)=>(n,r)=>{const o=r(),i=(0,g.$3)(o),s=(0,m.sb)(i,e),a=(0,h.CKs)(s),l=(0,p.Mc)(s)?{[a]:e}:null;return n((0,v.uX)({ids:[e],rangeAnchors:l,transactionId:t}))})(e,n));case b.o.MULTIPLE:return r(y(e,n));case b.o.RANGE:return r(((e,t)=>(n,r)=>{const i=r(),a=(0,g.$3)(i),c=(0,m.sb)(a,e);if(!(0,p.Mc)(c))return n(y(e,t));const b=(0,h.CKs)(c),I=(0,f.P3)()(i,{elementId:b}),C=(0,u.qo)((0,E.Sp)(i)),S=d()(I,C),T=(0,E.q3)(i,{id:b})||l()(S);if(!T)return n(y(e,t));const w=I.indexOf(T),O=I.indexOf(e),_=Math.min(w,O),R=Math.max(w,O),A=s()(I,_,R+1),D=o()(S,A),N=o()(A,S);return n((0,v.wR)({ids:D,transactionId:t})),n((0,v.BH)({ids:N,rangeAnchors:null,transactionId:t}))})(e,n));default:return}}},73141:(e,t,n)=>{"use strict";n.d(t,{Q2:()=>$,fC:()=>W,i_:()=>q,np:()=>Q,pS:()=>Y});var r=n(8804),o=n.n(r),i=(n(41609),n(25325)),s=n.n(i),a=n(85564),l=n.n(a),c=n(44908),d=n.n(c),u=n(94885),m=n.n(u),p=n(43393),h=n(37407),g=n(24389),f=n(23680),E=n(10305),v=n(90354),b=n(68468),y=n(49508),I=n(4623),C=n(84929),S=n(91040),T=n(81410),w=n(25926),O=n(10048),_=n(43831),R=n(19092),A=n(75763),D=n(60658),N=n(95521),x=n(18260),M=n(87447),P=n(11111),L=n(60742),k=n(36346),F=n(80583),B=n(90693),j=n(495),z=n(56884),U=n(81396),H=n(1266),Z=n(26434),G=n(53976),K=n(97245);const W=e=>(t,n)=>{const{keepSelection:r=!1,elements:o,elementId:i,elementIds:a,currentBoardId:l,transactionId:c=(0,L.k)()}=e;if(!l)return void console.warn("Trying to delete elements without supplying a currentBoardId");const d=n(),u=(0,S.UK)(d);let h=o;if(!h&&a&&(h=p.List(a).map((e=>d.getIn(["elements",e])))),!h&&i&&(h=p.List([d.getIn(["elements",i])])),!h)return void console.warn("Trying to delete elements without supplying any IDs");if(h=h.filter((0,F.mN)(u)).filter(m()(A.cOT)),!(0,_.kE)(h))return;const E=(0,C.Ep)(d),v=(0,_.qo)(h.map(A.nRF));if(s()(E,v).length>0)return void console.warn("Attempting to delete elements trashed elements");!r&&t((0,f.yJ)({transactionId:c})),(0,x.Y)("moved-element-to-trash-delete-key");const b=(0,R.u3)(),y=(0,_.su)(h.map((e=>({id:(0,A.nRF)(e),location:(0,D.pO)({currentBoardId:l,addedDate:b})}))));return t((0,g.Zq)({moves:y,transactionId:c,moveOperation:K.Pm.TRASH})),c},V=e=>Object.assign({},e.location,{position:(0,D.Mc)(e)?Object.assign({},e.location.position,{order:e.location.order+1}):Object.assign({},e.location.position,{x:e.location.position.x+U.U0,y:e.location.position.y+U.aT})}),$=({shouldConvertAliasToBoard:e=!1}={})=>(t,n)=>{t((({elements:e,shouldConvertAliasToBoard:t=!1})=>(n,r)=>{const o=e.map((e=>Object.assign({},e,{location:V(e)})));n((0,v.sF)({duplications:o,shouldSelect:!0,shouldConvertAliasToBoard:t}))})({elements:(0,M.eD)(n()).toJS(),shouldConvertAliasToBoard:e}))},q=(e,t=(0,L.k)())=>(n,r)=>{if(!e||(0,P.vu)(e))return;if(!(0,P.JM)(e))return;const o=r(),i=(0,A.nRF)(e),s=(0,I.sY)(o,{elementId:i});if(!s)return;const a=(0,b.$3)(o),l=(0,j.sb)(a,s);l&&((0,z.dO)({eventType:Z.Xc.ELEMENT_CLONE,userProperties:{[G.YV.FEATURE]:{[G.x2.CLONED_CARD]:!0}}}),n((0,E.SS)({id:i,originalElementId:s,clonedElementType:(0,A.BGE)(l),transactionId:t})))},Y=()=>(e,t)=>{const n=(0,M.eD)(t()).toJS();1!==(0,_.kE)(n)&&O.Z.warn("Unable to clone multiple elements at the same time",n);return e((e=>(t,n)=>{if((0,P.vu)(e))return t($());const r=(0,L.k)(),o=(0,A.nRF)(e);(0,z.dO)({eventType:Z.Xc.ELEMENT_CLONE,userProperties:{[G.YV.FEATURE]:{[G.x2.CLONED_CARD]:!0}}}),t((0,h.yj)({id:o,changes:{hasClones:!0},transactionId:r})),t((0,h.Yn)({elementType:H.X,location:V(e),content:{linkTo:(0,A.nRF)(e),clonedElementType:(0,A.BGE)(e),displayMode:(0,A.olH)(e)},duplicate:!0,duplicatedId:o,transactionId:r}))})(o()(n)))},X=(e,t)=>{const n=[];return e.forEach((r=>{const o=(0,k.Ce)(r,e,t);if(!((e,t)=>-1!==l()(t).map((e=>e.id)).indexOf(e.id))(r,n))return n.push(o);n.forEach(((e,t)=>{-1!==e.map((e=>e.id)).indexOf(r.id)&&(n[t]=d()(e.concat(o)))}))})),n},Q=({increaseScore:e=!1},{measurementsDispatch:t})=>(n,r)=>{const o=t((0,w.hU)()),i=r(),s=(0,T.nv)(i),a=(0,M.eD)(i).toJS(),l=(0,b.$3)(i),c=(0,y.pD)(i),u=(0,B.CB)({elements:l,elementGraph:c,parentId:s}).valueSeq().toJS();if(!a.length)return;if(a.every(D.Mc))return;const m=X(a,o).reduce(((t,n,r)=>{const i=((e,t,n,r,o)=>{const i=e?t.reduce(((e,t)=>e?t.location.position.score>e.location.position.score?t:e:t),void 0):(e=>e.reduce(((e,t)=>e?t.location.position.score<e.location.position.score?t:e:t),void 0))(t),s=r.filter(D.PY),a=d()((0,k.$_)(t,s,o)),l=a.sort(N.qp).map(A.nRF),c=l.indexOf(i.id);if(a.length===t.length)return;if(e&&((e,t)=>e.every((n=>t.indexOf(n.id)>t.length-e.length-1)))(t,l))return;if(!e&&((e,t)=>e.every((n=>t.indexOf(n.id)<e.length)))(t,l))return;const u=e?c+2:c-1;return t.sort(N.qp).reduce(((e,t)=>(e.push({id:t.id,location:Object.assign({},t.location,{position:Object.assign({},t.location.position,{index:u,score:void 0,group:n})})}),e)),[])})(e,n,r,u,o);return i?t.concat(i):t}),[]);n((0,g.Zq)({moves:m,moveOperation:K.Pm.CHANGE_ORDER}))}},93853:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s);const l=e=>{const{children:t}=e,n=t&&String(t).length>1;return r.createElement("div",{className:a()("TextActivityIndicator",{wide:n})},r.createElement("div",{className:"text"},t))};l.propTypes={children:i().oneOfType([i().arrayOf(i().node),i().node])};const c=l},45271:(e,t,n)=>{"use strict";n.d(t,{C:()=>r});const r={SHARE:"SHARE",ADD:"ADD",UPDATE:"UPDATE",COMPLETE:"COMPLETE",MENTION:"MENTION",COMMENT:"COMMENT",CHANGE:"CHANGE",REACTION:"REACTION"}},70766:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(69937),o=n.n(r),i=n(54688),s=n(43831),a=n(22693),l=n(52411);const c=(0,i.qC)((0,i.vl)((e=>{const{poiData:t={},elementId:n,commentId:r}=e,i=Object.assign({count:1},t);n&&(i.elementId=n),r&&(i.commentId=r);const a=!!r,c=a?"commentActivity":"elementActivity";a&&(i.isCommentActivity=!0);const d=(0,s.P2)([c,"isElementChange"],e);return d&&(i.isElementChange=d),(a||d)&&(i.notificationId=o()((0,s.P2)([c,"notificationIds"],e))),{poiType:l.Ku.ACTIVITY,poiData:i}})),a.Z)},98433:(e,t,n)=>{"use strict";n.d(t,{wX:()=>B,pG:()=>U,UO:()=>z,wG:()=>F,Dc:()=>Z,fU:()=>G,tl:()=>K,Yz:()=>H});var r=n(44236),o=n.n(r),i=n(63422),s=n.n(i),a=n(77606),l=n.n(a),c=n(22222),d=n(43831),u=n(78327),m=n(68468),p=n(43393),h=n(19092),g=n(48055),f=n(81329),E=n(72102),v=n(45271);const b=(e,t)=>{if(!t)return e;const n=((e,t)=>t?t.type===v.C.SHARE?t:e.type===v.C.SHARE?e:t.type===v.C.MENTION?t:e.type===v.C.MENTION?e:t.type===v.C.ADD?t:e.type===v.C.ADD?e:t.type===v.C.COMPLETE?t:e.type===v.C.COMPLETE?e:{type:v.C.UPDATE,isElementChange:!0,actorIds:o()(((0,d.su)(e.actorIds)||[]).concat((0,d.su)(t.actorIds))),timestamp:Math.max(e.timestamp,t.timestamp)}:e)(e,t);return n.notificationIds=(e.notificationIds||[]).concat(t.notificationIds),n};var y=n(40102);const I=()=>({type:v.C.CHANGE,actorIds:p.List(),notificationIds:[],changeCount:0,timestamp:0}),C=({notificationId:e,activityMap:t,activityEntryId:n,actorIds:r,changeCount:o,timestamp:i})=>{let s=t[n]||I();return s.type!==v.C.CHANGE&&(s=I()),s.actorIds=s.actorIds.concat(r),s.changeCount+=o,s.timestamp=Math.max(s.timestamp,i),s.notificationIds.push(e),t[n]=s,t},S={Added:v.C.ADD,Updated:v.C.UPDATE},T=(e,t,n)=>{const r=(0,f.Xm)(t),i=(0,f.s)(t),a=(0,f.mL)(t),l=(0,f.OH)(t),c=(0,E.Qq)(t,n);if((0,d.xb)(c))return e;const u=c.length;e=C({activityMap:e,activityEntryId:i,actorIds:a,changeCount:u,timestamp:l,notificationId:r});const m=(0,f.QL)(t);return c.forEach((t=>{const n=m[t],{elementType:i,changes:a}=n,c=o()(null==a?void 0:a.map(s()("actorId"))),d=(({elementType:e,changes:t})=>{const n=(0,g.pO)({elementType:e,changes:t});return S[n]||v.C.COMPLETE})({elementType:i,changes:a}),u={type:d,isElementChange:!0,actorIds:c,timestamp:l,notificationIds:[r]};e[t]=b(u,e[t])})),e},w=(e,t,n)=>{switch((0,f.YU)(t)){case y.GT.SHARE:return((e,t)=>{const n=(0,f.Xm)(t),r=(0,f.s)(t),o=(0,f.mL)(t),i=(0,f.OH)(t),s={type:v.C.SHARE,actorIds:o,timestamp:i,notificationIds:[n]};return e[r]=b(s,e[r]),e})(e,t);case y.GT.MENTION:return((e,t)=>{const n=(0,f.Xm)(t),r=(0,f.s)(t),o=(0,f.mL)(t),i=(0,f.OH)(t),s=(0,f.K7)(t),a=(0,f.os)(t)||s;e=C({activityMap:e,activityEntryId:r,actorIds:o,changeCount:1,timestamp:i,notificationId:n});const l={type:v.C.MENTION,actorIds:o,timestamp:i,notificationIds:[n]};return e[a]=b(l,e[a]),e})(e,t);case y.GT.COMMENT:return((e,t,n)=>{const r=(0,f.Xm)(t),o=(0,f.s)(t),i=(0,f.mL)(t),s=(0,f.OH)(t),a=(0,E.$E)(t,n);if((0,d.xb)(a))return e;const l=(0,f.fW)(t);return e=C({activityMap:e,activityEntryId:o,actorIds:i,changeCount:a.length,timestamp:s,notificationId:r}),a.forEach((t=>{const n={type:v.C.COMMENT,actorIds:i,timestamp:s,isReply:l,notificationIds:[r]};e[t]=b(n,e[t])})),e})(e,t,n);case y.GT.REACTION:return((e,t,n)=>{const r=(0,f.Xm)(t),i=(0,f.s)(t),a=(0,f.OH)(t),l=(0,f.mL)(t),c=(0,E.Qq)(t,n);if((0,d.xb)(c))return e;e=C({activityMap:e,activityEntryId:i,actorIds:l,changeCount:c.length,timestamp:a,notificationId:r});const u=(0,f.QL)(t);return c.forEach((t=>{const n=u[t],{changes:i}=n,l=o()(null==i?void 0:i.map(s()("actorId"))),c={type:v.C.REACTION,isElementChange:!0,actorIds:l,timestamp:a,notificationIds:[r]};e[t]=b(c,e[t])})),e})(e,t,n);case y.GT.BOARD_UPDATE:case y.GT.BOARD_TASKS_UPDATE:return T(e,t,n);case y.GT.ASSIGNMENT:return((e,t)=>{const n=(0,f.Xm)(t),r=(0,f.s)(t),o=(0,f.mL)(t),i=(0,f.OH)(t),s=(0,f.bT)(t);if(!s)return e;const a=(0,d.kE)(s);return e=C({activityMap:e,activityEntryId:r,actorIds:o,changeCount:a,timestamp:i,notificationId:n}),s.forEach((t=>{const r=(0,f.hw)(t),s={type:v.C.UPDATE,actorIds:o,timestamp:i,notificationIds:[n]};e[r]=b(s,e[r])})),e})(e,t);case y.GT.BOARD_TASKS_REMINDER:return((e,t)=>{const n=(0,f.Xm)(t),r=(0,f.s)(t),o=(0,f.OH)(t),i=(0,f.Nc)(t);if(!i)return e;const s=(0,d.kE)(i);return e=C({activityMap:e,activityEntryId:r,changeCount:s,timestamp:o,notificationId:n}),i.forEach((t=>{const r=(0,f.AV)(t),i={type:v.C.UPDATE,timestamp:o,notificationIds:[n]};e[r]=b(i,e[r])})),e})(e,t);default:return e}};var O=n(48421);const _=(e,t)=>{const n=e||{actorIds:p.List(),notificationIds:[],changeCount:0,timestamp:0};if(n.type===v.C.SHARE&&t.type===v.C.SHARE)return n;const r=t.type===v.C.CHANGE?t.changeCount:1;return n.type=n.type?v.C.CHANGE:t.type,n.changeCount+=r,n.timestamp=Math.max(n.timestamp,t.timestamp),n.actorIds=n.actorIds.concat(t.actorIds),n.notificationIds=n.notificationIds.concat(t.notificationIds),n};var R=n(45438),A=n(80275),D=n(81410),N=n(51202),x=n(49508),M=n(10798),P=n(81897),L=n(39222),k=n(90624);const F=(0,u.hH)(R.Z,N.zu,D.s4,((e,t,n)=>(({notifications:e,viewedBoards:t,currentBoardId:n})=>{const r=(0,h.u3)(),o=t.get(n)||r;return e.reduce(((e,t)=>{if((0,f.OH)(t)<1544673527724)return e;const i=(0,f.P_)(t),s=(0,f.oC)(t),a=(0,f.s)(t);return a?i&&i<r-y.Xl||s&&(n!==a||s<o-5*h.yu.SECOND)?e:e=w(e,t,o):e}),{})})({notifications:e,viewedBoards:t,currentBoardId:n}))),B=(0,u.hH)(A.PN,F,x.gS,((e,t,n)=>(({boardActivity:e,fullVirtualBoardParentGraph:t})=>{const n=Object.keys(e),r=n.length,o={};for(let i=0;i<r;i++){const r=n[i];t[r]&&(0,O.Hj)(t,r).forEach((t=>{o[t]=_(o[t],e[r])}))}return o})({rootBoardId:e,boardActivity:t,fullVirtualBoardParentGraph:n}))),j=[],z=(0,u.y1)(D.s4,B,((e,t)=>{if(l()(t))return j;const n=s()("notificationIds",t[e]);return l()(n)?j:n})),U=(0,c.P1)(P.KN,x.B7,F,B,((e,t,n,r)=>{let o=0;return e.forEach((e=>{if(r[e])return void(o+=s()("changeCount",r[e])||1);if(n[e])return void(o+=s()("changeCount",n[e])||1);const i=t[e];i&&r[i]&&(o+=s()("changeCount",r[i])||1)})),o})),H=()=>(0,u.y1)(m.nR,F,k.li,((e,t,n)=>l()(t)||n?null:t[e])),Z=()=>(0,u.hH)(m.vu,B,k.li,((e,t,n)=>l()(t)||n?null:t[e])),G=()=>(0,u.hH)(M.jJ,((e,t)=>t._id),F,k.li,((e,t,n,r)=>e&&!r?n[t]:null)),K=()=>(0,u.hH)(M.jJ,(0,L.H2)(),F,k.li,((e,t,n,r)=>!e||r||0===t.length?null:t.reduce(((e,t)=>{const r=n[t];return r?e?{type:v.C.COMMENT,actorIds:o()(((0,d.su)(e.actorIds)||[]).concat((0,d.su)(r.actorIds))),timestamp:Math.max(e.timestamp,r.timestamp),isReply:e.isReply&&r.isReply,notificationIds:e.notificationIds.concat(r.notificationIds)}:r:e}),null)))},13500:(e,t,n)=>{"use strict";n.d(t,{S:()=>b,Z:()=>S});var r=n(7108),o=n.n(r),i=n(31736),s=n.n(i),a=n(43393),l=n(22222),c=n(78327),d=n(495),u=n(32752),m=n(68468),p=n(83547),h=n(75763),g=n(43831),f=n(91040),E=n(81188);const v=s()((e=>!!e)),b=(e,t)=>{const n=(0,g.su)(e),r=(0,h.L5g)(n),i=(0,g.su)((0,h.L5g)(t)),s=(0,u.V$)(e),l=o()(r.secondaryColor),c=Object.assign({},n,{content:Object.assign({},s,i,v(r),l&&{secondaryColor:null})});return a.fromJS(c)},y=()=>(0,l.P1)(m.sb,h.G8z),I=()=>(0,c.y1)(p.$,y(),d.sb),C=()=>{const e=y(),t=(0,f.ft)();return(n,r)=>{const o=e(n,r);return t(n,{elementId:o})}},S=()=>(0,l.zB)({linkedElementPermissions:C(),linkedElementId:y(),linkedBoard:I(),linkedBoardError:E.sq,renderedElement:(0,c.y1)(m.sb,I(),b)})},95803:(e,t,n)=>{"use strict";n.d(t,{o1:()=>q,X6:()=>V,A0:()=>$,tu:()=>J,yg:()=>W,W1:()=>oe,nO:()=>G,A8:()=>K,pD:()=>re,Ix:()=>te,p3:()=>U});var r=n(29204),o=n(97245),i=n(4835),s=n.n(i),a=n(52151),l=n.n(a);const c=e=>{try{const t=l()(e.split(",")),n=atob(t),r=n.match(/<svg[^>]*width\s*=\s*\"?(\d+)\"?[^>]*>/),o=n.match(/<svg[^>]*height\s*=\s*\"?(\d+)\"?[^>]*>/),i=r&&parseInt(r[1],10),a=o&&parseInt(o[1],10);if(i&&a)return{width:i,height:a};const c=n.match(/<svg[^>]*viewBox\s*=\s*\"?([\d ,.]+)\"?[^>]*>/),d=c&&c[1];if(d){const e=s()(d.split(/[ ,]+/)).map((e=>parseInt(e,10))),t=e[0],n=e[1],r=e[2];return{width:r-t,height:e[3]-n}}}catch(t){console.info("error parsing svg dimensions",t)}};var d=n(88007),u=n(61542);const m=async(e,t)=>{if(t===u.L.SVG){const t=c(e);if(t)return{size:t}}const n=(await(0,d.D)(e)).target;return{img:n,size:{width:n.width,height:n.height}}},p=e=>{const{canvas:t,ctx:n}=(e=>{const{width:t,height:n}=e,r=document.createElement("canvas");r.width=t,r.height=n;const o=r.getContext("2d");return o.drawImage(e,0,0),{canvas:r,ctx:o}})(e),r=n.getImageData(0,0,t.width,t.height),{data:o}=r;for(let i=0;i<o.length;i+=4)if(o[i+3]<255)return!0;return!1},h=(e,t)=>{const n=document.createElement("canvas"),r=n.getContext("2d");if(!r)throw new Error("Could not get canvas context");r.imageSmoothingEnabled=!0,r.imageSmoothingQuality="high";const o=e.height*t/e.width;return n.width=t,n.height=o,r.drawImage(e,0,0,t,o),n.toDataURL()};var g=n(63805),f=n(94081);const E=async e=>{const t=URL.createObjectURL(e),{size:n,img:r}=await m(t,e.type),o=Math.min(n.width,f.__),i=h(r,o);return URL.revokeObjectURL(t),{imageDataUri:i,size:n,transparent:!1}},v=async e=>{switch(e.type){case u.L.PNG:case u.L.GIF:return(async e=>{const{size:t,imageDataUri:n}=await E(e),{img:r}=await m(n,e.type);return{imageDataUri:n,size:t,transparent:p(r)}})(e);case u.L.SVG:return(async e=>{const t=await(0,g.hR)(e),{size:n}=await m(t,e.type);return{imageDataUri:t,size:n,transparent:!0}})(e);default:return E(e)}},b=async e=>{const t=await v(e);return Object.assign({file:e},t)};var y=n(60742),I=n(73936),C=n(50202),S=n.n(C);n(98421);var T=n(80275),w=n(19092),O=n(11111),_=n(87961),R=n(60530),A=n(53019),D=n(21886),N=n(30840),x=n(80583),M=n(79900),P=n(41875),L=n(37407),k=n(81248),F=n(91727),B=n(23865),j=n(20354),z=n(10048);const U=({id:e,actionType:t=o.eQ.UPLOAD})=>({type:t===o.eQ.UPLOAD?o.bq:o.$E,id:e,sync:!1,actionType:t}),H=({id:e,attachmentData:t})=>({type:o.Vn,id:e,attachmentData:t,sync:!1}),Z=({id:e,cancelFn:t})=>({type:o.bB,id:e,cancelFn:t}),G=({id:e,percentageComplete:t,loaded:n,total:r,actionType:i=o.eQ.UPLOAD})=>({type:i===o.eQ.UPLOAD?o.xL:o.TQ,id:e,percentageComplete:t,loaded:n,total:r,sync:!1,actionType:i}),K=({id:e,actionType:t=o.eQ.UPLOAD})=>({type:o.Zf,id:e,percentageComplete:0,loaded:0,total:0,sync:!1,actionType:t}),W=({id:e,actionType:t=o.eQ.UPLOAD})=>({type:t===o.eQ.UPLOAD?o.fG:o.Xn,id:e,sync:!1,actionType:t}),V=({id:e})=>({type:o.rN,id:e,sync:!1}),$=({id:e})=>({type:o.kf,id:e,sync:!1}),q=({id:e,transactionId:t=(0,y.k)()})=>({type:o.pH,id:e,transactionId:t,sync:!1}),Y=e=>{const t=(0,I.ZP)(e);return Object.assign({},t,{filename:S()(e.name),size:e.size,lastModified:e.lastModified})},X=e=>e.get("elements"),Q=(e,{elementId:t})=>e.getIn(["elements",t]),J=({preUploadCb:e,attachmentSuffix:t=""})=>({id:n,file:o,transactionId:i=(0,y.k)(),imageType:s,attachmentData:a,onlyReplaceImage:l})=>async(c,d)=>{const u=d(),m=(0,T.ht)(u),p=(0,T.T8)(u),h=await(0,_.o1)(o,{isSubscribed:p});if(h)throw c((0,D.Z)({modalId:B.Bu.GENERAL_ERROR,data:{validationError:h,attachmentErrors:[h.message]}})),c(V({id:`${n}${t}`})),h;m||c(U({id:`${n}${t}`}));const g=a||await b(o),{imageDataUri:f,size:E}=g,v=g.file,y=Object.assign({},Y(o),E,{dataUri:f});c(H({id:`${n}${t}`,attachmentData:y}));let I=!m;if(I&&s!==k.v.AVATAR){const e=X(u),t=Q(u,{elementId:n}),r=(0,M.XW)(u),o=(0,N.Yj)(e,n,r);I=(0,x.rS)(o,t)}if(!I)return void c(W({id:`${n}${t}`}));const C=s||k.v.ELEMENT,S=e=>c(G({id:`${n}${t}`,loaded:e.loaded,total:e.total,percentageComplete:e.loaded/e.total*100}));e&&e({id:n,file:o,transactionId:i,imageType:s,imageDataUri:f,size:E,onlyReplaceImage:l})(c,d);const w=e=>{c(Z({id:n,cancelFn:e}))};try{const e=await(0,R.OC)({file:v,id:n,onUploadProgress:S,cancelExecutorFn:w,fileType:F._0.IMAGE,imageType:C,user:(0,T.ts)(u)});return c(W({id:`${n}${t}`})),Object.assign({},g,{uploadUrl:e})}catch(O){if(O instanceof r.$j)return console.warn("Upload cancelled"),c(V({id:`${n}${t}`}));throw z.Z.error("An error occurred while uploading the image",O,O.response),(0,j.vl)({errorMessage:"An error occurred while uploading the image",error:O,getState:d}),c((0,D.Z)({modalId:B.Bu.GENERAL_ERROR,data:{attachmentErrors:["The image failed to upload"]}})),c(V({id:`${n}${t}`})),O}},ee=J({preUploadCb:({id:e,onlyReplaceImage:t})=>(n,r)=>{const o=r(),i=Q(o,{elementId:e});(0,O.zE)(i)&&!t&&n((0,L.TK)({id:e,elementType:f.nr}))}}),te=({id:e,file:t,transactionId:n=(0,y.k)(),imageType:r,attachmentData:o,options:i={}})=>async s=>{try{const{onlyReplaceImage:a=!1}=i,l=await s(ee({id:e,file:t,transactionId:n,imageType:r,attachmentData:o,onlyReplaceImage:a}));if(!l)return;const{uploadUrl:c,size:d,transparent:u=!1}=l,m={image:Object.assign({},d,{original:c,transparent:u})};a||(m.file=Y(t)),s((0,L.yj)({id:e,changes:m,transactionId:n}))}catch(a){}},ne=({id:e,file:t,beforeCreate:n})=>(r,o)=>{const i=o();if((0,T.ht)(i)){const t="Sorry, you cannot upload files as guest";return console.error(t),r((0,D.Z)({modalId:B.Bu.GENERAL_ERROR,data:{attachmentErrors:[t]}})),r(V({id:e})),t}const s=(0,T.T8)(i);if(!s){if(((0,A.ej)(i).get("FILE")||0)+(n?1:0)>F.Hf){const t="Sorry, you can only upload ten files as free user";return console.error(t),r((0,D.Z)({modalId:B.Bu.FREE_FILE_COUNT_LIMIT})),r(V({id:e})),t}}const a=(0,_.D0)(t,{isSubscribed:s});if(a)return r((0,D.Z)({modalId:B.Bu.GENERAL_ERROR,data:{validationError:a,attachmentErrors:[a.message]}})),r(V({id:e})),a},re=({id:e,file:t,transactionId:n=(0,y.k)(),attachmentData:o,options:i})=>async s=>s(await(0,_.Uj)(t)?te({id:e,file:t,transactionId:n,attachmentData:o,options:i}):(({id:e,file:t,transactionId:n=(0,y.k)(),options:o={}})=>(o,i)=>{const s=i(),a=o(ne({id:e,file:t,beforeCreate:!1}));if(a)return Promise.reject(a);const l=Q(s,{elementId:e});(0,O.Or)(l)&&o((0,L.TK)({id:e,elementType:F.Gk}));const c=Y(t);o(U({id:e})),o(H({id:e,attachmentData:c}));const d=X(s),u=(0,M.XW)(s),m=(0,N.Yj)(d,e,u);if((0,x.rS)(m,l))return(0,R.OC)({file:t,onUploadProgress:t=>o(G({id:e,loaded:t.loaded,total:t.total,percentageComplete:t.loaded/t.total*100})),id:e,cancelExecutorFn:t=>{o(Z({id:e,cancelFn:t}))},user:(0,T.ts)(s)}).then((r=>{o(W({id:e}));const i={file:Object.assign({},c,{url:r,uploadedTimestamp:(0,w.u3)()})};(0,P.iT)(t.name)||(i.previewReady=!0),o((0,L.yj)({id:e,changes:i,transactionId:n,silent:!0}))})).catch((t=>{if(t instanceof r.$j)return console.warn("Upload cancelled"),o(V({id:e}));console.error("ERROR uploading file",t),o((0,D.Z)({modalId:B.Bu.GENERAL_ERROR,data:{attachmentErrors:["The file failed to upload"]}})),o(V({id:e}))}));o(W({id:e}))})({id:e,file:t,transactionId:n,attachmentData:o,options:i})),oe=({file:e,id:t})=>(0,_.I4)(e)?(({file:e,id:t})=>async(n,r)=>{const o=r(),i=(0,T.T8)(o),s=await(0,_.o1)(e,{isSubscribed:i});if(s)throw n((0,D.Z)({modalId:B.Bu.GENERAL_ERROR,data:{validationError:s,attachmentErrors:[s.message]}})),n(V({id:t})),s;const a=await b(e),{imageDataUri:l}=a,c=Object.assign({},a,Y(e));return c.dataUri=l,delete c.imageDataUri,n(H({id:t,attachmentData:c})),a})({file:e,id:t}):(({file:e,id:t})=>async n=>{const r=n(ne({id:t,file:e,beforeCreate:!0}));if(r)throw r;const o=Y(e);n(H({id:t,attachmentData:o}))})({file:e,id:t})},48679:(e,t,n)=>{"use strict";n.d(t,{OP:()=>b,Qe:()=>v});var r=n(52151),o=n.n(r),i=n(46488),s=n.n(i),a=n(52612),l=n.n(a),c=n(71257),d=n(83903),u=n(14927),m=n(95803),p=n(68071),h=n(97245),g=n(34595);const f=c.default.create(),E=e=>{const t=l()(null==e?void 0:e.split("?"));return o()(null==t?void 0:t.split("/"))},v=(e,t,n)=>{const r=((e,t,n="_self")=>{const r=document.createElement("a");return r.href=e,r.target=n,r.setAttribute("download",t||E(e)),r.rel="noopener noreferrer",r})(e,t,n);document.body.appendChild(r),r.click(),document.body.removeChild(r)},b=({url:e,filename:t,onDownloadStart:n=s(),onDownloadEnd:r=s(),id:o})=>async i=>{const s=t||E(e),a=h.eQ.DOWNLOAD;n();try{const{size:t}=await(0,d.Z)(e);if(t>1e9||(()=>{switch((0,p.uT)()){case g.Q.ANDROID_BOARD_LIST:return!0;case g.Q.IOS_BOARD_LIST:case g.Q.IOS_CANVAS:case g.Q.IPAD_OS:default:return!1}})())return r(),v(e,s,"_blank");i((0,m.A8)({id:o,actionType:a})),i((0,m.p3)({id:o,actionType:a}));const n=await f({url:e,method:u.Is.GET,responseType:"blob",onDownloadProgress:e=>{i((0,m.nO)({id:o,loaded:e.loaded,total:e.total,percentageComplete:e.loaded/e.total*100,actionType:a}))}}),l=window.URL.createObjectURL(new Blob([n.data]));v(l,s),r(),i((0,m.yg)({id:o,actionType:a})),r(),i((0,m.A8)({id:o,actionType:a}))}catch(l){console.error(l),v(e,s,"_blank"),r(),i((0,m.yg)({id:o,actionType:a})),i((0,m.A8)({id:o,actionType:a}))}}},13612:(e,t,n)=>{"use strict";n.d(t,{Bg:()=>u,Dc:()=>v,Eh:()=>b,Em:()=>p,FG:()=>E,FQ:()=>m,MF:()=>S,NN:()=>C,OO:()=>T,Uy:()=>y,Yu:()=>l,_0:()=>I,by:()=>c,jA:()=>d,nE:()=>g,vV:()=>h});var r=n(22222),o=n(43831),i=n(68468),s=n(78327),a=n(97245);const l=(0,o.vg)("data"),c=(0,o.vg)("error"),d=(0,o.vg)("fetching"),u=(0,o.vg)("percentageComplete"),m=(0,o.vg)("loaded"),p=((0,o.vg)("total"),(0,o.P2)(["data","type"])),h=(0,o.P2)(["data","filename"]),g=((0,o.P2)(["data","size"]),(0,o.P2)(["data","dataUri"])),f=(e,t)=>t?(e.count+=1,e.actionType=t.get("actionType"),t.get("loaded")&&(e.showProgress=!0,e.total+=t.get("total"),e.loaded+=t.get("loaded")),e):e,E=(e,t)=>e.getIn(["app","attachments",(0,i.nR)(e,t)]),v=e=>e.getIn(["app","attachments"]),b=(0,r.P1)(v,(e=>e.some((e=>e.get("fetching"))))),y=(0,r.P1)(v,(e=>e.some((e=>e.get("fetching")&&e.get("actionType")===a.eQ.UPLOAD)))),I=((0,r.P1)(v,(e=>e.some((e=>e.get("fetching")&&e.get("actionType")===a.eQ.DOWNLOAD)))),(0,r.P1)(v,b,((e,t)=>t&&e.some((e=>e.get("loaded")))))),C=((0,r.P1)(v,(e=>e.filter(c).map(c))),(0,s.y1)(v,(e=>e.filter((e=>e.get("fetching")&&e.get("actionType")===a.eQ.DOWNLOAD)).reduce(f,{count:0,total:0,loaded:0,showProgress:!1})))),S=(0,s.y1)(v,(e=>e.filter((e=>e.get("fetching")&&e.get("actionType")===a.eQ.UPLOAD)).reduce(f,{count:0,total:0,loaded:0,showProgress:!1}))),T=(0,s.y1)(v,((e,t)=>t.elementId),((e,t)=>e.filter((e=>e.get("id")===t)).reduce(f,{count:0,total:0,loaded:0,showProgress:!1})))},60530:(e,t,n)=>{"use strict";n.d(t,{gZ:()=>O,OC:()=>w});var r=n(52151),o=n.n(r),i=n(71257),s=n(45685),a=n(91151),l=n.n(a),c=n(8816),d=n.n(c),u=n(69937),m=n.n(u),p=n(37977),h=n.n(p),g=n(91727),f=n(81248),E=n(45915);const v=/https:\/\/[a-zA-Z0-9\-.]+\//;var b=n(73936),y=n(91443),I=n(14927),C=n(19092);const S=i.default.create({timeout:2*C.yu.DAY}),{CancelToken:T}=i.default,w=async({file:e,onUploadProgress:t,id:n,cancelExecutorFn:r,fileType:i,imageType:a,user:c})=>{const u=await(0,y.z0)(e),p=e.size,w=((e,t)=>{const{name:n}=e,r=n.split("."),i=o()(r),s=(0,b.uT)(i);if(i&&s&&s!==g.ld.GENERIC)return n;const a=null==t?void 0:t.split("/")[1];return a?`${n}.${a}`:n})(e,u),O=await(({filename:e,contentType:t,id:n,fileType:r=g._0.FILE,imageType:o,fileSize:i})=>{const a={url:"elements/attachments/presign",method:I.Is.POST,timeout:C.yu.MINUTE,data:{filename:e,contentType:t,elementId:n,fileType:r,imageType:o,fileSize:i}};return(0,s.ZP)(a)})({filename:w,fileSize:p,contentType:u,id:n,fileType:i,imageType:a}),{presignedUrl:_}=O.data;return await S({method:I.Is.PUT,url:_,headers:{[I.ob.CONTENT_TYPE]:u},cancelToken:new T(r),data:e,onUploadProgress:t}),((e,t)=>{if(e.startsWith(E.nY))return e;const n=t===f.v.ELEMENT?E.nY:g.wH;return d()(h()("?"),m(),l()(v,n))(e)})(_,a)},O=({attachmentId:e,url:t})=>(0,s.ZP)({url:"elements/attachments/track-download",params:{attachmentId:e,url:t}}).catch((e=>null))},89663:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ce,f:()=>ie});var r=n(41609),o=n.n(r),i=n(67294),s=n(45697),a=n.n(s),l=n(37974),c=n(22222),d=n(61750),u=n(59305),m=n(94043),p=n(91040),h=n(89505);var g=i.createElement("div",{className:"BoardEmptyContentsTag ElementContentsTag"},"Protected"),f=i.createElement("div",{className:"BoardEmptyContentsTag ElementContentsTag"},"Access denied");const E=e=>{const{childrenTypes:t,isPasswordProtected:n,accessDenied:r,canShowCount:o,isBoardDuplicating:s}=e;return n&&r?g:r?f:i.createElement(m.Z,{childrenTypes:t,show:o,isBoardDuplicating:s})};E.propTypes={element:a().object.isRequired,elementId:a().string,childrenTypes:a().object,isPasswordProtected:a().bool,accessDenied:a().bool,canShowCount:a().bool,isBoardDuplicating:a().bool};const v=(0,l.$j)(((e,t)=>(0,c.zB)({isPasswordProtected:h.Z,accessDenied:(0,p.rt)(e,t)})))(E);var b=n(27092),y=n(6557),I=n.n(y),C=n(54688),S=n(45449),T=n(11111),w=n(75763),O=n(53107),_=n(12840),R=n(97245);var A=n(36316),D=n(93047),N=n(12170),x=n(40193),M=n(49905),P=n(12673),L=n(28719);const k={drop:(e,t,n)=>{const{element:r,dispatchGetChildIds:i}=e,s=t.getItemType(),a=i((0,w.G8z)(r));return o()(a)&&s===R.XX?((e,t,n)=>{const r=(0,_.E)(e,t,n);if(t.getItemType()!==R.XX)return Object.assign({},r);const{draggedElements:o}=t.getItem(),i=o.map((e=>(0,w.nRF)(e)));return Object.assign({},r,{acceptedElementIds:i})})(e,t,n):(0,O.Z)(e,t,n)},canDrop:(0,A.Z)([P.Z,(0,D.Z)([T.P7,T.Ag]),N.Z,({props:e,monitor:t})=>{const{element:n}=e||{},{draggedElementIds:r}=(null==t?void 0:t.getItem())||{};if(o()(r))return!0;const i=(0,w.nRF)(n),s=(0,w.G8z)(n);return!r.includes(i)&&!r.includes(s)}]),acceptDropTypes:L.mJ},F=(0,C.qC)(M.Z,(0,S.Z)(k,R.vc.BOARD),x.Z);var B=i.createElement("div",{className:"BoardDropTarget"});const j=e=>{const{connectDropTarget:t=I(),isHovered:n,setIsHovered:r,setParentHoveredChildAcceptsDrop:o}=e;return(0,i.useEffect)((()=>{r(n),o&&n&&o(!0)}),[n]),t(B)};j.propTypes={connectDropTarget:a().func,isHovered:a().bool,setIsHovered:a().func,setParentHoveredChildAcceptsDrop:a().func};const z=F(j);var U=n(21055);const H=(0,C.qC)(M.Z,U.Z);var Z=i.createElement("div",{className:"LineDropTarget"});const G=e=>{const{connectLineEdgeDropTarget:t=I(),isLineEdgeHovered:n,setLineHoverEffect:r}=e;return(0,i.useEffect)((()=>{r(n)}),[n]),t(Z)};G.propTypes={isLineEdgeHovered:a().bool,setLineHoverEffect:a().func,connectLineEdgeDropTarget:a().func};const K=H(G);var W=n(4623),V=n(38320),$=n(81188),q=n(62107),Y=n(9300),X=n(70555),Q=n(85263),J=n(36219),ee=n(61473),te=n(52432),ne=n(55858),re=n(43831),oe=n(22453);const ie=({inList:e,documentMode:t})=>t?5:e?6:7.2,se=i.memo((function(e){const{element:t,children:n,isAlias:r,isLinkAlias:o,isShared:s,getContextZoomScale:a,getContextZoomTranslationPx:l}=e,c=(0,w.Lq4)(t),d=(0,w.q7_)(t),m=ie(e);return i.createElement(u.Z,Object.assign({},e,{size:m,element:t,color:c,icon:d,isShared:s,isAlias:r,isLinkAlias:o,showActivityIndicator:!(0,Q.Mn)(),getContextZoomScale:a,getContextZoomTranslationPx:l}),n)}));se.propTypes={element:a().object.isRequired,children:a().element,gridSize:a().number.isRequired,isAlias:a().bool,isLinkAlias:a().bool,isShared:a().bool,documentMode:a().bool,getContextZoomScale:a().func,getContextZoomTranslationPx:a().func};const ae=({inTrash:e,isBoardFetched:t,element:n,elementId:r,childrenTypes:s,boardFetchError:a,isBoardDuplicating:l})=>{if((0,J.KT)(n)||(0,J.Wq)(n))return i.createElement("div",{className:"template-tag"},(0,J.qn)(n));if(e)return null;const c=t&&!(0,ne.B)(a)||l;return o()(s)&&c||a&&!(0,ne.B)(a)?i.createElement(v,{elementId:r,element:n,isBoardDuplicating:l,childrenTypes:s,canShowCount:c}):i.createElement(m.Z,{childrenTypes:s,isBoardDuplicating:l,show:c,isBoard:!0})};ae.propTypes={inTrash:a().bool,isBoardFetched:a().bool,boardFetchError:a().object,isBoardDuplicating:a().bool,element:a().object,elementId:a().string,childrenTypes:a().object};const le=e=>{const{gridSize:t,inList:n,isSingleSelected:r,element:o,onTitleEditDone:s,elementEvents:a,isPresentationModeEnabled:l}=e,[c,u]=(0,i.useState)(!1),[m,p]=(0,i.useState)(!1),[h,g]=(0,i.useState)(!1),f=(0,ee.UX)("Board",Object.assign({},e,{isLineEdgeHovered:m,isHovered:c,canDrop:!0})),E=(0,q.iS)(e);return i.createElement("div",Object.assign({id:(0,ee.Oc)((0,w.nRF)(o)),className:f,style:(0,Y.bS)(oe.B,t,n)},a),i.createElement(b.Z,{className:"board-content",iconElement:i.createElement(se,Object.assign({},e,{showNavigationFeedback:h})),titleElement:i.createElement(d.Z,Object.assign({},e,{elementId:(0,w.nRF)(o),initialValue:"New Board",selectFirst:!0,isSelected:r,selectAllOnEdit:!0,onUpdate:s,editDelay:(0,Q.T)()?0:100,editorKey:E})),secondaryElement:!l&&i.createElement(ae,e)}),i.createElement(z,Object.assign({},e,{setIsHovered:u,setShowNavigationFeedback:g})),i.createElement(K,Object.assign({},e,{setLineHoverEffect:p})))};le.propTypes={element:a().object.isRequired,gridSize:a().number,inList:a().string,inTrash:a().bool,isSelected:a().bool,isSingleSelected:a().bool,isEditing:a().bool,isEditable:a().bool,isDragging:a().bool,onHeadingClick:a().func,updateTitle:a().func,navigateToBoard:a().func,connectDropTarget:a().func,connectLineEdgeDropTarget:a().func,onTitleEditDone:a().func,setLineHoverEffect:a().func,setElementHoverEffect:a().func,className:a().string,documentMode:a().bool,isBoardFetched:a().bool,isBoardDuplicating:a().bool,elementEvents:a().object,canConnectLineEdge:a().bool,isPresentationModeEnabled:a().bool};const ce=(0,l.$j)((()=>(0,c.P1)((0,V.rL)(),(0,c.P1)(((e,t)=>t.linkedBoard||t.element),(e=>{if((0,w.rwk)(e))return!0;const t=(0,w.VjH)(e);return!(!t||!t.size)&&t.filter(((e,n)=>(0,X.PE)(n)&&!(0,te.HZ)((0,re.vg)(n,t)))).size>0})),$.ob,$.sq,W.bL,((e,t,n,r,o)=>({childrenTypes:e,isShared:t,isBoardFetched:n,boardFetchError:r,isBoardDuplicating:o})))))(le)},26954:(e,t,n)=>{"use strict";n.d(t,{dV:()=>N,Lq:()=>D,Xc:()=>x,bI:()=>M});var r=n(43831),o=n(55290),i=n(11111),s=n(3744),a=n(74528),l=n(37407),c=n(49508),d=n(495),u=n(90693),m=n(83547),p=n(75763),h=n(28),g=n(72941),f=n.n(g);var E=n(89201),v=n(60660),b=n(49468),y=n(99154),I=n(20637),C=n(82042),S=n(20354),T=n(97245),w=n(30402),O=n(36410),_=n(78210);const R=["id","canvasOrigin"];let A=Math.floor(100*Math.random());const D=(e,t)=>{const n=w.$H.find((t=>(e||"").toUpperCase().indexOf(t)>=0));if(n)return n;A=(1+A)%100;const r=(0,y.Z)(t),o=(0,I.Y)(t),i=(0,E.N)(r,o);return i[A%i.length]},N=async({id:e,title:t,state:n})=>{const{data:{icons:r,isFallback:l}}=await(0,o.A)(t,4,O.U.BOARD_CREATE),g=((e,t)=>{const n=(0,p.nRF)(e),r=(0,m.$)(t),o=(0,d.jz)(r,n),s=(0,c.cs)(t);return(0,u.CB)({elements:r,elementGraph:s,parentId:o}).filter(i.pi)})(n.getIn(["elements",e]),n),E=((e,t)=>{const n=new Map;t.forEach((e=>{const t=(0,p.yXy)(e);n.set(t,!0)}));for(const r of e)if(r&&!n.get(r.id))return r;return f()(e)})(r,g),v=E||(({title:e,peerBoards:t})=>{const n=(0,a.Vb)(e)||(e=>e?e.size.toString():1)(t);return(0,s.Z)(n).toJS()})({title:t,peerBoards:g});return(0,h.J)({boardId:e,icon:v,searchQuery:t,setMode:O.U.BOARD_CREATE,isFallback:l||!E}),{icon:v}},x=({id:e,title:t,currentColor:n,currentSecondaryColor:r,transactionId:o})=>async(i,s)=>{i((0,l.yj)({type:T.XI,id:e,changes:{title:t},transactionId:o,sync:!1})),i({type:T.Vq,id:e,title:t});let a=n,c=r;if(!a){const e=s(),n=D(t,e),r=(0,b.Z)(n);a=r?n.primary:n,c=r?n.secondary:null}const d=await N({id:e,title:t,state:s()});i({type:T.m$,id:e}),i((0,l.yj)({type:T.XI,id:e,changes:Object.assign({},d,{title:t,color:a,secondaryColor:c,autoColorIndex:A}),transactionId:o}))},M=e=>{let{id:t,canvasOrigin:n}=e,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,R);return(e,i)=>{const s=i(),a=(0,m.$)(s),u=(0,d.sb)(a,t),h=(0,r.su)((0,p.eVc)(u));if(n.x<_.FQ||n.y<_.FQ){const e=(0,c.pD)(s)[t]||[],o=(0,r.yS)(e,a),l=new Set;throw o.forEach((e=>{const t=(0,p.nRF)(e),n=(0,p.oNe)(e),r=(0,p.uLQ)(e);(n<h.x&&n<_.FQ||r<h.y&&r<_.FQ)&&l.add(t)})),0!==l.size&&(0,S.vl)({errorMessage:"Board is in a broken state - elements are beyond the canvas origin",custom:{currentBoardId:t,elementIds:[...l].join(",")},getState:i}),new C.Z("Cannot extend the canvas origin beyond -500,-500",{friendlyMessage:"The canvas can't grow this far",tip:"Try moving the content towards the bottom right",details:{canvasOrigin:n}})}if(n.x>_.h||n.y>_.h)throw new C.Z("Cannot extend the canvas origin beyond 0,0",{friendlyMessage:"An error has occurred with the canvas size",details:{canvasOrigin:n}});e((0,v.wx)({boardId:t,canvasOrigin:h})),e((0,l.yj)(Object.assign({id:t,updateType:T._q.CANVAS_ORIGIN,changes:{canvasOrigin:n}},o)))}}},59972:(e,t,n)=>{"use strict";n.d(t,{F:()=>v});var r=n(46488),o=n.n(r),i=n(77606),s=n.n(i),a=n(72522),l=n(53106),c=n(51354),d=n(52740),u=n(68624),m=n(10305),p=n(53989),h=n(633),g=n(29176);const f=h.H?n(54730).$:o(),E=new Set,v=e=>async(t,n)=>{if(!h.H)return;const r=n();if(!(0,c.E)(r))return;const o=e.filter((e=>{if(E.has(e))return!1;const t=(0,a.Rf)(r,g.P6.boards,e);return(0,l.OT)(t)}));if(!s()(o))try{const e=f();(e=>{for(const t of e)E.add(t)})(o);const{elements:n}=await e.fetchBoards(o);t((0,u.fS)({actions:[(0,p.j$)(g.P6.boards,o),(0,m.dY)(n)]}))}catch(i){t((0,p.y$)(g.P6.boards,o)),t((0,d.Po)({boardIds:o,force:!0,canvasOrder:!1}))}finally{(e=>{for(const t of e)E.delete(t)})(o)}}},55858:(e,t,n)=>{"use strict";n.d(t,{B:()=>i,V:()=>s});var r=n(43831),o=n(23865);const i=e=>{if(!e)return!1;switch((0,r.vg)("code",e)){case o.uL.PASSWORD_PROTECTED:case o.uL.DELETED:case o.uL.ACCESS_DENIED:case o.uL.NOT_FOUND:return!1;default:return!0}},s=e=>(null==e?void 0:e.code)===o.uL.ACCESS_DENIED},59305:(e,t,n)=>{"use strict";n.d(t,{Z:()=>le});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(54688),l=n(94184),c=n.n(l),d=n(22222),u=n(81136),m=n(75763),p=n(30840),h=n(78327),g=n(91040),f=n(89505),E=n(41563),v=n(87701);const b=e=>e?{fontSize:`${e/7.2||1}em`}:null,y=()=>(0,h.y1)(((e,t)=>t.element),((e,t)=>t.isShared),((e,t)=>{const n=[];return((0,m.yAS)(e)||(0,p.PW)(e))&&n.push({icon:"board-published",tooltip:"Read-only link enabled"}),t&&n.push({icon:"board-shared-users",tooltip:"Shared"}),n})),I=(e,t)=>(0,h.y1)((0,g.rt)(e,t),f.Z,y(),((e,t,n)=>t?[{icon:"board-password-protected",tooltip:"Password protected"}]:e?[{icon:"board-access-denied",tooltip:"Access denied"}]:n)),C=r.memo((function({icons:e,size:t}){return 0===e.length?null:r.createElement("div",{className:c()("BoardStatus",{"multiple-icons":e.length>=2}),style:b(t)},e.map(((e,t)=>r.createElement(E.Z,{key:t,enabled:!0,delay:300,tooltipId:`tooltip-board-status-${t}`,tooltipText:r.createElement("span",{className:"board-status-tooltip"},e.tooltip),distance:10,triggerOnMouseEnter:!0},r.createElement(v.Z,{name:e.icon})))))}));C.propTypes={icons:i().array,size:i().number};const S=(0,s.$j)(((e,t)=>(0,d.zB)({icons:I(e,t)})))(C),T=(0,s.$j)((()=>(0,d.zB)({icons:y()})))(C),w=e=>{const{isAlias:t,isShared:n,size:o,element:i}=e;return t?r.createElement(S,{size:o,isShared:n,element:i}):r.createElement(T,{size:o,isShared:n,element:i})};w.propTypes={element:i().object,isShared:i().bool,isAlias:i().bool,size:i().number};const O=w,_=e=>e?{fontSize:`${e/7.2||1}em`}:null,R=e=>{const{isAlias:t,gridSize:n,size:o}=e;return t?r.createElement("div",{className:"BoardShortcutIcon",style:_(o)},r.createElement(v.Z,{name:"board-shortcut",gridSize:n})):null};R.propTypes={isAlias:i().bool,gridSize:i().number,size:i().number};const A=(0,a.Le)(R);var D=n(19428),N=n(98066),x=n.n(N);const M=(0,n(28644).aU)("children");class P extends r.Component{constructor(e){super(e),this.state={renderedChildren:e.children,forceLeave:!1}}componentWillMount(){this.mounted=!0,this.setState({renderedChildren:this.props.children,forceLeave:!1})}componentWillReceiveProps(e){if(M(this.props,e)){const{children:t}=e;t?this.setState({renderedChildren:t}):(this.setState({forceLeave:!0}),x()((()=>{this.mounted&&this.setState({forceLeave:!1,renderedChildren:this.props.children})}),e.delay||0))}}componentWillUnmount(){this.mounted=!1}render(){const{renderedChildren:e,forceLeave:t}=this.state;let n=e;return n&&t&&(n=r.cloneElement(n,{forceLeave:t})),n||null}}P.propTypes={children:i().node,delay:i().number};const L=P;var k=n(94121);const F=e=>{const{isRemotelySelected:t}=e;let n=null;return t&&(n=r.createElement(k.Z,e)),r.createElement(L,{delay:700},n)};F.propTypes={isRemotelySelected:i().bool,filterState:i().string};const B=F;var j=n(77606),z=n.n(j),U=n(63422),H=n.n(U),Z=n(98433),G=n(70766),K=n(93853),W=n(45271);const V=(0,G.Z)(K.Z),$=e=>{const{elementActivity:t,indicatorType:n}=e;if(z()(t))return null;const o=H()("changeCount",t)||1,i=(({elementActivity:e})=>{switch(H()("type",e)){case W.C.CHANGE:return H()("changeCount",e);case W.C.ADD:case W.C.SHARE:return"New";default:return null}})(e);return r.createElement(V,Object.assign({},e,{poiData:{count:o},className:c()("BoardActivityIndicator",n)}),i)};$.propTypes={elementActivity:i().object,indicatorType:i().string};const q=(0,s.$j)((()=>(0,d.zB)({elementActivity:(0,Z.Dc)()})))($);var Y=n(67179),X=n(13784),Q=n(49870),J=n(13612),ee=n(48791),te=n(9300),ne=n(27461),re=n(83311);const oe=({size:e,showNavigationFeedback:t})=>({small:e<=5,medium:e>5&&e<=6,"pre-nav":t}),ie=(0,d.zB)({gridSize:ee.FP,attachment:J.FG});var se=r.createElement("div",{className:"drag-preview-shadow"});const ae=e=>{const{icon:t,currentBoardId:n,elementId:o,element:i,size:s,gridSize:a,attachment:l,color:d,showActivityIndicator:p=!1,isSelected:h,getContextZoomScale:g,getContextZoomTranslationPx:f}=e,E=(0,m.ywY)(i)||(0,J.Yu)(l),v=(0,m.pww)(i),b=(({size:e,colorHex:t,gridSize:n,hasImageData:r})=>{const o=(0,te.wh)(e,n),i={width:o,height:o,fontSize:`${e/7.2||1}em`};return t&&!r?i.backgroundColor=t:r&&(i.background="none"),i})({size:s,colorHex:(0,X.yp)(d),gridSize:a,hasImageData:E}),y=(0,Q.Qr)(d),I=E?r.createElement(D.Z,{element:i,size:s,gridSize:a}):r.createElement(u.Z,{icon:t,sizePx:s*a,isSelected:h,isDarkBackground:!y,secondaryColor:v,showLoading:!0,enableFade:!0});return r.createElement("div",{className:c()("BoardIcon",oe(e))},r.createElement(Y.Z,{show:(0,re.Z)(e),elementId:o,element:i,currentBoardId:n,gridSize:a,getContextZoomScale:g,getContextZoomTranslationPx:f}),p&&r.createElement(q,e),r.createElement(B,e),se,r.createElement("div",{className:c()("board-icon-content drag-handle",{"color-target":h}),style:b},I),r.createElement(O,e),r.createElement(A,e))};ae.propTypes={size:i().number.isRequired,iconName:i().string,color:i().string,icon:i().object,gridSize:i().number,currentBoardId:i().string,elementId:i().string,element:i().object,attachment:i().object,showNavigationFeedback:i().bool,showActivityIndicator:i().bool,isSelected:i().bool,isSingleSelected:i().bool,isEditable:i().bool,inList:i().string,getContextZoomScale:i().func,getContextZoomTranslationPx:i().func};const le=(0,a.qC)((0,s.$j)(ie),(0,ne.Z)(["elementEvents","childrenTypes","isBoardFetched","isBoardFetchError"]))(ae)},19428:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),o=n(45697),i=n.n(o),s=n(9300),a=n(75763),l=n(13784),c=n(58339),d=n(81248);const u=(e,t)=>{const n={width:e,height:e};if((0,a.aK5)(t))return n;const r=(0,a.Lq4)(t),o=(0,l.yp)(r);return o?(n.background=o,n):n},m=({element:e,size:t,gridSize:n})=>{if(!e)return null;const o=(0,s.wh)(t,n);return r.createElement("div",{className:"BoardImage",style:u(o,e)},r.createElement(c.Z,{imageType:d.v.BOARD,element:e,widthPx:o,forcedSize:{width:o,height:o}}))};m.propTypes={element:i().object,imageData:i().object,size:i().number,gridSize:i().number};const p=m},89505:(e,t,n)=>{"use strict";n.d(t,{E:()=>d,Z:()=>c});var r=n(43831),o=n(81188),i=n(68468),s=n(72522),a=n(23865),l=n(29176);const c=(e,t)=>{const n=(0,i.vu)(e,t),o=(0,s.Rf)(e,l.P6.boards,n),c=(0,r.vg)("error",o);return(0,r.vg)("code",c)===a.uL.PASSWORD_PROTECTED},d=(e,t)=>{const n=(0,o.Nf)(e,t);return(0,r.vg)("code",n)===a.uL.PASSWORD_PROTECTED}},81188:(e,t,n)=>{"use strict";n.d(t,{$o:()=>g,Ct:()=>p,J8:()=>_,Nf:()=>y,Pc:()=>E,Rg:()=>m,UQ:()=>I,Vl:()=>v,XJ:()=>b,Y9:()=>S,c0:()=>C,ei:()=>R,jn:()=>u,ob:()=>T,sK:()=>f,sq:()=>w,tQ:()=>O});var r=n(22222),o=n(78327),i=n(72522),s=n(43831),a=n(75763),l=n(53106),c=n(81410),d=n(29176);const u=(e,t)=>(0,c.ie)(e,t)||(null==t?void 0:t.currentBoardId),m=(0,i.R3)(d.P6.boards),p=(0,r.P1)(m,(e=>{let t=0;for(const n in e)e[n].fetched&&t++;return t})),h=(e,t)=>(0,i.Rf)(e,d.P6.boards,u(e,t)),g=(e,t)=>(0,i.Rf)(e,d.P6.boards,(0,c.s4)(e,t)),f=(e,t)=>(0,l.pl)(h(e,t)),E=(e,t)=>(0,l.rD)(h(e,t)),v=(e,t)=>(0,l.OT)(h(e,t)),b=(e,t)=>(0,l.rD)(h(e,t)),y=(e,t)=>(0,s.vg)("error",h(e,t)),I=(0,o.y1)(m,(e=>Object.values(e).filter(l.rD).map((0,s.vg)("id")))),C=(0,o.y1)(m,(e=>Object.values(e).filter(l.vc).map((0,s.vg)("id")))),S=(e,t)=>(0,i.Rf)(e,d.P6.boards,((e,t)=>(0,a.G8z)(t.element))(0,t)),T=(e,t)=>(0,l.rD)(S(e,t)),w=(e,t)=>(0,l.Z3)(S(e,t)),O=(e,t)=>e.getIn(["elements",u(e,t)]),_=(e,t)=>{const n=O(e,t);return n&&n.getIn(["content","inbox"])},R=(e,t)=>{const n=O(e,t);return n&&!!n.getIn(["location","rootBoard"])}},52740:(e,t,n)=>{"use strict";n.d(t,{nz:()=>K,Po:()=>G,I:()=>W,F7:()=>Y,N2:()=>q});var r=n(93386),o=n.n(r),i=n(69572),s=n.n(i),a=n(84238),l=n.n(a),c=n(3674),d=n.n(c),u=n(41609),m=n.n(u),p=n(91966),h=n.n(p),g=n(28583),f=n.n(g),E=(n(10048),n(45685)),v=n(43831),b=n(25507),y=n(11111),I=n(75763),C=n(53106),S=n(24691),T=n(48421),w=n(37407),O=n(10305),_=n(76277),R=n(28780),A=n(26777),D=n(56860);var N=n(96181),x=n(53989),M=n(68468),P=n(98211),L=n(49508),k=n(81410),F=n(79900),B=n(4623),j=n(72522),z=n(395),U=n(51354),H=n(29176),Z=n(19092);const G=e=>async(t,n)=>{const{cache:r=!1,boardIds:i,force:a,loadAncestors:c,excludeSelf:u,canvasOrder:m,addLoadedBoardSummaries:p=!0,permissionIdsOverride:g}=e,v=n(),y=(0,B.hR)(v),I=i.filter((e=>!!e)).filter((e=>a||y.getIn([e,"id"])!==e)),C=s()(I,50),M=(0,U.E)(v),P=r&&M;return t((0,b.S)(H.P6.boards,C,a,P)((async e=>{if(null==e||!e.length)return;const n=e.reduce(((e,t)=>e&&((0,j.Xu)(v,H.P6.elements,t)||(0,j.Vs)(v,H.P6.elements,t))),u),r=(0,L.cs)(v),i=e.reduce(((e,t)=>(e[t]=(0,T.Bs)(r,t),e)),{}),s=await t((0,N.xP)({elementIds:e,permissionIdsOverride:g})),a=await Promise.all(s.map((async({token:r,elementIds:o})=>(0,E.ZP)({url:"boards",timeout:6e4,retry:1,params:{excludeSelf:n,loadAncestors:c,tokens:r,canvasOrder:m,ids:o.join(",")}}).catch((n=>{t((0,x.y$)(H.P6.boards,e));const r=[...e];throw n.asyncResource={alreadyHandledIds:r},n}))))),b={boardIds:[],childrenReturned:{},comments:{},elementCount:0,elements:{},errors:{},asyncResource:{},canvasOrder:{}};if(a.forEach((e=>{const{data:t={}}=e;b.boardIds=o()(b.boardIds,t.boardIds||[]),b.childrenReturned=f()(b.childrenReturned,t.childrenReturned||{}),b.comments=f()(b.comments,t.comments||{}),b.elementCount+=t.elementCount||0,b.elements=f()(b.elements,t.elements||{}),b.errors=f()(b.errors,t.errors||{}),b.canvasOrder=f()(b.canvasOrder,t.canvasOrder||{});const n=(0,S.gz)(e);n&&(!b.asyncResource.expiry||n<b.asyncResource.expiry)&&(b.asyncResource.expiry=n),b.asyncResource.fetchedTime=t.fetchedTime,b.asyncResource.errors=f()(b.errors,t.errors||{})})),!l()(b.elements))return b;const y=d()(b.elements),I=e.reduce(((e,t)=>{if(!b.childrenReturned[t])return e;const n=i[t],r=h()(n,y);return e.concat(r)}),[]);return t(P?(0,O.gk)(b.elements,I):(0,w.dY)(b.elements,I)),l()(b.comments)&&t((0,A.uE)({comments:b.comments})),l()(b.canvasOrder)&&t((({canvasOrder:e})=>({type:D.wN,canvasOrder:e}))({canvasOrder:b.canvasOrder})),p&&(t((0,_.D$)(b.elements)),t((0,R.lc)(b.elements))),b})))},K=e=>G(Object.assign({},e,{boardIds:[e.boardId]})),W=e=>(t,n)=>{const r=n(),o=(0,M.$3)(r),i=((0,L.cs)(r)[e]||[]).concat((0,P.L)(r,{currentBoardId:e}).path).reduce(((e,t)=>{const n=(0,v.vg)(t,o);if(!n||(0,y.v8)(n)){const r=n?(0,I.G8z)(n):t;e.push(r)}return e}),[]);return t(G({boardIds:i,excludeSelf:!0,loadAncestors:!1}))},V=(e,t,n,r,o)=>!(0,C.rD)(e)||(!!(0,C.IB)(e)||(!n||!(0,C.pl)(e)&&(!!(o&&r<o)||!(n<r)&&(!!(o&&t&&t<o)||!(t&&n<t+2*Z.yu.MINUTE)&&n>r+2*Z.yu.SECOND)))),$=(e,t,n)=>{const r=[],o=(0,z.X)(t);for(const i of e){const{id:e,modifiedTime:s}=i,a=(0,j.Rf)(t,H.P6.boards,e),l=n||(0,v.vg)("fetchedTime",a),c=(0,v.vg)("creationTime",a);V(a,c,s,l,o)&&r.push(e)}return r},q=e=>async(t,n)=>{const{beforeRefresh:r,afterRefresh:o,afterTimestamp:i}=e;try{const a=await(s=e.boardId,(0,E.ZP)({url:`boards/${s}/modified`,timeout:11e3}).then((e=>e.data.modifiedTime)).catch((e=>(console.error("ERROR: fetching board modified time",e,e.response),Promise.reject(e))))),l=n(),c=$([{id:e.boardId,modifiedTime:a}],l,i);if(m()(c))return void t((0,x.aX)(H.P6.boards,[e.boardId]));r&&r();const d=t(K(Object.assign({},e,{force:!0})));return o&&o(),d}catch(a){r&&r();const n=t(K(Object.assign({},e,{force:!0})));return o&&o(),n}var s},Y=()=>(e,t)=>{const n=t(),r=(0,k.nv)(n);return e(((e,t)=>async n=>{const r=await(0,E.ZP)({url:`boards/${e}/password-pre-fetch`,params:{p:t}});return n((0,w.dY)(r.data.elements))})(r,(0,F.b1)()(n,{elementId:r})))}},28780:(e,t,n)=>{"use strict";n.d(t,{AD:()=>o,lc:()=>i});var r=n(29318);const o=e=>({type:r.C8,boardHierarchies:e}),i=e=>({type:r.eM,elements:e})},29318:(e,t,n)=>{"use strict";n.d(t,{C8:()=>r,eM:()=>o,rL:()=>i});const r="BOARD_HIERARCHIES_LOAD",o="BOARD_HIERARCHIES_LOAD_ELEMENTS",i="BOARD_HIERARCHIES_REMOVE"},76277:(e,t,n)=>{"use strict";n.d(t,{D$:()=>i,I7:()=>o});var r=n(18338);const o=e=>({type:r.HZ,boardSummaries:e}),i=e=>({type:r.qx,elements:e})},18338:(e,t,n)=>{"use strict";n.d(t,{HZ:()=>r,qQ:()=>i,qx:()=>o});const r="BOARD_SUMMARIES_LOAD",o="BOARD_SUMMARIES_LOAD_ELEMENTS",i="BOARD_SUMMARIES_REMOVE"},25066:(e,t,n)=>{"use strict";n.d(t,{k:()=>h});var r=n(9041),o=n(60742),i=n(60658),s=n(37407),a=n(30861),l=n(10305),c=n(23680),d=n(59916),u=n(6690),m=n(75188),p=n(73440);const h=({id:e,elementType:t,data:n})=>(h,g)=>{switch(t){case u.xE:return(({id:e,elementType:t,data:n},i,s)=>{const c=(0,o.k)(),{url:u}=n,m=r.ContentState.createFromText(u),p={textContent:(0,r.convertToRaw)(m),caption:null,showCaption:!1,ignoreAutoType:!0};s((0,l.TK)({id:e,elementType:t,undoChanges:p,transactionId:c})),s((0,d.T)({id:e,data:{url:u}})),s((0,a.s)({id:e,url:u,transactionId:c}))})({id:e,elementType:t,data:n},0,h);case p.A:return(({id:e,elementType:t,data:n},r,a)=>{const d=(0,o.k)();a((0,l.TK)({id:e,elementType:m.Kl,transactionId:d})),a((0,s.bc)({elementType:p.A,location:(0,i.mK)({listId:e}),content:n.content,transactionId:d,select:!1})),a((0,c.uX)({ids:[e],transactionId:d}))})({id:e,elementType:t,data:n},0,h);default:return h((0,l.TK)({id:e,elementType:t,changes:n}))}}},14849:(e,t,n)=>{"use strict";n.d(t,{Sj:()=>a,fN:()=>o,n9:()=>i,o:()=>s});var r=n(75763);const o=e=>!!(0,r.TjO)(e)||!(0,r.DCx)(e)&&!(0,r.Q5Y)(e),i=e=>!(0,r.TjO)(e)&&!!(0,r.DCx)(e),s=({element:e,gridSize:t})=>{const n=(0,r.Q5Y)(e);if(n)return{minHeight:n*t};const o=(0,r.DCx)(e);return o?{maxHeight:o*t}:{}},a=(e,t,n)=>e-3.4*n<t},31368:(e,t,n)=>{"use strict";n.d(t,{Bf:()=>i,SH:()=>o,zI:()=>r});const r="CLIPPER_SET",o="CLIPPER_CLEAR",i="CLIPPER_OPERATION_COMPLETE"},97596:(e,t,n)=>{"use strict";n.d(t,{R:()=>h});var r=n(77606),o=n.n(r),i=n(45685),s=n(19092),a=n(495),l=n(75763),c=n(25507),d=n(10305),u=n(79900),m=n(29176),p=n(17503);const h=({elementId:e,checkCloneProps:t,force:n})=>async(n,r)=>{const h=r(),g=h.get("elements"),f=(0,a.sb)(g,e);if(!f)return;const E=(0,l.G8z)(f);return n((0,c.S)(m.P6.cloneInstances,E,!0)((async()=>{const r=(0,u.dy)(h).toArray().join(","),a=await(0,i.dJ)({url:`elements/${e}/clones`,params:{tokens:r,"check-clone-props":t,id:E}}),{elements:l}=a.data;return o()(l)||n((0,d.dY)(l)),n((({originalElementId:e,instanceCount:t,validInstanceCount:n,reachableInstanceCount:r,reachableInstanceIds:o,reachableInstanceBoardCount:i,reachableInstanceBoardIds:a})=>({type:p.P,elementId:e,instanceCount:t,validInstanceCount:n,reachableInstanceCount:r,reachableInstanceIds:o,reachableInstanceBoardCount:i,reachableInstanceBoardIds:a,timestamp:(0,s.u3)()}))(a.data)),a})))}},17503:(e,t,n)=>{"use strict";n.d(t,{P:()=>r,t:()=>o});const r="CLONE_INSTANCES_FETCHED",o={INVALID:"INVALID",LOADING:"LOADING",ERROR:"ERROR",NO_CLONES:"NO_CLONES",CURRENT_BOARD_ONLY:"CURRENT_BOARD_ONLY",PRIVATE_BOARDS:"PRIVATE_BOARDS",MANY_BOARDS:"MANY_BOARDS"}},24040:(e,t,n)=>{"use strict";n.d(t,{v:()=>a});var r=n(43393),o=n.n(r),i=n(43831),s=n(75763);const a=(e,t)=>{const n=(0,i.su)(t),r=(0,i.su)(e),a=(0,s.qEr)(r),l=(0,s.L5g)(r),c=(0,s.L5g)(n),d=(0,s.nRF)(e);return o().fromJS(Object.assign({},r,n,{_id:d,id:d,isClone:!0,location:a,content:Object.assign({},c,l)}))}},26777:(e,t,n)=>{"use strict";n.d(t,{H_:()=>l,IJ:()=>a,VK:()=>c,uE:()=>s.uE});var r=n(60742),o=n(80275),i=n(37407),s=n(56124);const a=({text:e,threadId:t,sync:n=!0,transactionId:a=(0,r.k)()})=>(r,l)=>{const c=l(),d=(0,o.rc)(c),u=r((0,i.xH)());return r((0,s.IJ)({text:e,threadId:t,sync:n,transactionId:a,id:u,userId:d}))},l=({_id:e,contentUpdate:t,text:n,userId:o,sync:i=!0,transactionId:a=(0,r.k)()})=>(0,s.H_)({_id:e,contentUpdate:t,text:n,userId:o,sync:i,transactionId:a}),c=({_id:e,userId:t,sync:n=!0,transactionId:o=(0,r.k)()})=>(r,i)=>{const a=i().getIn(["comments",e,"threadId"]);return r((0,s.VK)({_id:e,threadId:a,userId:t,transactionId:o,sync:n}))}},7728:(e,t,n)=>{"use strict";n.d(t,{K1:()=>s,oq:()=>a,yK:()=>i});var r=n(81897),o=n(78327);const i=(e,{_id:t})=>e.getIn(["app","commentsInput","map",t,"isEditing"]),s=(e,{_id:t})=>e.getIn(["app","commentsInput","map",t,"text"]),a=(0,o.y1)((e=>e.getIn(["app","commentsInput","map"])),r.Js,((e,t)=>e.filter((e=>!!e.getIn(["text","blocks",0,"text"])||!!e.get("isEditing"))).filter(((e,n)=>t.includes(n)))))},39222:(e,t,n)=>{"use strict";n.d(t,{H2:()=>f,SC:()=>E,Zx:()=>y,_m:()=>h,h_:()=>u,ki:()=>v});var r=n(41609),o=n.n(r),i=n(22222),s=n(81897),a=n(29144),l=n(78327),c=n(43831),d=n(11111);const u=e=>e.get("comments"),m=(e,{threadId:t})=>t,p=(e,t)=>(0,a.LG)(t)-(0,a.LG)(e),h=(0,l.hH)(u,(e=>e.reduce(((e,t)=>{const n=(0,a.v2)(t),r=(0,a.s3)(t);return e[r]=e[r]||[],e[r].push(n),e}),{}))),g=[],f=()=>(0,l.y1)(m,h,((e,t)=>t[e]||g)),E=()=>(0,i.P1)(f(),(e=>(null==e?void 0:e.length)||0)),v=()=>(0,l.y1)((0,l.y1)(f(),u,c.yS),(e=>e.valueSeq().sort(p))),b=(0,l.y1)(s.zP,h,((e,t)=>e.filter(d.Iw).reduce(((e,n)=>{const r=(0,a.v2)(n),i=t[r];return o()(i)||e.push(...i),e}),[]))),y=(0,l.y1)(b,u,c.yS)},59481:(e,t,n)=>{"use strict";n.d(t,{HE:()=>l,KX:()=>s,Vo:()=>i,ax:()=>c,zd:()=>a});var r=n(45575),o=n(23680);const i=({_id:e})=>({type:r.b2,_id:e}),s=({_id:e,elementId:t})=>n=>{n((0,o.gF)({ids:[t]})),n({type:r.FY,_id:e})},a=({_id:e})=>({type:r.b9,_id:e}),l=({_id:e,text:t})=>({type:r.Bh,_id:e,text:t}),c=({_id:e,text:t})=>({type:r.sS,_id:e})},83601:(e,t,n)=>{"use strict";n.d(t,{_9:()=>v,eF:()=>y,rF:()=>b});var r=n(43831),o=n(11111),i=n(495),s=n(13608),a=n(90693),l=n(60658),c=n(77297),d=n(75763),u=n(81897),m=n(83547),p=n(49508),h=(n(87447),n(23680),n(37407)),g=n(24389),f=n(56860),E=n(97245);const v=({elementIds:e})=>(t,n)=>{if((0,r.xb)(e))return[];const o=n(),i=(0,u.zP)(o);return(0,c.RC)(i.valueSeq(),e).map(d.nRF).toArray()},b=({moves:e})=>(t,n)=>{const o=n(),a=(0,m.$)(o),u=a.valueSeq();return e.forEach((t=>{const{id:n}=t,o=(0,c.RC)(u,[n]);(0,r.xb)(o)||o.forEach((n=>{if((0,c.cH)(n)&&(({element:e,move:t,moves:n,elements:r})=>{const o=(0,d.nRF)(e),s=(0,d.CKs)(e),a=t.location.parentId,c=t.location.section;if(c===f.WI.INBOX){if(s===a)return!0;const e=(0,i.sb)(r,a);return(0,d.CKs)(e)!==s||(0,l.Mc)(e)}return s!==a&&(!n.some((e=>(0,d.nRF)(e)===o))||c!==f.WI.CANVAS)})({element:n,move:t,moves:e,elements:a})){const t=(0,s.nZ)(n);e.push(t)}}))})),e},y=({initialConnectedId:e,newConnectedId:t,transactionId:n})=>(i,s)=>{const f=s(),v=(0,u.zP)(f),b=(0,c.RC)(v.valueSeq(),[e]).map((n=>{if(!(0,o.P7)(n))return null;const i=(0,d.nRF)(n),s={};if((0,d.Xdc)(n)===e){const e=(0,r.su)((0,d.xH)(n));s.start=Object.assign({},e,{elementId:t})}if((0,d.ov8)(n)===e){const e=(0,r.su)((0,d.LWs)(n));s.end=Object.assign({},e,{elementId:t})}return(0,r.xb)(s)?null:{id:i,changes:s}})).filter((e=>!!e)).toArray();(0,r.xb)(b)||i((0,h.Az)({updates:b,transactionId:n}));const y=i((I=e,(e,t)=>{const n=t(),r=(0,m.$)(n),o=(0,p.pD)(n);return(0,a.CB)({elements:r,elementGraph:o,parentId:I}).valueSeq().filter(l.N0)}));var I;const C=y.map((e=>{const n=(0,r.su)((0,d.qEr)(e));return n?{id:(0,d.nRF)(e),location:Object.assign({},n,{parentId:t})}:null})).filter((e=>!!e)).toArray();(0,r.xb)(C)||i((0,g.Zq)({moves:C,transactionId:n,moveOperation:E.Pm.CONNECTION_SWITCH}))}},77297:(e,t,n)=>{"use strict";n.d(t,{Gf:()=>c,Ii:()=>u,RC:()=>d,cH:()=>l});var r=n(11111),o=n(75763),i=n(25837),s=n(43831),a=n(60658);const l=e=>(0,r.P7)(e),c=e=>t=>{if(!l(t))return!1;if(!(0,a.PY)(t))return!1;if(e.includes((0,o.nRF)(t)))return!1;const n=(0,o.H_f)(t)&&(0,o.Xdc)(t),r=(0,o.XV9)(t)&&(0,o.ov8)(t);return!(!n||!r)&&(e.includes(n)&&e.includes(r))},d=(e,t)=>e.filter((e=>t=>{if(!l(t))return!1;if(!(0,a.PY)(t))return!1;if(e.includes((0,o.nRF)(t)))return!1;const n=(0,o.H_f)(t)&&(0,o.Xdc)(t),r=(0,o.XV9)(t)&&(0,o.ov8)(t);if(n||r)for(const o of e)if(n===o||r===o)return!0;return!1})(t)),u=e=>(0,s.qo)(null==e?void 0:e.flatMap((e=>l(e)?(0,i.iN)(e):[])))},94043:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s),l=n(54688),c=n(77345),d=n(87975);const u=({children:e,childrenTypes:t,show:n,isBoardDuplicating:o,isBoard:i})=>{(0,r.useEffect)((()=>{n&&i&&d.Z.setBoardCountsInitialised(!0)}),[n]);const s=(0,r.useMemo)((()=>(0,c.oz)(t,o)),[t,o]);return r.createElement("div",{className:"ContainerElementChildCount ElementContentsTag"},r.createElement("span",{className:a()("text",{show:n})},s),e)};u.propTypes={children:i().oneOfType([i().arrayOf(i().node),i().node]),childrenTypes:i().object,show:i().bool,isBoardDuplicating:i().bool,isBoard:i().bool};const m=(0,l.cr)(u)},38320:(e,t,n)=>{"use strict";n.d(t,{ee:()=>g,rL:()=>h,HX:()=>p});var r=n(43831),o=n(78327),i=n(11111),s=n(75763),a=n(49508),l=n(68468),c=n(77345),d=n(51354);const u=e=>{var t;return null===(t=(e=>e.getIn(["cache","selectors"]))(e))||void 0===t?void 0:t.elementCountsMap},m=()=>(0,o.y1)((0,o.y1)(l.sb,a.pD,a.cs,((e,t,n)=>{const r=(0,s.G8z)(e);return((0,i.v8)(e)?n[r]:t[r])||[]})),l.$3,r.yS),p=()=>(0,o.y1)(m(),(e=>e.reduce(((e,t)=>{if(!(0,i.rf)(t)&&!(0,i.v8)(t))return e;const n=(0,c.LH)(t),r=e[n];return e[n]=r?r+1:1,e}),{}))),h=()=>{const e=p(),t=(0,o.y1)(u,((e,t)=>t),((e,t)=>{const n=null==e?void 0:e[t];if(n)return(0,c.vX)(n)}));return(n,r)=>{if((0,d.E)(n,r)){const e=(0,l.sb)(n,r),o=(0,s.G8z)(e);return t(n,o)}return e(n,r)}},g=()=>(0,o.y1)(m(),(e=>e.map((e=>(0,r.vg)("elementType",e)))))},77345:(e,t,n)=>{"use strict";n.d(t,{LH:()=>c,oz:()=>l,vX:()=>d});var r=n(41609),o=n.n(r),i=n(39301),s=n(11111);const a=["board","card","file","document"],l=(e,t=!1)=>{if(!e)return"";const n=a.reduce(((t,n)=>{const r=e[n]||0;return 0===r?t:[...t,{type:n,count:r}]}),[]);return o()(n)&&t?"Duplicating...":o()(n)?"0 cards":n.map((({type:e,count:t})=>{let r=e;return"document"===e&&n.length>2&&(r="doc"),`${t} ${(0,i.gY)(r,t)}`})).join(", ")},c=e=>(0,s.v8)(e)?"board":(0,s.qk)(e)?"document":(0,s.zE)(e)?"file":"card",d=e=>Object.entries(e).reduce(((e,[t,n])=>{if(!(0,s.rf)(t)&&!(0,s.v8)(t))return e;if((0,s.N2)(t))return e;const r=c(t);return e[r]=(e[r]||0)+n,e}),{board:0,card:0,file:0,document:0})},927:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(23279),o=n.n(r),i=n(23493),s=n.n(i),a=n(67294),l=n(45697),c=n.n(l),d=n(28644),u=n(61473);function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=(0,d.zO)("isAttachModeThisElement"),h=(0,d.zO)("isHoveredShallow"),g=(0,d.FB)("isHoveredShallow"),f=(0,d.FB)("isHovered"),E=e=>document.getElementById((0,u.Oc)(e));class v extends a.Component{constructor(...e){super(...e),m(this,"onMove",(e=>{e.pageX===this.prevPageX&&e.pageY===this.prevPageY||(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.debouncedEnableAttachMode())})),m(this,"throttledOnMove",s()(this.onMove,20)),m(this,"enableAttachMode",(()=>{const{elementId:e,dispatchStartAttachMode:t,isAttachModeThisElement:n}=this.props;n||t(e)})),m(this,"debouncedEnableAttachMode",o()(this.enableAttachMode,500)),m(this,"addAttachModeStyles",(()=>{const{elementId:e}=this.props,t=E(e),n=document.createElement("div");n.className="attach-mode-drop-padding",t.insertAdjacentElement("afterbegin",n)})),m(this,"clearAttachModeState",(()=>{this.clearListeners(),requestAnimationFrame((()=>requestAnimationFrame(this.cleanAttachModeDom)))})),m(this,"clearListeners",(()=>{this.listening&&(this.listening=!1,this.throttledOnMove.cancel(),document.removeEventListener("dragover",this.throttledOnMove),document.removeEventListener("touchmove",this.throttledOnMove),this.debouncedEnableAttachMode.cancel())})),m(this,"cleanAttachModeDom",(()=>{const{elementId:e,dispatchEndAttachMode:t,isAttachMode:n}=this.props;n&&t(e);const r=E(e);if(!r)return;const o=r.querySelector(":scope > .attach-mode-drop-padding");o&&r.removeChild(o)}))}componentDidUpdate(e){const{disableAttachMode:t,immediatelyEnterAttachMode:n}=this.props;t||(h(e,this.props)&&(n?this.enableAttachMode():(this.listening=!0,this.debouncedEnableAttachMode(),document.addEventListener("dragover",this.throttledOnMove),document.addEventListener("touchmove",this.throttledOnMove))),g(e,this.props)&&this.clearListeners(),f(e,this.props)&&this.clearAttachModeState(),p(e,this.props)&&this.addAttachModeStyles())}componentWillUnmount(){this.clearAttachModeState()}render(){return a.Children.only(this.props.children)}}v.propTypes={children:c().oneOfType([c().arrayOf(c().node),c().node]),elementId:c().string,disableAttachMode:c().bool,isAttachMode:c().bool,isAttachModeThisElement:c().bool,immediatelyEnterAttachMode:c().bool,isHovered:c().bool,isHoveredShallow:c().bool,dispatchStartAttachMode:c().func.isRequired,dispatchEndAttachMode:c().func.isRequired};const b=v},73114:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ee,p:()=>me});var r=n(64721),o=n.n(r),i=n(37974),s=n(84785),a=n(54688),l=n(97245),c=n(3911),d=n(64242),u=n(25926),m=n(48213),p=n(90354),h=n(24389),g=n(23680),f=n(1231),E=n(10615),v=n(83601),b=n(60660),y=n(68468),I=n(41609),C=n.n(I),S=n(94885),T=n.n(S),w=n(75763),O=n(80583),_=n(95521),R=n(77297),A=n(495),D=n(87447),N=n(81897);var x=n(87393),M=n(19092),P=n(60658),L=n(18260),k=n(56884),F=n(43831),B=n(59242),j=n.n(B),z=n(10048),U=n(11111),H=n(40565),Z=n(28719),G=n(8698),K=n(91824),W=n(54142);const V=({grabbedElement:e,element:t})=>(0,w.nRF)(e)===(0,w.nRF)(t),$=({grabbedElement:e,unscaledGrabOffset:t,gridSize:n})=>(0,G.KX)(e)&&!(0,P.PY)(e)?(({unscaledGrabOffset:e,gridSize:t})=>H.e5((0,Z.l)({gridSize:t}),e))({unscaledGrabOffset:t,gridSize:n}):(0,U.N2)(e)?{x:-28*n,y:0}:W.rb,q=({grabbedElement:e,unscaledGrabOffset:t,element:n,gridSize:r,measurementsMap:o})=>V({grabbedElement:e,element:n})?$({grabbedElement:e,unscaledGrabOffset:t,gridSize:r}):(0,G.KX)(n)&&!(0,P.PY)(n)?(({element:e,gridSize:t,measurementsMap:n})=>{const r=(0,F.vg)((0,w.nRF)(e),n),o=(0,F.vg)("originOffset",r);return H.e5((0,Z.l)({gridSize:t}),o)})({element:n,gridSize:r,measurementsMap:o}):W.rb,Y=({grabbedElement:e,measurementsMap:t,measurementsScaledPositions:n,gridSize:r,unscaledGrabOffset:o,zoomScaleOnDragSource:i})=>(s,a,l)=>(s[(0,w.nRF)(a)]=H.Iu(q({grabbedElement:e,unscaledGrabOffset:o,element:a,gridSize:r,measurementsMap:t,index:l}),(({grabbedElement:e,element:t,measurementsScaledPositions:n,gridSize:r,index:o,zoomScaleOnDragSource:i})=>{if(V({grabbedElement:e,element:t}))return W.rb;const s=(0,w.nRF)(t),a=(0,F.vg)(s,n),l=(0,w.nRF)(e),c=(0,F.vg)(l,n);if(!c||!a){const e=[];return!c&&e.push(l),!a&&e.push(s),z.Z.warn("No measurements found for ",e),{x:3*r*(o+1),y:3*r*(o+1)}}return H.xH(i,H.Yw(c,a))})({grabbedElement:e,element:a,measurementsScaledPositions:n,gridSize:r,index:l,zoomScaleOnDragSource:i})),s),X=({grabbedElement:e,draggedElements:t,measurementsMap:n,gridSize:r,unscaledGrabOffset:o,zoomScale:i,zoomScaleOnDragSource:s,zoomTranslationPx:a})=>{const l=(({measurementsMap:e,zoomScale:t,zoomTranslationPx:n})=>Object.keys(e).reduce(((r,o)=>{const i=(0,F.vg)(o,e),s=(0,H.wk)(i);return r[o]=s,(0,K.YT)(i)&&(r[o]=j()(H.bA(t),H.Iu(n))(s)),r}),{}))({measurementsMap:n,zoomScale:i,zoomTranslationPx:a});return t.reduce(Y({grabbedElement:e,measurementsMap:n,measurementsScaledPositions:l,gridSize:r,unscaledGrabOffset:o,zoomScaleOnDragSource:s}),{})};var Q=n(83974);const J=({dropResult:e,item:t,gridSize:n,measurementsMap:r,highestScore:o})=>{const{unscaledElementOffsetsMap:i,draggedElementIds:s}=t,a=(({dropResult:e,unscaledElementOffsetsMap:t,gridSize:n,draggedElementIds:r,highestScore:o,scaledCustomDragOffset:i})=>(s,a)=>{const l=(0,Q.Z)({dropResult:e,unscaledElementOffsetsMap:t,elementId:a,gridSize:n,draggedElementIds:r,highestScore:o,scaledCustomDragOffset:i});return s.push({id:a,location:l}),s})({dropResult:e,unscaledElementOffsetsMap:i,gridSize:n,draggedElementIds:[...s],highestScore:o,scaledCustomDragOffset:t.scaledCustomDragOffset});return e.acceptedElementIds.sort(((e,t)=>(0,F.P2)([e,"top"],r)-(0,F.P2)([t,"top"],r))).reduce(a,[])};var ee=n(97069),te=n(85263),ne=n(60122),re=n(25309),oe=n.n(re),ie=n(11151),se=n.n(ie);var ae=n(14253),le=n(56860),ce=n(80903),de=n(26434),ue=n(12761);const me=({isEditable:e,isEditing:t,isEditingChild:n,documentMode:r,isFocusedForegroundElement:o})=>e&&!t&&!n&&!r&&!o,pe=e=>({startDragging:(t,n)=>{t||e((0,g.yJ)()),e((0,f.A4)({ids:n}))},endDragging:t=>e((0,f.yy)(t)),dispatchEndMoveOperation:()=>e((0,E.a7)("move")),onDropMove:({moves:t,initialMeasurements:n,transactionId:r,sync:o=!0})=>e((0,h.Zq)({moves:t,initialMeasurements:n,transactionId:r,sync:o,moveOperation:l.Pm.DROP})),onDropCopy:({moves:t,transactionId:n})=>e((0,p.sF)({moves:t,transactionId:n})),dispatchGetDraggedElements:({grabbedElement:t,permissions:n})=>e((({grabbedElement:e,permissions:t})=>(n,r)=>{const o=r(),i=(0,D.Sp)(o),s=(0,D.eD)(o),a=(0,w.nRF)(e);let l;l=i.size&&i.includes(a)?s.filter(T()(w.cOT)).filter((0,O.mN)(t)).toArray().sort(_.qp):[e];const c=(0,N.zP)(o),d=l.map(w.nRF),u=(0,R.RC)(c.valueSeq(),d).toArray();C()(u)||u.forEach((e=>{(0,R.Gf)(d)(e)&&l.push(e)}));const m=(0,R.Ii)(l);return C()(m)||m.forEach((e=>{if(i.size&&i.includes(e))return;const t=(0,A.sb)(c,e);t&&l.push(t)})),l})({grabbedElement:t,permissions:n})),dispatchGetDraggedChildIds:t=>e((0,x.bp)(t)),dispatchGetCurrentElements:()=>e(((e,t)=>(0,y.$3)(t()))),dispatchGetConnectedElementIds:t=>e((0,v._9)({elementIds:t})),dispatchStartAttachMode:t=>e((0,m.I)(t,W.XZ.HOT_SPOT)),dispatchGetCanvasZoomState:()=>e((0,b.to)())}),he=e=>({dispatchGetMeasurementsMap:()=>e(((e,t)=>(0,u.gd)(t())))}),ge={canDrag:({isEditing:e,isEditingChild:t,isEditable:n,isLocked:r})=>!r&&n&&!(e||t),beginDrag(e,t,n){const{attachment:r,element:o,startDragging:i,isSelected:s,dispatchGetDraggedElements:a,dispatchGetDraggedChildIds:l,dispatchGetConnectedElementIds:d,dispatchStartAttachMode:u,dispatchGetMeasurementsMap:m,dispatchGetCanvasZoomState:p,gridSize:h,permissions:g,getContextZoomScale:f=(()=>1)}=e,E=p(),v=(0,F.vg)("scale",E),b=(0,F.vg)("translation",E),y=f(),I=t.getSourceClientOffset(),C=t.getClientOffset(),S=(0,Z.Qv)({clientOffset:C,sourceClientOffset:I}),T=H.xH(y,S);c.default.scaledGrabOffset=S;const O=a({grabbedElement:o,permissions:g}),_=O.map(w.nRF),R=m(),A=[o,...O].reduce(((e,t)=>{const n=(0,w.nRF)(t),r=(0,F.su)((0,F.vg)(n,R));return e[n]=(0,K.YT)(r)?r:ae.Z.getElementMeasurementFromCanvasDocument(n),e}),{});if(1===(null==O?void 0:O.length)&&O.every(P.N0)){u((0,w.CKs)(O[0]))}const D=l(_),N=[..._,...D],x=d(N),L=(0,F.su)((0,w.qEr)(o));i(s,_),(0,ee.Ig)(A);const k=X({grabbedElement:o,draggedElements:O,measurementsMap:A,gridSize:h,unscaledGrabOffset:T,zoomScale:v,zoomScaleOnDragSource:y,zoomTranslationPx:b}),B=(0,te.HM)()?H.bA(h,{x:0,y:-1}):{x:0,y:0},j=H.bA(y,B);return{dragStartTimestamp:(0,M.u3)(),attachment:r,element:o,connectingElementIds:x,draggedElementIds:_,draggedDescendantIds:N,draggedElements:O,scaledCustomDragOffset:j,unscaledElementOffsetsMap:k,zoomScaleOnDragSource:y,originalLocation:L,fromList:!!e.inList,hoveredItems:{},hoveredTypes:{}}},isDragging(e,t){const{element:n}=e,r=(0,w.nRF)(n),i=t.getItem(),{draggedElementIds:s,connectingElementIds:a}=i;return s.includes(r)||o()(a,r)},endDrag(e,t,n){const{inTrash:r,element:o,endDragging:i,onDropMove:s,onDropCopy:a,dragModifierKeys:l,gridSize:d,currentBoardId:u,dispatchEndMoveOperation:m,dispatchGetMeasurementsMap:p,dispatchGetCurrentElements:h}=e,g=m();if(!t.didDrop())return i();const f=t.getItem(),E=t.getDropResult(),{sync:v,dropState:b}=E,y=f.draggedElementIds,I=!r&&l.get(ce.nl.altKey);if(b&&!I?i(Object.assign({},c.default,b,{droppedElementIds:y})):i(),!E.location)return;((e,t,{element:n,inList:r})=>{e?(0,L.Y)("duplicated-element-opt-drag"):t.location.section===le.WI.TRASH?(0,L.Y)("moved-element-to-trash-drag"):t.location.section===le.WI.INBOX&&t.location.parentId===(0,w.CKs)(n)&&r!==ue.L.IN_LIST_COLUMN?(0,L.Y)("moved-element-to-unsorted-notes"):(0,U.N2)(n)&&(0,k.dO)({eventType:de.Xc.DRAGGED_TO_DO_ITEM})})(I,E,e);const C=E.transactionId||g,S=p(),T=h(),O=(0,A.G)(T,u).valueSeq().toJS().filter((e=>-1===f.draggedElementIds.indexOf(e.id))),R=(0,P.fX)(O),D=(0,F.P2)(["location","parentId"],E),N=(0,A.sb)(T,D),x=((0,U.k8)(N)||(0,U.N2)(N))&&(0,ne.Z)(e,t)?(({dropResult:e,measurementsMap:t,elements:n})=>{const r=e.acceptedElementIds.sort(((e,n)=>(0,F.P2)([e,"top"],t)-(0,F.P2)([n,"top"],t)));return se()((e=>(0,A.G)(n,e).toList().sort(_.bj).toArray()),r).map((t=>({id:(0,w.nRF)(t),location:oe()(e.location)})))})({elements:T,dropResult:E,measurementsMap:S}):J({element:o,dropResult:E,item:f,gridSize:d,measurementsMap:S,highestScore:R});if(I)return a({moves:x,transactionId:C});const M=(0,ee.JD)();s({moves:x,initialMeasurements:(0,F.su)((0,F.yS)(y,M)),transactionId:C,sync:v})}},fe=(e,t)=>({connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}),Ee=e=>(0,a.qC)((0,i.$j)(null,pe),(0,d.Z)(null,he),(0,s.DragSource)(l.XX,ge,fe))(e)},84984:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var r,o=n(67294),i=n(45697),s=n.n(i),a=n(94184),l=n.n(a),c=n(37974),d=n(84785),u=n(46408),m=n(43393),p=n(3911),h=n(85263),g=n(17173),f=n(89546),E=n(11111),v=n(75763),b=n(83974),y=n(37407),I=n(10615),C=n(1231),S=n(60434),T=n(97245),w=n(56860),O=n(12265),_=n(69129);const R=()=>({}),A={beginDrag(e,t){const{elementType:n,beforeDragStart:r,startDragging:o,getElementScaledCustomDragOffset:i,getElementScaledGrabOffset:s,getDefaultContent:a=R,currentUserId:l,creationSource:c,getContextZoomScale:d=(()=>1)}=e;r&&r(e),o({source:c});const u=m.fromJS(f.O4({id:O.eW,elementType:n,content:a(e),location:{},meta:{creator:l}})),h=(0,v.nRF)(u),g=d();p.default.scaledGrabOffset=s(e,t,u);return{element:u,isNewElement:!0,draggedElementIds:[h],draggedElements:[u],zoomScaleOnDragSource:g,scaledCustomDragOffset:i(e,t,u),hoveredItems:{},hoveredTypes:{}}},async endDrag(e,t,n){const{beforeDragEnd:r,dispatchEndMoveOperation:o,endDragging:i,onDrop:s,customOnDrop:a,elementType:l,getDefaultContent:c=R,currentBoardId:d,selectOnCreate:u=!0,editOnCreate:m=!0,creationSource:f,onDragEnd:y,gridSize:I}=e,C=((e,t,n)=>{if(!t.didDrop())return!1;const r=t.getDropResult();return!!r.location&&r.location.section!==w.WI.TRASH})(0,t);r&&r(C);const S=o();if(!C)return i({source:f}),y&&y(!1),void i({source:f});const T=t.getDropResult(),{unscaledElementOffsetsMap:O,element:_,scaledCustomDragOffset:A}=t.getItem(),D=(0,b.Z)({dropResult:T,unscaledElementOffsetsMap:O,gridSize:I,elementId:(0,v.nRF)(_),scaledCustomDragOffset:A}),N=((e,t)=>{const{dropTargetElement:n}=e;return!(!n||(0,v.nRF)(n)!==t&&((0,E.v8)(n)||(0,E.t3)(n)&&(0,v.esd)(n)))})(T,d),x=m&&N,M=u&&N;x&&((e,t)=>{if(!(0,h.T)())return;if(null==e||!e.clientOffset)return;const{clientOffset:n,handledBy:r}=e,o=(0,g.z9)(n,r);(0,g.gL)(o,e.handledBy,!1)})(T),(()=>{const e=new MouseEvent("mouseup",{bubbles:!0});document.body.dispatchEvent(e)})();const P=T.transactionId||S,L=a||s,k=await L({elementType:l,location:D,content:c(e),currentBoardId:d,transactionId:P,creationSource:f,select:M,edit:x});if(k){const e=T?T.dropState:null;i(Object.assign({},p.default,e,{source:f,droppedElementIds:[k]}))}else i({source:f});y&&y(!0,k)}};let D=(0,c.$j)(null,(e=>({startDragging:({source:t})=>e((0,C.A4)({source:t})),endDragging:t=>e((0,C.yy)(t)),dispatchEndMoveOperation:()=>e((0,I.a7)("move")),onDrop:({elementType:t,location:n,content:r,currentBoardId:o,transactionId:i,select:s,edit:a=!0,creationSource:l})=>{const c=e((0,y.bc)({elementType:t,location:n,content:r,currentBoardId:o,transactionId:i,select:s,edit:a,creationSource:l}));return s&&e((0,S.sj)({predicateFn:e=>e.startsWith(_.K2.MORE)})),c}})))(r=(0,d.DragSource)(T.XX,A,((e,t)=>({connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()})))(r=class extends o.Component{componentWillMount(){const{connectDragPreview:e}=this.props;e&&e((0,u.r)())}render(){const{connectDragSource:e,children:t,isDragging:n,className:r,delayTouchStart:i}=this.props;return e(o.createElement("div",{className:l()("DraggableElementCreationTool",r,{dragging:n})},t),{delayTouchStart:i})}})||r)||r;D.propTypes={elementType:s().string.isRequired,currentBoardId:s().string.isRequired,className:s().string,connectDragSource:s().func,connectDragPreview:s().func,isDragging:s().bool,children:s().oneOfType([s().element,s().array,s().string]),getDefaultContent:s().func,beforeDragStart:s().func,beforeDragEnd:s().func,getElementScaledCustomDragOffset:s().func,getElementScaledGrabOffset:s().func,selectOnCreate:s().bool,editOnCreate:s().bool,delayTouchStart:s().number};const N=D},58669:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(63422),o=n.n(r),i=n(67294),s=n(45697),a=n.n(s),l=n(37974),c=n(22222);var d,u=n(68468),m=n(13612),p=n(92918);const h=(0,c.zB)({attachment:m.FG});let g=(0,l.$j)(u.ZP)(d=(0,l.$j)(h)(d=class extends i.Component{constructor(e){super(e),this.dragPreviewRef=i.createRef()}componentDidMount(){if(!this.dragPreviewRef||!this.dragPreviewRef.current)return;(e=>{if(!e)return;const t=document.createElement("div");t.className="drag-preview-shadow";const n=document.createElement("div");n.className="drag-preview-initial-shadow",e.insertBefore(t,e.firstChild),e.insertBefore(n,e.firstChild)})(this.dragPreviewRef.current.querySelector(".drag-handle"))}shouldComponentUpdate(e){return!1}render(){return i.createElement("div",{ref:this.dragPreviewRef,className:"ElementDragPreview"},i.createElement(p.Z,Object.assign({},this.props,{isDragging:!1,isDragPreview:!0})))}})||d)||d;g.propTypes={currentBoardId:a().string.isRequired,element:a().object,className:a().string,dragOrigin:a().object};const f=g;var E=n(75763),v=n(23615);const b=({item:e,element:t})=>{const n=o()(["unscaledElementOffsetsMap",(0,E.nRF)(t)],e);return n?(0,v.aX)(n):null};class y extends i.Component{shouldComponentUpdate(){return!1}render(){const{element:e,elementId:t,gridSize:n,currentBoardId:r,permissions:o}=this.props;return i.createElement("div",{className:"ElementDragPreviewPositioner",style:b(this.props)},i.createElement(f,{permissions:o,currentBoardId:r,elementId:t,element:e,isPresentational:!0,gridSize:n}))}}y.propTypes={elementId:a().string.isRequired,element:a().object.isRequired,gridSize:a().number.isRequired,currentBoardId:a().string.isRequired,permissions:a().number};const I=y},36316:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(16666);const o=n.n(r)()(2,((e=[],t)=>e.reduce(((e,n)=>e&&n(t)),!0))),i=(e=[])=>{const t=o(e);return(e,n)=>t({props:e,monitor:n})}},93047:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(42166),o=n(91727),i=n(76491),s=n(6690);const a=e=>({monitor:t})=>{const n=t.getItemType();if(n===r.FILE)return!e.some((e=>e(o.Gk)));if(n===r.TEXT)return!e.some((e=>e(i.WK)));if(n===r.URL)return!e.some((e=>e(s.xE)));const a=t.getItem();return a.element&&a.draggedElements.filter((t=>!e.some((e=>e(t))))).length>0}},75874:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(42166),o=n(91727),i=n(76491),s=n(6690);const a=e=>({monitor:t})=>{const n=t.getItemType();if(n===r.FILE)return!e.some((e=>e(o.Gk)));if(n===r.TEXT)return!e.some((e=>e(i.WK)));if(n===r.URL)return!e.some((e=>e(s.xE)));const a=t.getItem();return a.element&&!a.draggedElements.some((t=>e.some((e=>e(t)))))}},12673:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(3911),o=n(78179);const i=()=>r.default.snapMode===o.jb.NONE},12170:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(42166),o=n(80583),i=n(91727),s=n(76491),a=n(6690);const l=(e,t)=>{const{permissions:n,elementPermissions:r,linkedElementPermissions:i}=e,s=void 0!==i?i:r;return(0,o.mN)(n,t)&&(0,o.mN)(s,t)&&(0,o.rS)(n,t)===(0,o.rS)(s,t)},c=({props:e,monitor:t})=>{var n;const o=t.getItemType();return o===r.FILE?l(e,i.Gk):o===r.TEXT?l(e,s.WK):o===r.URL?l(e,a.xE):null===(n=t.getItem().draggedElements)||void 0===n?void 0:n.every((t=>l(e,t)))}},3911:(e,t,n)=>{"use strict";n.d(t,{R:()=>a,default:()=>c,o$:()=>s,tK:()=>l});var r=n(40565),o=n(78179);const i={hoveredElementId:null,scaledGrabOffset:null,animatingDrag:!1,elementRotation:null,targetOffset:null,maxRotation:null,lastTimestamp:null,shadowIntensity:0,groupPosition:null,snapMode:o.jb.NONE},s=(e,t)=>{Object.assign(i,e),i.lastTimestamp=t},a=()=>{i.hoveredElementId=null,i.scaledGrabOffset=null,i.animatingDrag=!1,i.elementRotation=null,i.targetOffset=null,i.maxRotation=null,i.lastTimestamp=null,i.shadowIntensity=0,i.groupPosition=null,i.snapMode=o.jb.NONE},l=()=>i.groupPosition&&i.targetOffset?r.e5(i.targetOffset,i.groupPosition):null,c=i},82658:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),o=n(45697),i=n.n(o),s=n(28644);function a(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=(0,s.zO)("isHovered"),c=(0,s.FB)("isHovered"),d=e=>{class t extends r.Component{constructor(e){super(e),a(this,"showNavigationFeedback",(e=>{const{setShowNavigationFeedback:t}=this.props;if(t)return t(e);this.setState({showNavigationFeedback:e})})),a(this,"prepareToNavigate",(()=>{this.showNavigationFeedback(!0),this.hoveredTimerId=setTimeout(this.hoveredInteraction,300)})),a(this,"hoveredInteraction",(()=>{const{handleHoverInteraction:e}=this.props;this.showNavigationFeedback(!1),e()})),this.hoveredTimerId=null,this.state={showNavigationFeedback:!1}}componentWillReceiveProps(e){if(l(this.props,e)){const t=e.hoverDelay||700;this.hoveredTimerId=setTimeout(this.prepareToNavigate,t)}this.hoveredTimerId&&c(this.props,e)&&(clearTimeout(this.hoveredTimerId),this.showNavigationFeedback(!1))}render(){const{showNavigationFeedback:t}=this.state;return r.createElement(e,Object.assign({},this.props,{showNavigationFeedback:t}))}}return t.propTypes={handleHoverInteraction:i().func.isRequired,hoverDelay:i().number,setShowNavigationFeedback:i().func},t}},12840:(e,t,n)=>{"use strict";n.d(t,{E:()=>E,F:()=>g});var r=n(59242),o=n.n(r),i=n(52628),s=n.n(i),a=n(42166),l=n(28719),c=n(7923),d=n(30854),u=n(60658),m=n(75763),p=n(56860);const h=e=>(t,n,r)=>{if((0,l.nI)(n,r))return;const{dropPermitted:o}=t;if(!1!==o)return(0,d.Z)(t,n)?(0,l.OG)(e)(t,n,r):n.getItemType()===a.FILE?(0,l.gQ)(e)(t,n,r):(0,l.$V)(e)(t,n,r);console.warn("You don't have the permission to modify that board.")},g=h((({element:e})=>(0,u.mK)({listId:(0,m.G8z)(e)}))),f=e=>({x:t,y:n})=>({x:Math.abs(t/e),y:Math.abs(n/e)}),E=h(((e,t)=>{const{element:n,gridSize:r}=e,{unscaledElementOffsetsMap:i}=t.getItem(),a=s()(i),l=o()([c.lP,c.rL,f(r),(0,c.Iu)({x:10,y:10})])(a);return{parentId:(0,m.G8z)(n),section:p.WI.CANVAS,position:l}}))},45449:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(67294),o=n(84785),i=n(37974),s=n(12840),a=n(60742),l=n(97245),c=n(37407),d=n(1231),u=n(73141),m=n(59916),p=n(75188);const h=e=>({dispatchForceHoverEffect:t=>e((0,d.nA)(t)),dispatchClearHoverEffect:()=>e((0,d.Jk)()),createTaskList:({location:t,content:n,transactionId:r=(0,a.k)(),sync:o=!0})=>({taskListElementId:e((0,c.Yn)({elementType:p.Kl,location:t,content:n,sync:o,transactionId:r})),transactionId:r}),dispatchHideElement:({elementId:t})=>e((0,m.T)({id:t,data:{hidden:!0}})),dispatchRevealElement:({elementId:t})=>e((0,m.T)({id:t,data:{hidden:!1}})),dispatchMoveElementsToTrash:t=>e((0,u.fC)(t)),dispatchAtomicMoveAndUpdate:t=>e((0,c.GC)(t))}),g=(e,t)=>({connectDropTarget:e.dropTarget(),isHovered:t.canDrop()&&t.isOver({shallow:!0})}),f=(e={},t,n)=>a=>{let c=[l.XX];e&&e.acceptDropTypes&&(c=c.concat(e.acceptDropTypes),delete e.acceptDropTypes);const d=Object.assign({drop:s.F},e),u=n||g,m=(0,o.DropTarget)(c,d,u)(a);return(0,i.$j)(null,h)(((e,t)=>n=>r.createElement(e,Object.assign({},n,{targetType:t})))(m,t))}},49905:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(45697),o=n.n(r),i=n(67294);const s=e=>{const t=t=>t.isPresentational?null:i.createElement(e,t);return t.propTypes={isPresentational:o().bool},t}},40193:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(37974),o=n(54688),i=n(75763),s=n(82658),a=n(10615),l=n(7575);const c=(0,o.qC)((0,r.$j)((e=>({hoverDelay:"move"===(0,l.$x)(e)?400:700})),(e=>({dispatchStartMoveOperation:()=>e((0,a.bO)("move"))}))),(0,o.CA)({handleHoverInteraction:({element:e,dispatchNavigateToBoard:t,dispatchStartMoveOperation:n})=>()=>{n(),t((0,i.nRF)(e),!0)}}),s.Z)},60122:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(11111),o=n(60817);const i=(e,t)=>{const{draggedElements:n}=t.getItem();return n&&n.every((e=>(0,r.k8)(e)&&!(0,o.u3)(e)))}},30854:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(11111);const o=(e,t)=>{const{draggedElementIds:n,element:o}=t.getItem();return!((null==n?void 0:n.length)>1)&&(0,r.N2)(o)}},36837:(e,t,n)=>{"use strict";n.d(t,{j:()=>c});var r=n(28719),o=n(40565),i=n(11111),s=n(8698),a=n(54142),l=n(59551);const c=({element:e,gridSize:t})=>(0,s.KX)(e)?(({gridSize:e})=>o.bA(-1,(0,r.l)({gridSize:e})))({gridSize:t}):(0,i.P7)(e)?(({gridSize:e})=>o.bA(-e,o.F8(l.py/2,l.fr/2)))({gridSize:t}):(({gridSize:e})=>o.bA(-e,a.Ls))({gridSize:t})},83974:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(50361),o=n.n(r),i=n(40565),s=n(9300),a=n(60658),l=n(43236);const c=({dropResult:e,unscaledElementOffsetsMap:t,elementId:n,gridSize:r,draggedElementIds:c,highestScore:d,scaledCustomDragOffset:u})=>(0,a.PY)(e)?(({dropResult:e,unscaledElementOffsetsMap:t,elementId:n,gridSize:r,draggedElementIds:o,highestScore:a,scaledCustomDragOffset:c={x:0,y:0}})=>{const d=(null==t?void 0:t[n])||{x:0,y:0},u=(0,s.Nr)(d,r),m=i.xH(e.zoomScaleOnDropTarget,c),p=i.Iu(i.Iu(e.location.position,u),(0,s.Nr)(m,r));return o&&(p.score=a+(o.indexOf(n)+1)*l.XL),Object.assign({},e.location,{position:p})})({dropResult:e,unscaledElementOffsetsMap:t,elementId:n,gridSize:r,draggedElementIds:c,highestScore:d,scaledCustomDragOffset:u}):o()(e.location)},41572:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(92742),o=n.n(r),i=n(41609),s=n.n(i),a=n(81629),l=n.n(a),c=n(11111),d=n(75763),u=n(60742),m=n(68468),p=n(43831);var h=n(37407),g=n(23680),f=n(96886),E=n(22453);const v="…",b=e=>(t,n)=>{const r=n();if(s()(e))return null;const i=(0,u.k)(),a=(0,m.$3)(r);e.forEach((e=>{const n=a.get(e),r=(0,d.FBA)(n),s=o()((l=r,(0,p.P2)(["blocks",0,"text"],l)))||"";var l;const u=s.length>f.Cx?s.substring(0,f.Cx-1).concat(v):s;if(!(0,c.F_)(n))return null;t((0,h.TK)({id:e,elementType:f.tE,changes:{title:u||f.uE,displayMode:(0,d.olH)(n)||E.oE.ICON_VIEW},transactionId:i}))})),l()((()=>t((0,g.TV)({id:e[0],editorKey:f.H1}))))}},56313:(e,t,n)=>{"use strict";n.d(t,{P:()=>o,U:()=>r});const r="DOCUMENT-MODAL",o="DOCUMENT-MODAL-TITLE"},19018:(e,t,n)=>{"use strict";n.d(t,{NZ:()=>y,IX:()=>b,A5:()=>v});var r=n(83547),o=n(37407),i=n(495),s=n(75763),a=n(67294),l=n(97762),c=n.n(l),d=n(43831),u=n(39343),m=n(15272),p=n(79762);var h=n(60742),g=n(11111),f=n(78789),E=n(30402);const v=({elementId:e}={})=>({type:f.f,elementId:e}),b=()=>({type:f.t}),y=({elementId:e,transactionId:t=(0,h.k)()})=>(n,l)=>{const h=l(),f=(0,r.$)(h),v=(0,i.sb)(f,e),b=(0,s._Ap)(v);if(!b||(0,g.Se)(v))return;const y=(e=>{const t=(0,d.su)((0,d.vg)("paths",e));if(!t)return;const n=(0,d.vg)("width",e),r=(0,d.vg)("height",e),o=Math.max(.05*n,.05*r),i=n+2*o,s=r+2*o,l=Math.max(i,s*p.w),h=Math.round(l/p.w),g=l-i,f=h-s,E=Math.round(g/2)+o,v=Math.round(f/2)+o,b=(0,u.zv)({x:E,y:v},t).map((e=>(delete e.stroke,e)));return{paths:b,svg:c().renderToStaticMarkup(a.createElement(m.Z,{paths:b,width:l,height:h,useFallbackColor:!0})),width:l,height:h}})(b);n((0,o.TK)({id:e,elementType:p.xe,changes:{transparent:{enabled:!1},background:{color:E.Uo.WHITE.name},width:p.HH,drawing:y},transactionId:t}))}},78789:(e,t,n)=>{"use strict";n.d(t,{f:()=>r,t:()=>o});const r="ANNOTATION_MODE_START",o="ANNOTATION_MODE_END"},52347:(e,t,n)=>{"use strict";n.d(t,{Nx:()=>i,Oc:()=>s,Xb:()=>a});var r=n(22222),o=n(83547);const i=e=>e.getIn(["app","annotation","enabled"]),s=e=>e.getIn(["app","annotation","elementId"]),a=(0,r.P1)(o.$,s,((e,t)=>e.get(t)))},83940:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Be});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(22222),l=n(39343),c=n(85263),d=n(40565),u=n(59854),m=n.n(u),p=n(47894);const h=e=>e.pointerType!==p.Id.PEN?0:m()(e.pressure,2),g=(e,t,n=1,r=0,o=0,i=1)=>{var s;const a=(null===(s=t.current)||void 0===s?void 0:s.getBoundingClientRect())||{x:0,y:0};return[m()((e.pageX-a.x)/n/i+r,1),m()((e.pageY-a.y)/n/i+o,1),h(e)]};var f=n(8049),E=n(49870),v=n(12847),b=n(84506),y=n(39702),I=n(33740);const C=({viewBox:e,viewBoxX:t=0,viewBoxY:n=0,viewBoxWidth:r,viewBoxHeight:o})=>e||(0,I.l1)({x:t,y:n,width:r,height:o});var S=n(48935),T=n(98898);function w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const O=class{constructor(){w(this,"eventCache",void 0),this.eventCache=[]}getFirstPointerId(){return this.eventCache[0]}add(e){this.eventCache.push(e.pointerId)}remove(e){const t=this.eventCache.indexOf(e.pointerId);t>-1&&this.eventCache.splice(t,1)}size(){return this.eventCache.length}clear(){this.eventCache=[]}shouldRespondTo(e,t){switch(e.pointerType){case p.Id.MOUSE:return"pointerdown"!==e.type||1===e.buttons;case p.Id.PEN:return!0;case p.Id.TOUCH:return!t&&(0===this.eventCache.length||e.pointerId===this.getFirstPointerId());default:return!1}}};var _=n(5987);const R=({onPointerDown:e,onPointerMove:t,onPointerUp:n})=>{const o=(0,r.useRef)({onPointerDown:e,onPointerMove:t,onPointerUp:n});(0,r.useEffect)((()=>{o.current.onPointerDown=e,o.current.onPointerMove=t,o.current.onPointerUp=n}),[e,t,n]);const i=e=>{o.current.onPointerDown&&o.current.onPointerDown(e)},s=(0,r.useCallback)((0,_.Z)((e=>{o.current.onPointerMove&&o.current.onPointerMove(e)})),[]),a=(0,r.useCallback)((e=>{o.current.onPointerUp&&o.current.onPointerUp(e)}),[]);(0,r.useEffect)((()=>(document.addEventListener("pointerdown",i),document.addEventListener("pointermove",s),document.addEventListener("pointerup",a),document.addEventListener("pointercancel",a),()=>{document.removeEventListener("pointerdown",i),document.removeEventListener("pointermove",s),document.removeEventListener("pointerup",a),document.removeEventListener("pointercancel",a)})),[])};var A=n(19092),D=n(30402);const N=["id"];const x=(e,t)=>{if((0,c.G6)())return null;const n=((e,t)=>{const n=e||(t?"#000000":"#ffffff");return`<svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 19 19">\n    <path fill="${(0,f.KJ)(n)?"#000000":"#ffffff"}" d="M16.52.553l.13.12 1.062 1.063c.8.8.894 2.052.249 2.959l-.108.14-1.682 2.02c-.086.381-.263.747-.53 1.062l-.141.153-5.744 5.643c-.632.631-1.35 1.17-2.13 1.601l-.34.178-2.838 1.42c-.174.086-.358.137-.544.153l-2.472 1.182c-.273.131-.591.131-.864 0-.463-.222-.677-.753-.514-1.226l.045-.108 1.183-2.468c.012-.14.043-.279.095-.413l.058-.133 1.42-2.839c.4-.799.91-1.537 1.514-2.193l.265-.276L10.38 2.95c.293-.294.64-.499 1.01-.616l2.162-1.8c.868-.723 2.124-.705 2.969.02z" transform="translate(-198.000000, -332.000000) translate(198.390000, 332.000000)"/>\n    <path fill="${r=n}" d="M12.76 3.926c-.36-.28-.867-.28-1.226 0l-.095.083-5.744 5.643-.254.266c-.413.453-.773.952-1.072 1.488l-.173.325-1.419 2.839 1 1 2.839-1.42.325-.172c.536-.299 1.035-.659 1.488-1.072l.266-.254 5.744-5.643.084-.094c.28-.36.28-.866 0-1.226l-.084-.094-1.585-1.586-.095-.083z" transform="translate(-198.000000, -332.000000) translate(198.390000, 332.000000)"/>\n    <path fill="${r}" d="M14.662 1.7l-.087.062-1.046.871c.09.06.178.127.262.2l.123.116L15.5 4.534c.097.098.185.201.263.31l.86-1.033c.21-.25.215-.607.027-.862l-.07-.081-1.062-1.063c-.23-.23-.585-.268-.856-.105z" transform="translate(-198.000000, -332.000000) translate(198.390000, 332.000000)"/>\n</svg>`;var r})((0,l.$Z)(e),t);return{cursor:`url("${(({mediaType:e="image/svg+xml",extension:t,data:n})=>`data:${e}${t?`;${t}`:""},${n}`)({mediaType:"image/svg+xml",data:encodeURIComponent(n.replace(/"/g,"'"))})}") 1 17, auto`}},M=(0,a.zB)({isDarkMode:S.v2}),P=e=>{const{debugUpdateAllStrokes:t,debugDrawingLastUpdateTime:n,canvasScale:o=1,zoomScale:i=1,viewBoxX:s,viewBoxY:a,isCurrentlyDrawing:l,strokeColor:c,strokeSize:u,enableDrawingInkEffect:m,paths:p,beginPath:h,endPath:f,cancelPath:I,appendPointToCurrentPath:S,toolMode:w,saveAndExitDrawingEditor:_,setEditorClassName:M,isPenMode:P,isDarkMode:L,backgroundColor:k}=e,F=(0,r.useRef)(),{recordPointerEvent:B,getLastMouseEventAge:j}=(0,T.Z)(),z=(0,r.useRef)(new O),U=(0,r.useCallback)((e=>{if(j()>A.yu.SECOND/2)return;e.preventDefault(),e.stopPropagation();const t=g(e,F,o,s,a,i),n=d.F8(t[0],t[1]);let r=0;const l=[...p];for(;r<2;){r++;const e=p[p.length-r].points[0]||[0,0],t=d.F8(e[0],e[1]);d.Sp(n,t)<5&&l.pop()}return _(l)}),[p]);(0,r.useEffect)((()=>{z.current.clear()}),[P]),R({onPointerUp:e=>{e.preventDefault(),z.current.shouldRespondTo(e)&&(f(),M(null)),e.pointerId?z.current.remove(e):z.current.clear()}});const H=C(e),Z=!L,G=(0,E.Qr)(k,Z,D.Uo);return r.createElement(b.Z,{ref:F,viewBox:H,style:x(c,G),className:"DrawingEditorCanvasDrawMode",onPointerDown:e=>{if(B(e),z.current.size()>2)return void I();if(!z.current.shouldRespondTo(e,P))return;z.current.add(e),e.currentTarget.setPointerCapture(e.pointerId),e.preventDefault();const t=g(e,F,o,s,a,i);h({type:w,size:u/o,color:c,enableDrawingInkEffect:m,strokeSize:u,point:t})},onPointerMove:e=>{if(!z.current.shouldRespondTo(e))return;e.preventDefault();const t=(0,y.gp)();l&&e.pageY>t-120&&M("drawing");const n=g(e,F,o,s,a,i);S(n,c)},onPointerUp:e=>{e.currentTarget.releasePointerCapture(e.pointerId)},onDoubleClick:U},p.map((e=>{const{id:o}=e,i=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,N);return r.createElement(v.Z,Object.assign({key:o},i,{debugUpdateAllStrokes:t,debugDrawingLastUpdateTime:n}))})))};P.propTypes={paths:i().array,beginPath:i().func,endPath:i().func,cancelPath:i().func,appendPointToCurrentPath:i().func,toolMode:i().string,strokeColor:i().string,strokeSize:i().number,enableDrawingInkEffect:i().bool,zoomScale:i().number,canvasScale:i().number,viewBoxX:i().number,viewBoxY:i().number,viewBoxWidth:i().number,viewBoxHeight:i().number,closeAllPopups:i().func,saveAndExitDrawingEditor:i().func,isCurrentlyDrawing:i().bool,isPenMode:i().bool,debugUpdateAllStrokes:i().bool,debugDrawingLastUpdateTime:i().number,setEditorClassName:i().func,isDarkMode:i().bool,backgroundColor:i().string};const L=(0,s.$j)(M)(P);var k=n(94184),F=n.n(k);const B=["canvasScale"];const j=e=>{let{canvasScale:t=1}=e,n=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,B);return r.createElement("g",null,r.createElement(v.Z,Object.assign({},n,{className:F()("outline",n.className),size:n.size+Math.round(2/t)})),r.createElement(v.Z,n))};j.propTypes={canvasScale:i().number,size:i().number,className:i().string};const z=j,U=["id"];const H=e=>{const{paths:t,canvasScale:n,removePaths:o,debugUpdateAllStrokes:i,debugDrawingLastUpdateTime:s}=e,[a,l]=(0,r.useState)(),c=C(e);return r.createElement(b.Z,{viewBox:c,className:"DrawingEditorCanvasEraseMode"},t.map((e=>{const{id:t}=e,c=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,U),d=t===a;return r.createElement(r.Fragment,{key:t},r.createElement(v.Z,Object.assign({onPointerUp:e=>{e.preventDefault(),e.stopPropagation(),l(void 0),o([t])},onPointerEnter:e=>{1===e.buttons||e.pointerType!==p.Id.MOUSE&&e.pointerType!==p.Id.PEN?o([t]):l(t)},onPointerLeave:e=>{l(void 0)}},c,{debugUpdateAllStrokes:i,debugDrawingLastUpdateTime:s})),d&&r.createElement(z,Object.assign({className:"deletable-hovered"},c,{canvasScale:n,debugUpdateAllStrokes:i})))})))};H.propTypes={paths:i().array,removePaths:i().func,canvasScale:i().number,viewBox:i().string,viewBoxX:i().number,viewBoxY:i().number,viewBoxWidth:i().number,viewBoxHeight:i().number,saveAndExitDrawingEditor:i().func,debugUpdateAllStrokes:i().bool,debugDrawingLastUpdateTime:i().number};const Z=H;var G=n(63422),K=n.n(G),W=n(77606),V=n.n(W),$=n(51752),q=n(5612);const Y=e=>{const{isMarqueeSelectMode:t,marqueeDimensions:n}=e;return t&&n?r.createElement("rect",{className:"DrawingSelectionMarquee",x:n.left,y:n.top,width:n.width,height:n.height}):null};Y.propTypes={isMarqueeSelectMode:i().bool,marqueeDimensions:i().object};const X=Y,Q=["id"],J=["id"],ee=["id"];function te(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}const ne=e=>{const{paths:t,selectedPathIdsMap:n,isDragMove:o,canvasScale:i,draggedPathIdsMap:s,debugUpdateAllStrokes:a,debugDrawingLastUpdateTime:l}=e;return r.createElement("g",{className:"static-group"},t.map((e=>{const{id:t}=e,c=te(e,Q),d=n&&n[t],u=o&&s[t],m=F()({dragging:u,selected:d});return r.createElement(z,Object.assign({key:t,canvasScale:i,className:m},c,{debugUpdateAllStrokes:a,debugDrawingLastUpdateTime:l}))})))},re=e=>{const{paths:t,selectedPathIdsMap:n,debugUpdateAllStrokes:o,debugDrawingLastUpdateTime:i,pointerEventStats:s,startDrag:a,toggleSelectedPath:l,setSelectedPathIds:c,svgRef:d,canvasScale:u,viewBoxX:m,viewBoxY:p}=e;return r.createElement("g",{className:"hit-area"},t.map((e=>{const{id:t}=e,h=te(e,J),f=n&&n[t];return r.createElement(v.Z,Object.assign({key:t,className:"path-hit-area"},h,{onPointerDown:e=>{if(1!==e.buttons)return;s.current.pointerDownPathId=t,e.preventDefault(),e.stopPropagation();const r=g(e,d,u,m,p);s.current.moveCount=0;return a(r,f?n:{[t]:!0})},onPointerUp:e=>{s.current.moveCount>2||s.current.pointerDownPathId===t&&((0,q.J)(e)?l(t):c([t]))},debugUpdateAllStrokes:o,debugDrawingLastUpdateTime:i}))})))},oe=e=>{const{paths:t,selectedPathIdsMap:n,draggedPathIdsMap:o,debugUpdateAllStrokes:i,debugDrawingLastUpdateTime:s,transformGroupRef:a,isDragMove:l,canvasScale:c}=e;return l?r.createElement("g",{className:"transform-group",ref:a},t.map((e=>{const{id:t}=e,a=te(e,ee);if(!o[t])return null;const l=F()("drag-preview",{selected:n&&n[t]});return r.createElement(z,Object.assign({key:t,canvasScale:c,className:l},a,{debugUpdateAllStrokes:i,debugDrawingLastUpdateTime:s}))}))):null};oe.propTypes=re.propTypes=ne.propTypes={paths:i().array,isDragMove:i().bool,selectedPathIdsMap:i().object,draggedPathIdsMap:i().object,debugUpdateAllStrokes:i().bool,debugDrawingLastUpdateTime:i().number,canvasScale:i().number,svgRef:i().object,transformGroupRef:i().object,startDrag:i().func,toggleSelectedPath:i().func,setSelectedPath:i().func};const ie=r.memo(ne),se=r.memo(re),ae=r.memo(oe);var le=n(23493),ce=n.n(le),de=n(57315),ue=n(30845),me=n(10048),pe=n(7923);const he=["stroke","thinning"];const ge=e=>{if(!e)return null;const{stroke:t,thinning:n}=e,r=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,he);return 0!==n?t:(0,l.xl)(Object.assign({},r,{size:1.1*r.size}),!0)},fe=(0,ue.default)((e=>e.map((e=>{try{const t=ge(e),n=(0,l.US)(t,!0);return{id:e.id,shapeInfo:de.N0.path(n),boundingRect:(0,l.cI)(null==e?void 0:e.stroke)}}catch(t){return me.Z.error("Failed to create shape info for",e,t),null}})))),Ee=({paths:e,isMarqueeSelectMode:t,isAppendMode:n,initialSelectedPathIdsMap:o,marqueeDimensions:i,setSelectedPathIds:s})=>{const a=(0,r.useCallback)(ce()(((e,t,n,r)=>{const o=((e,t)=>{const n={};if(!e||!t)return n;const r=de.N0.rectangle(e);return t.forEach((t=>{if(!t)return;const{id:o,shapeInfo:i,boundingRect:s}=t;(pe.Qd(e,s)||"Intersection"===de.lV.intersect(i,r).status)&&(n[o]=!0)})),n})(e,fe(t)),i=Object.keys(o);if(!n)return s(i);const a=[];Object.keys(r).forEach((e=>{o[e]||a.push(e)})),i.forEach((e=>{r[e]||a.push(e)})),s(a)}),50),[]);(0,r.useEffect)((()=>{t&&a(i,e,n,o)}),[i])};var ve=n(52612),be=n.n(ve);const ye=({isMarqueeSelectMode:e,paths:t,selectedPathIdsMap:n,setStrokeSizeState:o,setStrokeColorState:i,canvasScale:s})=>{const a=(0,r.useRef)(!1);(0,r.useEffect)((()=>{if(e)return;const r=a.current;a.current=!V()(n);const l=Object.keys(n);if(!(a.current&&(!r||1===l.length)))return;const c=be()(l),d=t.find((e=>e.id===c));if(!d)return;const{color:u,size:m}=d;o(Math.round(m*s)),i(u)}),[n,e])};var Ie=n(6319);const Ce=()=>{const[e,t]=(0,r.useState)(!1),[n,o]=(0,r.useState)(!1),[i,s]=(0,r.useState)(!1),[a,l]=(0,r.useState)(null),c=(0,r.useRef)();return{isMarqueeSelectMode:e,isAppendMode:n,initialSelectedPathIdsMap:i,marqueeDimensions:a,startMarqueeSelectMode:({point:e,appendMode:n,selectedPathIdsMap:r})=>{c.current=(0,d.F8)(e[0],e[1]),t(!0),o(n),s(r)},dragMarqueeSelectionTo:e=>{const t=(0,d.F8)(e[0],e[1]),n=(0,Ie.i)(c.current,t);l(n)},endMarqueeSelectMode:()=>{t(!1),l(null)}}};var Se=n(45209),Te=n(12843);const we=({paths:e,setPaths:t,canvasScale:n,selectedPathIdsMap:o,onPathPropertyChangeRef:i,enableDrawingInkEffect:s})=>{i.current=({pathProperty:r,value:i})=>{if(V()(o))return;let a=!1;const c=e.map((e=>{const{id:t,hasPressure:c}=e;if(!o[t])return e;if(e[r]===i)return e;a=!0;const d=Object.assign({},e,{[r]:i});return r===Te.JX.SIZE&&(d.size=i/n,d.thinning=(0,Se.Bp)({strokeSize:i,hasPressure:c,enableDrawingInkEffect:s}),d.smoothing=(0,Se.Rw)({strokeSize:i,hasPressure:c,enableDrawingInkEffect:s}),d.streamline=(0,Se.Re)({strokeSize:i,hasPressure:c,enableDrawingInkEffect:s}),d.stroke=(0,l.xl)(d)),d}));a&&t(c)},(0,r.useEffect)((()=>()=>{i.current=null}),[])};var Oe=n(22776);const _e=({paths:e,setPaths:t})=>{const[n,o]=(0,r.useState)({}),[i,s]=(0,r.useState)(!1),[a,c]=(0,r.useState)(!1),u=(0,r.useRef)(),m=(0,r.useRef)();return{draggedPathIdsMap:n,isDragging:i,isDragMove:a,startDrag:(e,t)=>{Object.keys(t).length<1||(s(!0),o(t),u.current=e)},onDrag:e=>{if(!i)return;if(a||c(!0),!m.current)return;const t=(0,Oe.iD)(u.current,e);m.current.setAttribute("transform",`translate(${t.x}, ${t.y})`)},endDrag:r=>{if(!i||!u.current)return;s(!1),c(!1),o({});const a=(0,Oe.iD)(u.current,r);if((0,d.A2)(a)<1)return;const m=(0,l.dZ)(a,e,n);t(m)},transformGroupRef:m}},Re=()=>{const[e,t]=(0,r.useState)({});return{selectedPathIdsMap:e,setSelectedPathIds:(e=[])=>{const n=e.reduce(((e,t)=>(e[t]=!0,e)),{});t(n)},toggleSelectedPath:n=>{const r=Object.assign({},e);e[n]?delete r[n]:r[n]=!0,t(r)},clearSelectedPaths:()=>t({})}};var Ae=n(91808),De=n(40253);const Ne=({event:e,defaultOffset:t,selectedPathIdsMap:n,paths:r,setPaths:o,canvasScale:i=1})=>{if(e.stopPropagation(),e.preventDefault(),V()(n))return;const s=d.bA(1/i,t),a=(0,$.p9)(e)?d.bA(10,s):s;return o((0,l.zv)(a,r,n))},xe=e=>{const{paths:t,setPaths:n,removePaths:o,canvasScale:i=1,viewBoxX:s,viewBoxY:a,saveAndExitDrawingEditor:c,debugUpdateAllStrokes:d,debugDrawingLastUpdateTime:u,enableDrawingInkEffect:m,setStrokeSizeState:p,setStrokeColorState:h,setToolModeState:f,onPathPropertyChangeRef:E}=e,v=(0,r.useRef)(),y=(0,r.useRef)({}),{selectedPathIdsMap:I,toggleSelectedPath:S,setSelectedPathIds:T,clearSelectedPaths:w}=Re(),{isMarqueeSelectMode:O,isAppendMode:_,marqueeDimensions:A,initialSelectedPathIdsMap:D,startMarqueeSelectMode:N,dragMarqueeSelectionTo:x,endMarqueeSelectMode:M}=Ce();Ee({paths:t,isMarqueeSelectMode:O,isAppendMode:_,initialSelectedPathIdsMap:D,marqueeDimensions:A,setSelectedPathIds:T});const{startDrag:P,onDrag:L,endDrag:k,transformGroupRef:B,isDragging:j,isDragMove:z,draggedPathIdsMap:U}=_e({paths:t,setPaths:n});(0,r.useEffect)((()=>{if(O)return;const e=!V()(I);f({hasSelection:e})}),[I,O]),we({paths:t,setPaths:n,canvasScale:i,selectedPathIdsMap:I,onPathPropertyChangeRef:E,enableDrawingInkEffect:m}),ye({isMarqueeSelectMode:O,paths:t,selectedPathIdsMap:I,setStrokeSizeState:p,setStrokeColorState:h,canvasScale:i});R({onPointerMove:e=>{if(!O)return;e.preventDefault();const t=g(e,v,i,s,a);x(t)},onPointerUp:e=>{if(y.current.pointerDownPathId=null,e.preventDefault(),O)return M();const t=g(e,v,i,s,a);return k(t)}});const H=(0,r.useCallback)((e=>{switch(e.keyCode){case De.nx.A:{if(!(0,$.lk)(e))return;const n=t.map(K()("id"));return void T(n)}case De.nx.BACKSPACE:case De.nx.DELETE:{e.preventDefault(),e.stopPropagation();const t=Object.keys(I);return o(t),T([])}case De.nx.UP_ARROW:return(0,$.lk)(e)&&(0,$.p9)(e)?(({event:e,selectedPathIdsMap:t,paths:n,setPaths:r})=>{e.stopPropagation(),e.preventDefault(),r((0,l.nH)(n,t))})({event:e,selectedPathIdsMap:I,paths:t,setPaths:n}):Ne({event:e,defaultOffset:{x:0,y:-1},selectedPathIdsMap:I,paths:t,setPaths:n,canvasScale:i});case De.nx.DOWN_ARROW:return(0,$.lk)(e)&&(0,$.p9)(e)?(({event:e,selectedPathIdsMap:t,paths:n,setPaths:r})=>{e.stopPropagation(),e.preventDefault(),r((0,l.p$)(n,t))})({event:e,selectedPathIdsMap:I,paths:t,setPaths:n,canvasScale:i}):Ne({event:e,defaultOffset:{x:0,y:1},selectedPathIdsMap:I,paths:t,setPaths:n,canvasScale:i});case De.nx.LEFT_ARROW:return Ne({event:e,defaultOffset:{x:-1,y:0},selectedPathIdsMap:I,paths:t,setPaths:n,canvasScale:i});case De.nx.RIGHT_ARROW:return Ne({event:e,defaultOffset:{x:1,y:0},selectedPathIdsMap:I,paths:t,setPaths:n,canvasScale:i});case De.nx.ESC:return V()(I)?c(t):(e.preventDefault(),e.stopPropagation(),void w());default:return null}}),[t,I]);(0,Ae.Z)({onKeyDown:H});const Z=C(e);return r.createElement(b.Z,{ref:v,viewBox:Z,className:F()("DrawingEditorCanvasSelectMode",{"drag-mode":j}),onPointerDown:e=>{if(1!==e.buttons)return;e.preventDefault();const t=g(e,v,i,s,a),n=(0,q.J)(e);return n||w(),N({point:t,appendMode:n,selectedPathIdsMap:I})},onPointerMove:e=>{if(!j)return;y.current.moveCount++,e.preventDefault();const t=g(e,v,i,s,a);L(t)}},r.createElement(ie,{paths:t,canvasScale:i,selectedPathIdsMap:I,isDragMove:z,draggedPathIdsMap:U,debugUpdateAllStrokes:d,debugDrawingLastUpdateTime:u}),r.createElement(se,{svgRef:v,canvasScale:i,viewBoxX:s,viewBoxY:a,pointerEventStats:y,paths:t,toggleSelectedPath:S,selectedPathIdsMap:I,setSelectedPathIds:T,startDrag:P,debugUpdateAllStrokes:d,debugDrawingLastUpdateTime:u}),r.createElement(ae,{isDragMove:z,canvasScale:i,viewBoxX:s,viewBoxY:a,paths:t,selectedPathIdsMap:I,draggedPathIdsMap:U,transformGroupRef:B,debugUpdateAllStrokes:d,debugDrawingLastUpdateTime:u}),r.createElement(X,{isMarqueeSelectMode:O,marqueeDimensions:A}))};xe.propTypes={enableDrawingInkEffect:i().bool,paths:i().array,setPaths:i().func,setToolModeState:i().func,removePaths:i().func,canvasScale:i().number,viewBox:i().string,viewBoxX:i().number,viewBoxY:i().number,viewBoxWidth:i().number,viewBoxHeight:i().number,strokeColor:i().string,strokeSize:i().number,setStrokeSizeState:i().func,setStrokeColorState:i().func,closeAllPopups:i().func,saveAndExitDrawingEditor:i().func,debugUpdateAllStrokes:i().bool,debugDrawingLastUpdateTime:i().number,onPathPropertyChangeRef:i().object};const Me=xe,Pe=["id"];const Le=r.forwardRef((function(e,t){const{paths:n}=e,o=C(e);return r.createElement(b.Z,{ref:t,viewBox:o,className:"DrawingEditorCanvasReadOnlyMode"},n.map((e=>{let{id:t}=e,n=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,Pe);return r.createElement(v.Z,Object.assign({key:t},n))})))}));Le.propTypes={paths:i().array,viewBox:i().string,viewBoxX:i().number,viewBoxY:i().number,viewBoxWidth:i().number,viewBoxHeight:i().number};const ke=Le,Fe=(0,r.forwardRef)((function(e,t){const{toolMode:n,isEditable:o}=e,i=((e,t)=>{if(!t)return ke;switch(e){case Te.o.SELECT:return Me;case Te.o.ERASE:return Z;default:return L}})(n,o);return r.createElement("div",{className:"DrawingEditorCanvas",ref:t},r.createElement(i,e))}));Fe.propTypes={isEditable:i().bool,toolMode:i().string};const Be=Fe},84506:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s);const l=["children","className"];const c=(0,r.forwardRef)((function(e,t){const{children:n,className:o}=e,i=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,l),s=a()("DrawingEditorCanvasSvg",o);return r.createElement("svg",Object.assign({ref:t,className:s},i),n)}));c.propTypes={children:i().oneOfType([i().arrayOf(i().node),i().node]),className:i().string};const d=c},12847:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(59854),o=n.n(r),i=n(67294),s=n(45697),a=n.n(s),l=n(94184),c=n.n(l),d=n(39343);const u=["className","stroke","points","size","color","thinning","smoothing","streamline","hasPressure","debugUpdateAllStrokes","debugDrawingLastUpdateTime"];const m=e=>{const{className:t,stroke:n,points:r,size:s,color:a,thinning:l,smoothing:m,streamline:p,hasPressure:h,debugUpdateAllStrokes:g}=e,f=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,u),E=g?(0,d.xl)({points:r,size:s,thinning:l,smoothing:m,streamline:p,hasPressure:h}):n||(0,d.xl)({points:r,size:s,thinning:l,smoothing:m,streamline:p,hasPressure:h}),v=(0,d.$Z)(a);return 0===l?i.createElement("path",Object.assign({className:c()("DrawingPath","stroke-only",t),stroke:v,strokeWidth:o()(s,1),strokeLinecap:"round",fill:"none",d:(0,d.US)(E,!1)},f)):i.createElement("path",Object.assign({className:c()("DrawingPath",t),fill:v,d:(0,d.US)(E,!0)},f))};m.propTypes={id:a().string,className:a().string,stroke:a().array,points:a().array,size:a().number,thinning:a().number,smoothing:a().number,streamline:a().number,color:a().string,hasPressure:a().bool,isSelected:a().bool,debugUpdateAllStrokes:a().bool,debugDrawingLastUpdateTime:a().number,pathOnClick:a().func};const p=i.memo(m)},15272:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(59854),o=n.n(r),i=n(67294),s=n(45697),a=n.n(s),l=n(33740),c=n(39343);const d=["id","color","thinning","size"];const u=e=>{const{paths:t,width:n,height:r,useFallbackColor:s}=e,a=s?c.wd:c.$Z;return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:(0,l.l1)({width:n,height:r})},t.map((e=>{let{id:t,color:n,thinning:r,size:s}=e,l=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,d);const u=(0,c.xl)(Object.assign({thinning:r,size:s},l));return 0===r?i.createElement("path",{key:t,className:"stroke-only",stroke:a(n),strokeWidth:o()(s,1),fill:"none",strokeLinecap:"round",d:(0,c.US)(u,!1)}):i.createElement("path",{key:t,fill:a(n),d:(0,c.US)(u,!0)})})))};u.propTypes={paths:a().array,width:a().number,height:a().number,useFallbackColor:a().bool};const m=u},91808:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294);const o=({onKeyDown:e,onKeyUp:t,onKeyPress:n})=>{const o=(0,r.useRef)({onKeyDown:e,onKeyUp:t,onKeyPress:n});(0,r.useEffect)((()=>{o.current.onKeyDown=e,o.current.onKeyUp=t,o.current.onKeyPress=n}),[e,t,n]);const i=e=>{o.current.onKeyDown&&o.current.onKeyDown(e)},s=(0,r.useCallback)((e=>{o.current.onKeyPress&&o.current.onKeyPress(e)}),[]),a=(0,r.useCallback)((e=>{o.current.onKeyUp&&o.current.onKeyUp(e)}),[]);(0,r.useEffect)((()=>(document.addEventListener("keydown",i,!0),document.addEventListener("keyup",a),document.addEventListener("keypress",s),()=>{document.removeEventListener("keydown",i,!0),document.removeEventListener("keyup",a),document.removeEventListener("keypress",s)})),[])}},98898:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294),o=n(19092),i=n(47894);const s=()=>{const e=(0,r.useRef)(0);return{recordPointerEvent:t=>{t.pointerType===i.Id.MOUSE&&(e.current=(0,o.u3)())},getLastMouseEventAge:()=>(0,o.u3)()-e.current}}},12843:(e,t,n)=>{"use strict";n.d(t,{JX:()=>i,L$:()=>o,o:()=>r});const r={DRAW:"draw",MOVE:"move",SELECT:"select",ERASE:"erase"},o={SMALL:4,MEDIUM:8,LARGE:16,EXTRA_LARGE:32},i={COLOR:"color",SIZE:"size"}},68253:(e,t,n)=>{"use strict";n.d(t,{Cl:()=>v,QR:()=>E,Vn:()=>b,ye:()=>f});var r=n(8816),o=n.n(r),i=n(67294),s=n(97762),a=n.n(s),l=n(39343),c=n(47566),d=n(22776),u=n(75763),m=n(15272);const p=["points","stroke"],h=["points","size"];function g(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}const f=e=>o()([(0,d.Jx)(e),d.Y0]),E=({paths:e,boundingRect:t})=>{if(!e.length)return{};const{top:n,left:r,width:o,height:s}=t,l=f({x:-r,y:-n}),c=e.map((e=>{let{points:t}=e,n=g(e,p);return Object.assign({},n,{points:t.map(l)})}));return{paths:c,svg:a().renderToStaticMarkup(i.createElement(m.Z,{paths:c,width:o,height:s})),width:o,height:s}},v=({drawing:e,offset:t,scale:n})=>{const r=((e,t)=>o()([(0,d.WL)(e),(0,d.Jx)(t),d.Y0]))(n,t);return e.paths.map((e=>{let{points:t,size:o}=e,i=g(e,h);const s=o*n,a=t.map(r),c=(0,l.xl)(Object.assign({},i,{points:a,size:s}));return Object.assign({},i,{size:(0,l.Xp)(o*n),points:a,stroke:c})}))},b=({editedDrawingElement:e,gridSize:t,canvasTranslation:n,canvasOrigin:r})=>{if(!e)return[];const o=e.toJS(),i=(0,u.dzi)(o),s=(0,u._Ap)(o);if(!s)return[];const a={left:((0,u.oNe)(o)-(0,c.nZ)(r))*t-n.x,top:((0,u.uLQ)(o)-(0,c.Ff)(r))*t-n.y},l=(i*t-2)/s.width;return v({drawing:s,offset:a,scale:l})}},15034:(e,t,n)=>{"use strict";n.d(t,{X:()=>ee,Z:()=>J});var r=n(63422),o=n.n(r),i=n(67294),s=n(45697),a=n.n(s),l=n(1174),c=n.n(l),d=n(94184),u=n.n(d),m=n(85263),p=n(87701),h=n(73497),g=n(39343),f=n(39702),E=n(80877),v=n(57390),b=n(82520),y=n(51777),I=n(78058),C=n(67703),S=n(47894);const T=(e,t)=>(0,i.useCallback)(((n,...r)=>{if(!e||n.pointerType===S.Id.PEN)return t(n,...r)}),[e,t]),w=e=>{const t=document.querySelectorAll(".DrawingEditorColorButton .color-target");(t?Array.from(t):[]).forEach((t=>{t.style.backgroundImage="none",t.style.backgroundColor=e}));document.querySelectorAll(".DrawingPath.selected:not(.outline)").forEach((t=>{t.classList.contains("stroke-only")?t.setAttribute("stroke",e):t.setAttribute("fill",e)}))},O=({isPenMode:e,isSketch:t,disabled:n,keepPopupOpen:r,strokeColor:o,defaultColors:s,colorPopupOpen:a,setStrokeColor:l,setColorPopupOpen:c,setCustomColorInputOpen:d})=>{const m=(0,i.useRef)(),p=(0,i.useCallback)((()=>c(!a)),[c,a]),h=T(e,p),S=()=>c(!1),O=(0,i.useCallback)((()=>{m&&m.current&&m.current.open()}),[m]),_=e=>{l(e),!r&&S()};return i.createElement("div",{className:"DrawingEditorColorTool",onDoubleClick:f.jb},i.createElement(E.Z,{disabled:n,className:"DrawingEditorColorButton",onPointerUp:n?null:h,onDoubleClick:f.jb},i.createElement(C.Z,{color:(0,g.$Z)(o)})),i.createElement(y.Z,{className:u()({"is-open":a}),ref:m,onFocus:()=>d(!0),onBlur:()=>d(!1),initialColor:(0,g.$Z)(o),setTempColor:w,setColor:_}),a&&i.createElement(b.Z,{closePopup:S,visible:!0,ignoredClicksSelector:".DrawingEditorColorButton,.FloatingPanel"},i.createElement(v.Z,{className:u()("DrawingEditorColorPopup light color-popup",{sketch:t}),selector:".DrawingEditorColorButton"},i.createElement(I.Z,{defaultColors:s,selectedColor:o,closePopup:S,openCustomColorPicker:O,setColor:_,customColorInputRef:m}))))};O.propTypes={isPenMode:a().bool,isSketch:a().bool,backgroundColor:a().string,strokeColor:a().string,colorPopupOpen:a().bool,disabled:a().bool,keepPopupOpen:a().bool,defaultColors:a().array,setStrokeColor:a().func,setColorPopupOpen:a().func,setCustomColorInputOpen:a().func};const _=O;var R=n(12843);const A=e=>{switch(e){case R.L$.SMALL:return"drawing-editor-stroke-1";case R.L$.LARGE:return"drawing-editor-stroke-3";case R.L$.EXTRA_LARGE:return"drawing-editor-stroke-4";case R.L$.MEDIUM:default:return"drawing-editor-stroke-2"}},D=({strokeSize:e})=>i.createElement(p.Z,{name:A(e)});D.propTypes={strokeSize:a().number};const N=({disabled:e,strokeSize:t,className:n,onPointerUp:r,active:o})=>i.createElement(E.Z,{disabled:e,className:u()("DrawingEditorStrokeSizeButton",n,{active:o}),onPointerUp:e=>r&&r(e,t),onDoubleClick:f.jb},i.createElement(D,{strokeSize:t}));N.propTypes={strokeSize:a().number,className:a().string,onPointerUp:a().func,active:a().bool,disabled:a().bool};const x=({disabled:e,isPenMode:t,keepPopupOpen:n,strokeSize:r,setStrokeSize:o,strokePopupOpen:s,setStrokePopupOpen:a})=>{const l=()=>a(!1),c=(0,i.useCallback)((()=>a(!s)),[a,s]),d=T(t,c),u=(e,t)=>{o(t),!n&&l()};return i.createElement("div",{className:"DrawingEditorStrokeSizeTool",onDoubleClick:f.hE},i.createElement(N,{disabled:e,className:"popup-button",strokeSize:r,onPointerUp:e?null:d}),s&&i.createElement(b.Z,{closePopup:l,visible:!0,ignoredClicksSelector:".DrawingEditorStrokeSizeButton,.FloatingPanel"},i.createElement(v.Z,{className:"DrawingEditorStrokeSizePopup light color-popup",selector:".DrawingEditorStrokeSizeButton.popup-button"},i.createElement("div",{className:"stroke-sizes"},i.createElement(N,{className:"square",active:R.L$.SMALL===r,strokeSize:R.L$.SMALL,onPointerUp:u}),i.createElement(N,{className:"square",active:R.L$.MEDIUM===r,strokeSize:R.L$.MEDIUM,onPointerUp:u}),i.createElement(N,{className:"square",active:R.L$.LARGE===r,strokeSize:R.L$.LARGE,onPointerUp:u}),i.createElement(N,{className:"square",active:R.L$.EXTRA_LARGE===r,strokeSize:R.L$.EXTRA_LARGE,onPointerUp:u})))))};x.propTypes={strokeSize:a().number,keepPopupOpen:a().bool,strokePopupOpen:a().bool,isPenMode:a().bool,disabled:a().bool,setStrokeSize:a().func,setStrokePopupOpen:a().func};const M=x;var P=n(41563),L=n(77875);const k=({currentToolMode:e,toolMode:t,setToolMode:n,isPenMode:r,children:o,name:s,shortcut:a})=>{const l=(0,i.useCallback)((()=>n(t)),[t,n]),c=T(r,l);return i.createElement(P.Z,{enabled:!0,tooltipText:s,shortcut:a,position:L.as.BOTTOM,delay:700,pollPosition:!0,triggerOnMouseEnter:!0},i.createElement(E.Z,{className:u()("DrawingModeToolModeButton",{active:e===t}),onPointerUp:c,onDoubleClick:f.jb},o))};k.propTypes={isPenMode:a().bool,currentToolMode:a().string,toolMode:a().string,name:a().string,shortcut:a().array,children:a().oneOfType([a().element,a().array,a().string]),setToolMode:a().func};const F=k,B=e=>{const{isPenMode:t,setIsPenMode:n}=e,r=(0,i.useRef)();return(0,i.useEffect)((()=>{const e=e=>{e.pointerType===S.Id.PEN&&n(!0)},t=()=>{n(!1)},o=e=>{e.pointerType===S.Id.PEN&&(clearTimeout(r.current),r.current=setTimeout(t,2e3))};return document.addEventListener("pointermove",e),document.addEventListener("pointerup",o),()=>{document.removeEventListener("pointermove",e),document.removeEventListener("pointerup",o),clearTimeout(r.current)}}),[t]),null};B.propTypes={toolMode:a().string,isPenMode:a().bool,setIsPenMode:a().func};const j=B,z=["children","className"];const U=e=>{const{children:t,className:n}=e,r=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,z);return i.createElement("div",Object.assign({},r,{className:u()("DrawingEditorToolbarExtendedPanel",n)}),t)};U.propTypes={className:a().string,children:a().oneOfType([a().arrayOf(a().node),a().node])};const H=U;var Z=i.createElement(p.Z,{name:"drawing-editor-undo"}),G=i.createElement(p.Z,{name:"drawing-editor-redo"});const K=e=>{const{isPenMode:t,canUndo:n,canRedo:r,undoPath:o,redoPath:s}=e,a=T(t,o),l=T(t,s);return i.createElement(H,{className:"DrawingEditorToolbarUndoRedoTools",onDoubleClick:f.jb},i.createElement(E.Z,{className:u()({disabled:!n}),onPointerUp:a},Z),i.createElement(E.Z,{className:u()({disabled:!r}),onPointerUp:l},G))};K.propTypes={isPenMode:a().bool,canUndo:a().bool,canRedo:a().bool,undoPath:a().func,redoPath:a().func};const W=K;var V=n(76073),$=n(6304);var q=i.createElement(p.Z,{name:"drawing-editor-tool-draw"}),Y=i.createElement(p.Z,{name:"drawing-editor-tool-select"}),X=i.createElement(p.Z,{name:"drawing-editor-tool-erase"});const Q=i.memo((function({isEditingExistingDrawing:e,toolMode:t,toolModeState:n,colorPopupOpen:r,strokePopupOpen:s,strokeSize:a,strokeColor:l,backgroundColor:c,defaultColors:d,handleSetStrokeColor:p,handleSetStrokeSize:g,handleDiscardButton:f,handleSaveButton:E,setToolMode:v,setColorPopupOpen:b,setCustomColorInputOpen:y,setStrokePopupOpen:I,canUndo:C,canRedo:S,undoPath:w,redoPath:O,isPenMode:A,setIsPenMode:D,isTouchEventInToolbarBlocked:N}){!function({toolMode:e,setToolMode:t,setColorPopupOpen:n}){const r=(0,V.Z)(e);(0,i.useEffect)((()=>{const o=o=>{if(o.detail===$.K5.ignore)return;if(o.detail===$.K5.showColorPalette)return void n(!0);let i;i=r&&o.detail===$.K5.switchPrevious?r:e!==R.o.DRAW?R.o.DRAW:R.o.ERASE,t(i)};return document.addEventListener($.jy.PENCIL_DOUBLE_TAP,o),()=>{document.removeEventListener($.jy.PENCIL_DOUBLE_TAP,o)}}),[e])}({toolMode:t,setToolMode:v,setColorPopupOpen:b});const x=(0,V.Z)(e),P=e||x,L=t===R.o.ERASE||t===R.o.SELECT&&!o()("hasSelection",n),k=T(N,f),B=T(N,E);return i.createElement("div",{className:u()("DrawingEditorToolbar",{ipad:(0,m.HM)()}),onDoubleClick:A?null:E},i.createElement(W,{isPenMode:A,canUndo:C,canRedo:S,undoPath:w,redoPath:O}),i.createElement("div",{className:"tool-mode-controls"},i.createElement(F,{name:"Pen",shortcut:["p"],isPenMode:A,currentToolMode:t,toolMode:R.o.DRAW,setToolMode:v},q),i.createElement(F,{name:"Selection tool",shortcut:["v"],isPenMode:A,currentToolMode:t,toolMode:R.o.SELECT,setToolMode:v},Y),i.createElement(F,{name:"Eraser",shortcut:["e"],isPenMode:A,currentToolMode:t,toolMode:R.o.ERASE,setToolMode:v},X)),i.createElement("div",{className:"draw-controls"},i.createElement(_,{isPenMode:A,defaultColors:d,disabled:L,keepPopupOpen:t===R.o.DRAW,colorPopupOpen:r,setColorPopupOpen:b,setCustomColorInputOpen:y,backgroundColor:c,strokeColor:l,setStrokeColor:p}),i.createElement(M,{isPenMode:A,disabled:L,keepPopupOpen:t===R.o.SELECT,strokePopupOpen:s,strokeSize:a,setStrokeSize:g,setStrokePopupOpen:I})),i.createElement("div",{className:"exit-controls"},i.createElement(h.Z,{className:"secondary compact discard no-hover",onPointerUp:k},P?"Cancel":"Discard"),i.createElement(h.Z,{className:"primary compact save",onPointerUp:B},"Save")),(0,m.HM)()&&i.createElement(j,{toolMode:t,isPenMode:A,setIsPenMode:D}))}),((e,t)=>!!t.isDrawing));Q.propTypes={toolMode:a().string,toolModeState:a().object,strokeSize:a().number,strokeColor:a().string,backgroundColor:a().string,defaultColors:a().array,drawingModeEnabled:a().bool,colorPopupOpen:a().bool,strokePopupOpen:a().bool,isEditingExistingDrawing:a().bool,setToolMode:a().func,handleSetStrokeColor:a().func,handleSetStrokeSize:a().func,setColorPopupOpen:a().func,setCustomColorInputOpen:a().func,setStrokePopupOpen:a().func,handleDiscardButton:a().func,handleSaveButton:a().func,canUndo:a().bool,canRedo:a().bool,undoPath:a().func,redoPath:a().func,isPenMode:a().bool,setIsPenMode:a().func,isTouchEventInToolbarBlocked:a().bool};const J=Q,ee=e=>i.createElement(c(),{transitionName:"fade-exit-down",transitionAppear:!0,transitionEnterTimeout:300,transitionLeaveTimeout:300,transitionAppearTimeout:300},i.createElement(Q,e));ee.propTypes={drawingModeEnabled:a().bool}},39343:(e,t,n)=>{"use strict";n.d(t,{$Z:()=>d,EB:()=>E,US:()=>p,Xp:()=>c,a3:()=>f,cI:()=>h,dZ:()=>b,nH:()=>y,p$:()=>I,wd:()=>u,xl:()=>m,zv:()=>v});var r=n(18283),o=n(48421),i=n(8686),s=n(7923),a=n(22776),l=n(30402);n(98489);const c=e=>Math.round(100*e)/100,d=e=>{if((0,i.Sq)(e))return e;switch(e){case l.DM.GREY.name:return"#bbbec3";case l.DM.CYAN.name:return"#62dbc8";case l.DM.GREEN.name:return"#7cd651";case l.DM.BROWN.name:return"#d58558";case l.DM.YELLOW.name:return"#ffd14d";case l.DM.ORANGE.name:return"#ff8d48";case l.DM.RED.name:return"#ff5757";case l.DM.PINK.name:return"#ff6ed4";case l.DM.PURPLE.name:return"#ad6fff";case l.DM.BLUE.name:return"#4ebafd";case l.DM.DEEP_BLUE.name:return"#5882f8";case l.WE.WHITE.name:return"#ffffff";case l.DM.NONE:default:return}},u=e=>d(e)||"#323b4a",m=(e,t=!1)=>{const{points:o,size:i,hasPressure:s=!1,thinning:a=n.g.drawing.thinning,smoothing:l=n.g.drawing.smoothing,streamline:c=n.g.drawing.streamline,startTaper:d=n.g.drawing.startTaper,endTaper:u=n.g.drawing.endTaper,last:m=!0}=e;return a||t?(0,r.ZP)(o,{size:i,thinning:a,smoothing:l,streamline:c,start:{taper:d},end:{taper:u},simulatePressure:!s,last:m}).filter((e=>!e.some(isNaN))):o.map((e=>[e[0],e[1]]))},p=(e,t)=>{if(!e.length)return"";if(!t&&e.length<2)return`M ${e[0][0]} ${e[0][1]} l 0 0`;const n=e.reduce(((n,[r,o],i,s)=>{if(!t&&i===e.length-1)return n.push("L",r,o),n;const[a,l]=s[(i+1)%s.length];return n.push(c(r),c(o),c((r+a)/2),c((o+l)/2)),n}),["M",...e[0],"Q"]);return t&&n.push("Z"),n.join(" ")},h=(e,t=0)=>{let n=1/0,r=1/0,o=0,i=0;return e.forEach((([e,s])=>{n=Math.min(e-t,n),r=Math.min(s-t,r),o=Math.max(e+t,o),i=Math.max(s+t,i)})),{top:r,right:o,bottom:i,left:n,width:o-n,height:i-r}},g=e=>{const{thinning:t,size:n}=e;return 0===t?n/2:0},f=e=>{const t=g(e),n=m(e);return h(n,t)},E=({paths:e,gridSize:t})=>{if(!e||!e.length)return[];const n=2*t,r=e.reduce(((e,t)=>{const{id:r}=t,o=m(t),i=g(t);let a=h(o,i);return a=s.H4(n,n,a),e[r]=a,e}),{}),i=s.mU(r);return(0,o.eu)(i)},v=(e,t,n)=>t.map((t=>{if(n&&!n[t.id])return t;const r=t.points.map((0,a.Jx)(e)),o=m(Object.assign({},t,{points:r}));return Object.assign({},t,{points:r,stroke:o})})),b=(e,t,n)=>[...t.filter((e=>n&&!n[e.id])),...t.filter((e=>!n||n[e.id])).map((t=>{const n=t.points.map((0,a.Jx)(e)),r=m(Object.assign({},t,{points:n}));return Object.assign({},t,{points:n,stroke:r})}))],y=(e,t={})=>[...e.filter((e=>!t[e.id])),...e.filter((e=>t[e.id]))],I=(e,t={})=>[...e.filter((e=>t[e.id])),...e.filter((e=>!t[e.id]))]},98489:(e,t,n)=>{n.g.drawing={overlayOpacity:.6,strokeWidth:0,thinning:.6,smoothing:.5,streamline:.5,startTaper:0,endTaper:0}},22776:(e,t,n)=>{"use strict";n.d(t,{Jx:()=>d,WL:()=>c,Y0:()=>u,Zy:()=>a,iD:()=>l});var r=n(59854),o=n.n(r),i=n(40565),s=n(47566);const a=e=>e&&0!==e[2]||void 0,l=(e,t)=>{const[n,r]=e,[o,s]=t;return i.F8(o-n,s-r)},c=e=>([t,n,r])=>[t*e,n*e,r],d=e=>{const t=(0,s.nZ)(e),n=(0,s.Ff)(e);return([e,r,o])=>[e+t,r+n,o]},u=([e,t,n])=>[o()(e,1),o()(t,1),n]},70886:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(63422),o=n.n(r),i=n(67294),s=n(85263),a=n(39702),l=n(19092);const c=({svgRef:e,undoPath:t,redoPath:n})=>{const[r,c]=(0,i.useState)(!1),d=(0,i.useRef)(0),u=(0,i.useRef)(0),m=(0,i.useRef)(),p=(0,i.useRef)(t),h=(0,i.useRef)(n);return(0,i.useEffect)((()=>{(0,s.HM)()&&(p.current=t,h.current=n)}),[t,n]),(0,i.useEffect)((()=>{if(!(0,s.HM)()||!e.current)return;const t=e=>{e.preventDefault();const t=o()(["touches","length"],e)||0;if(t<=1)return;if(clearTimeout(m.current),t<u.current)return void(m.current=setTimeout((()=>{d.current=0,u.current=0}),600));const n=(0,l.u3)();if(u.current!==t||n>d.current+600)return d.current=n,void(u.current=t);2===u.current?p.current():h.current(),d.current=0,u.current=0};return e.current.addEventListener("gesturestart",a.j3,!1),e.current.addEventListener("gestureend",a.j3,!1),e.current.addEventListener("gesturechange",a.j3,!1),e.current.addEventListener("touchstart",t,!1),e.current.addEventListener("touchmove",a.j3,!1),e.current.addEventListener("touchend",a.j3,!1),e.current.addEventListener("touchcancel",a.j3,!1),()=>{e.current&&(e.current.removeEventListener("gesturestart",a.j3,!1),e.current.removeEventListener("gestureend",a.j3,!1),e.current.removeEventListener("gesturechange",a.j3,!1),e.current.removeEventListener("touchstart",t,!1),e.current.removeEventListener("touchmove",a.j3,!1),e.current.removeEventListener("touchend",a.j3,!1),e.current.removeEventListener("touchcancel",a.j3,!1))}}),[]),{isPenMode:r,setIsPenMode:c}}},84197:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294),o=n(51752),i=n(91808),s=n(40253),a=n(12843);const l=({toolMode:e,undoPath:t,redoPath:n,cancelPath:l,setToolMode:c,setStrokeSize:d,switchToPreviousColor:u,handleSaveButton:m,colorPopupOpen:p,setColorPopupOpen:h})=>{const g=(0,r.useCallback)((r=>{if(r.keyCode===s.nx.SPACEBAR)return;if(!((0,o.lk)(r)&&(0,o.p9)(r)&&(r.keyCode===s.nx.D||r.keyCode===s.nx.C)))if(r.stopPropagation(),(0,o.nY)(r)){(r.keyCode===s.nx.UP_ARROW||r.keyCode===s.nx.DOWN_ARROW)&&r.preventDefault()}else{if((0,o.lk)(r)){return r.keyCode===s.nx.UP_ARROW||r.keyCode===s.nx.DOWN_ARROW||r.keyCode===s.nx.LEFT_ARROW||r.keyCode===s.nx.RIGHT_ARROW||r.keyCode===s.nx.C||r.keyCode===s.nx.X||r.keyCode===s.nx.V?void r.preventDefault():r.keyCode===s.nx.S?(r.preventDefault(),m()):void(r.keyCode===s.nx.Z&&(l(),(0,o.p9)(r)?n():t(),r.preventDefault()))}switch(r.preventDefault(),r.keyCode){case s.nx.S:case s.nx.V:return c(a.o.SELECT);case s.nx.D:case s.nx.P:case s.nx.M:case s.nx.B:return c(a.o.DRAW);case s.nx.X:return u();case s.nx[1]:return d(a.L$.SMALL),c(a.o.DRAW);case s.nx[2]:return d(a.L$.MEDIUM),c(a.o.DRAW);case s.nx[3]:return d(a.L$.LARGE),c(a.o.DRAW);case s.nx[4]:return d(a.L$.EXTRA_LARGE),c(a.o.DRAW);case s.nx.C:if(e!==a.o.DRAW)return;return void h(!p);case s.nx.E:return c(a.o.ERASE);case s.nx.ESC:return e!==a.o.SELECT?m():void 0;default:return null}}}),[t,n]);(0,i.Z)({onKeyDown:g})}},29682:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(52151),o=n.n(r),i=n(77606),s=n.n(i),a=n(67294),l=n(53416),c=n(39343),d=n(22776),u=n(45209);const m=(e=[])=>{const t=(0,a.useRef)([]),[n,r]=(0,a.useState)(e),[i,m]=(0,a.useState)(),[p,h]=(0,a.useState)([]),[g,f]=(0,a.useState)([]),E=e=>{n!==e&&(h([...p,n].slice(-100)),f([]),r(e))};(0,a.useEffect)((()=>{E(e)}),[e]);return{paths:i?[...n,i]:n,storedPaths:n,currentPath:i,setPaths:E,beginPath:({size:e=10,color:n,point:r,strokeSize:o,enableDrawingInkEffect:i})=>{const s=(0,l.x0)(6),a=[r],p=(0,u.Ox)({size:e,strokeSize:o,enableDrawingInkEffect:i}),h=i&&(0,d.Zy)(r),g=(0,u.Bp)({strokeSize:o,hasPressure:h,enableDrawingInkEffect:i}),f=(0,u.Rw)({strokeSize:o,hasPressure:h,enableDrawingInkEffect:i}),E=(0,u.Re)({strokeSize:o,hasPressure:h,enableDrawingInkEffect:i}),v=(0,c.xl)({points:a,size:p,hasPressure:h,thinning:g,smoothing:f,streamline:E,last:!1});t.current=r,m({id:s,size:p,color:n,thinning:g,smoothing:f,streamline:E,points:a,stroke:v,hasPressure:h})},endPath:()=>{if(!i)return;t.current=[];const e=(0,c.xl)(Object.assign({},i,{last:!0})),r=Object.assign({},i,{stroke:e});m(void 0),E([...n,r])},cancelPath:()=>{i&&(t.current=[],m(void 0))},appendPointToCurrentPath:(e,n)=>{if(!i)return;if(t.current[0]===e[0]&&t.current[1]===e[1])return;t.current=e;const r=(0,d.Zy)(e)||i.hasPressure,o=[...i.points,e],s=(0,c.xl)(Object.assign({},i,{points:o,hasPressure:r,last:!1}));m(Object.assign({},i,{color:n,points:o,stroke:s,hasPressure:r}))},clearPaths:()=>{r([]),h([]),f([])},removePaths:(e=[])=>{const t=n.filter((t=>!e.includes(t.id)));E(t)},undoPath:()=>{if(s()(p))return!1;f([...g,n]);const e=o()(p),t=p.slice(0,p.length-1);return h(t),r(e),!0},redoPath:()=>{if(s()(g))return!1;h([...p,n]);const e=o()(g),t=g.slice(0,g.length-1);return f(t),r(e),!0},canUndo:!s()(p),canRedo:!s()(g)}}},9554:(e,t,n)=>{"use strict";n.d(t,{Bz:()=>a,GK:()=>s,ZP:()=>l});var r=n(67294),o=n(99187),i=n(12843);const s="milanote.drawing.stroke-size",a="milanote.drawing.color",l=({onPathPropertyChangeRef:e})=>{const[t,n]=(0,r.useState)(i.o.DRAW),[l,c]=(0,r.useState)({}),[d,u]=(0,o.Z)("milanote.drawing.previous-color",null),[m,p]=(0,o.Z)(a,null),[h,g]=(0,o.Z)(s,i.L$.MEDIUM,(e=>parseInt(e,10))),[f,E]=(0,r.useState)(!1),[v,b]=(0,r.useState)(!1),[y,I]=(0,r.useState)(!1),C=t=>{e.current&&e.current({oldValue:m,value:t,pathProperty:i.JX.COLOR}),u(m),p(t)};return{toolMode:t,strokeSize:h,strokeColor:m,colorPopupOpen:f,customColorInputOpen:v,setCustomColorInputOpen:b,strokePopupOpen:y,setToolMode:e=>{n(e),c({})},toolModeState:l,setToolModeState:c,setStrokeSize:t=>{e.current&&e.current({oldValue:h,value:t,pathProperty:i.JX.SIZE}),g(t)},setStrokeColor:C,switchToPreviousColor:()=>C(d),setStrokeSizeState:g,setStrokeColorState:p,setColorPopupOpen:e=>(e&&I(!1),E(e)),setStrokePopupOpen:e=>(e&&E(!1),I(e)),closeAllPopups:()=>{E(!1),I(!1)}}}},45209:(e,t,n)=>{"use strict";n.d(t,{Bp:()=>i,Ox:()=>o,Re:()=>a,Rw:()=>s});var r=n(12843);const o=({size:e,strokeSize:t,enableDrawingInkEffect:n})=>n||t===r.L$.EXTRA_LARGE?e:e/2,i=({strokeSize:e,hasPressure:t,enableDrawingInkEffect:n})=>n&&e!==r.L$.EXTRA_LARGE?t&&e===r.L$.LARGE?.7:t&&e===r.L$.SMALL?.5:void 0:0,s=({strokeSize:e,hasPressure:t,enableDrawingInkEffect:n})=>{if(n){if(!t)return e===r.L$.LARGE?.2:void 0;if(!(e<=r.L$.MEDIUM))return.1}},a=({strokeSize:e,hasPressure:t,enableDrawingInkEffect:n})=>{if(n){if(!t)return e===r.L$.LARGE?1:void 0;if(!(e<=r.L$.LARGE))return.1}}},66059:(e,t,n)=>{"use strict";n.d(t,{UY:()=>v,Vn:()=>f,Y9:()=>E});var r=n(77606),o=n.n(r),i=n(67294),s=n(97762),a=n.n(s),l=n(43831),c=n(39343),d=n(68253),u=n(75763),m=n(15272),p=n(41013),h=n(79762),g=n(66998);const f=({element:e})=>{if(!e)return[];const t=(0,l.su)((0,u._Ap)(e));return t&&t.paths?(0,d.Cl)({drawing:t,offset:{x:0,y:0},scale:1}):[]},E=({windowWidth:e,windowHeight:t,element:n,gridSize:r})=>{const o=(0,u.NO5)(n)||h.HH*p.HR.LARGE.size*h.TL,i=(0,u.SJ9)(n)||h.$F*p.HR.LARGE.size*h.TL,s=o/i,a=(0,u.A7z)(n)?(0,u.KTp)(n):null,l=(0,g.W)(a,r),c=8.3*r,d=(({windowWidth:e,windowHeight:t})=>.1*Math.min(e,t))({windowWidth:e,windowHeight:t,gridSize:r}),m=t-2*d-c-l,f=e-2*d,E=Math.min(f,s*m);return{modalWidth:E,modalHeight:Math.min(f/s,m),drawingWidth:o,drawingHeight:i,scale:E/o}},v=({paths:e,drawingWidth:t,drawingHeight:n})=>{if(!e)return null;const r=e.filter((e=>{const t=(0,c.a3)(e);return t&&t.width>0}));if(o()(r))return null;return{paths:r,svg:a().renderToStaticMarkup(i.createElement(m.Z,{paths:r,width:t,height:n,useFallbackColor:!0})),width:t,height:n}}},79225:(e,t,n)=>{"use strict";n.d(t,{jT:()=>r,n7:()=>i,tB:()=>o});const r="LIVE_DRAWING_SET_PATHS",o="LIVE_DRAWING_UPDATE_PATH",i="LIVE_DRAWING_END"},56863:(e,t,n)=>{"use strict";n.d(t,{K:()=>s,u:()=>i});var r=n(78327);const o=e=>!!e,i=e=>e.get("liveDrawing"),s=(0,r.y1)((e=>e.get("liveDrawing")),(e=>e.map((({editedDrawingId:e})=>e)).filter(o).toArray()))},90354:(e,t,n)=>{"use strict";n.d(t,{C:()=>$,sF:()=>Y});var r=n(11151),o=n.n(r),i=n(52612),s=n.n(i),a=n(80369),l=n.n(a),c=n(88846),d=n.n(c),u=n(77606),m=n.n(u),p=n(52740),h=n(37407),g=n(10305),f=n(35803),E=n(68624),v=n(23680),b=n(83547),y=n(49508),I=n(10536),C=n(45685),S=n(43831),T=n(11581),w=n(48421),O=n(32752),_=n(495),R=(n(28252),n(19092)),A=n(11111),D=n(75763),N=n(56860),x=n(59551),M=(n(4193),n(76491)),P=n(1266),L=n(96886);const k=["templateTags","templateKeywords","publicEditEnabled","publicEditEnabledTimestamp","publishedFeedbackEnabled","publishedMediaDownloadDisabled","publishedPasswordProtected","published","publishedTimestamp","welcomeMessage","embedGenerated"];const F=e=>null!=e&&e.reactions?Object.assign({},e,{reactions:[]}):e,B=e=>function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e.content,k),j=(e,t)=>{switch(e.elementType){case M.WK:case L.tE:return n=e,Object.assign({},n.content,{hasClones:!1,clone:null});case x.H3:return((e,t)=>Object.assign({},e.content,{start:Object.assign({},e.content.start,{elementId:t[e.content.start.elementId]}),end:Object.assign({},e.content.end,{elementId:t[e.content.end.elementId]})}))(e,t);case N.V_:return B(e);default:return e.content}var n},z=(e,t)=>{const n=t[e.location.parentId];return n&&e._id!==n},U=({elements:e,createDuplicateIdFn:t,originalParentId:n,newParentId:r,transactionId:o,userId:i,platform:s})=>{const a=e.map(((e,n)=>(({element:e,duplicateId:t,userId:n,transactionId:r,platform:o})=>{const i=((0,A.F_)(e)||(0,A.qk)(e))&&(0,D.rtd)(e),s=(0,D.nRF)(e),a=i?P.X:(0,D.BGE)(e),l=i?{linkTo:s,clonedElementType:(0,D.BGE)(e)}:F(e.content);return Object.assign({},e,{_id:t,elementType:a,content:l,meta:Object.assign({},e.meta,{modifiedBy:n,creator:n,createdTime:(0,R.u3)(),platform:o}),duplicate:!0,duplicatedId:s,transactionId:r,acl:void 0})})({element:e,duplicateId:t(n),transactionId:o,userId:i,platform:s}))),l=a.reduce(((e,t)=>(e[t.id]=t._id,e)),{});return l[n]=r,a.map((e=>t=>Object.assign({},t,{content:j(t,e),location:Object.assign({},t.location,{parentId:z(t,e)?e[t.location.parentId]:t.location.parentId})}))(l))};var H=n(60742),Z=n(96181),G=n(84876),K=n(14927),W=n(20906);const V=(e,t,n,r)=>async o=>{try{const{data:{elementCount:r}}=await(0,C.ZP)({url:"elements/duplicate",method:K.Is.POST,data:{duplications:e,tokens:t},timeout:6e4});o((0,f.bF)(r,n));const i=Object.values(r).reduce(((e,t)=>e+t),0);await(0,G.Z)(.25*i);const s=e.map((({newElementId:e})=>e));await o((0,p.Po)({boardIds:s,force:!0,excludeSelf:!0,loadAncestors:!1}));const a=e.filter((({elementType:e})=>!(0,A.pi)(e))).map((({newElementId:e})=>e));if(!m()(a))for(const e of a)o((0,p.I)(e))}catch(i){if(!i.response)return console.error(i);const{data:t}=i.response;if(r){const t=e.map((e=>(0,g.fP)({id:e.newElementId,location:e.newElementLocation,elementType:e.elementType,transactionId:n})));o((0,E.fS)({actions:t,transactionId:n}))}alert(t.error&&t.error.message)}},$=(e,t,n=!0,r=!0)=>async o=>{const i=e.reduce(((e,t)=>(e[t.originalElementId]=t,e)),{}),s=e.map((({newElementId:e})=>e));var a;r&&o((a=s,{type:W.g1,elementIds:a,loading:!0}));const l=e.map((({originalElementId:e})=>e)),c=await o((0,Z.xP)({elementIds:l}));try{for(const{token:e,elementIds:r}of c){const s=r.map((e=>i[e]));await o(V(s,e,t,n))}}finally{r&&o((e=>({type:W.ZX,elementIds:e,loading:!1}))(s))}},q=(e,{elementsToDuplicate:t})=>{const n=t.filter(A.t3).map(D.nRF),r=(0,b.$)(e),i=(0,y.pD)(e),s=(0,w.qE)(i,n),a=(0,S.yS)(s,r),l=(0,S.su)(a.filter(A.PG).valueSeq()),c=t.filter(A.PG),d=[...l.map(D.nRF),...c.map(D.nRF)],u=o()((e=>(0,w.xT)(i,e)),d),m=[...s,...u],p=(0,S.yS)(m,r);return(0,S.su)(p.valueSeq())},Y=({moves:e,duplications:t,shouldSelect:n,shouldConvertAliasToBoard:r,transactionId:o=(0,H.k)()})=>async(i,a)=>{const c=a();let u=t||e.map((e=>t=>{const n=e.getIn(["elements",t.id]);return n?Object.assign({},n.toJS(),{location:t.location}):null})(c));u=[...u,...q(c,{elementsToDuplicate:u})];const p=(0,b.$)(c),g=u.filter(l()(A.Iw)).map(((e,t)=>n=>{if(!t||!(0,A.lA)(n))return n;const r=(0,D.Sb0)(n),o=(0,_.sb)(e,r);return Object.assign({},n,{id:(0,D.G8z)(n),elementType:N.V_,content:(0,O.IU)(n,o)})})(p,r)),f=(e=>t=>{const n=(0,I.g)(e),r=(0,I.q)(e)+t+1;return(0,T.Z)(n,r)})(c),E=U({elements:g,createDuplicateIdFn:f,transactionId:o});if(await i(((e,t)=>(n,r)=>{n((0,h.xX)({elements:e.map((e=>Object.assign({},e,{id:e._id}))),transactionId:t}));const o=r(),i=(0,b.$)(o),s=e.filter((e=>(0,_.sb)(i,e._id)&&(0,A.pi)(e.elementType))).map((e=>({originalElementId:e.id,newElementId:e._id,newElementLocation:e.location,elementType:e.elementType})));if(!m()(s))return n($(s,t))})(E,o)),n&&i((0,v.uX)({ids:d()("_id",E),transactionId:o})),1!==E.length||1!==u.length)return;i(((e,t)=>({type:W.Ub,originalElementId:e,duplicateElementId:t}))((0,D.nRF)(s()(u)),(0,D.nRF)(s()(E))))}},20906:(e,t,n)=>{"use strict";n.d(t,{Ub:()=>r,ZX:()=>i,g1:()=>o});const r="ELEMENT_INDIVIDUAL_DUPLICATION",o="ELEMENT_DUPLICATION_PROCESSING",i="ELEMENT_DUPLICATION_COMPLETE"},4623:(e,t,n)=>{"use strict";n.d(t,{Cp:()=>i,bL:()=>s,hR:()=>a,sY:()=>o});var r=n(81410);const o=(e,t)=>e.getIn(["app","duplications",t.elementId]),i=e=>{const t=(0,r.s4)(e);return e.getIn(["app","duplications","loading",t,"loading"])},s=(e,t)=>e.getIn(["app","duplications","loading",t.elementId,"loading"]),a=e=>e.getIn(["app","duplications","loading"])},57863:(e,t,n)=>{"use strict";n.d(t,{Ul:()=>s,hP:()=>i,jP:()=>a,vL:()=>l,xp:()=>o});var r=n(45915);const o="ELEMENT_FILTER_SET",i="ELEMENT_FILTER_CLEAR",s={SEARCH:"SEARCH"},a={SEARCH:"search"},l=[r.RY.FILTER_IDS,r.RY.FILTER_QUERY,r.RY.FILTER_CONTEXT]},42022:(e,t,n)=>{"use strict";n.d(t,{u2:()=>P,Z4:()=>x,O3:()=>D,W1:()=>_,FE:()=>R,f4:()=>O,Nk:()=>y,iv:()=>w,D7:()=>T,HO:()=>L});var r=n(8816),o=n.n(r),i=n(22222),s=n(43831),a=n(78327),l=n(41609),c=n.n(l),d=n(75763),u=n(83887),m=n(39381);const p={};var h=n(81410),g=n(81897),f=n(39222),E=n(79589),v=n(57863),b=n(81188);(0,s.vg)("ids");const y=(0,s.vg)("query"),I=(0,s.vg)("context"),C=(0,s.vg)("pass"),S=(0,s.vg)("changeCount"),T=e=>e.getIn(["app","elementFilter"]),w=o()(T,y),O=o()(T,I),_=(0,i.P1)(T,(e=>e&&!e.isEmpty())),R=(0,i.P1)(T,(e=>{if(e&&!e.isEmpty())return y(e)?v.Ul.SEARCH:void 0})),A=(0,i.P1)(g.zP,E.lZ,((e,t)=>e.merge(t))),D=(0,a.hH)(T,b.tQ,A,f.h_,((e,t,n,r)=>(e=>{const{elementFilter:t,currentBoard:n,currentBoardDeepChildren:r,comments:o}=e;if(!t||c()(t))return p;const i=t.query||"",s=t.ids||[],a=i.length>0,l=s.length>0;if(!a&&!l)return p;const h=e=>!(!a||!e)&&(0,m.Z)({queryRegEx:(0,u.ZP)(i,u.nJ.PHRASE),comments:o})(e),g=e=>!(!l||!e)&&s.includes((0,d.nRF)(e));return r.set((0,d.nRF)(n),n).map((e=>({elementId:(0,d.nRF)(e),pass:h(e),focus:g(e),actorIds:[(0,d.J43)(e)]}))).filter((e=>!!e&&(e.pass||e.focus))).toJS()})({elementFilter:(0,s.su)(e),currentBoard:t,currentBoardDeepChildren:n,comments:r}))),N=(0,i.P1)(h.s4,D,s.vg),x=(0,i.P1)(N,(e=>S(e)||0)),M=(e,t)=>t.elementId||(0,d.nRF)(t.element),P=()=>(0,i.P1)(M,D,s.vg),L=(0,i.P1)(D,g._R,((e,t)=>!(!e||!t)&&t.some((t=>{const n=(0,d.nRF)(t);return C(((e,t)=>(0,s.vg)(e,t))(n,e))}))))},57819:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(67294),o=n(45697),i=n.n(o),s=n(13784),a=n(8698),l=n(97831),c=n(57369),d=n(75763),u=n(94184),m=n.n(u),p=n(61473);const h=({placeholderMeasurements:e,placeholderColor:t,isIconView:n,elementId:o})=>{const{width:i,height:s}=e,a=m()("ElementPlaceholder",{"icon-view-placeholder":n});return r.createElement("div",{id:(0,p.Oc)(o),style:{width:i,height:s,backgroundColor:t},className:a})};var g=n(56860);function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E="800px 0px 800px 0px",v=e=>{class t extends r.Component{constructor(e){super(e),f(this,"getObserverRootOptions",(()=>{const{boardSection:e,inTrash:t}=this.props;if(t)return{root:document.querySelector(".TrashPopupContent .tab-panels"),rootMargin:E};switch(e){case g.WI.INBOX:return{root:document.querySelector(".list-scrollable"),rootMargin:E};case g.W8.QUICK_NOTES:return{root:document.querySelector(".QuickNotesPopup .popup-list"),rootMargin:E};default:return{root:document.querySelector(".App")}}})),f(this,"getElementVisibility",(()=>{const{elementId:e,initialElementsVisibility:t}=this.props;return t&&!this.mounted?t.get(e)??this.state.isVisible:this.state.isVisible})),f(this,"getElementMeasurements",(()=>{const{elementId:e,elementPlaceholderMeasurements:t}=this.props;return c.t$[e]||(null==t?void 0:t[e])})),f(this,"onVisibilityChange",(e=>{const{allowElementPlaceholder:t,setShouldPreventMeasure:n}=this.props;t&&(this.latestVisibility=e,e||n(!0),(0,l.Z)((()=>{var t,r;this.mounted&&e===this.latestVisibility&&e!==this.state.isVisible&&(this.setState({isVisible:e}),null===(t=(r=this.props).onElementVisibilityChange)||void 0===t||t.call(r,this.props.elementId,e),e&&requestAnimationFrame((()=>{n(!1)})))})))})),f(this,"shouldRenderPlaceholder",(e=>{if(!e)return!1;const{elementId:t,elementFilterData:n,allowElementPlaceholder:r}=this.props,o=!!n[t],i=this.getElementVisibility();return r&&!o&&!i})),f(this,"getPlaceholderColor",(e=>{const{element:t}=this.props;return(0,a.KX)(t)?null:(0,s.yp)((0,d.dFx)(t))})),this.state={isVisible:!0},this.mounted=!1}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){if(!this.props.allowElementPlaceholder)return r.createElement(e,this.props);const{element:t,elementId:n}=this.props,o=this.getElementMeasurements(),i=this.shouldRenderPlaceholder(o),s=this.getObserverRootOptions(),l=i?r.createElement(h,{placeholderMeasurements:o,placeholderColor:this.getPlaceholderColor(),isIconView:(0,a.KX)(t),elementId:n}):null;return r.createElement(e,Object.assign({},this.props,{observerRootOptions:s,onVisibilityChange:this.onVisibilityChange,placeholderComponent:l,renderPlaceholder:i}))}}return t.propTypes={boardSection:i().string,elementId:i().string,element:i().object,initialElementsVisibility:i().object,elementPlaceholderMeasurements:i().object,allowElementPlaceholder:i().bool,setShouldPreventMeasure:i().func,onElementVisibilityChange:i().func,elementFilterData:i().object,inTrash:i().bool},t}},57448:(e,t,n)=>{"use strict";n.d(t,{X:()=>C,s:()=>S});var r=n(93386),o=n.n(r),i=n(28583),s=n.n(i),a=n(8400),l=n.n(a),c=n(41609),d=n.n(c),u=n(45685),m=n(495),p=n(11111),h=n(25507),g=n(24691),f=n(37407),E=n(26777),v=n(96181),b=n(68468),y=n(29176),I=n(19092);const C=e=>async t=>t((0,h.S)(y.P6.elements,e.elementIds,e.force)((async n=>{const{loadAncestors:r,permissionIdsOverride:i}=e,a=(e=>{const t=[];return e.forEach((({token:e,elementIds:n})=>{l()(n,200).forEach((n=>{t.push({token:e,elementIds:n})}))})),t})(await t((0,v.xP)({elementIds:n,permissionIdsOverride:i}))),c=await Promise.all(a.map((e=>(0,u.dJ)({url:"elements",timeout:30*I.yu.SECOND,params:{loadAncestors:r,tokens:e.token||void 0,ids:e.elementIds.join(",")}}))));let m,p={},h={},b={},y=0,C=[];return c.forEach((e=>{const{data:t={}}=e,{comments:n={},elements:r={},elementCount:i=0,errors:a={},ids:l=[]}=t;p=s()(p,n),h=s()(h,r),b=s()(b,a),y+=i,C=o()(C,l);const c=(0,g.gz)(e);c&&(!m||c<m)&&(m=c)})),!d()(h)&&t((0,f.dY)(h)),!d()(p)&&t((0,E.uE)({comments:p})),{comments:p,elements:h,elementCount:y,errors:b,ids:C,asyncResource:{errors:b,expiry:m}}}))),S=e=>async(t,n)=>{const{elementIds:r,force:o}=e;if(o)return t(C(e));const i=n(),s=(0,b.$3)(i),a=r.some((e=>{const t=(0,m.sb)(s,e);return(0,p.ph)(t)}));return t(C(Object.assign({},e,{force:a})))}},92544:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={DOCUMENT:"document",CLONE:"clone",DESCRIPTION:"description",TRANSPARENT:"transparent",HEADER:"header-card"}},51354:(e,t,n)=>{"use strict";n.d(t,{D:()=>a,E:()=>l});var r=n(22222),o=n(90252),i=n(80275),s=n(62287);const a=(e,t=!1)=>(0,r.P1)(i.ts,(n=>(0,o.Iw)(e,n)??t)),l=a(s.Iu.clientPersistence)},897:(e,t,n)=>{"use strict";n.d(t,{DP:()=>s,_2:()=>i,ak:()=>o});var r=n(43831);const o=e=>(0,r.P2)(["content",e]),i=e=>t=>(0,r.P2)(["content",e,"enabled"],t)||!1,s=e=>t=>!i(e)(t)&&!(e=>t=>(0,r.P2)(["content",e,"suggestionAck"],t)||!1)(e)(t)},54626:(e,t,n)=>{"use strict";n.d(t,{$A:()=>m,Ic:()=>c,OV:()=>i,RY:()=>l,Wv:()=>s,j:()=>d,ml:()=>u,pN:()=>o,qi:()=>a});var r=n(43612);const o=({playerId:e})=>({type:r.Fb,playerId:e}),i=({playerId:e})=>({type:r.Ue,playerId:e}),s=({playerId:e,progress:t})=>({type:r.B9,playerId:e,progress:t}),a=({playerId:e,duration:t})=>({type:r.yf,playerId:e,duration:t}),l=({playerId:e,volume:t})=>({type:r.ml,playerId:e,volume:t}),c=({playerId:e,mute:t})=>({type:r.AQ,playerId:e,mute:t}),d=({playerId:e,dragPreview:t})=>({type:r.x5,playerId:e,dragPreview:t}),u=({playerId:e,error:t})=>({type:r.Hz,playerId:e,error:t}),m=({playerId:e})=>({type:r.I4,playerId:e})},43612:(e,t,n)=>{"use strict";n.d(t,{AQ:()=>c,B9:()=>s,Fb:()=>o,Hz:()=>u,I4:()=>m,To:()=>p,Ue:()=>i,WK:()=>h,ml:()=>l,x5:()=>d,yf:()=>a});var r=n(43393);const o="MEDIA_PLAYER_PLAY",i="MEDIA_PLAYER_PAUSE",s="MEDIA_PLAYER_SET_PROGRESS",a="MEDIA_PLAYER_SET_DURATION",l="MEDIA_PLAYER_SET_VOLUME",c="MEDIA_PLAYER_SET_MUTE",d="MEDIA_PLAYER_SET_DRAG_PREVIEW",u="MEDIA_PLAYER_ERROR",m="MEDIA_PLAYER_RESET",p=r.Map({playing:!1,progress:0,duration:0,volume:1,mute:!1,error:null,hasBeenPlayed:!1}),h={AUDIO:"AUDIO",VIDEO:"VIDEO"}},73066:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s);const l=({percentageComplete:e,barbershop:t,animate:n})=>r.createElement("div",{className:"ProgressBar"},r.createElement("div",{className:a()("bar",{barbershop:t,animate:n}),style:{width:`${e}%`}}));l.propTypes={percentageComplete:i().number,barbershop:i().bool,animate:i().bool};const c=l},43905:(e,t,n)=>{"use strict";n.d(t,{I1:()=>s,NU:()=>l,ZP:()=>c});var r=n(75763),o=n(91727),i=n(43612);const s=e=>{if(e)return e.match(o.ld.AUDIO.mediaPlayerMimePattern)?i.WK.AUDIO:e.match(o.ld.VIDEO.mediaPlayerMimePattern)?i.WK.VIDEO:void 0},a=e=>{if((0,r.E1L)(e))return i.WK.AUDIO;const t=(0,r.K8)(e);return s(t)},l=e=>a(e)===i.WK.VIDEO,c=a},34734:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(75763),o=n(43905);const i=e=>!1!==(0,r.h3z)(e)&&(e=>{if((0,o.ZP)(e))return!0;const t=!!(0,r.ywY)(e),n=!!(0,r.qat)(e);return t&&!n})(e)},90733:(e,t,n)=>{"use strict";n.d(t,{M5:()=>u,aw:()=>d,nw:()=>h,qH:()=>m,xZ:()=>p});var r=n(27617),o=n.n(r),i=n(43831),s=n(75763),a=n(13612),l=n(21053),c=n(94081);const d=({element:e,attachmentData:t})=>t?(0,i.vg)("width",t):(0,s.PlF)(e),u=({element:e,attachmentData:t})=>o()([d({element:e,attachmentData:t}),c.yz]),m=({element:e,attachmentData:t})=>d({element:e,attachmentData:t})/(({element:e,attachmentData:t})=>(0,s._4D)(e)||d({element:e,attachmentData:t}))({element:e,attachmentData:t}),p=({element:e,attachment:t})=>{const n=(0,s.ywY)(e),r=(0,a.Yu)(t);return(0,i.OE)(n)>0||(0,i.OE)(r)>0},h=e=>(0,l.O_)((0,s.nMc)(e))},41962:(e,t,n)=>{"use strict";n.d(t,{MC:()=>y,aK:()=>v});var r=n(63422),o=n.n(r),i=n(58514),s=n.n(i),a=n(85263),l=n(43831),c=n(10048),d=n(21053),u=n(81248),m=n(45915),p=n(20354),h=n(33853);const g=e=>(t,n,r)=>{if(!t||!r)return 0;const o=a.jj?2*t:t,i=s()((e=>!!(0,l.vg)(e.name,r)),n),c="width"===e?"height":"width",d=(0,l.vg)(e,r),u=(0,l.vg)(c,r);return n.reduceRight(((t,n,i)=>{if(!r||!(0,l.vg)(n.name,r))return t;let s=n[e];if(!s){const e=n[c];if(!e)return i;s=e*(d/u)}return!s||isNaN(s)||s>=o?i:t}),i)},f=g("height"),E=g("width"),v=({widthPx:e,heightPx:t,imageDetails:n,imageType:r})=>{const i=u.b[r].sizes,s=f(t,i,n),a=E(e,i,n),l=Math.max(a,s);return o()([l,"name"],i)},b=({imageSource:e,elementId:t})=>{try{const n=new URL(e);return(e=>{const{hostname:t}=e;if(t===m.C0||t===m.$F)return e;const n=new URL(m.nY);e.host=n.host,e.protocol=n.protocol,e.port=n.port})(n),n.searchParams.set(m.RY.VERSION,"2"),t?n.searchParams.set(m.RY.ELEMENT_ID,t):(0,p.vl)({custom:{imageSource:e},error:new Error("No elementId provided for image source through CF"),level:h.n.WARNING}),n.toString()}catch(n){(0,p.vl)({errorMessage:"Failed to convert image URL to CF image URL",error:n,custom:{imageSource:e,elementId:t}})}},y=({imageDetails:e,imageSize:t,elementId:n,useSecureMediaUrl:r,renderSecureImagesThroughProxy:o,renderSecureImagesThroughCF:i})=>{const s=(0,l.vg)(t,e);return s&&((0,d.O_)(s)||(0,d.Qe)(s))?r&&o?(({imageSource:e,elementId:t})=>{try{const n=new URL(e),r=n.pathname,o=decodeURIComponent(r.slice(1));return n.pathname=`/api/media/${encodeURIComponent(o)}`,t&&n.searchParams.set("elementId",t),n.pathname+n.search}catch(n){c.Z.error("Fail to convert image URL to proxy image URL",n)}})({imageSource:s,elementId:n}):r&&i?b({imageSource:s,elementId:n}):s:s}},74796:(e,t,n)=>{"use strict";n.d(t,{Z:()=>He});var r=n(41609),o=n.n(r),i=n(67294),s=n(45697),a=n.n(s),l=n(61473),c=n(75763),d=n(6557),u=n.n(d),m=n(94184),p=n.n(m),h=n(46408);const g=e=>{const{show:t,className:r,style:o,connectDragSource:s,connectDragPreview:a,isHitArea:l,handleMode:c,onMouseDown:d,onDoubleClick:m}=e;if(i.useEffect((()=>{a&&a((0,h.r)())}),[]),!t)return null;const g=e.pos?(({pos:{x:e,y:t}})=>({left:e,top:t}))(e):null,f=Object.assign({},g,o),E=n.g.lines.handleSize/2;return(s||u())(i.createElement("div",{className:p()("DragHandle",r,c,{"hit-area":l}),onMouseDown:d,onDoubleClick:m,style:f},i.createElement("svg",{className:"handle",version:"1.1",width:n.g.lines.handleSize,height:n.g.lines.handleSize,viewBox:`0 0 ${n.g.lines.handleSize} ${n.g.lines.handleSize}`},i.createElement("circle",{cx:E,cy:E,r:E-.25}))))};g.propTypes={show:a().bool,pos:a().object,className:a().string,style:a().object,isHitArea:a().bool,onMouseDown:a().func,handleMode:a().string,connectDragSource:a().func,connectDragPreview:a().func,onDoubleClick:a().func};const f=g,E=e=>i.createElement(f,Object.assign({className:"EdgeDragHandle"},e));E.propTypes={show:a().bool,pos:a().object};const v=E;var b,y=n(81629),I=n.n(y),C=n(37974),S=n(84785),T=n(39702),w=n(43831),O=n(14253),_=n(48213),R=n(59551),A=n(54142);const D={beginDrag({edge:e,elementId:t,toggleLineVisibility:n,pos:r,element:o,dispatchPointDragStart:i,dispatchStartAttachMode:s}){I()(n),i();const a=(0,w.P2)(["content",e,"elementId"],o);(0,w.P2)(["content",e,"fixed"],o)&&a&&requestAnimationFrame((()=>{s(a)}));return{id:t,element:o,edge:e,pos:r,initialScrollPoint:O.Z.getCanvasViewportScrollAsPoint()}},endDrag(e,t){const{updateLineEdge:n,edge:r,toggleLineVisibility:i}=e,s=t.getDropResult();if(!t.didDrop()||o()(s)||s.ignore)return void i();const{newPosition:a,newControl:l}=s;a?(n({edge:r,newPosition:a,newControl:l}),i()):i()}};let N=(0,C.$j)(null,(e=>({dispatchStartAttachMode:t=>e((0,_.I)(t,A.XZ.LINE_EDGE))})))(b=(0,S.DragSource)(R.Sf,D,((e,t)=>({connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()})))(b=class extends i.Component{render(){return i.createElement(v,this.props)}})||b)||b;class x extends i.Component{render(){const{show:e}=this.props;return e?i.createElement(N,Object.assign({onMouseDown:T.hE,isHitArea:!0},this.props)):null}}x.propTypes={show:a().bool,pos:a().object,edge:a().string.isRequired,elementId:a().string.isRequired,updateLineEdge:a().func,toggleLineVisibility:a().func,dispatchPointDragStart:a().func,dispatchStartAttachMode:a().func,gridSize:a().number,origin:a().object};const M=x,P=e=>i.createElement(f,Object.assign({className:"ControlPointDragHandle"},e));P.propTypes={pos:a().object,color:a().string,show:a().bool};const L=P;var k=n(54688),F=n(70231),B=n(81172),j=n(48791),z=n(25926);const U={beginDrag:({elementId:e,toggleLineVisibility:t,pos:n,element:r,dispatchPointDragStart:o},i,s)=>(I()(t),o(),{id:e,element:r,pos:n}),endDrag(e,t){const{elementId:n,element:r,updateLineControlPoint:i,toggleLineVisibility:s,dispatchGetDroppedControlPoint:a}=e,l=t.getDropResult();if(!t.didDrop()||o()(l))return void s();const{offsetDiff:c=A.rb}=l;i({control:a({elementId:n,element:r,offsetDiff:c})}),s()}},H=(0,k.qC)((0,C.$j)(null,(e=>({dispatchGetDroppedControlPoint:t=>e((({elementId:e,element:t,offsetDiff:n})=>(r,o,{measurementsStore:i})=>{const s=o(),a=(0,z.FM)(i.getState()),l=(0,B.U)(s,{elementId:e,element:t,offsetDiff:n,measurements:a}),c=(0,j.ZP)(s),{start:d,end:u,controlPoint:m}=l;return d&&u&&m?(0,F.lp)(Object.assign({},l,{gridSize:c})):null})(t))}))),(0,S.DragSource)(R.Vk,U,((e,t)=>({connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}))));var Z;function G(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let K=H(Z=class extends i.Component{render(){return i.createElement(L,this.props)}})||Z;class W extends i.Component{constructor(...e){super(...e),G(this,"onDoubleClick",(e=>{this.props.updateLineControlPoint({control:null}),e.stopPropagation(),e.preventDefault()}))}render(){const{controlPoint:e,show:t}=this.props;return t?i.createElement(K,Object.assign({className:"ControlPointDragHandle",isHitArea:!0,onMouseDown:T.hE,onDoubleClick:this.onDoubleClick,pos:e},this.props)):null}}W.propTypes={show:a().bool,startEdgeOrigin:a().object,endEdgeOrigin:a().object,color:a().string,controlPoint:a().object,updateLineControlPoint:a().func,dispatchPointDragStart:a().func};const V=W;var $,q=n(46488),Y=n.n(q),X=n(13784),Q=n(62107),J=n(23680),ee=n(37407),te=n(41080);function ne(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let re=(0,C.$j)(null,(e=>({dispatchStartEditing:({id:t,editorKey:n,editorId:r})=>e((0,J.TV)({id:t,editorKey:n,editorId:r})),dispatchStopEditing:({id:t,keepSelection:n=!1})=>{e((0,J.gR)(t)),!n&&e((0,J.yJ)())},dispatchUpdateLineLabel:({id:t,lineLabel:n,lineLabelEnabled:r})=>e((0,ee.yj)({id:t,changes:{lineLabel:n,lineLabelEnabled:r}}))})))($=class extends i.Component{constructor(...e){super(...e),ne(this,"onStartEditing",(()=>{const{elementId:e,dispatchStartEditing:t}=this.props;t({id:e,editorId:(0,Q.s6)(this.props),editorKey:(0,Q.iS)(this.props)})})),ne(this,"onStopEditing",(({keepSelection:e})=>{const{elementId:t,dispatchStopEditing:n}=this.props;n({id:t,keepSelection:e})})),ne(this,"onUpdate",(e=>{const{elementId:t,element:n,dispatchUpdateLineLabel:r}=this.props,o=e&&e.replace("\n","")||"";if(!e||o.length<=0||"undefined"===e){if(!(0,c.AU0)(n))return;return r({id:t,lineLabelEnabled:!1,lineLabel:(0,c.Wt9)(n)})}if((0,c.Wt9)(n)!==e||!(0,c.AU0)(n))return r({id:t,lineLabelEnabled:!0,lineLabel:e})})),ne(this,"onEmptyBackspace",(()=>{const{elementId:e,dispatchStopEditing:t}=this.props;t({id:e})}))}render(){const{children:e,isEditing:t,isEditable:n,isSelected:r,filterQuery:o}=this.props;return i.createElement(te.Z,{className:"LineLabelContentEditable",isEditing:t,isEditable:n,isSelected:r,enterKeyHint:"Done",multiline:!0,selectAllOnEdit:!0,selectFirst:!0,filterQuery:o,onStartEditing:this.onStartEditing,onStopEditing:this.onStopEditing,onUpdate:this.onUpdate,onEmptyBackspace:this.onEmptyBackspace},e)}})||$;re.propTypes={children:a().string,isEditing:a().bool,isEditable:a().bool,isSelected:a().bool,multiline:a().bool,filterQuery:a().string,elementId:a().string,element:a().object,dispatchUpdateLineLabel:a().func,dispatchStartEditing:a().func,dispatchStopEditing:a().func};const oe=re;var ie=n(76201),se=n(96504),ae=n(50192),le=n(89030);const ce=e=>{const{user:t,type:n}=e,r=n===ie.gG,o=p()("MiniElementUserTag",{active:r,pulse:r}),s=t?i.createElement(se.Z,{user:t,size:le.AR.SMALL,pulse:r,active:r}):null;return i.createElement(ae.Z,{className:o},s)};ce.propTypes={isRemotelySelected:a().bool,remoteSelectionData:a().object,user:a().object,userId:a().string,isUserFetched:a().bool,type:a().string};const de=(0,ie.ZP)(ce),ue=({controlPoint:e={},elementColor:t})=>{const{x:n,y:r}=e;return{left:n,top:r,color:(0,X.yy)(t)}},me=e=>{const{element:t,isEditing:n,controlPoint:r,elementEvents:o,connectDragSource:s,connectDragPreview:a,onDoubleClick:l,isRemotelySelected:d,remoteSelectionData:u}=e;i.useEffect((()=>{a&&a((0,h.r)())}),[]);const m=(0,c.Wt9)(t);if(!((0,c.AU0)(t)&&!!m||n))return null;const p=(0,c.Lq4)(t);return(s||Y())(i.createElement("div",Object.assign({className:"LineLabel"},o,{onKeyDown:T.hE,onDoubleClick:l,style:ue({controlPoint:r,elementColor:p})}),i.createElement("div",{className:"line-label-content"},i.createElement(oe,e,m||"Label"),i.createElement(de,{isRemotelySelected:d,remoteSelectionData:u}))))};me.propTypes={element:a().object,controlPoint:a().object,lineDomRef:a().object,elementEvents:a().object,isEditing:a().bool,connectDragSource:a().func,connectDragPreview:a().func,onDoubleClick:a().func,isRemotelySelected:a().bool,remoteSelectionData:a().object};const pe=me;let he=e=>{const t=i.useCallback((t=>{e.updateLineControlPoint({control:null}),t.stopPropagation(),t.preventDefault()}),[]);return i.createElement(pe,Object.assign({onDoubleClick:t},e))};he.propTypes={updateLineControlPoint:a().func},he=H(he);const ge=e=>{const{isPresentational:t,isRemotelySelected:n,isEditable:r,isEditing:o,element:s}=e,a=(0,c.Wt9)(s);if(!((0,c.AU0)(s)&&!!a||o))return null;return!t&&!n&&r&&!o?i.createElement(he,e):i.createElement(pe,e)};ge.propTypes={isPresentational:a().bool,isRemotelySelected:a().bool,isEditable:a().bool,isSelected:a().bool,isEditing:a().bool,element:a().object};const fe=ge,Ee=["bezier","strokeWidth","lineStyle"];const ve=({lineStyle:e,strokeWidth:t})=>{switch(e){case R.j2.DASHED:return"5, 5";case R.j2.DOTTED:return"0, "+2*t;default:return null}},be=({lineStyle:e})=>e!==R.j2.DOTTED?null:"round",ye=e=>{if(!e)return null;const t=e.points[0],n=e.points[1],r=e.points[2];return`M${t.x} ${t.y} Q ${n.x} ${n.y} ${r.x} ${r.y}`},Ie=e=>{const{bezier:t,strokeWidth:n,lineStyle:r}=e,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,Ee);return i.createElement("path",Object.assign({d:ye(t),strokeWidth:n||R.Xq.M,strokeDasharray:ve({lineStyle:r,strokeWidth:n}),strokeLinecap:be({lineStyle:r})},o))};Ie.propTypes={bezier:a().object,lineStyle:a().string,strokeWidth:a().number,gridSize:a().number};const Ce=Ie,Se=e=>{const{show:t,bezier:n}=e;return t&&n?i.createElement("svg",{className:"LineGhostSvg",version:"1.1"},i.createElement("path",{d:ye(n),className:"line-path ghost-line-path"})):null};Se.propTypes={show:a().bool,bezier:a().object};const Te=Se;var we=n(9300),Oe=n(39693),_e=n.n(Oe),Re=n(25837);const Ae=({lineWeight:e,edge:t,elementId:n,idSuffix:r})=>{const o=((e=R.Xq.M)=>e<=R.Xq.S?8/e:e<=R.Xq.M?10/e:13/e)(e),s=(0,Re.ts)(t)?(e=>`M${e},0 L0,${e/2} L${e},${e} z`)(o):(e=>`M0,0 L${e},${e/2} L0,${e} z`)(o),a=(0,Re.ts)(t)?1:o-1;return i.createElement("marker",{id:Ne({edge:t,elementId:n,idSuffix:r}),className:"arrow",viewBox:`0 0 ${o} ${o}`,refX:a,refY:o/2,markerWidth:o,markerHeight:o,orient:"auto",markerUnits:"strokeWidth"},i.createElement("path",{d:s}))};Ae.propTypes={edge:a().string.isRequired,elementId:a().string.isRequired,idSuffix:a().string,lineWeight:a().number};const De=Ae,Ne=({edge:e,elementId:t,idSuffix:n})=>_e()(["marker",e,t,n]).join("-");var xe=i.createElement("circle",{cx:1,cy:1,r:1});const Me=({edge:e,elementId:t,idSuffix:n})=>i.createElement("marker",{id:Ne({edge:e,elementId:t,idSuffix:n}),className:"arrow",viewBox:"0 0 2 2",refX:.7,refY:1,markerWidth:1,markerHeight:1,orient:"auto",markerUnits:"strokeWidth"},xe);Me.propTypes={edge:a().string.isRequired,elementId:a().string.isRequired,idSuffix:a().string};const Pe=e=>{const{edgeStyle:t}=e;return t===R.lX.ARROW?i.createElement(De,e):i.createElement(Me,e)};Pe.propTypes={edgeStyle:a().string};const Le=Pe,ke=({edge:e,elementId:t,idSuffix:n})=>`url(#${Ne({edge:e,elementId:t,idSuffix:n})})`,Fe=e=>{const{bezier:t,elementEvents:n,elementId:r,idSuffix:o,startStyle:s,endStyle:a,enableDrag:l,disableDrag:c,lineStyle:d,lineWeight:u,gridSize:m,updateLineControlPoint:p}=e,h=i.useCallback((e=>{p&&(p({control:null}),e.stopPropagation(),e.preventDefault())}),[]);if(!t)return null;const g=ke({edge:R.FK.start,edgeStyle:s,elementId:r,idSuffix:o}),f=ke({edge:R.FK.end,edgeStyle:a,elementId:r,idSuffix:o}),E=(0,we.RK)(u,m);return i.createElement("svg",{className:"svg-line",version:"1.1"},i.createElement("defs",null,i.createElement(Le,{edge:R.FK.start,elementId:r,idSuffix:o,edgeStyle:s,lineWeight:u,strokeWidth:E}),i.createElement(Le,{edge:R.FK.end,elementId:r,idSuffix:o,edgeStyle:a,lineWeight:u,strokeWidth:E})),i.createElement("g",null,i.createElement(Ce,{className:"line-path",bezier:t,strokeWidth:E,lineStyle:d,markerStart:g,markerEnd:f}),i.createElement(Ce,Object.assign({className:"line-hit-area",bezier:t,stroke:"transparent",onMouseOver:l,onMouseOut:c},n,{onDoubleClick:h}))))};Fe.propTypes={bezier:a().object,elementId:a().string.isRequired,elementEvents:a().object,idSuffix:a().string,startStyle:a().string,endStyle:a().string,gridSize:a().number.isRequired,isPresentational:a().bool,enableDrag:a().func,disableDrag:a().func,lineStyle:a().string,lineWeight:a().number,updateLineControlPoint:a().func};const Be=Fe,je=e=>{const{children:t,x:n,y:r,className:o}=e,s=i.useMemo((()=>({position:"absolute",top:r,left:n})),[n,r]);return i.createElement("div",{className:`AbsolutePositioner ${o}`,style:s},t)};je.propTypes={children:a().oneOfType([a().arrayOf(a().node),a().node]),className:a().string,x:a().number.isRequired,y:a().number.isRequired};const ze=je;class Ue extends i.Component{componentDidMount(){this.props.disableDrag&&this.props.disableDrag()}render(){const{elementId:e,elementEvents:t,isSelected:n,colorHex:r,isPresentational:s,shouldHideLineInPresentationMode:a,start:d,end:u,updateLineEdge:m,gridSize:p,toggleLineVisibility:h,startStyle:g,endStyle:f,isRemotelySelected:E,updateLineControlPoint:b,controlPoint:y,enableDrag:I,disableDrag:C,element:S,startEdgeOrigin:T,endEdgeOrigin:w,dragModifierKeys:O,dispatchPointDragStart:_,invisible:A,startHandleMode:D,endHandleMode:N,controlHandleMode:x,isEditable:P,isEditing:k,onKeyDown:F,lineRef:B,filterQuery:j,remoteSelectionData:z,visibleBezier:U,startGhostBezier:H,endGhostBezier:Z,showStartGhost:G,showEndGhost:K}=this.props;if(o()(d)||o()(u))return null;if(a)return null;const W=(0,l.UX)("Line focusable",this.props),$=(0,c.v9c)(S),q=(0,c.vbV)(S)||R.Xq.M,Y=!!(0,c.AU0)(S);return i.createElement("div",{id:(0,l.Oc)(e),className:W,ref:B,tabIndex:"-1",onMouseDown:this.checkHitArea,onKeyDown:F,style:{"--ws-line-color":r}},i.createElement(Te,{show:G,bezier:H}),i.createElement(Te,{show:K,bezier:Z}),i.createElement(Be,{elementId:e,elementEvents:t,isPresentational:s,bezier:U,startStyle:g,endStyle:f,gridSize:p,lineStyle:$,lineWeight:q,idSuffix:s?"drag":null,updateLineControlPoint:b,disableDrag:A?null:C,enableDrag:A?null:I}),i.createElement(fe,{startEdgeOrigin:T,endEdgeOrigin:w,isRemotelySelected:E,remoteSelectionData:z,toggleLineVisibility:h,dispatchPointDragStart:_,updateLineControlPoint:b,filterQuery:j,isPresentational:s,isEditable:P,isEditing:k,isSelected:n,gridSize:p,controlPoint:y,element:S,elementId:e,elementEvents:t}),!Y&&i.createElement(ze,Object.assign({className:"line-user-tag-container"},y),i.createElement(de,{isRemotelySelected:E,remoteSelectionData:z})),i.createElement(v,{pos:T,show:!0,handleMode:D}),i.createElement(v,{pos:w,show:!0,handleMode:N}),!Y&&!k&&i.createElement(L,{pos:y,show:!Y,handleMode:x}),i.createElement(M,{edge:R.FK.start,pos:T,show:n&&!s,updateLineEdge:m,gridSize:p,toggleLineVisibility:h,dragModifierKeys:O,dispatchPointDragStart:_,element:S,origin:w,elementId:e}),i.createElement(M,{edge:R.FK.end,pos:w,show:n&&!s,updateLineEdge:m,gridSize:p,toggleLineVisibility:h,dragModifierKeys:O,dispatchPointDragStart:_,element:S,origin:T,elementId:e}),i.createElement(V,{startEdgeOrigin:T,endEdgeOrigin:w,toggleLineVisibility:h,dispatchPointDragStart:_,updateLineControlPoint:b,gridSize:p,controlPoint:y,element:S,elementId:e,show:n&&!s&&!Y}))}}Ue.propTypes={element:a().object,elementId:a().string.isRequired,elementEvents:a().object,isSelected:a().bool,isPresentational:a().bool,colorHex:a().string,start:a().object,end:a().object,updateLineEdge:a().func,updateLineControlPoint:a().func,toggleLineVisibility:a().func,gridSize:a().number,startStyle:a().string,endStyle:a().string,isRemotelySelected:a().bool,remoteSelectionData:a().object,startHandleMode:a().string,endHandleMode:a().string,controlHandleMode:a().string,startEdgeOrigin:a().object,endEdgeOrigin:a().object,controlPoint:a().object,enableDrag:a().func,disableDrag:a().func,dragModifierKeys:a().object,shouldHideLineInPresentationMode:a().bool,dispatchPointDragStart:a().func,invisible:a().bool,filterQuery:a().string,isEditable:a().bool,isEditing:a().bool,lineRef:a().object,onKeyDown:a().func,visibleBezier:a().object,startGhostBezier:a().object,endGhostBezier:a().object,showStartGhost:a().bool,showEndGhost:a().bool};const He=Ue},21055:(e,t,n)=>{"use strict";n.d(t,{Z:()=>H});var r=n(59854),o=n.n(r),i=n(67294),s=n(73935),a=n(45697),l=n.n(a),c=n(37974),d=n(84785),u=n(22222),m=n(43831),p=n(40565),h=n(70231),g=n(28719),f=n(11111),E=n(8698),v=n(51752),b=n(13984),y=n(75763),I=n(14253),C=n(48213),S=n(48791),T=n(49716),w=n(8737),O=n(99010),_=n(25926),R=n(3911),A=n(927),D=n(59551),N=n(54142),x=n(56884),M=n(26434),P=n(53976);const L=["isLineEdgeHovered","isLineEdgeHoveredShallow","dispatchStartAttachMode","dispatchEndAttachMode"];const k=(e,t)=>(0,O.ZC)(e)===N.XZ.LINE_EDGE&&(0,O.C_)(e)===t.elementId,F=()=>(0,u.zB)({isConnectingLineEdgeInside:k,isConnectingLineEdgeInsideChild:(0,u.P1)(O.Am,k,((e,t)=>t.elementId),O.ZC,((e,t,n,r)=>!t&&r===N.XZ.LINE_EDGE&&e.size>1&&e.includes(n)))}),B=e=>({dispatchGetElementDropPosition:t=>e((({pos:e,offsetDiff:t,scrollDiff:n,initialClientOffset:r,initialSourceClientOffset:i,draggedEdge:s,draggedElement:a,hoveredElement:l})=>(c,d,{measurementsStore:u})=>{const m=d(),g=(0,y.nRF)(l),E=(0,S.ZP)(m),I=(0,_.FM)(u.getState()),C=(0,v.p9)((0,w.U)(m)),O=(0,T.y)(m,{element:a,hoveredElementId:g,draggedEdge:s,offsetDiff:t,scrollDiff:n,pos:e,initialClientOffset:r,initialSourceClientOffset:i,shouldSnapToAngle:C,measurements:I}),{dropPosition:R,hoveredElementRect:A,dropIntersectionT:D,updatedControl:N}=O,x=D&&1!==D&&!R.snappedCenter?(0,h.yb)({edgeDetails:O,gridSize:E,draggedEdge:s,intersectionT:D}):N,M={x:o()(R.x/E,2),y:o()(R.y/E,2),elementId:g,snapped:!0};if(!R.snappedCenter){const e=p.Yw(A,R),t=(0,f.Or)(l);M.snapX=(0,b.X)({val:e.x,min:0,max:A.width,isRelative:t,gridSize:E}),M.snapY=(0,b.X)({val:e.y,min:0,max:A.height,isRelative:t,gridSize:E}),M.fixed=!0}return{newPosition:M,newControl:x}})(t)),dispatchStartAttachMode:t=>e((0,C.I)(t,N.XZ.LINE_EDGE)),dispatchEndAttachMode:t=>e((0,C.Z)(t))}),j=({draggedElement:e,hoveredElement:t,draggedEdge:n})=>{const r=(0,y.nRF)(t);return(n===D.FK.start?(0,y.ov8)(e):(0,y.Xdc)(e))===r},z={drop:(e,t,n)=>{const{dispatchGetElementDropPosition:r}=e,o=e.element;if((0,g.nI)(t,n))return;const i=t.getItem();if(!i)return;const{pos:a,initialScrollPoint:l}=i,c=i.edge,d=i.element;if(j({draggedElement:d,hoveredElement:o,draggedEdge:c}))return{ignore:!0};const u=I.Z.getCanvasViewportScrollAsPoint(),m=p.e5(l,u),h=t.getDifferenceFromInitialOffset()||N.rb,f=t.getInitialClientOffset(),E=t.getInitialSourceClientOffset(),{newPosition:v,newControl:b}=r({pos:a,offsetDiff:h,scrollDiff:m,initialClientOffset:f,initialSourceClientOffset:E,draggedEdge:c,hoveredElement:o,draggedElement:d});return null!=v&&v.fixed&&(0,x.dO)({eventType:M.Xc.ATTACHED_LINE,userProperties:{[P.YV.FEATURE]:{[P.x2.ATTACHED_LINE]:!0}}}),{offsetDiff:h,initialClientOffset:f,initialSourceClientOffset:E,newPosition:v,newControl:b,handledBy:s.findDOMNode(n)}},canDrop:(e,t)=>{const n=t.getItem(),r=n.edge,o=n.element,{element:i,dispatchGetChildIds:s}=e,a=j({draggedElement:o,hoveredElement:i,draggedEdge:r}),l=(({draggedElement:e,hoveredElement:t,dispatchGetChildIds:n})=>{const r=(0,y.nRF)(t),o=(0,y.Xdc)(e);return(0,f.t3)(t)&&n(r).includes(o)})({draggedElement:o,hoveredElement:i,dispatchGetChildIds:s});return(!e.isLocked||a)&&!l}},U=(e,t,n)=>{const{element:r,elementId:o}=n,{hoveredElementId:i}=R.default,s=!(0,f.t3)(r)||t.canDrop(),a=t.isOver()&&s,l=t.isOver({shallow:!0})&&s,c=a&&((e,t)=>{const{element:n}=e,r=(0,y.nRF)(n),o=t.getItem().edge,i=t.getItem().element,s=o===D.FK.start?D.FK.end:D.FK.start;return(0,m.P2)(["content",s,"elementId"],i)===r})(n,t);return l&&i!==o&&!c?R.default.hoveredElementId=o:l||i!==o||(R.default.hoveredElementId=null),{connectLineEdgeDropTarget:e.dropTarget(),isLineEdgeHovered:a&&!c,isLineEdgeHoveredShallow:l&&!c}},H=e=>{var t;let n=(0,c.$j)(F,B)(t=(0,d.DropTarget)(D.Sf,z,U)(t=class extends i.Component{render(){const{element:t,elementId:n,isConnectingLineEdgeInside:r,isConnectingLineEdgeInsideChild:o}=this.props,s=this.props,{isLineEdgeHovered:a,isLineEdgeHoveredShallow:l,dispatchStartAttachMode:c,dispatchEndAttachMode:d}=s,u=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(s,L),m=!u.isLocked&&a&&l;return i.createElement(A.Z,{elementId:n,disableAttachMode:(0,E.KX)(t)||(0,y.cOT)(t),isAttachMode:r||o,isAttachModeThisElement:r,isHovered:a,isHoveredShallow:l,dispatchStartAttachMode:c,dispatchEndAttachMode:d},i.createElement(e,Object.assign({isLineEdgeHovered:m},u)))}})||t)||t;return n.propTypes={elementId:l().string.isRequired,element:l().object.isRequired,isLocked:l().bool,isLineEdgeHovered:l().bool,isLineEdgeHoveredShallow:l().bool,isConnectingLineEdgeInside:l().bool,isConnectingLineEdgeInsideChild:l().bool,dispatchGetElementDropPosition:l().func,dispatchStartAttachMode:l().func,dispatchEndAttachMode:l().func},n}},81172:(e,t,n)=>{"use strict";n.d(t,{U:()=>d});var r=n(22222),o=n(40565),i=n(12307),s=n(48791),a=n(25837),l=n(70231),c=n(70309);const d=(0,r.P1)((0,i.ic)(),i.MU,s.ZP,c.l7,((e,t)=>t.offsetDiff),(({startEdgeOrigin:e,startConnectionRects:t,endEdgeOrigin:n,endConnectionRects:r},i,s,c,d)=>{let u=(0,l.Eo)({start:e,end:n,control:i,gridSize:s});if(!u){u=(0,a.hG)({startEdgeOrigin:e,startConnectionRects:t,endEdgeOrigin:n,endConnectionRects:r,controlPoint:u}).controlPoint}const m=o.xH(c,d);u=o.Iu(u,m);return(0,l.R$)({startEdgeOrigin:e,startConnectionRects:t,endEdgeOrigin:n,endConnectionRects:r,controlPoint:u})&&(u=null),(0,a.hG)({startEdgeOrigin:e,startConnectionRects:t,endEdgeOrigin:n,endConnectionRects:r,controlPoint:u})}))},49716:(e,t,n)=>{"use strict";n.d(t,{y:()=>_});var r=n(63422),o=n.n(r),i=(n(77369),n(7923)),s=n(40565),a=n(84405),l=n(56623);const c=e=>new a.Z(e.x,0),d=e=>new a.Z(0,e.y),u=e=>{if(e%180==0)return c;if(e%90==0)return d;return t=-45===e||135===e,e=>{const n=t?-1:1;return Math.abs(e.x)>Math.abs(e.y)?new a.Z(e.x,n*e.x):new a.Z(n*e.y,e.y)};var t},m=({staticPoint:e,flexiblePoint:t})=>{const n=a.Z.fromObject(s.e5(e,t)),r=(o=n,45*Math.round(o.angleDeg()/45));var o;const i=u(r)(n);return s.Iu(e,i)};var p=n(25837),h=n(70231),g=n(75763),f=n(28719),E=n(67087),v=n(99010),b=n(48791),y=n(25926),I=n(12307),C=n(59551),S=n(70309);const T=({offsetDiff:e,scrollDiff:t,pos:n,initialClientOffset:r,initialSourceClientOffset:o,shouldSnapToAngle:i,shouldAutomaticallySnap:a,staticPointOrigin:c,gridSize:d,zoomScale:u})=>{const p=r&&o?(0,f.Kd)({initialSourceClientOffset:o,initialClientOffset:r}):{x:0,y:0},h=s.xH(u,p),g=s.e5({x:1.5*d,y:1.5*d},h),E=s.xH(u,e);let v=s.Iu(E,n);return v=s.Iu(v,g),v=s.Iu(v,t),i?v=m({staticPoint:c,flexiblePoint:v}):a&&(v=(({staticPoint:e,flexiblePoint:t,gridSize:n})=>{const r=l.Ym(e,t);return Math.abs(r.y)<n&&Math.abs(r.y/r.x)<1/(3*n)?t.y=e.y:Math.abs(r.x)<n&&Math.abs(r.x/r.y)<1/(3*n)&&(t.x=e.x),t})({staticPoint:c,flexiblePoint:v,gridSize:d})),v},w=({point:e,radius:t},n)=>s.Nb(e,n)>t*t?null:Object.assign({snapped:!0,snappedToGuide:!0},e),O=(e,t)=>{const{staticPointOrigin:n,gridSize:r,flexiblePointOrigin:s}=t;let a=s;const l=o()("elementRect",((e,t)=>{const{hoveredElementId:n}=t;if(!n)return null;const r=(0,y.pN)(e,t),o=(0,E.nf)(e,t),i=(0,b.FP)(e,t),s=(0,I.Ap)()(e,{elementId:n});return(0,p.ok)({lineEdge:{snapped:!0,elementId:n},measurementsMap:r,connectedElementPosition:s,lineElementPosition:o,gridSize:i})})(e,t)),c=(({canSnapEdges:e,rect:t,gridSize:n})=>{if(!t)return null;const r=[],o=n,s=30*t.width/100,a=30*t.height/100;if(e.top){const e=i.OY(t),n=i.rI({x:e.x-s/2,y:e.y-5,width:s,height:a/2+5});r.push({point:e,radius:o,visibleRect:n})}if(e.right){const e=i.jP(t),n=i.rI({x:e.x-s/2,y:e.y-a/2,width:s/2+5,height:a});r.push({point:e,radius:o,visibleRect:n})}if(e.bottom){const e=i.iQ(t),n=i.rI({x:e.x-s/2,y:e.y-a/2,width:s,height:a/2+5});r.push({point:e,radius:o,visibleRect:n})}if(e.left){const e=i.G4(t),n=i.rI({x:e.x-5,y:e.y-a/2,width:s/2+5,height:a});r.push({point:e,radius:o,visibleRect:n})}if(e.top||e.left){const e=i.rL(t),n=i.rI({x:e.x-5,y:e.y-5,width:s/2+5,height:a/2+5});r.push({point:e,radius:o,visibleRect:n})}if(e.top||e.right){const e=i.Xv(t),n=i.rI({x:e.x-s/2,y:e.y-5,width:s/2+5,height:a/2+5});r.push({point:e,radius:o,visibleRect:n})}if(e.bottom||e.right){const e=i.w$(t),n=i.rI({x:e.x-s/2,y:e.y-a/2,width:s/2+5,height:a/2+5});r.push({point:e,radius:o,visibleRect:n})}if(e.bottom||e.left){const e=i.hC(t),n=i.rI({x:e.x-5,y:e.y-a/2,width:s/2+5,height:a/2+5});r.push({point:e,radius:o,visibleRect:n})}return r})({canSnapEdges:{top:!0,right:!0,bottom:!0,left:!0},rect:l,gridSize:r});return a=(({rect:e,coordinate:t})=>e?(t.x<e.left&&(t.x=e.left),t.x>e.right&&(t.x=e.right),t.y<e.top&&(t.y=e.top),t.y>e.bottom&&(t.y=e.bottom),t):t)({rect:l,coordinate:a}),a=(({snapPoints:e,coordinate:t})=>{if(!e)return t;for(const n of e){const e=w(n,t);if(e)return e}return t})({snapPoints:c,coordinate:a}),a.fixed=!0,{flexiblePointOrigin:a,hoveredElementRect:l,snapPoints:c}},_=(e,t)=>{const{draggedEdge:n,offsetDiff:r,scrollDiff:o,pos:i,shouldSnapToAngle:a,hoveredElementId:l,element:c,initialClientOffset:d,initialSourceClientOffset:u}=t,m=(0,v.GB)(e),f=(0,v.C_)(e),E=(0,S.l7)(e),y=m&&f===l,w=(0,b.FP)(e),_=(0,I.Mc)()(e,t),{startConnectionRects:R,endConnectionRects:A}=_,D=(0,I.MU)(e,t),N=(0,p.Yp)(n),x=_[`${N?C.FK.start:C.FK.end}EdgeOrigin`],M=N?(0,g.H_f)(c):(0,g.XV9)(c);let P=T({offsetDiff:r,scrollDiff:o,pos:i,initialClientOffset:d,initialSourceClientOffset:u,shouldSnapToAngle:a,shouldAutomaticallySnap:!M&&!l&&!D,staticPointOrigin:x,gridSize:w,zoomScale:E});const L=Object.assign({},t,{gridSize:w,staticPointOrigin:x,flexiblePointOrigin:P}),k=y?O(e,L):((e,t)=>{const{flexiblePointOrigin:n}=t;return n.snappedCenter=!0,{flexiblePointOrigin:n}})(0,L);P=k.flexiblePointOrigin;const F=N?x:P,B=N?P:x;if(!F||!B)return{};const j=N?R:null,z=N?null:A,U=(0,h.Eo)({start:F,end:B,control:D,gridSize:w}),H=(0,p.hG)({startEdgeOrigin:F,startConnectionRects:j,endEdgeOrigin:B,endConnectionRects:z,controlPoint:U}),Z=(0,h.Wj)(F,B);s.fS(Z,H.controlPoint)&&(H.controlPoint=(0,h.Wj)(H.start,H.end));const G=P.snappedCenter?P:H[n];return Object.assign({},k,H,{isConnectInsideMode:y,dropPosition:G})}},12307:(e,t,n)=>{"use strict";n.d(t,{bD:()=>P,Cr:()=>R,m:()=>_,MU:()=>T,nz:()=>A,Lu:()=>O,yO:()=>w,ic:()=>k,Ap:()=>x,t4:()=>j,Mc:()=>F,vZ:()=>L,Ul:()=>z});var r=n(22222),o=n(43831),i=n(57369),s=n(78327),a=n(60658),l=n(11111),c=n(70231),d=n(40565),u=n(7923),m=n(48791),p=n(97069),h=n(25837),g=n(75763),f=(n(18446),n(54688));const E=(e,t=f.wU)=>{let n;return(...r)=>{const o=e(...r);return o&&n&&t(o,n)||(n=o),n}};var v=n(68468),b=n(67087),y=n(25926),I=n(90624),C=n(59551),S=n(45575);const T=(e,t)=>(0,g.B3m)((0,v.sb)(e,t)),w=(e,t)=>(0,g.x7o)((0,v.sb)(e,t)),O=(e,t)=>(0,g.ipg)((0,v.sb)(e,t)),_=(e,t)=>(0,g.H_f)((0,v.sb)(e,t)),R=(e,t)=>(0,g.XV9)((0,v.sb)(e,t)),A=e=>(t,n)=>(0,o.P2)(["content",e],(0,v.sb)(t,n)),D=e=>(t,n)=>{const r=A(e)(t,n);return(0,o.vg)("snapped",r)?(0,o.vg)("elementId",r):null},N=()=>E(((e,t,n)=>{const r=i.t$[n],s=(0,u.rL)(r),a=(0,o.su)((0,g.eVc)(t));return d.Iu(a,d.bA(1/e,s))}),f.wU),x=()=>{const e=N();return(t,{elementId:n})=>{const r=(0,v.$3)(t).get(n);if(!r)return null;if((0,a.PY)(r))return(0,g.FX_)(r);const o=(0,g.CKs)(r);if(!o)return null;const i=(0,v.$3)(t).get(o);if(!(0,l.t3)(i))return null;const s=(0,m.FP)(t),c=(0,g.CKs)(i),d=(0,v.$3)(t).get(c);return e(s,d,n)}},M=e=>{const t=x();return(n,r)=>{const o=D(e)(n,r);return t(n,{elementId:o})}},P=e=>(t,n)=>{const r=D(e)(t,n);return t.getIn(["elements",r,"elementType"])},L=()=>(0,s.hH)(A(C.FK.start),M(C.FK.start),A(C.FK.end),M(C.FK.end),b.nf,y.pN,m.FP,((e,t,n,r,o,s,a)=>{const l=(0,h.ok)({lineEdge:e,measurementsMap:i.t$||s,connectedElementPosition:t,lineElementPosition:o,gridSize:a}),c=(0,h.ok)({lineEdge:n,measurementsMap:i.t$||s,connectedElementPosition:r,lineElementPosition:o,gridSize:a});return{startEdgeOrigin:l.origin,startConnectionRects:l.rects,startElementRect:l.elementRect,endEdgeOrigin:c.origin,endConnectionRects:c.rects,endElementRect:c.elementRect}})),k=()=>(0,r.P1)(A(C.FK.start),P(C.FK.start),A(C.FK.end),P(C.FK.end),L(),m.FP,((e,t,n,r,o,i)=>{const{startEdgeOrigin:s,startElementRect:a,endEdgeOrigin:l,endElementRect:c}=o,d=(0,h.NE)({startEdge:e,startElementType:t,startElementRect:a,endEdge:n,endElementType:r,endElementRect:c,gridSize:i,startEdgeOrigin:s,endEdgeOrigin:l});return Object.assign({},o,d)})),F=(e=L)=>(0,r.P1)(e(),T,w,O,m.FP,(({startEdgeOrigin:e,startConnectionRects:t,endEdgeOrigin:n,endConnectionRects:r},o,i,s,a)=>{let l=(0,c.Eo)({start:e,end:n,control:o,gridSize:a});const d=(0,h.hG)({startEdgeOrigin:e,startConnectionRects:t,endEdgeOrigin:n,endConnectionRects:r,controlPoint:l}),u=(0,h.kd)(i,s,a);return(0,h.rZ)(d,{minLength:u})})),B={},j=()=>(0,s.y1)(D(C.FK.start),D(C.FK.end),y.gd,((e,t,n)=>{if(!e&&!t||!n)return B;const r={};return e&&(r[e]=n.get(e)||(0,p.Wl)(e)),t&&(r[t]=n.get(t)||(0,p.Wl)(t)),r})),z=(e,t)=>{if(!(0,I.li)(e))return!1;if(!(0,I.HW)(e))return!1;const n=P(C.FK.start)(e,t),r=P(C.FK.end)(e,t);return n===S.lq||r===S.lq}},1658:(e,t,n)=>{"use strict";n.d(t,{CF:()=>l,Kn:()=>o,_o:()=>s,aD:()=>a,cR:()=>r,eX:()=>i});const r=20,o=12,i=13,s=3,a=3.2,l="LINE_POINT_DRAG_START"},77369:(e,t,n)=>{n.g.lines={handleSize:8}},70231:(e,t,n)=>{"use strict";n.d(t,{Eo:()=>p,R$:()=>m,Wj:()=>u,lp:()=>h,yb:()=>g});var r=n(43831),o=n(84405),i=n(9300),s=n(5488),a=n(40565),l=n(36980),c=n(59551),d=n(41013);const u=(e,t)=>o.Z.lineVector(e,t).multiplyScalar(.5).add(e),m=({startEdgeOrigin:e,startConnectionRects:t,endEdgeOrigin:n,endConnectionRects:r,controlPoint:o})=>{const i=(0,l.r)({startEdgeOrigin:e,startConnectionRects:t,endEdgeOrigin:n,endConnectionRects:r});return!!i&&((e,t)=>(0,a.Ah)(e,t,20))(o,i)},p=({start:e,end:t,control:n,gridSize:s=d.HR.LARGE.size})=>{if(!e||!t||!n)return null;const a=o.Z.lineVector(e,t),l=a.clone().perpendicular();let c=(0,r.vg)("perpMag",n)||0;c=(0,i.RK)(c,s);const u=(0,r.vg)("parallelRatio",n)||.5,m=a.multiplyScalar(u),p=l.toLength(c);return m.add(p).add(e)},h=({start:e,startEdgeOrigin:t,end:n,endEdgeOrigin:r,controlPoint:s,gridSize:l})=>{if(!(e&&n&&t&&r&&s))return null;const c=u(e,n);if((0,a.Ah)(s,c,.1))return null;let d=(({controlPoint:e,startEdgeOrigin:t,endEdgeOrigin:n})=>{const r=o.Z.lineVector(t,n).clone().perpendicular(),i=o.Z.fromObject(e).subtract(t);return r.projectedMagnitude(i)})({controlPoint:s,startEdgeOrigin:t,endEdgeOrigin:r});d=(0,i.Zk)(d,l);const m=(({controlPoint:e,startEdgeOrigin:t,endEdgeOrigin:n})=>{const r=o.Z.lineVector(t,n),i=o.Z.fromObject(e).subtract(t);return r.projectedRatio(i)})({controlPoint:s,startEdgeOrigin:t,endEdgeOrigin:r});return{perpMag:d,parallelRatio:m}},g=({edgeDetails:e,gridSize:t,draggedEdge:n,intersectionT:r})=>{if(!e.controlPoint)return null;const o=n===c.FK.start,i=o?r:0,a=o?1:r,l=o?e.start:e.startEdgeOrigin,d=o?e.endEdgeOrigin:e.end,u=(0,s.Ux)({start:e.startEdgeOrigin,controlPoint:e.controlPoint,end:e.endEdgeOrigin,t1:i,t2:a});return h(Object.assign({},e,{startEdgeOrigin:l,endEdgeOrigin:d,controlPoint:u.get(.5),gridSize:t}))}},36980:(e,t,n)=>{"use strict";n.d(t,{b:()=>i,r:()=>s});var r=n(5488),o=n(70231);const i=(e,t,n,o)=>t&&n&&!e.fixed&&((e,t,n,o)=>{if(!t)return e;const i=t.length>1?!o:o;return t.reduce(((e,t)=>{const o=(0,r.h9)(t,n,i);return e?o&&(i&&o.t<e.t||!i&&o.t>e.t)?o:e:o}),null)||e})(e,t,n,o)||e,s=({startEdgeOrigin:e,startConnectionRects:t,endEdgeOrigin:n,endConnectionRects:s})=>{if(!e||!n)return null;const a=(0,o.Wj)(e,n),l=(0,r.kp)(e,a,n),c=i(e,t,l,!0),d=i(n,s,l,!1);return(0,o.Wj)(c,d)}},80628:(e,t,n)=>{"use strict";n.d(t,{r:()=>r});const r=({forceShow:e,longHover:t,snapped:n,isDragging:r,snappedToGuide:o})=>{const i=[];return r&&i.push("dragging"),e&&i.push("force-show"),n&&i.push("snapped"),o&&i.push("guide-snapped"),t&&i.push("long-hover"),i.join(" ")}},25837:(e,t,n)=>{"use strict";n.d(t,{NE:()=>v,Yp:()=>E,hG:()=>O,iN:()=>y,kd:()=>b,ok:()=>w,rZ:()=>_,ts:()=>f});var r=n(4835),o=n.n(r),i=n(75763),s=n(43831),a=n(13984),l=n(7923),c=n(40565),d=n(5488),u=n(36980),m=n(70231),p=n(59551),h=n(46563),g=n(1658);const f=e=>e===p.FK.start,E=e=>e===p.FK.end,v=({startEdge:e,startElementType:t,startElementRect:n,endEdge:r,endElementType:o,endElementRect:i,gridSize:a,startEdgeOrigin:l,endEdgeOrigin:c})=>{const d={startEdgeOrigin:l,endEdgeOrigin:c,aligned:!1};if(!(t===o&&t===h.BA&&!(0,s.vg)("fixed",e)&&!(0,s.vg)("fixed",r)&&n&&i))return d;if(Math.abs(n.top-i.top)>g._o*a)return d;const u=Math.max(n.top,i.top);return{startEdgeOrigin:Object.assign({},l,{y:u+g.aD*a}),endEdgeOrigin:Object.assign({},c,{y:u+g.aD*a}),aligned:!0}},b=(e,t,n)=>{const r=e===p.lX.ARROW,o=t===p.lX.ARROW;return r&&o?1.5*n:r||o?n:1},y=e=>o()([(0,i.H_f)(e)&&(0,i.Xdc)(e)||null,(0,i.XV9)(e)&&(0,i.ov8)(e)||null]),I=(e,t,n)=>(r,o,i)=>{const l=(0,s.vg)(t,r),c=(0,s.vg)(n,o),d=(0,a.q)(l,0,c,i);return null!==d?d:(0,s.P2)(["originOffset",e],o)+1},C=I("x","snapX","width"),S=I("y","snapY","height"),T=(e,t,n,r,o)=>{const i=((e,t,n)=>({x:C(e,t,n),y:S(e,t,n),fixed:(0,s.vg)("fixed",e)}))(e,r,o),a=c.e5({x:1,y:1},n),l=c.e5(t,a);return Object.assign({},i,c.Iu(l,i))},w=({lineEdge:e,measurementsMap:t,connectedElementPosition:n,lineElementPosition:r,gridSize:o})=>{if(!(e=>!!(0,s.vg)("snapped",e))(e))return{origin:c.bA(o,(0,s.su)(e)),elementRect:null,rects:null};const i=c.bA(o,(0,s.su)(r)),a=c.bA(o,(0,s.su)(n)),d=(0,s.vg)("elementId",e),u=(0,s.su)(t[d]);if(!i||!u||!u.rects)return{origin:null,elementRect:null,rects:null};const m=((e,t,n)=>{const r=l.rL(n),o=c.e5(t,r),i=c.Iu(o,e);return c.bA(-1,i)})(i,a,u);let p=l.H4(1,1,u);p=l.Iu(m,p);const h=Object.assign({},u,p),g=u.rects.map((e=>{const t=l.H4(1,1,e);return l.Iu(m,t)}));return{origin:T(e,i,a,h,o),elementRect:p,rects:g}},O=({startEdgeOrigin:e,startConnectionRects:t,endEdgeOrigin:n,endConnectionRects:r,controlPoint:o})=>{if(!e||!n)return{};const i=!o;let s=o||(0,m.Wj)(e,n);const a=e&&n?(0,d.kp)(e,s,n):null,c=(0,u.b)(e,t,a,!0),p=(0,u.b)(n,r,a,!1);let h=c.t||0,g=p.t||1;const f=!h&&t&&l.jV(t,e)&&l.jV(t,s)&&l.jV(t,n),E=1===g&&r&&l.jV(r,e)&&l.jV(r,s)&&l.jV(r,n);f&&(h=1),E&&(g=0);const v=a&&h>0||f?a.split(0,h):null,b=!a||f||E?null:a.split(h,g),y=a&&g<1||E?a.split(g,1):null;return i&&(s=(0,m.Wj)(c,p)),{start:c,end:p,startEdgeOrigin:e,endEdgeOrigin:n,startConnectionRects:t,endConnectionRects:r,controlPoint:s,fullBezier:a,visibleBezier:b,startGhostBezier:v,endGhostBezier:y}},_=(e,{minLength:t=0}={})=>{const{start:n,startConnectionRects:r,end:o,endConnectionRects:i,controlPoint:s}=e;if(!n||!o)return e;const a=l.jV(r,s)||l.jV(i,s);if(a&&!n.fixed&&!o.fixed&&(r&&l.jV(r,o)||i&&l.jV(i,n)))return{};const d=r||i?c.Nb(n,o):1/0,u=a?0:c.Nb(n,s),m=a?0:c.Nb(s,o);return Math.max(d,u,m)<t*t?{}:e}},30861:(e,t,n)=>{"use strict";n.d(t,{s:()=>x,x:()=>A});var r=n(52353),o=n.n(r),i=n(27361),s=n.n(i),a=n(57557),l=n.n(a),c=n(21053),d=n(11111),u=n(75763),m=n(92295),p=n(59161),h=n(52102),g=n(52740),f=n(87447),E=n(13612),v=n(88007);var b=n(83547),y=n(495),I=n(37407),C=n(59916),S=n(23680),T=n(95803),w=n(93776),O=n(6442),_=n(94081);const R=s()((0,p.Z)(),"aws.s3Folder"),A=e=>(t,n)=>{const r=n(),i=(0,f.Sp)(r).first(),s=r.get("elements").get(i),a={showMedia:!(o()(e)?(0,u.h3z)(s):e)};t((0,I.vU)({id:i,changes:a}))},D=(e,t)=>Object.assign({},l()(t,["description","elementType","caption","showCaption"]),((e,t)=>{if(!o()((0,u.KTp)(e)))return;let n=(0,u.A7z)(e);o()(n)&&(n=o()(t.showCaption)?!!t.description&&t.mediaType!==O.w_.VIDEO&&t.mediaType!==O.w_.RICH:t.showCaption);const r=o()(t.caption)?t.description:t.caption;return{caption:(0,m.Z)(r),showCaption:n}})(e,t)),N=async({id:e,url:t,fetchLinkPromise:n,dispatch:r})=>{let o=!1;n.then((()=>{o=!0}));try{const{width:n,height:i}=await(async e=>{const t=(await(0,v.D)(e)).target,{width:n,height:r}=t;return{url:e,width:n,height:r}})(t);if(o)return;r((0,I.TK)({id:e,elementType:_.nr,changes:{image:{height:i,width:n,original:t,transparent:!0},showCaption:!1}}))}catch(i){}},x=({id:e,url:t,transactionId:n})=>async(r,o)=>{if((0,E.jA)((0,E.FG)(o(),{elementId:e})))return;r((0,T.p3)({id:e})),r((0,S.gR)());const i=h.Z.link.fetchLink({id:e,url:t,environmentFolder:R}),s=o(),a=(0,b.$)(s),l=(0,y.sb)(a,e);return(0,c.SR)(t)&&!(0,d.Or)(l)&&N({id:e,url:t,fetchLinkPromise:i,dispatch:r}),i.then((({data:t})=>{if(!t||t.error)throw new Error("The link details could not be fetched");const{elementType:i}=t;r((0,T.yg)({id:e}));const s=o(),a=(0,b.$)(s),l=(0,y.sb)(a,e),c=D(l,t);r((0,I.TK)({id:e,elementType:i,changes:c,transactionId:n})),i===w.C&&r((0,g.nz)({boardId:t.linkTo}))})).catch((n=>{console.error("Failed to resolve link",n);const o={message:(null==n?void 0:n.message)||(null==n?void 0:n.code)||"Unknown error"};r((0,T.yg)({id:e})),r((0,C.T)({id:e,data:{error:o,url:t}}))}))}},59916:(e,t,n)=>{"use strict";n.d(t,{T:()=>o});var r=n(97245);const o=({id:e,data:t,transactionId:n})=>(({updates:e,transactionId:t})=>({type:r.Av,updates:e,transactionId:t}))({updates:[{id:e,data:t}],transactionId:n})},9553:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(43831),o=n(68468);const i=(e,t)=>(0,r.P2)(["local","elements",(0,o.nR)(e,t)],e)},8713:(e,t,n)=>{"use strict";n.d(t,{F9:()=>a,hD:()=>s,od:()=>o,rH:()=>i});var r=n(43831);const o=(0,r.P2)(["error"]),i=(0,r.P2)(["shouldLoadPreview"]),s=(0,r.P2)(["url"]),a=(0,r.P2)(["hidden"])},54446:(e,t,n)=>{"use strict";n.d(t,{D2:()=>h,Jc:()=>p,fo:()=>u,hK:()=>m});var r=n(10048),o=n(495),i=n(52740),s=n(29812),a=n(83547),l=n(81410),c=n(59715),d=n(57448);const u=e=>({type:c.g,elementId:e}),m=()=>({type:c.Z}),p=(e,t)=>async(n,c)=>{await Promise.all([n(d.X({elementIds:[e],permissionIdsOverride:[t],force:!0})),n(i.Po({boardIds:[e],permissionIdsOverride:[t],loadAncestors:!0}))]);const u=c();if((0,l.s4)(u))return;const m=(0,a.$)(u),p=(0,o.T_)(m,e);p?n((0,s.D)({boardId:p,restored:!1})):r.Z.warn("A parent ID could not be found for the element ID",e)},h=e=>async(t,n)=>{const r=n(),s=(0,a.$)(r),l=(0,o.T_)(s,e);return t((0,i.N2)({boardId:l}))}},38358:(e,t,n)=>{"use strict";n.d(t,{L:()=>r,a:()=>o});const r=e=>e.getIn(["app","modal","elementModal","elementId"]),o=(e,t)=>r(e)===t.elementId},59715:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o,g:()=>r});const r="ELEMENT_MODAL_ELEMENT_ID_SET",o="ELEMENT_MODAL_ELEMENT_ID_CLEAR"},5116:(e,t,n)=>{"use strict";n.d(t,{Z:()=>F});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(28644),l=n(54446),c=n(22222),d=n(43831),u=n(11111),m=n(495),p=n(75763),h=n(24040),g=n(53106),f=n(56207),E=n(68468),v=n(38358),b=n(52432),y=n(68071),I=n(23026),C=n(87430),S=n(91040),T=n(395);const w=(e,t)=>(0,v.L)(e)||t.elementId||t.routeParams&&t.routeParams.elementId,O=(0,c.P1)(w,E.$3,d.vg),_=(0,c.P1)(E.QH,w,((e,t)=>null==e?void 0:e[t])),R=(0,c.P1)(_,g.rD),A=(e,t)=>(0,S.UK)(e),D=(0,c.P1)(w,(e=>e.getIn(["remoteActivity","selectedElements"])),((e,t)=>{const n=t.get(e);return n&&!!n.get("userId")})),N=(0,c.P1)(A,D,((e,t)=>(0,b.Od)(e)&&!t)),x=(0,c.P1)(y.Z$,I.u,((e,t)=>!e||t)),M=(0,c.P1)(O,E.$3,((e,t)=>{if(!(0,u.vu)(e))return e;const n=(0,p.Sb0)(e),r=(0,m.sb)(t,n);return(0,h.v)(e,r)})),P=(0,c.zB)({urlPermissionId:C.en,element:M,localCacheHydrationTimestamp:T.X,currentElementResourceEntity:_,isElementFetched:R,permissions:A,isEditable:N,socketConnected:f.rr,spellCheck:x}),L=(0,a.zO)("socketConnected"),k=e=>({dispatchFetchElementAndAncestors:({elementId:t,permissionId:n})=>e((0,l.Jc)(t,n)),dispatchFetchParentBoardIfModified:t=>e((0,l.D2)(t))}),F=e=>{var t;let n=(0,s.$j)(P,k)(t=class extends r.Component{componentWillMount(){const{elementId:e,urlPermissionId:t,currentElementResourceEntity:n,localCacheHydrationTimestamp:r,dispatchFetchElementAndAncestors:o}=this.props;e&&(0,g.Zb)(n,r)&&o({elementId:e,permissionId:t})}componentWillReceiveProps(e,t){const{elementId:n,dispatchFetchParentBoardIfModified:r,currentElementResourceEntity:o}=e;n&&!(0,g.pl)(o)&&L(this.props,e)&&r(n)}render(){return r.createElement(e,this.props)}})||t;return n.propTypes={elementId:i().string,urlPermissionId:i().string,element:i().object,currentElementResourceEntity:i().object,localCacheHydrationTimestamp:i().number,isElementFetched:i().bool,socketConnected:i().bool,dispatchFetchParentBoardIfModified:i().func,dispatchFetchElementAndAncestors:i().func},n}},87924:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(54446);const l=["dispatchCurrentElementIdSet","dispatchCurrentElementIdClear","params"];const c=e=>({dispatchCurrentElementIdSet:t=>e((0,a.fo)(t)),dispatchCurrentElementIdClear:()=>e((0,a.hK)())}),d=e=>{const t=t=>{let{dispatchCurrentElementIdSet:n,dispatchCurrentElementIdClear:o,params:{elementId:i}}=t,s=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,l);return(0,r.useEffect)((()=>{n(i)}),[i]),(0,r.useEffect)((()=>()=>o()),[]),r.createElement(e,Object.assign({elementId:i},s))};return t.propTypes={params:i().object,dispatchCurrentElementIdSet:i().func,dispatchCurrentElementIdClear:i().func},(0,s.$j)(null,c)(t)}},66998:(e,t,n)=>{"use strict";n.d(t,{W:()=>y,g:()=>I});var r=n(54372),o=n.n(r),i=n(15919),s=n.n(i),a=n(68738),l=n.n(a),c=n(45825),d=n.n(c),u=n(27617),m=n.n(u),p=n(39974),h=n.n(p),g=n(9300),f=n(43831),E=n(41013);const v=e=>{switch(e){case E.HR.MEDIUM.size:return 35;case E.HR.SMALL.size:return 31;default:return 39}},b=e=>t=>2*o()(t.length/70)*e,y=(e,t)=>{if(!e)return 0;if(l()(e))return s()(e.split("\n").map(b(t)))+v(t);const n=(0,f.qo)((0,f.vg)("blocks",e));return s()(n.map((0,f.vg)("text")).map(b(t)))+v(t)},I=({windowWidth:e,windowHeight:t,imageWidth:n,imageHeight:r,idealHeight:o,caption:i,footerSize:s=80,modalMarginGU:a=20,modalMinWidth:l=350,modalMinHeight:c=500,gridSize:u=E.HR.LARGE.size})=>{const p=r/n,f=y(i,u),v=(0,g.wh)(a,u),b=e-v,I=t-v-s-f,C=I/p;let S=d()(h()([l,m()([C,n,b])])),T=d()(h()([c,m()([S*p,I])]));return o&&Math.abs(T+f-o)<50&&(T=o-f,S=d()(T/p)),{modalWidth:S,modalHeight:T,idealModalHeight:T?T+f:null}}},67179:(e,t,n)=>{"use strict";n.d(t,{Z:()=>te});var r=n(67294),o=n(45697),i=n.n(o),s=n(77606),a=n.n(s),l=n(46408),c=n(37974),d=n(84785),u=n(54688),m=n(43393),p=n(94184),h=n.n(p),g=n(22222),f=n(85263),E=n(40565),v=n(11154),b=n(63719),y=n(7923),I=n(39702),C=n(23842),S=n(495),T=n(11111),w=n(68468),O=n(75186),_=n(14253),R=n(49716),A=n(81897),D=n(8737),N=n(25926),x=n(10808),M=n(23680),P=n(37407),L=n(87701),k=n(41563),F=n(80903),B=n(97245),j=n(77875),z=n(12265),U=n(56860),H=n(54142),Z=n(19092),G=n(59551);function K(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const W=({currentBoardId:e,startElementId:t,endSnapped:n=!1,endElementId:r})=>m.fromJS({id:z.pf,elementType:G.H3,location:{parentId:e,position:{x:0,y:0},section:U.WI.CANVAS},content:{start:{snapped:!0,elementId:t,x:0,y:0},end:{snapped:n,elementId:r,x:0,y:0},lineWeight:G.Xq.M,lineStyle:G.j2.SOLID,startStyle:G.lX.NONE,endStyle:G.lX.ARROW}}),V=(0,g.zB)({canvasOrigin:A._Z}),$={beginDrag({elementId:e,currentBoardId:t,dispatchDeselectAll:n,dispatchFinishEditingElement:r,canvasOrigin:o,gridSize:i,getContextZoomScale:s,getContextZoomTranslationPx:a},l,c){const d=((e,t,n,r,o)=>{const i=e.getDomNode();if(!i)return{x:0,y:0};const s=(0,v.Z)(i),a=i.getBoundingClientRect();let l=(0,C.ns)(s,a);return l=(0,O.J7)(l,o,t,n,r),(0,y.CZ)(l)})(c,o,s(),null==a?void 0:a(),i);requestAnimationFrame((()=>{(0,f.HM)()?r(e):n(e)}));const u=_.Z.getCanvasViewportScrollAsPoint();return{id:z.pf,edge:G.FK.end,element:W({currentBoardId:t,startElementId:e}),pos:Object.assign({snapped:!1},d),initialScrollPoint:u}},endDrag(e,t){const{element:n,currentBoardId:r,gridSize:o,dispatchCreateLineOnDrop:i}=e,s=e.elementId,l=t.getDropResult();if(!t.didDrop()||a()(l)||l.ignore)return;const{offsetDiff:c=H.rb,newPosition:d,initialClientOffset:u,initialSourceClientOffset:m}=l,{pos:p,initialScrollPoint:h}=t.getItem(),g=_.Z.getCanvasViewportScrollAsPoint();i({element:n,currentBoardId:r,gridSize:o,offsetDiff:c,scrollDiff:E.e5(h,g),startElementId:s,startOrigin:p,endPosition:d,initialClientOffset:u,initialSourceClientOffset:m})}},q=(0,u.qC)((0,c.$j)(V,(e=>({dispatchCreateLineOnDrop:t=>e((({element:e,currentBoardId:t,gridSize:n,offsetDiff:r,scrollDiff:o,startElementId:i,startOrigin:s,endPosition:a,initialClientOffset:l,initialSourceClientOffset:c})=>(d,u,{measurementsStore:m})=>{const p=Object.assign({},a,s),h=W({currentBoardId:t,startElementId:i,endElementId:a.elementId,endSnapped:a.snapped}),g=m.getState(),f=(0,N.FM)(g),v=u(),y=(0,D.U)(v).get(F.nl.shiftKey),{startEdgeOrigin:I,endEdgeOrigin:C}=(0,R.y)(v,{element:h,hoveredElementId:a.elementId,draggedEdge:G.FK.end,offsetDiff:r,scrollDiff:o,pos:p,initialClientOffset:l,initialSourceClientOffset:c,shouldSnapToAngle:y,measurements:f});let O=(0,b.AJ)([I,C]);const _=E.bA(1/n),A=E.NM(_(O));O=E.bA(n,A);const x=_(E.Yw(O,I)),M=_(E.Yw(O,C)),L=(0,w.$3)(v),k=(0,S.sb)(L,a.elementId),j=!((0,T.t3)(e)&&(0,T.t3)(k));d((0,P.bc)({elementType:G.H3,location:{parentId:t,section:U.WI.CANVAS,position:A},currentBoardId:t,edit:!1,select:j,creationSource:B.S1.QUICK_LINE,content:{start:Object.assign({snapped:!0,elementId:i},x),end:Object.assign({},a,M)}}))})(t)),dispatchDeselectAll:t=>{e((0,x.k)({})),e((0,M.gR)(t))},dispatchFinishEditingElement:t=>{e((0,M.gR)(t))}}))),(0,d.DragSource)(G.Sf,$,((e,t)=>({connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}))));var Y=r.createElement(L.Z,{name:"quick-line-circle"}),X=r.createElement(L.Z,{name:"quick-line-arrow"});class Q extends r.Component{constructor(e){super(e),K(this,"getDomNode",(()=>this.toolRef.current)),this.toolRef=r.createRef()}componentDidMount(){const{connectDragPreview:e}=this.props;e((0,l.r)())}render(){const{connectDragSource:e,isDragging:t}=this.props;return e(r.createElement("div",{className:h()("QuickLineCreationTool",{dragging:t}),ref:this.toolRef,onMouseDown:I.hE},Y,r.createElement("div",{className:"arrow-container"},r.createElement(k.Z,{tooltipText:"Drag me",position:j.as.RIGHT,distance:12,offset:2,duration:1.2*Z.yu.SECOND,pollPosition:!0,enabled:!0,fade:!0,triggerOnClick:!0},X))))}}Q.propTypes={currentBoardId:i().string.isRequired,elementId:i().string,element:i().object,gridSize:i().number.isRequired,canvasOrigin:i().object,isDragging:i().bool,connectDragSource:i().func,connectDragPreview:i().func,dispatchCreateLineOnDrop:i().func,dispatchDeselectAll:i().func};const J=q(Q),ee=e=>{const{show:t}=e;return t?r.createElement(J,e):null};ee.propTypes={show:i().bool};const te=ee},83311:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(60658),o=n(68071),i=n(34595),s=n(12761);const a=({isSingleSelected:e,element:t,inList:n,isEditable:a})=>e&&((0,r.PY)(t)||n===s.L.IN_LIST_COLUMN)&&a&&(()=>{switch((0,o.uT)()){case i.Q.ANDROID_BOARD_LIST:case i.Q.IOS_CANVAS:case i.Q.IOS_BOARD_LIST:return!1;case i.Q.IPAD_OS:default:return!0}})()},99452:(e,t,n)=>{"use strict";n.d(t,{r:()=>g});var r=n(80275),o=n(87447),i=n(75763),s=n(29144),a=n(90471),l=n(19092),c=n(43831),d=n(37407),u=n(26777),m=n(97245);const p=(e,t)=>n=>(0,a.GU)(n)===e&&(0,a.pk)(n)===t,h=({existingReactionState:e=[],emojiCode:t,userId:n})=>e.find(p(n,t))?e.filter((e=>!p(n,t)(e))):[...e,{userId:n,emojiCode:t,timestamp:(0,l.u3)()}],g=({updateIds:e,emojiCode:t})=>n=>{const a=e.filter((e=>(0,s.l3)(e))),l=e.filter((e=>!(0,s.l3)(e)));l.length&&n((({elementIds:e,emojiCode:t})=>(n,s)=>{const a=s(),l=(0,r.rc)(a),u=(0,o.Ak)(e,a.get("elements"));if((0,c.kE)(u)<1)return;let p=!1,g=u.map((e=>{const n=(0,i.nRF)(e),r=(0,c.su)((0,i.YmW)(e))||[],o=h({existingReactionState:r,emojiCode:t,userId:l}),s=r.length>o.length;s&&(p=!0);const a=s?m._q.TOGGLE_REACTION:m._q.REACTION;return{id:n,changes:{reactions:o},reactionLatest:{emojiCode:t,userId:l},updateType:a}}));p&&(g=g.filter((({updateType:e})=>e===m._q.TOGGLE_REACTION))),n((0,d.Az)({silent:!0,updates:g}))})({elementIds:l,emojiCode:t})),a.length&&n((({commentIds:e,emojiCode:t})=>(n,o)=>{const a=o(),l=(0,r.rc)(a),d=(0,c.yS)(e,a.get("comments"));if(!d.size)return;const p=d.first(),g=(0,c.su)((0,i.YmW)(p))||[],f=h({existingReactionState:g,emojiCode:t,userId:l}),E=g.length>f.length?m._q.TOGGLE_REACTION:m._q.REACTION;e.forEach((e=>{const r=a.getIn(["comments",e]);if(!r)return;const o=(0,s.s3)(r);n((0,u.H_)({_id:e,userId:l,contentUpdate:{id:o,changes:{reactions:f},reactionLatest:{emojiCode:t,userId:l},updateType:E}}))}))})({commentIds:a,emojiCode:t}))}},90471:(e,t,n)=>{"use strict";n.d(t,{Fj:()=>s,GU:()=>o,pk:()=>i});var r=n(43831);const o=(0,r.vg)("userId"),i=(0,r.vg)("emojiCode"),s=e=>e.reduce(((e,t)=>{if(!e)return e;const n=o(t),r=i(t),s=e[r]||{emojiCode:r,userIds:[]};return s.userIds.push(n),e[r]=s,e}),{})},80415:(e,t,n)=>{"use strict";n.d(t,{R6:()=>r,RS:()=>o,f3:()=>i});const r="ELEMENT_RESIZING_START",o="ELEMENT_RESIZING_END",i=.3},54114:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>l,jB:()=>a});var r=n(59051),o=n.n(r),i=n(43831),s=n(9300);const a=({savedSize:e,forcedSize:t,roundSaved:n=!0,cropToGrid:r,cropInset:a=0,widthPx:l,gridSize:c})=>{let d=(e=>{if(!e)return;const t=(0,i.vg)("width",e),n=(0,i.vg)("height",e);return t&&n?t/n:void 0})(t||e);if(!d)return;const u=!t&&n;return r&&c&&l&&(d=(({aspectRatio:e,cropInset:t=0,widthPx:n,gridSize:r})=>{if(!e||!n||!r)return;const o=Math.round(n/e);return n/((0,s.Rk)(o,r)*r-t)})({aspectRatio:d,cropInset:a,widthPx:l,gridSize:c})),((e,t=!1)=>{if(!o()(e))return t?`${Math.floor(100*e)}%`:100*e+"%"})(1/d,u)},l=e=>(e=>{if(!o()(e))return{paddingBottom:e}})(a(e))},96681:(e,t,n)=>{"use strict";n.d(t,{Eu:()=>o,NQ:()=>a,ip:()=>s,wr:()=>r,y8:()=>i});const r="RICH_MEDIA_RETURN_TO_PREVIEW",o="RICH_MEDIA_EMBEDDING",i="RICH_MEDIA_READY",s="RICH_MEDIA_ERROR",a={PREVIEW:"PREVIEW",EMBEDDING:"EMBEDDING",READY:"READY",ERROR:"ERROR"}},71154:(e,t,n)=>{"use strict";n.d(t,{Fp:()=>m,Qq:()=>c,Vp:()=>u,Z0:()=>a,a3:()=>p,lY:()=>d,pJ:()=>l});var r=n(22222),o=n(83547),i=n(495),s=n(75763);const a=e=>!!(e=>e.getIn(["app","currentlyEditing"]))(e).get("id"),l=e=>e.getIn(["app","currentlyEditing","id"]),c=e=>e.getIn(["app","currentlyEditing","editorKey"]),d=e=>e.getIn(["app","currentlyEditing","editorId"]),u=e=>(0,r.P1)(l,d,((t,n)=>e===t?n:null)),m=(e,{elementId:t,editorKey:n})=>l(e)===t&&c(e)===n,p=(0,r.P1)(o.$,l,i.sb);(0,r.P1)(o.$,p,((e,t)=>{const n=(0,s.CKs)(t);return(0,i.sb)(e,n)}))},87447:(e,t,n)=>{"use strict";n.d(t,{Ak:()=>h,CX:()=>g,Sp:()=>d,eD:()=>p,pF:()=>u,q3:()=>m});var r=n(495),o=n(11111),i=n(75763),s=n(78327),a=n(68468),l=n(13500),c=n(24040);const d=e=>e.getIn(["app","selection","ids"]),u=e=>e.getIn(["app","selection","meta","currentCellSelections"]),m=(e,{id:t})=>e.getIn(["app","selection","rangeAnchors",t]),p=(0,s.y1)(d,a.$3,((e,t)=>e.map((e=>{const n=(0,r.sb)(t,e);if(!(0,o.lA)(n))return n;const s=(0,i.G8z)(n),a=(0,r.sb)(t,s);return(0,l.S)(n,a)})))),h=(e,t)=>e.map((e=>{const n=(0,r.sb)(t,e);if(!(0,o.lA)(n)&&!(0,o.vu)(n))return n;const s=(0,i.G8z)(n),a=(0,r.sb)(t,s);return(0,o.lA)(n)?(0,l.S)(n,a):(0,c.v)(n,a)})),g=(0,s.y1)(d,a.$3,h)},23680:(e,t,n)=>{"use strict";n.d(t,{BH:()=>B,Fi:()=>U,K$:()=>M,TV:()=>x,Tb:()=>Z,gF:()=>z,gR:()=>L,il:()=>P,r:()=>k,uX:()=>j,wR:()=>F,yJ:()=>H});n(44908);var r=n(64721),o=n.n(r),i=n(41609),s=n.n(i),a=n(25325),l=n.n(a),c=n(91966),d=n.n(c),u=n(98066),m=n.n(u),p=n(50335),h=n(19092),g=n(62107),f=n(30840),E=n(87447),v=n(71154),b=n(80275),y=n(68468),I=n(43831),C=n(11111),S=(n(495),n(75763)),T=n(60658),w=n(80583),O=n(81410),_=n(27488),R=n(84929),A=n(79900),D=n(74657),N=n(53555);const x=({id:e,editorId:t,editorKey:n,transactionId:r,canUndo:o})=>(i,s)=>{const a=s(),l=(0,y.sb)(a,{elementId:e});if(!(0,C.Iw)(l)){if(a.getIn(["remoteActivity","selectedElements"]).getIn([e,"userId"]))return void console.warn("Cannot edit as it is remotely active",e)}const c=(0,y.$3)(a),d=(0,y.$3)(a).getIn([e,"elementType"]),u=(0,A.XW)(a);if(l&&(0,w.mN)((0,f.Yj)(c,e,u),d))return i({type:D.t0,id:e,editorId:t,editorKey:n,transactionId:r,sync:!1,canUndo:o})},M=({id:e,editorId:t,editDelay:n,editorKey:r,transactionId:o})=>(i,s)=>{(0,v.pJ)(s())!==e&&m()((()=>{(0,E.Sp)(s()).contains(e)&&i(x({id:e,editorId:t,editorKey:r,transactionId:o}))}),n)},P=e=>(t,n)=>{const r=n(),o=(0,y.sb)(r,{elementId:e});t(x({id:e,editorId:(0,g.s6)({element:o}),editorKey:(0,g.iS)({element:o})}))},L=e=>({type:D._,sync:!1,id:e}),k=()=>(e,t)=>{const n=t(),r=(0,v.pJ)(n);r&&e(L(r))},F=({ids:e,transactionId:t,sync:n=!0})=>(r,o)=>{if(!s()(e))return r({type:D.xy,ids:e,sync:n,timestamp:(0,h.u3)(),transactionId:t})},B=({ids:e,rangeAnchors:t,transactionId:n})=>(r,i)=>{const s=i(),a=s.getIn(["remoteActivity","selectedElements"]);let l=e.filter((e=>!a.getIn([e,"userId"])));if(!l.length)return;const c=(0,E.eD)(s),d=c.filter((t=>t&&o()(e,t.getIn(["location","parentId"])))).map((e=>(0,S.nRF)(e))).toJS();r(F({ids:d,transactionId:n}));const u=(0,y.$3)(s),m=(0,E.Sp)(s).toJS(),g=(0,I.yS)(e,u),f=[...l,...c.map((e=>(0,S.nRF)(e))).toJS()];return l=g.filter((e=>e&&!o()(f,e.getIn(["location","parentId"]))&&!o()(m,(0,S.nRF)(e)))).map((e=>(0,S.nRF)(e))).keySeq().toArray(),l.length?((0,p.HW)()&&console.debug(`%c${f.join(", ")}`,"color: #99A3A4"),r({type:D.V6,ids:l,rangeAnchors:t,timestamp:(0,h.u3)(),sync:!0,transactionId:n})):void 0},j=({ids:e,rangeAnchors:t,transactionId:n})=>(r,o)=>{const i=o(),s=(0,E.Sp)(i);if(s.size){const t=s.toJS(),o=d()(t,e);r(F({ids:o,transactionId:n}));if(!d()(e,t).length)return}return r(B({ids:e,rangeAnchors:t,transactionId:n}))},z=({ids:e,transactionId:t})=>(n,r)=>{const o=r(),i=(0,E.Sp)(o);if(!i.size)return;const s=i.toJS(),a=d()(s,e);a.length&&n(F({ids:a,transactionId:t}))},U=({ids:e,rangeAnchors:t,transactionId:n})=>(r,o)=>{const i=o(),s=(0,E.Sp)(i);let a=e;if(s.size){const t=s.toJS(),o=l()(e,t);r(F({ids:o,transactionId:n})),a=d()(e,t)}return r(B({ids:a,rangeAnchors:t,transactionId:n}))},H=(e={})=>(t,n)=>{const{transactionId:r,sync:o=!0}=e,i=n(),s=(0,E.Sp)(i);s.size&&t({type:D.zf,ids:s.toJS(),sync:o,timestamp:(0,h.u3)(),transactionId:r});const a=(0,v.pJ)(i);a&&t(L(a))},Z=()=>(e,t)=>{const n=t(),r=(0,_.L)(n);if((0,b.ht)(n))return;if(r===N.j.TRASH_PERSONAL)return e(((e,t)=>{const n=t(),r=(0,R.hI)(n);e(j({ids:r}))}));if(r===N.j.TRASH_OTHERS)return e(((e,t)=>{const n=t(),r=(0,R.OJ)(n);e(j({ids:r}))}));const o=(0,E.eD)(n),i=(e=>{if((0,_.L)(e)===N.j.QUICK_NOTES)return[(0,b.Kw)(e)];const t=(0,E.eD)(e),n=(0,y.$3)(e),r=(0,O.s4)(e);return t.size&&t.every((0,T.nV)(n))?t.map((e=>(0,S.CKs)(e))):[r]})(n),s=o.size?(e=>{const t=(0,E.eD)(e),n=(0,y.$3)(e),r=(0,O.s4)(e);return t.every((0,T.nV)(n))?n.filter((0,T.nV)(n)):t.every(T.PY)?n.filter(T.PY):t.every((0,T.Rj)(n,r))?n.filter((0,T.Rj)(n,r)):n})(n):(e=>{const t=(0,_.L)(e),n=(0,y.$3)(e),r=(0,O.s4)(e);if(t===N.j.QUICK_NOTES){const t=(0,b.Kw)(e);return n.filter((e=>(0,S.CKs)(e)===t))}return t===N.j.CANVAS?n.filter(T.PY):n.filter((0,T.Rj)(n,r))})(n),a=s.filter((e=>t=>-1!==e.indexOf((0,S.CKs)(t)))(i)).keySeq().toJS();e(j({ids:a}))}},15364:(e,t,n)=>{"use strict";let r;n.d(t,{o:()=>r}),function(e){e.SINGLE="SINGLE",e.MULTIPLE="MULTIPLE",e.RANGE="RANGE"}(r||(r={}))},5612:(e,t,n)=>{"use strict";n.d(t,{J:()=>i,M:()=>s});var r=n(51752),o=n(15364);const i=e=>s(e)!==o.o.SINGLE,s=e=>(0,r.p9)(e)?o.o.RANGE:(0,r.lk)(e)?o.o.MULTIPLE:o.o.SINGLE},81897:(e,t,n)=>{"use strict";n.d(t,{DA:()=>K,HM:()=>F,Js:()=>R,KN:()=>j,Mm:()=>U,Mn:()=>N,Os:()=>q,Q1:()=>L,R4:()=>Z,X9:()=>B,ZG:()=>H,Zq:()=>D,_R:()=>z,_Z:()=>W,gk:()=>M,oN:()=>V,s4:()=>d.s4,tJ:()=>P,tQ:()=>d.tQ,zP:()=>A});var r=n(15886),o=n.n(r),i=n(11151),s=n.n(i),a=n(77606),l=n.n(a),c=n(22222),d=n(81410),u=n(60658),m=n(93034),p=n(11111),h=n(24040),g=n(48791),f=n(78327),E=n(49508),v=n(83547),b=n(75763),y=n(495),I=n(48421),C=n(43831),S=n(95521),T=n(51202),w=n(56860);const O=[],_=e=>(0,f.y1)(e,d.ie,((e,t)=>e[t]||O)),R=_(E.cs),A=(0,f.y1)(R,v.$,C.yS),D=(0,c.P1)(A,v.$,((e,t)=>e.map((e=>{if(!(0,p.vu)(e))return e;const n=(0,b.Sb0)(e),r=(0,y.sb)(t,n);return(0,h.v)(e,r)})))),N=(0,f.y1)(d.nv,E.cs,E.B7,((e,t,n)=>t[e]?t[e].map((e=>n[e]||e)):[])),x=_(E.pD),M=(0,f.y1)(x,A,C.yS),P=(0,f.y1)(M,(e=>e.valueSeq().filter(u.PY).sort(S.qp).toList())),L=(0,f.y1)(P,(e=>e.reduce(((e,t)=>(e.push((0,b.nRF)(t)),e)),[]))),k=(0,f.y1)(M,(e=>(0,S.Ne)({elements:e,section:w.WI.INBOX}))),F=(0,f.y1)(k,(e=>e.reduce(((e,t)=>(e.push((0,b.nRF)(t)),e)),[]))),B=(0,f.y1)(A,(e=>e.map(b.qEr))),j=(0,f.y1)(F,E.pD,R,((e,t,n)=>{let r=s()((e=>(0,I.xT)(t,e)),e);return r=r.concat(e),o()(n,r)})),z=(0,f.y1)(j,A,C.yS),U=((0,f.y1)(d.nv,E.eA,((e,t)=>(0,m.T)(t,e))),(0,f.y1)(d.nv,E.eA,((e,t)=>{const n=(0,m.T)(t,e);return n.unshift(e),n}))),H=(0,f.y1)(U,v.$,C.yS),Z=e=>(0,c.P1)(U,H,((t,n)=>{if(l()(t))return null;const r=t.length;for(let o=0;o<=r-1;o++){const r=t[o],i=(0,y.sb)(n,r);if(e(i,n))return i}return null})),G=e=>(0,f.y1)(R,A,((t,n)=>t.map((t=>e((0,y.sb)(n,t)))))),K=(G(b.G8z),G(b.BGE),(0,f.y1)(d.s4,T.zu,((e,t)=>(0,C.vg)(e,t)))),W=(0,c.P1)(d.SO,b.eVc),V=(0,c.P1)(W,g.ZP,((e,t)=>({x:(0,C.vg)("x",e)*t,y:(0,C.vg)("y",e)*t}))),$=(0,C.vg)("canvasOrder"),q=(0,f.y1)(d.s4,$,((e,t)=>(0,C.vg)(e,t)))},77299:(e,t,n)=>{"use strict";n.d(t,{P3:()=>p,Vl:()=>u,zC:()=>m});var r=n(22222),o=n(78327),i=n(75763),s=n(90693),a=n(95521),l=n(83547),c=n(49508),d=n(56860);const u=e=>(0,r.P1)((0,o.y1)(l.$,c.pD,((e,t)=>t.originalElementId||t.elementId||(0,i.nRF)(t.element)),((e,t,n)=>(0,s.CB)({elements:e,elementGraph:t,parentId:n}))),(t=>(0,a.Ne)({elements:t,section:d.WI.INBOX,sortFn:e}))),m=()=>(0,o.y1)(c.pD,((e,t)=>t.elementId||(0,i.nRF)(t.element)),((e,t)=>null==e?void 0:e[t])),p=e=>(0,o.y1)(u(e),(e=>e.map(i.nRF).toArray()))},49508:(e,t,n)=>{"use strict";n.d(t,{B7:()=>u,ZM:()=>f,cs:()=>p,pD:()=>d,gS:()=>v,eA:()=>m});var r=n(78327);var o=n(56860),i=n(46563),s=n(93776);const a=(e,t)=>{var n,r,i,s;let a=t,l=null===(n=a)||void 0===n||null===(r=n.location)||void 0===r?void 0:r.parentId,c=l?e.get(l):null;if(!c)return{parentBoardId:null,isInParentBoardInbox:!1};const d=new Map;for(;c&&c.elementType!==o.V_;){var u;if(a=c,l=(null===(u=a.location)||void 0===u?void 0:u.parentId)||"",c=e.get(l),d.has(l)){console.warn(`Infinite loop in getParentBoardAndLocationDetailsForDeepChild for: ${a._id}`,a);break}d.set(l,!0)}return{parentBoardId:l,isInParentBoardInbox:(null===(i=a)||void 0===i||null===(s=i.location)||void 0===s?void 0:s.section)===o.WI.INBOX}};var l=n(10798);const c=(0,r.T1)((([e,t],[n,r])=>t===r))((e=>e.getIn(["cache","elementSummaries"])),(e=>e.getIn(["cache","deepChildrenMod"])),(e=>{const t={},n={},r={},l={},c={},d={},u={},m={},p={},h={};for(const a of e){const[e,t]=a;if(!t)continue;if(t.location.section===o.WI.TRASH)continue;const n=t.location.parentId;d[e]=n;const r=t.elementType;if(r===i.BA)h[e]=n;else if(r===s.C){var g;const r=null===(g=t.content)||void 0===g?void 0:g.linkTo;if(!r)continue;m[r]=m[r]||[],n&&m[r].push(n),c[r]=c[r]||[],c[r].push(e),l[e]=r}else r===o.V_&&(p[e]=!0)}for(const i of e){const[s,l]=i;if(!l)continue;if(l.location.section===o.WI.TRASH)continue;const c=l.location.parentId||"",d=m[s];d&&(p[c]&&d.push(c),r[s]=d),t[c]=t[c]||[],t[c].push(s);let h;if(p[c])h=c;else{h=a(e,l).parentBoardId}void 0!==h&&(h&&(n[h]=n[h]||[],n[h].push(s)),u[s]=h)}return{elementGraph:t,boardVisibleElementGraph:n,aliasIdToPhysicalIdMap:l,elementIdToVirtualParentIdsMap:r,columnIdToParentBoardIdMap:h,elementIdToAncestorBoardIdMap:u,parentIdMap:d,boardIdToAliasIdsMap:c}})),d=e=>c(e).elementGraph,u=(0,r.y1)(c,(e=>e.aliasIdToPhysicalIdMap)),m=e=>c(e).parentIdMap,p=e=>c(e).boardVisibleElementGraph,h=(0,r.y1)(c,(e=>e.columnIdToParentBoardIdMap)),g=(0,r.hH)(c,(e=>e.elementIdToVirtualParentIdsMap)),f=(0,r.y1)(c,(e=>e.boardIdToAliasIdsMap)),E={},v=(0,r.hH)(l.jJ,(e=>e.getIn(["app","boardHierarchies"])),h,g,((e,t,n,r)=>e?((e,t={},n={})=>{const r=Object.keys(e),o=r.length,i={};for(let s=0;s<o;s++){const o=r[s];let a=e[o];if(!a)continue;const l=n[o];l&&(a=l.map((e=>t[e]||e))),i[o]=a}return i})(t,n,r):E))},67087:(e,t,n)=>{"use strict";n.d(t,{RQ:()=>u,nf:()=>d});var r=n(22222),o=n(43831),i=n(48791),s=n(68468),a=n(81897),l=n(75763);const c=(e,t)=>(0,l.FX_)((0,s.sb)(e,t)),d=(e,t)=>((e,t)=>e.getIn(["elements",(0,s.nR)(e,t),"location","position"]))(e,t)||c(e,t),u=()=>(0,r.P1)(c,i.FP,a._Z,((e,t,n)=>({x:(((0,o.vg)("x",e)||0)-(0,o.vg)("x",n))*t,y:(((0,o.vg)("y",e)||0)-(0,o.vg)("y",n))*t})))},68468:(e,t,n)=>{"use strict";n.d(t,{$3:()=>E.$,QH:()=>x,Xi:()=>F,ZP:()=>U,m7:()=>M,nR:()=>A,rE:()=>P,sb:()=>N,vu:()=>D});var r=n(22222),o=n(75763),i=n(80583),s=n(72522),a=n(13784),l=n(71154),c=n(87447),d=n(8737),u=n(68071),m=n(23026),p=n(38358),h=n(63015),g=n(78327),f=n(99010),E=n(83547),v=n(49508),b=n(48421),y=n(13612),I=n(42022),C=n(90624),S=n(51354),T=n(9553),w=n(97245),O=n(29176),_=n(62287),R=n(34595);const A=(e,t)=>t.elementId||t.element&&(t.element.get("id")||t.element.get("_id")),D=(e,t)=>(0,o.G8z)(t.element),N=(e,t)=>t.element||(0,E.$)(e).get(t.elementId),x=(0,s.R3)(O.P6.elements),M=()=>(0,g.y1)(A,N,v.pD,l.pJ,l.Qq,l.lY,((e,t,n,r,o,i)=>{let s=!1,a=!1,l=null,c=null;return r&&(s=r===e,l=s?o:null,c=s?i:null,s||(a=(0,b.us)(n,e,r))),{isEditing:s,isEditingChild:a,currentEditorKey:l,currentEditorId:c}})),P=()=>(0,r.P1)(A,c.Sp,((e,t)=>t.includes(e))),L=()=>(0,r.P1)(((e,t)=>e.getIn(["remoteActivity","selectedElements",A(e,t)])),(e=>e)),k=(e,t)=>(0,o.Lq4)(N(e,t)),F=()=>(0,r.P1)(k,a.yp),B=(e,t)=>{if(!t.inList)return!0;const n=(0,f.C_)(e);if(!n)return!1;const{elementId:r,element:i}=t;return r===n||(0,o.CKs)(i)===n},j=()=>{switch((0,u.uT)()){case R.Q.IOS_CANVAS:case R.Q.IOS_BOARD_LIST:case R.Q.ANDROID_BOARD_LIST:return!1;case R.Q.IPAD_OS:default:return!0}},z=(e,t)=>(0,f.C_)(e)===t.elementId,U=()=>(0,r.P1)(P(),(0,r.P1)(A,c.Sp,((e,t)=>1===t.size&&t.includes(e))),L(),(0,r.P1)(L(),C.li,((e,t)=>!t&&e&&!!e.get("userId"))),M(),((e,t)=>(0,o.cOT)(N(e,t))),((e,t)=>A(e,t)===(0,C.$D)(e)&&!t.isFocusedForegroundElement),h.Pt,(0,r.P1)(I.W1,(0,I.u2)(),((e,t)=>e?null!=t&&t.focus?w.P3.FOCUS:null!=t&&t.pass?w.P3.PASS:w.P3.FAIL:w.P3.NONE)),(0,r.P1)(((e,t)=>t.permissions),((e,t)=>(0,o.BGE)(t.element)),i.mN),d.U,I.iv,p.a,u.Z$,m.u,I.O3,y.FG,B,z,C.li,(0,r.P1)(j,(0,S.D)(_.Iu.toolbarV2),((e,t)=>e&&t)),T.c,((e,t,n,r,o,i,s,a,l,c,d,u,m,p,h,g,f,E,v,b,y,I)=>Object.assign({},o,{remoteSelectionData:n,isRemotelySelected:r,isSingleSelected:t,isSelected:e,isFocusedBackgroundElement:s,isLocked:i,isClipboardCut:a,filterState:l,filterQuery:(l===w.P3.PASS||l===w.P3.FOCUS)&&u||null,isEditable:c,dragModifierKeys:d,isElementOpenInModal:m,spellCheck:!p||h,elementFilterData:g,attachment:f,canConnectLineEdge:E,isAttachingInside:v,isPresentationModeEnabled:b,shouldFocusOnlyWhenSelected:y,elementLocalData:I})))},87393:(e,t,n)=>{"use strict";n.d(t,{FE:()=>p,bp:()=>h,mh:()=>m});var r=n(4835),o=n.n(r),i=n(22222),s=n(43831),a=n(93034),l=n(78327),c=n(83547),d=n(49508);const u=(e,t)=>t.elementId||t.element&&(t.element.get("id")||t.element.get("_id")),m=()=>(0,l.y1)(u,d.eA,((e,t)=>(0,a.T)(t,e))),p=()=>(0,l.y1)((0,i.P1)(u,m(),((e,t)=>(t.push(e),t))),c.$,s.yS),h=e=>(t,n)=>{const r=n(),i=(0,d.pD)(r);return o()(e.flatMap((e=>i[e]||[])))}},83547:(e,t,n)=>{"use strict";n.d(t,{$:()=>r});const r=e=>e.get("elements")},75043:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});const r={TITLE:"title",DELETE_COMPLETED_TASKS:"deleteTasks"}},31243:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(36968),o=n.n(r),i=n(10928),s=n.n(i),a=n(29448),l=n(18534),c=n(906),d=n(60025),u=n(99331);let m,p;const h=(e,t)=>{const[n,r,o,i]=(0,l.f)(t),a=[];for(let l=n;l<=o;l++){a.push([]);for(let t=r;t<=i;t++){const{cellData:n=(0,c.Pk)()}=e.current.getCellMeta(l,t),r=e.current.getCopyableData(l,t);s()(a).push({renderCellValue:r,cellData:n})}}return a},g=e=>{if(!m)return;const t=(0,d.Ed)(e),n=(0,d.QN)(e),r=(0,d.Ed)(m),o=(0,d.QN)(m);return r===t&&o===n&&m.every(((t,n)=>t.every((({renderCellValue:t},r)=>t===(0,u.tT)(e[n][r])))))?m.map(((e,t)=>e.map((({renderCellValue:e,cellData:t})=>(0,a.j)(t.value)?Object.assign({},t,{value:e}):t)))):void 0},f={setTableCopySource:(e,t)=>{m=h(e,t)},getTableCopiedDataForValues:g,getTableCopiedDataForChanges:e=>{const t=Math.min(...e.map((([e])=>e))),n=Math.min(...e.map((([,e])=>e))),r=[];return e.forEach((([e,i,,s])=>o()(r,[e-t,i-n],s))),g(r)},getTableAutofillData:()=>p.map((e=>e.map((({cellData:e})=>e)))),setTableAutofillSource:(e,t)=>{p=h(e,t)}}},90010:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>c,gH:()=>l,nM:()=>a});var r=n(50335);const o={},i=e=>o[e],s={addHotTableComponent:(e,t)=>{o[e]=t},removeHotTableComponent:(e,t)=>{o[e]===t&&delete o[e]},getHotTableComponent:i},a=e=>{var t,n;return null===(t=i(e))||void 0===t||null===(n=t.hotTableInstanceRef)||void 0===n?void 0:n.current},l=e=>{var t,n;return null===(t=i(e))||void 0===t||null===(n=t.tableOperationsRef)||void 0===n?void 0:n.current};(0,r.Od)()&&(window.getHotTableComponent=i,window.getHotInstance=a);const c=s},62246:(e,t,n)=>{"use strict";n.d(t,{Id:()=>l,ZP:()=>c,yM:()=>a});var r=n(89515),o=n(50335),i=n(19092);const s=r.GP.buildEmpty({licenseKey:"internal-use-in-handsontable"}),a=e=>(0,i.sO)(e)?["MM/DD/YYYY","MM/DD/YY","YYYY/MM/DD"]:["DD/MM/YYYY","DD/MM/YY"];["ARRAYFORMULA","ARRAY_CONSTRAIN","MMULT","MEDIANPOOL","MAXPOOL","TRANSPOSE","INTERVAL","HF.ADD","HF.CONCAT","HF.DIVIDE","HF.EQ","HF.LTE","HF.LT","HF.GTE","HF.GT","HF.MINUS","HF.MULTIPLY","HF.NE","HF.POW","HF.UMINUS","HF.UNARY_PERCENT","HF.UPLUS"].forEach((e=>{var t,n,r,o,i;const a=s._functionRegistry;a&&(null===(t=a.functions)||void 0===t||t.delete(e),null===(n=a.functionsMetadata)||void 0===n||n.delete(e),null===(r=a.instancePlugins)||void 0===r||r.delete(e),null===(o=a.arrayFunctions)||void 0===o||o.delete(e),null===(i=a.arraySizeFunctions)||void 0===i||i.delete(e))}));const l=s.getRegisteredFunctionNames().sort().sort(((e,t)=>e.length-t.length));(0,o.Od)()&&(window.hyperFormulaInstance=s);const c=s},39461:(e,t,n)=>{"use strict";n.d(t,{Lb:()=>v,W_:()=>E,g6:()=>b});var r=n(12297),o=n.n(r),i=n(25387),s=n.n(i),a=n(37407),l=n(55777),c=n(80275),d=n(60742),u=n(18534),m=n(43831),p=n(60025),h=n(54301),g=n(74657),f=n(97245);const E=e=>t=>{const{location:n,content:r,currentBoardId:o,transactionId:i=(0,d.k)(),creationSource:s}=e;return t((0,a.C8)({elementType:h.vj,location:n,content:r,currentBoardId:o,transactionId:i,creationSource:s}))},v=(e,t,n=0,r)=>(o,i)=>{const a=i();if(!t)return o({type:g.TR,id:e,cellSelections:null});const c=(0,m.su)((0,l.pF)(a,{elementId:e}))||[];let d=[];if(0===n)d[n]=t;else{const e=(0,u.f)(t);let r=!0;c.forEach((t=>{const n=(0,u.f)(t);if(!s()(e,n))return(0,u.WU)(e,n)?(d.push(...(0,u.fl)(n,e)),void(r=!1)):void d.push(t);r=!1})),r&&(d[n]=t)}return o({type:g.TR,id:e,cellSelections:d,transactionId:r})},b=({id:e,changes:t,batchUndoActions:n,batchRedoActions:r,transactionId:i,silent:s})=>(l,d)=>{var u;const m=d(),h=(0,c.OL)(m),g=(0,p.QP)(t,h);null!=g&&null!==(u=g.tableContent)&&void 0!==u&&u.colWidthsGU&&!g.width&&(g.width=Math.round(o()(g.tableContent.colWidthsGU))),l((0,a.yj)({id:e,updateType:f._q.TABLE,changes:g,batchUndoActions:n,batchRedoActions:r,transactionId:i,silent:s}))}},55777:(e,t,n)=>{"use strict";n.d(t,{Bp:()=>E,UV:()=>g,oq:()=>f,pF:()=>h});var r=n(27361),o=n.n(r),i=n(78327),s=n(43831),a=n(75763),l=n(22222),c=n(71154),d=n(60025),u=n(64219),m=n(87447),p=n(80275);const h=(e,{elementId:t,element:n})=>{if(!(t=t||(0,a.nRF)(n)))return;const r=(0,m.Sp)(e);return 1===r.size&&r.first()===t?e.getIn(["app","selection","meta","currentCellSelections"]):void 0},g=()=>(0,i.hH)(((e,t)=>(0,a.IrM)(t.element)),p.OL,((e,t)=>(0,s.su)(e).map((e=>e.map((e=>void 0!==o()(e,"value")?(0,d.OX)(e,t):e)))))),f=()=>(0,i.hH)(((e,t)=>t.element),(e=>(0,s.qo)((0,a.yvq)(e))||[])),E=e=>(0,l.P1)(c.lY,(t=>t===(0,u.bH)(e)))},64219:(e,t,n)=>{"use strict";n.d(t,{S9:()=>b,bH:()=>v,n9:()=>E,nm:()=>y,sG:()=>I});var r=n(18446),o=n.n(r),i=n(50361),s=n.n(i),a=n(9041),l=n(43831),c=n(906),d=n(29742),u=n(79319),m=n(29448),p=n(60025),h=n(12133),g=n(54301),f=n(99331);const E=e=>`${e}-${g.vj}`,v=e=>`${e}-${g.Am}`,b=e=>`${e}-${g.MY}`,y=(e,t,n,r)=>e.map(((e,i)=>{const[m,p,,g]=e,E=(0,l.P2)([m,p],t),v=((e,t,n,r)=>{var i;let l=s()(e)||(0,c.Pk)();l.value=t;const m=l.value&&(0,f.bQ)(l.value);if(!("string"==typeof m?""!==m:(0,u.Z)(m)))return l.value=null,(0,d.lN)(l)&&delete l.type,l;if(l=(0,d.fW)(l,e.value,n,r),"object"!=typeof m||(0,d.lN)(l))return l;const p=m?(0,h.kF)((0,a.convertFromRaw)(m)):[];return o()(p.sort(),(null===(i=l.textStyle)||void 0===i?void 0:i.sort())||[])&&(0,d.Cz)(l)||(l.textStyle=p),l})(E,g,n,r);return[m,p,E,v]})),I=(e,t,n,r,o)=>{const i=Math.min(...e.map((([e])=>e))),a=Math.min(...e.map((([e,t])=>t)));return e.map((e=>{const[d,u,,h]=e,g=(0,l.P2)([d,u],t);if(r){const e=(0,p.Ed)(r),t=(0,p.QN)(r),o=(d-i)%e,l=(u-a)%t,c=s()(r[o][l]);return"Autofill.fill"===n&&(0,m.j)(c.value)&&(c.value=h),[d,u,g,c]}return[d,u,g,(0,c.Pk)(h,o)]}))}},12133:(e,t,n)=>{"use strict";n.d(t,{BR:()=>V,k4:()=>G,qg:()=>H,CB:()=>K,VS:()=>U,qH:()=>z,kF:()=>$,qf:()=>F,z8:()=>j,Eg:()=>B,_Z:()=>P,u1:()=>L,dy:()=>k});var r=n(93386),o=n.n(r),i=n(14293),s=n.n(i),a=n(27361),l=n.n(a),c=n(50361),d=n.n(c),u=n(89515),m=n(9041),p=n(66774),h=n(62246);var g=n(46893),f=n(46716),E=n(49870),v=n(8049),b=n(13784),y=n(60025),I=n(29742),C=n(29448),S=n(5527),T=n(99331),w=n(46015),O=n(31344),_=n(40470),R=n(44766),A=n(84576),D=n(12515),N=n(87384),x=n(54301),M=n(26911);const P=(e,t,n={})=>{const{hfType:r,hfDetailedType:o}=n;if("number"==typeof e&&r===u.lT.FORMULA&&(o===u.Lf.NUMBER_DATE||o===u.Lf.NUMBER_DATETIME||o===u.Lf.NUMBER_TIME)){const n=h.ZP.numberToDateTime(e);let r="year"in n?n.year:void 0,i="month"in n?n.month:void 0,s="day"in n?n.day:void 0;const a="hours"in n?n.hours:void 0,l="minutes"in n?n.minutes:void 0,c="seconds"in n?n.seconds:void 0;if(o===u.Lf.NUMBER_TIME){const e=new Date;s=e.getDate(),i=e.getMonth()+1,r=e.getFullYear()}if(void 0===r||void 0===i)return e;const d=new Date(r,i-1,s,a,l,c),m=o===u.Lf.NUMBER_DATETIME||o===u.Lf.NUMBER_TIME,p=d.getTime(),g=Object.assign({},(0,I.KK)(N.CellTypeNames.DATE_TIME),{[N.kX.HAS_TIME]:m,[N.kX.HAS_SECONDS]:m,[N.kX.TIME_FORMAT]:N.TimeStringFormatOptions.TWENTY_FOUR_HOUR_SECONDS},o===u.Lf.NUMBER_TIME?{[N.kX.DATE_FORMAT]:N.$2.NONE}:{}),f=(0,O.WC)(p.toString(),g,t);if(f)return f}return e},L=(e,t,n,r)=>{var o,i;if(s()(t)||s()(n))return null;const a=r.getDataAtCell(t,n),l=null===(o=r.getCellMeta(t,n))||void 0===o||null===(i=o.cellData)||void 0===i?void 0:i.value;if(!(0,C.j)(l))return a;const c=h.ZP.getSheetId(e);if(s()(c))return a;const d={hfType:h.ZP.getCellType({sheet:c,row:t,col:n}),hfDetailedType:h.ZP.getCellValueDetailedType({sheet:c,row:t,col:n})},{locale:u}=r.milanoteProps;return P(a,u,d)},k=(e,t,n=null,r={})=>{const o=s()(n)?null==e?void 0:e.value:n,i=(0,T.tT)(o??""),a=P(i,t,r);return(0,w.Ii)(e,t,a)},F=(e,t,n,r={})=>{if(s()(n))return null;const o=(0,T.bQ)(n),i="object"==typeof o?(0,p.Z)(o):o,a=k(e,t,i,r),l="object"==typeof o&&i===a?(0,m.convertFromRaw)(o):m.ContentState.createFromText(a.toString());return(0,g.Z)(l,e.textStyle)},B=(e,t=N.CellTypeNames.AUTO,n)=>{if(!(0,S.jF)(t)||"object"==typeof e)return e;const{decimalSeparator:r}=(0,_.Ul)(n);return e.replaceAll(".",r)},j=(e,t,n)=>{if(!e)return x.CJ;const{value:r,type:o,textAlignment:i}=e;if(i)return i;const a=(null==o?void 0:o.name)||N.CellTypeNames.AUTO,l=N.kE[a].alignment||x.CJ;if(!r||a===N.CellTypeNames.TEXT)return l;if(!s()(n)&&"number"==typeof n)return N.H.RIGHT;if(!s()(n)&&"boolean"==typeof n)return N.H.LEFT;const c=(0,T.tT)(r),{newCellType:d}=(0,R.A)(String(c),!1,t)||{};if(d&&(!o||(0,I.$)(d,o.name)||d===o.name))return N.kE[d].alignment;const u=s()(n)?c:k(e,t,n);return isNaN(Number(u))?N.H.LEFT:l},z=(e,t,n)=>{if(e.length>5)return null;const{currencySymbol:r}=(0,D.B6)(e);if(r&&!(null!=r&&r.match(/^[a-zA-Z]+$/)))return N.H.RIGHT;const o=r&&(0,A.pM)(e,!0,n);return 1===e.length||o?j(Object.assign({},t,{value:e}),n):null},U=e=>{const{background:t=null}=e||{},n=(0,f.AE)(t);return n&&n.match(/^#([0-9a-f]{3}){1,2}$/i)?n:t===x.co?"var(--ws-table-header-row-background)":"var(--ws-element-background-primary)"},H=e=>{const{background:t=null}=e||{};if(t)return t===x.co?{"colored-background":!0}:(0,b.dW)(t)},Z=(e,t,n,r,i)=>{const s=i?{row:e-2,col:t}:{row:e,col:t-2},a=i?{row:e-1,col:t}:{row:e,col:t-1},c=i?{row:e+r,col:t}:{row:e,col:t+r},d=i?{row:e+r+1,col:t}:{row:e,col:t+r+1},u=l()(n,[s.row,s.col]),m=l()(n,[a.row,a.col]),p=l()(n,[c.row,c.col]),h=l()(n,[d.row,d.col]),g=(0,y.Ed)(n),f=(0,y.QN)(n),E=i?g-r:f-r,v={};if(m){const{background:e,textStyle:t,textAlignment:n}=m;if(1===E)return{background:e,textStyle:t};(null==u?void 0:u.background)!==e&&(null==p?void 0:p.background)!==e||(v.background=e),(null==u?void 0:u.textAlignment)!==n&&(null==p?void 0:p.textAlignment)!==n||(v.textAlignment=n),v.textStyle=null==t?void 0:t.filter((e=>{var t,n;return(null==u||null===(t=u.textStyle)||void 0===t?void 0:t.includes(e))||(null==p||null===(n=p.textStyle)||void 0===n?void 0:n.includes(e))}))}if(p){const{background:e,textStyle:t,textAlignment:n}=p;if(1===E)return{background:e,textStyle:t};(null==h?void 0:h.background)!==e||v.background||(v.background=e),(null==h?void 0:h.textAlignment)!==n||v.textAlignment||(v.textAlignment=n);const r=null==t?void 0:t.filter((e=>{var t;return null==h||null===(t=h.textStyle)||void 0===t?void 0:t.includes(e)}));v.textStyle=o()(v.textStyle,r)}return v},G=e=>{const{dataArray:t,colIndex:n,nColsAdded:r,rowIndex:o,nRowsAdded:i,hotTableInstanceRef:s}=e,a=d()(t),l=(0,y.Ed)(a),c=(0,y.QN)(a);if(r>0)for(let d=0;d<l;d++)for(let e=n;e<n+r;e++){var u;const t=Object.assign({},Z(d,e,a,r,!1),a[d][e]);a[d][e]=t,null!=s&&s.current&&(null===(u=s.current)||void 0===u||u.setCellMetaObject(d,e,{cellData:t}))}if(i>0)for(let d=o;d<o+i;d++)for(let e=0;e<c;e++){var m;const t=Object.assign({},Z(d,e,a,i,!0),a[d][e]);a[d][e]=t,null!=s&&s.current&&(null===(m=s.current)||void 0===m||m.setCellMetaObject(d,e,{cellData:t}))}return a},K=(e,t)=>{var n;return e?e===x.co?t?"#4D4D4D":"#D2D3D6":(null===(n=x.mW[e])||void 0===n?void 0:n.hex)||e:t?"#333333":"#ffffff"},W=(e,t,n,r)=>{var o;if(e>=r.countRows()||e<0||t>=r.countCols()||t<0)return{color:null,shouldOverlapCurrentCell:!1};const i=null===(o=r.getCellMeta(e,t))||void 0===o?void 0:o.cellData;if(!i||!i.background)return{color:null,shouldOverlapCurrentCell:!1};const s=r.milanoteProps.isDarkMode||!1,a=K(i.background,s),l=i.background&&(0,v.Xl)(a,n);return{color:a,shouldOverlapCurrentCell:(s?!l:l)&&!!a}},V=(e,t,n)=>{var r;const o=null==e||null===(r=e.getCellMeta(t,n))||void 0===r?void 0:r.cellData;if(null==o||!o.background||!e)return;const i=K(o.background,e.milanoteProps.isDarkMode||!1),s=(0,E.Qr)(i)?"rgb(50, 59, 74)":"rgb(255, 255, 255)",a=(0,v.N4)(i,s).toString(),l=!W(t-1,n,i,e).shouldOverlapCurrentCell,c=!W(t,n-1,i,e).shouldOverlapCurrentCell&&0!==n;requestAnimationFrame((()=>{if(!e||e.isDestroyed)return;const r=e.getCell(t,n);if(!r)return;const o=r.querySelector(".MilanoteCellRendererComponent");if(!o)return;o.classList.remove("colored-border-top-only","colored-border-left-only","colored-no-border-top-right-corner","colored-border-bottom-right-corner"),r.style.borderColor="transparent",n!==e.countCols()-1&&(r.style.borderRightColor=a),r.style.borderBottomColor=a,o.style.borderColor="transparent",l&&c?o.style.borderColor=a:l?(o.style.borderTopColor=a,o.classList.add("colored-border-top-only")):c&&(o.style.borderLeftColor=a,o.classList.add("colored-border-left-only"));W(t-1,n+1,i,e).shouldOverlapCurrentCell&&o.classList.add("colored-no-border-top-right-corner");const s=W(t+1,n+1,i,e);s.color&&!s.shouldOverlapCurrentCell&&o.classList.add("colored-border-bottom-right-corner")}))},$=e=>Array.from((e=>{let t;return e.getBlockMap().forEach((e=>{e.getCharacterList().forEach((e=>{const n=e.getStyle();var r;n&&(t=(null===(r=t)||void 0===r?void 0:r.intersect(n))||n)}))})),t})(e)||[]).filter((e=>![M.K2.LARGE_HEADING,M.K2.HEADING,M.K2.SMALL_TEXT,M.K2.CODE,M.K2.BLOCKQUOTE].includes(e)))},18534:(e,t,n)=>{"use strict";n.d(t,{BO:()=>L,C$:()=>R,E0:()=>a,E_:()=>i,Eq:()=>h,F8:()=>d,FX:()=>F,Fd:()=>b,GI:()=>I,Iu:()=>u,LN:()=>D,LR:()=>g,MV:()=>m,QM:()=>C,ST:()=>p,U4:()=>j,WU:()=>S,Wt:()=>U,Z8:()=>T,ZR:()=>_,_U:()=>k,cz:()=>s,f:()=>x,f3:()=>M,fl:()=>z,jC:()=>l,je:()=>v,kv:()=>O,lU:()=>A,md:()=>E,mr:()=>H,pJ:()=>N,ph:()=>c,q_:()=>f,rB:()=>B,tZ:()=>y,wq:()=>w,yP:()=>P});var r=n(43831),o=n(60025);const i=(0,r.vg)(0),s=(0,r.vg)(1),a=(0,r.vg)(2),l=(0,r.vg)(3),c=e=>({row:i(e),col:s(e)}),d=e=>({row:Math.min(i(e),a(e)),col:Math.min(s(e),l(e))}),u=e=>({row:Math.max(i(e),a(e)),col:Math.max(s(e),l(e))}),m=(e=[])=>{const t=[];return null==e||e.forEach((e=>{const{row:n,col:r}=d(e),{row:o,col:i}=u(e);for(let s=Math.max(n,0);s<=o;s++)for(let e=Math.max(r,0);e<=i;e++)t.push({row:s,col:e})})),t},p=(e=[])=>{const t=[];return null==e||e.forEach((e=>{const{col:n}=d(e),{col:r}=u(e);for(let o=Math.max(n,0);o<=r;o++)t.push(o)})),t},h=e=>Math.abs(a(e)-i(e))+1,g=e=>Math.abs(l(e)-s(e))+1,f=e=>e.map((e=>Math.max(e,0))),E=e=>{if(!e||0===e.length)return;const t=[],n=[];return e.forEach((e=>{const r=u(e);t.push(r.row),n.push(r.col)})),{row:Math.max(...t),col:Math.max(...n)}},v=(e,t,n)=>[e,-1,t,n.nCols],b=(e,t,n)=>[-1,e,n.nRows,t],y=e=>-1===i(e),I=e=>-1===s(e),C=e=>i(e)===a(e)&&s(e)===l(e),S=(e,t)=>i(t)<=i(e)&&s(t)<=s(e)&&a(t)>=a(e)&&l(t)>=l(e),T=(e,t)=>e>=i(t)&&e<=a(t)||e>=a(t)&&e<=i(t),w=(e,t)=>e>=s(t)&&e<=l(t)||e>=l(t)&&e<=s(t),O=(e,t)=>t.some((t=>w(e,t))),_=({row:e})=>-1===e,R=({col:e})=>-1===e,A=e=>{if(!e)return null;return[e.from.row,e.from.col,e.to.row,e.to.col]},D=e=>{const t=Math.abs(s(e)-l(e))+1;return I(e)?[i(e),l(e)+1,a(e),l(e)+1]:[i(e),s(e)+t,a(e),l(e)+t]},N=e=>{const t=Math.abs(i(e)-a(e))+1;return y(e)?[a(e)+1,s(e),a(e)+1,l(e)]:[i(e)+t,s(e),a(e)+t,l(e)]},x=e=>[Math.min(i(e),a(e)),Math.min(s(e),l(e)),Math.max(i(e),a(e)),Math.max(s(e),l(e))],M=e=>(0,r.vg)(0,e),P=e=>e&&(0,r.kE)(e)>0,L=e=>1===(0,r.kE)(e),k=e=>{if(1!==(0,r.kE)(e))return!1;const t=M(e);return!!t&&C(t)},F=e=>!!e&&(0,r.kE)(e)>1,B=(e,t)=>{if(I(t))return 0;return(0,o.QN)(e)-(Math.abs(s(t)-l(t))+1)},j=(e,t)=>{if(y(t))return 0;return(0,o.Ed)(e)-(Math.abs(i(t)-a(t))+1)},z=(e,t)=>{const n=[];return i(t)>i(e)&&n.push([i(e),s(e),i(t)-1,l(e)]),s(t)>s(e)&&n.push([i(t),s(e),a(t),s(t)-1]),l(t)<l(e)&&n.push([i(t),l(t)+1,a(t),l(e)]),a(t)<a(e)&&n.push([a(t)+1,s(e),a(e),l(e)]),n},U=e=>{var t;const n=e.getSelected();if(!n)return;const r=n&&k(n),o=e.rootElement.querySelectorAll(".ht_master .htBorders .wtBorder.current"),i=null===(t=o[0])||void 0===t?void 0:t.classList.contains("hidden");(!r&&!i||r&&i)&&o.forEach((e=>{e.classList.toggle("hidden",!r)}))},H=(e,t)=>{const n=null==e?void 0:e.getSelected();if(!n||!L(n))return;const r=M(n);r&&requestAnimationFrame((()=>{if(!e||!t.current)return;const o=T(e.countRows()-1,r),i=w(e.countCols()-1,r);if(!(o&&i))return t.current.style.setProperty("--autofill-handle-position-offset-x","0px"),void t.current.style.setProperty("--autofill-handle-position-offset-y","0px");const s=`.ht_master .wtBorder.${k(n)?"current":"area"}:not(.hidden)`,a=e.rootElement.querySelectorAll(s),[l,c]=a;if(!l||!c)return;const d=w(0,r)?5:3,u=T(0,r)?5:3,m=l.offsetWidth-d,p=c.offsetHeight-u;t.current.style.setProperty("--autofill-handle-position-offset-x",`-${m}px`),t.current.style.setProperty("--autofill-handle-position-offset-y",`-${p}px`)}))}},29742:(e,t,n)=>{"use strict";n.d(t,{$:()=>T,Cz:()=>I,KK:()=>b,WE:()=>C,_M:()=>y,fW:()=>w,lN:()=>v,vI:()=>S});var r=n(14293),o=n.n(r),i=n(27361),s=n.n(i),a=n(50361),l=n.n(a),c=n(9041),d=n(12133),u=n(66774),m=n(29448),p=n(44766),h=n(31344),g=n(5527),f=n(87384),E=n(99331);const v=e=>{var t;return!(!e||!e.type)&&(!1===(null===(t=f.kE[e.type.name])||void 0===t?void 0:t.allowCellEditing)&&!(0,m.j)(e.value))},b=e=>{const{formattingOptions:t={}}=f.kE[e],n={name:e};return Object.keys(t).forEach((e=>{var r;const o=null===(r=t[e])||void 0===r?void 0:r.defaultValue;void 0!==o&&(n[e]=o)})),n},y=(e,t)=>{if(!t||0===t.length)return;const n=t.map((({row:t,col:n})=>{var r;return null===(r=s()(e,[t,n]))||void 0===r?void 0:r.type}));if(1===n.length)return n[0]||{name:f.CellTypeNames.AUTO};const r={},i=new Set;return n.forEach((e=>{i.add((null==e?void 0:e.name)||f.CellTypeNames.AUTO)})),1===i.size&&(r.name=[...i][0]),Object.values(f.kX).forEach((e=>{const t=new Set;n.forEach((n=>{if(!n)return;const r=n[e];o()(r)||t.add(r)})),1===t.size&&(r[e]=[...t][0])})),r},I=e=>!((0,m.j)(e.value)||e.type&&e.type.name!==f.CellTypeNames.TEXT),C=(e,t,n)=>{if([f.CellTypeNames.TEXT,f.CellTypeNames.AUTO].includes(t)||o()(e))return!0;const r=(0,u.Z)((0,E.bQ)(e))||String(e);if(t===f.CellTypeNames.CHECKBOX)return"true"===(null==r?void 0:r.toLowerCase())||"false"===(null==r?void 0:r.toLowerCase());const{newCellType:i}=(0,p.A)(r,!1,n)||{};return!!i&&(t===i||(0,g.jF)(t)&&(0,g.jF)(i))},S=(e,t,n,r,o,i,s)=>{var a,m;const p=l()(e);if((null===(a=e.type)||void 0===a?void 0:a.name)===t)return p;if(t===f.CellTypeNames.AUTO)return p.type=void 0,p;if(!s)return e;const{locale:g}=s.milanoteProps,v=(0,d.u1)(r,o,i,s);if(!C(v,t,g))return e;if(p.type=Object.assign({},b(t),t===f.CellTypeNames.CURRENCY&&{[f.kX.CURRENCY]:n}),t===f.CellTypeNames.TEXT&&null!==(m=e.type)&&void 0!==m&&m.name&&(p.value=(0,d.dy)(e,g).toString()),p.type.name===f.CellTypeNames.DATE_TIME){const t=(0,u.Z)((0,E.bQ)(p.value||"")),n=(0,h.qv)(t,g);if(n){const{hasTime:r,hasSeconds:o,dateFormat:i}=n;p.value=t,p.type=Object.assign({},p.type,{hasTime:r,hasSeconds:o,dateFormat:i});const s=(0,h.h8)(p.value,p.type,{prevCellValue:null,prevTypeObject:e.type,locale:g});p.type=Object.assign({},p.type,s)}}if(I(e)&&!I(p)){const e=p.value&&(0,E.bQ)(p.value);e&&"object"==typeof e&&(p.value=(0,u.Z)(e),p.textStyle=c.EditorState.createWithContent((0,c.convertFromRaw)(e)).getCurrentInlineStyle().toArray())}return p},T=(e,t)=>e!==t&&(!e||t===f.CellTypeNames.PERCENTAGE||t===f.CellTypeNames.CURRENCY||t===f.CellTypeNames.DATE_TIME||e===f.CellTypeNames.DATE_TIME&&t===f.CellTypeNames.NUMBER),w=(e,t=null,n,r)=>{var o;const{type:i,value:s=""}=e,{name:a}=i||{},{NUMBER:c,CURRENCY:d,PERCENTAGE:u,TEXT:m,CHECKBOX:g}=f.CellTypeNames;if(a===m||a===g)return e;const v=s||"",y=(0,E.tT)(v);if(!y||"number"==typeof y)return e;const C=(0,p.A)(y.toString(),!0,n,r);if(!C)return e;const{newCellType:S,newCellValue:w,otherTypeOptions:O}=C,_=T(a,S);if(!(_||a===S||(a===d||a===u)&&S===c)&&!_)return e;const R=l()(e);return _&&(R.type=b(S)),R.type=Object.assign({},R.type,O),R.value=I(R)?v.replace(y,w.toString()):w.toString(),(null===(o=R.type)||void 0===o?void 0:o.name)===f.CellTypeNames.DATE_TIME&&(R.type=Object.assign({},R.type,(0,h.h8)(w,R.type,{prevCellValue:t,prevTypeObject:i,rawInput:y.toString(),locale:n}))),R}},60025:(e,t,n)=>{"use strict";n.d(t,{Lj:()=>S,s4:()=>_,mc:()=>R,OX:()=>O,QP:()=>A,zx:()=>D,QN:()=>b,Ed:()=>v,X8:()=>y,As:()=>I,Sx:()=>w,cv:()=>C});n(14293);var r=n(50361),o=n.n(r),i=n(27856);const s=/^(\r\n|\n\r|\r|\n)/,a=/^[^\t\r\n]+/,l=/^\t/;var c=n(906),d=(n(18534),n(12133)),u=n(21992),m=n(31344),p=n(99331),h=n(29448),g=n(19092),f=n(87384),E=n(81396);const v=e=>(e||[]).length,b=e=>((null==e?void 0:e[0])||[]).length,y=e=>{if(e)for(let t=e.countCols()-1;t>=0;t--){const n=e.getCellsMeta().filter((e=>(null==e?void 0:e.col)===t)).some((e=>e.readOnly));if(!e.isEmptyCol(t)||n)return t}},I=e=>{if(e)for(let t=e.countRows()-1;t>=0;t--){const n=e.getCellMetaAtRow(t).some((({cellData:e})=>!(null==e||!e.readOnly)));if(!e.isEmptyRow(t)||n)return t}},C=(e,t,n)=>{const r=t.splice(e[0],e.length);t.splice(n,0,...r)},S=(e,t,n)=>{const r=v(e),i=b(e),s=o()(e);return s.length<t&&s.push(...(0,c.PG)(t-s.length,n)),s.length>t&&s.splice(t,s.length-t),s.forEach((e=>{e.length<n&&e.push(...(0,c.Gr)(n-e.length)),e.length>n&&e.splice(n,e.length-n)})),(0,d.k4)({dataArray:s,colIndex:i,nColsAdded:n-i,rowIndex:r,nRowsAdded:t-r})},T=(e,t)=>{const n=e.findIndex((e=>void 0===e));return n<0?e.push(t)-1:(e[n]=t,n)},w=e=>{if(!e)return null;const t=(e=>{if(!/(<table)|(<TABLE)/g.test(e))return null;const t=document.createElement("div");t.innerHTML=e;const n=t.querySelector("table");if(!n)return null;const r=[];n.querySelectorAll("colgroup > col").forEach((e=>{e instanceof HTMLTableColElement&&r.push(parseInt(e.width))}));const o=n.querySelectorAll("tr"),i=[];return o.forEach(((e,t)=>{i[t]=i[t]||[];const n={};e.querySelectorAll("td, th").forEach(((e,r)=>{n[r]=T(i[t],(0,p.GU)((0,u.Z)(e.innerHTML)));const o=e.colSpan||0;for(let n=2;n<=o;n++)T(i[t],null);const s=e.rowSpan||0;for(let a=2;a<=s;a++){const e=t+a-1,o=n[r];i[e]=i[e]||[],i[e][o]=null}}))})),0===i.length?null:{values:i,colWidthsPx:r}})((0,i.sanitize)(e.getData(E.F2.HTML)));if(t)return t;return{values:function(e){const t=[[""]];if(0===e.length)return t;let n,r=0,o=0;for(;e.length>0&&n!==e.length;)if(n=e.length,e.match(l))e=e.replace(l,""),r+=1,t[o][r]="";else if(e.match(s))e=e.replace(s,""),r=0,o+=1,t[o]=[""];else{let n="";if(e.startsWith('"')){let t=0,r=!0;for(;r;){const o=e.slice(0,1);'"'===o&&(t+=1),n+=o,(0===(e=e.slice(1)).length||e.match(/^[\t\r\n]/)&&t%2==0)&&(r=!1)}n=n.replace(/^"/,"").replace(/"$/,"").replace(/["]*/g,(e=>new Array(Math.floor(e.length/2)).fill('"').join("")))}else{const t=e.match(a);n=t?t[0]:"",e=e.slice(n.length)}t[o][r]=n}return t}(e.getData(E.F2.PLAIN_TEXT))}},O=(e,t)=>{const{type:n,value:r}=e||{};if(!r||!n)return e;if((null==n?void 0:n.name)===f.CellTypeNames.DATE_TIME&&!(0,h.j)(r)){const o=(0,m.WC)(r,n,t);o&&(e.value=o)}return e},_=(e,t)=>{const{type:n,value:r}=e;if(!r||!n)return e;if((null==n?void 0:n.name)===f.CellTypeNames.DATE_TIME&&!(0,h.j)(r)){const n=(0,g.bl)(r,t),o=(0,g.l8)(n);o&&(e.value=o)}return e},R=(e,t)=>null==e?void 0:e.map((e=>null==e?void 0:e.map((e=>_(e,t))))),A=(e,t)=>{var n,r;const i=o()(e);return null!==(n=i.tableContent)&&void 0!==n&&n.data?(i.tableContent.data=R(null===(r=i.tableContent)||void 0===r?void 0:r.data,t),i):e},D=e=>e.map((e=>e.map((e=>(null==e?void 0:e.value)||null))))||[]},29448:(e,t,n)=>{"use strict";n.d(t,{j:()=>m,o:()=>p});var r=n(76059),o=n.n(r),i=n(89515),s=n(62246),a=n(29742),l=n(5527),c=n(87384);const d=["SUM","SUMIF","SUMIFS","SUMSQ","SUMX2MY2","SUMX2PY2","SUMXMY2","SUMPRODUCT","MIN","MINA","MINIFS","MAX","MAXA","MAXIFS","AVERAGE","AVERAGEA","AVERAGEIF"],u=/=([A-Za-z0-9]*)\(.*\)/,m=e=>!!e&&e.toString().startsWith("="),p=(e,t)=>{const n=s.ZP.getCellFormula(e);if(!n)return;const r=n=>{const{cellData:r}=t.getCellMeta(e.row,e.col)||{};return(0,l.$W)(n)(r)&&(null==r?void 0:r.type)||(0,a.KK)(n)};switch(s.ZP.getCellValueDetailedType(e)){case i.Lf.NUMBER_DATE:return Object.assign({},r(c.CellTypeNames.DATE_TIME),{[c.kX.HAS_TIME]:!1});case i.Lf.NUMBER_DATETIME:return Object.assign({},r(c.CellTypeNames.DATE_TIME),{[c.kX.HAS_TIME]:!0,[c.kX.TIME_FORMAT]:c.TimeStringFormatOptions.TWELVE_HOUR});case i.Lf.NUMBER_TIME:return Object.assign({},r(c.CellTypeNames.DATE_TIME),{[c.kX.HAS_TIME]:!0,[c.kX.TIME_FORMAT]:c.TimeStringFormatOptions.TWELVE_HOUR_SECONDS,[c.kX.TIME_IN_BRACKETS]:!1,[c.kX.DATE_FORMAT]:c.$2.NONE});case i.Lf.NUMBER_PERCENT:return r(c.CellTypeNames.PERCENTAGE);case i.Lf.NUMBER_CURRENCY:return r(c.CellTypeNames.CURRENCY);default:{const r=o()(1,null==n?void 0:n.match(u));if(r&&d.includes(r)){let n=o()(0,s.ZP.getCellPrecedents(e));return n&&"start"in n&&(n=n.start),n&&p(n,t)}return}}}},906:(e,t,n)=>{"use strict";n.d(t,{Gr:()=>m,Lq:()=>h,PG:()=>p,Pk:()=>u,Z4:()=>g,b6:()=>y,iq:()=>v});var r=n(41609),o=n.n(r),i=n(50361),s=n.n(i),a=n(18534),l=n(54301),c=n(29742),d=n(60025);const u=(e=null,t="en-US")=>o()(e)||!e?{value:null}:(0,c.fW)({value:e},null,t)||{value:e},m=e=>Array.from({length:e},(()=>u())),p=(e,t)=>Array.from({length:e},((e,n)=>m(t))),h=(e,t)=>e.map((e=>e.map((e=>u(e,t))))),g=e=>{const t=s()(e),n=(0,d.QN)(t);for(let r=0;r<n;r++)t[0][r]=Object.assign({textStyle:["BOLD"],background:l.co},t[0][r]);return t},f=e=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[e%26];return e<=26?t:f(Math.floor(e/26)-1)+t},E=e=>{const{row:t,col:n}=e;return`${f(n)}${t+1}`},v=e=>{const{row:t,col:n}=(0,a.F8)(e),{row:r,col:o}=(0,a.Iu)(e);return t===r&&n===o?E({row:t,col:n}):`${E({row:t,col:n})}:${E({row:r,col:o})}`},b=e=>{const t=e.toUpperCase();let n=0;for(let r=0;r<t.length;r++){n+=(t.charCodeAt(r)-64)*26**(t.length-r-1)}return n-1},y=e=>{const t=e.match(/^\$?([a-z]+)\$?([0-9]+)(?::\$?([a-z]+)\$?([0-9]+))?$/i);if(!t)return null;const[n,r,o,i,s]=t,a=parseInt(o,10)-1,l=b(r);return[a,l,s?parseInt(s,10)-1:a,i?b(i):l]}},93068:(e,t,n)=>{"use strict";n.d(t,{O3:()=>h,VR:()=>p,sX:()=>d});var r=n(91248),o=n.n(r),i=n(5113),s=n(18626),a=n(75763),l=n(19092),c=n(24621);const d=e=>`task-due-date-${e}`,u=e=>{if((0,a.Pqp)(e))return!1;const t=new Date((0,a.rZ9)(e)),n=(0,a.yEU)(e);return(0,l.Rx)(t,n)},m=e=>{if((0,a.Pqp)(e))return!1;const t=new Date((0,a.rZ9)(e));return(0,l.g_)(t)},p=e=>{const t=(0,a.rZ9)(e);if(!(0,a.Sw1)(e)||!t)return"Set due date…";const n=new Date(t);if(m(e)&&u(e)){const e=n.getTime();return`Due ${o()((0,c.Z)({timestamp:e,showSuffix:!0}))}`}const r=`Due ${o()((0,s.Z)({timestamp:n,simpleFormat:"d mmm",longFormat:"d mmm yyyy"}))}`;return(0,a.yEU)(e)?`${r} (${(0,i.Z)(n)})`:r},h=e=>(0,a.Sw1)(e)&&(0,a.rZ9)(e)?(0,a.Pqp)(e)?"completed":u(e)?"overdue":m(e)?"due-today":"due-future":""},89924:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(67294),o=n(45697),i=n.n(o),s=n(87701),a=n(13292),l=n(32475),c=n.n(l),d=n(96026),u=n.n(d),m=n(19092);const p=u()(1,12);p.unshift(12);const h=u()(0,60,5),g=["am","pm"],f=e=>{const{value:t,onChange:n,min:o}=e,i=t||new Date,s=i.getHours(),a=s>11,l=s>12?s-12:s||12,d=5*Math.floor(i.getMinutes()/5),u=((e,t)=>{if((0,m.Pd)(e,t)&&!(0,m.eT)(e,t))return 13;if(!(0,m.eT)(e,t))return 0;const n=e.getHours()>11,r=t.getHours(),o=r>11;return n&&!o?0:!n&&o?13:o?r-12:r})(i,o),f=((e,t)=>{if((0,m.Pd)(e,t)&&!(0,m.eT)(e,t))return 60;if(!(0,m.eT)(e,t))return 0;const n=e.getHours(),r=t.getHours();return n>r?0:n<r?60:t.getMinutes()})(i,o),E=((e,t)=>(0,m.Pd)(e,t)&&!(0,m.eT)(e,t)?2:(0,m.eT)(e,t)&&t.getHours()>11?1:0)(i,o);return r.createElement("div",{className:"TimeInput"},r.createElement("select",{className:"hours",value:l,onChange:e=>{const t=new Date(i);let r=parseInt(e.target.value,10);a&&12!==r?r+=12:a||12!==r||(r=0),t.setHours(r),n(t)}},p.map(((e,t)=>r.createElement("option",{key:e,value:e,disabled:t<u},c()(e,2,"0"))))),":",r.createElement("select",{className:"minutes",value:d,onChange:e=>{const t=new Date(i);t.setMinutes(e.target.value),n(t)}},h.map((e=>r.createElement("option",{key:e,value:e,disabled:e<f},c()(e,2,"0"))))),r.createElement("select",{className:"meridiem",value:a?"pm":"am",onChange:e=>{const t=new Date(i),r="pm"===e.target.value;let o=l;r&&12!==o?o+=12:r||12!==o||(o=0),t.setHours(o),n(t)}},g.map(((e,t)=>r.createElement("option",{key:e,value:e,disabled:t<E},e)))))};f.propTypes={value:i().object.isRequired,onChange:i().func,min:i().object};const E=f;var v=n(73497),b=r.createElement(s.Z,{name:"clock"});const y=e=>r.createElement("div",{className:"DueDateTimePicker unset"},r.createElement(v.Z,{className:"enable-time secondary",tabIndex:0,onClick:()=>e.setHasDueDateTime(!0)},b,r.createElement("span",{className:"time-text"},e.unsetTimeMessage||"Add due time…")));var I=r.createElement(s.Z,{name:"clock"});const C=e=>{const{hasDueDateTime:t,dueDate:n,setDueDate:o}=e;return t?r.createElement("div",{className:"DueDateTimePicker set"},I,r.createElement("div",{className:"inputs"},r.createElement(E,{value:n,onChange:o}),r.createElement(a.Z,{className:"secondary",tabIndex:0,onClick:()=>e.setHasDueDateTime(!1)},"Clear"))):r.createElement(y,e)};y.propTypes=C.propTypes={hasDueDateTime:i().bool,setHasDueDateTime:i().func,dueDate:i().object,setDueDate:i().func};const S=C},75174:(e,t,n)=>{"use strict";n.d(t,{WE:()=>m,ei:()=>g,lt:()=>p,v3:()=>h});var r=n(495),o=n(75763),i=n(93068),s=n(56026),a=n(83547),l=n(71154),c=n(37407),d=n(60434),u=n(97245);const m=({id:e,sync:t=!0})=>(n,s)=>{const l=s(),m=(0,a.$)(l),p=(0,r.sb)(m,e),h=(0,o.Sw1)(p);if(n((0,c.yj)({updateType:u._q.TOGGLE_DUE_DATE,id:e,changes:{showDueDate:!h,dueDate:null,hasDueDateTime:!1,dueReminder:null,dueReminderTimestamp:null},sync:t})),!h){const t=(0,i.sX)(e);n((0,d.Mw)(t)),n((0,d.sj)({predicateFn:e=>e.startsWith("task")&&e!==t}))}},p=({id:e})=>(t,n)=>{const i=n(),s=(0,a.$)(i),l=(0,r.sb)(s,e);(0,o.Sw1)(l)&&t((0,c.yj)({updateType:u._q.TOGGLE_DUE_DATE,id:e,changes:{showDueDate:!1,dueDate:null,hasDueDateTime:!1,dueReminder:null,dueReminderTimestamp:null}}))},h=({taskId:e,dueDate:t,hasDueDateTime:n,dueReminder:r,sync:i=!0,initialElement:a})=>{const l=(0,s.Sm)({dueDate:t,dueReminder:r}),d={id:e,updateType:u._q.DUE_DATE,changes:{showDueDate:!0,dueDate:t,hasDueDateTime:n,dueReminder:r,dueReminderTimestamp:l},sync:i};return i&&a?d.undoChanges={showDueDate:(0,o.Sw1)(a),dueDate:(0,o.rZ9)(a),hasDueDateTime:(0,o.yEU)(a),dueReminder:(0,o.zYj)(a),dueReminderTimestamp:(0,o.Ngj)(a)}:d.transactionId=-1,(0,c.yj)(d)},g=()=>(e,t)=>{const n=t(),r=(0,l.pJ)(n),s=(0,l.a3)(n);return e((0,o.Sw1)(s)?(0,d.Mw)((0,i.sX)(r)):m({id:r,sync:!1}))}},4193:(e,t,n)=>{"use strict";n.d(t,{v:()=>r});const r={NONE:"none",WHEN_DUE:"0",TEN_MINUTES_BEFORE:"-10",ONE_HOUR_BEFORE:"-60",NINE_AM_DAY_OF:"9am",NINE_AM_DAY_BEFORE:"9am_-1_day"}},56026:(e,t,n)=>{"use strict";n.d(t,{SS:()=>h,Sm:()=>u,bP:()=>a});var r=n(19092),o=n(4193);const i=[o.v.NONE,o.v.NINE_AM_DAY_OF,o.v.NINE_AM_DAY_BEFORE],s=[o.v.NONE,o.v.WHEN_DUE,o.v.TEN_MINUTES_BEFORE,o.v.ONE_HOUR_BEFORE,o.v.NINE_AM_DAY_OF,o.v.NINE_AM_DAY_BEFORE],a=e=>e?s:i,l=e=>t=>{const n=(0,r.T6)(t);return n.setHours(9),n.setDate(n.getDate()-e),n.getTime()},c=l(0),d=l(1),u=({dueDate:e,dueReminder:t})=>{if(!e)return null;const n=new Date(e),i=n.getTime();switch(t){case o.v.WHEN_DUE:return i;case o.v.TEN_MINUTES_BEFORE:return i-10*r.yu.MINUTE;case o.v.ONE_HOUR_BEFORE:return i-r.yu.HOUR;case o.v.NINE_AM_DAY_OF:return c(n);case o.v.NINE_AM_DAY_BEFORE:return d(n);case o.v.NONE:default:return null}},m=({dueDate:e,hasDueDateTime:t,minimumTimestamp:n})=>{const i=[o.v.NONE];if(t){if(e.getTime()<=n)return i;i.push(o.v.WHEN_DUE);const t=e.getTime();if(n>t-10*r.yu.MINUTE)return i;if(i.push(o.v.TEN_MINUTES_BEFORE),n>t-r.yu.HOUR)return i;i.push(o.v.ONE_HOUR_BEFORE)}const s=(0,r.T6)(e);s.setHours(9);const a=s.getTime();if(n>a)return i;e.getHours()>=9&&i.push(o.v.NINE_AM_DAY_OF);return n>a-r.yu.DAY||i.push(o.v.NINE_AM_DAY_BEFORE),i},p=({dueDate:e,hasDueDateTime:t,minimumTimestamp:n})=>{const r=m({dueDate:e,hasDueDateTime:t,minimumTimestamp:n});return r.includes(o.v["9AM_DAY_OF"])?o.v["9AM_DAY_OF"]:r[r.length-1]},h=({dueDate:e,hasDueDateTime:t,userPersistedDueReminder:n,dueReminder:r,minimumTimestamp:i=Date.now()})=>{if(n===o.v.NONE)return n;const s=m({dueDate:e,hasDueDateTime:t,minimumTimestamp:i});return n&&s.includes(n)?n:r===o.v.NONE?p({dueDate:e,hasDueDateTime:t,minimumTimestamp:i}):s.includes(r)?r:p({dueDate:e,hasDueDateTime:t,minimumTimestamp:i})}},25090:(e,t,n)=>{"use strict";n.d(t,{JM:()=>g,QO:()=>p,TN:()=>f,ff:()=>h});var r=n(43831),o=n(19092),i=n(495),s=n(75763),a=n(71154),l=n(80275),c=n(83547),d=n(37407),u=n(60434),m=n(97245);const p=({id:e,sync:t=!0})=>(n,r)=>{const o=r(),a=(0,c.$)(o),l=(0,i.sb)(a,e),p=(0,s.aDg)(l);if(n((0,d.yj)({updateType:m._q.TOGGLE_ASSIGNMENT,id:e,changes:{showAssignments:!p,assignments:null},sync:t})),!p){const t=`task-assignment-${e}-0`;n((0,u.Mw)(t)),n((0,u.sj)({predicateFn:e=>e.startsWith("task")&&e!==t}))}},h=({id:e})=>(t,n)=>{const r=n(),o=(0,c.$)(r),a=(0,i.sb)(o,e);(0,s.aDg)(a)&&t((0,d.yj)({updateType:m._q.TOGGLE_ASSIGNMENT,id:e,changes:{showAssignments:!1,assignments:null}}))},g=({taskId:e,assigneeId:t,assigneeName:n,assigmentTimestamp:a=(0,o.u3)()})=>(o,u)=>{const p=u(),h=(0,c.$)(p),g=(0,i.sb)(h,e),f=(0,s.aDg)(g),E=(0,s.Oh5)(g),v=E&&E.some((e=>(0,r.vg)("assigneeId",e)===t));if(f&&v)return;const b=(0,l.rc)(p);o((0,d.yj)({id:e,updateType:m._q.ASSIGNMENT,changes:{showAssignments:!0,assignments:[{assigneeId:t,assigneeName:n,assignerId:b,assigmentTimestamp:a}]}}))},f=()=>(e,t)=>{const n=t(),r=(0,a.pJ)(n),o=(0,a.a3)(n);return e((0,s.aDg)(o)?(0,u.Mw)(`task-assignment-${r}-0`):p({id:r,sync:!1}))}},74699:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(67294),o=n(68302),i=n.n(o),s=n(10048),a=n(495),l=n(43831),c=n(83547),d=n(87447),u=n(93034),m=n(49508),p=n(23680),h=n(11111),g=n(87952);var f=n(60434);const E=e=>{r.useEffect((()=>{const{elementId:t,popupId:n,dispatch:r,dispatchSetFocusToPopupInput:o}=e,E=r((({elementId:e})=>(t,n)=>{const r=n(),o=(0,d.Sp)(r);if(1!==(0,l.kE)(o))return!1;const i=t((0,g.Y2)({elementId:e}));return i?o.first()===i:(s.Z.warning("Unable to find Task's parent Task List",e),!1)})({elementId:t}));return E||r((0,p.yJ)()),o&&o({elementId:t}),()=>{r((({elementId:e,initiallyEditing:t})=>(n,r)=>{if(!t)return n((0,p.gR)(e));i()((()=>{const t=r(),o=(0,c.$)(t),i=(0,d.Sp)(t);if(1!==(0,l.kE)(i))return n((0,p.gR)(e));const s=i.first(),g=(0,a.sb)(o,s);if(!(0,h.k8)(g))return n((0,p.gR)(e));const f=(0,m.eA)(t);if(!(0,u.T)(f,e).includes(s))return n((0,p.gR)(e));n((0,p.il)(e))}))})({elementId:t,initiallyEditing:E})),r((0,f.j4)(n,!1))}}),[])}},87952:(e,t,n)=>{"use strict";n.d(t,{Y2:()=>l,YJ:()=>c,we:()=>a});var r=n(37407),o=n(83547),i=n(495),s=n(97245);const a=({id:e,isComplete:t,transactionId:n})=>o=>o((0,r.yj)({id:e,updateType:s._q.TOGGLE_COMPLETION,changes:{isComplete:t},transactionId:n})),l=({elementId:e})=>(t,n)=>{const r=n(),s=(0,o.$)(r);return(0,i.ed)(s,e)},c=({elementId:e})=>(t,n)=>{const r=n(),s=(0,o.$)(r),a=(0,i.ed)(s,e);return(0,i.sb)(s,a)}},85823:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});var r=n(43831);const o=e=>!!(0,r.P2)(["content","isComplete"],e)},76045:(e,t,n)=>{"use strict";n.d(t,{EN:()=>Y,b7:()=>Q,wD:()=>J,PU:()=>X,yt:()=>se,th:()=>ne,mJ:()=>te,uD:()=>oe,jT:()=>de,t4:()=>ce,L6:()=>ae,lE:()=>re,T:()=>le,Cv:()=>ie});var r=n(68302),o=n.n(r),i=n(43831),s=n(65068),a=n.n(s),l=n(52151),c=n.n(l),d=n(71762),u=n.n(d),m=n(69937),p=n.n(m),h=n(55606),g=n.n(h),f=n(54061),E=n.n(f);const v=e=>t=>n=>Object.assign({},n,{[e]:n[e]+t}),b=v("key"),y=v("offset"),I=(e,t)=>{if(!e)return t;if(!t)return e;const n=(0,i.su)(e),r=(0,i.su)(t),o=n.entityMap,s=g()(n.entityMap),l=b(s),d=E()(r.entityMap,((e,t,n)=>(e[parseInt(n,10)+s]=t,e)),Object.assign({},o)),m=r.blocks.map((e=>Object.assign({},e,{entityRanges:e.entityRanges.map(l)}))),h=n.blocks.length>1?a()(n.blocks,n.blocks.length-1):[],f=c()(n.blocks),v=f.text.length,I=y(v),C=p()(m),S=m.length>1?u()(m):[],T=Object.assign({},C,{entityRanges:C.entityRanges.map(I),inlineStyleRanges:C.inlineStyleRanges.map(I)});var w,O;return{blocks:[...h,(w=f,O=T,Object.assign({},w,{data:Object.assign({},O.data,w.data),entityRanges:w.entityRanges.concat(O.entityRanges),inlineStyleRanges:w.inlineStyleRanges.concat(O.inlineStyleRanges),text:w.text+O.text})),...S],entityMap:d}};var C=n(9041),S=n(29743);const T=(e,t)=>{const n=(0,i.vg)("blocks",e);if(!n)return null;const r=(0,i.kE)(n);if(!r)return null;const o=(0,i.vg)(r-1,n),s=(0,i.vg)("key",o),a=(0,i.vg)("text",o),l=a&&a.length||0,c=(0,S.Z)(0,l,t);return C.SelectionState.createEmpty(s).merge({anchorKey:s,anchorOffset:c,focusKey:s,focusOffset:c,isBackward:!1,hasFocus:!0})};var w=n(75763),O=n(60658),_=n(495),R=n(11111),A=n(26138),D=n(95521),N=n(48421),x=n(90693),M=n(60817);var P=n(62107),L=n(60742),k=n(85823),F=n(24389),B=n(23680),j=n(73141),z=n(37407),U=n(79319),H=n(68468),Z=n(49508),G=n(81410),K=n(71154),W=n(73440),V=n(75188),$=n(56860),q=n(97245);const Y=6,X=e=>(t,n)=>{const{location:r,content:o,currentBoardId:i,transactionId:s=(0,L.k)(),creationSource:a}=e,l=n(),c=(0,H.$3)(l),{parentId:d}=r,u=(0,_.sb)(c,d);if((0,R.PG)(u)){const e=(0,R.N2)(u)?u:(0,A.nH)(c,d);return t((0,B.uX)({ids:[e]})),t((0,z.bc)({elementType:W.A,location:r,transactionId:s,select:!1}))}return t((0,z.C8)({elementType:V.Kl,location:r,content:o,currentBoardId:i,transactionId:s,creationSource:a})).then((e=>t((0,z.bc)({elementType:W.A,location:(0,O.mK)({listId:e}),transactionId:s,creationSource:a,select:!1}))))},Q=e=>(t,n)=>t((0,z.bc)(Object.assign({},e,{content:Object.assign({[V.SZ]:!0},e.content),elementType:V.Kl,select:!0}))).then((n=>{const r=(0,O.mK)({listId:n});return t((0,z.Yn)({elementType:W.A,location:r,currentBoardId:e.currentBoardId,select:!0})),n})),J=({elementId:e,transactionId:t=(0,L.k)(),insertBefore:n,content:r,selection:s,dispatchSaveEditorSelection:a,isFocusedForegroundElement:l})=>(c,d)=>{const u=d(),m=(0,G.s4)(u),p=(0,H.$3)(u),h=(0,_.sb)(p,e),g=(0,w.CKs)(h),f=(0,Z.pD)(u),E=(0,x.uV)({elements:p,elementGraph:f,parentId:g,sortFn:D.bj,section:$.WI.INBOX}).toList().indexOf(h),v=n?E:E+1,b=(0,O.mK)({listId:g,index:v}),y=c((0,z.Yn)({elementType:W.A,location:b,currentBoardId:m,select:!n,transactionId:t,content:r})),I=(0,N.Bs)({graph:f,parentId:e});if(!n){const e=I.filter((e=>{const t=(0,_.sb)(p,e);return(0,R.N2)(t)})).map(((e,t)=>({id:e,location:(0,O.mK)({listId:y,index:t})})));(0,i.xb)(e)||c((0,F.Zq)({moves:e,transactionId:t,moveOperation:q.Pm.TASK}))}const C=d(),S=(0,H.$3)(C),T=(0,_.sb)(S,y),A=(0,P.s6)({element:T,isFocusedForegroundElement:l});if(s&&a&&a({editorId:A,selection:s}),!n){const e=()=>{c((0,B.TV)({id:y,editorId:A,editorKey:(0,P.iS)({element:T,isFocusedForegroundElement:l}),transactionId:t,canUndo:!0}))};o()(e)}return y},ee=e=>({elementId:t,dispatchSaveEditorSelection:n,isFocusedForegroundElement:r})=>(o,s)=>{const a=s(),l=(0,H.$3)(a),c=(0,Z.pD)(a),d=(0,A.st)(e)({elementId:t,elements:l,elementGraph:c});if(!d)return;const u=(0,R.k8)(d),m=(0,P.s6)({element:d,isFocusedForegroundElement:r}),p=(0,P.iS)({element:d,isFocusedForegroundElement:r});if(u&&!(0,M.u3)(d))return;const h=(0,w.FBA)(d);if(e){const e=(e=>{const t=(0,i.vg)("blocks",e);if(!t)return null;const n=(0,i.vg)(0,t),r=(0,i.vg)("key",n);return C.SelectionState.createEmpty(r).merge({anchorKey:r,anchorOffset:0,focusKey:r,focusOffset:0,isBackward:!1,hasFocus:!0})})(h);n&&n({editorId:m,selection:e})}o((0,B.TV)({id:(0,w.nRF)(d),editorId:m,editorKey:p}))},te=ee(!1),ne=ee(!0),re=({currentBoardId:e,elementId:t,focusAnotherTask:n,forward:r,transactionId:o=(0,L.k)(),isFocusedForegroundElement:s})=>(n,a)=>{const l=a(),c=(0,K.pJ)(l),d=t===c,u=(0,H.$3)(l),m=(0,A.nH)(u,t),p=(0,_.sb)(u,t),h=(0,Z.pD)(l),g=(0,x.CB)({elements:u,elementGraph:h,parentId:m}).toList(),f=g.indexOf(p);if(1===g.size&&-1!==f){const r=(0,_.sb)(u,m);if((0,M.u3)(r)&&(0,w.YQ0)(r)){n((0,j.fC)({currentBoardId:e,elementId:t,keepSelection:!0,transactionId:o}));return void(d&&(()=>{n((0,B.TV)({id:(0,w.nRF)(r),editorId:(0,P.s6)({element:r,isFocusedForegroundElement:s}),editorKey:(0,P.iS)({element:r,isFocusedForegroundElement:s}),transactionId:o}))})())}return n((0,j.fC)({currentBoardId:e,elementId:m,keepSelection:!1,transactionId:o}))}let E=r?(0,A.C3)({elementId:t,elements:u,elementGraph:h})||(0,A.jA)({elementId:t,elements:u,elementGraph:h}):(0,A.jA)({elementId:t,elements:u,elementGraph:h})||(0,A.C3)({elementId:t,elements:u,elementGraph:h});(0,R.k8)(E)&&(E=(0,A.C3)({elementId:t,elements:u,elementGraph:h}));const v=(0,w.nRF)(E),b=(0,N.Bs)({graph:h,parentId:t});if(!(0,i.xb)(b)&&v){const e=b.map(((e,t)=>({id:e,location:(0,O.mK)({listId:v,index:t})})));n((0,F.Zq)({moves:e,transactionId:o,moveOperation:q.Pm.TASK}))}if(E&&d){(()=>{n((0,B.TV)({id:v,editorId:(0,P.s6)({element:E,isFocusedForegroundElement:s}),editorKey:(0,P.iS)({element:E,isFocusedForegroundElement:s}),transactionId:o,canUndo:!0}))})()}n((0,j.fC)({currentBoardId:e,elementId:t,keepSelection:!0,transactionId:o}))},oe=({elementId:e,dispatchSaveCurrentSelection:t})=>(n,r)=>{t();const o=r(),i=(0,H.$3)(o),s=(0,A.nH)(i,e),a=(0,Z.pD)(o),l=(0,x.I5)({elements:i,elementGraph:a,elementId:e,sortFn:D.bj});if(!l)return;const c=(0,_.hh)(i,s,e),d=Y-c;if(d<1)return;const u=(0,x.vp)({elements:i,elementGraph:a,startElementId:e,elementSortFn:D.bj}),m=(0,N.sI)(u,e),p=(0,w.nRF)(l),h=(0,x.CB)({elements:i,elementGraph:a,parentId:p}).size;let g=null;g=1===d?m.map(((e,t)=>({id:e.id,location:(0,O.mK)({listId:p,index:h+t})}))):m.filter((e=>e.depth>=d)).reduce(((e,t)=>{const n=(0,_.YS)(t.depth-d+2)(i,t.id),r=(0,w.nRF)(n),o=(0,x.CB)({elements:i,elementGraph:a,parentId:r}).size+e.filter((e=>e.location.parentId===r)).length;return e.push({id:t.id,location:(0,O.mK)({listId:r,index:o})}),e}),[{id:e,location:(0,O.mK)({listId:p,index:h})}]),n((0,F.Zq)({moves:g,moveOperation:q.Pm.TASK}))},ie=({elementId:e,dispatchSaveCurrentSelection:t})=>(n,r)=>{t();const o=r(),i=(0,H.$3)(o),s=(0,_.sb)(i,e),a=(0,_.G_)(i,e),l=(0,_.re)(i,e);if(!a||!l||!(0,R.k8)(l)&&!(0,R.N2)(l))return;const c=(0,Z.pD)(o),d=(0,w.nRF)(l),u=(0,x.CB)({elements:i,elementGraph:c,parentId:d}).sort(D.bj).toList().indexOf(a),m=[{id:e,location:(0,O.mK)({listId:d,index:u+1})}],p=(0,w.nRF)(a),h=(0,x.CB)({elements:i,elementGraph:c,parentId:p}).sort(D.bj).toList(),g=h.indexOf(s),f=(0,N.Bs)({graph:c,parentId:e});h.filter(((e,t)=>t>g)).forEach(((t,n)=>{m.push({id:(0,w.nRF)(t),location:(0,O.mK)({listId:e,index:n+f.length})})})),n((0,F.Zq)({moves:m,moveOperation:q.Pm.TASK}))},se=({taskListId:e})=>(t,n)=>{const r=n(),o=(0,H.$3)(r),i=(0,Z.pD)(r);return(0,x.QF)({elements:o,elementGraph:i,parentId:e}).filter((e=>(0,R.N2)(e)&&(0,k.P)(e)))},ae=({taskListId:e})=>(t,n)=>{const r=t(se({taskListId:e}));if(!r||!r.size)return;const o=n(),i=(0,G.s4)(o);t((0,j.fC)({elements:r.toList(),currentBoardId:i}))},le=({taskListId:e})=>(t,n)=>{const r=n(),o=(0,H.$3)(r),i=(0,Z.pD)(r),s=(0,A.C3)({elements:o,elementGraph:i,elementId:e});if(!s)return t((0,B.yJ)());const a=(0,w.FBA)(s);return t((0,U.Z)(a)?(0,B.yJ)():ne({elementId:e}))},ce=({elementId:e,textContent:t,dispatchSaveEditorSelection:n,currentBoardId:r,isEditable:o,isFocusedForegroundElement:s})=>(a,l)=>{const c=l(),d=(0,H.$3)(c),u=(0,Z.pD)(c),m=(0,A.jA)({elements:d,elementId:e,elementGraph:u});if(!(0,R.N2)(m))return;const p=(0,w.nRF)(m),h=(0,w.FBA)(m),g=I(h,t),f=(0,L.k)();a((0,z.yj)({id:p,changes:{textContent:g},transactionId:f})),a((0,j.fC)({isEditable:o,currentBoardId:r,elementId:e,keepSelection:!0,transactionId:f}));const E=(0,x.CB)({elements:d,elementGraph:u,parentId:e}).sort(D.bj).toList();if(!(0,i.xb)(E)){const e=E.map(((e,t)=>({id:(0,w.nRF)(e),location:(0,O.mK)({listId:p,index:t})}))).toArray();a((0,F.Zq)({moves:e,transactionId:f,moveOperation:q.Pm.TASK}))}const v=(0,i.P2)(["blocks",0,"text"],h),b=v?v.length:0,y=(0,P.s6)({element:m,isFocusedForegroundElement:s}),C=T(g,b);n({editorId:y,selection:C});a((0,B.TV)({id:(0,w.nRF)(m),editorId:y,editorKey:(0,P.iS)({element:m,isFocusedForegroundElement:s})}))},de=({elementId:e,textContent:t,dispatchSaveEditorSelection:n,currentBoardId:r,isEditable:s,isFocusedForegroundElement:a})=>(l,c)=>{const d=c(),u=(0,H.$3)(d),m=(0,_.sb)(u,e),p=(0,Z.pD)(d),h=(0,A.C3)({elements:u,elementId:e,elementGraph:p});if(!(0,R.N2)(h))return;const g=(0,w.nRF)(h),f=(0,x.CB)({elements:u,elementGraph:p,parentId:g}).sort(D.bj).toList(),E=(0,w.FBA)(h),v=I(t,E),b=(0,L.k)();l((0,B.gR)(e)),o()((()=>{if(l((0,z.yj)({id:e,changes:{textContent:v},transactionId:b})),l((0,j.fC)({isEditable:s,currentBoardId:r,elementId:g,keepSelection:!0,transactionId:b})),!(0,i.xb)(f)){const t=f.map(((t,n)=>({id:(0,w.nRF)(t),location:(0,O.mK)({listId:e,index:n})}))).toArray();l((0,F.Zq)({moves:t,transactionId:b,moveOperation:q.Pm.TASK}))}const o=(0,i.P2)(["blocks",0,"text"],t),c=o?o.length:0,d=(0,P.s6)({element:m,isFocusedForegroundElement:a}),u=T(v,c);n({editorId:d,selection:u}),l((0,B.TV)({id:(0,w.nRF)(m),editorId:d,editorKey:(0,P.iS)({element:m,isFocusedForegroundElement:a})}))}))}},60817:(e,t,n)=>{"use strict";n.d(t,{F7:()=>s,rz:()=>a,u3:()=>i});var r=n(43831),o=n(75188);const i=(0,r.P2)(["content",o.SZ]),s=(0,r.P2)(["content",o.Qm]),a=(0,r.P2)(["content",o.oW])},13784:(e,t,n)=>{"use strict";n.d(t,{dW:()=>p,yp:()=>d,yy:()=>m,zm:()=>u});var r=n(68738),o=n.n(r),i=n(49870),s=n(8686),a=n(74830),l=n(18952),c=n(30402);const d=(e,t)=>{if(!o()(e)){return(0,l.BD)(e)?(0,l.sY)(e):null}const n=(0,a.Rc)(e,t);return n?n.css:(0,s.MD)(e)?e:null},u=(e,t,n=c.MN)=>{if(!e)return t?"var(--ui-text-color-opposite-to-canvas)":"var(--ui-text-color-match-canvas)";const r=o()(e)?e:(0,l.F1)(e);return(0,i.Qr)(r,t,n)?"var(--ws-element-dark-text-on-color)":"var(--ws-element-light-text-on-color)"},m=e=>e===c.DM.GREY.name?"var(--ui-text-color-opposite-to-canvas)":u(e,!1),p=(e,t=!0,n=c.Jf)=>{if(!e)return;const r=(0,i.Qr)(e,t,n);return{"colored-background":!0,"colored-background-light":r,"colored-background-dark":!r}}},62107:(e,t,n)=>{"use strict";n.d(t,{GL:()=>d,N5:()=>h,iS:()=>p,s6:()=>m,xI:()=>g,zj:()=>u});var r=n(11111),o=n(75763),i=n(6690),s=n(83263),a=n(11535),l=n(96886),c=n(54301);const d=({isFocusedForegroundElement:e,isModalView:t,editorKey:n},r)=>(n=n||r,e?`${n}-FOCUS`:t?`${n}-MODAL`:n),u=(e,t)=>`${(0,o.nRF)(e)}-${t}`,m=e=>{const{element:t}=e;return d(e,(e=>u(e,(0,o.BGE)(e)))(t))},p=e=>{const{element:t}=e;return d(e,(e=>{let t=(0,o.BGE)(e);switch((0,r.vu)(e)&&(t=(0,o.k4p)(e)),t){case i.xE:return"LINK_TITLE";case a.KY:return a.gD;case l.tE:return l.H1;case c.vj:return c.e0;default:return(0,o.BGE)(e)}})(t))},h=e=>{const{element:t}=e,n=u(t,s.h);return d(e,n)},g=e=>d(e,s.h)},13984:(e,t,n)=>{"use strict";n.d(t,{X:()=>c,q:()=>d});var r=n(30179),o=n.n(r),i=n(42981),s=n.n(i),a=n(59854),l=n.n(a);const c=({val:e,min:t,max:n,isRelative:r=!1,gridSize:o,buffer:i=o/2})=>{if(e<t+i)return"0%";if(e>n-i)return"100%";const s=(n+t)/2;if(e>s-i/2&&e<s+i/2)return"50%";if(r){return`${l()((e-t)/(n-t)*100,2)}%`}return`${l()((e-t)/o,2)}rem`},d=(e,t,n,r=1)=>{if(!e||!isNaN(e))return null;if(o()("%",e)){const r=parseFloat(e.substring(0,e.length-1));return isNaN(r)?null:r/100*(n-t)}if(o()("rem",e)){const o=parseFloat(e.substring(0,e.length-3));return isNaN(o)?null:s()(t,t+o*r,n)}return null}},61473:(e,t,n)=>{"use strict";n.d(t,{Gn:()=>p,Nn:()=>u,Oc:()=>d,UX:()=>g,tw:()=>h,uR:()=>m});var r=n(94184),o=n.n(r),i=n(43831),s=n(9300),a=n(75763),l=n(97245),c=n(12761);const d=e=>`el-${e}`,u=e=>m(e)<l.F9,m=({element:e,tempSize:t,inList:n,parentWidthGU:r})=>n===c.L.IN_LIST_COLUMN?r||l.cv:(0,i.vg)("width",t)||(0,a.dzi)(e)||l.cv,p=e=>{const{gridSize:t,inList:n}=e,r=m(e);return n===c.L.IN_LIST_COLUMN?(0,s.wh)(r,t)-(0,s.wh)(2,t):(0,s.wh)(r,t)-2},h=e=>e===c.L.IN_LIST_COLUMN?0:2,g=(e,t,n)=>{const{isFocusedBackgroundElement:r,inList:i,isEditing:s,isEditable:a,isSelected:l,isSingleSelected:c,isRemotelySelected:d,isAttachingInside:m,isConnectingLineEdgeInside:p,isConnectingLineEdgeInsideChild:h,shouldFocusOnlyWhenSelected:g,isHovered:f,canDrop:E,className:v,isLocked:b,isLineEdgeHovered:y,transparent:I,isResizing:C,forceCanDrop:S}=t;return o()(e,i,v,Object.assign({},n,{editing:s,editable:a,selected:l,"being-focused":r,"selected-single":c,"remote-selected":d,"can-drop":S||f&&E,locked:b,"line-edge-can-drop":y,"attach-mode":m,"line-edge-connect-inside":p,"line-edge-connect-inside-child":h,transparent:I,resizing:C,"focus-editing":g&&s,"minimum-width":u(t),"element-in-list":i}))}},21150:(e,t,n)=>{"use strict";n.a(e,(async(e,t)=>{try{var r=n(74145),o=e([r]);r=(o.then?(await o)():o)[0],t()}catch(i){t(i)}}))},34595:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});const r={IOS_BOARD_LIST:"HybridUseCase.IOS_BOARD_LIST",IOS_CANVAS:"HybridUseCase.IOS_CANVAS",ANDROID_BOARD_LIST:"HybridUseCase.ANDROID_BOARD_LIST",IPAD_OS:"HybridUseCase.IPAD_OS"}},68071:(e,t,n)=>{"use strict";n.d(t,{CN:()=>d,L7:()=>a,YF:()=>c,Z$:()=>i,ZS:()=>l,cE:()=>s,uT:()=>m});var r=n(69e3),o=n(34595);const i=()=>!1,s=()=>!1,a=()=>s()||i(),l=()=>m()===o.Q.IPAD_OS,c=()=>{switch(m()){case o.Q.IOS_CANVAS:case o.Q.IOS_BOARD_LIST:return!0;default:return!1}},d=()=>m()===o.Q.ANDROID_BOARD_LIST,u="milanote.hybridUseCase",m=()=>r.Z.getItem(u)},6304:(e,t,n)=>{"use strict";n.d(t,{Jz:()=>s,K5:()=>c,KJ:()=>o,Mu:()=>i,Xf:()=>a,jy:()=>l,w9:()=>r});const r="HYBRID_APP_ENTER_FOREGROUND",o="HYBRID_APP_ENTER_BACKGROUND",i="HYBRID_APP_DID_BECOME_ACTIVE",s="HYBRID_APP_RESIGN_ACTIVE",a=999,l={PENCIL_DOUBLE_TAP:"pencildbltap"},c={ignore:"ignore",switchEraser:"switchEraser",switchPrevious:"switchPrevious",showColorPalette:"showColorPalette"}},24676:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});const r={ELEMENT_SELECTED:"HYBRID_ELEMENT_SELECTED",ELEMENT_EDIT_START:"HYBRID_ELEMENT_EDIT_START",LAUNCH_APPLE_SUBSCRIPTION_STORE:"HYBRID_LAUNCH_APPLE_SUBSCRIPTION_STORE",LAUNCH_APPLE_MANAGE_SUBSCRIPTION_VIEW:"HYBRID_LAUNCH_APPLE_MANAGE_SUBSCRIPTION_VIEW",PRESENT_MODAL_IMAGE:"HYBRID_PRESENT_MODAL_IMAGE",PRESENT_MODAL_PDF:"HYBRID_PRESENT_MODAL_PDF",PRESENT_MODAL_SKETCH:"HYBRID_PRESENT_MODAL_SKETCH",REDO:"HYBRID_REDO",UNDO:"HYBRID_UNDO",USER_NAVIGATE:"HYBRID_USER_NAVIGATE"}},26692:(e,t,n)=>{"use strict";var r=n(36609),o=n(91072),i=n(1352),s=n(27016);r.ZP.use(o.Db).use(i.Z).use((0,s.Z)(((e,t)=>n(37832)(`./${e}/${t}.json`)))).init({fallbackLng:"en",debug:!1,load:"languageOnly",react:{transSupportBasicHtmlNodes:!1},ns:["checkout"],detection:{order:["navigator"]}})},66445:(e,t,n)=>{"use strict";n.d(t,{Os:()=>y,XJ:()=>b,NP:()=>C,ef:()=>I});var r=n(35161),o=n.n(r),i=n(49508),s=n(495),a=n(90693),l=n(60742),c=n(37407),d=n(83547),u=n(11111),m=n(75763),p=n(56860);const h=e=>t=>(0,m.NaL)(t)===e,g=h(p.Mu.OPEN),f=h(p.Mu.CLOSED);var E=n(19092),v=n(19962);const b=({id:e,sync:t=!0,transactionId:n=(0,l.k)(),setInboxAutomaticOpenTimestamp:r=!1})=>(0,c.yj)({id:e,changes:{inbox:v.Mu.OPEN,inboxAutomaticOpenTimestamp:r?(0,E.u3)():null},sync:t,transactionId:n}),y=({id:e,sync:t=!0,transactionId:n=(0,l.k)()})=>(0,c.yj)({id:e,changes:{inbox:v.Mu.CLOSED,inboxAutomaticOpenTimestamp:null},sync:t,transactionId:n}),I=({moves:e,transactionId:t=(0,l.k)()})=>(n,r)=>{const l=r(),h=e.reduce(((e,t)=>{const n=t.from,r=t.location;return((e,t,n)=>{if(t.section!==p.WI.INBOX)return!1;if(t.parentId===e.parentId&&e.section===p.WI.INBOX)return!1;const r=(0,d.$)(n),o=(0,s.sb)(r,t.parentId);if(!(0,u.pi)(o))return!1;if(f(o))return!1;const l=(0,i.pD)(n),c=(0,a.Ff)({elements:r,elementGraph:l,parentId:t.parentId}),h=(0,m.kKk)(o);if(c.size>0&&!h)return!1;const g=c.map((e=>e.getIn(["meta","locationSectionModifiedTime"]))).toArray().filter((e=>e)).some((e=>e+v.oo>h));return!(c.size>0&&g)})(r,n,l)&&(e[n.parentId]=v.Mu.CLOSED),((e,t,n)=>{if(e.section===p.WI.CANVAS)return!1;if(t.parentId===e.parentId)return!1;if(-1!==e.parentId.indexOf("trash"))return!1;const r=(0,d.$)(n),o=(0,s.sb)(r,e.parentId);return!!(0,u.pi)(o)&&!g(o)})(r,n,l)&&(e[r.parentId]=v.Mu.OPEN),e}),{}),b=o()(h,((e,t)=>{const n={inbox:e};return e===v.Mu.OPEN&&(n.inboxAutomaticOpenTimestamp=(0,E.u3)()),{id:t,changes:n}}));0!==b.length&&n((0,c.Az)({updates:b,transactionId:t}))},C=({location:e,transactionId:t=(0,l.k)()})=>(n,r)=>{const o=r(),i=((e,t)=>{const{parentId:n,section:r}=e;if(r!==p.WI.INBOX)return!1;const o=(0,d.$)(t),i=(0,s.sb)(o,n);return!!(0,u.pi)(i)&&!g(i)})(e,o);i&&n(b({id:e.parentId,transactionId:t,setInboxAutomaticOpenTimestamp:!0}))}},19962:(e,t,n)=>{"use strict";n.d(t,{Mu:()=>r.Mu,oo:()=>o});var r=n(56860);const o=200},53107:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(11111),o=n(75763),i=n(12840),s=n(97245);const a=(e,t,n)=>{const a=(0,i.F)(e,t,n);if(t.getItemType()!==s.XX)return Object.assign({},a);const{draggedElements:l}=t.getItem(),c=l.filter((e=>!((0,r.P7)(e)||(0,r.Iw)(e)&&(0,o.esd)(e)))).map((e=>(0,o.nRF)(e)));return Object.assign({},a,{acceptedElementIds:c})}},98061:(e,t,n)=>{"use strict";n.d(t,{Ox:()=>i,WX:()=>l,Yp:()=>a});var r=n(99699);const o="milanote.returnState.inbox",i=()=>{n.g.sessionStorage&&sessionStorage.removeItem(o)},s=()=>{if(!n.g.sessionStorage)return null;try{const e=sessionStorage.getItem(o);return e?JSON.parse(e):null}catch(e){return null}},a=e=>{if(!n.g.sessionStorage)return null;const t=s();return(null==t?void 0:t[e])||null},l=(e,t)=>{if(!n.g.sessionStorage)return;const i=s()||{};delete i[e];const a=(0,r.C)(Object.assign({},i,{[e]:t}),100);sessionStorage.setItem(o,JSON.stringify(a))}},74145:(e,t,n)=>{"use strict";n.a(e,(async(e,t)=>{try{var r=n(67294),o=n(73935),i=n(61409),s=n(33311),a=n(43393),l=n(75933),c=n.n(l),d=(n(26692),n(57789),n(4671)),u=n(68071),m=n(57059),p=n(78453),h=n(75390),g=n(41585),f=n(16273),E=n(50335),v=n(98173),b=n(30413);n(35434),n(87995),n(57231);if(c().load({custom:{families:["Inter:n4,i4,n6,i6","RobotoMono:n4","Tiempos-semibold:n7"]}}),console.log("%cWelcome to %cMilanote","font-size: 18px; font-family: Tiempos",'color: #f4511c; font-size: 18px; font-family: "Tiempos", Times, serif; font-weight: 600;'),(0,E.Bg)(),(0,E.Od)()){n(44620).default(a)}const e=(0,u.L7)()?i.nA:i.mW,y=(0,g.Z)(),I=(0,m.Z)(),C=(0,h.Z)(),S=await(0,v.OS)()||a.Map(),T=(0,d.Z)(S,e,{measurementsStore:C,editorStore:I});p.Ad(T),(0,f.ZP)(T);const w={selectLocationState:e=>e.get("routing")},O=(0,s.h1)(e,T,w),_=document.getElementById("app");o.render(r.createElement(b.Z,{store:T,history:O,liveCollaborationStore:y,measurementsStore:C,editorStore:I}),_),t()}catch(y){t(y)}}),1)},55458:(e,t,n)=>{"use strict";n.d(t,{Z:()=>K});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s),l=n(17996),c=r.createElement("div",{className:"ListDropPreview"},r.createElement("div",{className:"preview-line"}));const d=e=>c,u=r.createElement("div",{className:"default-placeholder"},r.createElement("div",{className:"background"})),m=e=>r.createElement("div",{className:a()("EmptyListPlaceholder",{hovered:e.isHovered})},e.placeholderComponent?e.placeholderComponent:u);m.propTypes={isHovered:i().bool,placeholderComponent:i().element};const p=m;var h=n(12761),g=r.createElement(d,{key:"dropPreview"});const f=e=>{const{childElementIds:t,isHovered:n,isHoveredDeep:o,hoveredChildAcceptsDrop:i,isPresentational:s,inTrash:c,isPreview:d,isFocusedForegroundElement:u,renderHighQualityImages:m,registerListElement:f,deregisterListElement:E,hoveredIndex:v,gridSize:b,getContextZoomScale:y,inListClass:I,currentBoardId:C,depth:S=0,documentMode:T,deselectAll:w,createShortcutElement:O,createShortcutCard:_,createShortcutFile:R,createShortcutLink:A,createShortcutImageLink:D,permissions:N,listElementProps:x,setParentHoveredChildAcceptsDrop:M,getListIndex:P,listStartChild:L,listEndChild:k}=e;let F=0;const B=n||o&&!i,j=B&&null!==v&&t.length>0?[...t.slice(0,v),"preview",...t.slice(v)]:t,z=a()("List",`depth-${S}`),U=j.map((e=>{if("preview"===e)return g;const t=F;return F++,r.createElement(l.Z,Object.assign({},x,{key:e,elementId:e,gridSize:b,getContextZoomScale:y,inList:I||h.L.IN_LIST_COLUMN,isFocusedForegroundElement:u,inTrash:c,isPreview:d,renderHighQualityImages:m,currentBoardId:C,isPresentational:s,registerListElement:f,deregisterListElement:E,deselectAll:w,createShortcutElement:O,createShortcutCard:_,createShortcutFile:R,createShortcutLink:A,createShortcutImageLink:D,isFirstEntry:0===t,getListIndex:P,documentMode:T,permissions:N,setParentHoveredChildAcceptsDrop:M}))})),H=L?r.cloneElement(L,{setParentHoveredChildAcceptsDrop:M}):null,Z=k?r.cloneElement(k,{setParentHoveredChildAcceptsDrop:M}):null;return r.createElement(r.Fragment,null,H,r.createElement("div",{className:z},0===t.length?r.createElement(p,Object.assign({},e,{isHovered:B})):U),Z)};f.propTypes={listId:i().string.isRequired,currentBoardId:i().string.isRequired,childElementIds:i().array.isRequired,permissions:i().number,connectDropTarget:i().func,isHovered:i().bool,isHoveredDeep:i().bool,hoveredChildAcceptsDrop:i().bool,hoveredIndex:i().number,isPresentational:i().bool,isFocusedForegroundElement:i().bool,renderHighQualityImages:i().bool,isEditable:i().bool,inTrash:i().bool,isPreview:i().bool,registerListElement:i().func,deregisterListElement:i().func,gridSize:i().number,getContextZoomScale:i().func,inListClass:i().string,documentMode:i().bool,deselectAll:i().func,createShortcutElement:i().func,createShortcutCard:i().func,createShortcutFile:i().func,createShortcutLink:i().func,createShortcutImageLink:i().func,listElementProps:i().object,depth:i().number,setParentHoveredChildAcceptsDrop:i().func,listSize:i().number,getListIndex:i().func,listStartChild:i().node,listEndChild:i().node};const E=f;var v=n(23279),b=n.n(v),y=n(46488),I=n.n(y),C=n(73935),S=n(54688),T=n(28644),w=n(31282);const O=e=>{if(!e)return!1;const t=window.getComputedStyle(e);return!!t&&("scroll"===t.overflowY||"auto"===t.overflowY)};var _=n(60658),R=n(28036),A=n(33884),D=n(18260),N=n(97245);const x={onDoubleClick:({createShortcutCard:e,getRangeArray:t,listId:n,currentBoardId:r,isEditable:o,getContextZoomScale:i})=>s=>{if(!o||!e)return;s.preventDefault(),s.stopPropagation();const a=i(),l=window.getComputedStyle(s.currentTarget)&&window.getComputedStyle(s.currentTarget).paddingTop,c=l?parseInt(l,10)*a:0,d=s.clientY-s.currentTarget.getBoundingClientRect().top-c,u=t(),m=(0,A.Z)(d,u,a),p=(0,_.mK)({listId:n,index:m});e({location:p,currentBoardId:n,creationSource:N.S1.DOUBLE_CLICK}),n===r&&(0,D.Y)("moved-element-to-unsorted-note")}},M=(0,S.qC)((0,S.CA)(x),R.Z);var P=n(80640),L=n(75763),k=n(19092);function F(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B,j=n(14253);function z(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const U=(0,T.zO)("isOverShallow");let H=(e=>{class t extends r.Component{constructor(e){super(e),F(this,"registerListElement",(e=>{this.listElements.push(e)})),F(this,"deregisterListElement",(e=>{const t=this.listElements.indexOf(e);-1!==t&&this.listElements.splice(t,1)})),F(this,"clearRangeArray",(()=>{this.rangeArray=null})),F(this,"getRangeArray",((e=1/0)=>((!this.rangeArray||this.cacheTime<e)&&(this.cacheTime=(0,k.u3)(),this.rangeArray=this.listElements.map((e=>({id:e.props.elementId||(0,L.nRF)(e.props.element),range:e.getRange()}))).sort(((e,t)=>e.range-t.range))),this.rangeArray))),this.cacheTime=0,this.listElements=[],this.rangeArray=null}render(){return r.createElement(e,Object.assign({},this.props,{getRangeArray:this.getRangeArray,registerListElement:this.registerListElement,deregisterListElement:this.deregisterListElement}))}}return t.propTypes={measurements:i().object},t})(B=(0,S.WY)((({enableDoubleClick:e=!0})=>e),M,I())(B=(0,P.ZP)(B=class extends r.Component{constructor(e){super(e),z(this,"onScroll",(()=>{this.boundingRectTop=null})),z(this,"debouncedOnScroll",b()(this.onScroll,50)),z(this,"getBoundingRectTop",((e=1/0)=>((!this.boundingRectTop||this.boundingRectTopCacheTime<e)&&(this.boundingRectTop=this.listContainerElement.getBoundingClientRect().top,this.boundingRectTopCacheTime=(0,k.u3)()),this.boundingRectTop))),z(this,"getOffsetTop",((e=1/0)=>{if(null===this.offsetTop||this.offsetTopCacheTime<e){const e=this.listContainerElement,t=window.getComputedStyle(e)&&window.getComputedStyle(e).paddingTop;this.offsetTop=t?parseInt(t,10):0,this.offsetTopCacheTime=(0,k.u3)()}return this.offsetTop})),z(this,"setHoveredChildAcceptsDrop",(e=>{const{isHoveredDeep:t,setParentHoveredChildAcceptsDrop:n}=this.props;this.setState({hoveredChildAcceptsDrop:e});n&&n(t&&!e||e)})),z(this,"getListIndex",(e=>{const{childElementIds:t}=this.props;return t?t.indexOf(e):0})),this.offsetTop=null,this.offsetTopCacheTime=0,this.boundingRectTop=null,this.boundingRectTopCacheTime=0,this.state={hoveredIndex:null,hoveredChildAcceptsDrop:!1}}componentDidMount(){var e;this.listContainerElement=C.findDOMNode(this),this.scrollableElements=(e=this.listContainerElement,(0,w.Z)(e).filter(O)),this.scrollableElements.forEach((e=>{e&&e.addEventListener("scroll",this.debouncedOnScroll)}))}componentWillReceiveProps(e){const{setParentHoveredChildAcceptsDrop:t,isHovered:n}=e;t&&U(this.props,e)&&t(n)}componentDidUpdate(e){const{childElementIds:t}=this.props;if(!t||!e.childElementIds)return;t!==e.childElementIds&&t.length===e.childElementIds.length&&t.forEach((e=>j.Z.forceElementMeasure(e)))}componentWillUnmount(){this.scrollableElements.forEach((e=>{e&&e.removeEventListener("scroll",this.debouncedOnScroll)}))}render(){const{listContainerRef:e,connectDropTarget:t,inListClass:n,onDoubleClick:o,onMouseDown:i,onMouseUp:s}=this.props,{hoveredIndex:a,hoveredChildAcceptsDrop:l}=this.state;return t(r.createElement("div",{className:"ListContainer","data-long-press-delay":"500",ref:e,onMouseDown:i,onMouseUp:s,onDoubleClick:o},r.createElement(E,Object.assign({},this.props,{getListIndex:this.getListIndex,setParentHoveredChildAcceptsDrop:this.setHoveredChildAcceptsDrop,inListClass:n,hoveredIndex:a,hoveredChildAcceptsDrop:l}))))}})||B)||B)||B;H.propTypes={listId:i().string,childElementIds:i().array.isRequired,currentBoardId:i().string,connectDropTarget:i().func,isHovered:i().bool,isHoveredDeep:i().bool,createShortcutCard:i().func,inListClass:i().string,isEditable:i().bool,onMouseDown:i().func,onMouseUp:i().func,enableDoubleClick:i().bool,onDoubleClick:i().func,setParentHoveredChildAcceptsDrop:i().func,listContainerRef:i().oneOfType([i().object,i().func])};const Z=H,G=e=>{const{isPresentational:t}=e,n=t?E:Z;return r.createElement(n,e)};G.propTypes={listCanDropFn:i().func,isPresentational:i().bool};const K=G},17996:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(67294),o=n(45697),i=n.n(o),s=n(54688),a=n(37974),l=n(22222),c=n(68468),d=n(92918);const u=e=>r.createElement("div",{className:"ListElement"},r.createElement(d.Z,e));u.propTypes={currentBoardId:i().string.isRequired};const m=(0,a.$j)((()=>(0,l.zB)({element:c.sb})))(u);var p=n(73935);class h extends r.Component{constructor(e){super(e),this.getRange=this.getRange.bind(this)}componentDidMount(){const{registerListElement:e}=this.props;e&&e(this)}componentWillUnmount(){const{deregisterListElement:e}=this.props;e&&e(this)}getRange(){const e=(0,p.findDOMNode)(this);return e.offsetTop+e.offsetHeight/2}render(){return r.createElement(m,this.props)}}h.propTypes={element:i().object,currentBoardId:i().string.isRequired,connectDropTarget:i().func,registerListElement:i().func,deregisterListElement:i().func};const g=h,f=e=>{const{isPresentational:t}=e,n=t?m:g;return r.createElement(n,e)};f.propTypes={currentBoardId:i().string.isRequired,isPresentational:i().bool,inList:i().string};const E=(0,s.Le)(f)},33884:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(64721),o=n.n(r);const i=(e,t,n=1,r)=>{let i=0,s=0,a=t[i];for(;a&&e>a.range*n;)i++,o()(r,a.id)||(s=i),a=t[i];return s}},80640:(e,t,n)=>{"use strict";n.d(t,{Z5:()=>_,ZP:()=>D,mq:()=>N});var r=n(42166),o=n(45449),i=n(33884),s=n(43831),a=n(12785),l=n(60658),c=n(28719),d=n(11111),u=n(30854),m=n(60122),p=n(75763),h=n(80583),g=n(52432),f=n(56860),E=n(97245),v=n(91727);const b=(e,t)=>{const{listId:n,childElementIds:r}=e,o=t.getItem(),i=o.index||0===o.index?o.index:(0,s.kE)(r);return(0,l.mK)({listId:n,index:i})},y=(0,c.OG)(b),I=(0,c.Z6)(b),C=(0,c.$V)(b),S=(0,c.gQ)(b),T=(0,c.zh)(b),w=(0,c.EM)(b),O=(0,c.g2)(b),_=(e,t,n)=>{const o=(0,a.R)(t),{element:i}=e;if((0,c.nI)(o,n))return;if(o.getItemType()===c.BV.IMAGE_LINK)return O(e,o,n);if(o.getItemType()===r.FILE)return S(e,o,n);if(o.getItemType()===r.TEXT)return T(e,o,n);if(o.getItemType()===r.URL)return w(e,o,n);if(!(0,d.N2)(i)&&!(0,d.k8)(i)&&(0,u.Z)(e,o))return y(e,o,n);if(((0,d.N2)(i)||(0,d.k8)(i))&&(0,m.Z)(e,o))return I(e,o,n);const s=((e,t)=>{const n=e.element,{draggedElements:r}=t.getItem();return r.filter((e=>!((0,d.P7)(e)||(0,d.t3)(n)&&(0,d.t3)(e)||(0,p.esd)(e)&&(0,d.Iw)(e)))).map(p.nRF)})(e,o);return C(e,o,n,s)},R={drop:_,canDrop:(e,t)=>{const{listCanDropFn:n,permissions:o}=e,i=t.getItem(),s=t.getItemType()===r.FILE?v.Gk:null==i?void 0:i.element,a=(0,h.rA)(s);return n(e,t)&&(0,g.Fs)(a,o)},acceptDropTypes:c.mJ,hover:(e,t,n)=>{if(!n||!t||!t.canDrop())return;const{showPlaceholderForDraggedElement:r=!1,getRangeArray:o,getContextZoomScale:s}=e,a=s(),l=t.getItem(),{element:c,draggedElementIds:d,dragStartTimestamp:u}=l,m=n.getBoundingRectTop(u),h=t.getClientOffset();if(!h)return;const g=h.y-m-n.getOffsetTop(u)*a,E=o(u);let v=(0,i.Z)(g,E,a,d),b=!0;if(d&&1===d.length){const t=(0,p.nRF)(c),n=(0,p.CKs)(c),o=(0,p.PRW)(c),{listId:i,childElementIds:s}=e;if(i===n&&o===f.WI.INBOX){const e=s.reduce(((e,n,r)=>t===n?r:e),null);e!==v&&e+1!==v||(v=e,b=r||!1)}}t.getItem().index=v,!b&&null===n.state.hoveredIndex||b&&v===n.state.hoveredIndex||n.setState({hoveredIndex:b?v:null})}},A=(e,t)=>({connectDropTarget:e.dropTarget(),isHovered:t.canDrop()&&t.isOver({shallow:!0}),isHoveredDeep:t.canDrop()&&t.isOver({shallow:!1}),isOverShallow:t.isOver({shallow:!0})}),D=(0,o.Z)(R,E.vc.LIST,A),N=(e=R,t=E.vc.LIST,n=A)=>(0,o.Z)(e,t,n)},44379:(e,t,n)=>{"use strict";n.d(t,{SI:()=>o.S,ZP:()=>s,jF:()=>i.jF});var r=n(10048),o=n(50556),i=n(54311);const s=r.Z},10048:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(54311),o=n(45350);function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s{constructor(e){i(this,"channelName",void 0),i(this,"createChannel",(e=>new s(this.channelName?`${this.channelName}.${e}`:e))),i(this,"consoleLog",((e,t)=>(...n)=>{(this.channelName?(0,r.NT)(this.channelName):(0,r.tv)())<e||(this.channelName&&(n[0]=`[${this.channelName}] ${n[0]}`),t.apply(console,n))})),i(this,"debug",this.consoleLog(o.DEBUG_LEVEL.FINE,console.log)),i(this,"log",this.consoleLog(o.DEBUG_LEVEL.FINE,console.log)),i(this,"info",this.consoleLog(o.DEBUG_LEVEL.INFO,console.info)),i(this,"table",this.consoleLog(o.DEBUG_LEVEL.INFO,console.table)),i(this,"error",this.consoleLog(o.DEBUG_LEVEL.ERROR,console.error)),i(this,"warn",this.consoleLog(o.DEBUG_LEVEL.WARN,console.warn)),i(this,"groupCollapsed",this.consoleLog(o.DEBUG_LEVEL.OFF,console.groupCollapsed)),i(this,"group",this.consoleLog(o.DEBUG_LEVEL.OFF,console.group)),i(this,"groupEnd",this.consoleLog(o.DEBUG_LEVEL.OFF,console.groupEnd)),i(this,"debugGroupCollapsed",this.consoleLog(o.DEBUG_LEVEL.OFF,console.groupCollapsed)),i(this,"debugGroup",this.consoleLog(o.DEBUG_LEVEL.OFF,console.group)),i(this,"debugGroupEnd",this.consoleLog(o.DEBUG_LEVEL.OFF,console.groupEnd)),this.channelName=e}}const a=new s},50556:(e,t,n)=>{"use strict";let r,o;n.d(t,{S:()=>r,h:()=>o}),function(e){e.ANALYTICS="analytics",e.PERSISTENCE_LAYER="persistence-layer",e.PERSISTENCE_LAYER_MIDDLEWARE="persistence-layer.middleware",e.PERSISTENCE_LAYER_WORKER="persistence-layer.worker",e.PERSISTENCE_LAYER_WORKER_SELECTOR_CALCULATOR="persistence-layer.worker.selector-calculator",e.PERSISTENCE_LAYER_WORKER_STORE_INITIALISER="persistence-layer.worker.store-initialiser",e.PURGING_SYSTEM="purging-system",e.INSTANT_APP="instant-app",e.ASYNC_RESOURCE="async-resource",e.SERVICE_WORKER="service-worker",e.SERVICE_WORKER_REGISTRATION="service-worker.registration",e.SERVICE_WORKER_PUSH_NOTIFICATION_MANAGER="service-worker.push-notifications-manager",e.REDUX_LOG="redux-log",e.REDUX_LOG_MAIN="redux-log.main",e.REDUX_LOG_MEASUREMENTS="redux-log.measurements",e.REDUX_LOG_COLLAB="redux-log.collab",e.REDUX_LOG_EDITOR="redux-log.editor"}(r||(r={})),function(e){e[e.ERROR=0]="ERROR",e[e.WARN=100]="WARN",e[e.INFO=200]="INFO",e[e.FINE=300]="FINE",e[e.FINER=400]="FINER",e[e.FINEST=500]="FINEST"}(o||(o={}))},54311:(e,t,n)=>{"use strict";n.d(t,{NT:()=>h,jF:()=>g,tv:()=>p});var r=n(52353),o=n.n(r),i=n(81763),s=n.n(i),a=n(59161),l=n(50556),c=n(71630),d=n(50335);const u=(0,a.Z)().debugLevel||l.h.ERROR,m=e=>s()(e)?e:e?l.h.FINEST:l.h.ERROR,p=()=>{const e=(0,d.pk)(c.qK.LOGS);if(!o()(e))return m(e);const t=(0,d.Od)();return o()(t)?u:m(t)},h=e=>{const t=(0,d.pk)(`${c.qK.LOGS}.${e}`);return o()(t)?p():m(t)},g=e=>h(e)>l.h.WARN},45438:(e,t,n)=>{"use strict";n.d(t,{D:()=>y,Z:()=>O});var r=n(44236),o=n.n(r),i=n(17408),s=n(83547),a=n(39222),l=n(49508),c=n(81329),d=n(495),u=n(60658),m=n(11111),p=n(78327),h=n(43831),g=n(93034),f=n(72102),E=n(29144),v=n(40102);const b=(e,t,n)=>{const r=(0,c.s)(n),o=(0,c.lt)(n);if(!o)return n;const i=o.filter(((t,n)=>{if(!(e=>!(!e||(0,u.O3)(e)||(0,m.ph)(e)||(0,m.k8)(e)))((0,d.sb)(e,n)))return!1;return(0,d.jz)(e,n)===r}));return 0===i.size?null:i.size===o.size?n:n.setIn(["details","elementChanges"],i)},y=(e,t)=>n=>{const r=(0,c.YU)(n),o=(0,c.s)(n);if(o){const t=(0,d.sb)(e,o);if(!t||(0,u.O3)(t)||(0,m.ph)(t))return null}switch(r){case v.GT.BOARD_UPDATE:case v.GT.BOARD_TASKS_UPDATE:case v.GT.SHARE_REMINDER:return b(e,0,n);case v.GT.COMMENT:return((e,t,n)=>{const r=(0,c.s)(n),o=(0,c.Db)(n),i=(0,c.B5)(n);if(!o||!i)return null;const s=o.filter((t=>!!(0,d.sb)(e,t)&&(0,d.jz)(e,t)===r));if(s.isEmpty())return null;const a=i.filter((e=>{const n=t.get(e),r=(0,E.s3)(n);return!!n&&s.includes(r)}));return a.isEmpty()?null:s.size===o.size&&a.size===i.size?n:n.setIn(["details","commentThreadIds"],s).setIn(["details","commentIds"],a)})(e,t,n);case v.GT.MENTION:return((e,t,n)=>{const r=(0,c.s)(n),o=(0,c.os)(n)||(0,c.r)(n),i=(0,d.sb)(e,o);if(!i||(0,u.O3)(i)||(0,m.ph)(i))return null;const s=(0,d.jz)(e,o);if(!s||s!==r)return null;const a=(0,c.K7)(n);return a&&!t.has(a)?null:n})(e,t,n);case v.GT.BOARD_TASKS_REMINDER:return((e,t,n)=>{const r=(0,c.Nc)(n);if(!r)return null;const o=r.filter((t=>{const n=(0,c.AV)(t);return!!(0,d.sb)(e,n)&&!(0,d.U_)(e,n)}));return(0,h.xb)(o)?null:o.size===r.size?n:n.setIn(["details","reminders"],o)})(e,0,n);default:return n}},I=(0,p.y1)(i.Sj,(e=>(0,f.WN)(e.toArray()))),C=(0,p.y1)(I,l.eA,((e,t)=>{const n=e.reduce(((e,n)=>{const r=(0,g.T)(t,n);return e.push(n,...r),e}),[]);return o()(n)})),S=(0,p.y1)(C,s.$,h.yS),T=(0,p.y1)(i.Sj,(e=>(0,f.re)(e.toArray()))),w=(0,p.y1)(T,a.h_,h.yS),O=(0,p.y1)(i.Sj,S,w,((e,t,n)=>e.map(y(t,n)).filter((e=>!!e))))},74520:(e,t,n)=>{"use strict";n.d(t,{Bv:()=>v,a_:()=>E,cO:()=>h});var r=n(52628),o=n.n(r),i=n(22222),s=n(78327),a=n(83547),l=n(63749),c=n(80275),d=n(79900),u=n(90252),m=n(99489),p=n(30840);const h=(0,s.y1)(l.R,c.rc,((e,t)=>e.filter((e=>(0,u.n5)(e)!==t&&(0,m.Gg)(e))))),g=(0,s.y1)(h,a.$,d.XW,((e,t,n)=>e.filter((e=>{const r=(0,u.J_)(e);return(0,p.Up)(t,r,n)})))),f=(0,i.P1)(g,a.$,((e,t)=>e.reduce(((e,n)=>{const r=(0,u.J_)(n);return e[r]=e[r]||{board:t.get(r),users:[]},e[r].users.push(n),e}),{}))),E=(0,i.P1)(f,(e=>o()(e))),v=(0,i.P1)(g,(e=>e.size))},84679:(e,t,n)=>{"use strict";n.d(t,{nZ:()=>f,a9:()=>E,Gk:()=>b,VY:()=>I,Yj:()=>y,nq:()=>v});var r=n(77606),o=n.n(r),i=n(23279),s=n.n(i),a=n(43831),l=n(45685);var c=n(19092),d=n(25507),u=n(81329),m=n(17408),p=n(99044),h=n(29176),g=n(40102);const f=({after:e,before:t,notificationIds:n}={})=>r=>r((0,d.S)(h.P6.notifications,void 0,!0)((async()=>{const o=await(({after:e,before:t,notificationIds:n})=>(0,l.ZP)({url:"notifications",timeout:15e3,params:{after:e,before:t,ids:n&&n.join(",")}}).then((e=>e.data)))({after:e,before:t,notificationIds:n});return await r((0,p.p)(o)),await r((0,p.Y)(o)),Object.assign({after:e,before:t,notificationIds:n},o)}))),E=()=>(e,t)=>{const n=t(),r=(0,m.KC)(n)||Date.now();return e(f({before:r}))},v=e=>({type:g.z2,notificationIds:e,viewedTimestamp:(0,c.u3)(),sync:!0}),b=e=>({type:g.Nv,userId:e,viewedTimestamp:(0,c.u3)(),sync:!0}),y=e=>({type:g.uI,notificationIds:e,observedTimestamp:(0,c.u3)(),sync:!0}),I=(()=>{let e=[],t=[];const n=s()((n=>{n({type:g.gO,views:e,commentViews:t,timestamp:(0,c.u3)(),sync:!0}),e=[],t=[]}),500);return({views:r,commentViews:i})=>(s,l)=>{const c=l(),d=(0,m.Sj)(c),p=r.filter((({notificationId:e,elementId:t})=>{const n=(0,a.vg)(e,d);return!(0,u.jA)(n,t)})),h=i.filter((({notificationId:e,commentId:t})=>{const n=(0,a.vg)(e,d);return!(0,u.ES)(n,t)}));o()(p)||(e=e.concat(p)),o()(h)||(t=t.concat(h)),o()(p)&&o()(h)||n(s)}})()},99044:(e,t,n)=>{"use strict";n.d(t,{p:()=>w,Y:()=>T});var r=n(77606),o=n.n(r),i=n(81329),s=n(72102),a=n(83547),l=n(39222),c=n(17408),d=n(45438),u=n(84679),m=n(22121),p=n(57448),h=n(63422),g=n.n(h),f=n(28583),E=n.n(f),v=n(8400),b=n.n(v),y=n(10048),I=n(45685),C=n(26777);var S=n(96181);const T=e=>(t,n)=>{const r=n(),s=(0,a.$)(r),m=(0,l.h_)(r),p=(0,c.Sj)(r),h=(0,d.D)(s,m),g=p.reduce(((e,t)=>{if((0,i.oC)(t))return e;return h(t)||e.push((0,i.Xm)(t)),e}),[]);return!o()(g)&&t((0,u.nq)(g)),e},w=e=>async(t,n)=>{const{notifications:r}=e;if(!r)return Promise.resolve(e);const{permissionIds:i=[],permissionIdToElementIdsMap:a={}}=(0,s.GS)(r);await t((0,S.pg)({permissionIds:i,permissionIdToElementIdsMap:a}));const c=(0,s.F9)(r),d=(0,s.WN)(r),u=(0,s.re)(r);return await Promise.all([t((0,m.uh)(c)),t((0,p.X)({elementIds:d,loadAncestors:!0}))]),await t((({commentIds:e})=>(t,n)=>{const r=n(),i=(0,l.h_)(r),s=e.filter((e=>!i.has(e)));if(o()(s))return;const a=b()(s,200);return Promise.all(a.map((e=>(0,I.dJ)({url:"comments",params:{ids:e.join(",")}})))).then((e=>{let n={};return e.forEach((e=>{const t=g()(["data","comments"],e);n=E()(n,t)})),o()(n)?{}:(t((0,C.uE)({comments:n})),n)})).catch((t=>(y.Z.error("Failed to retrieve comments",e,t),{})))})({commentIds:u})),e}},17408:(e,t,n)=>{"use strict";n.d(t,{JC:()=>E,KC:()=>S,OA:()=>b,PF:()=>C,Sj:()=>I,UW:()=>f,VY:()=>T,iZ:()=>v,xm:()=>y});var r=n(27617),o=n.n(r),i=n(22222),s=n(81329),a=n(495),l=n(30840),c=n(83547),d=n(63749),u=n(81410),m=n(80275),p=n(72522),h=n(53106),g=n(29176);const f=(e,t)=>(0,s.OH)(t)-(0,s.OH)(e),E=e=>(0,h.pl)((0,p.Rf)(e,g.P6.notifications)),v=e=>(0,h.rD)((0,p.Rf)(e,g.P6.notifications)),b=e=>(0,h.vc)((0,p.Rf)(e,g.P6.notifications)),y=e=>(0,h.BN)((0,p.Rf)(e,g.P6.notifications)),I=e=>e.getIn(["notifications","data"]),C=e=>e.getIn(["notifications","hasMore"]),S=e=>o()((e=>I(e).map(s.OH).toArray())(e)),T=(0,i.P1)(((e,t)=>t.notification),c.$,d.R,u.s4,m.rc,((e,t,n,r,o)=>{if(!e)return{};const i={notification:e,currentBoardId:r};let c=(0,s.s)(e);if((0,s.ot)(e)){const n=(0,s.p0)(e);if(1===n.size){const e=n.first(),r=(0,a.T_)(t,e);r&&(c=r)}}if(c){const[e,...n]=(0,l.FG)(t,c,o);i.element=e,i.ancestors=n}const d=(0,s.Y0)(e);d.length&&(i.actors=d.map((e=>n.get(e))));const u=(0,s.AX)(e);return u&&(i.shareActor=n.get(u)),i}))},68146:(e,t,n)=>{"use strict";n.d(t,{R:()=>c});var r=n(59051),o=n.n(r),i=n(43831),s=n(76095),a=n(75763),l=n(60658);const c=({elements:e,elementId:t,boardNotificationPreferences:n})=>(0,s.CR)(e,t).reduce(((e,t)=>{if(!o()(e))return e;const r=(0,a.nRF)(t);if((0,l.jP)(t))return!0;const s=(0,i.P2)([r,"subscribed"],n);return o()(s)?null:s}),null)},25614:(e,t,n)=>{"use strict";n.d(t,{$R:()=>d,Im:()=>u,d6:()=>c});var r=n(69937),o=n.n(r),i=n(44236),s=n.n(i),a=n(10395),l=n(40102);const c=({userId:e,boardId:t,preferences:n})=>({type:l.fq,userId:e,boardId:t,preferences:n,sync:!0}),d=({userId:e,boardIds:t})=>(n,r)=>{const i=r(),l=(0,a.k)(i),d=t.filter((e=>l.getIn([e,"subscribed"])));s()([...d,o()(t)]).forEach((t=>n((({userId:e,boardId:t})=>c({userId:e,boardId:t,preferences:{subscribed:!1}}))({userId:e,boardId:t}))))},u=({boardNotificationPreferences:e})=>({type:l.ky,boardNotificationPreferences:e})},10395:(e,t,n)=>{"use strict";n.d(t,{k:()=>a,m:()=>l});var r=n(22222),o=n(68146),i=n(81410),s=n(83547);const a=e=>e.getIn(["notifications","boardNotificationPreferences"]),l=(0,r.P1)(i.s4,s.$,a,((e,t,n)=>(0,o.R)({elementId:e,elements:t,boardNotificationPreferences:n})))},12578:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r={granted:"granted",denied:"denied",default:"default"}},2555:(e,t,n)=>{"use strict";n.d(t,{_h:()=>S,wd:()=>T,tD:()=>I,Qq:()=>C,Zv:()=>A,V:()=>R,bh:()=>w});var r=n(63422),o=n.n(r),i=n(44379),s=n(16273);var a=n(59161),l=n(80275),c=n(45685),d=n(14927);const u="NAVIGATE_TO",m="WEB";var p=n(56884),h=n(37574),g=n(12578),f=n(26434),E=n(53976);const v=i.ZP.createChannel(i.SI.SERVICE_WORKER_PUSH_NOTIFICATION_MANAGER),b=(0,a.Z)(),y=o()(["push","publicKey"],b),I=()=>(0,s.fQ)()&&"Notification"in window&&"PushManager"in window,C=()=>I()?Notification.permission:g.L.denied,S=()=>I()&&Notification.permission===g.L.granted,T=()=>!I()||Notification.permission===g.L.denied,w=async()=>{if(!I())return v.warn("Push notifications are not available so cannot unsubscribe"),!1;const e=await navigator.serviceWorker.ready,t=await e.pushManager.getSubscription();if(t)return v.info("Unsubscribing from",t),await t.unsubscribe(),(({subscription:e})=>{(0,c.ZP)({method:d.Is.POST,url:"notifications/push/unregister",data:{subscription:e,subscriptionType:m}}).then((e=>e.data))})({subscription:t}),v.info("Successfully unsubscribed",t),!0;v.info("No subscription to unsubscribe from")},O=({subscription:e,showSuccessNotification:t})=>(({subscription:e,showSuccessNotification:t})=>(0,c.ZP)({method:d.Is.POST,url:"notifications/push/register",data:{subscription:e,showSuccessNotification:t,subscriptionType:m}}).then((e=>e.data)))({subscription:e,showSuccessNotification:t}).then((()=>(v.info("%cSubscription registered with server","color: green",e),e))).catch((e=>(v.error("Subscription failed to register on the server"),w()))),_=async()=>{if(!I())return v.warn("Push notifications are not available so cannot subscribe"),!1;const e=await navigator.serviceWorker.ready;if(!y)return void v.warn("No public VAPID key found, cannot subscribe to push service");v.info("Ready and about to create subscription");let t=await e.pushManager.getSubscription();if(t)return v.info("Subscription exists and does not need to be created again"),t;v.info("Subscription does not exist and needs to be created");const n=(e=>{const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length);for(let o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r})(y);let r=!1;if(!S()){const e=await Notification.requestPermission();if((0,p.dO)({eventType:f.Xc.PUSH_PERMISSION_DECISION,eventProperties:{decision:e},userProperties:{[E.YV.FEATURE]:{[E.x2.PUSH_NOTIFICATIONS]:e}}}),e===g.L.denied||e===g.L.default)return Promise.reject(e);r=!0}return t=await e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:n}),v.info("%cWorker subscription successfully created","color: green",t),O({subscription:t,showSuccessNotification:r})},R=async()=>{if(!I())return v.warn("Push notifications are not available so cannot refresh subscription"),!1;const e=await navigator.serviceWorker.ready,t=await e.pushManager.getSubscription();return t&&(v.info("A subscription exists, so unsubscribe from it first then resubscribe",t),await w()),_()},A=async e=>{if((e=>{if(!I())return!1;navigator.serviceWorker.addEventListener("message",(t=>{const{data:n={}}=t,{url:r,type:o}=n;o===u&&(v.info("Click received - navigating to",r),e.dispatch((0,h.UO)(r)))}))})(e),!I())return;const t=e.getState();if((0,l.ht)(t))return;const n=await navigator.serviceWorker.ready,r=await n.pushManager.getSubscription(),o=S();return!r&&o?_():void 0}},65386:(e,t,n)=>{"use strict";n.d(t,{nn:()=>s,qx:()=>l,sj:()=>c,wc:()=>a});var r=n(69e3);const o="milanote.lastRefreshTime",i="milanote.appLocalCacheReset",s=()=>r.Z.getItem(o),a=e=>r.Z.setItem(o,e),l=()=>r.Z.getItem(i),c=e=>r.Z.setItem(i,e)},55060:(e,t,n)=>{"use strict";n.d(t,{a:()=>o,l:()=>i});var r=n(43831);const o=(0,r.P2)(["app","serverReconnection","isRefreshingCurrentBoard"]),i=(0,r.P2)(["app","serverReconnection","disableSocketStatusWarnings"])},58177:(e,t,n)=>{"use strict";n.d(t,{C5:()=>s,RP:()=>i,VB:()=>r,fX:()=>a,gO:()=>o});const r="APP_ENABLE_SOCKET_STATUS_WARNINGS",o="APP_DISABLE_SOCKET_STATUS_WARNINGS",i="APP_START_CURRENT_BOARD_REFRESH",s="APP_END_CURRENT_BOARD_REFRESH",a="APP_DID_REHYDRATE_FROM_LOCAL_CACHE"},98173:(e,t,n)=>{"use strict";n.d(t,{rI:()=>oe,lr:()=>ie,OS:()=>le,UX:()=>pe,jy:()=>ge});var r=n(58809),o=n.n(r),i=(n(50361),n(26269));const s="keyval";let a=null;const l=async()=>(a||(a=(0,i.X3)("keyval-store",1,{upgrade(e){e.createObjectStore(s)}})),a),c=l;var d=n(41609),u=n.n(d),m=n(10048);const p="mn-objects-idb";let h,g;!function(e){e.elements="elements"}(h||(h={})),function(e){e.locationParentId="locationParentId",e.contentLinkTo="contentLinkTo"}(g||(g={}));const f=`${p} (v1): `;let E;const v=()=>(E||(E=(0,i.X3)(p,1,{upgrade:e=>{if(m.Z.info(`${f}Upgrading IndexedDB database to version 1`),!e.objectStoreNames.contains(h.elements)){const t=e.createObjectStore(h.elements,{keyPath:"_id"});t.createIndex(g.locationParentId,"location.parentId",{unique:!1}),t.createIndex(g.contentLinkTo,"content.linkTo",{unique:!1})}}})),E),b=()=>E||v();var y=n(44379),I=n(50335),C=n(68071),S=n(85597),T=n(43831);var w=n(20354),O=n(27361),_=n.n(O),R=n(98601),A=n.n(R),D=n(43393),N=n(53106),x=n(71014),M=n(29176);const P=y.ZP.createChannel(y.SI.INSTANT_APP),L=["app.boardSummaries.summaries","app.boardHierarchies","app.cms.emoji.data","app.cms.ai-assistant-shortcuts.data","asyncResources","cache.selectors"],k=(e,t,n)=>{e=((e,t)=>null!=e&&e.app?(e.app.socketConnection=Object.assign({},e.app.socketConnection,{status:x.pI.DISCONNECTED,reconnectionMode:x.H6.REHYDRATION,interruptionTime:t,disconnectTime:t,channels:[],boardChannels:[]}),e):e)(e,t),(e=(e=>{if(null==e||!e.asyncResources)return e;const t=e.asyncResources[M.P6.trash];return t&&!u()(t)&&delete e.asyncResources[M.P6.trash],e})(e=(e=>{if(null==e||!e.asyncResources)return e;const t=Object.keys(e.asyncResources);for(const r of t){var n;const t=Object.keys(null===(n=e.asyncResources)||void 0===n?void 0:n[r])||[];for(const n of t){const t=e.asyncResources[r][n];((0,N.pl)(t)||(0,N.vc)(t))&&(P.debug("%c- Removing fetching/errored entity","color: grey",r,n,t),delete e.asyncResources[r][n])}}return e})(e))).localCache={hydration:{hydrated:!0,hydrationTimestamp:Date.now(),cacheTimestamp:t,cacheVersion:n}};const r={};L.forEach((t=>{r[t]=_()(e,t),A()(e,t)}));return D.fromJS(e).withMutations((e=>{for(const t in r){const n=t.split(".");e.setIn(n,r[t])}}))},F=e=>{const t=[],n=(e,r)=>{if(null!=e&&"string"!=typeof e&&"number"!=typeof e&&"boolean"!=typeof e)if(Array.isArray(e))e.forEach(((e,t)=>{n(e,`${r}[${t}]`)}));else if("object"!=typeof e)t.push(r);else{const t=e;Object.keys(t).forEach((e=>{n(t[e],r?`${r}.${e}`:e)}))}};return n(e,""),t};var B=n(90252),j=n(80275),z=n(68468),U=n(51354),H=n(59161),Z=n(78453),G=n(19495),K=n(65386),W=n(41748);class V extends W.Z{constructor(e){e.name="LimitExceededError",super(e)}}var $=n(19092);const q=["form","routing","undoRedo","app.onboarding","app.modal","app.attachments","app.preview","app.boardPreview","app.popup","app.dragModifiedKeys","app.clipper","app.selection","app.tooltip","app.currentlyEditing","app.duplications","app.dragging","app.presentation","app.currentFocus","app.elementFilter","app.resizing","app.annotation","local.clipboard","remoteActivity"],Y=[...q,"app.currentBoardId","app.currentUser.subscription.plan"],X=[...Y,"elements"];var Q=n(62287),J=n(33853);const ee="redux",te=y.ZP.createChannel(y.SI.INSTANT_APP),{appVersion:ne}=(0,H.Z)(),re=o()("id"),oe=!(0,C.Z$)()&&!!n.g.indexedDB&&"object"==typeof n.g.indexedDB;oe&&(Z.bO(G.Lw.LOCAL_CACHE_KEYVAL_IDB_INIT),l().then((()=>{const e=Z.a7(G.Lw.LOCAL_CACHE_KEYVAL_IDB_INIT);te.info("%cIndexedDB keyval-store database initialised","color: green",{time:e})})).catch((e=>{const t="Failed to initialise the keyval-store IndexedDB database";te.error(t,e),(0,w.vl)({errorMessage:t,level:J.n.ERROR,err:e})})));const ie=async()=>{if(!oe)return;return(await(async()=>(await c()).getAllKeys(s))()).includes(ee)?(async e=>(await c()).delete(s,e))(ee).catch((e=>{te.error("Failed to delete redux state from Indexed DB",e),(0,w.vl)({errorMessage:"[instant-app] Failed to delete redux state from Indexed DB",level:J.n.ERROR,err:e})})):void 0},se=async e=>{if(!e.isClientPersistenceEnabled)return e.state;const{storedElementIds:t}=e;if(!t)return null;te.info("Client Persistence - Retrieving elements from mn-objects-idb",{count:t.length}),Z.bO(G.Lw.LOCAL_CACHE_GET_CACHED_REDUX_STATE_GET_PERSISTED_STATE);const n=(await(async e=>{if(u()(e))return[];const t=(await b()).transaction(h.elements,"readonly"),n=[];for(const r of e)n.push(t.store.get(r));return await Promise.all(n)})(t)).filter(Boolean),r=Z.a7(G.Lw.LOCAL_CACHE_GET_CACHED_REDUX_STATE_GET_PERSISTED_STATE);if(te.info("Client Persistence - Finished retrieving elements from mn-objects-idb",{time:r}),!n||n.length!==t.length)return te.warn("Elements could not be found in IndexedDB",{storedElementIds:t,elements:n}),null;const o=re(n);return Object.assign({},e.state,{elements:o})},ae=(0,Z.T_)((async()=>{te.info("Starting restore from cache");const e=performance.now();Z.bO(G.Lw.LOCAL_CACHE_GET_CACHED_REDUX_STATE_CACHE_OBJECT_RETRIEVAL);const t=await(async e=>(await c()).get(s,e))(ee).catch((e=>{te.error("Failed to retrieve redux state from Indexed DB",e),(0,w.vl)({errorMessage:"[instant-app] Failed to retrieve redux state from Indexed DB",level:J.n.WARNING,err:e})}));if(Z.a7(G.Lw.LOCAL_CACHE_GET_CACHED_REDUX_STATE_CACHE_OBJECT_RETRIEVAL),!t)return te.info("%cNo local cache to restore","color: blue"),null;te.info("Retrieved cache object");const n=t.version,r=t.timestamp;if(!n||!r)return te.warn("No version & no timestamp in the cache",{cache:t}),await ie(),null;const o=Date.now();if(r<o-12*$.yu.HOUR)return te.warn("The redux store cache has expired",{timestamp:r,now:o}),await ie(),null;if(n!==ne)return te.warn("The cached state and current app do not match",{cachedVersion:n,currentAppVersion:ne}),await ie(),null;const i=await se(t),a=(0,j.ts)(i);if(!(0,B.Iw)(Q.Iu.clientLocalCache,a))return te.warn("The current user is not feature enabled for the local cache",{currentUser:a}),await ie(),null;const l=(0,S._V)(),d=(e=>{if(!e)return null;try{const t=e.split(".")[1],n=atob(t);return JSON.parse(n)}catch(t){return null}})(l);if(!l||!d)return te.warn("A IndexedDB cache is available but there is no auth token",{currentUser:a}),await ie(),null;const u=(0,B.n5)(a),m=null==d?void 0:d._id;if(u!==m)return te.warn("The local storage user token's user ID does not match the cached user's user ID",{cachedUserId:u,tokenUserId:m}),await ie(),null;const p=performance.now(),h=Math.round(p-e);te.debugGroupCollapsed("%cRestoring from IDB cache","color: blue; font-weight: normal;",{time:h}),(e=>{const t="%cRestoring redux state from IndexedDB";te.info(t,"color: blue")})();const g=k(i,r,n);return te.debugGroupEnd(),(0,G.Ku)(G.gz.CLIENT_LOCAL_CACHE_REHYDRATION,!0),g}),G.Lw.LOCAL_CACHE_GET_CACHED_REDUX_STATE),le=async()=>{var e,t,n;if(te.info("getCachedReduxState - start"),!oe)return te.info("%cNot supported in this browser","color: blue"),null;return"true"===(0,K.qx)()?(te.info("%cResetting the redux store cache","color: blue"),ie(),(0,K.sj)("false"),null):!(0,C.Z$)()&&null!==(e=navigator)&&void 0!==e&&e.serviceWorker&&null===(null===(t=navigator)||void 0===t||null===(n=t.serviceWorker)||void 0===n?void 0:n.controller)?(te.info("%cForce resetting local cache","color: blue"),ie(),null):ae()},ce=(e,t)=>e.withMutations((e=>{for(const n of t){const t=n.split(".");e.hasIn(t)&&e.deleteIn(t)}}));let de=!1;const ue=(e=>{let t=0,n=0;const r=[];return{add:o=>(t+=o,r.push(o),n++,n>e&&(t-=r.shift()||0,n--),t/n),size:()=>n}})(10),me="JS_CONVERSION_TIME_VIOLATION",pe=e=>e instanceof V&&e.code===me,he=e=>{const t=(0,U.E)(e),n=performance.now(),r=t?(e=>{const t=(0,z.$3)(e),n=(0,T.pL)(t),r=ce(e,X),o=(0,T.su)(r);return{version:ne,timestamp:(0,$.u3)(),state:o,isClientPersistenceEnabled:!0,storedElementIds:n}})(e):(e=>{const t=ce(e,Y),n=(0,T.su)(t);return{version:ne,timestamp:(0,$.u3)(),state:n}})(e),o=performance.now()-n,i=ue.add(o);if(i>150&&10===ue.size())throw new V({code:me,message:"[instant-app] Converting Redux state to POJO is taking too long",details:{conversionAverage:i}});return r},ge=async e=>{if(!oe)return;(0,I.HW)()&&performance.mark("localCache-setCachedReduxState-start");const t=he(e);return(async(e,t)=>(await c()).put(s,t,e))(ee,t).catch((e=>{if(te.error("Failed to set redux state to Indexed DB",e),!de)if(de=!0,"DataCloneError"===e.name)try{const n=F(t);te.error("Failed to serialise cache object",n),(0,w.vl)({errorMessage:"[instant-app] Failed to serialise cache object",level:J.n.ERROR,err:e,custom:{unserializeablePaths:n}})}catch(n){te.error("Failed to log unserializable paths",n),(0,w.vl)({errorMessage:"[instant-app] Failed to log unserializable paths",level:J.n.ERROR,err:n})}else(0,w.vl)({errorMessage:"[instant-app] Failed to set redux state to Indexed DB",level:J.n.ERROR,err:e})})).finally((()=>{(0,I.HW)()&&(performance.mark("localCache-setCachedReduxState-end"),performance.measure("localCache-setCachedReduxState","localCache-setCachedReduxState-start","localCache-setCachedReduxState-end"))}))}},72345:(e,t,n)=>{"use strict";n.d(t,{X:()=>o,o:()=>r});const r="LOCAL_CACHE_FORCE_CLEAR",o=()=>({type:r})},395:(e,t,n)=>{"use strict";n.d(t,{X:()=>i,k:()=>o});var r=n(43831);const o=(0,r.P2)(["localCache","hydration","hydrated"]),i=(0,r.P2)(["localCache","hydration","hydrationTimestamp"])},78820:(e,t,n)=>{"use strict";let r;n.d(t,{y:()=>r}),function(e){e.INITIALISE_WORKER="INITIALISE_WORKER",e.ACTION="ACTION",e.FETCH_BOARDS_REQUEST="FETCH_BOARDS_REQUEST",e.FETCH_BOARDS_RESPONSE="FETCH_BOARDS_RESPONSE",e.FETCH_BOARDS_ERROR="FETCH_BOARDS_ERROR"}(r||(r={}))},633:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});const r=!(!n.g.indexedDB||"object"!=typeof n.g.indexedDB||!n.g.Worker)},54730:(e,t,n)=>{"use strict";n.d(t,{$:()=>d});var r=n(20477),o=n.n(r);function i(){return o()('(()=>{var e={5350:e=>{e.exports={APPLICATION_MODE:{development:"development",test:"test",production:"production"},DEBUG_LEVEL:{OFF:0,ERROR:0,WARN:100,INFO:200,FINE:300,FINER:400,FINEST:500},ENV:{PRODUCTION:"production",DEVELOPMENT:"development"},SERVER_TYPE:{development:"development",staging:"staging",production:"production",test:"test"},ROLE_TYPE:{worker:"Worker",app:"App",media:"Media",migration:"Migration",notifications:"Notifications",collab:"Collab",search:"Search-index-worker"}}},9161:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(8306);const o=r.n(n)()((()=>{if("undefined"!=typeof window)return window.__clientconf||{};if(void 0!==r.g)return r.g.__clientconf||{};throw new Error("Could not load client config from window or global")}))},3393:function(e){e.exports=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function r(e){return a(e)?e:V(e)}function n(e){return s(e)?e:Y(e)}function o(e){return u(e)?e:X(e)}function i(e){return a(e)&&!c(e)?e:$(e)}function a(e){return!(!e||!e[f])}function s(e){return!(!e||!e[h])}function u(e){return!(!e||!e[p])}function c(e){return s(e)||u(e)}function l(e){return!(!e||!e[v])}t(n,r),t(o,r),t(i,r),r.isIterable=a,r.isKeyed=s,r.isIndexed=u,r.isAssociative=c,r.isOrdered=l,r.Keyed=n,r.Indexed=o,r.Set=i;var f="@@__IMMUTABLE_ITERABLE__@@",h="@@__IMMUTABLE_KEYED__@@",p="@@__IMMUTABLE_INDEXED__@@",v="@@__IMMUTABLE_ORDERED__@@",_="delete",d=5,g=1<<d,y=g-1,m={},b={value:!1},E={value:!1};function x(e){return e.value=!1,e}function w(e){e&&(e.value=!0)}function I(){}function O(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),o=0;o<r;o++)n[o]=e[o+t];return n}function S(e){return void 0===e.size&&(e.size=e.__iterate(R)),e.size}function A(e,t){if("number"!=typeof t){var r=t>>>0;if(""+r!==t||4294967295===r)return NaN;t=r}return t<0?S(e)+t:t}function R(){return!0}function T(e,t,r){return(0===e||void 0!==r&&e<=-r)&&(void 0===t||void 0!==r&&t>=r)}function N(e,t){return j(e,t,0)}function D(e,t){return j(e,t,t)}function j(e,t,r){return void 0===e?r:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var L=0,M=1,k=2,C="function"==typeof Symbol&&Symbol.iterator,z="@@iterator",P=C||z;function B(e){this.next=e}function W(e,t,r,n){var o=0===e?t:1===e?r:[t,r];return n?n.value=o:n={value:o,done:!1},n}function U(){return{value:void 0,done:!0}}function F(e){return!!K(e)}function q(e){return e&&"function"==typeof e.next}function G(e){var t=K(e);return t&&t.call(e)}function K(e){var t=e&&(C&&e[C]||e[z]);if("function"==typeof t)return t}function H(e){return e&&"number"==typeof e.length}function V(e){return null==e?ae():a(e)?e.toSeq():ce(e)}function Y(e){return null==e?ae().toKeyedSeq():a(e)?s(e)?e.toSeq():e.fromEntrySeq():se(e)}function X(e){return null==e?ae():a(e)?s(e)?e.entrySeq():e.toIndexedSeq():ue(e)}function $(e){return(null==e?ae():a(e)?s(e)?e.entrySeq():e:ue(e)).toSetSeq()}B.prototype.toString=function(){return"[Iterator]"},B.KEYS=L,B.VALUES=M,B.ENTRIES=k,B.prototype.inspect=B.prototype.toSource=function(){return this.toString()},B.prototype[P]=function(){return this},t(V,r),V.of=function(){return V(arguments)},V.prototype.toSeq=function(){return this},V.prototype.toString=function(){return this.__toString("Seq {","}")},V.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},V.prototype.__iterate=function(e,t){return fe(this,e,t,!0)},V.prototype.__iterator=function(e,t){return he(this,e,t,!0)},t(Y,V),Y.prototype.toKeyedSeq=function(){return this},t(X,V),X.of=function(){return X(arguments)},X.prototype.toIndexedSeq=function(){return this},X.prototype.toString=function(){return this.__toString("Seq [","]")},X.prototype.__iterate=function(e,t){return fe(this,e,t,!1)},X.prototype.__iterator=function(e,t){return he(this,e,t,!1)},t($,V),$.of=function(){return $(arguments)},$.prototype.toSetSeq=function(){return this},V.isSeq=ie,V.Keyed=Y,V.Set=$,V.Indexed=X;var J,Q,Z,ee="@@__IMMUTABLE_SEQ__@@";function te(e){this._array=e,this.size=e.length}function re(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function ne(e){this._iterable=e,this.size=e.length||e.size}function oe(e){this._iterator=e,this._iteratorCache=[]}function ie(e){return!(!e||!e[ee])}function ae(){return J||(J=new te([]))}function se(e){var t=Array.isArray(e)?new te(e).fromEntrySeq():q(e)?new oe(e).fromEntrySeq():F(e)?new ne(e).fromEntrySeq():"object"==typeof e?new re(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function ue(e){var t=le(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function ce(e){var t=le(e)||"object"==typeof e&&new re(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function le(e){return H(e)?new te(e):q(e)?new oe(e):F(e)?new ne(e):void 0}function fe(e,t,r,n){var o=e._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var s=o[r?i-a:a];if(!1===t(s[1],n?s[0]:a,e))return a+1}return a}return e.__iterateUncached(t,r)}function he(e,t,r,n){var o=e._cache;if(o){var i=o.length-1,a=0;return new B((function(){var e=o[r?i-a:a];return a++>i?U():W(t,n?e[0]:a-1,e[1])}))}return e.__iteratorUncached(t,r)}function pe(e,t){return t?ve(t,e,"",{"":e}):_e(e)}function ve(e,t,r,n){return Array.isArray(t)?e.call(n,r,X(t).map((function(r,n){return ve(e,r,n,t)}))):de(t)?e.call(n,r,Y(t).map((function(r,n){return ve(e,r,n,t)}))):t}function _e(e){return Array.isArray(e)?X(e).map(_e).toList():de(e)?Y(e).map(_e).toMap():e}function de(e){return e&&(e.constructor===Object||void 0===e.constructor)}function ge(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function ye(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||u(e)!==u(t)||l(e)!==l(t))return!1;if(0===e.size&&0===t.size)return!0;var r=!c(e);if(l(e)){var n=e.entries();return t.every((function(e,t){var o=n.next().value;return o&&ge(o[1],e)&&(r||ge(o[0],t))}))&&n.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{o=!0;var i=e;e=t,t=i}var f=!0,h=t.__iterate((function(t,n){if(r?!e.has(t):o?!ge(t,e.get(n,m)):!ge(e.get(n,m),t))return f=!1,!1}));return f&&e.size===h}function me(e,t){if(!(this instanceof me))return new me(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(Q)return Q;Q=this}}function be(e,t){if(!e)throw new Error(t)}function Ee(e,t,r){if(!(this instanceof Ee))return new Ee(e,t,r);if(be(0!==r,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),r=void 0===r?1:Math.abs(r),t<e&&(r=-r),this._start=e,this._end=t,this._step=r,this.size=Math.max(0,Math.ceil((t-e)/r-1)+1),0===this.size){if(Z)return Z;Z=this}}function xe(){throw TypeError("Abstract")}function we(){}function Ie(){}function Oe(){}V.prototype[ee]=!0,t(te,X),te.prototype.get=function(e,t){return this.has(e)?this._array[A(this,e)]:t},te.prototype.__iterate=function(e,t){for(var r=this._array,n=r.length-1,o=0;o<=n;o++)if(!1===e(r[t?n-o:o],o,this))return o+1;return o},te.prototype.__iterator=function(e,t){var r=this._array,n=r.length-1,o=0;return new B((function(){return o>n?U():W(e,o,r[t?n-o++:o++])}))},t(re,Y),re.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},re.prototype.has=function(e){return this._object.hasOwnProperty(e)},re.prototype.__iterate=function(e,t){for(var r=this._object,n=this._keys,o=n.length-1,i=0;i<=o;i++){var a=n[t?o-i:i];if(!1===e(r[a],a,this))return i+1}return i},re.prototype.__iterator=function(e,t){var r=this._object,n=this._keys,o=n.length-1,i=0;return new B((function(){var a=n[t?o-i:i];return i++>o?U():W(e,a,r[a])}))},re.prototype[v]=!0,t(ne,X),ne.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var r=G(this._iterable),n=0;if(q(r))for(var o;!(o=r.next()).done&&!1!==e(o.value,n++,this););return n},ne.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=G(this._iterable);if(!q(r))return new B(U);var n=0;return new B((function(){var t=r.next();return t.done?t:W(e,n++,t.value)}))},t(oe,X),oe.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var r,n=this._iterator,o=this._iteratorCache,i=0;i<o.length;)if(!1===e(o[i],i++,this))return i;for(;!(r=n.next()).done;){var a=r.value;if(o[i]=a,!1===e(a,i++,this))break}return i},oe.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=this._iterator,n=this._iteratorCache,o=0;return new B((function(){if(o>=n.length){var t=r.next();if(t.done)return t;n[o]=t.value}return W(e,o,n[o++])}))},t(me,X),me.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},me.prototype.get=function(e,t){return this.has(e)?this._value:t},me.prototype.includes=function(e){return ge(this._value,e)},me.prototype.slice=function(e,t){var r=this.size;return T(e,t,r)?this:new me(this._value,D(t,r)-N(e,r))},me.prototype.reverse=function(){return this},me.prototype.indexOf=function(e){return ge(this._value,e)?0:-1},me.prototype.lastIndexOf=function(e){return ge(this._value,e)?this.size:-1},me.prototype.__iterate=function(e,t){for(var r=0;r<this.size;r++)if(!1===e(this._value,r,this))return r+1;return r},me.prototype.__iterator=function(e,t){var r=this,n=0;return new B((function(){return n<r.size?W(e,n++,r._value):U()}))},me.prototype.equals=function(e){return e instanceof me?ge(this._value,e._value):ye(e)},t(Ee,X),Ee.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},Ee.prototype.get=function(e,t){return this.has(e)?this._start+A(this,e)*this._step:t},Ee.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},Ee.prototype.slice=function(e,t){return T(e,t,this.size)?this:(e=N(e,this.size),(t=D(t,this.size))<=e?new Ee(0,0):new Ee(this.get(e,this._end),this.get(t,this._end),this._step))},Ee.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var r=t/this._step;if(r>=0&&r<this.size)return r}return-1},Ee.prototype.lastIndexOf=function(e){return this.indexOf(e)},Ee.prototype.__iterate=function(e,t){for(var r=this.size-1,n=this._step,o=t?this._start+r*n:this._start,i=0;i<=r;i++){if(!1===e(o,i,this))return i+1;o+=t?-n:n}return i},Ee.prototype.__iterator=function(e,t){var r=this.size-1,n=this._step,o=t?this._start+r*n:this._start,i=0;return new B((function(){var a=o;return o+=t?-n:n,i>r?U():W(e,i++,a)}))},Ee.prototype.equals=function(e){return e instanceof Ee?this._start===e._start&&this._end===e._end&&this._step===e._step:ye(this,e)},t(xe,r),t(we,xe),t(Ie,xe),t(Oe,xe),xe.Keyed=we,xe.Indexed=Ie,xe.Set=Oe;var Se="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var r=65535&(e|=0),n=65535&(t|=0);return r*n+((e>>>16)*n+r*(t>>>16)<<16>>>0)|0};function Ae(e){return e>>>1&1073741824|3221225471&e}function Re(e){if(!1===e||null==e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null==e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){if(e!=e||e===1/0)return 0;var r=0|e;for(r!==e&&(r^=4294967295*e);e>4294967295;)r^=e/=4294967295;return Ae(r)}if("string"===t)return e.length>Be?Te(e):Ne(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return De(e);if("function"==typeof e.toString)return Ne(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function Te(e){var t=Fe[e];return void 0===t&&(t=Ne(e),Ue===We&&(Ue=0,Fe={}),Ue++,Fe[e]=t),t}function Ne(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return Ae(t)}function De(e){var t;if(Ce&&void 0!==(t=ke.get(e)))return t;if(void 0!==(t=e[Pe]))return t;if(!Le){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Pe]))return t;if(void 0!==(t=Me(e)))return t}if(t=++ze,1073741824&ze&&(ze=0),Ce)ke.set(e,t);else{if(void 0!==je&&!1===je(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Le)Object.defineProperty(e,Pe,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Pe]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Pe]=t}}return t}var je=Object.isExtensible,Le=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function Me(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}var ke,Ce="function"==typeof WeakMap;Ce&&(ke=new WeakMap);var ze=0,Pe="__immutablehash__";"function"==typeof Symbol&&(Pe=Symbol(Pe));var Be=16,We=255,Ue=0,Fe={};function qe(e){be(e!==1/0,"Cannot perform this action with an infinite size.")}function Ge(e){return null==e?ot():Ke(e)&&!l(e)?e:ot().withMutations((function(t){var r=n(e);qe(r.size),r.forEach((function(e,r){return t.set(r,e)}))}))}function Ke(e){return!(!e||!e[Ve])}t(Ge,we),Ge.of=function(){var t=e.call(arguments,0);return ot().withMutations((function(e){for(var r=0;r<t.length;r+=2){if(r+1>=t.length)throw new Error("Missing value for key: "+t[r]);e.set(t[r],t[r+1])}}))},Ge.prototype.toString=function(){return this.__toString("Map {","}")},Ge.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Ge.prototype.set=function(e,t){return it(this,e,t)},Ge.prototype.setIn=function(e,t){return this.updateIn(e,m,(function(){return t}))},Ge.prototype.remove=function(e){return it(this,e,m)},Ge.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return m}))},Ge.prototype.update=function(e,t,r){return 1===arguments.length?e(this):this.updateIn([e],t,r)},Ge.prototype.updateIn=function(e,t,r){r||(r=t,t=void 0);var n=dt(this,Er(e),t,r);return n===m?void 0:n},Ge.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ot()},Ge.prototype.merge=function(){return ht(this,void 0,arguments)},Ge.prototype.mergeWith=function(t){return ht(this,t,e.call(arguments,1))},Ge.prototype.mergeIn=function(t){var r=e.call(arguments,1);return this.updateIn(t,ot(),(function(e){return"function"==typeof e.merge?e.merge.apply(e,r):r[r.length-1]}))},Ge.prototype.mergeDeep=function(){return ht(this,pt,arguments)},Ge.prototype.mergeDeepWith=function(t){var r=e.call(arguments,1);return ht(this,vt(t),r)},Ge.prototype.mergeDeepIn=function(t){var r=e.call(arguments,1);return this.updateIn(t,ot(),(function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,r):r[r.length-1]}))},Ge.prototype.sort=function(e){return Ft(lr(this,e))},Ge.prototype.sortBy=function(e,t){return Ft(lr(this,t,e))},Ge.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Ge.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new I)},Ge.prototype.asImmutable=function(){return this.__ensureOwner()},Ge.prototype.wasAltered=function(){return this.__altered},Ge.prototype.__iterator=function(e,t){return new et(this,e,t)},Ge.prototype.__iterate=function(e,t){var r=this,n=0;return this._root&&this._root.iterate((function(t){return n++,e(t[1],t[0],r)}),t),n},Ge.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?nt(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Ge.isMap=Ke;var He,Ve="@@__IMMUTABLE_MAP__@@",Ye=Ge.prototype;function Xe(e,t){this.ownerID=e,this.entries=t}function $e(e,t,r){this.ownerID=e,this.bitmap=t,this.nodes=r}function Je(e,t,r){this.ownerID=e,this.count=t,this.nodes=r}function Qe(e,t,r){this.ownerID=e,this.keyHash=t,this.entries=r}function Ze(e,t,r){this.ownerID=e,this.keyHash=t,this.entry=r}function et(e,t,r){this._type=t,this._reverse=r,this._stack=e._root&&rt(e._root)}function tt(e,t){return W(e,t[0],t[1])}function rt(e,t){return{node:e,index:0,__prev:t}}function nt(e,t,r,n){var o=Object.create(Ye);return o.size=e,o._root=t,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function ot(){return He||(He=nt(0))}function it(e,t,r){var n,o;if(e._root){var i=x(b),a=x(E);if(n=at(e._root,e.__ownerID,0,void 0,t,r,i,a),!a.value)return e;o=e.size+(i.value?r===m?-1:1:0)}else{if(r===m)return e;o=1,n=new Xe(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=o,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?nt(o,n):ot()}function at(e,t,r,n,o,i,a,s){return e?e.update(t,r,n,o,i,a,s):i===m?e:(w(s),w(a),new Ze(t,n,[o,i]))}function st(e){return e.constructor===Ze||e.constructor===Qe}function ut(e,t,r,n,o){if(e.keyHash===n)return new Qe(t,n,[e.entry,o]);var i,a=(0===r?e.keyHash:e.keyHash>>>r)&y,s=(0===r?n:n>>>r)&y;return new $e(t,1<<a|1<<s,a===s?[ut(e,t,r+d,n,o)]:(i=new Ze(t,n,o),a<s?[e,i]:[i,e]))}function ct(e,t,r,n){e||(e=new I);for(var o=new Ze(e,Re(r),[r,n]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}function lt(e,t,r,n){for(var o=0,i=0,a=new Array(r),s=0,u=1,c=t.length;s<c;s++,u<<=1){var l=t[s];void 0!==l&&s!==n&&(o|=u,a[i++]=l)}return new $e(e,o,a)}function ft(e,t,r,n,o){for(var i=0,a=new Array(g),s=0;0!==r;s++,r>>>=1)a[s]=1&r?t[i++]:void 0;return a[n]=o,new Je(e,i+1,a)}function ht(e,t,r){for(var o=[],i=0;i<r.length;i++){var s=r[i],u=n(s);a(s)||(u=u.map((function(e){return pe(e)}))),o.push(u)}return _t(e,t,o)}function pt(e,t,r){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):ge(e,t)?e:t}function vt(e){return function(t,r,n){if(t&&t.mergeDeepWith&&a(r))return t.mergeDeepWith(e,r);var o=e(t,r,n);return ge(t,o)?t:o}}function _t(e,t,r){return 0===(r=r.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==r.length?e.withMutations((function(e){for(var n=t?function(r,n){e.update(n,m,(function(e){return e===m?r:t(e,r,n)}))}:function(t,r){e.set(r,t)},o=0;o<r.length;o++)r[o].forEach(n)})):e.constructor(r[0])}function dt(e,t,r,n){var o=e===m,i=t.next();if(i.done){var a=o?r:e,s=n(a);return s===a?e:s}be(o||e&&e.set,"invalid keyPath");var u=i.value,c=o?m:e.get(u,m),l=dt(c,t,r,n);return l===c?e:l===m?e.remove(u):(o?ot():e).set(u,l)}function gt(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function yt(e,t,r,n){var o=n?e:O(e);return o[t]=r,o}function mt(e,t,r,n){var o=e.length+1;if(n&&t+1===o)return e[t]=r,e;for(var i=new Array(o),a=0,s=0;s<o;s++)s===t?(i[s]=r,a=-1):i[s]=e[s+a];return i}function bt(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var o=new Array(n),i=0,a=0;a<n;a++)a===t&&(i=1),o[a]=e[a+i];return o}Ye[Ve]=!0,Ye[_]=Ye.remove,Ye.removeIn=Ye.deleteIn,Xe.prototype.get=function(e,t,r,n){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(ge(r,o[i][0]))return o[i][1];return n},Xe.prototype.update=function(e,t,r,n,o,i,a){for(var s=o===m,u=this.entries,c=0,l=u.length;c<l&&!ge(n,u[c][0]);c++);var f=c<l;if(f?u[c][1]===o:s)return this;if(w(a),(s||!f)&&w(i),!s||1!==u.length){if(!f&&!s&&u.length>=Et)return ct(e,u,n,o);var h=e&&e===this.ownerID,p=h?u:O(u);return f?s?c===l-1?p.pop():p[c]=p.pop():p[c]=[n,o]:p.push([n,o]),h?(this.entries=p,this):new Xe(e,p)}},$e.prototype.get=function(e,t,r,n){void 0===t&&(t=Re(r));var o=1<<((0===e?t:t>>>e)&y),i=this.bitmap;return 0==(i&o)?n:this.nodes[gt(i&o-1)].get(e+d,t,r,n)},$e.prototype.update=function(e,t,r,n,o,i,a){void 0===r&&(r=Re(n));var s=(0===t?r:r>>>t)&y,u=1<<s,c=this.bitmap,l=0!=(c&u);if(!l&&o===m)return this;var f=gt(c&u-1),h=this.nodes,p=l?h[f]:void 0,v=at(p,e,t+d,r,n,o,i,a);if(v===p)return this;if(!l&&v&&h.length>=xt)return ft(e,h,c,s,v);if(l&&!v&&2===h.length&&st(h[1^f]))return h[1^f];if(l&&v&&1===h.length&&st(v))return v;var _=e&&e===this.ownerID,g=l?v?c:c^u:c|u,b=l?v?yt(h,f,v,_):bt(h,f,_):mt(h,f,v,_);return _?(this.bitmap=g,this.nodes=b,this):new $e(e,g,b)},Je.prototype.get=function(e,t,r,n){void 0===t&&(t=Re(r));var o=(0===e?t:t>>>e)&y,i=this.nodes[o];return i?i.get(e+d,t,r,n):n},Je.prototype.update=function(e,t,r,n,o,i,a){void 0===r&&(r=Re(n));var s=(0===t?r:r>>>t)&y,u=o===m,c=this.nodes,l=c[s];if(u&&!l)return this;var f=at(l,e,t+d,r,n,o,i,a);if(f===l)return this;var h=this.count;if(l){if(!f&&--h<wt)return lt(e,c,h,s)}else h++;var p=e&&e===this.ownerID,v=yt(c,s,f,p);return p?(this.count=h,this.nodes=v,this):new Je(e,h,v)},Qe.prototype.get=function(e,t,r,n){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(ge(r,o[i][0]))return o[i][1];return n},Qe.prototype.update=function(e,t,r,n,o,i,a){void 0===r&&(r=Re(n));var s=o===m;if(r!==this.keyHash)return s?this:(w(a),w(i),ut(this,e,t,r,[n,o]));for(var u=this.entries,c=0,l=u.length;c<l&&!ge(n,u[c][0]);c++);var f=c<l;if(f?u[c][1]===o:s)return this;if(w(a),(s||!f)&&w(i),s&&2===l)return new Ze(e,this.keyHash,u[1^c]);var h=e&&e===this.ownerID,p=h?u:O(u);return f?s?c===l-1?p.pop():p[c]=p.pop():p[c]=[n,o]:p.push([n,o]),h?(this.entries=p,this):new Qe(e,this.keyHash,p)},Ze.prototype.get=function(e,t,r,n){return ge(r,this.entry[0])?this.entry[1]:n},Ze.prototype.update=function(e,t,r,n,o,i,a){var s=o===m,u=ge(n,this.entry[0]);return(u?o===this.entry[1]:s)?this:(w(a),s?void w(i):u?e&&e===this.ownerID?(this.entry[1]=o,this):new Ze(e,this.keyHash,[n,o]):(w(i),ut(this,e,t,Re(n),[n,o])))},Xe.prototype.iterate=Qe.prototype.iterate=function(e,t){for(var r=this.entries,n=0,o=r.length-1;n<=o;n++)if(!1===e(r[t?o-n:n]))return!1},$e.prototype.iterate=Je.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,o=r.length-1;n<=o;n++){var i=r[t?o-n:n];if(i&&!1===i.iterate(e,t))return!1}},Ze.prototype.iterate=function(e,t){return e(this.entry)},t(et,B),et.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var r,n=t.node,o=t.index++;if(n.entry){if(0===o)return tt(e,n.entry)}else if(n.entries){if(o<=(r=n.entries.length-1))return tt(e,n.entries[this._reverse?r-o:o])}else if(o<=(r=n.nodes.length-1)){var i=n.nodes[this._reverse?r-o:o];if(i){if(i.entry)return tt(e,i.entry);t=this._stack=rt(i,t)}continue}t=this._stack=this._stack.__prev}return U()};var Et=g/4,xt=g/2,wt=g/4;function It(e){var t=Mt();if(null==e)return t;if(Ot(e))return e;var r=o(e),n=r.size;return 0===n?t:(qe(n),n>0&&n<g?Lt(0,n,d,null,new Rt(r.toArray())):t.withMutations((function(e){e.setSize(n),r.forEach((function(t,r){return e.set(r,t)}))})))}function Ot(e){return!(!e||!e[St])}t(It,Ie),It.of=function(){return this(arguments)},It.prototype.toString=function(){return this.__toString("List [","]")},It.prototype.get=function(e,t){if((e=A(this,e))>=0&&e<this.size){var r=Pt(this,e+=this._origin);return r&&r.array[e&y]}return t},It.prototype.set=function(e,t){return kt(this,e,t)},It.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},It.prototype.insert=function(e,t){return this.splice(e,0,t)},It.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=d,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Mt()},It.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(r){Bt(r,0,t+e.length);for(var n=0;n<e.length;n++)r.set(t+n,e[n])}))},It.prototype.pop=function(){return Bt(this,0,-1)},It.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){Bt(t,-e.length);for(var r=0;r<e.length;r++)t.set(r,e[r])}))},It.prototype.shift=function(){return Bt(this,1)},It.prototype.merge=function(){return Wt(this,void 0,arguments)},It.prototype.mergeWith=function(t){return Wt(this,t,e.call(arguments,1))},It.prototype.mergeDeep=function(){return Wt(this,pt,arguments)},It.prototype.mergeDeepWith=function(t){var r=e.call(arguments,1);return Wt(this,vt(t),r)},It.prototype.setSize=function(e){return Bt(this,0,e)},It.prototype.slice=function(e,t){var r=this.size;return T(e,t,r)?this:Bt(this,N(e,r),D(t,r))},It.prototype.__iterator=function(e,t){var r=0,n=jt(this,t);return new B((function(){var t=n();return t===Dt?U():W(e,r++,t)}))},It.prototype.__iterate=function(e,t){for(var r,n=0,o=jt(this,t);(r=o())!==Dt&&!1!==e(r,n++,this););return n},It.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Lt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},It.isList=Ot;var St="@@__IMMUTABLE_LIST__@@",At=It.prototype;function Rt(e,t){this.array=e,this.ownerID=t}At[St]=!0,At[_]=At.remove,At.setIn=Ye.setIn,At.deleteIn=At.removeIn=Ye.removeIn,At.update=Ye.update,At.updateIn=Ye.updateIn,At.mergeIn=Ye.mergeIn,At.mergeDeepIn=Ye.mergeDeepIn,At.withMutations=Ye.withMutations,At.asMutable=Ye.asMutable,At.asImmutable=Ye.asImmutable,At.wasAltered=Ye.wasAltered,Rt.prototype.removeBefore=function(e,t,r){if(r===t?1<<t:0===this.array.length)return this;var n=r>>>t&y;if(n>=this.array.length)return new Rt([],e);var o,i=0===n;if(t>0){var a=this.array[n];if((o=a&&a.removeBefore(e,t-d,r))===a&&i)return this}if(i&&!o)return this;var s=zt(this,e);if(!i)for(var u=0;u<n;u++)s.array[u]=void 0;return o&&(s.array[n]=o),s},Rt.prototype.removeAfter=function(e,t,r){if(r===(t?1<<t:0)||0===this.array.length)return this;var n,o=r-1>>>t&y;if(o>=this.array.length)return this;if(t>0){var i=this.array[o];if((n=i&&i.removeAfter(e,t-d,r))===i&&o===this.array.length-1)return this}var a=zt(this,e);return a.array.splice(o+1),n&&(a.array[o]=n),a};var Tt,Nt,Dt={};function jt(e,t){var r=e._origin,n=e._capacity,o=Ut(n),i=e._tail;return a(e._root,e._level,0);function a(e,t,r){return 0===t?s(e,r):u(e,t,r)}function s(e,a){var s=a===o?i&&i.array:e&&e.array,u=a>r?0:r-a,c=n-a;return c>g&&(c=g),function(){if(u===c)return Dt;var e=t?--c:u++;return s&&s[e]}}function u(e,o,i){var s,u=e&&e.array,c=i>r?0:r-i>>o,l=1+(n-i>>o);return l>g&&(l=g),function(){for(;;){if(s){var e=s();if(e!==Dt)return e;s=null}if(c===l)return Dt;var r=t?--l:c++;s=a(u&&u[r],o-d,i+(r<<o))}}}}function Lt(e,t,r,n,o,i,a){var s=Object.create(At);return s.size=t-e,s._origin=e,s._capacity=t,s._level=r,s._root=n,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function Mt(){return Tt||(Tt=Lt(0,0,d))}function kt(e,t,r){if((t=A(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?Bt(e,t).set(0,r):Bt(e,0,t+1).set(t,r)}));t+=e._origin;var n=e._tail,o=e._root,i=x(E);return t>=Ut(e._capacity)?n=Ct(n,e.__ownerID,0,t,r,i):o=Ct(o,e.__ownerID,e._level,t,r,i),i.value?e.__ownerID?(e._root=o,e._tail=n,e.__hash=void 0,e.__altered=!0,e):Lt(e._origin,e._capacity,e._level,o,n):e}function Ct(e,t,r,n,o,i){var a,s=n>>>r&y,u=e&&s<e.array.length;if(!u&&void 0===o)return e;if(r>0){var c=e&&e.array[s],l=Ct(c,t,r-d,n,o,i);return l===c?e:((a=zt(e,t)).array[s]=l,a)}return u&&e.array[s]===o?e:(w(i),a=zt(e,t),void 0===o&&s===a.array.length-1?a.array.pop():a.array[s]=o,a)}function zt(e,t){return t&&e&&t===e.ownerID?e:new Rt(e?e.array.slice():[],t)}function Pt(e,t){if(t>=Ut(e._capacity))return e._tail;if(t<1<<e._level+d){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&y],n-=d;return r}}function Bt(e,t,r){void 0!==t&&(t|=0),void 0!==r&&(r|=0);var n=e.__ownerID||new I,o=e._origin,i=e._capacity,a=o+t,s=void 0===r?i:r<0?i+r:o+r;if(a===o&&s===i)return e;if(a>=s)return e.clear();for(var u=e._level,c=e._root,l=0;a+l<0;)c=new Rt(c&&c.array.length?[void 0,c]:[],n),l+=1<<(u+=d);l&&(a+=l,o+=l,s+=l,i+=l);for(var f=Ut(i),h=Ut(s);h>=1<<u+d;)c=new Rt(c&&c.array.length?[c]:[],n),u+=d;var p=e._tail,v=h<f?Pt(e,s-1):h>f?new Rt([],n):p;if(p&&h>f&&a<i&&p.array.length){for(var _=c=zt(c,n),g=u;g>d;g-=d){var m=f>>>g&y;_=_.array[m]=zt(_.array[m],n)}_.array[f>>>d&y]=p}if(s<i&&(v=v&&v.removeAfter(n,0,s)),a>=h)a-=h,s-=h,u=d,c=null,v=v&&v.removeBefore(n,0,a);else if(a>o||h<f){for(l=0;c;){var b=a>>>u&y;if(b!==h>>>u&y)break;b&&(l+=(1<<u)*b),u-=d,c=c.array[b]}c&&a>o&&(c=c.removeBefore(n,u,a-l)),c&&h<f&&(c=c.removeAfter(n,u,h-l)),l&&(a-=l,s-=l)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=u,e._root=c,e._tail=v,e.__hash=void 0,e.__altered=!0,e):Lt(a,s,u,c,v)}function Wt(e,t,r){for(var n=[],i=0,s=0;s<r.length;s++){var u=r[s],c=o(u);c.size>i&&(i=c.size),a(u)||(c=c.map((function(e){return pe(e)}))),n.push(c)}return i>e.size&&(e=e.setSize(i)),_t(e,t,n)}function Ut(e){return e<g?0:e-1>>>d<<d}function Ft(e){return null==e?Kt():qt(e)?e:Kt().withMutations((function(t){var r=n(e);qe(r.size),r.forEach((function(e,r){return t.set(r,e)}))}))}function qt(e){return Ke(e)&&l(e)}function Gt(e,t,r,n){var o=Object.create(Ft.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=r,o.__hash=n,o}function Kt(){return Nt||(Nt=Gt(ot(),Mt()))}function Ht(e,t,r){var n,o,i=e._map,a=e._list,s=i.get(t),u=void 0!==s;if(r===m){if(!u)return e;a.size>=g&&a.size>=2*i.size?(n=(o=a.filter((function(e,t){return void 0!==e&&s!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(n.__ownerID=o.__ownerID=e.__ownerID)):(n=i.remove(t),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(u){if(r===a.get(s)[1])return e;n=i,o=a.set(s,[t,r])}else n=i.set(t,a.size),o=a.set(a.size,[t,r]);return e.__ownerID?(e.size=n.size,e._map=n,e._list=o,e.__hash=void 0,e):Gt(n,o)}function Vt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Yt(e){this._iter=e,this.size=e.size}function Xt(e){this._iter=e,this.size=e.size}function $t(e){this._iter=e,this.size=e.size}function Jt(e){var t=yr(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=mr,t.__iterateUncached=function(t,r){var n=this;return e.__iterate((function(e,r){return!1!==t(r,e,n)}),r)},t.__iteratorUncached=function(t,r){if(t===k){var n=e.__iterator(t,r);return new B((function(){var e=n.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===M?L:M,r)},t}function Qt(e,t,r){var n=yr(e);return n.size=e.size,n.has=function(t){return e.has(t)},n.get=function(n,o){var i=e.get(n,m);return i===m?o:t.call(r,i,n,e)},n.__iterateUncached=function(n,o){var i=this;return e.__iterate((function(e,o,a){return!1!==n(t.call(r,e,o,a),o,i)}),o)},n.__iteratorUncached=function(n,o){var i=e.__iterator(k,o);return new B((function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return W(n,s,t.call(r,a[1],s,e),o)}))},n}function Zt(e,t){var r=yr(e);return r._iter=e,r.size=e.size,r.reverse=function(){return e},e.flip&&(r.flip=function(){var t=Jt(e);return t.reverse=function(){return e.flip()},t}),r.get=function(r,n){return e.get(t?r:-1-r,n)},r.has=function(r){return e.has(t?r:-1-r)},r.includes=function(t){return e.includes(t)},r.cacheResult=mr,r.__iterate=function(t,r){var n=this;return e.__iterate((function(e,r){return t(e,r,n)}),!r)},r.__iterator=function(t,r){return e.__iterator(t,!r)},r}function er(e,t,r,n){var o=yr(e);return n&&(o.has=function(n){var o=e.get(n,m);return o!==m&&!!t.call(r,o,n,e)},o.get=function(n,o){var i=e.get(n,m);return i!==m&&t.call(r,i,n,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return e.__iterate((function(e,i,u){if(t.call(r,e,i,u))return s++,o(e,n?i:s-1,a)}),i),s},o.__iteratorUncached=function(o,i){var a=e.__iterator(k,i),s=0;return new B((function(){for(;;){var i=a.next();if(i.done)return i;var u=i.value,c=u[0],l=u[1];if(t.call(r,l,c,e))return W(o,n?c:s++,l,i)}}))},o}function tr(e,t,r){var n=Ge().asMutable();return e.__iterate((function(o,i){n.update(t.call(r,o,i,e),0,(function(e){return e+1}))})),n.asImmutable()}function rr(e,t,r){var n=s(e),o=(l(e)?Ft():Ge()).asMutable();e.__iterate((function(i,a){o.update(t.call(r,i,a,e),(function(e){return(e=e||[]).push(n?[a,i]:i),e}))}));var i=gr(e);return o.map((function(t){return vr(e,i(t))}))}function nr(e,t,r,n){var o=e.size;if(void 0!==t&&(t|=0),void 0!==r&&(r===1/0?r=o:r|=0),T(t,r,o))return e;var i=N(t,o),a=D(r,o);if(i!=i||a!=a)return nr(e.toSeq().cacheResult(),t,r,n);var s,u=a-i;u==u&&(s=u<0?0:u);var c=yr(e);return c.size=0===s?s:e.size&&s||void 0,!n&&ie(e)&&s>=0&&(c.get=function(t,r){return(t=A(this,t))>=0&&t<s?e.get(t+i,r):r}),c.__iterateUncached=function(t,r){var o=this;if(0===s)return 0;if(r)return this.cacheResult().__iterate(t,r);var a=0,u=!0,c=0;return e.__iterate((function(e,r){if(!u||!(u=a++<i))return c++,!1!==t(e,n?r:c-1,o)&&c!==s})),c},c.__iteratorUncached=function(t,r){if(0!==s&&r)return this.cacheResult().__iterator(t,r);var o=0!==s&&e.__iterator(t,r),a=0,u=0;return new B((function(){for(;a++<i;)o.next();if(++u>s)return U();var e=o.next();return n||t===M?e:W(t,u-1,t===L?void 0:e.value[1],e)}))},c}function or(e,t,r){var n=yr(e);return n.__iterateUncached=function(n,o){var i=this;if(o)return this.cacheResult().__iterate(n,o);var a=0;return e.__iterate((function(e,o,s){return t.call(r,e,o,s)&&++a&&n(e,o,i)})),a},n.__iteratorUncached=function(n,o){var i=this;if(o)return this.cacheResult().__iterator(n,o);var a=e.__iterator(k,o),s=!0;return new B((function(){if(!s)return U();var e=a.next();if(e.done)return e;var o=e.value,u=o[0],c=o[1];return t.call(r,c,u,i)?n===k?e:W(n,u,c,e):(s=!1,U())}))},n}function ir(e,t,r,n){var o=yr(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,u=0;return e.__iterate((function(e,i,c){if(!s||!(s=t.call(r,e,i,c)))return u++,o(e,n?i:u-1,a)})),u},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=e.__iterator(k,i),u=!0,c=0;return new B((function(){var e,i,l;do{if((e=s.next()).done)return n||o===M?e:W(o,c++,o===L?void 0:e.value[1],e);var f=e.value;i=f[0],l=f[1],u&&(u=t.call(r,l,i,a))}while(u);return o===k?e:W(o,i,l,e)}))},o}function ar(e,t){var r=s(e),o=[e].concat(t).map((function(e){return a(e)?r&&(e=n(e)):e=r?se(e):ue(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===o.length)return e;if(1===o.length){var i=o[0];if(i===e||r&&s(i)||u(e)&&u(i))return i}var c=new te(o);return r?c=c.toKeyedSeq():u(e)||(c=c.toSetSeq()),(c=c.flatten(!0)).size=o.reduce((function(e,t){if(void 0!==e){var r=t.size;if(void 0!==r)return e+r}}),0),c}function sr(e,t,r){var n=yr(e);return n.__iterateUncached=function(n,o){var i=0,s=!1;function u(e,c){var l=this;e.__iterate((function(e,o){return(!t||c<t)&&a(e)?u(e,c+1):!1===n(e,r?o:i++,l)&&(s=!0),!s}),o)}return u(e,0),i},n.__iteratorUncached=function(n,o){var i=e.__iterator(n,o),s=[],u=0;return new B((function(){for(;i;){var e=i.next();if(!1===e.done){var c=e.value;if(n===k&&(c=c[1]),t&&!(s.length<t)||!a(c))return r?e:W(n,u++,c,e);s.push(i),i=c.__iterator(n,o)}else i=s.pop()}return U()}))},n}function ur(e,t,r){var n=gr(e);return e.toSeq().map((function(o,i){return n(t.call(r,o,i,e))})).flatten(!0)}function cr(e,t){var r=yr(e);return r.size=e.size&&2*e.size-1,r.__iterateUncached=function(r,n){var o=this,i=0;return e.__iterate((function(e,n){return(!i||!1!==r(t,i++,o))&&!1!==r(e,i++,o)}),n),i},r.__iteratorUncached=function(r,n){var o,i=e.__iterator(M,n),a=0;return new B((function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?W(r,a++,t):W(r,a++,o.value,o)}))},r}function lr(e,t,r){t||(t=br);var n=s(e),o=0,i=e.toSeq().map((function(t,n){return[n,t,o++,r?r(t,n,e):t]})).toArray();return i.sort((function(e,r){return t(e[3],r[3])||e[2]-r[2]})).forEach(n?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),n?Y(i):u(e)?X(i):$(i)}function fr(e,t,r){if(t||(t=br),r){var n=e.toSeq().map((function(t,n){return[t,r(t,n,e)]})).reduce((function(e,r){return hr(t,e[1],r[1])?r:e}));return n&&n[0]}return e.reduce((function(e,r){return hr(t,e,r)?r:e}))}function hr(e,t,r){var n=e(r,t);return 0===n&&r!==t&&(null==r||r!=r)||n>0}function pr(e,t,n){var o=yr(e);return o.size=new te(n).map((function(e){return e.size})).min(),o.__iterate=function(e,t){for(var r,n=this.__iterator(M,t),o=0;!(r=n.next()).done&&!1!==e(r.value,o++,this););return o},o.__iteratorUncached=function(e,o){var i=n.map((function(e){return e=r(e),G(o?e.reverse():e)})),a=0,s=!1;return new B((function(){var r;return s||(r=i.map((function(e){return e.next()})),s=r.some((function(e){return e.done}))),s?U():W(e,a++,t.apply(null,r.map((function(e){return e.value}))))}))},o}function vr(e,t){return ie(e)?t:e.constructor(t)}function _r(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function dr(e){return qe(e.size),S(e)}function gr(e){return s(e)?n:u(e)?o:i}function yr(e){return Object.create((s(e)?Y:u(e)?X:$).prototype)}function mr(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):V.prototype.cacheResult.call(this)}function br(e,t){return e>t?1:e<t?-1:0}function Er(e){var t=G(e);if(!t){if(!H(e))throw new TypeError("Expected iterable or array-like: "+e);t=G(r(e))}return t}function xr(e,t){var r,n=function(i){if(i instanceof n)return i;if(!(this instanceof n))return new n(i);if(!r){r=!0;var a=Object.keys(e);Sr(o,a),o.size=a.length,o._name=t,o._keys=a,o._defaultValues=e}this._map=Ge(i)},o=n.prototype=Object.create(wr);return o.constructor=n,n}t(Ft,Ge),Ft.of=function(){return this(arguments)},Ft.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Ft.prototype.get=function(e,t){var r=this._map.get(e);return void 0!==r?this._list.get(r)[1]:t},Ft.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Kt()},Ft.prototype.set=function(e,t){return Ht(this,e,t)},Ft.prototype.remove=function(e){return Ht(this,e,m)},Ft.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Ft.prototype.__iterate=function(e,t){var r=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],r)}),t)},Ft.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Ft.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),r=this._list.__ensureOwner(e);return e?Gt(t,r,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=r,this)},Ft.isOrderedMap=qt,Ft.prototype[v]=!0,Ft.prototype[_]=Ft.prototype.remove,t(Vt,Y),Vt.prototype.get=function(e,t){return this._iter.get(e,t)},Vt.prototype.has=function(e){return this._iter.has(e)},Vt.prototype.valueSeq=function(){return this._iter.valueSeq()},Vt.prototype.reverse=function(){var e=this,t=Zt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Vt.prototype.map=function(e,t){var r=this,n=Qt(this,e,t);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(e,t)}),n},Vt.prototype.__iterate=function(e,t){var r,n=this;return this._iter.__iterate(this._useKeys?function(t,r){return e(t,r,n)}:(r=t?dr(this):0,function(o){return e(o,t?--r:r++,n)}),t)},Vt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var r=this._iter.__iterator(M,t),n=t?dr(this):0;return new B((function(){var o=r.next();return o.done?o:W(e,t?--n:n++,o.value,o)}))},Vt.prototype[v]=!0,t(Yt,X),Yt.prototype.includes=function(e){return this._iter.includes(e)},Yt.prototype.__iterate=function(e,t){var r=this,n=0;return this._iter.__iterate((function(t){return e(t,n++,r)}),t)},Yt.prototype.__iterator=function(e,t){var r=this._iter.__iterator(M,t),n=0;return new B((function(){var t=r.next();return t.done?t:W(e,n++,t.value,t)}))},t(Xt,$),Xt.prototype.has=function(e){return this._iter.includes(e)},Xt.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t){return e(t,t,r)}),t)},Xt.prototype.__iterator=function(e,t){var r=this._iter.__iterator(M,t);return new B((function(){var t=r.next();return t.done?t:W(e,t.value,t.value,t)}))},t($t,Y),$t.prototype.entrySeq=function(){return this._iter.toSeq()},$t.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t){if(t){_r(t);var n=a(t);return e(n?t.get(1):t[1],n?t.get(0):t[0],r)}}),t)},$t.prototype.__iterator=function(e,t){var r=this._iter.__iterator(M,t);return new B((function(){for(;;){var t=r.next();if(t.done)return t;var n=t.value;if(n){_r(n);var o=a(n);return W(e,o?n.get(0):n[0],o?n.get(1):n[1],t)}}}))},Yt.prototype.cacheResult=Vt.prototype.cacheResult=Xt.prototype.cacheResult=$t.prototype.cacheResult=mr,t(xr,we),xr.prototype.toString=function(){return this.__toString(Or(this)+" {","}")},xr.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},xr.prototype.get=function(e,t){if(!this.has(e))return t;var r=this._defaultValues[e];return this._map?this._map.get(e,r):r},xr.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=Ir(this,ot()))},xr.prototype.set=function(e,t){if(!this.has(e))throw new Error(\'Cannot set unknown key "\'+e+\'" on \'+Or(this));if(this._map&&!this._map.has(e)&&t===this._defaultValues[e])return this;var r=this._map&&this._map.set(e,t);return this.__ownerID||r===this._map?this:Ir(this,r)},xr.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:Ir(this,t)},xr.prototype.wasAltered=function(){return this._map.wasAltered()},xr.prototype.__iterator=function(e,t){var r=this;return n(this._defaultValues).map((function(e,t){return r.get(t)})).__iterator(e,t)},xr.prototype.__iterate=function(e,t){var r=this;return n(this._defaultValues).map((function(e,t){return r.get(t)})).__iterate(e,t)},xr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?Ir(this,t,e):(this.__ownerID=e,this._map=t,this)};var wr=xr.prototype;function Ir(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._map=t,n.__ownerID=r,n}function Or(e){return e._name||e.constructor.name||"Record"}function Sr(e,t){try{t.forEach(Ar.bind(void 0,e))}catch(r){}}function Ar(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){be(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function Rr(e){return null==e?kr():Tr(e)&&!l(e)?e:kr().withMutations((function(t){var r=i(e);qe(r.size),r.forEach((function(e){return t.add(e)}))}))}function Tr(e){return!(!e||!e[Dr])}wr[_]=wr.remove,wr.deleteIn=wr.removeIn=Ye.removeIn,wr.merge=Ye.merge,wr.mergeWith=Ye.mergeWith,wr.mergeIn=Ye.mergeIn,wr.mergeDeep=Ye.mergeDeep,wr.mergeDeepWith=Ye.mergeDeepWith,wr.mergeDeepIn=Ye.mergeDeepIn,wr.setIn=Ye.setIn,wr.update=Ye.update,wr.updateIn=Ye.updateIn,wr.withMutations=Ye.withMutations,wr.asMutable=Ye.asMutable,wr.asImmutable=Ye.asImmutable,t(Rr,Oe),Rr.of=function(){return this(arguments)},Rr.fromKeys=function(e){return this(n(e).keySeq())},Rr.prototype.toString=function(){return this.__toString("Set {","}")},Rr.prototype.has=function(e){return this._map.has(e)},Rr.prototype.add=function(e){return Lr(this,this._map.set(e,!0))},Rr.prototype.remove=function(e){return Lr(this,this._map.remove(e))},Rr.prototype.clear=function(){return Lr(this,this._map.clear())},Rr.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var r=0;r<t.length;r++)i(t[r]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},Rr.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return i(e)}));var r=this;return this.withMutations((function(e){r.forEach((function(r){t.every((function(e){return e.includes(r)}))||e.remove(r)}))}))},Rr.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return i(e)}));var r=this;return this.withMutations((function(e){r.forEach((function(r){t.some((function(e){return e.includes(r)}))&&e.remove(r)}))}))},Rr.prototype.merge=function(){return this.union.apply(this,arguments)},Rr.prototype.mergeWith=function(t){var r=e.call(arguments,1);return this.union.apply(this,r)},Rr.prototype.sort=function(e){return Cr(lr(this,e))},Rr.prototype.sortBy=function(e,t){return Cr(lr(this,t,e))},Rr.prototype.wasAltered=function(){return this._map.wasAltered()},Rr.prototype.__iterate=function(e,t){var r=this;return this._map.__iterate((function(t,n){return e(n,n,r)}),t)},Rr.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},Rr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},Rr.isSet=Tr;var Nr,Dr="@@__IMMUTABLE_SET__@@",jr=Rr.prototype;function Lr(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Mr(e,t){var r=Object.create(jr);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function kr(){return Nr||(Nr=Mr(ot()))}function Cr(e){return null==e?Ur():zr(e)?e:Ur().withMutations((function(t){var r=i(e);qe(r.size),r.forEach((function(e){return t.add(e)}))}))}function zr(e){return Tr(e)&&l(e)}jr[Dr]=!0,jr[_]=jr.remove,jr.mergeDeep=jr.merge,jr.mergeDeepWith=jr.mergeWith,jr.withMutations=Ye.withMutations,jr.asMutable=Ye.asMutable,jr.asImmutable=Ye.asImmutable,jr.__empty=kr,jr.__make=Mr,t(Cr,Rr),Cr.of=function(){return this(arguments)},Cr.fromKeys=function(e){return this(n(e).keySeq())},Cr.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Cr.isOrderedSet=zr;var Pr,Br=Cr.prototype;function Wr(e,t){var r=Object.create(Br);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function Ur(){return Pr||(Pr=Wr(Kt()))}function Fr(e){return null==e?Yr():qr(e)?e:Yr().unshiftAll(e)}function qr(e){return!(!e||!e[Kr])}Br[v]=!0,Br.__empty=Ur,Br.__make=Wr,t(Fr,Ie),Fr.of=function(){return this(arguments)},Fr.prototype.toString=function(){return this.__toString("Stack [","]")},Fr.prototype.get=function(e,t){var r=this._head;for(e=A(this,e);r&&e--;)r=r.next;return r?r.value:t},Fr.prototype.peek=function(){return this._head&&this._head.value},Fr.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,r=arguments.length-1;r>=0;r--)t={value:arguments[r],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Vr(e,t)},Fr.prototype.pushAll=function(e){if(0===(e=o(e)).size)return this;qe(e.size);var t=this.size,r=this._head;return e.reverse().forEach((function(e){t++,r={value:e,next:r}})),this.__ownerID?(this.size=t,this._head=r,this.__hash=void 0,this.__altered=!0,this):Vr(t,r)},Fr.prototype.pop=function(){return this.slice(1)},Fr.prototype.unshift=function(){return this.push.apply(this,arguments)},Fr.prototype.unshiftAll=function(e){return this.pushAll(e)},Fr.prototype.shift=function(){return this.pop.apply(this,arguments)},Fr.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Yr()},Fr.prototype.slice=function(e,t){if(T(e,t,this.size))return this;var r=N(e,this.size);if(D(t,this.size)!==this.size)return Ie.prototype.slice.call(this,e,t);for(var n=this.size-r,o=this._head;r--;)o=o.next;return this.__ownerID?(this.size=n,this._head=o,this.__hash=void 0,this.__altered=!0,this):Vr(n,o)},Fr.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Vr(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Fr.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var r=0,n=this._head;n&&!1!==e(n.value,r++,this);)n=n.next;return r},Fr.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var r=0,n=this._head;return new B((function(){if(n){var t=n.value;return n=n.next,W(e,r++,t)}return U()}))},Fr.isStack=qr;var Gr,Kr="@@__IMMUTABLE_STACK__@@",Hr=Fr.prototype;function Vr(e,t,r,n){var o=Object.create(Hr);return o.size=e,o._head=t,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function Yr(){return Gr||(Gr=Vr(0))}function Xr(e,t){var r=function(r){e.prototype[r]=t[r]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}Hr[Kr]=!0,Hr.withMutations=Ye.withMutations,Hr.asMutable=Ye.asMutable,Hr.asImmutable=Ye.asImmutable,Hr.wasAltered=Ye.wasAltered,r.Iterator=B,Xr(r,{toArray:function(){qe(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,r){e[r]=t})),e},toIndexedSeq:function(){return new Yt(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new Vt(this,!0)},toMap:function(){return Ge(this.toKeyedSeq())},toObject:function(){qe(this.size);var e={};return this.__iterate((function(t,r){e[r]=t})),e},toOrderedMap:function(){return Ft(this.toKeyedSeq())},toOrderedSet:function(){return Cr(s(this)?this.valueSeq():this)},toSet:function(){return Rr(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Xt(this)},toSeq:function(){return u(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Fr(s(this)?this.valueSeq():this)},toList:function(){return It(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){return vr(this,ar(this,e.call(arguments,0)))},includes:function(e){return this.some((function(t){return ge(t,e)}))},entries:function(){return this.__iterator(k)},every:function(e,t){qe(this.size);var r=!0;return this.__iterate((function(n,o,i){if(!e.call(t,n,o,i))return r=!1,!1})),r},filter:function(e,t){return vr(this,er(this,e,t,!0))},find:function(e,t,r){var n=this.findEntry(e,t);return n?n[1]:r},forEach:function(e,t){return qe(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){qe(this.size),e=void 0!==e?""+e:",";var t="",r=!0;return this.__iterate((function(n){r?r=!1:t+=e,t+=null!=n?n.toString():""})),t},keys:function(){return this.__iterator(L)},map:function(e,t){return vr(this,Qt(this,e,t))},reduce:function(e,t,r){var n,o;return qe(this.size),arguments.length<2?o=!0:n=t,this.__iterate((function(t,i,a){o?(o=!1,n=t):n=e.call(r,n,t,i,a)})),n},reduceRight:function(e,t,r){var n=this.toKeyedSeq().reverse();return n.reduce.apply(n,arguments)},reverse:function(){return vr(this,Zt(this,!0))},slice:function(e,t){return vr(this,nr(this,e,t,!0))},some:function(e,t){return!this.every(en(e),t)},sort:function(e){return vr(this,lr(this,e))},values:function(){return this.__iterator(M)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return S(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return tr(this,e,t)},equals:function(e){return ye(this,e)},entrySeq:function(){var e=this;if(e._cache)return new te(e._cache);var t=e.toSeq().map(Zr).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(en(e),t)},findEntry:function(e,t,r){var n=r;return this.__iterate((function(r,o,i){if(e.call(t,r,o,i))return n=[o,r],!1})),n},findKey:function(e,t){var r=this.findEntry(e,t);return r&&r[0]},findLast:function(e,t,r){return this.toKeyedSeq().reverse().find(e,t,r)},findLastEntry:function(e,t,r){return this.toKeyedSeq().reverse().findEntry(e,t,r)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(R)},flatMap:function(e,t){return vr(this,ur(this,e,t))},flatten:function(e){return vr(this,sr(this,e,!0))},fromEntrySeq:function(){return new $t(this)},get:function(e,t){return this.find((function(t,r){return ge(r,e)}),void 0,t)},getIn:function(e,t){for(var r,n=this,o=Er(e);!(r=o.next()).done;){var i=r.value;if((n=n&&n.get?n.get(i,m):m)===m)return t}return n},groupBy:function(e,t){return rr(this,e,t)},has:function(e){return this.get(e,m)!==m},hasIn:function(e){return this.getIn(e,m)!==m},isSubset:function(e){return e="function"==typeof e.includes?e:r(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:r(e)).isSubset(this)},keyOf:function(e){return this.findKey((function(t){return ge(t,e)}))},keySeq:function(){return this.toSeq().map(Qr).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return fr(this,e)},maxBy:function(e,t){return fr(this,t,e)},min:function(e){return fr(this,e?tn(e):on)},minBy:function(e,t){return fr(this,t?tn(t):on,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return vr(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return vr(this,ir(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(en(e),t)},sortBy:function(e,t){return vr(this,lr(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return vr(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return vr(this,or(this,e,t))},takeUntil:function(e,t){return this.takeWhile(en(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=an(this))}});var $r=r.prototype;$r[f]=!0,$r[P]=$r.values,$r.__toJS=$r.toArray,$r.__toStringMapper=rn,$r.inspect=$r.toSource=function(){return this.toString()},$r.chain=$r.flatMap,$r.contains=$r.includes,Xr(n,{flip:function(){return vr(this,Jt(this))},mapEntries:function(e,t){var r=this,n=0;return vr(this,this.toSeq().map((function(o,i){return e.call(t,[i,o],n++,r)})).fromEntrySeq())},mapKeys:function(e,t){var r=this;return vr(this,this.toSeq().flip().map((function(n,o){return e.call(t,n,o,r)})).flip())}});var Jr=n.prototype;function Qr(e,t){return t}function Zr(e,t){return[t,e]}function en(e){return function(){return!e.apply(this,arguments)}}function tn(e){return function(){return-e.apply(this,arguments)}}function rn(e){return"string"==typeof e?JSON.stringify(e):String(e)}function nn(){return O(arguments)}function on(e,t){return e<t?1:e>t?-1:0}function an(e){if(e.size===1/0)return 0;var t=l(e),r=s(e),n=t?1:0;return sn(e.__iterate(r?t?function(e,t){n=31*n+un(Re(e),Re(t))|0}:function(e,t){n=n+un(Re(e),Re(t))|0}:t?function(e){n=31*n+Re(e)|0}:function(e){n=n+Re(e)|0}),n)}function sn(e,t){return t=Se(t,3432918353),t=Se(t<<15|t>>>-15,461845907),t=Se(t<<13|t>>>-13,5),t=Se((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=Ae((t=Se(t^t>>>13,3266489909))^t>>>16)}function un(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Jr[h]=!0,Jr[P]=$r.entries,Jr.__toJS=$r.toObject,Jr.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+rn(e)},Xr(o,{toKeyedSeq:function(){return new Vt(this,!1)},filter:function(e,t){return vr(this,er(this,e,t,!1))},findIndex:function(e,t){var r=this.findEntry(e,t);return r?r[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return vr(this,Zt(this,!1))},slice:function(e,t){return vr(this,nr(this,e,t,!1))},splice:function(e,t){var r=arguments.length;if(t=Math.max(0|t,0),0===r||2===r&&!t)return this;e=N(e,e<0?this.count():this.size);var n=this.slice(0,e);return vr(this,1===r?n:n.concat(O(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var r=this.findLastEntry(e,t);return r?r[0]:-1},first:function(){return this.get(0)},flatten:function(e){return vr(this,sr(this,e,!1))},get:function(e,t){return(e=A(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,r){return r===e}),void 0,t)},has:function(e){return(e=A(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return vr(this,cr(this,e))},interleave:function(){var e=[this].concat(O(arguments)),t=pr(this.toSeq(),X.of,e),r=t.flatten(!0);return t.size&&(r.size=t.size*e.length),vr(this,r)},keySeq:function(){return Ee(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return vr(this,ir(this,e,t,!1))},zip:function(){return vr(this,pr(this,nn,[this].concat(O(arguments))))},zipWith:function(e){var t=O(arguments);return t[0]=this,vr(this,pr(this,e,t))}}),o.prototype[p]=!0,o.prototype[v]=!0,Xr(i,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=$r.includes,i.prototype.contains=i.prototype.includes,Xr(Y,n.prototype),Xr(X,o.prototype),Xr($,i.prototype),Xr(we,n.prototype),Xr(Ie,o.prototype),Xr(Oe,i.prototype),{Iterable:r,Seq:V,Collection:xe,Map:Ge,OrderedMap:Ft,List:It,Stack:Fr,Set:Rr,OrderedSet:Cr,Record:xr,Range:Ee,Repeat:me,is:ge,fromJS:pe}}()},8552:(e,t,r)=>{var n=r(852)(r(5639),"DataView");e.exports=n},1989:(e,t,r)=>{var n=r(1789),o=r(401),i=r(7667),a=r(1327),s=r(1866);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},6425:(e,t,r)=>{var n=r(3118),o=r(9435);function i(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}i.prototype=n(o.prototype),i.prototype.constructor=i,e.exports=i},8407:(e,t,r)=>{var n=r(7040),o=r(4125),i=r(2117),a=r(7518),s=r(4705);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},7548:(e,t,r)=>{var n=r(3118),o=r(9435);function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}i.prototype=n(o.prototype),i.prototype.constructor=i,e.exports=i},7071:(e,t,r)=>{var n=r(852)(r(5639),"Map");e.exports=n},3369:(e,t,r)=>{var n=r(4785),o=r(1285),i=r(6e3),a=r(9916),s=r(5265);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},3818:(e,t,r)=>{var n=r(852)(r(5639),"Promise");e.exports=n},8525:(e,t,r)=>{var n=r(852)(r(5639),"Set");e.exports=n},8668:(e,t,r)=>{var n=r(3369),o=r(619),i=r(2385);function a(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},6384:(e,t,r)=>{var n=r(8407),o=r(7465),i=r(3779),a=r(7599),s=r(4758),u=r(4309);function c(e){var t=this.__data__=new n(e);this.size=t.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c},2705:(e,t,r)=>{var n=r(5639).Symbol;e.exports=n},1149:(e,t,r)=>{var n=r(5639).Uint8Array;e.exports=n},577:(e,t,r)=>{var n=r(852)(r(5639),"WeakMap");e.exports=n},6874:e=>{e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},7412:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},4963:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i}},7443:(e,t,r)=>{var n=r(2118);e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},4636:(e,t,r)=>{var n=r(2545),o=r(5694),i=r(1469),a=r(4144),s=r(5776),u=r(6719),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=i(e),l=!r&&o(e),f=!r&&!l&&a(e),h=!r&&!l&&!f&&u(e),p=r||l||f||h,v=p?n(e.length,String):[],_=v.length;for(var d in e)!t&&!c.call(e,d)||p&&("length"==d||f&&("offset"==d||"parent"==d)||h&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||s(d,_))||v.push(d);return v}},9932:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}},2488:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}},2908:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},6556:(e,t,r)=>{var n=r(9465),o=r(7813);e.exports=function(e,t,r){(void 0!==r&&!o(e[t],r)||void 0===r&&!(t in e))&&n(e,t,r)}},4865:(e,t,r)=>{var n=r(9465),o=r(7813),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var a=e[t];i.call(e,t)&&o(a,r)&&(void 0!==r||t in e)||n(e,t,r)}},8470:(e,t,r)=>{var n=r(7813);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},4037:(e,t,r)=>{var n=r(8363),o=r(3674);e.exports=function(e,t){return e&&n(t,o(t),e)}},3886:(e,t,r)=>{var n=r(8363),o=r(1704);e.exports=function(e,t){return e&&n(t,o(t),e)}},9465:(e,t,r)=>{var n=r(8777);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},9750:e=>{e.exports=function(e,t,r){return e==e&&(void 0!==r&&(e=e<=r?e:r),void 0!==t&&(e=e>=t?e:t)),e}},5990:(e,t,r)=>{var n=r(6384),o=r(7412),i=r(4865),a=r(4037),s=r(3886),u=r(4626),c=r(278),l=r(8805),f=r(1911),h=r(8234),p=r(6904),v=r(4160),_=r(3824),d=r(9148),g=r(8517),y=r(1469),m=r(4144),b=r(6688),E=r(3218),x=r(2928),w=r(3674),I=r(1704),O="[object Arguments]",S="[object Function]",A="[object Object]",R={};R[O]=R["[object Array]"]=R["[object ArrayBuffer]"]=R["[object DataView]"]=R["[object Boolean]"]=R["[object Date]"]=R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Map]"]=R["[object Number]"]=R[A]=R["[object RegExp]"]=R["[object Set]"]=R["[object String]"]=R["[object Symbol]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R["[object Error]"]=R[S]=R["[object WeakMap]"]=!1,e.exports=function e(t,r,T,N,D,j){var L,M=1&r,k=2&r,C=4&r;if(T&&(L=D?T(t,N,D,j):T(t)),void 0!==L)return L;if(!E(t))return t;var z=y(t);if(z){if(L=_(t),!M)return c(t,L)}else{var P=v(t),B=P==S||"[object GeneratorFunction]"==P;if(m(t))return u(t,M);if(P==A||P==O||B&&!D){if(L=k||B?{}:g(t),!M)return k?f(t,s(L,t)):l(t,a(L,t))}else{if(!R[P])return D?t:{};L=d(t,P,M)}}j||(j=new n);var W=j.get(t);if(W)return W;j.set(t,L),x(t)?t.forEach((function(n){L.add(e(n,r,T,n,t,j))})):b(t)&&t.forEach((function(n,o){L.set(o,e(n,r,T,o,t,j))}));var U=z?void 0:(C?k?p:h:k?I:w)(t);return o(U||t,(function(n,o){U&&(n=t[o=n]),i(L,o,e(n,r,T,o,t,j))})),L}},3118:(e,t,r)=>{var n=r(3218),o=Object.create,i=function(){function e(){}return function(t){if(!n(t))return{};if(o)return o(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=i},9881:(e,t,r)=>{var n=r(7816),o=r(9291)(n);e.exports=o},6029:(e,t,r)=>{var n=r(3448);e.exports=function(e,t,r){for(var o=-1,i=e.length;++o<i;){var a=e[o],s=t(a);if(null!=s&&(void 0===u?s==s&&!n(s):r(s,u)))var u=s,c=a}return c}},1848:e=>{e.exports=function(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},1078:(e,t,r)=>{var n=r(2488),o=r(7285);e.exports=function e(t,r,i,a,s){var u=-1,c=t.length;for(i||(i=o),s||(s=[]);++u<c;){var l=t[u];r>0&&i(l)?r>1?e(l,r-1,i,a,s):n(s,l):a||(s[s.length]=l)}return s}},8483:(e,t,r)=>{var n=r(5063)();e.exports=n},7816:(e,t,r)=>{var n=r(8483),o=r(3674);e.exports=function(e,t){return e&&n(e,t,o)}},7786:(e,t,r)=>{var n=r(1811),o=r(327);e.exports=function(e,t){for(var r=0,i=(t=n(t,e)).length;null!=e&&r<i;)e=e[o(t[r++])];return r&&r==i?e:void 0}},8866:(e,t,r)=>{var n=r(2488),o=r(1469);e.exports=function(e,t,r){var i=t(e);return o(e)?i:n(i,r(e))}},4239:(e,t,r)=>{var n=r(2705),o=r(9607),i=r(2333),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},3325:e=>{e.exports=function(e,t){return e>t}},13:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},2118:(e,t,r)=>{var n=r(1848),o=r(2722),i=r(2351);e.exports=function(e,t,r){return t==t?i(e,t,r):n(e,o,r)}},9454:(e,t,r)=>{var n=r(4239),o=r(7005);e.exports=function(e){return o(e)&&"[object Arguments]"==n(e)}},939:(e,t,r)=>{var n=r(2492),o=r(7005);e.exports=function e(t,r,i,a,s){return t===r||(null==t||null==r||!o(t)&&!o(r)?t!=t&&r!=r:n(t,r,i,a,e,s))}},2492:(e,t,r)=>{var n=r(6384),o=r(7114),i=r(8351),a=r(6096),s=r(4160),u=r(1469),c=r(4144),l=r(6719),f="[object Arguments]",h="[object Array]",p="[object Object]",v=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,_,d,g){var y=u(e),m=u(t),b=y?h:s(e),E=m?h:s(t),x=(b=b==f?p:b)==p,w=(E=E==f?p:E)==p,I=b==E;if(I&&c(e)){if(!c(t))return!1;y=!0,x=!1}if(I&&!x)return g||(g=new n),y||l(e)?o(e,t,r,_,d,g):i(e,t,b,r,_,d,g);if(!(1&r)){var O=x&&v.call(e,"__wrapped__"),S=w&&v.call(t,"__wrapped__");if(O||S){var A=O?e.value():e,R=S?t.value():t;return g||(g=new n),d(A,R,r,_,g)}}return!!I&&(g||(g=new n),a(e,t,r,_,d,g))}},5588:(e,t,r)=>{var n=r(4160),o=r(7005);e.exports=function(e){return o(e)&&"[object Map]"==n(e)}},2958:(e,t,r)=>{var n=r(6384),o=r(939);e.exports=function(e,t,r,i){var a=r.length,s=a,u=!i;if(null==e)return!s;for(e=Object(e);a--;){var c=r[a];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var l=(c=r[a])[0],f=e[l],h=c[1];if(u&&c[2]){if(void 0===f&&!(l in e))return!1}else{var p=new n;if(i)var v=i(f,h,l,e,t,p);if(!(void 0===v?o(h,f,3,i,p):v))return!1}}return!0}},2722:e=>{e.exports=function(e){return e!=e}},8458:(e,t,r)=>{var n=r(3560),o=r(5346),i=r(3218),a=r(346),s=/^\\[object .+?Constructor\\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\\\^$.*+?()[\\]{}|]/g,"\\\\$&").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(n(e)?h:s).test(a(e))}},9221:(e,t,r)=>{var n=r(4160),o=r(7005);e.exports=function(e){return o(e)&&"[object Set]"==n(e)}},8749:(e,t,r)=>{var n=r(4239),o=r(1780),i=r(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[n(e)]}},7206:(e,t,r)=>{var n=r(1573),o=r(6432),i=r(6557),a=r(1469),s=r(9601);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):n(e):s(e)}},280:(e,t,r)=>{var n=r(5726),o=r(6916),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=[];for(var r in Object(e))i.call(e,r)&&"constructor"!=r&&t.push(r);return t}},313:(e,t,r)=>{var n=r(3218),o=r(5726),i=r(3498),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=o(e),r=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&r.push(s);return r}},9435:e=>{e.exports=function(){}},433:e=>{e.exports=function(e,t){return e<t}},9199:(e,t,r)=>{var n=r(9881),o=r(8612);e.exports=function(e,t){var r=-1,i=o(e)?Array(e.length):[];return n(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}},1573:(e,t,r)=>{var n=r(2958),o=r(1499),i=r(2634);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},6432:(e,t,r)=>{var n=r(939),o=r(7361),i=r(9095),a=r(5403),s=r(9162),u=r(2634),c=r(327);e.exports=function(e,t){return a(e)&&s(t)?u(c(e),t):function(r){var a=o(r,e);return void 0===a&&a===t?i(r,e):n(t,a,3)}}},2980:(e,t,r)=>{var n=r(6384),o=r(6556),i=r(8483),a=r(9783),s=r(3218),u=r(1704),c=r(6390);e.exports=function e(t,r,l,f,h){t!==r&&i(r,(function(i,u){if(h||(h=new n),s(i))a(t,r,u,l,e,f,h);else{var p=f?f(c(t,u),i,u+"",t,r,h):void 0;void 0===p&&(p=i),o(t,u,p)}}),u)}},9783:(e,t,r)=>{var n=r(6556),o=r(4626),i=r(7133),a=r(278),s=r(8517),u=r(5694),c=r(1469),l=r(9246),f=r(4144),h=r(3560),p=r(3218),v=r(8630),_=r(6719),d=r(6390),g=r(7117);e.exports=function(e,t,r,y,m,b,E){var x=d(e,r),w=d(t,r),I=E.get(w);if(I)n(e,r,I);else{var O=b?b(x,w,r+"",e,t,E):void 0,S=void 0===O;if(S){var A=c(w),R=!A&&f(w),T=!A&&!R&&_(w);O=w,A||R||T?c(x)?O=x:l(x)?O=a(x):R?(S=!1,O=o(w,!0)):T?(S=!1,O=i(w,!0)):O=[]:v(w)||u(w)?(O=x,u(x)?O=g(x):p(x)&&!h(x)||(O=s(w))):S=!1}S&&(E.set(w,O),m(O,w,y,b,E),E.delete(w)),n(e,r,O)}}},371:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},9152:(e,t,r)=>{var n=r(7786);e.exports=function(e){return function(t){return n(t,e)}}},5976:(e,t,r)=>{var n=r(6557),o=r(5357),i=r(61);e.exports=function(e,t){return i(o(e,t,n),e+"")}},611:(e,t,r)=>{var n=r(4865),o=r(1811),i=r(5776),a=r(3218),s=r(327);e.exports=function(e,t,r,u){if(!a(e))return e;for(var c=-1,l=(t=o(t,e)).length,f=l-1,h=e;null!=h&&++c<l;){var p=s(t[c]),v=r;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(c!=f){var _=h[p];void 0===(v=u?u(_,p,h):void 0)&&(v=a(_)?_:i(t[c+1])?[]:{})}n(h,p,v),h=h[p]}return e}},8045:(e,t,r)=>{var n=r(6557),o=r(9250),i=o?function(e,t){return o.set(e,t),e}:n;e.exports=i},6560:(e,t,r)=>{var n=r(5703),o=r(8777),i=r(6557),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:i;e.exports=a},7762:e=>{e.exports=function(e,t){for(var r,n=-1,o=e.length;++n<o;){var i=t(e[n]);void 0!==i&&(r=void 0===r?i:r+i)}return r}},2545:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},9841:(e,t,r)=>{var n=r(3448);e.exports=function(e){return"number"==typeof e?e:n(e)?NaN:+e}},531:(e,t,r)=>{var n=r(2705),o=r(9932),i=r(1469),a=r(3448),s=n?n.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return u?u.call(t):"";var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r}},7561:(e,t,r)=>{var n=r(7990),o=/^\\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(o,""):e}},1717:e=>{e.exports=function(e){return function(t){return e(t)}}},4757:e=>{e.exports=function(e,t){return e.has(t)}},1811:(e,t,r)=>{var n=r(1469),o=r(5403),i=r(5514),a=r(9833);e.exports=function(e,t){return n(e)?e:o(e,t)?[e]:i(a(e))}},4318:(e,t,r)=>{var n=r(1149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},4626:(e,t,r)=>{e=r.nmd(e);var n=r(5639),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=s?s(r):new e.constructor(r);return e.copy(n),n}},7157:(e,t,r)=>{var n=r(4318);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}},3147:e=>{var t=/\\w*$/;e.exports=function(e){var r=new e.constructor(e.source,t.exec(e));return r.lastIndex=e.lastIndex,r}},419:(e,t,r)=>{var n=r(2705),o=n?n.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},7133:(e,t,r)=>{var n=r(4318);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},2157:e=>{var t=Math.max;e.exports=function(e,r,n,o){for(var i=-1,a=e.length,s=n.length,u=-1,c=r.length,l=t(a-s,0),f=Array(c+l),h=!o;++u<c;)f[u]=r[u];for(;++i<s;)(h||i<a)&&(f[n[i]]=e[i]);for(;l--;)f[u++]=e[i++];return f}},4054:e=>{var t=Math.max;e.exports=function(e,r,n,o){for(var i=-1,a=e.length,s=-1,u=n.length,c=-1,l=r.length,f=t(a-u,0),h=Array(f+l),p=!o;++i<f;)h[i]=e[i];for(var v=i;++c<l;)h[v+c]=r[c];for(;++s<u;)(p||i<a)&&(h[v+n[s]]=e[i++]);return h}},278:e=>{e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},8363:(e,t,r)=>{var n=r(4865),o=r(9465);e.exports=function(e,t,r,i){var a=!r;r||(r={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=i?i(r[c],e[c],c,r,e):void 0;void 0===l&&(l=e[c]),a?o(r,c,l):n(r,c,l)}return r}},8805:(e,t,r)=>{var n=r(8363),o=r(9551);e.exports=function(e,t){return n(e,o(e),t)}},1911:(e,t,r)=>{var n=r(8363),o=r(1442);e.exports=function(e,t){return n(e,o(e),t)}},4429:(e,t,r)=>{var n=r(5639)["__core-js_shared__"];e.exports=n},7991:e=>{e.exports=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}},1463:(e,t,r)=>{var n=r(5976),o=r(6612);e.exports=function(e){return n((function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(r[0],r[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++n<i;){var u=r[n];u&&e(t,u,n,a)}return t}))}},9291:(e,t,r)=>{var n=r(8612);e.exports=function(e,t){return function(r,o){if(null==r)return r;if(!n(r))return e(r,o);for(var i=r.length,a=t?i:-1,s=Object(r);(t?a--:++a<i)&&!1!==o(s[a],a,s););return r}}},5063:e=>{e.exports=function(e){return function(t,r,n){for(var o=-1,i=Object(t),a=n(t),s=a.length;s--;){var u=a[e?s:++o];if(!1===r(i[u],u,i))break}return t}}},2402:(e,t,r)=>{var n=r(1774),o=r(5639);e.exports=function(e,t,r){var i=1&t,a=n(e);return function t(){return(this&&this!==o&&this instanceof t?a:e).apply(i?r:this,arguments)}}},1774:(e,t,r)=>{var n=r(3118),o=r(3218);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=n(e.prototype),i=e.apply(r,t);return o(i)?i:r}}},6347:(e,t,r)=>{var n=r(6874),o=r(1774),i=r(6935),a=r(4487),s=r(893),u=r(6460),c=r(5639);e.exports=function(e,t,r){var l=o(e);return function o(){for(var f=arguments.length,h=Array(f),p=f,v=s(o);p--;)h[p]=arguments[p];var _=f<3&&h[0]!==v&&h[f-1]!==v?[]:u(h,v);return(f-=_.length)<r?a(e,t,i,o.placeholder,void 0,h,_,void 0,void 0,r-f):n(this&&this!==c&&this instanceof o?l:e,this,h)}}},3468:(e,t,r)=>{var n=r(7548),o=r(9021),i=r(6833),a=r(7658),s=r(1469),u=r(6528);e.exports=function(e){return o((function(t){var r=t.length,o=r,c=n.prototype.thru;for(e&&t.reverse();o--;){var l=t[o];if("function"!=typeof l)throw new TypeError("Expected a function");if(c&&!f&&"wrapper"==a(l))var f=new n([],!0)}for(o=f?o:r;++o<r;){l=t[o];var h=a(l),p="wrapper"==h?i(l):void 0;f=p&&u(p[0])&&424==p[1]&&!p[4].length&&1==p[9]?f[a(p[0])].apply(f,p[3]):1==l.length&&u(l)?f[h]():f.thru(l)}return function(){var e=arguments,n=e[0];if(f&&1==e.length&&s(n))return f.plant(n).value();for(var o=0,i=r?t[o].apply(this,e):n;++o<r;)i=t[o].call(this,i);return i}}))}},6935:(e,t,r)=>{var n=r(2157),o=r(4054),i=r(7991),a=r(1774),s=r(4487),u=r(893),c=r(451),l=r(6460),f=r(5639);e.exports=function e(t,r,h,p,v,_,d,g,y,m){var b=128&r,E=1&r,x=2&r,w=24&r,I=512&r,O=x?void 0:a(t);return function S(){for(var A=arguments.length,R=Array(A),T=A;T--;)R[T]=arguments[T];if(w)var N=u(S),D=i(R,N);if(p&&(R=n(R,p,v,w)),_&&(R=o(R,_,d,w)),A-=D,w&&A<m){var j=l(R,N);return s(t,r,e,S.placeholder,h,R,j,g,y,m-A)}var L=E?h:this,M=x?L[t]:t;return A=R.length,g?R=c(R,g):I&&A>1&&R.reverse(),b&&y<A&&(R.length=y),this&&this!==f&&this instanceof S&&(M=O||a(M)),M.apply(L,R)}}},7273:(e,t,r)=>{var n=r(9841),o=r(531);e.exports=function(e,t){return function(r,i){var a;if(void 0===r&&void 0===i)return t;if(void 0!==r&&(a=r),void 0!==i){if(void 0===a)return i;"string"==typeof r||"string"==typeof i?(r=o(r),i=o(i)):(r=n(r),i=n(i)),a=e(r,i)}return a}}},4375:(e,t,r)=>{var n=r(6874),o=r(1774),i=r(5639);e.exports=function(e,t,r,a){var s=1&t,u=o(e);return function t(){for(var o=-1,c=arguments.length,l=-1,f=a.length,h=Array(f+c),p=this&&this!==i&&this instanceof t?u:e;++l<f;)h[l]=a[l];for(;c--;)h[l++]=arguments[++o];return n(p,s?r:this,h)}}},4487:(e,t,r)=>{var n=r(6528),o=r(258),i=r(9255);e.exports=function(e,t,r,a,s,u,c,l,f,h){var p=8&t;t|=p?32:64,4&(t&=~(p?64:32))||(t&=-4);var v=[e,t,s,p?u:void 0,p?c:void 0,p?void 0:u,p?void 0:c,l,f,h],_=r.apply(void 0,v);return n(e)&&o(_,v),_.placeholder=a,i(_,e,t)}},7727:(e,t,r)=>{var n=r(8045),o=r(2402),i=r(6347),a=r(6935),s=r(4375),u=r(6833),c=r(3833),l=r(258),f=r(9255),h=r(554),p=Math.max;e.exports=function(e,t,r,v,_,d,g,y){var m=2&t;if(!m&&"function"!=typeof e)throw new TypeError("Expected a function");var b=v?v.length:0;if(b||(t&=-97,v=_=void 0),g=void 0===g?g:p(h(g),0),y=void 0===y?y:h(y),b-=_?_.length:0,64&t){var E=v,x=_;v=_=void 0}var w=m?void 0:u(e),I=[e,t,r,v,_,E,x,d,g,y];if(w&&c(I,w),e=I[0],t=I[1],r=I[2],v=I[3],_=I[4],!(y=I[9]=void 0===I[9]?m?0:e.length:p(I[9]-b,0))&&24&t&&(t&=-25),t&&1!=t)O=8==t||16==t?i(e,t,y):32!=t&&33!=t||_.length?a.apply(void 0,I):s(e,t,r,v);else var O=o(e,t,r);return f((w?n:l)(O,I),e,t)}},8777:(e,t,r)=>{var n=r(852),o=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=o},7114:(e,t,r)=>{var n=r(8668),o=r(2908),i=r(4757);e.exports=function(e,t,r,a,s,u){var c=1&r,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var h=u.get(e),p=u.get(t);if(h&&p)return h==t&&p==e;var v=-1,_=!0,d=2&r?new n:void 0;for(u.set(e,t),u.set(t,e);++v<l;){var g=e[v],y=t[v];if(a)var m=c?a(y,g,v,t,e,u):a(g,y,v,e,t,u);if(void 0!==m){if(m)continue;_=!1;break}if(d){if(!o(t,(function(e,t){if(!i(d,t)&&(g===e||s(g,e,r,a,u)))return d.push(t)}))){_=!1;break}}else if(g!==y&&!s(g,y,r,a,u)){_=!1;break}}return u.delete(e),u.delete(t),_}},8351:(e,t,r)=>{var n=r(2705),o=r(1149),i=r(7813),a=r(7114),s=r(8776),u=r(1814),c=n?n.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,r,n,c,f,h){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var v=1&n;if(p||(p=u),e.size!=t.size&&!v)return!1;var _=h.get(e);if(_)return _==t;n|=2,h.set(e,t);var d=a(p(e),p(t),n,c,f,h);return h.delete(e),d;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},6096:(e,t,r)=>{var n=r(8234),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,i,a,s){var u=1&r,c=n(e),l=c.length;if(l!=n(t).length&&!u)return!1;for(var f=l;f--;){var h=c[f];if(!(u?h in t:o.call(t,h)))return!1}var p=s.get(e),v=s.get(t);if(p&&v)return p==t&&v==e;var _=!0;s.set(e,t),s.set(t,e);for(var d=u;++f<l;){var g=e[h=c[f]],y=t[h];if(i)var m=u?i(y,g,h,t,e,s):i(g,y,h,e,t,s);if(!(void 0===m?g===y||a(g,y,r,i,s):m)){_=!1;break}d||(d="constructor"==h)}if(_&&!d){var b=e.constructor,E=t.constructor;b==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof E&&E instanceof E||(_=!1)}return s.delete(e),s.delete(t),_}},9021:(e,t,r)=>{var n=r(5564),o=r(5357),i=r(61);e.exports=function(e){return i(o(e,void 0,n),e+"")}},1957:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},8234:(e,t,r)=>{var n=r(8866),o=r(9551),i=r(3674);e.exports=function(e){return n(e,i,o)}},6904:(e,t,r)=>{var n=r(8866),o=r(1442),i=r(1704);e.exports=function(e){return n(e,i,o)}},6833:(e,t,r)=>{var n=r(9250),o=r(308),i=n?function(e){return n.get(e)}:o;e.exports=i},7658:(e,t,r)=>{var n=r(2060),o=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",r=n[t],i=o.call(n,t)?r.length:0;i--;){var a=r[i],s=a.func;if(null==s||s==e)return a.name}return t}},893:e=>{e.exports=function(e){return e.placeholder}},5050:(e,t,r)=>{var n=r(7019);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},1499:(e,t,r)=>{var n=r(9162),o=r(3674);e.exports=function(e){for(var t=o(e),r=t.length;r--;){var i=t[r],a=e[i];t[r]=[i,a,n(a)]}return t}},852:(e,t,r)=>{var n=r(8458),o=r(7801);e.exports=function(e,t){var r=o(e,t);return n(r)?r:void 0}},5924:(e,t,r)=>{var n=r(5569)(Object.getPrototypeOf,Object);e.exports=n},9607:(e,t,r)=>{var n=r(2705),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(u){}var o=a.call(e);return n&&(t?e[s]=r:delete e[s]),o}},9551:(e,t,r)=>{var n=r(4963),o=r(479),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),n(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=s},1442:(e,t,r)=>{var n=r(2488),o=r(5924),i=r(9551),a=r(479),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,i(e)),e=o(e);return t}:a;e.exports=s},4160:(e,t,r)=>{var n=r(8552),o=r(7071),i=r(3818),a=r(8525),s=r(577),u=r(4239),c=r(346),l="[object Map]",f="[object Promise]",h="[object Set]",p="[object WeakMap]",v="[object DataView]",_=c(n),d=c(o),g=c(i),y=c(a),m=c(s),b=u;(n&&b(new n(new ArrayBuffer(1)))!=v||o&&b(new o)!=l||i&&b(i.resolve())!=f||a&&b(new a)!=h||s&&b(new s)!=p)&&(b=function(e){var t=u(e),r="[object Object]"==t?e.constructor:void 0,n=r?c(r):"";if(n)switch(n){case _:return v;case d:return l;case g:return f;case y:return h;case m:return p}return t}),e.exports=b},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},8775:e=>{var t=/\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,r=/,? & /;e.exports=function(e){var n=e.match(t);return n?n[1].split(r):[]}},222:(e,t,r)=>{var n=r(1811),o=r(5694),i=r(1469),a=r(5776),s=r(1780),u=r(327);e.exports=function(e,t,r){for(var c=-1,l=(t=n(t,e)).length,f=!1;++c<l;){var h=u(t[c]);if(!(f=null!=e&&r(e,h)))break;e=e[h]}return f||++c!=l?f:!!(l=null==e?0:e.length)&&s(l)&&a(h,l)&&(i(e)||o(e))}},1789:(e,t,r)=>{var n=r(4536);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:(e,t,r)=>{var n=r(4536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(t,e)?t[e]:void 0}},1327:(e,t,r)=>{var n=r(4536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:o.call(t,e)}},1866:(e,t,r)=>{var n=r(4536);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},3824:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var r=e.length,n=new e.constructor(r);return r&&"string"==typeof e[0]&&t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},9148:(e,t,r)=>{var n=r(4318),o=r(7157),i=r(3147),a=r(419),s=r(7133);e.exports=function(e,t,r){var u=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new u(+e);case"[object DataView]":return o(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,r);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(e);case"[object RegExp]":return i(e);case"[object Symbol]":return a(e)}}},8517:(e,t,r)=>{var n=r(3118),o=r(5924),i=r(5726);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:n(o(e))}},3112:e=>{var t=/\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/;e.exports=function(e,r){var n=r.length;if(!n)return e;var o=n-1;return r[o]=(n>1?"& ":"")+r[o],r=r.join(n>2?", ":" "),e.replace(t,"{\\n/* [wrapped with "+r+"] */\\n")}},7285:(e,t,r)=>{var n=r(2705),o=r(5694),i=r(1469),a=n?n.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},5776:e=>{var t=/^(?:0|[1-9]\\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},6612:(e,t,r)=>{var n=r(7813),o=r(8612),i=r(5776),a=r(3218);e.exports=function(e,t,r){if(!a(r))return!1;var s=typeof t;return!!("number"==s?o(r)&&i(t,r.length):"string"==s&&t in r)&&n(r[t],e)}},5403:(e,t,r)=>{var n=r(1469),o=r(3448),i=/\\.|\\[(?:[^[\\]]*|(["\'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,a=/^\\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},7019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},6528:(e,t,r)=>{var n=r(6425),o=r(6833),i=r(7658),a=r(8111);e.exports=function(e){var t=i(e),r=a[t];if("function"!=typeof r||!(t in n.prototype))return!1;if(e===r)return!0;var s=o(r);return!!s&&e===s[0]}},5346:(e,t,r)=>{var n,o=r(4429),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!i&&i in e}},5726:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},9162:(e,t,r)=>{var n=r(3218);e.exports=function(e){return e==e&&!n(e)}},7040:e=>{e.exports=function(){this.__data__=[],this.size=0}},4125:(e,t,r)=>{var n=r(8470),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():o.call(t,r,1),--this.size,!0)}},2117:(e,t,r)=>{var n=r(8470);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},7518:(e,t,r)=>{var n=r(8470);e.exports=function(e){return n(this.__data__,e)>-1}},4705:(e,t,r)=>{var n=r(8470);e.exports=function(e,t){var r=this.__data__,o=n(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}},4785:(e,t,r)=>{var n=r(1989),o=r(8407),i=r(7071);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},1285:(e,t,r)=>{var n=r(5050);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},6e3:(e,t,r)=>{var n=r(5050);e.exports=function(e){return n(this,e).get(e)}},9916:(e,t,r)=>{var n=r(5050);e.exports=function(e){return n(this,e).has(e)}},5265:(e,t,r)=>{var n=r(5050);e.exports=function(e,t){var r=n(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}},8776:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},2634:e=>{e.exports=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}},4523:(e,t,r)=>{var n=r(8306);e.exports=function(e){var t=n(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},3833:(e,t,r)=>{var n=r(2157),o=r(4054),i=r(6460),a="__lodash_placeholder__",s=128,u=Math.min;e.exports=function(e,t){var r=e[1],c=t[1],l=r|c,f=l<131,h=c==s&&8==r||c==s&&256==r&&e[7].length<=t[8]||384==c&&t[7].length<=t[8]&&8==r;if(!f&&!h)return e;1&c&&(e[2]=t[2],l|=1&r?0:4);var p=t[3];if(p){var v=e[3];e[3]=v?n(v,p,t[4]):p,e[4]=v?i(e[3],a):t[4]}return(p=t[5])&&(v=e[5],e[5]=v?o(v,p,t[6]):p,e[6]=v?i(e[5],a):t[6]),(p=t[7])&&(e[7]=p),c&s&&(e[8]=null==e[8]?t[8]:u(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=l,e}},9250:(e,t,r)=>{var n=r(577),o=n&&new n;e.exports=o},4536:(e,t,r)=>{var n=r(852)(Object,"create");e.exports=n},6916:(e,t,r)=>{var n=r(5569)(Object.keys,Object);e.exports=n},3498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},1167:(e,t,r)=>{e=r.nmd(e);var n=r(1957),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&n.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},5357:(e,t,r)=>{var n=r(6874),o=Math.max;e.exports=function(e,t,r){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),u=Array(s);++a<s;)u[a]=i[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=i[a];return c[t]=r(u),n(e,this,c)}}},2060:e=>{e.exports={}},451:(e,t,r)=>{var n=r(278),o=r(5776),i=Math.min;e.exports=function(e,t){for(var r=e.length,a=i(t.length,r),s=n(e);a--;){var u=t[a];e[a]=o(u,r)?s[u]:void 0}return e}},6460:e=>{var t="__lodash_placeholder__";e.exports=function(e,r){for(var n=-1,o=e.length,i=0,a=[];++n<o;){var s=e[n];s!==r&&s!==t||(e[n]=t,a[i++]=n)}return a}},5639:(e,t,r)=>{var n=r(1957),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},6390:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},2385:e=>{e.exports=function(e){return this.__data__.has(e)}},258:(e,t,r)=>{var n=r(8045),o=r(1275)(n);e.exports=o},1814:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},61:(e,t,r)=>{var n=r(6560),o=r(1275)(n);e.exports=o},9255:(e,t,r)=>{var n=r(8775),o=r(3112),i=r(61),a=r(7241);e.exports=function(e,t,r){var s=t+"";return i(e,o(s,a(n(s),r)))}},1275:e=>{var t=Date.now;e.exports=function(e){var r=0,n=0;return function(){var o=t(),i=16-(o-n);if(n=o,i>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}},7465:(e,t,r)=>{var n=r(8407);e.exports=function(){this.__data__=new n,this.size=0}},3779:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},7599:e=>{e.exports=function(e){return this.__data__.get(e)}},4758:e=>{e.exports=function(e){return this.__data__.has(e)}},4309:(e,t,r)=>{var n=r(8407),o=r(7071),i=r(3369);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new i(a)}return r.set(e,t),this.size=r.size,this}},2351:e=>{e.exports=function(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}},5514:(e,t,r)=>{var n=r(4523),o=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["\'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,i=/\\\\(\\\\)?/g,a=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,r,n,o){t.push(n?o.replace(i,"$1"):r||e)})),t}));e.exports=a},327:(e,t,r)=>{var n=r(3448);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(r){}try{return e+""}catch(r){}}return""}},7990:e=>{var t=/\\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},7241:(e,t,r)=>{var n=r(7412),o=r(7443),i=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return n(i,(function(r){var n="_."+r[0];t&r[1]&&!o(e,n)&&e.push(n)})),e.sort()}},1913:(e,t,r)=>{var n=r(6425),o=r(7548),i=r(278);e.exports=function(e){if(e instanceof n)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=i(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},874:(e,t,r)=>{var n=r(7273)((function(e,t){return e+t}),0);e.exports=n},9514:(e,t,r)=>{var n=r(7727);e.exports=function(e,t,r){return t=r?void 0:t,t=e&&null==t?e.length:t,n(e,128,void 0,void 0,void 0,void 0,t)}},6678:(e,t,r)=>{var n=r(5990);e.exports=function(e){return n(e,4)}},5703:e=>{e.exports=function(e){return function(){return e}}},87:(e,t,r)=>{var n=r(7727);function o(e,t,r){var i=n(e,8,void 0,void 0,void 0,void 0,void 0,t=r?void 0:t);return i.placeholder=o.placeholder,i}o.placeholder={},e.exports=o},6654:(e,t,r)=>{var n=r(9750),o=r(531),i=r(554),a=r(9833);e.exports=function(e,t,r){e=a(e),t=o(t);var s=e.length,u=r=void 0===r?s:n(i(r),0,s);return(r-=t.length)>=0&&e.slice(r,u)==t}},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},4654:(e,t,r)=>{var n=r(1078),o=r(5161);e.exports=function(e,t){return n(o(e,t),1)}},5564:(e,t,r)=>{var n=r(1078);e.exports=function(e){return(null==e?0:e.length)?n(e,1):[]}},5666:(e,t,r)=>{var n=r(7727);e.exports=function(e){return n(e,512)}},9242:(e,t,r)=>{var n=r(3468)();e.exports=n},4599:(e,t,r)=>{var n=r(8836),o=r(9306),i=Array.prototype.push;function a(e,t){return 2==t?function(t,r){return e(t,r)}:function(t){return e(t)}}function s(e){for(var t=e?e.length:0,r=Array(t);t--;)r[t]=e[t];return r}function u(e,t){return function(){var r=arguments.length;if(r){for(var n=Array(r);r--;)n[r]=arguments[r];var o=n[0]=t.apply(void 0,n);return e.apply(void 0,n),o}}}e.exports=function e(t,r,c,l){var f="function"==typeof r,h=r===Object(r);if(h&&(l=c,c=r,r=void 0),null==c)throw new TypeError;l||(l={});var p={cap:!("cap"in l)||l.cap,curry:!("curry"in l)||l.curry,fixed:!("fixed"in l)||l.fixed,immutable:!("immutable"in l)||l.immutable,rearg:!("rearg"in l)||l.rearg},v=f?c:o,_="curry"in l&&l.curry,d="fixed"in l&&l.fixed,g="rearg"in l&&l.rearg,y=f?c.runInContext():void 0,m=f?c:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},b=m.ary,E=m.assign,x=m.clone,w=m.curry,I=m.forEach,O=m.isArray,S=m.isError,A=m.isFunction,R=m.isWeakMap,T=m.keys,N=m.rearg,D=m.toInteger,j=m.toPath,L=T(n.aryMethod),M={castArray:function(e){return function(){var t=arguments[0];return O(t)?e(s(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[1],r=e(arguments[0],t),n=r.length;return p.cap&&"number"==typeof t?(t=t>2?t-2:1,n&&n<=t?r:a(r,t)):r}},mixin:function(e){return function(t){var r=this;if(!A(r))return e(r,Object(t));var n=[];return I(T(t),(function(e){A(t[e])&&n.push([e,r.prototype[e]])})),e(r,Object(t)),I(n,(function(e){var t=e[1];A(t)?r.prototype[e[0]]=t:delete r.prototype[e[0]]})),r}},nthArg:function(e){return function(t){var r=t<0?1:D(t)+1;return w(e(t),r)}},rearg:function(e){return function(t,r){var n=r?r.length:0;return w(e(t,r),n)}},runInContext:function(r){return function(n){return e(t,r(n),l)}}};function k(e,t){if(p.cap){var r=n.iterateeRearg[e];if(r)return function(e,t){return W(e,(function(e){var r=t.length;return function(e,t){return 2==t?function(t,r){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(N(a(e,r),t),r)}))}(t,r);var o=!f&&n.iterateeAry[e];if(o)return function(e,t){return W(e,(function(e){return"function"==typeof e?a(e,t):e}))}(t,o)}return t}function C(e,t,r){if(p.fixed&&(d||!n.skipFixed[e])){var o=n.methodSpread[e],a=o&&o.start;return void 0===a?b(t,r):function(e,t){return function(){for(var r=arguments.length,n=r-1,o=Array(r);r--;)o[r]=arguments[r];var a=o[t],s=o.slice(0,t);return a&&i.apply(s,a),t!=n&&i.apply(s,o.slice(t+1)),e.apply(this,s)}}(t,a)}return t}function z(e,t,r){return p.rearg&&r>1&&(g||!n.skipRearg[e])?N(t,n.methodRearg[e]||n.aryRearg[r]):t}function P(e,t){for(var r=-1,n=(t=j(t)).length,o=n-1,i=x(Object(e)),a=i;null!=a&&++r<n;){var s=t[r],u=a[s];null==u||A(u)||S(u)||R(u)||(a[s]=x(r==o?u:Object(u))),a=a[s]}return i}function B(t,r){var o=n.aliasToReal[t]||t,i=n.remap[o]||o,a=l;return function(t){var n=f?y:m,s=f?y[i]:r,u=E(E({},a),t);return e(n,o,s,u)}}function W(e,t){return function(){var r=arguments.length;if(!r)return e();for(var n=Array(r);r--;)n[r]=arguments[r];var o=p.rearg?0:r-1;return n[o]=t(n[o]),e.apply(void 0,n)}}function U(e,t,r){var o,i=n.aliasToReal[e]||e,a=t,c=M[i];return c?a=c(t):p.immutable&&(n.mutate.array[i]?a=u(t,s):n.mutate.object[i]?a=u(t,function(e){return function(t){return e({},t)}}(t)):n.mutate.set[i]&&(a=u(t,P))),I(L,(function(e){return I(n.aryMethod[e],(function(t){if(i==t){var r=n.methodSpread[i],s=r&&r.afterRearg;return o=s?C(i,z(i,a,e),e):z(i,C(i,a,e),e),o=function(e,t,r){return _||p.curry&&r>1?w(t,r):t}(0,o=k(i,o),e),!1}})),!o})),o||(o=a),o==t&&(o=_?w(o,1):function(){return t.apply(this,arguments)}),o.convert=B(i,t),o.placeholder=t.placeholder=r,o}if(!h)return U(r,c,v);var F=c,q=[];return I(L,(function(e){I(n.aryMethod[e],(function(e){var t=F[n.remap[e]||e];t&&q.push([e,U(e,t,F)])}))})),I(T(F),(function(e){var t=F[e];if("function"==typeof t){for(var r=q.length;r--;)if(q[r][0]==e)return;t.convert=B(e,t),q.push([e,t])}})),I(q,(function(e){F[e[0]]=e[1]})),F.convert=function(e){return F.runInContext.convert(e)(void 0)},F.placeholder=F,I(T(F),(function(e){I(n.realToAlias[e]||[],(function(t){F[t]=F[e]}))})),F}},9087:e=>{e.exports={cap:!1,curry:!1,fixed:!1,immutable:!1,rearg:!1}},8836:(e,t)=>{t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,r=t.aliasToReal,n={};for(var o in r){var i=r[o];e.call(n,i)?n[i].push(o):n[i]=[o]}return n}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},4269:(e,t,r)=>{e.exports={ary:r(9514),assign:r(4037),clone:r(6678),curry:r(87),forEach:r(7412),isArray:r(1469),isError:r(4647),isFunction:r(3560),isWeakMap:r(1018),iteratee:r(2594),keys:r(280),rearg:r(3678),toInteger:r(554),toPath:r(84)}},4432:(e,t,r)=>{var n=r(2822)("add",r(874));n.placeholder=r(9306),e.exports=n},2822:(e,t,r)=>{var n=r(4599),o=r(4269);e.exports=function(e,t,r){return n(o,e,t,r)}},9935:(e,t,r)=>{var n=r(2822)("curry",r(87));n.placeholder=r(9306),e.exports=n},6666:(e,t,r)=>{var n=r(2822)("curryN",r(87));n.placeholder=r(9306),e.exports=n},179:(e,t,r)=>{var n=r(2822)("endsWith",r(6654));n.placeholder=r(9306),e.exports=n},1151:(e,t,r)=>{var n=r(2822)("flatMap",r(4654));n.placeholder=r(9306),e.exports=n},7948:(e,t,r)=>{var n=r(2822)("flip",r(5666),r(9087));n.placeholder=r(9306),e.exports=n},8816:(e,t,r)=>{var n=r(2822)("flow",r(9242));n.placeholder=r(9306),e.exports=n},3422:(e,t,r)=>{var n=r(2822)("get",r(7361));n.placeholder=r(9306),e.exports=n},7606:(e,t,r)=>{var n=r(2822)("isEmpty",r(1609),r(9087));n.placeholder=r(9306),e.exports=n},7108:(e,t,r)=>{var n=r(2822)("isNull",r(5220),r(9087));n.placeholder=r(9306),e.exports=n},8738:(e,t,r)=>{var n=r(2822)("isString",r(7037),r(9087));n.placeholder=r(9306),e.exports=n},3772:(e,t,r)=>{var n=r(2822)("isUndefined",r(2353),r(9087));n.placeholder=r(9306),e.exports=n},8980:(e,t,r)=>{var n=r(2822)("keys",r(3674),r(9087));n.placeholder=r(9306),e.exports=n},8846:(e,t,r)=>{var n=r(2822)("map",r(5161));n.placeholder=r(9306),e.exports=n},9974:(e,t,r)=>{var n=r(2822)("max",r(6162),r(9087));n.placeholder=r(9306),e.exports=n},7617:(e,t,r)=>{var n=r(2822)("min",r(3632),r(9087));n.placeholder=r(9306),e.exports=n},9306:e=>{e.exports={}},8252:(e,t,r)=>{var n=r(2822)("set",r(6968));n.placeholder=r(9306),e.exports=n},7361:(e,t,r)=>{var n=r(7786);e.exports=function(e,t,r){var o=null==e?void 0:n(e,t);return void 0===o?r:o}},9095:(e,t,r)=>{var n=r(13),o=r(222);e.exports=function(e,t){return null!=e&&o(e,t,n)}},6557:e=>{e.exports=function(e){return e}},5694:(e,t,r)=>{var n=r(9454),o=r(7005),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},1469:e=>{var t=Array.isArray;e.exports=t},8612:(e,t,r)=>{var n=r(3560),o=r(1780);e.exports=function(e){return null!=e&&o(e.length)&&!n(e)}},9246:(e,t,r)=>{var n=r(8612),o=r(7005);e.exports=function(e){return o(e)&&n(e)}},4144:(e,t,r)=>{e=r.nmd(e);var n=r(5639),o=r(5062),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?n.Buffer:void 0,u=(s?s.isBuffer:void 0)||o;e.exports=u},1609:(e,t,r)=>{var n=r(280),o=r(4160),i=r(5694),a=r(1469),s=r(8612),u=r(4144),c=r(5726),l=r(6719),f=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||l(e)||i(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!n(e).length;for(var r in e)if(f.call(e,r))return!1;return!0}},8446:(e,t,r)=>{var n=r(939);e.exports=function(e,t){return n(e,t)}},4647:(e,t,r)=>{var n=r(4239),o=r(7005),i=r(8630);e.exports=function(e){if(!o(e))return!1;var t=n(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!i(e)}},3560:(e,t,r)=>{var n=r(4239),o=r(3218);e.exports=function(e){if(!o(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6688:(e,t,r)=>{var n=r(5588),o=r(1717),i=r(1167),a=i&&i.isMap,s=a?o(a):n;e.exports=s},5220:e=>{e.exports=function(e){return null===e}},1763:(e,t,r)=>{var n=r(4239),o=r(7005);e.exports=function(e){return"number"==typeof e||o(e)&&"[object Number]"==n(e)}},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},8630:(e,t,r)=>{var n=r(4239),o=r(5924),i=r(7005),a=Function.prototype,s=Object.prototype,u=a.toString,c=s.hasOwnProperty,l=u.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=n(e))return!1;var t=o(e);if(null===t)return!0;var r=c.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&u.call(r)==l}},2928:(e,t,r)=>{var n=r(9221),o=r(1717),i=r(1167),a=i&&i.isSet,s=a?o(a):n;e.exports=s},7037:(e,t,r)=>{var n=r(4239),o=r(1469),i=r(7005);e.exports=function(e){return"string"==typeof e||!o(e)&&i(e)&&"[object String]"==n(e)}},3448:(e,t,r)=>{var n=r(4239),o=r(7005);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==n(e)}},6719:(e,t,r)=>{var n=r(8749),o=r(1717),i=r(1167),a=i&&i.isTypedArray,s=a?o(a):n;e.exports=s},2353:e=>{e.exports=function(e){return void 0===e}},1018:(e,t,r)=>{var n=r(4160),o=r(7005);e.exports=function(e){return o(e)&&"[object WeakMap]"==n(e)}},2594:(e,t,r)=>{var n=r(5990),o=r(7206);e.exports=function(e){return o("function"==typeof e?e:n(e,1))}},3674:(e,t,r)=>{var n=r(4636),o=r(280),i=r(8612);e.exports=function(e){return i(e)?n(e):o(e)}},1704:(e,t,r)=>{var n=r(4636),o=r(313),i=r(8612);e.exports=function(e){return i(e)?n(e,!0):o(e)}},5161:(e,t,r)=>{var n=r(9932),o=r(7206),i=r(9199),a=r(1469);e.exports=function(e,t){return(a(e)?n:i)(e,o(t,3))}},6162:(e,t,r)=>{var n=r(6029),o=r(3325),i=r(6557);e.exports=function(e){return e&&e.length?n(e,i,o):void 0}},8306:(e,t,r)=>{var n=r(3369);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(o.Cache||n),r}o.Cache=n,e.exports=o},236:(e,t,r)=>{var n=r(2980),o=r(1463)((function(e,t,r,o){n(e,t,r,o)}));e.exports=o},3632:(e,t,r)=>{var n=r(6029),o=r(433),i=r(6557);e.exports=function(e){return e&&e.length?n(e,i,o):void 0}},308:e=>{e.exports=function(){}},9601:(e,t,r)=>{var n=r(371),o=r(9152),i=r(5403),a=r(327);e.exports=function(e){return i(e)?n(a(e)):o(e)}},3678:(e,t,r)=>{var n=r(7727),o=r(9021),i=o((function(e,t){return n(e,256,void 0,void 0,void 0,t)}));e.exports=i},6968:(e,t,r)=>{var n=r(611);e.exports=function(e,t,r){return null==e?e:n(e,t,r)}},479:e=>{e.exports=function(){return[]}},5062:e=>{e.exports=function(){return!1}},2297:(e,t,r)=>{var n=r(7762),o=r(6557);e.exports=function(e){return e&&e.length?n(e,o):0}},8601:(e,t,r)=>{var n=r(4841),o=1/0;e.exports=function(e){return e?(e=n(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},554:(e,t,r)=>{var n=r(8601);e.exports=function(e){var t=n(e),r=t%1;return t==t?r?t-r:t:0}},4841:(e,t,r)=>{var n=r(7561),o=r(3218),i=r(3448),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=s.test(e);return r||u.test(e)?c(e.slice(2),r?2:8):a.test(e)?NaN:+e}},84:(e,t,r)=>{var n=r(9932),o=r(278),i=r(1469),a=r(3448),s=r(5514),u=r(327),c=r(9833);e.exports=function(e){return i(e)?n(e,u):a(e)?[e]:o(s(c(e)))}},7117:(e,t,r)=>{var n=r(8363),o=r(1704);e.exports=function(e){return n(e,o(e))}},9833:(e,t,r)=>{var n=r(531);e.exports=function(e){return null==e?"":n(e)}},8111:(e,t,r)=>{var n=r(6425),o=r(7548),i=r(9435),a=r(1469),s=r(7005),u=r(1913),c=Object.prototype.hasOwnProperty;function l(e){if(s(e)&&!a(e)&&!(e instanceof n)){if(e instanceof o)return e;if(c.call(e,"__wrapped__"))return u(e)}return new o(e)}l.prototype=i.prototype,l.prototype.constructor=l,e.exports=l}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e=r(2353),t=r.n(e),n=r(1763),o=r.n(n),i=r(9161);let a,s;!function(e){e.ANALYTICS="analytics",e.PERSISTENCE_LAYER="persistence-layer",e.PERSISTENCE_LAYER_MIDDLEWARE="persistence-layer.middleware",e.PERSISTENCE_LAYER_WORKER="persistence-layer.worker",e.PERSISTENCE_LAYER_WORKER_SELECTOR_CALCULATOR="persistence-layer.worker.selector-calculator",e.PERSISTENCE_LAYER_WORKER_STORE_INITIALISER="persistence-layer.worker.store-initialiser",e.PURGING_SYSTEM="purging-system",e.INSTANT_APP="instant-app",e.ASYNC_RESOURCE="async-resource",e.SERVICE_WORKER="service-worker",e.SERVICE_WORKER_REGISTRATION="service-worker.registration",e.SERVICE_WORKER_PUSH_NOTIFICATION_MANAGER="service-worker.push-notifications-manager",e.REDUX_LOG="redux-log",e.REDUX_LOG_MAIN="redux-log.main",e.REDUX_LOG_MEASUREMENTS="redux-log.measurements",e.REDUX_LOG_COLLAB="redux-log.collab",e.REDUX_LOG_EDITOR="redux-log.editor"}(a||(a={})),function(e){e[e.ERROR=0]="ERROR",e[e.WARN=100]="WARN",e[e.INFO=200]="INFO",e[e.FINE=300]="FINE",e[e.FINER=400]="FINER",e[e.FINEST=500]="FINEST"}(s||(s={}));let u;!function(e){e.GLOBAL="global",e.LOGS="logs",e.TOOLBAR="toolbar"}(u||(u={}));(()=>{const e="local_storage";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}})()&&localStorage;let c={};const l=e=>{c=e,c.global&&console.info("[debug] Set debug settings:",c)},f=()=>!!c.global,h=e=>{const r=e.split(".");for(let n=r.length-1;n>=0;n--){const e=r.slice(0,n+1).join("."),o=c[e];if(!t()(o))return o}return f()},p=(0,i.Z)().debugLevel||s.ERROR,v=e=>o()(e)?e:e?s.FINEST:s.ERROR,_=()=>{const e=h(u.LOGS);if(!t()(e))return v(e);const r=f();return t()(r)?p:v(r)},d=e=>{const r=h(`${u.LOGS}.${e}`);return t()(r)?_():v(r)};var g=r(5350);function y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class m{constructor(e){y(this,"channelName",void 0),y(this,"createChannel",(e=>new m(this.channelName?`${this.channelName}.${e}`:e))),y(this,"consoleLog",((e,t)=>(...r)=>{(this.channelName?d(this.channelName):_())<e||(this.channelName&&(r[0]=`[${this.channelName}] ${r[0]}`),t.apply(console,r))})),y(this,"debug",this.consoleLog(g.DEBUG_LEVEL.FINE,console.log)),y(this,"log",this.consoleLog(g.DEBUG_LEVEL.FINE,console.log)),y(this,"info",this.consoleLog(g.DEBUG_LEVEL.INFO,console.info)),y(this,"table",this.consoleLog(g.DEBUG_LEVEL.INFO,console.table)),y(this,"error",this.consoleLog(g.DEBUG_LEVEL.ERROR,console.error)),y(this,"warn",this.consoleLog(g.DEBUG_LEVEL.WARN,console.warn)),y(this,"groupCollapsed",this.consoleLog(g.DEBUG_LEVEL.OFF,console.groupCollapsed)),y(this,"group",this.consoleLog(g.DEBUG_LEVEL.OFF,console.group)),y(this,"groupEnd",this.consoleLog(g.DEBUG_LEVEL.OFF,console.groupEnd)),y(this,"debugGroupCollapsed",this.consoleLog(g.DEBUG_LEVEL.OFF,console.groupCollapsed)),y(this,"debugGroup",this.consoleLog(g.DEBUG_LEVEL.OFF,console.group)),y(this,"debugGroupEnd",this.consoleLog(g.DEBUG_LEVEL.OFF,console.groupEnd)),this.channelName=e}}const b=new m,E=b;function x(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}"function"==typeof Symbol&&Symbol.observable;var w=function(){return Math.random().toString(36).substring(7).split("").join(".")},I={INIT:"@@redux/INIT"+w(),REPLACE:"@@redux/REPLACE"+w(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+w()}};const O=e=>{var t,r,n;const o={_id:e._id||e.id||"unknown",elementType:e.elementType,location:{section:(null===(t=e.location)||void 0===t?void 0:t.section)??null,parentId:(null===(r=e.location)||void 0===r?void 0:r.parentId)??null}};return null!==(n=e.content)&&void 0!==n&&n.linkTo&&(o.content={linkTo:e.content.linkTo}),o};var S=r(7606),A=r.n(S);function R(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}const T=function(e,t){var r;void 0===t&&(t=R);var n,o=[],i=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return i&&r===this&&t(a,o)||(n=e.apply(this,a),i=!0,r=this,o=a),n}};r(8980);var N=r(3422),D=r.n(N),j=r(6666),L=r.n(j),M=r(7948),k=r.n(M),C=r(9935),z=r.n(C),P=r(3393);const B=e=>P.Iterable.isIterable(e),W=z()(((e,t)=>t?B(t)?t.get(e):Array.isArray(t)?t[e]:null==t?void 0:t[e]:t)),U=z()(((e,t)=>t?B(t)?t.getIn(e):D()(e,t):t));L()(2,k()(W));var F=r(8738),q=r.n(F),G=r(8252),K=r.n(G),H=(r(7617),r(9974),r(8846),r(8816)),V=r.n(H),Y=r(179),X=r.n(Y);r(9242);const $=e=>e&&e.get&&(e.get("id")||e.get("_id"))||e&&(e._id||e.id),J=(U(["content","linkTo"]),U(["content","linkAlias"]),U(["content","permissionId"]),e=>q()(e)?e:W("elementType",e)),Q=W("acl"),Z=(U(["meta","creator"]),U(["meta","modifiedBy"]),U(["meta","modifiedTime"]),U(["meta","aclModifiedTime"]),U(["meta","significantModified"]),U(["meta","createdTime"]),U(["meta","tempId"]),U(["meta","platform"]),U(["meta","versionId"]),e=>{var t;return e&&((null===(t=e.location)||void 0===t?void 0:t.parentId)||e.getIn&&e.getIn(["location","parentId"]))}),ee=(W("location"),U(["location","rootBoard"])),te=U(["location","section"]),re=(U(["location","position"]),U(["location","position","restoreLocation"]),U(["location","position","restoreLocation","parentId"]),U(["location","position","addedDate"]),U(["location","position","score"]),U(["location","position","index"]),e=>t=>U(["location","position",e],t)||0);re("y"),re("x"),U(["location","position","deletedDate"]),U(["content"]),U(["content","inbox"]),U(["content","locked"]),U(["content","title"]),U(["content","showTitle"]),U(["content","color"]),U(["content","secondaryColor"]),U(["content","colorComboList"]),U(["content","color","space"]),U(["content","color","value"]),U(["content","showColorValue"]),U(["content","icon"]),U(["content","icon","id"]),U(["content","icon","type"]),U(["content","width"]),U(["content","height"]),U(["content","minHeight"]),U(["content","maxHeight"]),U(["content","autoHeight"]),U(["content","showCaption"]),U(["content","caption"]),U(["content","captionModified"]),U(["content","textContent"]),U(["content","keywords"]),U(["content","attachmentId"]),U(["content","displayMode"]),U(["content","inboxAutomaticOpenTimestamp"]),U(["content","previousCanvasOrigin"]),U(["content","link"]),U(["content","link","url"]),U(["content","linkType"]),U(["content","link","favicon"]),U(["content","image"]),U(["content","image","regular"]),U(["content","image","huge"]),U(["content","image","large"]),U(["content","image","original"]),U(["content","image","thumb"]),U(["content","image","error"]),U(["content","image","width"]),U(["content","image","height"]),U(["content","showBackground"]),U(["content","image","isDataUri"]),U(["content","image","colors"]),U(["content","image","primaryColor"]),U(["content","imageOriginal"]),U(["content","mediaPlayerLoop"]),U(["content","mediaPlayerAutoplay"]),U(["content","media"]),U(["content","mediaType"]),U(["content","media","width"]),U(["content","media","height"]),U(["content","media","originalWidth"]),U(["content","media","originalHeight"]),U(["content","previewReady"]),U(["content","audioOnly"]),U(["content","publicEditEnabledTimestamp"]),U(["content","publishedFeedbackEnabled"]),U(["content","publishedMediaDownloadDisabled"]),U(["content","welcomeMessage"]),U(["content","welcomeMessage","textContent"]),U(["content","welcomeMessage","modifier"]),U(["content","background"]),U(["content","background","hideImage"]),U(["content","background","showGrid"]),U(["content","background","color"]),U(["content","autoColorIndex"]),U(["content","defaultColorPalette"]),U(["content","start"]),U(["content","start","elementId"]),U(["content","end"]),U(["content","end","elementId"]),U(["content","control"]),U(["content","startStyle"]),U(["content","endStyle"]),U(["content","lineStyle"]),U(["content","lineWeight"]),U(["content","lineLabel"]),U(["content","file"]),U(["content","file","filename"]),U(["content","file","size"]),U(["content","file","url"]),U(["content","file","mime"]),U(["content","file","type"]),U(["content","file","uploadedTimestamp"]),U(["content","threadId"]),U(["content","collapsed"]),U(["content","originalTitle"]),U(["content","originalColor"]),U(["content","originalSecondaryColor"]),U(["content","originalIcon"]),U(["content","originalImage"]),U(["content","originalImage","original"]),U(["content","originalImage","regular"]),U(["content","originalImage","large"]),U(["content","originalImage","huge"]),U(["content","assignments"]),U(["content","dueDate"]),U(["content","dueReminder"]),U(["content","dueReminderTimestamp"]),U(["content","drawing"]),U(["content","drawing","svg"]),U(["content","drawing","width"]),U(["content","drawing","height"]),U(["content","drawingMode"]),U(["content","reactions"]),U(["content","clonedElementType"]),U(["content","tableContent"]),U(["content","tableContent","data"]),U(["content","tableContent","colWidthsGU"]);let ne,oe,ie,ae;!function(e){e.CANVAS="CANVAS",e.INBOX="INBOX",e.TRASH="TRASH",e.DELETED="DELETED",e.ATTACHED="ATTACHED"}(ne||(ne={})),function(e){e.OPEN="OPEN",e.CLOSED="CLOSED"}(oe||(oe={})),function(e){e.WORKSPACE="WORKSPACE",e.TEMPLATES="TEMPLATES",e.QUICK_NOTES="QUICK_NOTES"}(ie||(ie={})),function(e){e.WORKSPACE="Home",e.TEMPLATES="Templates",e.QUICK_NOTES="Quick notes"}(ae||(ae={}));const se="BOARD",ue="ALIAS",ce="COLUMN",le="CARD",fe="LINK",he="LINE",pe="IMAGE";var ve=r(1151),_e=r.n(ve);let de;var ge;!function(e){e.GENERIC="GENERIC",e.IMAGE="IMAGE",e.RAW_IMAGE="RAW_IMAGE",e.SVG="SVG",e.ZIP="ZIP",e.HTML="HTML",e.CODE="CODE",e.PDF="PDF",e.AUDIO="AUDIO",e.VIDEO="VIDEO",e.MSG="MSG",e.EMAIL="EMAIL",e.TEXT="TEXT",e.CSV="CSV",e.DOCX="DOCX",e.PPTX="PPTX",e.XLSX="XLSX",e.PAGES="PAGES",e.KEYNOTE="KEYNOTE",e.NUMBERS="NUMBERS",e.SKETCH="SKETCH",e.AFDESIGN="AFDESIGN",e.PSD="PSD",e.LR="LR",e.PR="PR",e.AI="AI",e.IND="IND",e.AE="AE",e.XD="XD",e.MUSE="MUSE",e.DW="DW",e.AXURE="AXURE",e.FONT="FONT",e.NON_PREVIEWABLE_FONT="NON_PREVIEWABLE_FONT",e.MODEL_3D="MODEL_3D"}(de||(de={}));const ye=r(9161).Z(),me="FILE",be=(null==ye||null===(ge=ye.aws)||void 0===ge||ge.s3MediaStorageUrl,{free:512e5,pro:512e7}),Ee={GENERIC:{type:de.GENERIC,preview:!1,maxSize:be},IMAGE:{type:de.IMAGE,mimePattern:/^image\\/(webp|png|gif|jpe?g|svg\\+xml)/g,extensions:["jpg","jpeg","jpe","gif","png","webp","tif","tiff","bmp","ico","pbm","pgm","ppm","svg"],iconName:"file-image",maxSize:{free:1024e4,pro:1024e5},preview:!0},RAW_IMAGE:{type:de.RAW_IMAGE,extensions:["jxr","cr2","crw","dng","mrw","orf","raw","xmp","nef","x3f","erf","eps","raf","cube","3dl"],iconName:"file-raw-image",preview:!0},SVG:{type:de.SVG,extensions:["svg"],iconName:"file-svg",preview:!0},ZIP:{type:de.ZIP,extensions:["zip","rar","tar","7z","gz"],iconName:"file-zip",preview:!1},HTML:{type:de.HTML,extensions:["htm","html"],iconName:"file-html",preview:!0},CODE:{type:de.CODE,extensions:["c","css","ini","ins","h","js","jar","java","json","py","pl","php","swift","ts","xml"],iconName:"file-code",preview:!1},PDF:{type:de.PDF,extensions:["pdf"],iconName:"file-acrobat",preview:!0},AUDIO:{type:de.AUDIO,extensions:["mp3","m4a","mid","wav","wave","amr","3ga","mka","mpa","opus","oga","pkf","ra","ram","aiff","pcm"],iconName:"file-audio",preview:!1,mediaPlayerMimePattern:/^audio\\/(x-)?(mp3|m4a|aac|mpeg|ogg|wav)/g},VIDEO:{type:de.VIDEO,extensions:["mp4","m4p","m4b","m4r","m4v","mkv","mk3d","mks","webm","mov","qt","wmv","divx","xvid","mpg","mpeg","mpeg4","mp1","mp2","mlv","m1a","m2a","mpv","ogg","ogv","ogx","ogm","spx","avi","drp","wma","asf"],iconName:"file-movie",preview:!0,mediaPlayerMimePattern:/^video\\/(x-)?(mp4|quicktime|mov|mpeg|ogg)/g},MSG:{type:de.MSG,extensions:["msg"],iconName:"file-plaintext",preview:!1},EMAIL:{type:de.EMAIL,extensions:["eml"],iconName:"file-email",preview:!1},TEXT:{type:de.TEXT,extensions:["rtf","txt","md"],iconName:"file-plaintext",preview:!0},CSV:{type:de.CSV,extensions:["csv","tsv","tab"],iconName:"file-numbers",preview:!0},DOCX:{type:de.DOCX,extensions:["docx","docm","doc","odt","ott","otg","odg"],iconName:"file-word",preview:!0},PPTX:{type:de.PPTX,extensions:["pptx","pptm","ppt","odp","otp"],iconName:"file-ppt",preview:!0},XLSX:{type:de.XLSX,extensions:["xlsx","xlsm","xls","ods","odc","otc"],iconName:"file-excel",preview:!0},PAGES:{type:de.PAGES,extensions:["pages"],iconName:"file-pages",preview:!1},KEYNOTE:{type:de.KEYNOTE,extensions:["key"],iconName:"file-keynote",preview:!1},NUMBERS:{type:de.NUMBERS,extensions:["numbers"],iconName:"file-numbers",preview:!1},SKETCH:{type:de.SKETCH,extensions:["sketch"],iconName:"file-sketch",preview:!0,forcePreview:!0},AFDESIGN:{type:de.AFDESIGN,extensions:["afdesign"],iconName:"file-image",preview:!1},PSD:{type:de.PSD,extensions:["psd"],iconName:"file-photoshop",preview:!0,forcePreview:!0},LR:{type:de.LR,extensions:["lrtemplate","lrcat","lrdata","lrdb","lrprev","lrpreview"],iconName:"file-lightroom",preview:!1},PR:{type:de.PR,extensions:["cfa","cpa","prproj"],iconName:"file-premiere",preview:!1},MODEL_3D:{type:de.MODEL_3D,extensions:["max","blend","mp","ma","3ds","dwg","gltf","gltb","obj","fbx","stl","stp","collade","glb","dae","step","wrl","x3d","3mf","amf"],iconName:"file-3d",preview:!1},AI:{type:de.AI,extensions:["ai","eps","ps","ai3","ai4","ai5","ai6","ai7","ai8","psf"],iconName:"file-illustrator",preview:!0,forcePreview:!0},IND:{type:de.IND,extensions:["ind","indd","idlk","indt"],iconName:"file-indesign",preview:!0,forcePreview:!0},AE:{type:de.AE,extensions:["aec","aep","aet","aetx","amx"],iconName:"file-aftereffects",preview:!1},XD:{type:de.XD,extensions:["xd"],iconName:"file-experience-design",preview:!0,forcePreview:!0},MUSE:{type:de.MUSE,extensions:["muse","mulib"],iconName:"file-muse",preview:!1},DW:{type:de.DW,extensions:["dw","dwt"],iconName:"file-dreamweaver",preview:!0,forcePreview:!0},AXURE:{type:de.AXURE,extensions:["rp"],iconName:"file-axure",preview:!1},FONT:{type:de.FONT,extensions:["otf","ttc","ttf"],iconName:"file-font",preview:!0},NON_PREVIEWABLE_FONT:{type:de.NON_PREVIEWABLE_FONT,extensions:["eot","woff","woff2","ffil","afm","pfa","pfb","pfm","tfil"],iconName:"file-font",preview:!1}},xe=(_e()(D()("extensions"),Ee),"COMMENT_THREAD"),we="TASK_LIST",Ie="TASK",Oe="CLONE",Se="SKETCH",Ae="ANNOTATION",Re="COLOR_SWATCH",Te="DOCUMENT";let Ne,De,je,Le,Me,ke,Ce;!function(e){e.AUTO="Auto",e.NUMBER="Number",e.CURRENCY="Currency",e.PERCENTAGE="Percentage",e.TEXT="Text",e.DATE_TIME="DateTime",e.CHECKBOX="Checkbox"}(Ne||(Ne={})),function(e){e.DECIMALS="decimals",e.THOUSANDS_SEPARATOR="thousandsSeparator",e.ACCOUNTING="accounting",e.CURRENCY="currency",e.CURRENCY_DISPLAY="currencyDisplay",e.HAS_TIME="hasTime",e.HAS_SECONDS="hasSeconds",e.DATE_FORMAT="dateFormat",e.TIME_FORMAT="timeFormat",e.TIME_IN_BRACKETS="timeInBrackets"}(De||(De={})),function(e){e.LEFT="left",e.CENTER="center",e.RIGHT="right"}(je||(je={})),function(e){e.TOP="top",e.MIDDLE="middle",e.BOTTOM="bottom"}(Le||(Le={})),function(e){e.SYMBOL="symbol",e.NARROW_SYMBOL="narrowSymbol",e.CODE="code",e.NAME="name"}(Me||(Me={})),function(e){e.NONE="none",e.WORDS_LONG="wordsLong",e.WORDS_SHORT="wordsShort",e.NUMERIC_LONG="numericLong",e.NUMERIC_SHORT="numericShort",e.NUMERIC_DASHED="numericDashed",e.WEEKDAY="weekday"}(ke||(ke={})),function(e){e.NONE="none",e.TWELVE_HOUR_SECONDS="twelveHourSeconds",e.TWELVE_HOUR="twelveHour",e.TWENTY_FOUR_HOUR_SECONDS="twentyFourHourSeconds",e.TWENTY_FOUR_HOUR="twentyFourHour"}(Ce||(Ce={}));Ne.AUTO,je.LEFT,Ne.NUMBER,De.DECIMALS,De.THOUSANDS_SEPARATOR,je.RIGHT,Ne.CURRENCY,De.DECIMALS,De.THOUSANDS_SEPARATOR,De.ACCOUNTING,De.CURRENCY,De.CURRENCY_DISPLAY,Me.NARROW_SYMBOL,je.RIGHT,Ne.PERCENTAGE,De.DECIMALS,De.THOUSANDS_SEPARATOR,je.RIGHT,Ne.TEXT,je.LEFT,Ne.DATE_TIME,je.RIGHT,De.HAS_TIME,De.HAS_SECONDS,De.DATE_FORMAT,ke.WORDS_SHORT,De.TIME_FORMAT,Ce.NONE,De.TIME_IN_BRACKETS,Ne.CHECKBOX,je.CENTER;const ze={alert:{alert_blue_050:{hex:"#e8f5fc",rgba:"rgba(232, 245, 252, 1)",css:"var(--alert-alertblue-050)"},alert_blue_1000:{hex:"#0e84bf",rgba:"rgba(14, 132, 191, 1)",css:"var(--alert-alertblue-1000)"},alert_blue_1500:{hex:"#0a4f72",rgba:"rgba(10, 79, 114, 1)",css:"var(--alert-alertblue-1500)"},alert_blue_200:{hex:"#cde9f7",rgba:"rgba(205, 233, 247, 1)",css:"var(--alert-alertblue-200)"},alert_blue_900:{hex:"#16a0e5",rgba:"rgba(22, 160, 229, 1)",css:"var(--alert-alertblue-900)"},alert_green_050:{hex:"#edf8ee",rgba:"rgba(237, 248, 238, 1)",css:"var(--alert-alertgreen-050)"},alert_green_1000:{hex:"#429d4c",rgba:"rgba(66, 157, 76, 1)",css:"var(--alert-alertgreen-1000)"},alert_green_1500:{hex:"#3a5a3e",rgba:"rgba(58, 90, 62, 1)",css:"var(--alert-alertgreen-1500)"},alert_green_200:{hex:"#d9eedb",rgba:"rgba(217, 238, 219, 1)",css:"var(--alert-alertgreen-200)"},alert_green_900:{hex:"#4eb85a",rgba:"rgba(78, 184, 90, 1)",css:"var(--alert-alertgreen-900)"},alert_orange_050:{hex:"#fff3e9",rgba:"rgba(255, 243, 233, 1)",css:"var(--alert-alertorange-050)"},alert_orange_1000:{hex:"#e4750e",rgba:"rgba(228, 117, 14, 1)",css:"var(--alert-alertorange-1000)"},alert_orange_1500:{hex:"#704d2d",rgba:"rgba(112, 77, 45, 1)",css:"var(--alert-alertorange-1500)"},alert_orange_200:{hex:"#ffe4ce",rgba:"rgba(255, 228, 206, 1)",css:"var(--alert-alertorange-200)"},alert_orange_900:{hex:"#ff8d22",rgba:"rgba(255, 141, 34, 1)",css:"var(--alert-alertorange-900)"},alert_red_050:{hex:"#fdefef",rgba:"rgba(253, 239, 239, 1)",css:"var(--alert-alertred-050)"},alert_red_1000:{hex:"#d6223e",rgba:"rgba(214, 34, 62, 1)",css:"var(--alert-alertred-1000)"},alert_red_1500:{hex:"#6a4141",rgba:"rgba(106, 65, 65, 1)",css:"var(--alert-alertred-1500)"},alert_red_200:{hex:"#f9dede",rgba:"rgba(249, 222, 222, 1)",css:"var(--alert-alertred-200)"},alert_red_900:{hex:"#f02848",rgba:"rgba(240, 40, 72, 1)",css:"var(--alert-alertred-900)"}},avatar:{avatar_bert:{hex:"#ebdc91",rgba:"rgba(235, 220, 145, 1)",css:"var(--avatar-avatarbert)"},avatar_elmo:{hex:"#e68c8c",rgba:"rgba(230, 140, 140, 1)",css:"var(--avatar-avatarelmo)"},avatar_ernie:{hex:"#f3bd7f",rgba:"rgba(243, 189, 127, 1)",css:"var(--avatar-avatarernie)"},avatar_gonzo:{hex:"#92c1f5",rgba:"rgba(146, 193, 245, 1)",css:"var(--avatar-avatargonzo)"},avatar_grover:{hex:"#92c1f5",rgba:"rgba(146, 193, 245, 1)",css:"var(--avatar-avatargrover)"},avatar_kermit:{hex:"#8ce696",rgba:"rgba(140, 230, 150, 1)",css:"var(--avatar-avatarkermit)"},avatar_piggy:{hex:"#e68cba",rgba:"rgba(230, 140, 186, 1)",css:"var(--avatar-avatarpiggy)"},avatar_rosita:{hex:"#94dcd5",rgba:"rgba(148, 220, 213, 1)",css:"var(--avatar-avatarrosita)"},avatar_von_count:{hex:"#ba9af3",rgba:"rgba(186, 154, 243, 1)",css:"var(--avatar-avatarvoncount)"}},canvas:{canvas_dark_forest:{hex:"#1c2624",rgba:"rgba(28, 38, 36, 1)",css:"var(--canvas-canvasdarkforest)"},canvas_dark_galaxy:{hex:"#26232a",rgba:"rgba(38, 35, 42, 1)",css:"var(--canvas-canvasdarkgalaxy)"},canvas_dark_sand:{hex:"#27241f",rgba:"rgba(39, 36, 31, 1)",css:"var(--canvas-canvasdarksand)"},canvas_dark_sky:{hex:"#1c2329",rgba:"rgba(28, 35, 41, 1)",css:"var(--canvas-canvasdarksky)"},canvas_darkmode:{hex:"#262626",rgba:"rgba(38, 38, 38, 1)",css:"var(--canvas-canvasdarkmode)"},canvas_light_forest:{hex:"#d9ebe6",rgba:"rgba(217, 235, 230, 1)",css:"var(--canvas-canvaslightforest)"},canvas_light_galaxy:{hex:"#e5e3e8",rgba:"rgba(229, 227, 232, 1)",css:"var(--canvas-canvaslightgalaxy)"},canvas_light_sand:{hex:"#f0eedf",rgba:"rgba(240, 238, 223, 1)",css:"var(--canvas-canvaslightsand)"},canvas_light_sky:{hex:"#dceaf6",rgba:"rgba(220, 234, 246, 1)",css:"var(--canvas-canvaslightsky)"},canvas_lightmode:{hex:"#ebedee",rgba:"rgba(235, 237, 238, 1)",css:"var(--canvas-canvaslightmode)"}},element:{element_blue_1000:{hex:"#47b9ff",rgba:"rgba(71, 185, 255, 1)",css:"var(--element-elementblue-1000)"},element_blue_900:{hex:"#6cc7ff",rgba:"rgba(108, 199, 255, 1)",css:"var(--element-elementblue-900)"},element_brown_1000:{hex:"#e78358",rgba:"rgba(231, 131, 88, 1)",css:"var(--element-elementbrown-1000)"},element_brown_900:{hex:"#ed936e",rgba:"rgba(237, 147, 110, 1)",css:"var(--element-elementbrown-900)"},element_green_1000:{hex:"#7cd651",rgba:"rgba(124, 214, 81, 1)",css:"var(--element-elementgreen-1000)"},element_green_900:{hex:"#92e36b",rgba:"rgba(146, 227, 107, 1)",css:"var(--element-elementgreen-900)"},element_light_grey_1000:{hex:"#d1d3d6",rgba:"rgba(209, 211, 214, 1)",css:"var(--element-elementlightgrey-1000)"},element_light_grey_900:{hex:"#dcdcdc",rgba:"rgba(220, 220, 220, 1)",css:"var(--element-elementlightgrey-900)"},element_medium_grey_1000:{hex:"#5f6672",rgba:"rgba(95, 102, 114, 1)",css:"var(--element-elementmediumgrey-1000)"},element_medium_grey_900:{hex:"#767c86",rgba:"rgba(118, 124, 134, 1)",css:"var(--element-elementmediumgrey-900)"},element_orange_1000:{hex:"#ff9329",rgba:"rgba(255, 147, 41, 1)",css:"var(--element-elementorange-1000)"},element_orange_900:{hex:"#ffa954",rgba:"rgba(255, 169, 84, 1)",css:"var(--element-elementorange-900)"},element_pink_1000:{hex:"#ff6dd4",rgba:"rgba(255, 109, 212, 1)",css:"var(--element-elementpink-1000)"},element_pink_900:{hex:"#ff8add",rgba:"rgba(255, 138, 221, 1)",css:"var(--element-elementpink-900)"},element_purple_1000:{hex:"#af72ff",rgba:"rgba(175, 114, 255, 1)",css:"var(--element-elementpurple-1000)"},element_purple_900:{hex:"#bf8eff",rgba:"rgba(191, 142, 255, 1)",css:"var(--element-elementpurple-900)"},element_red_1000:{hex:"#ff4d4d",rgba:"rgba(255, 77, 77, 1)",css:"var(--element-elementred-1000)"},element_red_900:{hex:"#ff7171",rgba:"rgba(255, 113, 113, 1)",css:"var(--element-elementred-900)"},element_royal_blue_1000:{hex:"#5882f8",rgba:"rgba(88, 130, 248, 1)",css:"var(--element-elementroyalblue-1000)"},element_royal_blue_900:{hex:"#799bf9",rgba:"rgba(121, 155, 249, 1)",css:"var(--element-elementroyalblue-900)"},element_teal_1000:{hex:"#62dbc8",rgba:"rgba(98, 219, 200, 1)",css:"var(--element-elementteal-1000)"},element_teal_900:{hex:"#7be6d5",rgba:"rgba(123, 230, 213, 1)",css:"var(--element-elementteal-900)"},element_yellow_1000:{hex:"#ffc92d",rgba:"rgba(255, 201, 45, 1)",css:"var(--element-elementyellow-1000)"},element_yellow_900:{hex:"#ffd96a",rgba:"rgba(255, 217, 106, 1)",css:"var(--element-elementyellow-900)"}},highlight:{light_blue_050:{hex:"#ebf9ff",rgba:"rgba(235, 249, 255, 1)",css:"var(--highlight-lightblue-050)"},light_blue_1500:{hex:"#1e7d9f",rgba:"rgba(30, 125, 159, 1)",css:"var(--highlight-lightblue-1500)"},light_blue_200:{hex:"#cdf1ff",rgba:"rgba(205, 241, 255, 1)",css:"var(--highlight-lightblue-200)"},light_blue_900:{hex:"#8ae0ff",rgba:"rgba(138, 224, 255, 1)",css:"var(--highlight-lightblue-900)"},light_lime_050:{hex:"#f8ffe5",rgba:"rgba(248, 255, 229, 1)",css:"var(--highlight-lightlime-050)"},light_lime_1500:{hex:"#55740e",rgba:"rgba(85, 116, 14, 1)",css:"var(--highlight-lightlime-1500)"},light_lime_200:{hex:"#daf88d",rgba:"rgba(218, 248, 141, 1)",css:"var(--highlight-lightlime-200)"},light_lime_900:{hex:"#c9f201",rgba:"rgba(201, 242, 1, 1)",css:"var(--highlight-lightlime-900)"},light_orange_050:{hex:"#fff8e0",rgba:"rgba(255, 248, 224, 1)",css:"var(--highlight-lightorange-050)"},light_orange_1000:{hex:"#ffce26",rgba:"rgba(255, 206, 38, 1)",css:"var(--highlight-lightorange-1000)"},light_orange_1500:{hex:"#984d00",rgba:"rgba(152, 77, 0, 1)",css:"var(--highlight-lightorange-1500)"},light_orange_200:{hex:"#ffefb9",rgba:"rgba(255, 239, 185, 1)",css:"var(--highlight-lightorange-200)"},light_pink_050:{hex:"#fff7fc",rgba:"rgba(255, 247, 252, 1)",css:"var(--highlight-lightpink-050)"},light_pink_1500:{hex:"#9b3e74",rgba:"rgba(155, 62, 116, 1)",css:"var(--highlight-lightpink-1500)"},light_pink_200:{hex:"#ffdef3",rgba:"rgba(255, 222, 243, 1)",css:"var(--highlight-lightpink-200)"},light_pink_900:{hex:"#ffa4de",rgba:"rgba(255, 164, 222, 1)",css:"var(--highlight-lightpink-900)"},light_yellow_050:{hex:"#fffce6",rgba:"rgba(255, 252, 230, 1)",css:"var(--highlight-lightyellow-050)"},light_yellow_1500:{hex:"#80792b",rgba:"rgba(128, 121, 43, 1)",css:"var(--highlight-lightyellow-1500)"},light_yellow_200:{hex:"#fffac0",rgba:"rgba(255, 250, 192, 1)",css:"var(--highlight-lightyellow-200)"},light_yellow_900:{hex:"#ffed00",rgba:"rgba(255, 237, 0, 1)",css:"var(--highlight-lightyellow-900)"}},neutral:{darkmode_grey_050:{hex:"#f2f2f2",rgba:"rgba(242, 242, 242, 1)",css:"var(--neutral-darkmodegrey-050)"},darkmode_grey_100:{hex:"#e6e6e6",rgba:"rgba(230, 230, 230, 1)",css:"var(--neutral-darkmodegrey-100)"},darkmode_grey_1000:{hex:"#000000",rgba:"rgba(0, 0, 0, 1)",css:"var(--neutral-darkmodegrey-1000)"},darkmode_grey_200:{hex:"#cccccc",rgba:"rgba(204, 204, 204, 1)",css:"var(--neutral-darkmodegrey-200)"},darkmode_grey_300:{hex:"#b3b3b3",rgba:"rgba(179, 179, 179, 1)",css:"var(--neutral-darkmodegrey-300)"},darkmode_grey_400:{hex:"#999999",rgba:"rgba(153, 153, 153, 1)",css:"var(--neutral-darkmodegrey-400)"},darkmode_grey_500:{hex:"#808080",rgba:"rgba(128, 128, 128, 1)",css:"var(--neutral-darkmodegrey-500)"},darkmode_grey_600:{hex:"#666666",rgba:"rgba(102, 102, 102, 1)",css:"var(--neutral-darkmodegrey-600)"},darkmode_grey_700:{hex:"#4d4d4d",rgba:"rgba(77, 77, 77, 1)",css:"var(--neutral-darkmodegrey-700)"},darkmode_grey_750:{hex:"#3d3d3d",rgba:"rgba(61, 61, 61, 1)",css:"var(--neutral-darkmodegrey-750)"},darkmode_grey_800:{hex:"#333333",rgba:"rgba(51, 51, 51, 1)",css:"var(--neutral-darkmodegrey-800)"},darkmode_grey_900:{hex:"#1a1a1a",rgba:"rgba(26, 26, 26, 1)",css:"var(--neutral-darkmodegrey-900)"},lightmode_grey_050:{hex:"#f3f3f4",rgba:"rgba(243, 243, 244, 1)",css:"var(--neutral-lightmodegrey-050)"},lightmode_grey_100:{hex:"#e8e9eb",rgba:"rgba(232, 233, 235, 1)",css:"var(--neutral-lightmodegrey-100)"},lightmode_grey_1000:{hex:"#1b2536",rgba:"rgba(27, 37, 54, 1)",css:"var(--neutral-lightmodegrey-1000)"},lightmode_grey_200:{hex:"#d1d3d6",rgba:"rgba(209, 211, 214, 1)",css:"var(--neutral-lightmodegrey-200)"},lightmode_grey_300:{hex:"#bbbec3",rgba:"rgba(187, 190, 195, 1)",css:"var(--neutral-lightmodegrey-300)"},lightmode_grey_400:{hex:"#a3a7ae",rgba:"rgba(163, 167, 174, 1)",css:"var(--neutral-lightmodegrey-400)"},lightmode_grey_500:{hex:"#8d929a",rgba:"rgba(141, 146, 154, 1)",css:"var(--neutral-lightmodegrey-500)"},lightmode_grey_600:{hex:"#767c86",rgba:"rgba(118, 124, 134, 1)",css:"var(--neutral-lightmodegrey-600)"},lightmode_grey_700:{hex:"#5f6672",rgba:"rgba(95, 102, 114, 1)",css:"var(--neutral-lightmodegrey-700)"},lightmode_grey_800:{hex:"#48505e",rgba:"rgba(72, 80, 94, 1)",css:"var(--neutral-lightmodegrey-800)"},lightmode_grey_900:{hex:"#323b4a",rgba:"rgba(50, 59, 74, 1)",css:"var(--neutral-lightmodegrey-900)"},opacity:{darkmode_grey_1000_00:{hex:"#00000000",rgba:"rgba(0, 0, 0, 0)",css:"var(--opacity-darkmodegrey-1000-00)"},darkmode_grey_1000_05:{hex:"#0000000d",rgba:"rgba(0, 0, 0, 0.05)",css:"var(--opacity-darkmodegrey-1000-05)"},darkmode_grey_1000_10:{hex:"#0000001a",rgba:"rgba(0, 0, 0, 0.1)",css:"var(--opacity-darkmodegrey-1000-10)"},darkmode_grey_1000_15:{hex:"#00000026",rgba:"rgba(0, 0, 0, 0.15)",css:"var(--opacity-darkmodegrey-1000-15)"},darkmode_grey_1000_20:{hex:"#00000033",rgba:"rgba(0, 0, 0, 0.2)",css:"var(--opacity-darkmodegrey-1000-20)"},darkmode_grey_1000_30:{hex:"#0000004d",rgba:"rgba(0, 0, 0, 0.3)",css:"var(--opacity-darkmodegrey-1000-30)"},darkmode_grey_1000_60:{hex:"#00000099",rgba:"rgba(0, 0, 0, 0.6)",css:"var(--opacity-darkmodegrey-1000-60)"},darkmode_grey_1000_80:{hex:"#000000cc",rgba:"rgba(0, 0, 0, 0.8)",css:"var(--opacity-darkmodegrey-1000-80)"},lightmode_grey_1000_00:{hex:"#1b253600",rgba:"rgba(27, 37, 54, 0)",css:"var(--opacity-lightmodegrey-1000-00)"},lightmode_grey_1000_05:{hex:"#1b25360d",rgba:"rgba(27, 37, 54, 0.05)",css:"var(--opacity-lightmodegrey-1000-05)"},lightmode_grey_1000_10:{hex:"#1b25361a",rgba:"rgba(27, 37, 54, 0.1)",css:"var(--opacity-lightmodegrey-1000-10)"},lightmode_grey_1000_15:{hex:"#1b253626",rgba:"rgba(27, 37, 54, 0.15)",css:"var(--opacity-lightmodegrey-1000-15)"},lightmode_grey_1000_20:{hex:"#1b253633",rgba:"rgba(27, 37, 54, 0.2)",css:"var(--opacity-lightmodegrey-1000-20)"},lightmode_grey_1000_30:{hex:"#1b25364d",rgba:"rgba(27, 37, 54, 0.3)",css:"var(--opacity-lightmodegrey-1000-30)"},lightmode_grey_1000_60:{hex:"#1b253699",rgba:"rgba(27, 37, 54, 0.6)",css:"var(--opacity-lightmodegrey-1000-60)"},lightmode_grey_1000_80:{hex:"#1b2536cc",rgba:"rgba(27, 37, 54, 0.8)",css:"var(--opacity-lightmodegrey-1000-80)"},white_1000_00:{hex:"#ffffff00",rgba:"rgba(255, 255, 255, 0)",css:"var(--opacity-white-1000-00)"},white_1000_05:{hex:"#ffffff0d",rgba:"rgba(255, 255, 255, 0.05)",css:"var(--opacity-white-1000-05)"},white_1000_10:{hex:"#ffffff1a",rgba:"rgba(255, 255, 255, 0.1)",css:"var(--opacity-white-1000-10)"},white_1000_15:{hex:"#ffffff26",rgba:"rgba(255, 255, 255, 0.15)",css:"var(--opacity-white-1000-15)"},white_1000_20:{hex:"#ffffff33",rgba:"rgba(255, 255, 255, 0.2)",css:"var(--opacity-white-1000-20)"},white_1000_30:{hex:"#ffffff4d",rgba:"rgba(255, 255, 255, 0.3)",css:"var(--opacity-white-1000-30)"},white_1000_60:{hex:"#ffffff99",rgba:"rgba(255, 255, 255, 0.6)",css:"var(--opacity-white-1000-60)"},white_1000_80:{hex:"#ffffffcc",rgba:"rgba(255, 255, 255, 0.8)",css:"var(--opacity-white-1000-80)"}},white_1000:{hex:"#ffffff",rgba:"rgba(255, 255, 255, 1)",css:"var(--neutral-white-1000)"}},primary:{deep_orange_050:{hex:"#fef6f3",rgba:"rgba(254, 246, 243, 1)",css:"var(--primary-deeporange-050)"},deep_orange_100:{hex:"#fdede8",rgba:"rgba(253, 237, 232, 1)",css:"var(--primary-deeporange-100)"},deep_orange_1000:{hex:"#f4511c",rgba:"rgba(244, 81, 28, 1)",css:"var(--primary-deeporange-1000)"},deep_orange_200:{hex:"#fcdcd1",rgba:"rgba(252, 220, 209, 1)",css:"var(--primary-deeporange-200)"},deep_orange_300:{hex:"#fbcbbb",rgba:"rgba(251, 203, 187, 1)",css:"var(--primary-deeporange-300)"},deep_orange_400:{hex:"#fab9a4",rgba:"rgba(250, 185, 164, 1)",css:"var(--primary-deeporange-400)"},deep_orange_500:{hex:"#f9a88d",rgba:"rgba(249, 168, 141, 1)",css:"var(--primary-deeporange-500)"},deep_orange_600:{hex:"#f89676",rgba:"rgba(248, 150, 118, 1)",css:"var(--primary-deeporange-600)"},deep_orange_700:{hex:"#f78560",rgba:"rgba(247, 133, 96, 1)",css:"var(--primary-deeporange-700)"},deep_orange_800:{hex:"#f67349",rgba:"rgba(246, 115, 73, 1)",css:"var(--primary-deeporange-800)"},deep_orange_900:{hex:"#f56233",rgba:"rgba(245, 98, 51, 1)",css:"var(--primary-deeporange-900)"},royal_blue_050:{hex:"#f4f7fe",rgba:"rgba(244, 247, 254, 1)",css:"var(--primary-royalblue-050)"},royal_blue_100:{hex:"#eaeffe",rgba:"rgba(234, 239, 254, 1)",css:"var(--primary-royalblue-100)"},royal_blue_1000:{hex:"#2f63f7",rgba:"rgba(47, 99, 247, 1)",css:"var(--primary-royalblue-1000)"},royal_blue_200:{hex:"#d5dffd",rgba:"rgba(213, 223, 253, 1)",css:"var(--primary-royalblue-200)"},royal_blue_300:{hex:"#c1d0fc",rgba:"rgba(193, 208, 252, 1)",css:"var(--primary-royalblue-300)"},royal_blue_400:{hex:"#abc0fb",rgba:"rgba(171, 192, 251, 1)",css:"var(--primary-royalblue-400)"},royal_blue_500:{hex:"#97b1fb",rgba:"rgba(151, 177, 251, 1)",css:"var(--primary-royalblue-500)"},royal_blue_600:{hex:"#82a1fa",rgba:"rgba(130, 161, 250, 1)",css:"var(--primary-royalblue-600)"},royal_blue_700:{hex:"#6d92f9",rgba:"rgba(109, 146, 249, 1)",css:"var(--primary-royalblue-700)"},royal_blue_800:{hex:"#5882f8",rgba:"rgba(88, 130, 248, 1)",css:"var(--primary-royalblue-800)"},royal_blue_900:{hex:"#4472f7",rgba:"rgba(68, 114, 247, 1)",css:"var(--primary-royalblue-900)"}}},Pe={NONE:{name:null,css:null,hex:null},GREY:{name:"GREY",css:"var(--color-element-grey)",hex:"#5f6672"},CYAN:{name:"CYAN",css:"var(--color-element-cyan)",hex:"#62dbc8"},GREEN:{name:"GREEN",css:"var(--color-element-green)",hex:"#7cd651"},BROWN:{name:"BROWN",css:"var(--color-element-brown)",hex:"#d58558"},YELLOW:{name:"YELLOW",css:"var(--color-element-yellow)",hex:"#ffd14d"},ORANGE:{name:"ORANGE",css:"var(--color-element-orange)",hex:"#ff8d48"},RED:{name:"RED",css:"var(--color-element-red)",hex:"#ff5757"},PINK:{name:"PINK",css:"var(--color-element-pink)",hex:"#ff6ed4"},PURPLE:{name:"PURPLE",css:"var(--color-element-purple)",hex:"#ad6fff"},BLUE:{name:"BLUE",css:"var(--color-element-blue)",hex:"#4ebafd"},DEEP_BLUE:{name:"DEEP_BLUE",css:"var(--color-element-deep-blue)",hex:"#5882f8"}},Be=(Object.assign({},Pe,{GREY:{name:"GREY",css:"var(--color-element-grey)",hex:"#bbbec3"}}),Object.assign({},Pe.NONE),Object.assign({},Pe.GREY,{hex:"#bbbec3"}),Object.assign({},Pe.CYAN),Object.assign({},Pe.GREEN),Object.assign({},Pe.BROWN),Object.assign({},Pe.YELLOW),Object.assign({},Pe.ORANGE),Object.assign({},Pe.RED),Object.assign({},Pe.PINK),Object.assign({},Pe.PURPLE),Object.assign({},Pe.BLUE),Object.assign({},Pe.DEEP_BLUE),Object.assign({},Pe.GREY),Object.assign({},Pe.CYAN),Object.assign({},Pe.GREEN),Object.assign({},Pe.BROWN),Object.assign({},Pe.YELLOW),Object.assign({},Pe.ORANGE),Object.assign({},Pe.RED),Object.assign({},Pe.PINK),Object.assign({},Pe.PURPLE),Object.assign({},Pe.BLUE),Object.assign({},Pe.DEEP_BLUE),Object.assign({},Pe.NONE),Object.assign({},Pe.GREY,ze.element.element_light_grey_900),Object.assign({},Pe.CYAN,ze.element.element_teal_900),Object.assign({},Pe.GREEN,ze.element.element_green_900),Object.assign({},Pe.YELLOW,ze.element.element_yellow_900),Object.assign({},Pe.ORANGE,ze.element.element_orange_900),Object.assign({},Pe.RED,ze.element.element_red_900),Object.assign({},Pe.PINK,ze.element.element_pink_900),Object.assign({},Pe.PURPLE,ze.element.element_purple_900),Object.assign({},Pe.BLUE,ze.element.element_blue_900),Object.assign({},Pe.DEEP_BLUE,ze.element.element_royal_blue_900),Object.values(Pe).filter((e=>e.name!==Pe.NONE.name)).map((e=>e.name)),Object.values(Pe).filter((e=>e.hex!==Pe.NONE.hex)).map((e=>e.hex)),Object.assign({},Pe,{WHITE:{name:"WHITE",css:"rgba(255,255,255,1)",hex:"#ffffff"}})),We=(Object.values(Be),Object.assign({},{HEX:"HEX",RGB:"RGB",HSL:"HSL"},{OFF:"Off"}),"TABLE"),Ue=(je.LEFT,Le.TOP,Object.assign({},Pe,{GREY:{name:"TABLE_DEFAULT_HEADER_BACKGROUND_COLOR",css:"var(--ws-table-header-row-background)",hex:"#D2D3D6"}}),e=>t=>J(t)===e),Fe=(Ue("SKELETON"),Ue(le),Ue(Te),Ue(fe),Ue(pe),Ue(me),Ue(we)),qe=(Ue(Ie),Ue(Se),Ue(Re),Ue(We),Ue(ce),Ue(ue)),Ge=(Ue(Oe),Ue(se));Ue(he),Ue(Ae),Ue(xe);r(7108),r(3772),r(4432);var Ke=r(8306),He=r.n(Ke);const Ve=1e3,Ye=e=>Math.floor(e/Ve),Xe=()=>Date.now(),$e=(V()([Xe,Ye]),He()((()=>(new Date).getTimezoneOffset())),e=>t=>te(t)===e),Je=$e(ne.DELETED),Qe=$e(ne.TRASH),Ze=e=>Qe(e)||Je(e),et=($e(ne.ATTACHED),$e(ne.CANVAS),$e(ne.INBOX),X()("-trash"),K()(["location","position","restoreLocation"]),K()(["location","position","addedDate"]),(e,t)=>e.get?e.get(t):e[t]),tt=(e,t)=>{const r=q()(t)?et(e,t):t;return W(Z(r),e)};rt=2;var rt;const nt=e=>(t,r)=>{const n={};let o=W(r,t);for(;o&&Z(o)&&!e(o,t,r)&&(o=tt(t,o),!n[$(o)]);)n[$(o)]=!0;return e(o,t,r)?$(o):null};nt((e=>Q(e))),ot=Ge,nt(((e,t,r)=>ot(e,t,r)&&$(e)!==r));var ot;nt(Ge),nt(Fe),nt(((e,t)=>{const r=Z(e),n=et(t,r);return Ge(n)})),nt((e=>!e||(!!Ze(e)||ee(e)))),nt(((e,t)=>{const r=Z(e);return!et(t,r)}));var it=r(1609),at=r.n(it);let st;!function(e){e.AddElements="AddElements",e.RemoveElements="RemoveElements",e.ClearElements="ClearElements"}(st||(st={}));const ut=(e,t)=>at()(e)?null:{type:st.AddElements,actionType:t,elementIds:e.map($),elements:e},ct=(e,t)=>at()(e)?null:{type:st.RemoveElements,actionType:t,elementIds:e},lt=b.createChannel("cache-operation-message-builder"),ft=(e,t,r)=>{const n=[];for(const i of e){const e=(o=et(t,i))&&o.toJS?o.toJS():o;e._id=e._id||i,e&&n.push(e)}var o;return ut(n,r.type||"Unknown Action")},ht=(T(((e,t,r)=>{if("ELEMENTS_LOAD_INTO_WORKER_CACHE"===e.type)return((e,t)=>{if(!e.elements)return null;const r=Object.values(e.elements);return ut(r,e.type||"Unknown Action")})(e);if(t===r)return null;switch(e.type){case"TRASH_CLEAR_COMPLETE":return((e,t,r)=>{if(r===t)return null;const n=r.keySeq().toArray().filter((e=>!t.has(e)));return ct(n,e.type||"Unknown Action")})(e,t,r);case"ELEMENT_DELETE":return((e,t)=>e.id?ct([e.id],e.type||"Unknown Action"):null)(e);case"ELEMENT_CONVERT_TO_CLONE":case"ELEMENT_UNDO_CONVERT_TO_CLONE":return((e,t)=>{const r=[e.id,e.originalElementId,e.clonedElementId].filter(Boolean);return ft(r,t,e)})(e,t);case"ELEMENT_SET_TYPE":case"ELEMENT_DIFF_UPDATE":case"ELEMENT_MOVE_AND_UPDATE":case"ELEMENT_UPDATE_ACL":case"ELEMENT_CREATE":return((e,t)=>e.id?ft([e.id],t,e):null)(e,t);case"ELEMENTS_LOAD":return((e,t)=>{if(!e.elements)return null;const r=Object.values(e.elements).map($);return ft(r,t,e)})(e,t);case"ELEMENT_MOVE_MULTI":return((e,t)=>{if(!e.moves)return null;const r=e.moves.map((e=>e.id));return ft(r,t,e)})(e,t);case"ELEMENT_UPDATE":return((e,t)=>{if(!e.updates)return null;const r=e.updates.map((e=>e.id));return ft(r,t,e)})(e,t);case"@@INIT":case"ELEMENT_ICON_FIND":case"ELEMENT_ICON_FIND_SUCCESS":case"ELEMENT_ICON_FIND_FAILURE":case"ELEMENT_ICON_SEARCH":case"ELEMENT_EDIT_COMPLETE":case"ELEMENT_SET_LOCAL_DATA_MULTI":return null;case"LOGOUT":return{type:st.ClearElements};case"ELEMENTS_PURGE":return(e=>!e.elementIds||A()(e.elementIds)?null:ct(e.elementIds,e.type||"Unknown Action"))(e);default:return((e,t,r)=>{if(r===t)return null;const n=performance.now(),o=[];for(const[a,s]of t)s!==r.get(a)&&o.push(a);const i=performance.now();return lt.warn("Elements changed without action being handled. Manual handling required.",{actionType:e.type,durationMs:i-n}),lt.debug("Full action that caused the unhandled element changes:",e),ft(o,t,e)})(e,t,r)}})),new Map),pt=(e=ht,t)=>{switch(t.type){case st.AddElements:return((e,t)=>{for(const r of t.elements){const t=O(r);e.set(r._id,t)}return new Map(e)})(e,t);case st.RemoveElements:return((e,t)=>{for(const r of t.elementIds)e.delete(r);return new Map(e)})(e,t);case st.ClearElements:return(e=>(e.clear(),new Map(e)))(e);default:return e}},vt="CURRENT_BOARD_ID_SET",_t=function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var o=t[n];0,"function"==typeof e[o]&&(r[o]=e[o])}var i,a=Object.keys(r);try{!function(e){Object.keys(e).forEach((function(t){var r=e[t];if(void 0===r(void 0,{type:I.INIT}))throw new Error(x(12));if(void 0===r(void 0,{type:I.PROBE_UNKNOWN_ACTION()}))throw new Error(x(13))}))}(r)}catch(s){i=s}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var n=!1,o={},s=0;s<a.length;s++){var u=a[s],c=r[u],l=e[u],f=c(l,t);if(void 0===f){t&&t.type;throw new Error(x(14))}o[u]=f,n=n||f!==l}return(n=n||a.length!==Object.keys(e).length)?o:e}}({currentBoardId:(e="",t)=>{switch(t.type){case vt:case"VISIBLE_BOARD_ID_SET":return t.boardId;default:return e}},elementSummaries:pt}),dt=(()=>{let e=_t(void 0,{type:"INIT"});return{getState:()=>e,dispatch:t=>{e=_t(e,t)}}})(),gt=(e,t)=>t.some((t=>e instanceof t));let yt,mt;const bt=new WeakMap,Et=new WeakMap,xt=new WeakMap;let wt={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return bt.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return At(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function It(e){wt=e(wt)}function Ot(e){return(mt||(mt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(Rt(this),t),At(this.request)}:function(...t){return At(e.apply(Rt(this),t))}}function St(e){return"function"==typeof e?Ot(e):(e instanceof IDBTransaction&&function(e){if(bt.has(e))return;const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),n()},i=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)}));bt.set(e,t)}(e),gt(e,yt||(yt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,wt):e)}function At(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(At(e.result)),n()},i=()=>{r(e.error),n()};e.addEventListener("success",o),e.addEventListener("error",i)}));return xt.set(t,e),t}(e);if(Et.has(e))return Et.get(e);const t=St(e);return t!==e&&(Et.set(e,t),xt.set(t,e)),t}const Rt=e=>xt.get(e);const Tt=["get","getKey","getAll","getAllKeys","count"],Nt=["put","add","delete","clear"],Dt=new Map;function jt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Dt.get(t))return Dt.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,o=Nt.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!o&&!Tt.includes(r))return;const i=async function(e,...t){const i=this.transaction(e,o?"readwrite":"readonly");let a=i.store;return n&&(a=a.index(t.shift())),(await Promise.all([a[r](...t),o&&i.done]))[0]};return Dt.set(t,i),i}It((e=>({...e,get:(t,r,n)=>jt(t,r)||e.get(t,r,n),has:(t,r)=>!!jt(t,r)||e.has(t,r)})));const Lt=["continue","continuePrimaryKey","advance"],Mt={},kt=new WeakMap,Ct=new WeakMap,zt={get(e,t){if(!Lt.includes(t))return e[t];let r=Mt[t];return r||(r=Mt[t]=function(...e){kt.set(this,Ct.get(this)[t](...e))}),r}};async function*Pt(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;const r=new Proxy(t,zt);for(Ct.set(r,t),xt.set(r,Rt(t));t;)yield r,t=await(kt.get(r)||t.continue()),kt.delete(r)}function Bt(e,t){return t===Symbol.asyncIterator&&gt(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&gt(e,[IDBIndex,IDBObjectStore])}It((e=>({...e,get:(t,r,n)=>Bt(t,r)?Pt:e.get(t,r,n),has:(t,r)=>Bt(t,r)||e.has(t,r)})));const Wt="mn-objects-idb";let Ut,Ft;!function(e){e.elements="elements"}(Ut||(Ut={})),function(e){e.locationParentId="locationParentId",e.contentLinkTo="contentLinkTo"}(Ft||(Ft={}));const qt=`${Wt} (v1): `,Gt=()=>function(e,t,{blocked:r,upgrade:n,blocking:o,terminated:i}={}){const a=indexedDB.open(e,t),s=At(a);return n&&a.addEventListener("upgradeneeded",(e=>{n(At(a.result),e.oldVersion,e.newVersion,At(a.transaction),e)})),r&&a.addEventListener("blocked",(e=>r(e.oldVersion,e.newVersion,e))),s.then((e=>{i&&e.addEventListener("close",(()=>i())),o&&e.addEventListener("versionchange",(e=>o(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}(Wt,1,{upgrade:e=>{if(b.info(`${qt}Upgrading IndexedDB database to version 1`),!e.objectStoreNames.contains(Ut.elements)){const t=e.createObjectStore(Ut.elements,{keyPath:"_id"});t.createIndex(Ft.locationParentId,"location.parentId",{unique:!1}),t.createIndex(Ft.contentLinkTo,"content.linkTo",{unique:!1})}}});let Kt;const Ht=()=>(Kt||(Kt=Gt()),Kt),Vt=()=>Kt||Ht(),Yt=E.createChannel(a.PERSISTENCE_LAYER_WORKER_STORE_INITIALISER);var Xt=r(8446),$t=r.n(Xt);function Jt(e,t){return e===t}var Qt=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];var i=0,a=n.pop(),s=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var r=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return t}(n),u=e.apply(void 0,[function(){return i++,a.apply(null,arguments)}].concat(r)),c=e((function(){for(var e=[],t=s.length,r=0;r<t;r++)e.push(s[r].apply(null,arguments));return u.apply(null,e)}));return c.resultFunc=a,c.dependencies=s,c.recomputations=function(){return i},c.resetRecomputations=function(){return i=0},c}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jt,r=null,n=null;return function(){return function(e,t,r){if(null===t||null===r||t.length!==r.length)return!1;for(var n=t.length,o=0;o<n;o++)if(!e(t[o],r[o]))return!1;return!0}(t,r,arguments)||(n=e.apply(null,arguments)),r=arguments,n}}));r(2297),r(236);const Zt=(e,t)=>{const r=J(t),n=e[r]||0;return e[r]=n+1,e},er=(e,t,r)=>t[r]||e[r]||[],tr=(e,t,r,n)=>er(t,r,n).map((t=>e.get(t))).filter(Boolean).reduce(Zt,{}),rr=(e,t,r,n,o)=>((e,t,r,n,o)=>{const i={};for(const a of o){const o=e.get(a);if(!Ge(o)&&!qe(o))continue;const s=n[a]||a;i[a]=tr(e,t,r,s),n[a]&&(i[s]=i[a])}return i})(e,t,r,n,er(t,r,o)),nr=(e,t)=>{var r,n,o,i;let a=t,s=null===(r=a)||void 0===r||null===(n=r.location)||void 0===n?void 0:n.parentId,u=s?e.get(s):null;if(!u)return{parentBoardId:null,isInParentBoardInbox:!1};const c=new Map;for(;u&&u.elementType!==se;){var l;if(a=u,s=(null===(l=a.location)||void 0===l?void 0:l.parentId)||"",u=e.get(s),c.has(s)){console.warn(`Infinite loop in getParentBoardAndLocationDetailsForDeepChild for: ${a._id}`,a);break}c.set(s,!0)}return{parentBoardId:s,isInParentBoardInbox:(null===(o=a)||void 0===o||null===(i=o.location)||void 0===i?void 0:i.section)===ne.INBOX}},or=e=>e.elementSummaries,ir=Qt(or,(e=>{const t={},r={},n={},o={},i={},a={},s={},u={},c={},l={};for(const h of e){const[e,t]=h;if(!t)continue;if(t.location.section===ne.TRASH)continue;const r=t.location.parentId;a[e]=r;const n=t.elementType;if(n===ce)l[e]=r;else if(n===ue){var f;const n=null===(f=t.content)||void 0===f?void 0:f.linkTo;if(!n)continue;u[n]=u[n]||[],r&&u[n].push(r),i[n]=i[n]||[],i[n].push(e),o[e]=n}else n===se&&(c[e]=!0)}for(const h of e){const[o,i]=h;if(!i)continue;if(i.location.section===ne.TRASH)continue;const a=i.location.parentId||"",l=u[o];l&&(c[a]&&l.push(a),n[o]=l),t[a]=t[a]||[],t[a].push(o);let f;if(c[a])f=a;else{f=nr(e,i).parentBoardId}void 0!==f&&(f&&(r[f]=r[f]||[],r[f].push(o)),s[o]=f)}return{elementGraph:t,boardVisibleElementGraph:r,aliasIdToPhysicalIdMap:o,elementIdToVirtualParentIdsMap:n,columnIdToParentBoardIdMap:l,elementIdToAncestorBoardIdMap:s,parentIdMap:a,boardIdToAliasIdsMap:i}}));let ar;!function(e){e.INITIALISE_WORKER="INITIALISE_WORKER",e.ACTION="ACTION",e.FETCH_BOARDS_REQUEST="FETCH_BOARDS_REQUEST",e.FETCH_BOARDS_RESPONSE="FETCH_BOARDS_RESPONSE",e.FETCH_BOARDS_ERROR="FETCH_BOARDS_ERROR"}(ar||(ar={}));const sr=E.createChannel(a.PERSISTENCE_LAYER_WORKER_SELECTOR_CALCULATOR);const ur=e=>async t=>{const r=t(),n=ir(r),o=[...e];for(const i of e){const e=er(n.elementGraph,n.boardVisibleElementGraph,i);o.push(...e);for(const t of e){const e=n.aliasIdToPhysicalIdMap[t];e&&o.push(e)}}if(0===o.length)return[];return(await(async e=>{if(at()(e))return[];const t=(await Vt()).transaction(Ut.elements,"readonly"),r=[];for(const n of e)r.push(t.store.get(n));return await Promise.all(r)})(o)).filter(Boolean)},cr=E.createChannel(a.PERSISTENCE_LAYER_WORKER);Ht();const lr=(async e=>{const t=performance.now();await(async(e,t=1e3)=>{const r=(await Vt()).transaction(Ut.elements,"readonly");let n=[],o=0;for await(const i of r.store)n.push(i.value),o++,o===t&&(e(n),n=[],o=0);n.length&&e(n)})((t=>{const r=ut(t,"INIT");r&&e.dispatch(r)}));const r=(performance.now()-t).toFixed(2);Yt.info(`Initialised redux store in ${r} ms`)})(dt),fr=function(e){let t=null;return{handleSelectorRecalculation:()=>{const r=performance.now(),n=(e=>{const t=ir(e),r=(e=>e.currentBoardId)(e);if(!r)return{};const n=or(e);return rr(n,t.elementGraph,t.boardVisibleElementGraph,t.aliasIdToPhysicalIdMap,r)})(e.getState()),o={elementCountsMap:n};if($t()(o,t))return;t=o,postMessage({type:ar.ACTION,action:{type:"SELECTORS_CACHE_UPDATE",data:{elementCountsMap:n}}});const i=(performance.now()-r).toFixed(2);sr.info(`Calculated the selector results in ${i} ms`)}}}(dt),hr=async e=>{switch(e.type){case st.AddElements:return void(await(async e=>{if(at()(e))return;const t=(await Vt()).transaction(Ut.elements,"readwrite"),r=[];for(const n of e)r.push(t.store.put(n));r.push(t.done),await Promise.all(r)})(e.elements));case st.RemoveElements:return void(await(async e=>{if(at()(e))return;const t=(await Vt()).transaction(Ut.elements,"readwrite"),r=[];for(const n of e)r.push(t.store.delete(n));r.push(t.done),await Promise.all(r)})(e.elementIds));case st.ClearElements:return void(await(async()=>{const e=await Vt();await e.clear(Ut.elements)})());default:return}},pr=e=>{(async e=>{switch(await lr,dt.dispatch(e),e.type){case st.AddElements:case st.RemoveElements:case st.ClearElements:case vt:return fr.handleSelectorRecalculation();default:;}})(e),hr(e)};self.addEventListener("message",(async e=>{const{data:t}=e;switch(cr.info("Message received",t),t.type){case ar.INITIALISE_WORKER:return void l(t.payload.debugSettings);case ar.ACTION:return pr(t.payload);case ar.FETCH_BOARDS_REQUEST:return await lr,(r=dt,async e=>{const{payload:t,requestId:n}=e,{boardIds:o=[]}=t;try{const e=await ur(o)(r.getState);if(0===e.length)throw new Error("No elements found for the requested boards");postMessage({type:ar.FETCH_BOARDS_RESPONSE,requestId:n,payload:{boardIds:o,elements:e}})}catch(i){postMessage({type:ar.FETCH_BOARDS_ERROR,requestId:n,payload:{boardIds:o,error:i}})}})(t);default:return void cr.error("%cUnknown message type","color: red",t)}var r}))})()})();\n',"Worker",void 0,void 0)}var s=n(78820);function a(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let l=null;class c{constructor(){return a(this,"worker",void 0),a(this,"callbacks",new Set),l||(l=this,this.worker=new i,this.worker.onmessage=e=>{this.callbacks.forEach((t=>t(e)))},l)}onMessage(e){this.callbacks.add(e)}postMessage(e){this.worker.postMessage(e)}removeMessageListener(e){this.callbacks.delete(e)}fetchBoards(e){return new Promise(((t,n)=>{const r=crypto.randomUUID(),o=e=>{e.data.requestId===r&&(this.removeMessageListener(o),e.data.type===s.y.FETCH_BOARDS_RESPONSE?t(e.data.payload):n(e.data.payload))};this.callbacks.add(o),this.postMessage({type:s.y.FETCH_BOARDS_REQUEST,requestId:r,payload:{boardIds:e}})}))}}const d=()=>(l||(l=new c),l)},56426:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});const r=()=>{if(navigator.standalone)return!0;return!(!matchMedia||!matchMedia("(display-mode: standalone)").matches&&!matchMedia("(display-mode: window-controls-overlay)").matches)}},68737:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});const r="PWA_APP_INSTALLED"},85314:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(43393),o=n(56426),i=n(68737);const s=r.Map({isPwa:(0,o.z)()}),a=(e=s,t)=>t.type===i.G?e.set("isPwa",!0):e},29812:(e,t,n)=>{"use strict";n.d(t,{D:()=>o,Z:()=>i});var r=n(17045);const o=({boardId:e,restored:t})=>({type:r.K,boardId:e,restored:t}),i=({boardId:e})=>({type:r.I,boardId:e})},17045:(e,t,n)=>{"use strict";n.d(t,{I:()=>o,K:()=>r});const r="CURRENT_BOARD_ID_SET",o="VISIBLE_BOARD_ID_SET"},81410:(e,t,n)=>{"use strict";n.d(t,{$f:()=>p,LH:()=>i,SO:()=>h,Vn:()=>l,Vo:()=>g,ie:()=>d,nv:()=>a,s4:()=>c,tQ:()=>m,vu:()=>s,y_:()=>u});var r=n(22222),o=n(36219);const i=e=>e.getIn(["app","currentBoardId","initialized"]),s=e=>e.getIn(["app","currentBoardId","restored"]),a=e=>e.getIn(["app","currentBoardId","current"]),l=e=>e.getIn(["app","currentBoardId","visible"]),c=(e,t)=>t&&t.currentBoardId||a(e),d=e=>l(e)||a(e),u=e=>!!l(e)&&l(e)!==c(e),m=(0,r.P1)((e=>e.get("elements")),c,((e,t)=>e.get(t))),p=e=>e.getIn(["elements",l(e)]),h=(0,r.P1)((e=>e.get("elements")),d,((e,t)=>e.get(t))),g=e=>{if(!l(e))return!1;const t=p(e);return(0,o.Wr)(t)}},1231:(e,t,n)=>{"use strict";n.d(t,{A4:()=>o,Jk:()=>a,nA:()=>s,yy:()=>i});var r=n(12265);const o=({ids:e,source:t,finishEditing:n=!0}={})=>({type:r.nv,ids:e,source:t,finishEditing:n}),i=e=>({type:r.Sv,dropState:e}),s=e=>({type:r.KG,effect:e}),a=()=>({type:r._D})},12265:(e,t,n)=>{"use strict";n.d(t,{KG:()=>i,Sv:()=>o,_D:()=>s,eW:()=>a,nv:()=>r,pf:()=>l});const r="DRAG_START",o="DRAG_END",i="FORCE_HOVER_EFFECT",s="CLEAR_HOVER_EFFECT",a="previewElement",l="_LINE_PREVIEW"},99010:(e,t,n)=>{"use strict";n.d(t,{Am:()=>a,C_:()=>l,GB:()=>i,GH:()=>o,ZC:()=>s,w0:()=>r});const r=e=>e.getIn(["app","dragging","isDragging"]),o=(e,{elementId:t})=>{const n=(e=>e.getIn(["app","dragging","dropState","droppedElementIds"]))(e);return n&&n.includes(t)?e.getIn(["app","dragging","dropState"]):null},i=e=>e.getIn(["app","dragging","attachMode"]),s=e=>e.getIn(["app","dragging","attachModeType"]),a=e=>e.getIn(["app","dragging","attachModeHoveredStack"]),l=e=>e.getIn(["app","dragging","attachModeHoveredElementId"])},14343:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});const r="SET_FOCUS_SECTION"},27488:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r=e=>e.getIn(["app","currentFocus","section"])},18368:(e,t,n)=>{"use strict";n.d(t,{Q:()=>g,o:()=>f});var r=n(84876),o=n(45380),i=n(52432),s=n(80275),a=n(99238),l=n(87430),c=n(81410),d=n(91040),u=n(37574),m=n(89030),p=n(33921);let h=!1;const g=()=>async(e,t)=>{let n=t();if(h)return;if(!(0,s.ht)(n))return;const g=(0,d.Ie)(n);if(!(0,i.YC)(g))return;await(0,r.Z)(200),n=t();if((0,a._)(n))return;const f=(0,c.nv)(n),E=(0,l.gz)(n),v=(0,l.en)(n),b=(0,i.up)(g),y=(0,o.y)({currentBoardId:f,permissionId:v,locationQuery:E,registrationEntryPoint:b?m.yr.PUBLIC_EDIT_REGISTRATION:m.yr.PUBLISHED_REGISTRATION,onboarding:b?p.wO:p.g3});e((0,u.UO)(y))},f=e=>{if(e)return!1;h=!0,setTimeout((()=>{h=!1}),100)}},90025:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s,g:()=>i});var r=n(97245),o=n(53976);const i="FAKE_SAVE",s=(e=null,t)=>{if(t.type===i)return t.timestamp;if(!t.sync||!t.timestamp)return e;switch(t.type){case r.hA:case r.bD:case r.go:case r.wh:case r.EY:case r.XI:case o.LP:case r.Zv:return t.timestamp;default:return e}}},37574:(e,t,n)=>{"use strict";n.d(t,{AN:()=>Q,Bg:()=>be,Db:()=>he,Dg:()=>ve,Go:()=>ge,HT:()=>ye,Ih:()=>se,JP:()=>re,Ko:()=>le,Md:()=>Y,O8:()=>V,OX:()=>ne,UO:()=>ee,UX:()=>ae,ZM:()=>Z,eV:()=>X,fF:()=>ce,fp:()=>ie,gB:()=>pe,hw:()=>oe,n:()=>q,nI:()=>Ee,nt:()=>me,nx:()=>de,p1:()=>J,qF:()=>Ce,s7:()=>te,u8:()=>Ie,up:()=>fe,v8:()=>W,vR:()=>ue,zS:()=>G});var r=n(16226),o=n.n(r),i=n(76262),s=n.n(i),a=n(4588),l=n.n(a),c=n(63422),d=n.n(c),u=n(77606),m=n.n(u),p=n(33311),h=n(59161),g=n(39301),f=n(23680),E=n(21053),v=n(75763),b=n(24414),y=n(87430),I=n(8779),C=n(80275),S=n(10048),T=n(81410),w=n(42022),O=n(68087),_=n(87447),R=n(43831),A=n(83547),D=n(495),N=n(79900),x=n(94252),M=n(52781),P=n(68071),L=n(98173),k=n(80743),F=n(59972),B=n(78453),j=n(19495),z=n(45915),U=n(20219),H=n(57863);const Z=()=>window.location.reload(!1),G=e=>window.location.assign(e),K=(0,h.Z)(),W=e=>!!e&&(!!o()("/",e)||(!!o()(K.marketingUrl,e)||!!(0,E.O_)(e))),V=e=>{W(e)?G(e):e&&S.Z.warn("The following URL was deemed unsafe to redirect to",e)},$=(e,t)=>{const n=(0,g.B2)(t);return n.length?`${e}?${n}`:e},q=()=>(0,p.Hm)(),Y=()=>(0,p.TL)(),X=(e={})=>(0,p.VF)($("/login",e)),Q=(e={})=>(0,p.VF)($("/register",e)),J=(e={})=>(0,p.VF)($("/register-terms",e)),ee=e=>(0,p.VF)(e),te=e=>(0,p.gx)(e),ne=()=>(0,p.VF)("/account/settings"),re=()=>(0,p.VF)("/account/notifications"),oe=()=>(0,p.gx)("/onboarding/segment"),ie=()=>(0,p.VF)("/onboarding/mobile"),se=()=>(0,p.VF)("/email-verification-required"),ae=({featureHighlight:e})=>e?(0,p.gx)(`/free-plan/upgrade?feature=${e}`):(0,p.gx)("/free-plan/upgrade"),le="/free-plan/refer",ce="/compose/email",de=e=>(0,p.VF)({pathname:ce,search:`?${(0,g.B2)(e)}`}),ue="/compose/select-google-contacts",me=e=>(0,p.VF)({pathname:ue,search:`?${(0,g.B2)(e)}`}),pe=e=>(t,n)=>t((0,p.gx)(e)),he=({boardId:e,filter:t=null,replaceUrl:n=!1,keepSelection:r=!1,resetScroll:o=!1,newTab:i=!1,trackTiming:s=!0})=>async(a,l)=>{if(a((0,F.F)([e])),s){const e=(0,k.TR)("previousBoard");B.bO(j.Lw.BOARD_NAVIGATION,e)}const c=n?p.gx:p.VF;if(!e)return a(c("/"));const u=l(),h=u.getIn(["elements",e]),v=h&&h.getIn(["content","title"]),I=v?`/${(0,g.lV)(v)}`:"",S=(0,y.gz)(u);let T={};if(t)T=t;else{const t=(0,w.O3)(u,{});d()([e,"changeCount"],t)&&(T=S)}const _=(0,N.b1)()(u,{elementId:e});_&&(T[z.RY.PERMISSION]=_);const R=(0,y.Zy)(u);R&&(0,C.ht)(u)&&(T[z.RY.INVITE_CODE]=R);const A=(0,b.g)(S);m()(A)||(T=Object.assign({},T,A));const D=(0,M.Yf)(u)?`${U.tI}/`:"",L=(0,E.Q2)(`/${D}${e}${I}`,T);if(r||a((0,f.yJ)()),o){const t=(0,O.ct)(e);(null==t?void 0:t.zoomScale)>=1&&(0,O.Sl)(e)}return i?(H=L,window.open(H,"_blank")):r||(0,P.L7)()||(0,x.g)(u)?a(c(L)):(history.pushState(null,null,L),Z());var H},ge=({replaceUrl:e,resetScroll:t}={})=>(n,r)=>{const o=r(),i=(0,T.s4)(o),s=(0,C.PN)(o);return n(he({boardId:i||s,replaceUrl:e,resetScroll:t}))},fe=()=>async e=>(await(0,L.lr)(),Z()),Ee=({elementId:e,params:t})=>(n,r)=>{n((0,f.gR)(e)),requestAnimationFrame((()=>{let o=t?`?${(0,g.B2)(t)}`:"";const i=r(),s=(0,N.b1)()(i,{elementId:e});if(s){o=`${o}${!m()(o)?"&":"?"}${z.RY.PERMISSION}=${s}`}const a=(0,M.Yf)(i)?`/${U.tI}`:"";n((0,p.VF)(`${a}/${z.jK}/${e}${o}`))}))},ve=(e=H.vL)=>(t,n)=>{const r=n(),o=(0,y.gz)(r),i=l()(e,o);if(m()(i))return;const a=(0,y.Wo)(r),c=s()(e,o),d=(0,E.Q2)(a,c);return t((0,p.VF)(d))},be=(e=!1)=>(t,n)=>{const r=n(),o=(0,y.gz)(r).from;if(o)return t((0,p.VF)(decodeURIComponent(o)));const i=(0,C.PN)(r);if(i)return t(he({boardId:i,resetScroll:!0}));t(e?(0,p.gx)("/"):(0,p.VF)("/"))},ye=({boardId:e,slug:t="",permissionId:n})=>(r,o)=>{const i=o(),s=(0,y.zp)(i),a=(0,E.JS)(s);if(m()(t)&&a[z.RY.PERMISSION]===n)return;const l=(0,M.Yf)(i)?`${U.tI}/`:"";a[z.RY.PERMISSION]=n;let c=(0,g.B2)(a);c=c?`?${c}`:"";let d=`/${l}${e}`;return d=t?`${d}/${t}${c}`:d,r((0,p.gx)(d))},Ie=()=>(e,t)=>{t().getIn(["app","currentUser","didRedirect"])||(e((0,I.SF)({changes:{didRedirect:!0},sync:!1})),e(be()))},Ce=()=>(e,t)=>{const n=t(),r=(0,_.Sp)(n);if(1!==(0,R.kE)(r))return;const o=r.first(),i=(0,A.$)(n),s=(0,D.sb)(i,o),a=(0,v.G8z)(s);e(he({boardId:a,newTab:!0}))}},31078:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});const r="VERSION_UPDATE_AVAILABLE"},33813:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(43393),o=n(59161),i=n(31078);const s=r.Map({currentVersion:(0,o.Z)().appVersion,updateAvailable:!1,isCurrentVersionSafe:!0}),a=(e=s,t)=>t.type===i.k?e.set("updateAvailable",!0).set("isCurrentVersionSafe",t.safe):e},94252:(e,t,n)=>{"use strict";n.d(t,{g:()=>o,v:()=>r});const r=e=>e.getIn(["app","version","updateAvailable"]),o=e=>e.getIn(["app","version","isCurrentVersionSafe"])},16273:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>c,fQ:()=>l});var r=n(2555),o=n(44379),i=n(68071),s=n(56884);const a=o.ZP.createChannel(o.SI.SERVICE_WORKER_REGISTRATION),l=()=>"serviceWorker"in navigator&&!(0,i.L7)(),c=e=>{l()?(a.info("%cAvailable and will be registered","color: blue"),(e=>{navigator.serviceWorker.register("/sw.js",{scope:"/"}).then((t=>{a.info("%cSuccessfully registered","color: green",t),(0,r.Zv)(e)})).catch((e=>{a.error("Registration failed",e)}))})(e)):a.warn("Not available in this browser")};let d=null;window.addEventListener("beforeinstallprompt",(async e=>{e.preventDefault(),a.info("%cCapturing install prompt","color: green"),d=e}));window.addEventListener("appinstalled",(()=>{(0,s.dO)({eventType:"Installed PWA"})}))},14349:(e,t,n)=>{"use strict";n.d(t,{CE:()=>o,MN:()=>r,XI:()=>i,rw:()=>s});const r="liveCollaborationStore",o="LIVE_COLLABORATION_SOCKET_CONNECT",i="LIVE_COLLABORATION_SOCKET_DISCONNECT",s="LIVE_COLLABORATION_SOCKET_UPDATE_CHANNEL"},96502:(e,t,n)=>{"use strict";n.d(t,{l:()=>l});var r=n(22222),o=n(90252),i=n(81410),s=n(74520),a=n(90624);const l=(0,r.P1)(s.cO,i.s4,a.li,((e,t,n)=>!n&&e.some((e=>(0,o.J_)(e)===t))))},41585:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n(43393),o=n(15857),i=n(24545),s=n(59161),a=n(63422),l=n.n(a),c=n(63992),d=n(10048),u=n(63686);function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=(0,s.Z)(),h=l()(["collaboration","url"],p);class g{constructor(){m(this,"connectSocket",(({channel:e,userId:t})=>this.socketClient&&this.socketClient.connected?this.emitChannelUpdate({channel:e}):this.socketClient&&this.socketClient.disconnected?(this.socketClient.connect(),void this.emitChannelUpdate({channel:e})):(this.socketClient=(({channel:e,userId:t})=>{d.Z.info("%c Creating collaboration socket for channel","color: blue",h,e);const n=`channel=${e}&userId=${t}`;return(0,c.ZP)(h,{query:n,transports:["websocket","polling"]})})({channel:e,userId:t}),this.emitChannelUpdate({channel:e}),void this.socketClient.on(u.uD.ACTION,this.dispatch)))),m(this,"updateChannel",(({channel:e})=>{if(!this.socketClient||this.socketClient.disconnected)return this.connectSocket({channel:e});this.emitChannelUpdate({channel:e})})),m(this,"emitChannelUpdate",(({channel:e})=>this.socketClient.emit(u.uD.UPDATE_CHANNELS,{channel:e}))),m(this,"disconnectSocket",(()=>{this.socketClient&&this.socketClient.io.disconnect()})),m(this,"emitAction",(e=>{this.socketClient&&this.socketClient.emit(u.uD.ACTION,e)})),this.socketClient=null,this.store=null,this.dispatch=null}subscribeToLiveCollaborationStore(e){this.store=e,this.dispatch=this.store.dispatch.bind(this.store)}}var f=n(84796),E=n(50335),v=n(44379),b=n(14349);const y=e=>t=>t=>n=>{const r=t(n);switch(n.sync&&e.emitAction(n),n.type){case b.CE:e.connectSocket(n);break;case b.XI:e.disconnectSocket();break;case b.rw:e.updateChannel(n)}return r};var I=n(72739),C=n(4588),S=n.n(C),T=n(48538);const w=r.Map();var O=n(79225);const _=["paths"];const R=r.Map(),A=(e,t)=>t.remote&&t.userId&&t.path?e.update(t.userId,{},(e=>{let{paths:n=[]}=e,r=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,_);return Object.assign({},r,{paths:[...n.filter((({id:e})=>e!==t.path.id)),t.path]})})):e,D=(e=R,t)=>{switch(t.type){case O.jT:return((e,t)=>t.remote&&t.userId?e.update(t.userId,{},(()=>({paths:t.paths,editedDrawingId:t.editedDrawingId}))):e)(e,t);case O.tB:return A(e,t);case O.n7:return t.remote&&t.userId?e.delete(t.userId):e;case b.XI:case b.rw:return R;default:return e}},N=(0,I.U)({liveCursor:(e=w,t)=>{switch(t.type){case T.gs:return((e,t)=>t.remote&&t.userId?e.update(t.userId,{},(e=>Object.assign({},e,S()(["x","y","status","cursorType"],t)))):e)(e,t);case T.ez:return t.remote&&t.userId?e.delete(t.userId):e;case b.XI:case b.rw:return w;default:return e}},liveDrawing:D});var x=n(45350);const M=r.Map({[T.gs]:x.DEBUG_LEVEL.FINE});function P(e=r.Map()){const t=new g,n=[],a=(0,s.Z)();if(n.push(y(t)),(0,E.Od)()&&n.push((0,f.Z)("collab_")),(0,v.jF)(v.SI.REDUX_LOG_COLLAB)){const e=M.filter((e=>e>=a.debugLevel)).keySeq().toArray();n.push((0,i.hu)({predicate:(t,n)=>-1===e.indexOf(n.type),collapsed:!0,duration:!0,timestamp:!1,colors:{title:e=>"indianred"}}))}const l=o.md.apply(null,n),c=(0,o.MT)(N,e,l);return t.subscribeToLiveCollaborationStore(c),c}},62880:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(37974),o=n(14349);const i=(...e)=>{const t=Object.assign({},e[3],{storeKey:o.MN,getDisplayName:e=>`LiveCollaborationStoreConnect(${e})`});return(0,r.$j)(e[0],e[1],e[2],t)}},84796:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(41609),o=n.n(r),i=n(43831),s=n(3945),a=n.n(s),l=n(96026),c=n.n(l),d=n(74691),u=n.n(d),m=n(10048);const p=["font-weight: normal;","color: #00a6ff; font-weight: normal;"];var h=n(80275),g=n(81410),f=n(87447),E=n(71154);const v=e=>()=>{const t=e(),n=(0,h.rc)(t),r=(0,h.vz)(t),o=(0,h.PN)(t),s=(0,h.SZ)(t),l=(0,h.$3)(t),d=(0,i.su)((0,h.J9)(t));(e=>{let t="\n";const n=[],r=e.reduce(((e,t)=>{const n=t.entries.reduce(((e,[t])=>Math.max(e,t.length)),0);return Math.max(e,n)}),0),o=e.reduce(((e,t)=>{const n=t.entries.reduce(((e,[,t])=>{var n;return Math.max(e,null===(n=String(t))||void 0===n?void 0:n.length)}),0);return Math.max(e,n)}),0),i=u()(r+o+6,20,60),s=c()(i).map((()=>"_")).join("");e.forEach((e=>{t+=`%c${a()(e.title)}\n${s}\n\n`,n.push("font-weight: bold;"),e.entries.forEach((([e,o])=>{const i=r-e.length;t+=`  %c${e}:${c()(i).map((()=>" ")).join("")} %c${o}\n`,n.push(...p)})),t+="\n"})),m.Z.log(t,...n)})([{title:"Current user",entries:[["ID",n],["Email",r],["Root board ID",o],["Subscription ID",s],["Customer ID",l],["Experiments",d?`\n\t\t\t\t${d.join("\n\t\t\t\t")}`:""]]},{title:"Current board",entries:[["Board ID",(0,g.nv)(t)],["Visible board ID",(0,g.ie)(t)]]},{title:"Selected elements",entries:[["Selected element IDs",(0,i.su)((0,f.Sp)(t)).join(", ")],["Editing element ID",(0,E.pJ)(t)],["Editing editor ID",(0,E.lY)(t)],["Editing editor key",(0,E.Qq)(t)]]}])},b=(e="")=>({getState:t,dispatch:n})=>(window&&(window[`_${e}dispatch`]=n,window[`_${e}state`]=t(),o()(e)&&(window._mn_details=v(t))),n=>r=>{const o=n(r);return window&&(window[`_${e}state`]=t()),o})},4671:(e,t,n)=>{"use strict";let r;n.d(t,{Z:()=>o}),r=n(65438).Z;const o=r},65438:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Du});var r=n(46488),o=n.n(r),i=n(15857),s=n(77606),a=n.n(s),l=n(63422),c=n.n(l),d=n(4835),u=n.n(d),m=n(63992),p=n(74322),h=n(20354),g=n(7594),f=n.n(g),E=n(10048),v=n(50335),b=n(97245),y=n(89030),I=n(41557),C=n(45575),S=n(74657),T=n(63686),w=n(24545);const O=e=>{const t=f()(e)?c()("status",e):e,n=parseInt(t,10);return isNaN(n)?t:n},_={[b.aY]:!0,[y.cc]:!0,[y.TS]:!0,[I.Nv]:!0,[C.aQ]:!0,[C.XU]:!0,[S.V6]:!0,[S.xy]:!0,[S.zf]:!0},R={[b.XI]:!0,[b.bD]:!0,[b.wh]:!0,[b.hA]:!0,[b.Zv]:!0},A={[y.cc]:!0,[I.Nv]:!0,[C.aQ]:!0,[C.XU]:!0},D={[S.V6]:!0,[S.xy]:!0,[S.zf]:!0,[y.xb]:!0,[y.Pb]:!0,[T.uD.UPDATE_CHANNELS]:!0,[y.N1]:!0};var N=n(11151),x=n.n(N),M=n(8816),P=n.n(M),L=n(69937),k=n.n(L),F=n(44236),B=n.n(F);const j=e=>c()(["user","_id"],e)||c()("userId",e);var z=n(30840),U=n(495),H=n(80583),Z=n(82929),G=n(75763),K=n(80275),W=n(40102),V=n(79900),$=n(81396),q=n(68624);const Y=e=>{const t=()=>e.getState().get("elements"),n=()=>{const t=e.getState(),n=(0,K.rc)(t);return(0,Z.F)(n)},r=e=>`${e}${T.vp}`,o=(n,r,o)=>((n,r,o)=>{const i=e.getState(),s=(0,V.XW)(i),a=i.getIn(["elements",r]),l=(0,z.Yj)(t(),n,s);return!!a&&(0,H.rS)(l,o||a)})(n,r,o)?n:void 0,i=e=>(0,U.jz)(t(),e),s=e=>(0,U.T_)(t(),e),a=P()(c()("updates"),x()((e=>[o(i(e.cloneId||e.id),e.id,e.updateType),o(s(e.cloneId||e.id),e.id,e.updateType)])),u(),B()),l=P()(c()("moves"),x()((e=>[o(s(e.location.parentId),e.id),o(s(e.from.parentId),e.id)])),u(),B()),d=t=>{const n=e.getState(),r=t.threadId||n.getIn(["comments",t._id,"threadId"]);return u()([o(i(r),r)])},m=c=>{switch(c.type){case b.hA:return(e=>u()([o(s((0,G.CKs)(e)),e.id)]))(c);case b.bD:return(n=>{const r=(0,G.CKs)(n),o=(0,V.XW)(e.getState());return(0,H.rS)((0,z.Yj)(t(),r,o),(0,G.BGE)(n))?[s(r)]:[]})(c);case b.XI:return a(c);case b.go:case b.aY:return(e=>u()([o(i(e.id),e.id)]))(c);case b.EY:return l(c);case S.V6:case S.xy:case S.zf:return(e=>{const t=k()(e.ids);return u()([o(i(t),t)]).map(r)})(c);case C.aQ:case C.XU:return d(c).map(r);case C.Eb:case C.DE:case C.b$:return d(c);case I.Nv:return(e=>[(0,Z.F)(e.userId)])(c);case $.Qd:case $.Pt:case y.Pb:case y.xb:case W.fq:case W.gO:case W.z2:case W.Nv:case W.FH:case W.uI:return[n()];case y.N1:return(e=>[r(e.newBoardId),e.userId])(c);default:return(e=>{const t=j(e);return e.personal?[n()]:[t]})(c)}},p=P()(x()(m),B(),u());return e=>e.type===q.Bw?(e=>{const t=e.payload;return p(t)})(e):m(e)};var X=n(84876),Q=n(52740),J=n(43831),ee=n(37407),te=n(57448),ne=n(23680),re=n(68468),oe=n(71154),ie=n(23865),se=n(33853),ae=n(52353),le=n.n(ae);const ce="anon",de=e=>{if(!e)return!1;for(const t of b._B)if(!le()(e[t]))return!0;return!1},ue=/^([a-zA-Z0-9]+)-([0-9]+)$/,me=/^(.*-)?([a-zA-Z0-9]+)$/,pe=(e=ce,t=1)=>{const n=(e=>{if(!e)return ce;const t=e.match(me);return(null==t?void 0:t[2])||ce})(e);return`${n}-${t}`},he=(e,t)=>{const n=(e=>{if(!e)return 0;const t=e.match(ue);return Number.parseInt((null==t?void 0:t[2])||"0")})(t)||1;return pe(e,n+1)};let ge;!function(e){e[e.IGNORE_VERSIONING=0]="IGNORE_VERSIONING",e[e.CREATE_SERVER_VERSION=1]="CREATE_SERVER_VERSION",e[e.USE_NEW_VERSION_ID=2]="USE_NEW_VERSION_ID",e[e.IGNORE_CHANGE=3]="IGNORE_CHANGE",e[e.VERSION_CONFLICT=4]="VERSION_CONFLICT",e[e.OUTDATED_SERVER_VERSION=5]="OUTDATED_SERVER_VERSION"}(ge||(ge={}));const fe=(e,t)=>e.error&&(null==e?void 0:e.name)===ie.SQ.DIFF_UPDATE_ERROR?((e,t)=>async(n,r)=>{var o;const i=r(),s=null==t?void 0:t.id,a=(0,re.sb)(i,{elementId:s});if(E.Z.info("handleSocketErrors - handleDiffUpdateError: Handling diff update error",t,(0,J.su)(a)),!a)return E.Z.error(`Unable to find element with id ${s} to recover from diff update error`),(0,h.vl)({errorMessage:"handleSocketErrors - handleDiffUpdateError: Unable to find element to recover from diff update error",level:se.n.ERROR,custom:{elementId:s}}),!1;if((null==e?void 0:e.code)===ge[ge.IGNORE_CHANGE]){E.Z.error("An ELEMENT_DIFF_UPDATE errored because the server is ahead of the client",{elementId:s,action:t,element:a}),(0,h.vl)({errorMessage:"handleSocketErrors - handleDiffUpdateError: An ELEMENT_DIFF_UPDATE errored because the server is ahead of the client",level:se.n.ERROR,custom:{elementId:s}});const e=(0,oe.pJ)(i),r=(0,oe.lY)(i),o=(0,oe.Qq)(i);return e===s&&n((0,ne.gR)(s)),s&&await n((0,te.X)({force:!0,elementIds:[s]})),e===s&&n((0,ne.TV)({id:s,editorId:r,editorKey:o,transactionId:void 0,canUndo:!1})),!0}if((0,G.IJe)(a)!==(null==t||null===(o=t.meta)||void 0===o?void 0:o.versionId))return E.Z.warn("handleSocketErrors - handleDiffUpdateError: Received an error for an outdated version. Ignoring update."),!0;E.Z.warn("handleSocketErrors - handleDiffUpdateError: Reverting to a full element update");const l=(0,J.su)((0,G.FBA)(a));return n((0,ee.yj)({id:null==t?void 0:t.id,changes:{textContent:l},updateType:b._q.DIFF_UPDATE_ERROR_RECOVERY})),!0})(e,t):(e,t)=>!1;var Ee=n(19092),ve=n(23493),be=n.n(ve);const ye=10*Ee.yu.SECOND;var Ie=n(50235);const Ce=["user","operation"];const Se=e=>{let{user:t,operation:n}=e,r=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,Ce);return{type:Ie.t,monitoring:Object.assign({[Ie.vO.OPERATION]:n},r),user:t}};var Te=n(81410),we=n(24588),Oe=n(21886),_e=n(59161),Re=n(71014);function Ae(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(0,_e.Z)().apiRoot;class De{constructor(e){var t=this;Ae(this,"onSocketConnectionHandler",(()=>{this.disconnectionTimeoutId&&(clearTimeout(this.disconnectionTimeoutId),this.disconnectionTimeoutId=null);const e=this.store.getState();this.updateChannels({joined:e.getIn(["app","socketConnection","channels"]).toJS(),left:[]}),(e=>{const t=e.getBuffer(),n=Object.keys(t).reverse(),r={};for(const o of n){const n=c()([o,"eventName"],t)===T.uD.UPDATE_CHANNELS?T.uD.UPDATE_CHANNELS:c()([o,"action","type"],t);A[n]&&e.removeActionFromBuffer(o),D[n]&&(r[n]&&e.removeActionFromBuffer(o),r[n]=!0)}})(this.sendBuffer),this.flushSendBuffer().then((()=>{this.isConnected=!0,this.dispatch((0,we.zh)((0,Ee.u3)())),this.fetchCurrentBoardOnFlush&&(this.dispatch((0,Q.nz)({boardId:(0,Te.s4)(this.store.getState()),loadAncestors:!1,force:!0})),this.fetchCurrentBoardOnFlush=!1)}))})),Ae(this,"onSocketActionHandler",(e=>this.dispatch(e))),Ae(this,"onSocketDisconnectionHandler",(e=>{this.disconnectionCount++,this.disconnectionCountTimeoutId&&clearTimeout(this.disconnectionCountTimeoutId),this.disconnectionCountTimeoutId=setTimeout((()=>{this.disconnectionCount=0,this.disconnectionCountTimeoutId=null}),1e4);if(this.disconnectionCount>3&&("transport close"===e||"transport error"===e)&&!this.sendBuffer.isEmpty())return this.sendBuffer.clearBuffer(),this.dispatch((0,Oe.Z)({modalId:Re.eR.CONNECTION_FAILURE,data:{error:{code:Re.eR.CONNECTION_FAILURE,message:"Socket buffer failed to synchronise"},boardId:(0,Te.s4)(this.store.getState())}})),void this.blockSocketConnection("Failed to sync socket buffer");this.dispatch((0,we.L$)()),this.isConnected=!1,this.disconnectionTimeoutId||(this.disconnectionTimeoutId=setTimeout((()=>{this.dispatch((0,we.cQ)())}),2e4))})),Ae(this,"flushSendBuffer",(()=>{if(this.sendBuffer.isEmpty())return this.sendBuffer.clearBuffer(),Promise.resolve();const{id:e,eventName:t,action:n}=this.sendBuffer.getNextAction();return n.bufferFlush=!0,n.replay=!0,n.monitoring=n.monitoring||{},n.monitoring[Ie.vO.REQUEST_MODE]="bufferFlush",R[n.type]&&(this.fetchCurrentBoardOnFlush=!0),this.rawSocketEmit({eventName:t,action:n,actionId:e,isBufferFlush:!0}).catch((()=>null)).then(this.flushSendBuffer)})),Ae(this,"rawSocketEmit",(({eventName:e,action:n,actionId:r,attempt:o=0,isBufferFlush:i})=>new Promise(((s,a)=>{if(!i&&(this.sentActionCounter.incrementSentActionCount(n),!this.sentActionCounter.isWithinCountLimits(n))){E.Z.error("Action count limit exceeded",n.type);const e=Se({user:n.user,operation:"SOCKET_THROTTLE",actionType:n.type});this.socketClient.emit(T.uD.ACTION,e)}this.socketClient.emit(e,n,(async function(i){((e,t)=>{if(!(0,v.HW)())return;if(!t.bufferFlush&&!t.replay)return;const n=t.bufferFlush?"flush ":"replay",r=t.bufferFlush?"#16558d":"#ff4e6d",o=t.type||e;console.groupCollapsed(`%c ${n} %c${o}`,w.bJ,`color: ${r}`),E.Z.info("%caction","color: #03a9f4; font-weight: bold",t),console.groupEnd()})(e,n);const a=O(i);if(a===p.OK)return t.sendBuffer.removeActionFromBuffer(r),s();if(t.dispatch(fe(i,n)))return t.sendBuffer.removeActionFromBuffer(r),s();return(!a||a>=500)&&o<3?(await(0,X.Z)(100*Math.pow(o+1,2)),n.replay=!0,n.attempt=o+1,n.monitoring=n.monitoring||{},n.monitoring[Ie.vO.REQUEST_MODE]="retry",t.rawSocketEmit({eventName:e,action:n,actionId:r,attempt:o+1}).then(s)):(((e,t,n)=>{const r=O(n);E.Z.error(`Socket Emit: Maximum number of attempts exceeded for '${c()("type",t)}'`,r,n,t),(0,h.vl)({errorMessage:"A socket emission failed",error:{code:r},custom:{action:t}})})(0,n,i),t.sendBuffer.removeActionFromBuffer(r),t.dispatch((0,Oe.Z)({modalId:Re.eR.ACTION_FAILURE,data:{error:{code:Re.eR.ACTION_FAILURE,message:`${a}: Client socket action error (${c()("type",n)})`},action:n,boardId:(0,Te.s4)(t.store.getState())}})),s())}))})))),this.socketClient=null,this.store=null,this.dispatch=null,this.isConnected=!1,this.fetchCurrentBoardOnFlush=!1,this.sendBuffer=(e=>{const t=e.getBuffer();for(const n in t){if(!t.hasOwnProperty(n))continue;const r=c()([n,"action","type"],t);_[r]&&e.removeActionFromBuffer(n)}return e})(e()),this.userId=null,this.blockSocket=!1,this.disconnectionCount=0,this.disconnectionCountTimeoutId=null,this.disconnectionTimeoutId=null,this.getActionChannels=()=>null,this.sentActionCounter=(()=>{let e={};const t=be()((()=>{e={}}),ye,{leading:!1,trailing:!0});return{incrementSentActionCount:n=>{n&&(e[n.type]=e[n.type]||0,e[n.type]++,t())},isWithinCountLimits:t=>!t||100!==e[t.type]}})(),this.blockActions=!1}logAndReportError(e,t){E.Z.error(t),(0,h.vl)({errorMessage:t,level:e,error:new Error(t)})}reconnectSocket(){this.socketClient.connect()}connectSocket(e){if(e||this.userId){if(this.blockSocket){const e="Socket client: Attempting to connect a socket while blocked";return this.logAndReportError(se.n.WARNING,e),void this.dispatch((0,Oe.Z)({modalId:Re.eR.CONNECTION_FAILURE,data:{error:{code:Re.eR.CONNECTION_FAILURE,message:e},boardId:(0,Te.s4)(this.store.getState())}}))}if(this.socketClient){if(!e||this.userId===e){if(this.socketClient.connected){const e="Socket client: Attempting to connect a socket while already connected";this.logAndReportError(se.n.WARNING,e)}else this.reconnectSocket();return}this.disconnectAndDestroySocket()}this.userId=e||this.userId,this.socketClient=(e=>(0,m.ZP)({query:`userId=${e}`}))(this.userId),this.socketClient.on(T.uD.CONNECT,this.onSocketConnectionHandler),this.socketClient.on(T.uD.ACTION,this.onSocketActionHandler),this.socketClient.on(T.uD.DISCONNECT,this.onSocketDisconnectionHandler)}else{const e="Socket client: Attempting to connect a socket without a userId";this.logAndReportError(se.n.WARNING,e)}}disconnectAndDestroySocket(){this.disconnectionTimeoutId&&clearTimeout(this.disconnectionTimeoutId),this.socketClient&&(this.socketClient.off(),this.socketClient.io.disconnect(),this.socketClient=null)}blockSocketConnection(e){this.disconnectAndDestroySocket(),this.blockSocket=!0;const t=`Socket client: Blocking socket connection - ${e}`;this.logAndReportError(se.n.WARNING,t)}updateChannels({joined:e,left:t}){a()(e)&&a()(t)||this.safeSocketEmit(T.uD.UPDATE_CHANNELS,{joined:e,left:t})}emitAction(e){const t=u()(this.getActionChannels(e));t.length&&this.safeSocketEmit(T.uD.ACTION,Object.assign({},e,{channels:t}))}safeSocketEmit(e,t){const n=this.sendBuffer.addActionToBuffer(e,t);if(this.isConnected)return this.rawSocketEmit({eventName:e,action:t,actionId:n})}subscribeToStore(e){this.store=e,this.dispatch=this.store.dispatch.bind(this.store),this.getActionChannels=Y(this.store)}}const Ne=e=>new De(e);var xe=n(53894),Me=n(33311),Pe=n(67557),Le=n(13260),ke=n(10536);const Fe=(e,t)=>Object.assign({},t,{user:{_id:e.getIn(["app","currentUser","_id"]),clientId:(0,ke.g)(e),clientTick:(0,ke.q)(e)},deviceId:(0,Pe.Z)(),sessionId:(0,Le.M)(),undoRedoAction:void 0,transactionId:void 0,isUndo:void 0,isRedo:void 0}),Be=(e,t)=>t.type===b.EY?((e,t)=>(t.initialMeasurements=void 0,Fe(e,t)))(e,t):Fe(e,t),je=e=>t=>{const n=e.getState(),r=((e,t)=>{if(t.type!==q.Bw)return t;const n=t.payload.filter((e=>e.sync)).map((t=>Be(e,t)));return Object.assign({},t,{sync:!0,payload:n})})(n,t);return Be(n,r)};var ze=n(95998),Ue=n(68071),He=n(47915),Ze=n(40201),Ge=n(72902),Ke=n(80901);const We=e=>t=>{const n=je(t);return!(0,Ue.Z$)()&&(0,He.$)()?e=>t=>e(t):r=>o=>{const i=t.getState(),s=r(o);if((0,Ze._)(i))return s;if((0,K.ht)(i)&&o.sync&&o.type!==I.Nv)return s;const a=(e=>!!e.sync||e.type===q.Bw&&(e.payload||[]).some((e=>e.sync)))(o);if(a){const t=n(o);e.emitAction(t)}if((0,ze.pI)(o))return e.disconnectAndDestroySocket(),s;switch(o.type){case Ge.$P:e.connectSocket(j(o));break;case Re.x4:e.updateChannels(o);break;case Re._s:case Ke.J9:e.disconnectAndDestroySocket();break;case Re.k4:case Ke._V:e.connectSocket()}return s}};var Ve=n(59242),$e=n.n(Ve),qe=n(7575),Ye=n(60742),Xe=n(1014),Qe=n(21053),Je=n(87430),et=n(55655),tt=n(19884),nt=n(31368);const rt=e=>{const t=(0,Qe.H7)(e);return!!t&&(0,Xe.Jj)(t)},ot=(e,t)=>t.some((t=>e.hasIn(["elements",t]))),it=(e,t)=>{switch(t.type){case q.Bw:return t.payload.some((t=>it(e,t)));case b.wh:return((e,t)=>((e,t)=>e.hasIn(["elements",t]))(e,t.id))(e,t);case b.EY:return((e,t)=>ot(e,t.moves.map((e=>e.id))))(e,t);case b.XI:return((e,t)=>ot(e,t.updates.map((e=>e.id))))(e,t);case Me.nk:return((e,t)=>{const n=(0,Je.Wo)(e);return!!rt(n)&&!a()((0,Je.k$)(e))&&t.payload&&"REPLACE"!==t.payload.action&&"POP"!==t.payload.action})(e,t);case $.Pt:return((e,t)=>(null==t?void 0:t.operation)===$.os)(0,t);case S.t0:return((e,t)=>t.canUndo&&!!t.transactionId)(0,t);case b.Av:return((e,t)=>Boolean(t.transactionId))(0,t);case b.go:case S.V6:case S.TR:case b.hA:case b.bD:case b.m9:case et.YJ:case et.H_:case C.DE:case C.Eb:case C.b$:case tt.lA:case tt.mL:case nt.Bf:case b.pH:return!0;default:return!1}},st=(e,t)=>(e=>{if(e.remote)return!1;if(e.isUndo)return!1;if(e.isRedo)return!1;if(e.transactionId<0)return!1;if(e.type===Me.nk){const t=c()(["payload","pathname"],e);return rt(t)}return!!e.transactionId})(t)&&it(e.getState(),t);var at=n(4588),lt=n.n(at),ct=n(35161),dt=n.n(ct),ut=n(40087),mt=n.n(ut),pt=n(23560),ht=n.n(pt),gt=n(7287),ft=n.n(gt);const Et=mt()(((e,t)=>{const n=ht()(e)?e:t=>e;return ft()(t,dt()(t,n))}));var vt=n(3674),bt=n.n(vt);var yt=n(91747),It=n.n(yt);const Ct=(e,t)=>{const n=bt()(e),r=lt()(n,t),o=(i=e,Et(null,bt()(i)));var i;return It()(r,o)};var St=n(10305),Tt=n(87447),wt=n(9553);const Ot=(e,{id:t,location:n,from:r})=>({id:t,location:Object.assign({},r),from:Object.assign({},n)}),_t=(e,t)=>{if(t.updateType){if(t.updateType===b._q.DUE_DATE){if(!t.undoUpdates||!t.undoUpdates.length)return;return t.undoUpdates.some((e=>!!c()(["changes","dueDate"],e)))?b._q.DUE_DATE:b._q.TOGGLE_DUE_DATE}if(t.updateType===b._q.TOGGLE_DUE_DATE){if(!t.updates||!t.updates.length)return;if(t.updates.some((e=>!c()(["changes","showDueDate"],e))))return b._q.DUE_DATE}}},Rt=(e,{changes:t,id:n})=>({id:n,changes:Ct(t,e.getIn(["elements",n,"content"]).toJS())}),At=(e,t)=>Object.assign({},((e,t)=>Object.assign({type:t.type},Ot(0,t),{sync:t.sync}))(0,t),Rt(e,t)),Dt=(e,{_id:t})=>{const n=e.getIn(["comments",t,"text"]);return n&&n.toJS()},Nt=(e,{_id:t})=>{const n=e.getIn(["comments",t,"content"]);return n&&n.toJS()},xt=(e,{contentUpdate:t={}})=>{const{updateType:n}=t;switch(n){case b._q.REACTION:return b._q.TOGGLE_REACTION;case b._q.TOGGLE_REACTION:return b._q.REACTION}},Mt=(e,t)=>{switch(t.type){case q.Bw:return Object.assign({},t,{payload:t.payload.map((t=>Mt(e,t)))});case b.wh:return At(e,t);case b.EY:return((e,t)=>({type:t.type,moves:t.moves.map((e=>Ot(0,e))),sync:t.sync,timestamp:t.timestamp}))(0,t);case b.XI:return((e,t)=>{const n=Object.assign({},t,{updateType:_t(0,t),updates:t.undoUpdates?t.undoUpdates:t.updates.map((t=>Rt(e,t))),isUndo:!0});return t.batchUndoActions&&t.batchUndoActions.length>0?{type:q.Bw,payload:[n,...t.batchUndoActions.map((e=>Object.assign({},e,{isUndo:!0})))]}:n})(e,t);case b.hA:return((e,t)=>(0,St.fP)({id:t.id,elementType:t.elementType,location:{parentId:t.location.parentId},sync:t.sync}))(0,t);case b.bD:return((e,t)=>{const{id:n}=t,r=(0,J.su)(e.getIn(["elements",n]));return(0,St.fK)(Object.assign({},r,{id:n}))})(e,t);case b.m9:return((e,t)=>{const n=e.getIn(["elements",t.originalElementId,"content","hasClones"]),r=e.getIn(["elements",t.id,"elementType"]),o=(0,J.su)(e.getIn(["elements",t.id,"content"]));return{type:b.B0,originalElementId:t.originalElementId,originalElementHasClones:n,clonedElementId:t.id,clonedElementOriginalType:r,clonedElementOriginalContent:o,sync:t.sync}})(e,t);case b.go:return((e,t)=>{const{id:n,undoChanges:r}=t,o=r||c()("changes",Rt(e,t));return Object.assign({},t,{changes:o,elementType:e.getIn(["elements",n,"elementType"])})})(e,t);case Me.nk:return((e,t)=>({type:Me.nk,payload:Object.assign({},(0,Je.k$)(e),{action:"POP"})}))(e);case S.V6:return((e,t)=>({type:S.xy,ids:t.ids,sync:t.sync}))(0,t);case S.t0:return((e,t)=>{const n=(0,oe.pJ)(e),r=(0,oe.lY)(e),o=(0,oe.Qq)(e);return r&&o?Object.assign({},t,{id:n,editorId:r,editorKey:o}):(0,ne.gR)(n)})(e,t);case S.TR:return((e,t)=>{const n=(0,Tt.pF)(e);return Object.assign({},t,{cellSelections:n})})(e,t);case et.YJ:return((e,t)=>({type:et.H_,counts:t.counts}))(0,t);case et.H_:return((e,t)=>({type:et.YJ,counts:t.counts}))(0,t);case C.Eb:return((e,t)=>Object.assign({},lt()(["_id","threadId","userId","sync"],t),{type:C.b$}))(0,t);case C.DE:return((e,t)=>Object.assign({},t,{text:Dt(e,t),contentUpdate:t.contentUpdate&&Object.assign({},t.contentUpdate,{updateType:xt(0,t),changes:Nt(e,t)})}))(e,t);case C.b$:return((e,t)=>Object.assign({},t,{type:C.Eb,threadId:e.getIn(["comments",t._id,"threadId"]),text:Dt(e,t),createdAt:e.getIn(["comments",t._id,"createdAt"]),overrideCreatedAt:!0}))(e,t);case tt.lA:return((e,t)=>Object.assign({},t,{type:tt.mL}))(0,t);case tt.mL:return((e,t)=>Object.assign({},t,{type:tt.lA}))(0,t);case nt.Bf:return t;case $.Pt:return((e,t)=>Object.assign({},t,{type:$._7}))(0,t);case b.pH:return((e,t)=>Object.assign({},t,{type:b.iu}))(0,t);case b.Av:return((e,t)=>Object.assign({},t,{updates:t.updates.map((({id:t})=>({id:t,data:(0,wt.c)(e,{elementId:t})})))}))(e,t);default:throw Error(`UNDO: Unknown action type, ${t.type}`)}},Pt=e=>Object.assign({},e,{isUndo:!0}),Lt=(e,t)=>Pt(Object.assign({},Mt(e,t),{transactionId:t.transactionId})),kt=e=>Object.assign({},e,{isRedo:!0}),Ft=(e,t)=>{switch(t.type){case b.pH:case S.V6:return null;case b.XI:return((e,t)=>{const n=kt(t);return t.batchRedoActions&&t.batchRedoActions.length>0?{type:q.Bw,payload:[n,...t.batchRedoActions.map((e=>Object.assign({},e,{isRedo:!0})))]}:n})(0,t);default:return kt(t)}},Bt=(e,t)=>$e()((e=>t=>{if(!t.transactionId){const n=e.getState(),r=(0,qe.$x)(n);t.transactionId=r?(0,qe.vd)(n):(0,Ye.k)()}return t})(e),(e=>t=>{const n=e.getState();return t.undoRedoAction={undo:Lt(n,t),redo:Ft(0,t)},t})(e))(t),jt=e=>t=>n=>{if(!st(e,n))return t(n);const r=((e,t)=>t.type!==q.Bw?Bt(e,t):Object.assign({},t,{payload:t.payload.map((t=>Bt(e,t)))}))(e,n);return t(r)};var zt=n(9101),Ut=n(56426),Ht=n(56884),Zt=n(90252),Gt=n(19495),Kt=n(53019),Wt=n(36346),Vt=n(22479);const $t=(e,t)=>{let n={};t.type===Me.nk&&(0,Ue.Z$)()&&(n["last-seen-on-electron"]=Math.floor((0,Ee.u3)()/Ee.yu.SECOND));const r=(0,Kt.zt)(e);if(!r)return(0,zt.o6)(n);const o=(0,Kt.s3)(e)-r;n=Object.assign({billable_content:r,billable_content_remaining:o},n),(0,zt.o6)(n)},qt={[y.N1]:(e,t)=>{const n=e.getIn(["app","currentUser","_id"]),r=e.getIn(["users",n,"currentBoardId"]),o=e.get("users").filter((e=>e.get("currentBoardId")===r||e.get("_id")===n));o.size>=2&&(0,zt.Q3)("live-shared-board",{users_count:o.size})},[Me.nk]:$t,[b.hA]:(e,t)=>{t.remote||((0,zt.Q3)(`created-${t.elementType.toLowerCase()}`),t.creationSource===b.S1.QUICK_LINE&&(0,zt.Q3)("used-quick-line"),t.creationSource===b.S1.IMAGE_SEARCH&&(0,zt.Q3)("used-image-search"),t.creationSource===b.S1.DOUBLE_CLICK&&(0,zt.Q3)("created-card-doubleclick"),$t(e,t))},[b.EY]:(e,t)=>{t.moves.some(Wt.qB)&&$t(e,t)},[Vt.k2]:()=>(0,zt.Q3)("used-search")};var Yt=n(18721),Xt=n.n(Yt),Qt=n(27361),Jt=n.n(Qt),en=n(78718),tn=n.n(en),nn=n(26434),rn=n(11111),on=n(96014),sn=n(66705),an=n(56860),ln=n(53976),cn=n(69203),dn=n(92544);const un=e=>Jt()(e,["content","textContent","blocks",0,"data","header-title"]),mn=e=>{const t=Object.assign({},(e=>(0,rn.zE)(e)?{[ln.x2.FILES]:!0}:(0,rn.Iw)(e)?{[ln.x2.COMMENTS]:!0}:(0,rn.PG)(e)?{[ln.x2.CHECKLIST]:!0}:(0,rn.qk)(e)?{[dn.A.DOCUMENT]:!0}:un(e)?{[dn.A.HEADER]:!0}:void 0)(e),(e=>{switch(e.creationSource){case b.S1.CMD_ENTER:return{[ln.x2.CMD_ENTER_NOTE]:!0};case b.S1.IMAGE_SEARCH:return{[ln.x2.IMAGE_SEARCH]:!0};case b.S1.DOUBLE_CLICK:return{[ln.x2.DOUBLE_CLICK_NOTE]:!0};case b.S1.FILE_UPLOAD_POPUP:return{[ln.x2.FILE_UPLOAD_VIA_POPUP]:!0};case b.S1.IMAGE_UPLOAD_POPUP:return{[ln.x2.IMAGE_UPLOAD_VIA_POPUP]:!0};case b.S1.QUICK_LINE:return{[ln.x2.QUICK_LINE]:!0}}})(e));if(Object.keys(t).length)return{[ln.YV.FEATURE]:t}},pn=e=>{switch(e.type){case b.hA:{const t=tn()(e,["duplicate","elementType","location.section","content.drawingMode","content.longForm","content.linkType","creationSource"]);if(un(e)){const e=t.content||{};t.content=Object.assign({},e,{headerCard:!0})}return t}case b.EY:return(e=>({count:e.moves.length,fromTrash:e.moves.filter((e=>Jt()(e,["from","section"])===an.WI.TRASH)).length,toTrash:e.moves.filter((e=>Jt()(e,["location","section"])===an.WI.TRASH)).length}))(e);case b.XI:{const t={count:e.updates?e.updates.length:1};return Xt()(e,["updates",0,"changes","file","size"])&&(t.fileSize=Jt()(e,["updates",0,"changes","file","size"]),t.fileExt=Jt()(e,["updates",0,"changes","file","ext"])),t}case y.N1:case y._L:return tn()(e,["isDemo"]);case ln.Sj:return tn()(e,["referrerId"]);case ln.aF:case ln.$R:return(e=>{const t=Jt()(e,["fullSubscriptionDetail"]);return{id:(0,on.FK)(t),adminId:(0,sn.qp)((0,on.aP)(t)),provider:(0,on.Vr)(t),status:(0,on.ku)(t),created:(0,on._9)(t),canceled:(0,on.hZ)(t),canceled_at:(0,on._Q)(t),quantity:(0,on.z3)(t),plan:{id:(0,on.aE)(t),amount:(0,on.UO)(t),name:(0,on.tL)(t),interval:(0,on.I$)(t),created:(0,on._9)(t)},start:(0,on.Mj)(t),customer:(0,on.qi)(t)}})(e);case Vt.k2:return tn()(e,["query"]);case cn.M:return{type:Jt()(e,"pushType")};case ln.pS:{const t={platform:Jt()(e,"platform")},n=Jt()(e,"registrationEntryPoint");return n&&(t.registrationEntryPoint=n),t}default:return{}}},hn=(e,t)=>{switch(e.type){case b.hA:return mn(e);case ln.CW:return{userAgent:e.userAgent};case ln.Sj:return{[ln.YV.STATUS]:"INVITED",[ln.YV.EMAIL]:Jt()(e,["user","email"]),[ln.YV.INVITATION_DATE]:(0,Ee.tC)(t),[ln.YV.INVITED_FROM_BOARD_FLAG]:!0,[ln.YV.REFERRED_BY_USER]:!!e.referrerId};case ln.pS:{const n={[ln.YV.STATUS]:"REGISTERED",[ln.YV.EMAIL]:Jt()(e,["user","email"]),[ln.YV.REGISTRATION_DATE]:(0,Ee.tC)(t),[ln.YV.REGISTRATION_MONTH]:(0,Ee.l9)(t),[ln.YV.REFERRED_BY_USER]:!!e.referrerCode,[ln.YV.REGISTERED_WITH_REFERRAL_CODE]:!!e.referrerCode,[ln.YV.DEFAULT_CONTENT_LIMIT]:Jt()(e,["user","contentLimit","default"]),[ln.YV.MAX_REFERRAL_BONUS]:Jt()(e,["user","contentLimit","maxReferralBonus"])},r=Jt()(e,"registrationEntryPoint");return r&&(n[ln.YV.INVITED_FROM_BOARD_FLAG]=!0,n[ln.YV.REGISTRATION_ENTRY_POINT]=r),n}case ln.qi:return{[ln.YV.EMAIL_VERIFIED]:Jt()(e,["emailVerifiedDate"])};case ln.Tp:return{[ln.YV.REFERRED_A_FRIEND]:!0};case y._L:return e.isDemo?{[ln.YV.EXAMPLE_BOARDS_FLAG]:!0,[ln.YV.EXAMPLE_BOARDS]:e.newBoardId}:{[ln.YV.GUEST_VIEWED_PUBLIC_BOARDS]:!0};case ln.aF:case ln.$R:return{[ln.YV.SUBSCRIPTION]:"Active"};case ln.uC:case ln.Ne:return{[ln.YV.SUBSCRIPTION]:"Cancelled"};case Vt.k2:return{[ln.YV.FEATURE]:{[ln.x2.SEARCH]:!0}};case C.Eb:return{[ln.YV.FEATURE]:{[ln.x2.COMMENTS]:!0}};case cn.M:return{[ln.YV.FEATURE]:{[ln.x2.RECEIVED_PUSH_NOTIFICATIONS]:!0}};case ln.KS:return{[ln.YV.FEATURE]:{[ln.x2.MENTIONED_A_USER]:!0}};case ln.ud:return{[ln.YV.FEATURE]:{[ln.x2.MENTIONED_BY_USER]:!0}};case ln.tG:return{[ln.YV.FEATURE]:{[ln.x2.ASSIGNED_TASK_TO_A_USER]:!0}};case ln.a$:return{[ln.YV.FEATURE]:{[ln.x2.ASSIGNED_TASK_BY_A_USER]:!0}};case b.XI:return e.updateType===b._q.DUE_DATE?{[ln.YV.FEATURE]:{[ln.x2.DUE_DATE]:!0}}:void 0;default:return}},gn=e=>{switch(Jt()(e,"platform")){case y.VT.IPHONE:return"iOS";case y.VT.ANDROID:return"Android";default:return}},fn=(e,t)=>Object.assign({event_properties:pn(e),user_properties:hn(e,t)},(e=>{switch(e.type){case ln.pS:return{platform:gn(e)};case ln.CW:return{ip:e.ip,app_version:e.version};default:return}})(e));var En=n(69e3);const vn=Ee.yu.HOUR,bn=e=>`milanote.amplitude_limit.${e}`,yn=e=>{const t=(({userId:e,amplitudeDeviceId:t,event:n,eventId:r,time:o=Date.now()})=>Object.assign({event_id:r,user_id:e,device_id:t,event_type:(0,nn.nF)(n.type),time:o},fn(n,o)))({event:e});(0,Ht.dO)({eventType:t.event_type,eventProperties:t.event_properties,userProperties:t.user_properties})},In=e=>{const{type:t}=e,n=bn(t),r=parseInt(En.Z.getItem(n),10);if(!(r&&r>Date.now()-4*Ee.yu.HOUR))return En.Z.setItem(n,Date.now()),yn(e)},Cn=be()(In,vn),Sn=e=>t=>{const n=(0,_e.Z)();return(0,Ht.XX)(n,e),En.Z.setItem(bn(y.N1),Date.now()),e=>{if(!e.remote)switch(e.type){case q.Bw:return(e=>{const{payload:t}=e;for(const n of t)yn(n)})(e);case y.N1:case y._L:return In(e);case Ge.$P:return(e=>{const{user:t}=e;(0,Ht.q0)(t),(0,Ht.$)({userProperties:{[ln.YV.DEFAULT_CONTENT_LIMIT]:(0,Zt.J0)(t),[ln.YV.CURRENT_CONTENT_LIMIT]:(0,Zt.IL)(t),[ln.YV.MAX_REFERRAL_BONUS]:(0,Zt.b)(t),[ln.YV.GIFT_BONUS]:(0,Zt.kT)(t),[ln.YV.EXPERIMENTS]:(0,Zt.g5)(t)}})})(e);case b.XI:case b.wh:case b.EY:return Cn(e);default:return(0,nn.l$)(e.type)?yn(e):void 0}}};var Tn=n(97831),wn=n(78453);const On=e=>{e.remote||e.type!==S.t0||wn.f8(Gt.Lw.ELEMENT_CREATION)&&(0,Tn.Z)((()=>{wn.a7(Gt.Lw.ELEMENT_CREATION)}))};var _n=n(85743);const Rn=()=>{const e=(0,_e.Z)();if((0,Gt.Tc)(e.appVersion),!e.analytics||!e.analytics.enabled)return e=>e=>t=>{On(t),e(t)};return t=>n=>{const r=(e=>t=>t=>{const n=qt[t.type];n&&n(e.getState(),t)})(t)(n),o=Sn(t)(n);return(0,h.rp)(),t=>{var i;const s=n(t);if(r(t),On(t),(0,ze.pI)(t))return(0,Ht.aQ)(),(0,zt.WY)(),s;if(t.remote)return s;switch(o(t),t.type){case Ge.$P:(t=>{const n=parseInt(t._id.slice(0,8),16),r={user_id:t._id,created_at:n,email:t.email,name:t.name&&t.name.displayName,res_width:window.screen.availWidth,res_height:window.screen.availHeight,hide_default_launcher:!0,experiments:(0,Zt.g5)(t)};(0,Ue.Z$)()&&(r["last-seen-on-electron"]=Math.floor((0,Ee.u3)()/Ee.yu.SECOND)),(0,Ut.z)()&&(r["has-used-PWA"]=!0),(0,zt.kC)(Object.assign({app_id:e.analytics.appId},r))})(t.user),(0,h.kd)(t.user),(0,Gt.LJ)(null===(i=t.user)||void 0===i?void 0:i._id);break;case Ge.NZ:(0,zt.kC)({app_id:e.analytics.appId,hide_default_launcher:!0});break;case _n.Ny:(0,zt.qi)()}return s}}};var An=n(37574),Dn=n(60658),Nn=n(42022),xn=n(12265),Mn=n(69129),Pn=n(24676),Ln=n(45915),kn=n(57863);const Fn=e=>t=>n=>{if(n.remote)return t(n);const r=e.getState(),{search:o}=(0,Je.k$)(r);if(!o)return t(n);switch(n.type){case S.t0:case S._:case Pn.V.ELEMENT_EDIT_START:case xn.Sv:e.dispatch((0,An.Dg)());break;case S.xy:case S.zf:((e,t)=>(0,Nn.f4)(e)!==kn.jP.SEARCH)(r)&&e.dispatch((0,An.Dg)([Ln.RY.FILTER_IDS]));break;case Mn.AV:(0,Nn.f4)(r)&&e.dispatch((0,An.Dg)([Ln.RY.FILTER_CONTEXT]));break;case xn.nv:((e,t)=>!t.ids||!t.ids.map((t=>e.getIn(["elements",t]))).some(Dn.Mc))(r,n)&&e.dispatch((0,An.Dg)())}return t(n)};var Bn=n(80369),jn=n.n(Bn),zn=n(41609),Un=n.n(zn),Hn=n(20874),Zn=n.n(Hn),Gn=n(54061),Kn=n.n(Gn),Wn=n(60434),Vn=n(35803),$n=n(8779),qn=n(10798),Yn=n(45446),Xn=n(51910),Qn=n(47404);const Jn=e=>(t,n)=>{const{elementType:r}=n;t.dispatch(e({[r]:1},n.transactionId))},er=Jn(Vn.bF),tr=Jn(Vn.C1),nr=(e,t,n,r)=>{Kn()(n,Zn(),0)<=0||t(e(n,r))},rr=e=>async(t,n)=>{const r=t.getState(),o=(0,K.rc)(r),i=(n.moves||[tn()(n,["id","location","from"])]).filter(Wt.qB).map((({id:e})=>r.getIn(["elements",e]))).filter((0,Yn.fH)(o)),s=i.filter(jn()(rn.Nm)),a=i.filter(rn.Nm),l=s.reduce(Qn.HH,{});nr(e,t.dispatch,l,n.transactionId);const c=a.map(G.G8z);if(!Un()(c)){const r=await t.dispatch((0,Vn.vw)(c));nr(e,t.dispatch,r,n.transactionId)}},or=rr(Vn.bF),ir=rr(Vn.C1),sr=(e,t)=>(e=>{switch(e.type){case q.Bw:case b.bD:case b.hA:case et.YJ:case et.H_:case b.go:return!0;case b.EY:return e.moves.some(Wt.qB);default:return!1}})(e)&&((e,t)=>{if(!e.remote)return!0;const n=t.getIn(["elements",e.id])||e;if(!n)return!1;const r=(0,J.vg)("elementType",n);if((0,rn.Nm)(r))return!0;const o=t.getIn(["app","currentUser","_id"]),i=(0,J.P2)(["meta","creator"],n);return i&&i===o})(e,t),ar=e=>t=>n=>(n.isUndo||n.isRedo||(n.type===b.EY&&n.moves.some(Wt.e5)&&ir(e,n),n.type===b.EY&&n.moves.some(Wt.h1)&&or(e,n),n.type===b.bD&&tr(e,n),n.type===b.hA&&er(e,n),n.type===b.go&&((e,t)=>{const{id:n,elementType:r,transactionId:o}=t,i=e.getState(),s=(0,re.$3)(i),a=(0,U.sb)(s,n),l=(0,G.BGE)(a);if(!l)return;if(l===r)return;const c={[l]:-1,[r]:1};e.dispatch((0,Vn.bF)(c,o))})(e,n),n.type===q.Bw&&((e,t)=>{const{payload:n}=t,r={};n.forEach((e=>{const{type:t,elementType:n}=e;let o=0;t===b.hA?o=1:t===b.bD&&(o=-1),0!==o&&(r[n]=(r[n]||0)+o)})),Un()(r)||e.dispatch((0,Vn.bF)(r,t.transactionId))})(e,n)),t(n)),lr=e=>t=>n=>{if(n.type===q.Bw){const o=[];if(n.payload.map(lr(e)((r=o,e=>r.push(e)))),n.payload=o,0===n.payload.length)return;return t(n)}var r;return n.remote||n.type!==b.hA||(0,K.T8)(e.getState())?t(n):(async(e,t,n)=>{const{elementType:r,duplicate:o}=n,{dispatch:i,getState:s}=e;if(!(0,rn.rf)(r)&&!o)return t(n);let a=s();const l=(0,Kt.J)(a);if(!(0,qn.fU)(a)){const e=i((0,$n._7)());if(!l)return t(n);await e,a=s()}let c=(0,Kt.zt)(a),d=(0,Kt.s3)(a);return(0,Xn.LY)(d)?t(n):c>=d&&(await i((0,$n._7)()),a=s(),c=(0,Kt.zt)(a),d=(0,Kt.s3)(a),c>=d)?(l||e.dispatch((0,$n.eH)(!0)),e.dispatch((0,Wn.Mw)(et.z$,(()=>!0)))):(l&&e.dispatch((0,$n.eH)(!1)),t(n))})(e,t,n)},cr=e=>t=>n=>{const r=e.getState();return sr(n,r)?lr(e)(ar(e)(t))(n):t(n)};var dr=n(84796);const ur=e=>t=>n=>(n.type!==b.aY||e.dispatch((0,Q.nz)({boardId:n.id,force:!0,excludeSelf:!0,loadNextBoards:!0,loadAncestors:!1})).then((()=>e.dispatch((0,Q.I)(n.id)))),t(n));var mr=n(68738),pr=n.n(mr),hr=n(68302),gr=n.n(hr),fr=n(29095),Er=n(11155),vr=n(32471),br=n(97973),yr=n(39273),Ir=n(80637),Cr=n(22222),Sr=n(63749),Tr=n(99238),wr=n(19690),Or=n(13415),_r=n(2555),Rr=n(79218);const Ar=(0,Cr.P1)(Sr.R,wr._W,Tr._,(e=>e.getIn(["app","popup","pushSuggestion","alreadySuggestedThisSession"])),Rr.Bh,Rr.$5,Rr.h0,((e,t,n,r,o,i,s)=>{const a=e&&e.size>1||!1;return!r&&!n&&(!t||0===t.size)&&a&&(0,_r.tD)()&&!(0,_r._h)()&&!(0,_r.wd)()&&!(0,Or.uG)()&&(o||i)&&!s}));var Dr=n(48791),Nr=n(81897),xr=n(27177),Mr=n(33921),Pr=n(41013);const Lr=e=>{var t,n,r,o;return null==e||null===(t=e.content)||void 0===t||null===(n=t.textContent)||void 0===n||null===(r=n.blocks)||void 0===r||null===(o=r[0].data)||void 0===o?void 0:o["header-title"]},kr=[{id:"enter-onboarding",attachmentPredicate:e=>{const t=(0,K.ts)(e);return!!(0,Zt.zo)(t)},predicate:e=>"ONBOARDING_STEPS_LOADED"===e.type,gotoStep:e=>{const t=(0,K.ts)(e);return(0,Zt.zo)(t)}},{id:"re-enter-onboarding",attachmentPredicate:e=>{const t=(0,xr.ky)(),n=(0,K.ts)(e);return!(0,Zt.zo)(n)&&!!t},predicate:e=>"ONBOARDING_STEPS_LOADED"===e.type,gotoStep:()=>(0,xr.ky)()},{id:"create-note",predicate:e=>!e.remote&&"ELEMENT_CREATE"===e.type&&(0,rn.F_)(e)&&!Lr(e),gotoStep:"explain-note",educationCode:Mr.UW.EXPLAIN_NOTE,preloadImages:[n(4355)]},{id:"create-document",predicate:e=>!e.remote&&"ELEMENT_CREATE"===e.type&&(0,rn.qk)(e),gotoStep:"explain-document",educationCode:Mr.UW.EXPLAIN_DOCUMENT,preloadImages:[n(24998)]},{id:"create-audio",predicate:e=>{var t;return!e.remote&&"ELEMENT_CREATE"===e.type&&"LINK"===e.elementType&&"AUDIO"===(null===(t=e.content)||void 0===t?void 0:t.linkType)},gotoStep:"explain-audio",educationCode:Mr.UW.EXPLAIN_AUDIO,preloadImages:[n(78593)]},{id:"create-map",predicate:e=>{var t;return!e.remote&&"ELEMENT_CREATE"===e.type&&"LINK"===e.elementType&&"MAP"===(null===(t=e.content)||void 0===t?void 0:t.linkType)},gotoStep:"explain-map",educationCode:Mr.UW.EXPLAIN_MAP,preloadImages:[n(93223)]},{id:"create-video",predicate:e=>{var t;return!e.remote&&"ELEMENT_CREATE"===e.type&&"LINK"===e.elementType&&"VIDEO"===(null===(t=e.content)||void 0===t?void 0:t.linkType)},gotoStep:"explain-video",educationCode:Mr.UW.EXPLAIN_VIDEO,preloadImages:[n(67554)]},{id:"create-sketch",predicate:e=>!e.remote&&"ELEMENT_CREATE"===e.type&&"SKETCH"===e.elementType,gotoStep:"explain-sketch",educationCode:Mr.UW.EXPLAIN_SKETCH,preloadImages:[n(60109)]},{id:"create-swatch",predicate:e=>!e.remote&&"ELEMENT_CREATE"===e.type&&"COLOR_SWATCH"===e.elementType,gotoStep:"explain-swatch",educationCode:Mr.UW.EXPLAIN_SWATCH,preloadImages:[n(43650)]},{id:"create-title",predicate:e=>!e.remote&&"ELEMENT_CREATE"===e.type&&"CARD"===e.elementType&&!!Lr(e),gotoStep:"explain-title",educationCode:Mr.UW.EXPLAIN_TITLE,preloadImages:[n(9307)]},{id:"create-task-list",predicate:e=>!e.remote&&"ELEMENT_CREATE"===e.type&&"TASK_LIST"===e.elementType,gotoStep:"explain-task-list",educationCode:Mr.UW.EXPLAIN_TASK_LIST,preloadImages:[n(51421)]},{id:"create-line",predicate:e=>!e.remote&&"ELEMENT_CREATE"===e.type&&"LINE"===e.elementType,gotoStep:"explain-line",educationCode:Mr.UW.EXPLAIN_LINE,preloadImages:[n(33439)]},{id:"create-link",predicate:e=>{var t;return!(e.remote||"ELEMENT_CREATE"!==e.type||"LINK"!==e.elementType||null!==(t=e.content)&&void 0!==t&&t.linkType)},gotoStep:"explain-link",educationCode:Mr.UW.EXPLAIN_LINK,preloadImages:[n(93516)]},{id:"create-column",predicate:e=>!e.remote&&"ELEMENT_CREATE"===e.type&&"COLUMN"===e.elementType,gotoStep:"explain-column",educationCode:Mr.UW.EXPLAIN_COLUMN,preloadImages:[n(35946),n(68913)]},{id:"create-board",predicate:(e,t)=>{if(e.remote)return!1;if("ELEMENT_CREATE"!==e.type)return!1;if("BOARD"!==e.elementType)return!1;const n=(0,Te.nv)(t);return!t.getIn(["elements",n,"location","rootBoard"])},gotoStep:"explain-board",educationCode:Mr.UW.EXPLAIN_BOARD,preloadImages:[n(45389)]},{id:"used-template-with-image-placeholder",predicate:(e,t)=>{if("ONBOARDING_STEP_PASSED"!==e.type)return!1;const n=(0,Nr.gk)(t).filter(rn.Or).filter((e=>!(0,G.ywY)(e)));return 0!==n.size?(e.imageElementId=(0,G.nRF)(n.first()),!0):void 0},gotoStep:"explain-image-placeholder",educationCode:Mr.UW.EXPLAIN_IMAGE_PLACEHOLDER},{id:"create-card-double-click",predicate:e=>!e.remote&&"ELEMENT_CREATE"===e.type&&"CARD"===e.elementType&&e.creationSource===b.S1.DOUBLE_CLICK,gotoStep:"explain-double-click",educationCode:Mr.UW.EXPLAIN_DOUBLE_CLICK_CARD},{id:"create-comment-thread",predicate:e=>!e.remote&&"ELEMENT_CREATE"===e.type&&"COMMENT_THREAD"===e.elementType,gotoStep:"explain-comment-thread",educationCode:Mr.UW.EXPLAIN_COMMENT_THREAD,preloadImages:[n(35784)]},{id:"explain-comment",predicate:(e,t)=>{if(e.remote)return!1;if("CURRENT_BOARD_ID_SET"!==e.type&&"@@router/LOCATION_CHANGE"!==e.type)return!1;if("@@router/LOCATION_CHANGE"===e.type&&"/share"!==c()(["locationBeforeTransitions","pathname"],t.get("routing")))return!1;const n="@@router/LOCATION_CHANGE"===e.type?(0,Te.s4)(t):e.boardId,r=t.getIn(["elements",n]);if(!r)return!1;if(r.getIn(["location","rootBoard"]))return!1;const o=t.getIn(["app","currentUser","_id"]),i=t.getIn(["permissions","aclIds"]);if(!(0,z.Up)(t.get("elements"),n,[o,...i]))return!1;const s=r.get("acl");return s&&(s.size>1||s.size&&!s.get(y.CJ))},gotoStep:"explain-comment",educationCode:Mr.UW.EXPLAIN_COMMENT},{id:"suggest-push-notifications",attachmentPredicate:e=>(0,Dr.Og)(e)!==Pr.HR.MOBILE.name&&(0,_r.tD)()&&!(0,_r._h)()&&!(0,_r.wd)()&&!(0,Or.uG)(),predicate:(e,t)=>{const n=Ar(t),r=t.getIn(["app","onboarding","loaded"]);return n&&r},gotoStep:"open-suggest-push-popup"},{id:"create-table",predicate:e=>!e.remote&&"ELEMENT_CREATE"===e.type&&"TABLE"===e.elementType,gotoStep:"explain-table",educationCode:Mr.UW.EXPLAIN_TABLE,preloadImages:[n(876)]},{id:"announce-table",attachmentPredicate:e=>!(0,K.ht)(e),predicate:(e,t)=>!e.remote&&t.getIn(["app","onboarding","loaded"]),gotoStep:"announce-table-1-modal",educationCode:Mr.UW.ANNOUNCE_TABLE}];var Fr=n(45238);const Br=e=>{const t=(e=>(t,n)=>{t&&t.get("dispatch")&&gr()(e.dispatch,t.get("dispatch")(n)),t&&t.get("callback")&&gr()(t.get("callback"))})(e),n=(e=>(t,n)=>{if(!t)return;e.dispatch((0,fr.WX)(t.get("id")));let r=t.get("gotoStep");r&&(r=pr()(r)?r:r(e.getState(),n),e.dispatch((0,fr.UR)(r,n))),t.get("step")&&e.dispatch((0,fr.R$)(t.get("step"),n)),t.get("educationCode")&&e.dispatch((0,fr.hz)(t.get("educationCode")))})(e),r=(e=>(t,n)=>gr()((()=>{(0,br.FP)(e.getState())!==t&&e.dispatch((0,fr.R$)((0,Er.x)(t,n,e.getState()),n))})))(e);return o=>i=>{const s=e.getState(),a=(0,br.E4)(s),l=a&&"empty-step"!==a.get("id"),c=(0,br.X1)(s),d=c&&c.size,u=((e,t,n)=>n&&n.getIn(["disable","actions"])&&n.getIn(["disable","actions"]).includes(t.type)?()=>null:()=>e(t))(o,i,a);if(i.type===Ge.$P||i.type===Ke.nF){const t=u();return e.getState().getIn(["app","currentUser"]).get("fetched")?(((e,t)=>{const n=(0,K.ts)(t),r=(0,Zt.pW)(n),o=kr.filter((e=>{const{attachmentPredicate:n}=e,o=!(0,vr.Nc)(r,e.educationCode);return n?n(t)&&o:o}));o.length&&e((0,Ir.Z)()),o.forEach((t=>{t.preloadImages&&(0,yr.Z)(t.preloadImages),e((0,fr.Z1)(t))}))})(e.dispatch,e.getState()),t):t}if(i.type===Fr.Ju){const e=u();return r(i.step,i.meta),e}i.type===Fr.A2&&t(i.step,i.meta);const m=a&&a.get("nextStep")&&a.get("nextStep")(i,s);if(m&&r(m,i),!l&&!d)return u();if(d){const e=u();return n(((e,t,n,r)=>e.filter((e=>r&&e.get("overrideCurrentStep")||!r)).find((e=>e.get("predicate")(t,n))))(c,i,s,l),i),e}return u()}};var jr=n(13612);const zr=e=>{const t=(({getState:e,dispatch:t})=>({id:t})=>{const n=e(),r=(0,jr.Dc)(n).getIn([t,"cancelFn"]);r&&r()})(e),n=(e=>t=>t.moves&&t.moves.filter((e=>c()(["location","section"],e)===an.WI.TRASH)).forEach(e))(t);return e=>{switch(e.type){case b.iu:case b.bD:return t(e);case b.EY:return n(e);default:return null}}},Ur=e=>{const t=zr(e);return e=>n=>(t(n),e(n))};var Hr=n(88846),Zr=n.n(Hr),Gr=n(25325),Kr=n.n(Gr),Wr=n(94654),Vr=n.n(Wr),$r=n(47566);const qr=(e,t)=>{if(e.silent)return!1;switch(e.type){case b.hA:case b.jY:case b.Zv:return!0;case b.EY:return((e,t)=>{if(!t.from)return!1;if(t.location.parentId!==t.from.parentId)return!0;if(t.location.section!==t.from.section)return!0;if(t.location.section===an.WI.INBOX){const e=Jt()(t,["location","position","index"],0),n=Jt()(t,["from","position","index"],e);return Math.abs(e-n)>=W.o1}const n=Jt()(t,["location","position"],{x:0,y:0}),r=Jt()(t,["from","position"],n),o=(0,$r.nZ)(n)-(0,$r.nZ)(r),i=(0,$r.Ff)(n)-(0,$r.Ff)(r);return o*o+i*i>=W._U})(0,t);case b.XI:return(e=>{const{updates:t}=e;if(!t)return!1;const n=Vr()(t,(e=>Object.keys(e.changes)));return Kr()(n,W.XI).length>0})(e);default:return!1}};var Yr=n(91040),Xr=n(83547);const Qr=(e,t)=>t.reduce(((t,{id:n})=>{const r=(0,U.sb)(e,n);return r?(t[n]=(0,G.BGE)(r),t):t}),{}),Jr=c()(["from","parentId"]),eo=c()(["location","parentId"]),to=P()(Zr()(Jr),B()),no=P()(Zr()(eo),B()),ro=P()(B(),k()),oo=(e,t)=>{switch(t.type){case q.Bw:return t.payload=t.payload.map((t=>{const n=oo(e,t);return n&&(t.activity=n),t})),null;case C.Eb:case C.DE:case C.b$:return((e,t)=>{const n=e.getState();return{track:(0,Yr.tM)(n),boardId:(0,Te.s4)(n)}})(e);case b.hA:return((e,t)=>{const n=e.getState();return{track:(0,Yr.tM)(n),boardId:(0,Te.s4)(n)}})(e);case b.XI:case b.Zv:return((e,t)=>{const n=e.getState(),{updates:r=[],updateType:o,id:i}=t,s=o===b._q.REACTION||o===b._q.TOGGLE_REACTION,a=(0,Yr.tM)(n)&&(qr(t)||s),l=(0,Te.s4)(n),c=(0,Xr.$)(n),d=(null==r?void 0:r.length)>0?r:[{id:i}];return{track:a,boardId:l,elementTypes:Qr(c,d)}})(e,t);case y.N1:return((e,t)=>{const{newBoardId:n,previousBoardId:r}=t,o=e.getState(),i=(0,Xr.$)(o),s={track:!!n||!!r,isPreviousBoardShared:!1,isNewBoardShared:!1};if(!n&&!r)return s;const a=(0,V.XW)(o);return r&&(s.isPreviousBoardShared=(0,z.Up)(i,r,a)&&(0,z.Rf)({elements:i,elementId:r})),n&&(s.isNewBoardShared=(0,z.Up)(i,n,a)&&(0,z.Rf)({elements:i,elementId:n})),s})(e,t);case b.EY:return((e,t)=>{if(a()(t.moves))return null;const n=e.getState(),r=(0,Xr.$)(n),o=to(t.moves),i=ro(o.map((e=>(0,U.T_)(r,e)||e))),s=no(t.moves),l=ro(s.map((e=>(0,U.T_)(r,e)||e))),c=i===l,d=(0,z.Rf)({elements:r,elementId:i}),u=(0,z.Rf)({elements:r,elementId:l});return{track:!c&&(d||u),sourceBoardId:i,isSourceShared:d,destinationBoardId:l,isDestinationShared:u,elementTypes:Qr(r,t.moves)}})(e,t);case b.bD:return((e,t)=>{const n=e.getState(),r=(0,Yr.tM)(n),o=(0,Te.s4)(n),i=(0,Xr.$)(n);return{track:r,boardId:o,elementTypes:Qr(i,[t])}})(e,t);default:return null}},io=e=>t=>n=>{const r=((e,t)=>{const n=e.getState();if(t.remote)return t;if((0,K.ht)(n))return t;const r=oo(e,t);return r?(t.activity=r,t):t})(e,n);return t(r)};var so=n(85625),ao=n(81329),lo=n(17408),co=n(70834),uo=n(29176);const mo=[W.GT.COMMENT,W.GT.BOARD_VIEW,W.GT.BOARD_UPDATE,W.GT.BOARD_TASKS_UPDATE],po=(e,t)=>{if(!t)return t;const{notifications:n}=t;if(!n)return t;const r=e.getState();if((0,K.ht)(r))return t;const o=(0,Te.s4)(r),i=(0,K.rc)(r),s=(0,lo.Sj)(r),{notificationsToDelete:l,notificationsToPersist:c}=n.reduce(((e,t)=>{const{userId:n,type:r}=t;if(i!==n)return e;const a=(0,ao.s)(t),l=(0,ao.Xm)(t);return!s.has(l)&&a===o&&mo.includes(r)?e.notificationsToDelete.push(t):e.notificationsToPersist.push(t),e}),{notificationsToDelete:[],notificationsToPersist:[]});return a()(l)||e.dispatch((0,co.h)({userId:i,notificationIds:l.map(ao.Xm)})),Object.assign({},t,{notifications:c})},ho=(e,t)=>{switch(t.type){case uo.tl:return((e,t)=>{var n;return t.resource!==uo.P6.notifications||null!==(n=t.data)&&void 0!==n&&n.after&&(t.data=po(e,t.data)),t})(e,t);case W.Xx:return po(e,t);default:return t}},go=e=>t=>n=>{if(!(0,so.b)())return t(n);const r=ho(e,n);return r?t(r):void 0};var fo=n(99044);const Eo=e=>t=>n=>n.remote&&n.type===W.Xx?(e.dispatch((0,fo.p)(n)),t(n)):t(n),vo=({dispatch:e})=>t=>n=>{const r=t(n);return(0,ze.pI)(n)&&e((0,An.eV)()),r};var bo=n(25387),yo=n.n(bo),Io=n(52612),Co=n.n(Io),So=n(40565),To=n(7923),wo=n(66675),Oo=n(37986),_o=n(64599),Ro=n(63978),Ao=n(70309);var Do=n(51079),No=n(25926),xo=n(60660),Mo=n(26954),Po=n(31650),Lo=n(82042),ko=n(98138),Fo=n(76491),Bo=n(93776),jo=n(96886),zo=n(79762),Uo=n(46563),Ho=n(59551),Zo=n(22453),Go=n(94081),Ko=n(11535),Wo=n(78210);const Vo=(e,t)=>{const n=t||{height:0,width:0};return{width:Math.ceil(Math.max((0,To.dz)(e),(0,To.dz)(n))),height:Math.ceil(Math.max((0,To.Cr)(e),(0,To.Cr)(n)))}},$o=(e,t,n,r)=>{let o=To.bA(e,To.Iu(t,r));return o=To.lG({top:o.top,left:o.left},o),Vo(o,n)},qo=(e,t)=>{switch(e.elementType){case an.V_:case Bo.C:case jo.tE:return{x:Zo.B,y:Zo.G$};case Ho.H3:return{x:Ho.py,y:Ho.fr};case Ko.KY:return{x:Ko.X,y:Ko.ug};case Go.nr:return((e,t)=>{const n=(0,G.PlF)(e),r=(0,G._4D)(e);if(!n||!r)return{x:b.cv,y:Go.f8};const o=Math.min(n/t,b.cv);return{x:o,y:r/n*o}})(e,t);case zo.xe:return{x:b.cv,y:zo.$F};case Uo.BA:return{x:b.cv,y:Uo.Mv};default:return{x:b.cv,y:Fo.uV}}},Yo=(e,t)=>(n,r)=>{const o=r(),i=(0,Te.s4)(o),s=(0,Dr.ZP)(o),a=(0,Ao.Ji)(o),l=(0,Ao.l7)(o),c=(0,J.su)((0,Ao.Nz)(o)),d=(0,Ro.S)(o),u=To.rI(d),m=(0,J.su)((0,Nr._Z)(o));if(a===ko.t.ZOOM_TO_FIT){const t=(0,J.su)((0,Do.f)(o)||{}),r=To.lG({bottom:3*s,right:3*s},e),i=$o(l,c,t,r);(0,To.dz)(t)===(0,To.dz)(i)&&(0,To.Cr)(t)===(0,To.Cr)(i)||n((0,xo.z1)(i))}if(To.Qd(u,e))return;const p=((e,t,n)=>{const r=To.rL(t),o=To.rL(e),i=So.bA(1/n,So.e5(r,o));return So.F8(Math.round(Math.min(i.x,0)),Math.round(Math.min(i.y,0)))})(e,u,s),h={x:0,y:0};if(p.x&&(h.x=p.x-5),p.y&&(h.y=p.y-5),h.x||h.y){const e=r(),o=(0,J.su)((0,Do.f)(e)||{}),a={width:(0,To.dz)(o)-p.x*s,height:(0,To.Cr)(o)-p.y*s};n((0,xo.z1)(a));const l=So.Iu(m,h);n((0,Mo.bI)({id:i,canvasOrigin:l,transactionId:t}))}const g=(0,wo.Pc)(l),f={width:Math.max(To.dz(d)-h.x*s,e.right+(g.x-h.x)*s),height:Math.max(To.Cr(d)-h.y*s,e.bottom+(g.y-h.y)*s)};n((0,xo.ge)({canvasSize:f}))},Xo=(e,t)=>{if(e.remote)return;const{dispatch:n,getState:r}=t,o=r(),i=(0,Dr.ZP)(o),s=(0,Te.s4)(o),a=(0,J.su)((0,Nr._Z)(o));if((0,G.CKs)(e)!==s||!(0,Dn.PY)(e))return;const l=((e,t,n,r=Wo.yp)=>{const o=qo(e,n),i=So.e5(r,t),s=So.Iu(i,o),a=To.rI({top:i.y,left:i.x,bottom:s.y,right:s.x});return To.bA(n,a)})(e,So.F8((0,G.oNe)(e),(0,G.uLQ)(e)),i,a);n(Yo(l,e.transactionId))},Qo=(e,t,n)=>e>=t?e:t+n,Jo=(e,t,n,r)=>{if(e>n)return n;return e<t||e-10*r>t?e-5*r:t},ei=(e,t,n,r,o,i,s,a)=>n.withMutations((n=>(o.reduce(((n,o)=>{var l;if(null==o||null===(l=o.location)||void 0===l||!l.position)return n;const{id:c}=o,d=(0,U.sb)(r,c);if(!d)return n;if((0,rn.P7)(d))return n;const u=(0,G.CKs)(o),m=(0,J.P2)(["from","parentId"],o),p=(null==e?void 0:e[c])||(0,J.vg)(c,t);if(!p)return n;const h=u===i&&(0,Dn.PY)(o),g=!h&&m===i;if(h){const e=((e,t,n=Wo.yp,r)=>{let o=So.F8((0,G.oNe)(e),(0,G.uLQ)(e));o=So.e5(n,o);const i=So.bA(r,o);return To.rI(Object.assign({},i,{width:To.dz(t),height:To.Cr(t)}))})(o,p,s,a);n.set(c,e)}g&&n.delete(c);const f=(0,U.Bt)(r,u),E=(0,U.sb)(r,f);if(E!==d&&(0,G.CKs)(E)===i&&(0,Dn.PY)(E)){const e=(0,J.vg)(f,n);if(e){let t=To.rI(e);t=To.lG({top:0,left:0,right:0,bottom:(0,J.vg)("height",p)},t),n.set(f,t)}}const v=(0,U.Bt)(r,m),b=(0,U.sb)(r,v);if(b!==d&&(0,G.CKs)(b)===i&&(0,Dn.PY)(b)){const e=(0,J.vg)(f,n);if(e){let t=To.rI(e);t=To.lG({top:0,left:0,right:0,bottom:-(0,J.vg)("height",p)},t),n.set(f,t)}}return n}),n),n))),ti=(e,t,n)=>{if(e.remote||e.isRedo||e.isUndo)return;const{dispatch:r,getState:o}=t,{moves:i,initialMeasurements:s}=e,a=o(),l=n.getState(),c=(0,re.$3)(a),d=(0,Dr.ZP)(a),u=(0,Ao.l7)(a),m=(0,Te.s4)(a),p=((0,K.ts)(a),(0,J.su)((0,Nr._Z)(a))),h=(0,Nr.oN)(a);if(!i)return null;const g=(0,Nr.tJ)(a),f=(0,J.su)(g.filter((e=>!(0,rn.P7)(e))).map(G.nRF)),E=(0,No.gd)(l),v=(0,J.yS)(f,E),b=ei(s,E,v,c,i,m,p,d).valueSeq().toArray(),y=To.lP(b),I=To.Iu(h,y),C=(0,J.su)((e=>{const t=(0,Te.s4)(e);return e.getIn(["app","canvas","initialState",t,"canvasOrigin"])})(a)||p),S=So.bA(d,C),T=(0,J.su)((0,Ro.S)(a)),w=To.rI(Object.assign({},h,T)),O=To.rI({left:S.x,top:S.y,right:w.right,bottom:w.bottom}),_=((e,t,n,r,o)=>({x:Jo(t.x,n.x,r.x,o),y:Jo(t.y,n.y,r.y,o)}))(0,I,h,O,d),R=(0,wo.Pc)(u),A=To.rI({left:_.x,top:_.y,right:Qo(O.right,I.right,R.x*d),bottom:Qo(O.bottom,I.bottom,R.y*d)}),D={width:A.width,height:A.height},N=((e,t,n,r,o)=>{const{getState:i}=o,s=i(),a=(0,Ao.Ji)(s),l=(0,Ao.l7)(s);if(l>=1&&a!==ko.t.ZOOM_TO_FIT)return;const c=(0,J.su)((0,Ao.Nz)(s)),d=(0,J.su)((0,Do.f)(s)||{}),u=(0,Oo.Tw)(e,t);let m;if(a===ko.t.ZOOM_TO_FIT)m=$o(l,c,d,u);else{const e=(0,_o.Pn)(u,l,c);if(!e)return;if(!d)return e;const t=So.e5(r,n);(0,$r.nZ)(t)>0&&(e.width+=2*(0,$r.nZ)(t)),(0,$r.Ff)(t)>0&&(e.height+=2*(0,$r.Ff)(t)),m=Vo(e,d)}return(0,To.dz)(d)===(0,To.dz)(m)&&(0,To.Cr)(d)===(0,To.Cr)(m)?void 0:m})(y,D,h,_,t);if(yo()(T,D)&&!N||r((0,xo.ge)({canvasSize:D,scrollAreaSize:N})),!yo()(_,h)){const t=So.NM(So.bA(1/d,_));r((0,Mo.bI)({id:m,canvasOrigin:t,transactionId:e.transactionId}))}},ni=(e,t,n)=>{var r;if(e.updateType!==b._q.CANVAS_ORIGIN)return;const{updates:o}=e,i=Co()(o),s=null==i?void 0:i.id,a=n.getState(),l=t.getState();if(s!==(0,Te.s4)(l))return;const c=(0,Nr._Z)(l),d=(0,Dr.ZP)(l),u=(null==i||null===(r=i.changes)||void 0===r?void 0:r.canvasOrigin)||Wo.yp,m=So.e5(c,u),p=So.bA(-d,m),h=(0,Nr.Js)(l).map((e=>{const t=(0,No._c)(a,{id:e});if(!t)return null;const n=((e,t)=>Object.assign({},e,To.Iu(t,e),{rects:e.rects.map((e=>Object.assign({},e,To.Iu(t,e))))}))((0,J.su)(t),p);return(0,Po.XB)({id:e,measurements:n})})).filter((e=>!!e)),g=(0,q.fS)({actions:h});n.dispatch(g)},ri=(e,t)=>(0,Nr.gk)(e).reduce(((e,n)=>{const r=(0,G.bti)(t)(n)+Wo.an;return r>e?r:e}),Wo.DW),oi=(e,t)=>{const n=(0,Nr._Z)(e);return Math.min((0,J.vg)(t,n),Wo.FQ)},ii=(e,t)=>{if(!e.remote)switch(e.type){case b.hA:return((e,t)=>{if(!e.location)return;if(!(0,Dn.PY)(e))return;const n=(0,G.oNe)(e),r=(0,G.uLQ)(e),o=t.getState(),i=oi(o,"x"),s=oi(o,"y");if(n<i||r<s)throw new Lo.Z("Cannot extend the canvas origin beyond the minimum",{friendlyMessage:"The canvas can't grow this far",tip:"Try creating the content towards the bottom right",details:{position:{x:n,y:r},min:{x:i,y:s}}});const a=ri(o,"x"),l=ri(o,"y");if(n>a||r>l)throw new Lo.Z("Cannot create element beyond maximum canvas size",{friendlyMessage:"The canvas can't grow this far",details:{position:{x:n,y:r},max:{x:a,y:l}}})})(e,t);case b.EY:return((e,t)=>{const{moves:n}=e;if(!n)return;const r=t.getState(),o=oi(r,"x"),i=oi(r,"y"),s=ri(r,"x"),a=ri(r,"y");n.forEach((e=>{var t;if(!(0,Dn.PY)(e))return;if(null==e||null===(t=e.location)||void 0===t||!t.position)return;const n=(0,G.oNe)(e),r=(0,G.uLQ)(e);if(n<o||r<i)throw new Lo.Z("Cannot move an element beyond the minimum canvas origin",{friendlyMessage:"The canvas can't grow this far",tip:"Try moving the content towards the bottom right",details:{position:{x:n,y:r},min:{x:o,y:i}}});if(n>s||r>a)throw new Lo.Z("Cannot move element beyond maximum canvas size",{friendlyMessage:"The canvas can't grow this far",details:{position:{x:n,y:r},max:{x:s,y:a}}})}))})(e,t);default:return}},si=({measurementsStore:e})=>t=>n=>r=>{try{ii(r,t),((e,t,n)=>{switch(e.type){case b.XI:return ni(e,t,n);case b.hA:return Xo(e,t);case b.EY:return ti(e,t,n);default:;}})(r,t,e)}catch(o){return E.Z.error("Failed to updated canvas origin",o,null==o?void 0:o.details,r),(0,h.vl)({error:o,custom:null==o?void 0:o.details}),void t.dispatch((0,Oe.Z)({modalId:ie.uL.CANVAS_SIZE,data:{error:o,boardId:(0,Te.s4)(t.getState())}}))}return n(r)},ai=(e,t)=>Object.assign({},e,{user:{_id:t}}),li=e=>t=>n=>{if(n.user||n.remote)return t(n);const{getState:r}=e,o=r(),i=((e,t)=>e.type!==q.Bw?ai(e,t):ai(Object.assign({},e,{payload:e.payload.map((e=>ai(e,t)))}),t))(n,(0,K.rc)(o));return t(i)},ci=(e,t,n)=>{const r=(0,re.sb)(e,{elementId:t}),o=(0,G.IJe)(r),i=(0,Le.M)(),s=he(i,o);n.meta=Object.assign({},n.meta,{modifiedVersionId:o,versionId:s})},di=(e,t)=>{switch(t.type){case q.Bw:return Object.assign({},t,{payload:t.payload.map((t=>di(e,t)))});case b.hA:return((e,t)=>{var n;if(!t||null!=t&&null!==(n=t.meta)&&void 0!==n&&n.versionId)return t;const r=(0,Le.M)(),o=pe(r,1);return t.meta=Object.assign({},t.meta,{versionId:o}),t})(0,t);case b.XI:return((e,t)=>{const{updates:n=[]}=t;for(const r of n){const{id:t,changes:n}=r;de(n)&&ci(e,t,r)}return t})(e,t);case b.Zv:return((e,t)=>{const{id:n,changes:r}=t;return de(r)?(ci(e,n,t),t):t})(e,t);default:return t}},ui=e=>t=>n=>{if(n.remote)return t(n);const{getState:r}=e,o=r(),i=di(o,n);return t(i)},mi=(e,t)=>{switch(t.type){case q.Bw:case b.hA:case b.bD:case b.dj:case b.EY:case b.XI:case b.wh:case b.m9:case b.go:case C.Eb:case C.DE:case C.b$:return((e,t)=>{const n=(0,V.dy)(e).toArray();return Object.assign({},t,{tokens:n})})(e,t);default:return t}},pi=e=>t=>n=>{if(n.remote||!n.sync)return t(n);const{getState:r}=e,o=r();return t(mi(o,n))};var hi=n(97596);const gi=["id","changes"];const fi={autoHeight:!0,maxHeight:!0,minHeight:!0,width:!0,height:!0,locked:!0,clone:!0,displayMode:!0,showMedia:!0},Ei=(e,t,n)=>{const{getState:r}=e,o=r(),i=(0,Xr.$)(o);return n.recalculateChannels=!1,n.updates=n.updates.map((e=>{const{id:t,changes:r}=e,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,gi),s=(0,U.sb)(i,t);if(!s)return e;if((0,G.rtd)(s)&&(n.recalculateChannels=!0),!(0,rn.vu)(s))return e;if(Object.keys(r).every((e=>fi[e])))return e;const a=(0,G.Sb0)(s);return a?(n.recalculateChannels=!0,Object.assign({},o,{id:a,changes:r,isCloneUpdate:!0,cloneId:t})):e})),t(n)},vi=(e,t,n)=>{const{id:r}=n,{dispatch:o}=e;return setTimeout((()=>{o((0,hi.R)({elementId:r,checkCloneProps:!1,force:!0}))}),200),t(n)},bi=e=>t=>n=>{if(n.remote)return t(n);switch(n.type){case b.XI:return Ei(e,t,n);case b.EY:return((e,t,n)=>{const{getState:r,dispatch:o}=e,i=r(),s=(0,Xr.$)(i),l=[];return n.moves.forEach((e=>{const t=c()(["from","section"],e),n=c()(["location","section"],e);if(t!==an.WI.TRASH&&n!==an.WI.TRASH)return;const r=c()("id",e),o=(0,U.sb)(s,r);o&&((0,rn.vu)(o)||(0,G.rtd)(o))&&l.push(r)})),a()(l)||l.forEach((e=>{setTimeout((()=>{o((0,hi.R)({elementId:e,force:!0,checkCloneProps:!0}))}),150)})),t(n)})(e,t,n);case b.m9:return vi(e,t,n);case b.hA:return(0,rn.vu)(n)?vi(e,t,n):t(n);default:return t(n)}};var yi=n(76719);const Ii=e=>t=>n=>{if(n.remote||n.isUndo||n.isRedo)return t(n);const r=e.getState();switch(n.type){case C.Eb:case C.b9:case C.b2:case C.b$:case C.XU:case b.XI:case b.go:(0,yi.yi)();break;case b.hA:((e,t)=>{const{elementType:n}=t;((0,rn.N2)(n)||(0,Dn.Mc)(t)||t.creationSource===b.S1.CMD_ENTER&&((0,rn.F_)(n)||(0,rn.PG)(n)||(0,rn.Iw)(n)))&&(0,yi.yi)()})(0,n);break;case b.EY:((e,t)=>{if(t.moveOperation===b.Pm.COLLISION)return;const{moves:n}=t,r=u()(B()(n.flatMap((e=>[c()(["from","parentId"],e),c()(["location","parentId"],e)]))));if(r.length<=1)return;const o=(0,re.$3)(e);r.some((e=>{const t=(0,U.sb)(o,e);return(0,rn.Bn)(t)}))&&(0,yi.yi)()})(r,n);break;case S.t0:(0,yi.XP)();break;case S._:(0,yi.pH)();break;case y.N1:(0,yi.mp)()}return t(n)};var Ci=n(7728);const Si=e=>t=>n=>{if(n.type!==Me.nk)return t(n);const{getState:r}=e,o=r(),i=(0,Ci.oq)(o),s=(0,Ue.L7)()&&!n.isUndo&&"POP"==n.payload.action;if(s&&!i.size)return t(n);if(s&&i.size)return;if(!i.size)return t(n);return confirm(i>1?"You have unsaved comments. Do you want to discard them?":"You have an unsaved comment. Do you want to discard it?")?t(n):void 0};var Ti=n(53106),wi=n(395),Oi=n(72522);const _i=({dispatch:e,getState:t})=>{const n=n=>{const r=n.filter((e=>{const n=t(),r=(0,Xr.$)(n),o=(0,U.sb)(r,e);if(!o||!(0,G.nRF)(o)||(0,rn.ph)(o))return!0;const i=(0,Oi.Rf)(n,uo.P6.elements,e),s=(0,wi.X)(n);return(0,Ti.Zb)(i,s)}));r.length&&e((0,te.X)({elementIds:r,force:!0}))},r=o=>{if(o.type===q.Bw){(o.payload||[]).forEach((e=>r(e)))}if(o.type===b.EY&&n(o.moves.map((e=>e.id))),o.type===b.XI&&n(o.updates.map((e=>e.id))),o.type===S.V6){const n=(0,Tt.Sp)(t()),r=o.ids.filter((e=>n.includes(e)));a()(r)||(r.forEach((t=>{e((0,ne.gR)(t))})),e((0,ne.wR)({ids:r,sync:!1})))}};return e=>t=>t.remote?(r(t),e(t)):e(t)},Ri="BATCH_ACTION_IGNORE_NEXT",Ai=e=>t=>n=>{if(n.type!==q.Bw)return t(n);const{payload:r}=n,o=r.find((e=>e.type===Ri));if(!o)return t(n);const{ignoreActions:i}=o;if(0===i.length)return t(n);r.filter((e=>e.type!==Ri&&!i.includes(e.type))).forEach((t=>{e.dispatch(t)}))};var Di=n(23279),Ni=n.n(Di),xi=n(98173),Mi=n(44379),Pi=n(20963),Li=n(15077),ki=n(17045),Fi=n(40825),Bi=n(72345),ji=n(81838),zi=n(82627),Ui=n(15923),Hi=n(62287);const Zi=new Map;Zi.set(b.hA,!0),Zi.set(b.dj,!0),Zi.set(b.bD,!0),Zi.set(b.XI,!0),Zi.set(b.Zv,!0),Zi.set(b.go,!0),Zi.set(b.wh,!0),Zi.set(b.EY,!0),Zi.set(b.jY,!0),Zi.set(ki.K,!0),Zi.set(C.DE,!0),Zi.set(C.Eb,!0),Zi.set(C.b$,!0),Zi.set(y.cB,!0),Zi.set(Ge.$P,!0),Zi.set(ki.K,!0),Zi.set(Fi.Y,!0),Zi.set(ji.C,!0),Zi.set(zi.iR,!0),Zi.set(uo.lQ,!0),Zi.set(uo.tl,!0),Zi.set(uo.Pl,!0),Zi.set(uo.rF,!0),Zi.set(uo.Fs,!0),Zi.set(uo.mO,!0),Zi.set(Ui.OL,!0);const Gi=new Map;Gi.set(I.Nv,!0),Gi.set(I.bp,!0),Gi.set(I.XP,!0),Gi.set(Bi.o,!0);const Ki=Mi.ZP.createChannel(Mi.SI.INSTANT_APP),Wi=e=>t=>{if(!xi.rI)return e=>t(e);const n=e.getState(),r=(0,K.ts)(n);let o=null,i=!1,s=(0,Zt.Iw)(Hi.Iu.clientLocalCache,r);const a=()=>{i=!1,s=!1,o&&(0,Pi.b)(o),(0,xi.lr)(),(0,Gt.Ku)(Gt.gz.CLIENT_LOCAL_CACHE,!1)},l=async()=>{if(!i)return;i=!1;const t=e.getState();try{await(0,xi.jy)(t)}catch(n){if(!(0,xi.UX)(n))throw n;a(),Ki.warn("JS conversion time violation, disabling instant app",n),(0,Gt.Kh)(Gt.Lw.FEATURE_FORCE_DISABLE,{feature:Hi.Iu.clientLocalCache,code:n.code})}},c=Ni()(l,1e3),d=()=>{i&&l()},u=()=>{window.removeEventListener("beforeunload",d)},m=e=>{const{user:t}=e;(0,Zt.Iw)(Hi.Iu.clientLocalCache,t)?((0,Li.$)({userProperties:{[ln.YV.FEATURE]:{[ln.x2.CLIENT_LOCAL_CACHE]:!0}}}),(0,Gt.Ku)(Gt.gz.CLIENT_LOCAL_CACHE,!0),window.addEventListener("beforeunload",d),s=!0):u()};return e=>(e.type===Ge.$P&&m(e),s?(Zi.has(e.type)&&(i=!0,o=(0,Pi.Z)(c)),Gi.has(e.type)&&(a(),c.cancel(),u()),t(e)):t(e))};var Vi=n(45350),$i=n(16579);const qi=new Map;qi.set("redux-form/CHANGE",Vi.DEBUG_LEVEL.FINE),qi.set($i.OH,Vi.DEBUG_LEVEL.FINE);const Yi=new Map;Yi.set("RESOURCES_MARKED_AS_STALE","color: orange"),Yi.set("RESOURCES_FETCH_ERROR","color: red"),Yi.set("RESOURCES_","color: steelblue"),Yi.set("ELEMENT","color: #4bad63");const Xi=e=>{if((e=>(null==e?void 0:e.type)===b.XI&&e.updateType===b._q.DIFF_UPDATE_ERROR_RECOVERY)(e))return"color: OrangeRed";for(const[t,n]of Yi)if(e.type.startsWith(t))return n;return""},Qi=()=>{const e=(()=>{const e=(0,_e.Z)(),t=[];for(const[n,r]of qi)r>=(e.debugLevel||0)&&t.push(n);return t})();return(0,w.hu)({predicate:(t,n)=>-1===e.indexOf(n.type),collapsed:!0,duration:!0,titleFormatter:(e,t,n)=>{var r;const o=`%c${e.source?`* ${e.source} * `:""}(in ${n.toFixed(2)} ms)`;if(e.type===q.Bw){return`%c batch action %c${e.payload.map((e=>e.type)).join(", ")} ${o}`}return null!==(r=e.type)&&void 0!==r&&r.startsWith("RESOURCES")?`%c action %c${e.type} - ${e.resource} ${o}`:e.type===b.XI&&e.updateType?`%c action %c${e.type} - ${e.updateType} ${o}`:`%c action %c${e.type} ${o}`},customStyles:{title:e=>{const t=Xi(e);return[w.bJ,t,w.bJ]}}})};var Ji=n(22121),es=n(45685);const ts=async()=>{try{var e;const t=await(0,es.dJ)({url:"ping"});return!(null==t||null===(e=t.data)||void 0===e||!e.success)}catch(t){return!1}};var ns=n(56207),rs=n(58177),os=n(55060);const is=()=>({type:rs.VB}),ss=10*Ee.yu.SECOND;let as,ls=!1;const cs=()=>{as&&clearTimeout(as)},ds=()=>(e,t)=>{const n=t();(0,os.l)(n)&&(as=setTimeout((()=>{e(is())}),ss))},us=()=>async(e,t)=>{if(ls)return;ls=!0;if(!(await ts()))return e(is()),void(ls=!1);const n=t();if((0,ns.rr)(n))return ls=!1,void e(ds());cs(),e(ds());const r=(0,ns.Du)(n),o=(0,Te.nv)(n);return e((0,Ji.S4)()),e((0,Q.N2)({beforeRefresh:()=>e({type:rs.RP}),afterRefresh:()=>e({type:rs.C5}),boardId:o,loadAncestors:!0,afterTimestamp:r})).finally((()=>{ls=!1}))},ms=()=>async e=>{await ts()&&e({type:rs.gO})};var ps=n(6304);const hs=e=>t=>n=>{if(n.remote)return t(n);const{dispatch:r}=e;switch(n.type){case ps.Mu:case ps.w9:case Ke._V:case rs.fX:r(us());break;case ps.Jz:case ps.KJ:case Ke.J9:cs(),r(ms())}return t(n)};var gs=n(78820);const fs=e=>({type:gs.y.ACTION,payload:e});let Es;!function(e){e.AddElements="AddElements",e.RemoveElements="RemoveElements",e.ClearElements="ClearElements"}(Es||(Es={}));const vs=(e,t)=>Un()(e)?null:{type:Es.AddElements,actionType:t,elementIds:e.map(G.nRF),elements:e},bs=(e,t)=>Un()(e)?null:{type:Es.RemoveElements,actionType:t,elementIds:e},ys=()=>({type:Es.ClearElements});var Is=n(30845),Cs=n(85264);const Ss=E.Z.createChannel("cache-operation-message-builder"),Ts=(e,t,n)=>{const r=[];for(const o of e){const e=(0,J.su)((0,U.sb)(t,o));e._id=e._id||o,e&&r.push(e)}return vs(r,n.type||"Unknown Action")},ws=(0,Is.default)(((e,t,n)=>{if(e.type===Cs.t1)return((e,t)=>{if(!e.elements)return null;const n=Object.values(e.elements);return vs(n,e.type||"Unknown Action")})(e);if(t===n)return null;switch(e.type){case Ui.OL:return((e,t,n)=>{if(n===t)return null;const r=(0,J.pL)(n).filter((e=>!t.has(e)));return bs(r,e.type||"Unknown Action")})(e,t,n);case b.bD:return((e,t)=>e.id?bs([e.id],e.type||"Unknown Action"):null)(e);case b.m9:case b.B0:return((e,t)=>{const n=[e.id,e.originalElementId,e.clonedElementId].filter(Boolean);return Ts(n,t,e)})(e,t);case b.go:case b.Zv:case b.wh:case b.jY:case b.hA:return((e,t)=>e.id?Ts([e.id],t,e):null)(e,t);case Cs.QI:return((e,t)=>{if(!e.elements)return null;const n=Object.values(e.elements).map(G.nRF);return Ts(n,t,e)})(e,t);case b.EY:return((e,t)=>{if(!e.moves)return null;const n=e.moves.map((e=>e.id));return Ts(n,t,e)})(e,t);case b.XI:return((e,t)=>{if(!e.updates)return null;const n=e.updates.map((e=>e.id));return Ts(n,t,e)})(e,t);case"@@INIT":case b.Vq:case b.m$:case b.R7:case b.LO:case S._:case b.Av:return null;case I.Nv:return ys();case Cs.nN:return(e=>!e.elementIds||a()(e.elementIds)?null:bs(e.elementIds,e.type||"Unknown Action"))(e);default:return((e,t,n)=>{if(n===t)return null;const r=performance.now(),o=[];for(const[s,a]of t)a!==n.get(s)&&o.push(s);const i=performance.now();return Ss.warn("Elements changed without action being handled. Manual handling required.",{actionType:e.type,durationMs:i-r}),Ss.debug("Full action that caused the unhandled element changes:",e),Ts(o,t,e)})(e,t,n)}}));var Os=n(93034),_s=n(72102),Rs=n(49508),As=n(51202),Ds=n(53989);let Ns;!function(e){e.REMOTE="REMOTE",e.WORKER="WORKER"}(Ns||(Ns={}));let xs=null;const Ms=Mi.ZP.createChannel(Mi.SI.PURGING_SYSTEM);var Ps=n(54730),Ls=n(29812);const ks=Mi.ZP.createChannel(Mi.SI.PERSISTENCE_LAYER_MIDDLEWARE),Fs=e=>e.source!==Ns.WORKER&&(e.type!==Cs.nN&&(e.type!==uo.T2&&(e.type!==q.Bw||e.payload.every(Fs)))),Bs=e=>t=>{let n=null;const r=(e=>t=>t=>{if(t.source===Ns.REMOTE)return;if(t.type!==y.N1)return;xs&&(0,Pi.b)(xs);const n=e.getState(),r=e.dispatch,o=(0,As.XD)(n);if((null==o?void 0:o.length)<15)return;const i=(0,J.OE)((0,Xr.$)(n));if(i<=750)return;const s=(0,Nr.Mm)(n),l=o.slice(15).filter((e=>!s.includes(e))),c=(0,Rs.cs)(n),d=new Set(l.map((e=>c[e])).filter(Boolean).flat()),u=(0,lo.Sj)(n),m=(0,_s.WN)((0,J.qo)(u)),p=(0,Rs.eA)(n),h=new Set(m.map((e=>[e,...(0,Os.T)(p,e)])).flat()),g=(0,Rs.B7)(n),f=Object.keys(g),E=Object.values(g).filter(Boolean),v=new Set([...h,...f,...E]),b=new Set([...d]);for(const e of v)b.delete(e);if(a()(b))return;const I=b.size,C=i-I;Ms.info("Purging elements",{elementsToPurgeCount:I,remainingElementsCount:C}),(0,Gt.Kh)(Gt.Lw.ELEMENT_PURGE,{elementsToPurgeCount:I,remainingElementsCount:C}),xs=(0,Pi.Z)((()=>{const e=(0,q.fS)({actions:[(0,St.hT)(Array.from(b),l),(0,Ds.cu)(uo.P6.boards,l)]});r(e)}))})(e)(t),o=()=>{n=(0,Ps.$)(),n.postMessage({type:gs.y.INITIALISE_WORKER,payload:{debugSettings:(0,v.ZE)()}}),n.onMessage((t=>{const{type:n,action:r}=t.data;n===gs.y.ACTION&&(r.source=Ns.WORKER,e.dispatch(r))}))},i=e.getState(),s=(0,K.ts)(i);let l=(0,Zt.Iw)(Hi.Iu.clientPersistence,s);l&&o();return i=>{if(!Fs(i))return t(i);const s=e.getState(),a=t(i),c=e.getState();if(i.type===Ge.$P)return(e=>{const t=(0,K.ts)(e),r=(0,Zt.Iw)(Hi.Iu.clientPersistence,t);if((0,Gt.Ku)(Gt.gz.CLIENT_PERSISTENCE_ENABLED,r),l&&!r){var i;const e=ys();null===(i=n)||void 0===i||i.postMessage(e)}if(!l&&r&&o(),r){var s;const t=(0,Nr.s4)(e),r=fs((0,Ls.D)({boardId:t,restored:!1}));null===(s=n)||void 0===s||s.postMessage(r)}l=r,ks.info(`%c${l?"Enabled":"Disabled"} for the current user`,l?"color: green":"color: salmon")})(c),a;if(!l)return a;if(!n)return ks.error("Worker is not available, skipping action",i.type),a;r(i);const d=((e,t,n)=>{if(!e)return null;const r=(0,Xr.$)(t),o=(0,Xr.$)(n),i=ws(e,o,r);return i?fs(i):e.type===ki.K?fs(e):null})(i,s,c);if(d){const e=performance.now();n.postMessage(d);const t=(performance.now()-e).toFixed(2);ks.debug(`Post message took ${t} ms.`,i.type)}return a}},js=e=>e=>t=>{const{type:n}=t;performance.mark(`redux-action-${n}-start`),e(t),performance.mark(`redux-action-${n}-end`),performance.measure(`redux-action-${n}`,`redux-action-${n}-start`,`redux-action-${n}-end`)};var zs=n(633);const Us=({browserHistory:e,socketManager:t,thunkArg:n={}})=>{const r=[];return r.push(xe.Z.withExtraArgument(n)),(0,Mi.jF)(Mi.SI.REDUX_LOG)&&r.push(js),r.push(hs),r.push(Wi),(0,Gt.Ku)(Gt.gz.SUPPORTS_PERSISTENCE_LAYER,!!zs.H),r.push(_i),r.push(bi),r.push(li),r.push(ui),r.push(pi),r.push(vo),r.push(si(n)),r.push(Br),r.push(jt),e&&r.push((0,Me.zk)(e)),r.push(Ur),r.push(cr),r.push(Fn),r.push(Rn()),r.push(Si),r.push(Eo),r.push(go),r.push(io),r.push(Ii),t&&r.push(We(t)),r.push((0,q.dP)()),r.push(Ai),r.push(ur),(0,Mi.jF)(Mi.SI.REDUX_LOG_MAIN)&&r.push(Qi()),(0,v.Od)()&&r.push((0,dr.Z)()),zs.H&&r.push(Bs),r};var Hs=n(22169),Zs=n.n(Hs),Gs=n(52151),Ks=n.n(Gs),Ws=n(66415),Vs=n.n(Ws),$s=n(63360),qs=n.n($s),Ys=n(55606),Xs=n.n(Ys);const Qs=e=>t=>{e.size()&&(e=>{En.Z.setItem("sendBuffer",JSON.stringify(e))})(e.getBuffer())},Js=()=>{const e=((e={})=>{let t=P()(qs(),u(),Ks(),c()("id"),Zs()(10))(e);t=isNaN(t)?0:t;const n=((e=0)=>{let t=e;return()=>(t++,t)})(t);let r=e;const o=()=>P()(qs(),u(),Xs())(r);return{addActionToBuffer:(e,t)=>{const o=n();return r[o]={id:o,eventName:e,action:t},o},removeActionFromBuffer:e=>{delete r[e]},size:o,isEmpty:()=>0===o(),clearBuffer:()=>{r={}},getBuffer:()=>r,getAction:e=>r[e],getNextAction:()=>P()(qs(),u(),Vs()("id"),k())(r),getOrderedActions:()=>P()(qs(),u(),Vs()("id"),Zr()("action"))(r)}})((()=>{const e=En.Z.getItem("sendBuffer");return En.Z.removeItem("sendBuffer"),e?JSON.parse(e):{}})());return window.addEventListener("beforeunload",Qs(e)),e};var ea=n(72739);const ta={locationBeforeTransitions:null};let na=null;var ra=n(43393),oa=n.n(ra),ia=n(95521),sa=n(43236),aa=n(90693),la=n(63772),ca=n.n(la),da=n(89546),ua=n(77938),ma=n(1266);const pa=ra.Map(),ha=(e,{timestamp:t,silent:n,user:r},o)=>{const i=e.update("meta",(e=>e.set("versionId",(null==o?void 0:o.versionId)||(0,J.vg)("versionId",e)).set("locationSectionModifiedTime",(null==o?void 0:o.locationSectionModifiedTime)||(0,J.vg)("locationSectionModifiedTime",e)))),s=c()("_id",r);return n?i:i.setIn(["meta","modifiedBy"],s).setIn(["meta","modifiedTime"],t)},ga=(e,{timestamp:t,silent:n,user:r},o,i)=>{const s=e.update("content",(e=>e?e.merge(ra.fromJS(o)):ra.fromJS(o)));return ha(s,{timestamp:t,silent:n,user:r},i)},fa=(e,t,n)=>{const{timestamp:r,user:o}=t,{location:i}=n;if(!i.parentId||!i.section||!i.position)return e;if(i.parentId===(0,G.nRF)(e))return e;const s=c()("_id",o);let a=e;return((e,t)=>{switch(e.type){case b.hA:return!0;case b.EY:return!(!(n=t).from||!n.location||n.location.parentId===n.from.parentId&&n.location.section===n.from.section);default:return!1}var n})(t,n)&&(a=e.setIn(["meta","locationSectionModifiedTime"],r)),a.set("location",ra.fromJS(i)).setIn(["meta","modifiedBy"],s).setIn(["meta","modifiedTime"],r)},Ea=(e=pa,t)=>{switch(t.type){case b.jY:return((e,t)=>e.set("acl",ra.Map(t.acl)))(e,t);case b.hA:return((e,t)=>ra.fromJS(da.O4(t)))(0,t);case b.EY:return((e,t)=>{const n=(0,G.nRF)(e),r=t.moves.filter((e=>e.id===n))[0];return r?fa(e,t,r):(E.Z.error("Attempted to move element without a move",n,t.moves),e)})(e,t);case b.XI:return((e,t)=>{const n=(0,G.nRF)(e),r=t.updates.filter((e=>e.id===n))[0];return r?ga(e,t,r.changes,r.meta):(E.Z.error("Attempted to update element without an update",n,t.updates),e)})(e,t);case b.Zv:return((e,t)=>{const{changes:n}=t,r=e.getIn(["content","textContent"]);if(!a()(null==n?void 0:n.textContent)&&!ca()(r)){const o=(0,J.su)(r),i=(0,ua.l)(o,n.textContent),s=e.updateIn(["content","textContent"],(e=>ra.fromJS(i)));return ha(s,t,t.meta)}return e})(e,t);case b.go:return((e,t)=>e.withMutations((e=>{e.set("elementType",t.elementType),ga(e,t,t.changes,t.meta)})))(e,t);case b.wh:return((e,t)=>e.withMutations((e=>{fa(e,t,t),ga(e,t,t.changes,t.meta)})))(e,t);case b.Vq:case b.m$:case b.R7:case b.LO:return((e,t)=>{switch(t.type){case b.Vq:return((e,t)=>e.update("content",(e=>e.merge({icon:{fetching:!0}}))))(e);case b.m$:case b.R7:return((e,t)=>e.update("content",(e=>e.merge({icon:{fetching:!1}}))))(e);default:return e}})(e,t);case b.m9:return((e,t)=>e.set("elementType",ma.X).set("content",ra.fromJS({linkTo:t.originalElementId,clonedElementType:t.clonedElementType})))(e,t);case b.a6:return((e,t)=>e?e.setIn(["content","hasClones"],!0):e)(e);case b.B0:return((e,t)=>e.set("elementType",t.clonedElementOriginalType).set("content",ra.fromJS(t.clonedElementOriginalContent)))(e,t);default:return e}},va=ra.Map(),ba=e=>(t,n)=>t.withMutations((t=>{n[e].forEach((e=>{t.get(e.id)&&t.update(e.id,(e=>Ea(e,n)))}))})),ya=ba("updates"),Ia=ba("moves"),Ca=(e,t)=>e.get(t.id)?e.update(t.id,(e=>Ea(e,t))):e;var Sa=n(61105),Ta=n(52432),wa=n(69753);const Oa=ra.fromJS({permissionIds:[],aclIds:[],boardIdPermissionIdMap:{},boardIdEditPermissionIdMap:{},boardIdPublishPermissionIdMap:{},permissionIdTokenIndexMap:{},tokens:[]}),_a=["type","isUndo","overrideCreatedAt"];const Ra=ra.Map();var Aa=n(636);const Da=ra.Map({currentBoardId:null,timestamp:null,selectedElementIds:null}),Na=(e=Da,t)=>{switch(t.type){case Aa.cB:return((e,t)=>{if(!t)return e;const n=ra.fromJS(t.changes);return e.mergeDeep(n)})(e,t);case Aa.K7:case Ge.$P:return((e,t)=>e.mergeDeep(ra.fromJS(t.user)))(e,{user:Object.assign({},t.user,{onlineStatus:Aa.Nk.CONNECTED,authenticated:!0,fetched:!0})});case Aa.N1:return((e,t)=>{const{timestamp:n}=t;return e.set("onlineStatus",Aa.Nk.CONNECTED).set("currentBoardId",t.newBoardId).set("timestamp",n)})(e,t);case Aa.cc:case b.EY:case b.XI:case S.V6:case S.xy:return((e,t)=>{const{timestamp:n}=t;return e.set("onlineStatus",Aa.Nk.CONNECTED).set("timestamp",n)})(e,t);case Aa.cl:return((e,t)=>e.set("onlineStatus",Aa.Nk.CONNECTED).set("timestamp",t.timestamp))(e,t);case Aa.gg:case Aa.e0:return((e,t)=>e.set("onlineStatus",Aa.Nk.DISCONNECTED).set("selectedElementIds",null))(e);default:return e}},xa=ra.Map(),Ma=(e,t)=>e.withMutations((e=>t.userIds.forEach((t=>e.setIn([t,"_id"],t))))),Pa=(e,t)=>{const n=j(t);return n?e.get(n)?e.update(n,(e=>Na(e,t))):e.set(n,Na(void 0,t)):(E.Z.warn("User action does not contain a user ID",t),e)};var La=n(540);const ka=ra.fromJS({id:null});var Fa=n(64721),Ba=n.n(Fa);const ja=ra.fromJS({ids:[],rangeAnchors:{},keepSelection:!1,meta:{}});var za=n(9300),Ua=n(85263);var Ha=n(78862);const Za="undefined"==typeof screen?ra.Map({mode:zi.yU.LIGHT,theme:zi.yU.LIGHT,initialised:!1}):ra.fromJS({mode:(0,Ha.B1)(),theme:(0,Ha.K5)(),initialised:!0});var Ga=n(85597);const Ka=ra.Map({_id:"guest",isGuest:!(0,Ga._V)(),authenticated:!1,fetched:!1,clientId:"NULLID",clientTick:0}),Wa=(e,t)=>{if(t.userId!==e.get("_id"))return e;const n=ra.fromJS(((e,t)=>{var n,r;if(!t)return{};let{changes:o}=t;if(null!==(n=t.changes)&&void 0!==n&&n.settings){const n=e.toJS();o=Object.assign({},o,{settings:Object.assign({},n.settings,t.changes.settings)})}if(null!==(r=t.changes)&&void 0!==r&&r.contentLimit){const n=e.toJS();o=Object.assign({},o,{contentLimit:Object.assign({},n.contentLimit,t.changes.contentLimit)})}return o})(e,t));return e.merge(n)},Va=ra.Map({clientId:"NULLID",clientTick:0});var $a=n(1658),qa=n(54142);const Ya=ra.fromJS({isDragging:!1,draggedIds:[],forcedHoverEffect:null,dropState:null,attachMode:!1,attachModeType:null,attachModeHoveredElementId:null,attachModeHoveredStack:ra.List()});var Xa=n(78789);const Qa=ra.fromJS({enabled:!1,elementId:void 0});var Ja=n(83213),el=n(20906);const tl=ra.fromJS({loading:{}});var nl=n(17503);const rl=ra.Map();var ol=n(80415);const il=ra.fromJS({isResizing:!1,resizedElementId:null}),sl=ra.fromJS({}),al=(0,ea.U)({originalLocation:(e=sl,t)=>t.type===b.EY?((e,t)=>t.moves?e.withMutations((e=>{t.moves.forEach((t=>{if(!t)return;const{id:n,from:r,autoPush:o,saveOriginalLocation:i}=t;o&&i?e.set(n,ra.fromJS(r)):o||e.delete(n)}))})):e)(e,t):e}),ll=ra.Map(),cl=(e,{popupId:t,predicateFn:n})=>e.set(t,n),dl=(e,{popupId:t})=>e.delete(t);var ul=n(86340);const ml=ra.Map({mode:ul.k6,modesMenu:ra.Map(),searchResults:ra.Map(),elementSearches:ra.Map()}),pl=ra.List(),hl=ra.Map({loading:!1,results:pl,resultsTotal:0,searchResultsList:pl,query:"",submittedQuery:null,error:null});var gl=n(68180);const fl=ra.List(),El=ra.Map({loading:!1,results:ra.Map(),resultsTotalCount:ra.Map(),submittedQuery:null,error:null,recentSearchList:fl,mode:gl.UR});var vl=n(36662);const bl=ra.Map({selectedNotificationData:null});var yl=n(19699);const Il=ra.Map({alreadySuggestedThisSession:!1}),Cl=(0,ea.U)({active:(e=ll,t)=>{switch(t.type){case Mn.HR:return cl(e,t);case Mn.SO:return e.get(t.popupId)?dl(e,t):cl(e,t);case Mn.AV:return t.closeAll?ll:t.popupIds?((e,{popupIds:t})=>e.withMutations((e=>t.forEach((t=>dl(e,{popupId:t}))))))(e,t):dl(e,t);case y.N1:case b.dj:case b.wh:case b.EY:case xn.nv:case"@@router/LOCATION_CHANGE":return e.filter(((n,r)=>r===Mn.K2.ELECTRON_UPDATE_REQUIRED||!!n&&(n&&n(e,t))));default:return e}},icons:(e=ml,t)=>{switch(t.type){case Mn.HR:case Mn.SO:return t.popupId!==Mn.K2.ICON?e:e.set("mode",null);case ul.k$:return((e,t)=>{let n=e;return t.id&&(n=e.setIn(["elementSearches",t.id,t.mode],t.mode)),n.set("mode",t.mode)})(e,t);case ul.dF:return e.setIn(["searchResults",t.query],null);case ul.lk:return e.setIn(["searchResults",t.query],ra.fromJS(t.icons));case ul.aT:return e.setIn(["searchResults",t.query],ra.List());default:return e}},elementSearch:(e=hl,t)=>{switch(t.type){case Vt.pf:return e.set("loading",!0).set("results",pl).set("searchResultsList",t.searchResults?ra.fromJS(t.searchResults):pl).set("submittedQuery","").set("query",t.query);case Vt.k2:return e.set("loading",!0).set("query",t.query).set("submittedQuery",t.query).set("searchResultsList",t.searchResults?ra.fromJS(t.searchResults):pl).set("results",pl).set("error",null);case Vt.$A:return((e,{results:t,append:n,resultsTotal:r,searchResults:o})=>{const i=n?e.get("results"):pl,s=i.map((e=>e.get("id"))),a=ra.fromJS(t).filter((e=>!s.includes(e.get("id"))));return e.set("results",i.concat(a)).set("searchResultsList",o?ra.fromJS(o):pl).set("resultsTotal",r)})(e.set("loading",!1),t);case Vt.UD:return e.set("loading",!1).set("results",pl).set("error",t.error);case Vt.Yl:return hl;default:return e}},imageSearch:(e=El,t)=>{switch(t.type){case gl.mi:return e.set("loading",!0).set("submittedQuery",t.query).set("error",null);case gl.fw:return e.setIn(["results",t.query],((e=fl,t)=>{const n=ra.fromJS(t.results);return e.concat(n)})(e.getIn(["results",t.query]),t)).setIn(["resultsTotalCount",t.query],t.total).set("loading",!1).set("error",null);case gl.S_:return e.set("loading",!1).set("error",t.error);case gl.qx:return e.set("mode",t.mode).set("recentSearchList",((e="default",{type:t,mode:n})=>t===gl.qx?e.includes(n)||n===gl.UR||n===gl.P0?e:e.push(n):e)(e.get("recentSearchList"),t));default:return e}},notifications:(e=bl,t)=>t.type===vl.p?e.set("selectedNotificationData",ra.fromJS(t)):e,pushSuggestion:(e=Il,t)=>t.type===yl.w?e.set("alreadySuggestedThisSession",!0):e});var Sl=n(62111);const Tl=ra.Map({resetSent:!1,resetEmail:"",isError:!1,error:null});var wl=n(55601);const Ol=ra.Map({isLoading:!0,isError:!1,isExpired:!1,passwordUpdated:!1,email:"",error:null,code:null});var _l=n(27095);const Rl=ra.Map(),Al=(0,ea.U)({activeModalId:(e=null,t)=>{switch(t.type){case _l.v:return t.modalId;case _l.b:return null;default:return e}},data:(e=Rl,t)=>t.type===_l.v?t.data?ra.fromJS(t.data):Rl:e});var Dl=n(59715);const Nl=(0,ea.U)({elementId:(e=null,t)=>{switch(t.type){case Dl.g:return t.elementId;case Dl.Z:return null;default:return e}}});var xl=n(10910),Ml=n.n(xl);const Pl=ra.fromJS({recipients:[],editorState:null});var Ll=n(35429);const kl=ra.Map({}),Fl=(0,ea.U)({activeModal:(e=null,t)=>{switch(t.type){case Ll.Np:return t.modalName||"true";case Ll.gM:return null;default:return e}},modalState:(e=kl,t)=>{switch(t.type){case Ll.Np:case Ll.r:return t.state?e.set(t.modalName,ra.fromJS(t.state)):e;case Ll.gM:return e.delete(t.modalName);default:return e}},errorModal:Al,forgottenPassword:(e=Tl,t)=>{switch(t.type){case Sl.l:return e.set("resetSent",!0).set("resetEmail",t.email);case Sl.j:return e.set("isError",!0).set("error",t.error);default:return e}},changePassword:(e=Ol,t)=>{switch(t.type){case wl.ET:return e.set("isLoading",!1).set("isError",!0).set("error",t.error);case wl.et:return e.set("isLoading",!1).set("isExpired",!0);case wl.X2:return e.set("isLoading",!1).set("email",t.email).set("code",t.code);case wl.uS:return e.set("passwordUpdated",!0);default:return e}},elementModal:Nl,compose:(e=Pl,t)=>{switch(t.type){case $i.b2:return Pl;case $i.OH:return e.set("editorState",t.editorState);case $i.xR:return((e,t)=>{const{removedRecipients:n,addedRecipients:r}=t;return e.update("recipients",(e=>{let t=e.filter((e=>!Ml()(e,n)));if(r){const n=e.toArray(),o=r.filter((e=>!Ml()(e,n)));t=t.concat(o)}return t}))})(e,t);default:return e}}}),Bl=ra.Map({status:Re.pI.DISCONNECTED,reconnectionMode:Re.H6.PAGE_LOAD,channels:ra.List(),boardChannels:ra.List()}),jl=ra.Map({initialized:!1,restored:!1,current:null,visible:null});var zl=n(80903);const Ul=ra.fromJS({ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1});var Hl=n(96681);const Zl=(0,ea.U)({contentState:(e=null,t)=>{switch(t.type){case Hl.Eu:return Hl.NQ.EMBEDDING;case Hl.y8:return Hl.NQ.READY;case Hl.ip:return Hl.NQ.ERROR;case Hl.wr:return Hl.NQ.PREVIEW;case xn.nv:case Me.nk:return null;default:return e}}}),Gl=(e,t,n)=>e.update(n,(e=>Zl(e,t))),Kl=ra.Map();var Wl=n(59051),Vl=n.n(Wl),$l=n(36219),ql=n(18338);var Yl=n(29318);const Xl=ra.fromJS({currentStep:null,listeners:{},metadata:{},loaded:!1});var Ql=n(77875);const Jl=ra.Map({fade:!0,activeTimestamp:0}),ec=(e,t)=>ra.Map(),tc=(e,t)=>e.update(t.id,(e=>((e=ra.Map(),t)=>{switch(t.type){case b.bq:case b.$E:return((e,t)=>{const n={fetching:!0,fetched:!1,actionType:t.actionType,id:t.id};return e.mergeDeep(n)})(e,t);case b.fG:case b.Xn:return((e,t)=>{const n={fetching:!1,fetched:!0,cancelFn:null,actionType:t.actionType};return e.mergeDeep(n)})(e,t);case b.rN:return ec();case b.Vn:return((e,t)=>{const n={data:t.attachmentData};return e.mergeDeep(n)})(e,t);case b.xL:case b.TQ:case b.Zf:return((e,t)=>e.set("percentageComplete",t.percentageComplete).set("loaded",t.loaded).set("total",t.total).set("actionType",t.actionType))(e,t);case b.UR:return((e,t)=>{const n={data:null,error:t.error,fetching:!1,cancelFn:null};return e.mergeDeep(n)})(e,t);case b.kf:return ec();case b.bB:return((e,t)=>e.set("cancelFn",t.cancelFn))(e,t);case b.rI:return((e,t)=>e.delete("error"))(e);default:return e}})(e,t)));var nc=n(58837);const rc=new Map;rc.set(nc.z.EMOJI,!0),rc.set(nc.z.AI_ASSISTANT_SHORTCUTS,!0);const oc=oa().Map();var ic=n(14343);const sc=ra.fromJS({section:an.WI.CANVAS}),ac=ra.fromJS({currentlyEditingId:null,map:{}}),lc=ra.Map({isClipping:!1,isClipDragging:!1,clippedElementId:null,clippedText:null});var cc=n(91175),dc=n.n(cc);const uc=ra.List();var mc=n(72681);const pc=ra.Set(),hc=(0,ea.U)({contacts:(e=uc,t)=>t.type!==uo.tl||t.resource!==uo.P6.contacts?e:((e,t)=>{if(!t.data)return e;const n=dc()(t.ids),r=t.data;return ra.fromJS(r.map((e=>Object.assign({},e,{contactType:n}))))})(e,t),userIds:(e=pc,t)=>t.type===mc.A?e.concat(t.userIds):e});var gc=n(84486),fc=n.n(gc);const Ec=ra.Map({pageLoad:(0,Ee.u3)(),workspaceLoadIdle:0,currentUser:0,remoteUsers:0,aliases:0,elementCounts:0,boardSummaries:0,boardHierarchies:0,customTemplates:0,socketConnection:0,appInit:0}),vc=ra.Map();var bc=n(23518);const yc=ra.Map(),Ic=ra.Map({width:0,height:0}),Cc=ra.fromJS({mode:null,scale:1,translation:{x:0,y:0}}),Sc=(0,ea.U)({initialState:(e=yc,t)=>{if(t.type===bc.h$){return e.getIn([t.boardId,"canvasOrigin"])?e:e.update(t.boardId,(e=>(e||ra.Map()).set("canvasOrigin",ra.fromJS(t.canvasOrigin))))}return e},size:(e=Ic,t)=>t.type===bc.hJ?e.set("width",t.canvasSize.width).set("height",t.canvasSize.height):e,scrollAreaSize:(e=null,t)=>{switch(t.type){case bc.Q3:case bc.hJ:case bc.qk:return t.scrollAreaSize?ra.Map({width:t.scrollAreaSize.width,height:t.scrollAreaSize.height}):e;default:return e}},scaled:(e=!1,t)=>{switch(t.type){case bc.sc:return!0;case y.N1:case bc.Aw:return!1;case bc.m7:return!e;default:return e}},zoom:(e=Cc,t)=>{var n,r;switch(t.type){case bc.qk:return e.set("mode",t.mode).set("scale",t.scale).setIn(["translation","x"],null===(n=t.translation)||void 0===n?void 0:n.x).setIn(["translation","y"],null===(r=t.translation)||void 0===r?void 0:r.y).remove("targetScale");case bc.xR:return e.set("targetScale",t.targetScale);case bc.we:return Cc;default:return e}}});var Tc=n(43612);const wc=ra.Map();var Oc=n(7108),_c=n.n(Oc),Rc=n(23839);const Ac=(()=>{if("undefined"==typeof screen)return ra.Map({enableDnd3dEffects:!0,initialised:!1});const e=(0,Rc.xl)(),t=ca()(e)||_c()(e)?!(0,Rc.EC)():"false"!==e;return ra.Map({enableDnd3dEffects:t,initialised:!0})})();var Dc=n(20219);const Nc=ra.Map({startingBoardId:null,passwordValidated:!1,mode:Dc.D3.DEFAULT});var xc=n(32931);const Mc=ra.Map({enabled:!1});var Pc=n(61277),Lc=n(63291);const kc=ra.fromJS({deviceId:(0,Pe.Z)(),pageId:`page_${(0,Pc.VN)((0,Ee.u3)())}${(0,Lc.Z)(5)}`}),Fc=ra.Map({enabled:!1,hideComments:!1,disableEditing:!1,isFocusModeAllowed:!0,focusedElementId:null,focusModeInitialZoomScale:1,focusModeStatus:La.dh.INACTIVE,focusedElementProps:{}}),Bc=ra.Map({isRefreshingCurrentBoard:!1,disableSocketStatusWarnings:!1}),jc=ra.Map(),zc=(e=jc,t)=>{switch(t.type){case Aa.N1:return((e,t)=>{const{newBoardId:n,previousBoardId:r,timestamp:o}=t;let i=e;return n&&(i=i.set(n,o)),r&&(i=i.set(r,o-1)),i})(e,t);case uo.tl:return((e,t)=>{const{resource:n,data:r}=t;if(n!==uo.P6.history)return e;const o=null==r?void 0:r.history;return!o||a()(o)?e:e.withMutations((e=>{o.forEach((t=>{e.set(t.elementId,t.lastView)}))}))})(e,t);default:return e}},Uc={initialised:(e=Ec,t)=>{switch(t.type){case Re.nC:return e.set("socketConnection",t.timestamp);case Fi.Y:return((e,t)=>e.withMutations((e=>{fc()(t.details,((n,r)=>{e.set(r,t.timestamp)}))})))(e,t);default:return e}},currentBoardId:(e=jl,t)=>{switch(t.type){case ki.K:return((e,{boardId:t,restored:n=!1})=>e.set("initialized",!0).set("restored",n).set("visible",null).set("current",t))(e,t);case ki.I:return e.set("visible",t.boardId);default:return e}},currentlyEditing:function(e=ka,t){switch(t.type){case S.t0:return e.merge({id:t.id,editorId:t.editorId,editorKey:t.editorKey});case La.T_:case S._:case Re.Ms:return ka;case S.V6:return((e,t)=>{const n=(0,G.nRF)(e);return n&&1===t.ids.length&&-1!==t.ids.indexOf(n)?e:ka})(e,t);case C.FY:case xn.nv:return t.finishEditing?ka:e;default:return e}},currentFocus:(e=sc,t)=>t.type===ic.k?e.set("section",t.section):e,clipper:(e=lc,t)=>{switch(t.type){case nt.zI:return e.merge({isClipping:!0,clippedElementId:t.clippedElementId,clippedText:t.clippedText});case nt.SH:return lc;case xn.nv:return e.get("isClipping")?e.set("isClipDragging",!0):e;case xn.Sv:return e.get("isClipping")?e.set("isClipDragging",!1):e;default:return e}},dragModifierKeys:function(e=Ul,t){switch(t.type){case zl.Mb:return ra.fromJS(t.modifierKeys);case b.wh:case xn.Sv:return Ul;default:return e}},selection:function(e=ja,t){switch(t.type){case S.V6:return((e,t)=>e.update("ids",(e=>e.concat(t.ids))).update("rangeAnchors",(e=>{const n=(0,J.su)(e),r=Object.assign({},n,t.rangeAnchors);return ra.fromJS(r)})))(e,t);case S.xy:return((e,t)=>e.update("ids",(e=>e.filterNot((e=>Ba()(t.ids,e))))).update("rangeAnchors",(e=>e.map((e=>t.ids.includes(e)?null:e)).filter((e=>null!==e)))).set("meta",ra.fromJS({})))(e,t);case S.zf:return e.get("keepSelection")?e:ja;case tt.lA:return e.set("keepSelection",!0);case tt.mL:return e.set("keepSelection",!1);case S.TR:return 1===e.get("ids").size&&e.get("ids").first()===t.id?e.set("meta",ra.fromJS({currentCellSelections:t.cellSelections})):e;default:return e}},annotation:(e=Qa,t)=>{switch(t.type){case Xa.f:return e.set("enabled",!0).set("elementId",t.elementId);case Xa.t:return Qa;default:return e}},duplications:(e=tl,t)=>{switch(t.type){case b.EY:return((e,t)=>{const{moves:n=[]}=t,r=n.filter((e=>{var t;return(null==e||null===(t=e.location)||void 0===t?void 0:t.section)===an.WI.TRASH})).map((e=>e.id));if(a()(r))return e;const o=(0,Ja.Z)(r);return e.filter((e=>!o[e]))})(e,t);case b.m9:return((e,t)=>e.filter(((e,n)=>n!==t.id)).map((e=>e===t.id?t.originalElementId:e)))(e,t);case el.Ub:return e.set(t.duplicateElementId,t.originalElementId);case b.XI:return((e,t)=>{const{updates:n}=t;if(!n)return e;let r=e;return n.forEach((t=>{const{id:n,changes:o}=t;e.get(n)&&(Object.keys(o).every((e=>fi[e]))||(r=r.delete(n)))})),r})(e,t);case el.g1:case el.ZX:return((e,t)=>e.withMutations((e=>{const{elementIds:n,loading:r}=t;for(const t of n)t&&e.setIn(["loading",t],ra.fromJS({id:t,loading:r}));return e})))(e,t);default:return e}},cloneInstances:(e=rl,t)=>t.type===nl.P?((e,t)=>{const{instanceCount:n,validInstanceCount:r,reachableInstanceBoardCount:o,reachableInstanceCount:i,reachableInstanceBoardIds:s,reachableInstanceIds:a}=t;return e.set(t.elementId,ra.fromJS({instanceCount:n,validInstanceCount:r,reachableInstanceBoardCount:o,reachableInstanceCount:i,reachableInstanceBoardIds:s,reachableInstanceIds:a}))})(e,t):e,gridSize:function(e=(()=>{if("undefined"==typeof screen)return ra.Map({size:Pr.HR.LARGE.size,name:Pr.HR.LARGE.name,initialized:!1});if(!(0,Ue.Z$)()&&(0,He.$)())return ra.Map({size:Pr.HR.SMALL.size,name:Pr.HR.SMALL.name,initialized:!0});const{size:e,name:t}=(0,za.qr)()||(0,za.W9)(screen.width,screen.height,(0,Ua.T)());return ra.Map({size:e||Pr.HR.LARGE.size,name:t||Pr.HR.LARGE.name,initialized:!0})})(),t){return t.type===Pr.Yc?ra.Map({size:t.gridSize,name:t.sizeName,initialized:!0}):e},theme:(e=Za,t)=>{switch(t.type){case zi.iR:return e.set("mode",t.mode).set("theme",t.theme).set("initialised",!0);case zi.u7:return e.set("theme",t.theme).set("initialised",!0);default:return e}},currentUser:(e=Ka,t)=>{switch(t.type){case y.cB:return Wa(e,t);case y.xb:return e.set("lastCheckedNotifications",t.timestamp);case y.Pb:return e.set("lastCheckedQuickNotes",t.timestamp);case I.Nv:return Ka.set("isGuest",!0);case I.bp:case I.XP:return e.set("isGuest",!1);case y.K7:case Ge.$P:return ra.fromJS(Object.assign({viewedBoards:{},initialisationLastViewedBoardId:c()(["user","lastViewedBoard"],t)},t.user,{isGuest:!1,authenticated:!0,fetched:!0}));case y.rg:return((e,t)=>{if(t.userId!==e.get("_id"))return e;const n=e.get("experiments")||ra.List();return e.set("experiments",n.push(t.experimentName)).setIn(["flags",t.experimentName],!0)})(e,t);case y.N1:return((e,t)=>{const{newBoardId:n}=t;return e.set("lastViewedBoard",n)})(e,t);default:return e}},clientData:(e=Va,t)=>{switch(t.type){case Ge.$P:return ra.fromJS({clientId:t.user&&t.user.clientId,clientTick:t.user&&t.user.clientTick});case Ge.sG:return e.update("clientTick",(e=>e+t.count));default:return e}},dragging:(e=Ya,t)=>{switch(t.type){case xn.nv:return e.set("dropState",null).set("isDragging",!0).set("draggedIds",ra.List(t.ids));case xn.Sv:return ra.fromJS({isDragging:!1,draggedIds:[],forcedHoverEffect:null,dropState:t.dropState,attachMode:!1,attachModeType:null,attachModeHoveredElementId:null,attachModeHoveredStack:ra.List()});case y.N1:case ji.C:return e.set("dropState",null);case xn.KG:return e.set("forcedHoverEffect",t.effect);case xn._D:return e.set("forcedHoverEffect",null);case qa.Ns:return e.set("attachMode",!0).set("attachModeType",t.attachModeType).set("attachModeHoveredElementId",t.hoveredElementId).update("attachModeHoveredStack",(e=>e.push(t.hoveredElementId)));case qa.ds:{let n=e.get("attachModeHoveredStack");const r=n.indexOf(t.hoveredElementId);n=-1!==r?n.delete(r):n;const o=n.last();return e.set("attachMode",!!o).set("attachModeHoveredElementId",o).set("attachModeHoveredStack",n)}case $a.CF:return e.set("attachMode",!1).set("attachModeType",null).set("attachModeHoveredElementId",null).set("attachModeHoveredStack",ra.List());default:return e}},resizing:(e=il,t)=>{switch(t.type){case ol.R6:return e.set("isResizing",!0).set("resizedElementId",t.elementId);case ol.RS:return e.set("isResizing",!1).set("resizedElementId",null);default:return e}},collision:al,socketConnection:(e=Bl,t)=>{switch(t.type){case Re.nC:return e.set("status",Re.pI.CONNECTED);case Re.iz:return e.set("status",Re.pI.INTERRUPTED).set("reconnectionMode",Re.H6.CONNECTION_LOST).set("interruptionTime",(0,Ee.u3)());case Re.Ms:return e.set("status",Re.pI.DISCONNECTED).set("reconnectionMode",Re.H6.CONNECTION_LOST).set("disconnectTime",(0,Ee.u3)());case Re.x4:return((e,t)=>e.withMutations((e=>e.update("channels",(e=>e.filter((e=>-1===t.left.indexOf(e))).concat(ra.List(t.joined)))).set("boardChannels",ra.List(t.boardChannels)))))(e,t);default:return e}},popup:Cl,modal:Fl,richMedia:(e=Kl,t)=>{switch(t.type){case Hl.Eu:case Hl.ip:case Hl.y8:case Hl.wr:return((e,t)=>Gl(e,t,t.id))(e,t);case xn.nv:return((e,t)=>e.withMutations((e=>t.ids&&t.ids.forEach((n=>Gl(e,t,n))))))(e,t);case Me.nk:return((e,t)=>e.withMutations((e=>e.forEach(((n,r)=>Gl(e,t,r))))))(e,t);default:return e}},presentation:(e=Fc,t)=>{switch(t.type){case La.z0:return e.set("enabled",!0);case La.io:return e.set("hideComments",t.hideComments).set("disableEditing",t.disableEditing).set("isFocusModeAllowed",t.isFocusModeAllowed);case La.wS:return e.set("enabled",!1).set("focusedElementId",null);case La.eK:return e.set("focusedElementId",t.elementId).set("focusModeInitialZoomScale",t.initialZoomScale).set("focusedElementProps",t.elementProps).set("focusModeStatus",La.dh.APPEARING);case La.T_:return e.set("focusedElementId",null).set("focusModeInitialZoomScale",1).set("focusedElementProps",{}).set("focusModeStatus",La.dh.INACTIVE);case La.rr:return e.set("focusModeStatus",La.dh.ACTIVE);case La.P3:return e.set("focusModeStatus",La.dh.DISAPPEARING);default:return e}},boardSummaries:(e=(()=>ra.Map({summaries:{},fetching:!1,fetched:!1}))(),t)=>{switch(t.type){case b.EY:return((e,t)=>e.withMutations((e=>{let n=!1;t.moves.forEach((t=>{const r=c()(["from","parentId"],t),o=c()(["location","parentId"],t);if(r===o)return;const i=e.get("summaries"),s=i[t.id];s&&(i[t.id]=Object.assign({},s,{parentId:o}),n=!0)})),n&&e.set("summaries",Object.assign({},e.get("summaries")))})))(e,t);case b.hA:case b.go:return((e,t)=>{if(!(0,rn.pi)(t.elementType))return e;const n=(0,G.YQ0)(t),r=(0,G.Lq4)(t),o=(0,G.CKs)(t);return e.update("summaries",(e=>(e[t.id]={id:t.id,title:n,color:r,parentId:o},Object.assign({},e))))})(e,t);case b.XI:return((e,t)=>e.withMutations((e=>{let n=!1;t.updates.forEach((t=>{const r=e.get("summaries"),o=r[t.id];if(!o)return;const i=c()(["changes","title"])(t),s=c()(["changes","color"])(t),a=c()(["changes","isTemplate"])(t);if(Vl()(i)&&Vl()(s)&&Vl()(a))return;const l=Object.assign({},o);r[t.id]=l,i&&(l.title=i),s&&(l.color=s),Vl()(a)||(l.isTemplate=a),n=!0})),n&&e.set("summaries",Object.assign({},e.get("summaries")))})))(e,t);case b.bD:return((e,t)=>e.update("summaries",(e=>e[t.id]?(delete e[t.id],Object.assign({},e)):e)))(e,t);case ql.qx:return((e,t)=>e.withMutations((e=>{const n=e.get("summaries");qs()(t.elements).forEach((e=>{if(!(0,rn.pi)(e.elementType))return;const t=n[e.id],r=(0,G.YQ0)(e),o=(0,G.Lq4)(e),i=(0,G.CKs)(e),s=(0,$l.pZ)(e);let a;t?(a=Object.assign({},t,{title:r,color:o,parentId:i}),s&&(a.isTemplate=!0)):a={id:e.id,title:r,color:o,parentId:i},n[e.id]=a})),e.set("summaries",Object.assign({},n))})))(e,t);case ql.HZ:return((e,t)=>t.boardSummaries?e.withMutations((e=>{e.set("fetching",!1).set("fetched",!0),t.boardSummaries.forEach((t=>{const n=e.get("summaries"),r=n[t.id];n[t.id]=r?Object.assign({},r,t):t})),e.update("summaries",(e=>Object.assign({},e)))})):e)(e,t);case ql.qQ:return((e,{boardIds:t})=>e.update("summaries",(e=>(t.forEach((t=>{delete e[t]})),Object.assign({},e)))))(e,t);default:return e}},boardHierarchies:(e={},t)=>{switch(t.type){case b.EY:return((e,t)=>{let n=!1;return t.moves.forEach((t=>{const r=c()(["from","parentId"],t),o=c()(["location","parentId"],t);if(r===o)return;const i=e[t.id];if(!i||!o)return;const s=i.reduce(((e,t)=>(t===r||t===o||e.push(t),e)),[o]);n=!0,e[t.id]=s})),n?Object.assign({},e):e})(e,t);case b.hA:case b.go:return((e,t)=>{if(!(0,rn.pi)(t.elementType))return e;const n=[(0,G.CKs)(t)];return Object.assign({},e,{[t.id]:n})})(e,t);case b.bD:return((e,t)=>e[t.id]?(delete e[t.id],Object.assign({},e)):e)(e,t);case Yl.eM:return((e,t)=>{const n={};return qs()(t.elements).forEach((t=>{if(!(0,rn.pi)(t.elementType))return;if(e[t.id])return;const r=(0,G.CKs)(t);n[t.id]=[r]})),a()(n)?e:Object.assign({},e,n)})(e,t);case Yl.C8:return((e,t)=>t.boardHierarchies?Object.assign({},e,t.boardHierarchies):e)(e,t);case Yl.rL:return((e,t)=>{const{boardIds:n}=t;return n?(n.forEach((t=>{delete e[t]})),Object.assign({},e)):e})(e,t);default:return e}},onboarding:(e=Xl,t)=>{switch(t.type){case Fr.u2:return e.set("loaded",!0);case Fr.A2:return e.set("currentStep",t.step);case Fr.cG:return e.set("currentStep",null);case Fr.Gz:return e.setIn(["listeners",t.listener.id],ra.fromJS(t.listener));case Fr.l5:return e.deleteIn(["listeners",t.listenerId]);case Fr.MU:return e.set("metadata",e.get("metadata").merge(ra.fromJS(t.data)));default:return e}},tooltip:(e=Jl,t)=>{switch(t.type){case Ql._$:return e.set("content",ra.Map(t.tooltip)).set("fade",t.fade).set("activeTimestamp",t.activeTimestamp);case Ql.wE:return Jl;default:return e}},cms:(e=oc,t)=>{var n;if(!(t.type===uo.tl&&t.resource===uo.P6.cms))return e;const r=null===(n=t.ids)||void 0===n?void 0:n[0],o=t.data;return rc.has(r)?e.set(r,oa().Map({data:o})):e.set(r,oa().fromJS({data:o}))},attachments:(e=ra.Map(),t)=>{switch(t.type){case b.bq:case b.$E:case b.Vn:case b.xL:case b.TQ:case b.Zf:case b.fG:case b.Xn:case b.rN:case b.UR:case b.kf:case b.bB:return t.ids?((e,t)=>e.withMutations((e=>{t.ids.forEach((n=>tc(e,Object.assign({},t,{id:n}))))})))(e,t):tc(e,t);case b.rI:return((e,t)=>e.withMutations((e=>{e.forEach(((n,r)=>tc(e,Object.assign({},t,{id:r}))))})))(e,t);default:return e}},commentsInput:(e=ac,t)=>{switch(t.type){case C.b2:return e.set("currentlyEditingId",null).setIn(["map",t._id,"isEditing"],!1);case C.FY:return e.set("currentlyEditingId",t._id).setIn(["map",t._id,"isEditing"],!0);case C.Bh:return e.set("currentlyEditingId",t._id).setIn(["map",t._id,"text"],ra.fromJS(t.text));case C.sS:return e.setIn(["map",t._id,"text"],null);case C.b9:case C.DE:case C.b$:return e.deleteIn(["map",t._id]).set("currentlyEditingId",null);case C.Eb:return e.deleteIn(["map",t.threadId]).set("currentlyEditingId",null);case y.N1:return ac;default:return e}},userContacts:hc,elementFilter:(e=vc,t)=>{switch(t.type){case kn.xp:return ra.fromJS(t.elementFilter);case kn.hP:return vc;default:return e}},canvas:Sc,mediaPlayer:(e=wc,t)=>{switch(t.type){case Tc.Fb:return e.update(t.playerId,Tc.To,(e=>e.set("playing",!0).set("hasBeenPlayed",!0)));case Tc.Ue:return e.update(t.playerId,Tc.To,(e=>e.set("playing",!1)));case Tc.B9:return e.update(t.playerId,Tc.To,(e=>e.set("progress",t.progress)));case Tc.yf:return e.update(t.playerId,Tc.To,(e=>e.set("duration",t.duration)));case Tc.ml:return e.update(t.playerId,Tc.To,(e=>e.set("volume",t.volume)));case Tc.AQ:return e.update(t.playerId,Tc.To,(e=>e.set("mute",t.mute)));case Tc.x5:return e.update(t.playerId,Tc.To,(e=>e.set("dragPreview",t.dragPreview)));case Tc.Hz:return e.update(t.playerId,Tc.To,(e=>e.set("error",t.error)));case Tc.I4:return e.update(t.playerId,Tc.To,(e=>e.set("playing",!1).set("progress",0).set("hasBeenPlayed",!1)));default:return e}},interfaceSettings:(e=Ac,t)=>t.type===ji.C?e.set("enableDnd3dEffects",t.enabled).set("initialised",!0):e,boardPreview:(e=Mc,t)=>t.type===xc.k?e.set("enabled",!0):e,preview:(e=Nc,t)=>{switch(t.type){case ki.K:return(0,Ue.Z$)()||!(0,He.$)()||e.get("startingBoardId")?e:e.set("startingBoardId",t.boardId);case Dc.ji:return e.set("mode",t.mode).set("startingBoardId",t.startingBoardId);case Dc.Wm:return Nc;case Dc.rk:return e.set("passwordValidated",!0);default:return e}},session:(e=kc,t)=>e,serverReconnection:(e=Bc,t)=>{switch(t.type){case rs.RP:return e.set("isRefreshingCurrentBoard",!0);case rs.C5:return e.set("isRefreshingCurrentBoard",!1);case rs.fX:case rs.gO:return e.set("disableSocketStatusWarnings",!0);case rs.VB:return e.set("disableSocketStatusWarnings",!1);default:return e}},navigationHistory:zc};Uc.version=n(33813).Z,Uc.pwaApp=n(85314).Z;const Hc=(0,ea.U)(Uc),Zc=(e,t)=>{if(t.type===I.Nv)return(0,ze.pI)(t)?Hc(void 0,t):e;const n=(t.type===y.cB||t.type===y.rg||t.type===y.xb||t.type===y.Pb)&&t.userId===e.getIn(["currentUser","_id"]);return t.remote&&!n?e:Hc(e,t)};var Gc=n(2330),Kc=n.n(Gc),Wc=n(79925),Vc=n(89339);const $c=ra.Map({permissionsUpdatingUsers:ra.Map(),editorTimestamps:ra.Map()}),qc=(e,t)=>n=>t?n.set("permissionsUpdatingUsers",n.get("permissionsUpdatingUsers").merge(Kc()(t,t.map((()=>e))))):n,Yc=ra.fromJS({operation:"",elements:{},cutElementsIdMap:{},pasteCount:0,saveId:"",visibleOnCanvas:!0,elementsBoundingRect:{}});var Xc=n(91171),Qc=n(55207),Jc=n(45278);const ed=ra.fromJS({boardViews:{},boardGuestViews:{}}),td=ra.Map();const nd=(0,ea.U)({boardEditors:(e=$c,t)=>{switch(t.type){case Vc.m:return((e,t)=>e.setIn(["editorTimestamps",t.elementId],ra.fromJS(t.editors)))(e,t);case Wc.d:return((e,{addUserIds:t,addNewUserEmails:n,updateUserIds:r,removeUserIds:o})=>P()(qc("Adding",t),qc("Adding",n),qc("Updating",r),qc("Removing",o))(e))(e,t);case Wc.h:return((e,{userIds:t})=>qc("error",t)(e))(e,t);case b.jY:return((e,t)=>{const{addUserIds:n=[],addNewUserEmails:r=[],removeUserIds:o=[],updateUserIds:i=[],addedUsers:s=[]}=t;return e.withMutations((e=>{[...n,...r,...o,...i].forEach((t=>e.deleteIn(["permissionsUpdatingUsers",t]))),o.forEach((n=>e.deleteIn(["editorTimestamps",t.id,n]))),s&&s.forEach((n=>{const r=(0,Zt.n5)(n);e.updateIn(["editorTimestamps",t.id,r],(e=>e||ra.fromJS({lastEdit:0,lastView:0})))}))}))})(e,t);case ki.K:return e.set("permissionsUpdatingUsers",ra.Map());case y.N1:return((e,t)=>{if(!t.remote)return e;if(!c()(["activity","isNewBoardShared"],t))return e;const{newBoardId:n,permission:r,userId:o,timestamp:i}=t;return(0,Ta.Od)(r)?e.setIn(["editorTimestamps",n,o,"lastView"],i):e})(e,t);case b.hA:case b.XI:case C.Eb:return((e,t)=>{const n=c()(["activity","boardId"],t),r=j(t);return n&&r?e.setIn(["editorTimestamps",n,r,"lastEdit"],(0,Ee.u3)()):e})(e,t);case b.EY:return((e,t)=>{const n=c()(["activity","destinationBoardId"],t),r=c()(["activity","sourceBoardId"],t),o=j(t);if(!o)return e;const i=(0,Ee.u3)();return e.setIn(["editorTimestamps",n,o,"lastEdit"],i).setIn(["editorTimestamps",r,o,"lastEdit"],i)})(e,t);default:return e}},clipboard:(e=Yc,t)=>{switch(t.type){case $._7:return e.set("cutElementsIdMap",ra.fromJS({}));case $.Pt:return((e,t)=>{const n=t.operation===$.os&&t.elements?t.elements.reduce(((e,t)=>(e[(0,G.nRF)(t)]=!0,e)),{}):{},r=ra.fromJS((0,To.rI)(t.elementsBoundingRect));return e.set("operation",t.operation).set("elements",ra.fromJS(t.elements)).set("cutElementsIdMap",ra.fromJS(n)).set("pasteCount",t.pasteCount||0).set("saveId",t.saveId).set("elementsBoundingRect",r).set("timestamp",t.timestamp)})(e,t);case $.Qd:return e.set("operation",$.B4).set("pasteCount",t.pasteCount).set("cutElementsIdMap",ra.fromJS({})).set("visibleOnCanvas",t.visibleOnCanvas);case ki.K:return e.set("pasteCount",-1);default:return e}},publishedBoardViewers:(e=ed,t)=>{switch(t.type){case Jc.g:return((e,t)=>e.withMutations((e=>{(t.views||t.guestViews)&&(t.views&&t.views.forEach((t=>{const n=(0,Xc.JK)(t),r=(0,Qc.E)(t);return e.setIn(["boardViews",n,r],ra.fromJS(t))})),t.guestViews&&t.guestViews.forEach((t=>{const n=(0,Xc.JK)(t),r=(0,Xc.Df)(t);return e.setIn(["boardGuestViews",n,r],ra.fromJS(t))})))})))(e,t);case Jc.V:return((e,t)=>e.withMutations((e=>{e.set("boardViews",ra.fromJS({})),e.set("boardGuestViews",ra.fromJS({}))})))(e);case y.N1:return((e,t)=>{if(!t.remote)return e;if(!c()(["activity","isNewBoardShared"],t))return e;const{newBoardId:n,permission:r,userId:o,timestamp:i}=t;return(0,Ta.Od)(r)?e:e.updateIn(["boardViews",n,o],(e=>{if(e)return e.set("viewCount",((0,Xc.Vh)(e)||0)+1).set("lastView",i)}))})(e,t);case y._L:return((e,t)=>{if(!t.remote)return e;const{newBoardId:n,deviceId:r,timestamp:o}=t;return e.updateIn(["boardGuestViews",n,r],(e=>e?e.set("viewCount",((0,Xc.Vh)(e)||0)+1).set("lastView",o):ra.fromJS({elementId:n,deviceId:r,lastView:o,viewCount:1})))})(e,t);default:return e}},elements:function(e=td,t){return t.type===b.Av?t.updates.reduce(((e,t)=>((e,t)=>e.update(t.id,(e=>(e||ra.Map()).merge(t.data))))(e,t)),e):e}}),rd=ra.Map(),od=e=>e.get(e.size-1),id=e=>t=>{if(!t)return!1;return c()(["undo","type"],od(t))===e},sd=id(Me.nk),ad=id(q.Bw),ld=(e=rd,t)=>t.transactionId&&t.undoRedoAction?t.batched?((e,t)=>{let n,r;return e.has(t.transactionId)&&(n=e.get(t.transactionId),ad(n)&&(r=od(n),n=n.pop())),r||(r={undo:Pt((0,q.fS)({actions:[],transactionId:t.transactionId})),redo:kt((0,q.fS)({actions:[],transactionId:t.transactionId}))}),r.undo.payload.push(t.undoRedoAction.undo),r.redo.payload.push(t.undoRedoAction.redo),n||(n=ra.List([])),n=n.push(r),e.set(t.transactionId,n)})(e,t):e.has(t.transactionId)?e.update(t.transactionId,(e=>{const{undoRedoAction:n}=t;let r=e;if(t.type===Me.nk&&sd(e)){const t=od(e);n.undo=t.undo,r=r.pop()}return r.push(n)})):e.set(t.transactionId,ra.List([t.undoRedoAction])):e,cd=ra.Map({operation:null,mostRecentTransactionId:(0,Ye.F)(),transactions:ra.Map(),undoStack:ra.Stack(),redoStack:ra.Stack()}),dd=e=>t=>t.get(e).peek(),ud=e=>t=>t.update(e,(e=>e.shift())),md=(e,t)=>{return e.update("undoStack",(n=t,e=>e.size<tt.qE?e.unshift(n):e.slice(0,tt.NQ).unshift(n)));var n},pd=dd("undoStack"),hd=ud("undoStack"),gd=dd("redoStack"),fd=ud("redoStack");var Ed=n(90025);const vd=ra.Map({userId:null}),bd=(e=vd,t)=>{switch(t.type){case S.V6:return((e,t)=>e.set("userId",j(t)))(e,t);case S.xy:return((e,t)=>e.set("userId",null))(e);case S.zf:return vd;default:return e}},yd=ra.Map(),Id=(e,t)=>t.ids.reduce(((e,n)=>((e,t,n)=>e.set(n,bd(void 0,t)))(e,t,n)),e),Cd=(e,t)=>{const n=j(t);return e.filter((e=>e.get("userId")!==n))},Sd=ra.Map(),Td=(0,ea.U)({selectedElements:(e=yd,t)=>{if(t.type===Aa.N1)return Cd(e,t);if(!0!==t.remote)switch(t.type){case Aa.gg:return((e,t)=>{const n=Kn()(t.users,((e,t)=>((t.selectedElementIds?t.selectedElementIds.split(","):[]).forEach((n=>{e[n]={userId:t._id}})),e)),{});return[...bt()(t.users),...t.disconnectedUserIds].reduce(((e,t)=>Cd(e,{userId:t})),e).merge(ra.fromJS(n))})(e,t);case Aa.oU:return Cd(e,t);default:return e}switch(t.type){case S.V6:case S.xy:return Id(e,t);case S.zf:case Aa.oU:case Aa.e0:return Cd(e,t);default:return e}},commentThreads:(e=Sd,t)=>{if(!t.remote)return e;switch(t.type){case C.aQ:return((e,t)=>{const n=j(t);return n?e.setIn([t.threadId,n],t.timestamp):e})(e,t);case C.XU:return((e,t)=>{const n=j(t);return n?e.deleteIn([t.threadId,n]):e})(e,t);default:return e}}}),wd="documentMode";var Od=n(71630);const _d=ra.fromJS({enabled:!1,data:{}});var Rd=n(49900);const Ad=["toolName","user","type"];const Dd=ra.fromJS({}),Nd=(e,t)=>{const{toolName:n}=t,r=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,Ad),o=ra.fromJS(Object.assign({lastUpdateTimestamp:(0,Ee.u3)()},r));return e.update(n,ra.fromJS({}),(e=>e.merge(o)))},xd=ra.fromJS({}),Md=(0,ea.U)({enabled:(e=!1,t)=>{switch(t.type){case Od.LU:case Od.tm:return!0;default:return e}},toolbar:(e=!1,t)=>t.type===Od.tm||e,enabledTools:(e=xd,t)=>t.type===Od.Xo?e.set(t.toolName,t.enabled):e,tools:(e=Dd,t)=>t.type===Rd.v?Nd(e,t):e,[wd]:(e=_d,t)=>{switch(t.type){case Od.Xo:return t.toolName!==wd?e:e.set("enabled",t.enabled);case"DOCUMENT_MODE_CALCULATION":return e.set("data",ra.fromJS(t.result));default:return e}}}),Pd=ra.Map(),Ld=(e=Pd,t)=>t.type===Od.LU||e.get("enabled")?Md(e,t):e,kd={id:"",fetching:!1,fetched:!1,hasError:!1,error:void 0,errorTime:void 0,errorCount:0,expiry:void 0,status:uo.ni.NOT_FETCHED},Fd=(e=Object.assign({},kd),t,n,r)=>Object.assign({},e,{id:n,status:uo.ni.ERRORED,fetching:!1,fetched:!0,hasError:!0,error:r,errorTime:t.errorTime||(0,Ee.u3)(),errorCount:((null==e?void 0:e.errorCount)||0)+1,expiry:void 0}),Bd=(e,t,n,r,o)=>{const i=Object.assign({},t,{id:e,status:n,fetching:!1,fetched:!0,hasError:!1,error:void 0,errorTime:void 0,errorCount:0});return r&&(i.fetchedTime=r),o&&(i.expiry=o),i},jd=(e=Object.assign({},kd),t,n)=>{switch(t.type){case uo.lQ:return Object.assign({},e,{id:n,status:uo.ni.FETCHING,fetching:!0,expiry:void 0});case uo.tl:return((e,t,n)=>Bd(n,e,uo.ni.FETCHED,t.fetchedTime||(0,Ee.u3)(),t.expiry))(e,t,n);case uo.Pl:return((e,t,n)=>Bd(n,e,uo.ni.CACHED,t.fetchedTime,t.expiry))(e,t,n);case uo.T2:return((e,t,n)=>(null==e?void 0:e.status)!==uo.ni.CACHED?(E.Z.warn("Attempted to mark a resource a fetched that was not already cached",n,e,t),e):Object.assign({},e,{status:uo.ni.FETCHED}))(e,t,n);case uo.rF:return((e,t,n)=>Object.assign({},e,{id:n,status:uo.ni.STALE,fetching:!1,fetched:!1,expiry:void 0}))(e,0,n);case uo.hV:return((e,t,n)=>Object.assign({},e,{id:n,fetchedTime:t.fetchedTime||(0,Ee.u3)()}))(e,t,n);default:return e}},zd={},Ud=(e=Object.assign({},zd),t)=>{switch(t.type){case uo.lQ:case uo.tl:case uo.Pl:case uo.T2:case uo.hV:case uo.rF:return((e,t)=>{const{ids:n}=t,r=n||[uo.OP],o=Object.assign({},e);for(const i of r)o[i]=jd(o[i],t,i);return o})(e,t);case uo.Fs:return((e,t)=>{const{errors:n}=t;if(!n)return e;const r=Object.assign({},e);for(const o of n){const e=o.id||uo.OP;r[e]=Fd(r[e],t,e,o)}return r})(e,t);default:return e}},Hd=(e,t)=>{const n=e[t]||kd,r=(0,Ee.u3)();return Object.assign({},e,{[t]:Object.assign({},n,{id:t,status:uo.ni.FETCHED,fetched:!0,fetchedTime:r,creationTime:r,fetching:!1})})},Zd=(e,t)=>{if(!t)return e;const n=e[t];return n&&n.fetched?n.fetching?e:Object.assign({},e,{[t]:Object.assign({},n,{fetchedTime:(0,Ee.u3)()})}):e},Gd=(e,t)=>{var n;let r=e;return t.markAsFetched&&(r=(0,rn.pi)(t.elementType)?((e,t)=>Hd(e,t.id))(r,t):r),Zd(r,null==t||null===(n=t.activity)||void 0===n?void 0:n.boardId)},Kd={},Wd={},Vd={},$d={},qd=new Map;qd.set("boards",((e=Object.assign({},Kd),t)=>{var n;switch(t.type){case ki.K:return((e,t)=>{const n=e[t.boardId];return n&&n.hasError?Object.assign({},e,{[t.boardId]:Object.assign({},n,{status:uo.ni.NOT_FETCHED,fetching:!1,fetched:!1,hasError:!1,error:void 0,errorTime:void 0,errorCount:0})}):e})(e,t);case b.hA:case b.go:return Gd(e,t);case b.XI:return Zd(e,null==t||null===(n=t.activity)||void 0===n?void 0:n.boardId);case b.EY:return((e,t)=>{const n=P()(lt()(["sourceBoardId","destinationBoardId"]),qs(),B())(null==t?void 0:t.activity);let r=Object.assign({},e);for(const o of n)r=Zd(r,o);return r})(e,t);default:return e}})),qd.set("elements",((e=Wd,t)=>{switch(t.type){case uo.lQ:case uo.tl:case uo.Pl:case uo.T2:case uo.Fs:case uo.hV:case uo.mO:return((e,t)=>t.resource!==uo.P6.boards?e:Ud(e,t))(e,t);case b.hA:return Hd(e,t.id);default:return e}})),qd.set("trash",((e=Object.assign({},Vd),t)=>{switch(t.type){case uo.tl:return((e,t)=>{if(t.resource!==uo.P6.trash)return e;const n=Object.assign({},e),r=t.ids||[];for(const a of r){var o,i,s;n[a]=Object.assign({},n[a],{meta:Object.assign({},null===(o=n[a])||void 0===o?void 0:o.meta,{hasOlderTrash:!!t.data.hasOlderTrash||(null===(i=n[a])||void 0===i||null===(s=i.meta)||void 0===s?void 0:s.hasOlderTrash),hasMore:t.data.hasMore,earliestTimestamp:t.data.earliestTimestamp})})}return n})(e,t);case Ui.k1:return((e,t)=>Object.assign({},e,{[Ui.eZ.PERSONAL]:Object.assign({},e[Ui.eZ.PERSONAL],{meta:Object.assign({},e[Ui.eZ.PERSONAL].meta,{clearing:!0})})}))(e);case Ui.OL:return((e,t)=>Object.assign({},e,{[Ui.eZ.PERSONAL]:Object.assign({},e[Ui.eZ.PERSONAL],{meta:Object.assign({},e[Ui.eZ.PERSONAL].meta,{clearing:!1,fetched:!1,hasMore:!1})})}))(e);case Ui.bB:return((e,t)=>Object.assign({},e,{[Ui.eZ.PERSONAL]:Object.assign({},e[Ui.eZ.PERSONAL],{meta:Object.assign({},e[Ui.eZ.PERSONAL].meta,{clearing:!1})})}))(e);default:return e}}));const Yd=(e=$d,t)=>{switch(t.type){case uo.lQ:case uo.tl:case uo.Pl:case uo.T2:case uo.hV:case uo.Fs:case uo.rF:return((e,t)=>{const{resource:n}=t,r=Object.assign({},e);return r[n]=Ud(e[n],t),r})(e,t);default:return e}},Xd=ra.Map(),Qd=(e=0,t)=>Math.max(e+t,0),Jd=e=>(t,{counts:n})=>t.withMutations((t=>{bt()(n).forEach((r=>{t.set(r,e(t.get(r,0),n[r]))}))})),eu=Jd(Qd),tu=Jd(((e,t)=>Qd(e,-1*t)));var nu=n(44908),ru=n.n(nu);const ou=(e,t,n=(0,Ee.u3)())=>e.withMutations((e=>{t.forEach((t=>e.set(t,n)))})),iu=({from:e,location:t})=>e.parentId!==t.parentId,su=({from:e,location:t})=>[t.parentId,e.parentId],au="SELECTORS_CACHE_UPDATE",lu=(e,t)=>{switch(t.type){case au:return((e,t)=>t.data.elementCountsMap?Object.assign({},e,t.data.elementCountsMap):e)(e,t);case Cs.nN:return((e,t)=>{if(!t.elementIds||a()(t.elementIds))return e;const n=Object.assign({},e);for(const r of t.elementIds)delete n[r];return n})(e,t);default:return e}},cu=e=>{var t,n,r;const o={_id:e._id||e.id||"unknown",elementType:e.elementType,location:{section:(null===(t=e.location)||void 0===t?void 0:t.section)??null,parentId:(null===(n=e.location)||void 0===n?void 0:n.parentId)??null}};return null!==(r=e.content)&&void 0!==r&&r.linkTo&&(o.content={linkTo:e.content.linkTo}),o},du=new Map,uu=(e=du,t)=>{switch(t.type){case Es.AddElements:return((e,t)=>{for(const n of t.elements){const t=cu(n);e.set(n._id,t)}return new Map(e)})(e,t);case Es.RemoveElements:return((e,t)=>{for(const n of t.elementIds)e.delete(n);return new Map(e)})(e,t);case Es.ClearElements:return(e=>(e.clear(),new Map(e)))(e);default:return e}},mu=(0,ea.U)({deepChildrenMod:(e=ra.Map(),t)=>{switch(t.type){case Cs.QI:return((e,t)=>{const n=Kn()(t.elements,((e,t)=>{const{parentId:n}=t.location;return n&&e.push(n),e}),[]);return ou(e,n)})(e,t);case Cs.nN:return((e,t)=>ou(e,t.boardIds))(e,t);case b.hA:case b.bD:case b.wh:return((e,t)=>{const n=[t.location.parentId];return ou(e,n)})(e,t);case b.EY:return((e,t)=>{const n=ru()(Vr()(t.moves.filter(iu).map(su)));return 0===n.length?e:ou(e,n)})(e,t);case b.go:return((e,t)=>(0,rn.Nm)(t.elementType)?ou(e,[t.id]):e)(e,t);default:return e}},selectors:(e=null,t)=>{switch(t.type){case Cs.nN:return Object.assign({},e,{elementCountsMap:lu((null==e?void 0:e.elementCountsMap)||{},t)});case au:return Object.assign({},e,t.data,{elementCountsMap:lu((null==e?void 0:e.elementCountsMap)||{},t)});default:return e}},elementSummaries:(e=du)=>e});var pu=n(21711),hu=n.n(pu);const gu=(e,t)=>(0,ao.vM)(e)===(0,ao.vM)(t)&&(0,ao.s)(e)===(0,ao.s)(t),fu=(e,t)=>{const n=(0,ao.YU)(e);if(n!==(0,ao.YU)(t))return!1;switch(n){case W.GT.ASSIGNMENT:case W.GT.BOARD_VIEW:case W.GT.BOARD_UPDATE:case W.GT.BOARD_TASKS_UPDATE:case W.GT.BOARD_TASKS_REMINDER:case W.GT.SHARE_REMINDER:case W.GT.REACTION:return gu(e,t);case W.GT.COMMENT:return((e,t)=>(0,ao.fW)(e)||(0,ao.fW)(t)?gu(e,t)&&yo()((0,ao.p0)(e),(0,ao.p0)(t)):gu(e,t))(e,t);default:return!1}},Eu=(e,t)=>{const{notifications:n}=t,r=hu()(n)?n:Object.values(n);return e.withMutations((e=>(({newNotifications:e,mutableState:t})=>(e.forEach((e=>{(0,ao.oC)(e)||t.keySeq().toArray().forEach((n=>{const r=t.get(n);r&&(0,ao.oC)(r)&&fu(e,r)&&t.delete(n)})),t.set((0,ao.Xm)(e),ra.fromJS(e))})),t))({newNotifications:r,mutableState:e})))},vu=ra.Map(),bu=ra.Map(),yu=(0,ea.U)({data:(e=vu,t)=>{switch(t.type){case uo.tl:return((e,t)=>t.resource!==uo.P6.notifications?e:Eu(e,t.data))(e,t);case W.Xx:return Eu(e,t);case W.FH:return((e,t)=>e.withMutations((e=>{const{notificationIds:n}=t;n&&n.forEach((t=>{e.delete(t)}))})))(e,t);case W.gO:return((e,t)=>{const{views:n=[],commentViews:r=[],timestamp:o=(0,Ee.u3)()}=t;return e.withMutations((e=>{n.forEach((({notificationId:t,elementId:n})=>{e.setIn([t,"details","elementChanges",n,"seen"],o)})),r.forEach((({notificationId:t,commentId:n})=>{e.setIn([t,"details","commentChanges",n,"seen"],o)}))}))})(e,t);case W.z2:return((e,t)=>{const{notificationIds:n=[],viewedTimestamp:r}=t;return e.withMutations((e=>{n.forEach((t=>{e.update(t,(e=>e&&!(0,ao.oC)(e)?e.set("viewedTimestamp",r):e))}))}))})(e,t);case W.Nv:return((e,t)=>{const{viewedTimestamp:n}=t;return e.withMutations((e=>{e.filter((e=>!(0,ao.oC)(e))).map(ao.Xm).forEach((t=>e.setIn([t,"viewedTimestamp"],n)))}))})(e,t);case W.uI:return((e,t)=>{const{notificationIds:n=[],observedTimestamp:r}=t;return e.withMutations((e=>{n.forEach((t=>{e.update(t,(e=>e&&!(0,ao.P_)(e)?e.set("observedTimestamp",r):e))}))}))})(e,t);default:return e}},hasMore:(e=true,t)=>{var n,r;return t.type!==uo.tl||t.resource!==uo.P6.notifications?e:null!=(null==t||null===(n=t.data)||void 0===n?void 0:n.hasMore)?ra.fromJS(null==t||null===(r=t.data)||void 0===r?void 0:r.hasMore):e},boardNotificationPreferences:(e=bu,t)=>{switch(t.type){case W.ky:return((e,t)=>{const{boardNotificationPreferences:n=[]}=t;return e.withMutations((e=>{n.forEach((t=>{e.update(t.boardId,(e=>e?e.merge(t.preferences):ra.fromJS(t.preferences)))}))}))})(e,t);case W.fq:return e.set(t.boardId,ra.fromJS(t.preferences));default:return e}}});var Iu=n(39956);const Cu=ra.Map(),Su=ra.Map({hydrated:!1,hydrationTimestamp:0,cacheTimestamp:0,cacheVersion:null}),Tu=(0,ea.U)({hydration:(e=Su,t)=>{switch(t.type){case I.Nv:case I.bp:case I.XP:return Su;default:return e}}});var wu=n(59728);const Ou=ra.Map({status:wu.Rx.UNFETCHED,consentModel:null,showBanner:!1}),_u=ra.Map(),Ru=(0,ea.U)({debug:Ld,routing:function(e=ta,t){return na&&(e===ta||t.type===I.Nv)?Object.assign({},e,{locationBeforeTransitions:na}):t.type===Me.nk?(na=t.payload,Object.assign({},e,{locationBeforeTransitions:t.payload})):e},elements:function(e=va,t){switch(t.type){case Ui.OL:return((e,t)=>{const n=j(t);return n?e.filter((e=>{const t=(0,G.J43)(e),r=(0,G.PRW)(e);return t!==n||r!==an.WI.TRASH})):e})(e,t);case Cs.QI:return((e,t)=>e.withMutations((e=>{if(a()(t.deletedElementIds)||t.deletedElementIds.forEach((t=>{e.delete(t)})),a()(t.elements))return e;Object.values(t.elements).forEach((t=>{e.update(t.id||t._id,(e=>e&&(0,rn.ph)(t)?e:ra.fromJS(t)))}))})))(e,t);case b.hA:return((e,t)=>{const n=Ea(null,t);return n?e.set((0,G.nRF)(n),n):e})(e,t);case b.bD:return((e,t)=>e.delete(t.id))(e,t);case b.XI:return ya(e,t);case b.Zv:return Ca(e,t);case b.EY:return Ia(e,t);case b.m9:return((e,t)=>e.get(t.id)?e.update(t.id,(e=>Ea(e,t))).update(t.originalElementId,(e=>Ea(e,Object.assign({},t,{type:b.a6})))):e)(e,t);case b.B0:return((e,t)=>e.get(t.clonedElementId)?e.update(t.clonedElementId,(e=>Ea(e,t))).update(t.originalElementId,(e=>Ea(e,{id:t.originalElementId,type:b.XI,updates:[{id:t.originalElementId,changes:{hasClones:t.originalElementHasClones}}]}))):e)(e,t);case b.go:case b.wh:case b.jY:case b.Vq:case b.m$:case b.R7:case b.LO:return Ca(e,t);case Cs.mH:return((e,t)=>{const n=(0,aa.Jc)({elements:e}),r=(0,aa.uV)({elements:e,elementGraph:n,parentId:t.parentId,section:t.section,sortFn:ia.qp}),o=(0,sa.Je)(r.size),i=r.reduce(((e,t,n)=>(e[(0,G.nRF)(t)]=t.setIn(["location","position","score"],o[n]),e)),{});return e.merge(i)})(e,t);case Cs.nN:return((e,t)=>a()(t.elementIds)?e:e.withMutations((e=>(t.elementIds.forEach((t=>{e.delete(t)})),e))))(e,t);default:return e}},permissions:(e=Oa,t)=>{switch(t.type){case wa.Sw:return e.setIn(["boardIdPermissionIdMap",t.boardId],t.permissionId);case b.go:return((e,t)=>{var n,r;const{elementType:o}=t;if(!(0,rn.lA)(o))return e;const i=null==t||null===(n=t.changes)||void 0===n?void 0:n.permissionId;if(!i)return e;const s=null==t||null===(r=t.changes)||void 0===r?void 0:r.linkTo;return s?e.setIn(["boardIdPermissionIdMap",s],i):e})(e,t);case Cs.QI:return((e,t)=>{const n=Object.values(t.elements||{});return e.withMutations((e=>{n.forEach((t=>{if(!(0,rn.lA)(t))return;const n=(0,G.JxE)(t);if(!n)return;const r=(0,G.Sb0)(t);e.setIn(["boardIdPermissionIdMap",r],n)}))}))})(e,t);case wa.B_:return((e,t)=>e.withMutations((e=>{t.token&&e.update("tokens",(e=>e.concat(t.token)));const n=e.get("tokens").size-1;return a()(t.permissionIds)||(e.update("permissionIds",(e=>e.concat(t.permissionIds))),t.permissionIds.forEach((t=>{e.setIn(["permissionIdTokenIndexMap",t],n)}))),a()(t.aclIds)||e.update("aclIds",(e=>e.concat(t.aclIds))),t.token&&!a()(t.permissions)&&t.permissions.forEach((t=>{const r=(0,Sa.l3)(t),o=(0,Sa.S6)(t);o&&e.setIn(["permissionIdTokenIndexMap",o],n),r&&o&&e.setIn(["boardIdPermissionIdMap",r],o)})),e})))(e,t);case Ge.$P:return((e,t)=>{var n,r;const o=null==t||null===(n=t.user)||void 0===n?void 0:n.lastViewedBoard,i=null==t||null===(r=t.user)||void 0===r?void 0:r.lastViewedBoardPermissionId;return i&&o?e.getIn(["boardIdPermissionIdMap",o])?e:e.setIn(["boardIdPermissionIdMap",o],i):e})(e,t);case wa.Pr:return((e,t)=>{const{permissions:n}=t;return n?e.withMutations((e=>(n.forEach((t=>{const n=(0,Sa.S6)(t),r=(0,Sa.Dj)(t),o=(0,Sa.l3)(t);(0,Ta.$u)(r)?e.setIn(["boardIdEditPermissionIdMap",o],n):(0,Ta.YX)(r)&&e.setIn(["boardIdPublishPermissionIdMap",o],n)})),e))):e})(e,t);default:return e}},comments:(e=Ra,t)=>{switch(t.type){case C.iO:return e.merge(t.comments);case C.DE:return e.set(t._id,((e,t)=>{const{contentUpdate:{changes:n={}}={},text:r}=t;return t.type===C.DE?e.update("content",(e=>e?e.merge(ra.fromJS(n)):ra.fromJS(n))).set("text",r?ra.fromJS(r):e.get("text")):e})(e.get(t._id),t));case C.Eb:{const n=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,_a);return e.set(t._id,ra.fromJS(n))}case C.b$:return e.remove(t._id);default:return e}},canvasOrder:(e=_u,t)=>t.type===an.wN?e.merge(t.canvasOrder):e,users:(e=xa,t)=>{switch(t.type){case Aa.gg:return((e,t)=>e.withMutations((e=>{((e,t)=>{e.mergeDeep(t.users)})(e,t),t.disconnectedUserIds.forEach((n=>e.update(n,(e=>Na(e,t)))))})))(e,t);case Aa.xx:return((e,t)=>e.mergeDeep(t.users))(e,t);case Aa.K7:case Aa.cB:case Ge.$P:case Aa.N1:return Pa(e,t);case b.EY:case b.XI:case S.V6:case S.xy:case Aa.cl:case Aa.e0:return((e,t)=>t.remote?Pa(e,t):e)(e,t);case Aa.yA:return Ma(e,t);case C.iO:return((e,t)=>{const n=P()(c()("comments"),Zr()(c()("userId")),B())(t);return Ma(e,{userIds:n})})(e,t);default:return e}},notifications:yu,remoteActivity:Td,app:Zc,local:nd,undoRedo:(e=cd,t)=>{if(t.type===I.Nv)return cd;if(t.type===tt.tA)return((e,t)=>e.update("transactions",(e=>e.delete(t))).update("undoStack",(e=>e.filter((e=>e!==t)))).update("redoStack",(e=>e.filter((e=>e!==t)))))(e,t.transactionId);if(t.type===tt.rK){const n=e.get("undoStack"),r=e.get("redoStack"),o=n.indexOf(t.transactionId);if(-1===o)return cd;const i=n.slice(0,o).reverse(),s=n.slice(o),a=r.unshiftAll(i);return e.set("undoStack",s).set("redoStack",a)}let n=e;if(t.type===tt.lA&&(n=n.set("operation",t.name)),t.type===tt.mL&&(n=n.set("operation",null)),t.type===tt.Uw&&(n=n.set("isRedoing",!1).set("isUndoing",!1)),t.remote||!t.transactionId)return n;const r=n.get("mostRecentTransactionId"),o=t.transactionId>r;if(n=n.update("transactions",(e=>ld(e,t))),o){n=n.set("isRedoing",!1).set("isUndoing",!1),n=n.set("mostRecentTransactionId",t.transactionId);const e=n.get("redoStack");n=n.update("transactions",(t=>((e=rd,t)=>e.filter(((e,n)=>-1===t.indexOf(n))))(t,e))),n=md(n,t.transactionId),n=((e,t)=>e.update("redoStack",(e=>e.clear())))(n)}if(t.isUndo){n=n.set("isRedoing",!1).set("isUndoing",!0);const e=pd(n);t.transactionId===e&&(n=hd(n),n=((e,t)=>e.update("redoStack",(e=>e.unshift(t))))(n,e))}if(t.isRedo){n=n.set("isRedoing",!0).set("isUndoing",!1);const e=gd(n);t.transactionId===e&&(n=fd(n),n=md(n,e))}return n},lastSaved:Ed.Z,asyncResources:(e=$d,t)=>{if(t.type===I.Nv)return(0,ze.pI)(t)?$d:e;if(t.type===I.kZ)return $d;let n=Yd(e,t),r=!1;for(const o of qd.keys()){const e=qd.get(o);if(!e)continue;const i=n[o],s=e(i,t);r=r||i!==s,n[o]=s}return r&&(n=Object.assign({},n)),n},elementCount:(e=Xd,t)=>{switch(t.type){case et.Uk:return((e,{counts:t})=>t?ra.fromJS(t):e)(e,t);case et.YJ:return eu(e,t);case et.H_:return tu(e,t);default:return e}},cache:mu,localCache:Tu,boardExport:(e=Cu,t)=>{switch(t.type){case Iu.wf:return e.set(t.id,ra.fromJS({fileName:t.fileName,downloadUrl:t.downloadUrl,sessionId:t.sessionId}));case Iu.Zw:return e.delete(t.id);default:return e}},oneTrust:(e=Ou,t)=>{switch(t.type){case wu.nn:return e.set("status",t.status);case wu.tn:return e.set("consentModel",t.consentModel);case wu.jZ:return e.set("showBanner",!0);case wu.BX:return e.set("showBanner",!1);default:return e}}}),Au=(e,t)=>{if(t.type===I.Nv)return(0,ze.pI)(t)?Ru(void 0,t):e;return((e,t,n)=>{if(n.type===Cs.t1)return t;const r=e?(0,Xr.$)(e):null,o=(0,Xr.$)(t),i=ws(n,o,r);return i?t.updateIn(["cache","elementSummaries"],(e=>uu(e,i))):t})(e,Ru(e,t),t)};function Du(e,t,n){const r=Ne(Js),s=Us({browserHistory:t,socketManager:r,thunkArg:n}),a=(0,v.Od)()&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o(),l=i.md.apply(null,s),c=(0,i.MT)((0,q.wO)(Au),e,a(l));return r.subscribeToStore(c),c}},68624:(e,t,n)=>{"use strict";n.d(t,{Bw:()=>u,dP:()=>c,fS:()=>m,wO:()=>d});var r=n(23279),o=n.n(r),i=n(64721),s=n.n(i),a=n(64486);const l=["actions"];const c=(e={})=>t=>n=>{const{debounceWait:r=0,debounceOptions:i}=e,l=e.isBulkableAction||(({bulkActionTypes:e=[]})=>t=>s()(e,t.type))(e),c=(0,a.dC)(t)(n);let d=[];const u=o()((()=>{const e=d;return d=[],c(e)}),r,i);return e=>l(e)?((e=>{d.push(e)})(e),u()):c(e)},d=a.y8,u=a.dt,m=e=>{let{actions:t}=e,n=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,l);return Object.assign({type:u,payload:t.map((e=>Object.assign({},e,{batched:!0})))},n)}},48161:(e,t,n)=>{"use strict";n.d(t,{FK:()=>h,M8:()=>p,PT:()=>w,RN:()=>m,TT:()=>O,TX:()=>f,V9:()=>D,W5:()=>E,XA:()=>u,XV:()=>y,f7:()=>d,ki:()=>R,l3:()=>T,lp:()=>_,mf:()=>b,n:()=>C,pS:()=>g,rs:()=>I,sv:()=>v,y1:()=>S});var r=n(67294),o=n(68356),i=n.n(o),s=n(26457);const a=()=>null;var l=r.createElement(s.Z,{className:"SettingsContentLoadingSpinner",show:!0});const c=()=>l,d=i()({loader:()=>n.e(8347).then(n.bind(n,98868)),loading:c}),u=i()({loader:()=>n.e(7732).then(n.bind(n,57866)),loading:c}),m=i()({loader:()=>n.e(9724).then(n.bind(n,55098)),loading:c}),p=i()({loader:()=>Promise.resolve().then(n.bind(n,50448)),loading:c}),h=i()({loader:()=>n.e(8544).then(n.bind(n,98461)),loading:c}),g=i()({loader:()=>Promise.all([n.e(2935),n.e(3878)]).then(n.bind(n,61617)),loading:c}),f=i()({loader:()=>Promise.all([n.e(2935),n.e(1435)]).then(n.bind(n,31730)),loading:c}),E=i()({loader:()=>Promise.all([n.e(1615),n.e(4302)]).then(n.bind(n,32915)),loading:c}),v=i()({loader:()=>Promise.all([n.e(1615),n.e(4302)]).then(n.bind(n,59884)),loading:c}),b=i()({loader:()=>n.e(2796).then(n.bind(n,78541)),loading:c}),y=i()({loader:()=>n.e(5100).then(n.bind(n,32743)),loading:c}),I=i()({loader:()=>n.e(1089).then(n.bind(n,25585)),loading:c}),C=i()({loader:()=>n.e(3792).then(n.bind(n,16103)),loading:c}),S=i()({loader:()=>n.e(5955).then(n.bind(n,20719)),loading:c}),T=i()({loader:()=>n.e(9849).then(n.bind(n,88814)),loading:c}),w=i()({loader:()=>n.e(6603).then(n.bind(n,56765)),loading:c}),O=i()({loader:()=>n.e(4219).then(n.bind(n,74297)),loading:c}),_=i()({loader:()=>n.e(274).then(n.bind(n,42824)),loading:c}),R=i()({loader:()=>n.e(5213).then(n.bind(n,49526)),loading:a}),A=i()({loader:()=>Promise.resolve().then(n.bind(n,65306)),loading:a}),D=()=>{d.preload(),u.preload(),m.preload(),h.preload(),g.preload(),f.preload(),E.preload(),b.preload(),y.preload(),y.preload(),C.preload(),S.preload(),T.preload(),A.preload(),v.preload(),O.preload()}},11945:(e,t,n)=>{"use strict";n.d(t,{W:()=>s});var r=n(23839),o=n(3911),i=n(81838);const s=e=>((0,r.HW)(e),(0,o.R)(!0),{type:i.C,enabled:e})},81838:(e,t,n)=>{"use strict";n.d(t,{C:()=>r});const r="DND_3D_EFFECTS_SET"},65124:(e,t,n)=>{"use strict";n.d(t,{W:()=>r,w:()=>o});const r=e=>e.getIn(["app","interfaceSettings","initialised"]),o=e=>e.getIn(["app","interfaceSettings","enableDnd3dEffects"])},23839:(e,t,n)=>{"use strict";n.d(t,{EC:()=>a,HW:()=>s,xl:()=>i});var r=n(69e3);const o="milanote.dnd.3d",i=()=>r.Z.getItem(o),s=e=>r.Z.setItem(o,e),a=()=>window.matchMedia("(prefers-reduced-motion: reduce)").matches},91188:(e,t,n)=>{"use strict";n.d(t,{Dc:()=>d,X8:()=>u,qe:()=>c});var r=n(78862),o=n(56884),i=n(48935),s=n(82627),a=n(26434),l=n(53976);const c=e=>{if(!e)return;let t=e;return e===s.yU.MATCH_BROWSER&&(t=(0,r.wB)()),(0,o.dO)({eventType:a.Xc.SWITCHED_THEME,eventProperties:{theme:t,mode:e},userProperties:{[l.YV.THEME]:t}}),{type:s.iR,mode:e,theme:t}},d=e=>({type:s.u7,theme:e}),u=()=>(e,t)=>{const n=t(),r=(0,i.v2)(n)?s.yU.LIGHT:s.yU.DARK;return e(c(r))}},82627:(e,t,n)=>{"use strict";n.d(t,{iR:()=>r,u7:()=>o,yU:()=>i});const r="THEME_MODE_SET",o="THEME_SET",i={MATCH_BROWSER:"MATCH_BROWSER",LIGHT:"light-theme",DARK:"dark-theme"}},48935:(e,t,n)=>{"use strict";n.d(t,{LL:()=>i,_Y:()=>o,r5:()=>s,v2:()=>a});var r=n(82627);const o=e=>e.getIn(["app","theme","initialised"]),i=e=>e.getIn(["app","theme","theme"]),s=e=>e.getIn(["app","theme","mode"]),a=e=>i(e)===r.yU.DARK},78862:(e,t,n)=>{"use strict";n.d(t,{B1:()=>m,K5:()=>p,rW:()=>a,s7:()=>d,wB:()=>u});var r=n(69e3),o=n(82627);const i="milanote.theme",s=()=>r.Z.getItem(i),a=e=>r.Z.setItem(i,e),l=()=>window.matchMedia("(prefers-color-scheme: dark)").matches,c=()=>window.matchMedia("(prefers-color-scheme: light)").matches,d=()=>l()||c()||window.matchMedia("(prefers-color-scheme: no-preference)").matches,u=()=>l()?o.yU.DARK:c()?o.yU.LIGHT:null,m=()=>s()||o.yU.LIGHT,p=()=>{const e=s();return e?e===o.yU.MATCH_BROWSER?u():e:o.yU.LIGHT}},50448:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(67294),o=n(37974),i=n(22222),s=n(80275),a=n(58124),l=n(96014);const c=(0,i.zB)({subscription:s.m8}),d=(0,o.$j)(c);var u=r.createElement("div",{className:"divider"}),m=r.createElement("p",{className:"account-subscription-warning"},"Your Milanote subscription was created through an Apple account. You can manage your subscription under Settings > Apple ID > Subscriptions on your iPhone or iPad. Learn more about it here:"," ",r.createElement("a",{href:"https://help.milanote.com/en/articles/9147963-how-do-i-update-my-milanote-subscription-on-iphone-or-ipad",target:"_blank",rel:"noopener noreferrer"},"How do I update my Milanote subscription on iPhone or iPad?"));const p=d((e=>{const{children:t,subscription:n,showSubscriptionDetails:o=!0,route:i}=e;return n&&!(0,a.J)(n)?r.createElement("div",{className:"AccountPlanContainer"},(null==i?void 0:i.name)&&r.createElement("h1",null,i.name),o&&r.createElement(r.Fragment,null,r.createElement("p",{className:"account-subscription-name"},"You're on the ",(0,l.tL)(n)," plan"),u),m):t}))},58527:(e,t,n)=>{"use strict";n.d(t,{DU:()=>s,G$:()=>i,Vu:()=>r,Yh:()=>l,f_:()=>o,kJ:()=>a});const r="milanote.checkout.selectedProductId",o="milanote.checkout.selectedPriceId",i="milanote.checkout.navigationStack",s="/checkout/products",a="/checkout/products/team",l="/checkout/members"},42720:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294),o=n(94184),i=n.n(o);const s=({className:e,children:t,header:n,footer:o})=>r.createElement("div",{className:i()("CheckoutModalContent",e)},r.createElement("div",{className:"checkout-modal-header"},n),r.createElement("div",{className:"checkout-modal-body"},t),r.createElement("div",{className:"checkout-modal-footer"},o))},44050:(e,t,n)=>{"use strict";n.d(t,{A:()=>T,w:()=>w});var r=n(6557),o=n.n(r),i=n(67294),s=n(99187),a=n(44379),l=n(45578),c=n.n(l),d=n(45685),u=n(14927);const m=a.ZP.createChannel("checkout"),p=(e,t,n)=>{const[r,o]=(0,i.useState)([]),[s,a]=(0,i.useState)(void 0),l=e=>{o((t=>(e=>c()(e,"_id"))([...t,...e])))},p=async()=>{try{const e=await(async()=>{const{data:e}=await(0,d.dJ)({url:"payments/products",method:u.Is.GET,timeout:3e4});return e.products})();l(e)}catch(e){m.error("Error fetching products",e),a("Something went wrong fetching products")}},h=async e=>{try{const t=await(async e=>{const{data:t}=await(0,d.dJ)({url:`payments/products/${e}`,method:u.Is.GET,timeout:3e4});return t.product})(e);if(!t)throw new Error("Product not found");l([t])}catch(r){m.error("Error fetching product",e,r),a(`Something went wrong fetching product ${e}`),t(void 0),n(void 0)}};return(0,i.useEffect)((()=>{p()}),[]),(0,i.useEffect)((()=>{if(!r.length)return;r.find((t=>t._id===e))||e&&h(e)}),[e,r]),[r,s]};var h=n(58527);const g=e=>{const[t,n]=(0,s.Z)(h.G$,[]),r=e.pathname;return(0,i.useEffect)((()=>{r!==t[0]&&n((e=>[r,...e].slice(0,5)))}),[r]),(0,i.useEffect)((()=>()=>{n([])}),[]),t};var f=n(91072),E=n(42720),v=n(27097),b=n(75798),y=i.createElement(b.Z,null);const I=({error:e})=>{const{t}=(0,f.$G)("checkout",{keyPrefix:"error"}),{dispatchOpenIntercomMessages:n}=w();return i.createElement(E.Z,{className:"CheckoutErrorModal",header:i.createElement(i.Fragment,null,y,i.createElement("h1",null,t("title")))},i.createElement("p",{className:"error-message"},e),i.createElement("p",{className:"support-message"},t("description")," ",i.createElement(v.Z,{onClick:n},t("contactSupportText"))))},C=a.ZP.createChannel("checkout"),S=(0,i.createContext)({selectedProductId:"",selectedPriceId:"",selectedProduct:void 0,selectedPrice:void 0,addMemberIds:[],removeMemberIds:[],initialMemberIds:[],products:[],setSelectedProductId:o(),setSelectedPriceId:o(),setSelectedSeatCount:o(),setAddMemberIds:o(),setRemoveMemberIds:o(),setQuantity:o(),setInitialMemberIds:o(),subscription:void 0,currentUser:{},dispatchOpenIntercomMessages:o(),dispatchFetchSubscriptionDetails:o(),dispatchNavigateTo:o(),dispatchNavigateBack:o()}),T=({children:e,subscription:t,currentUser:n,location:r,dispatchOpenIntercomMessages:o,dispatchFetchSubscriptionDetails:a,dispatchNavigateTo:l,dispatchNavigateBrowserBack:c})=>{const[d,u]=(0,s.Z)(h.Vu,void 0),[m,f]=(0,s.Z)(h.f_,void 0),[E,v]=(0,i.useState)([]),[b,y]=(0,i.useState)([]),[T,w]=(0,i.useState)([]),[O,_]=(0,i.useState)(1),[R,A]=(0,i.useState)(void 0),[D,N]=p(d,u,f),x=g(r),M=D.find((e=>e._id===d)),P=null==M?void 0:M.prices.find((e=>e._id===m)),L={products:D,selectedProduct:M,selectedPrice:P,selectedPriceId:m,selectedProductId:d,addMemberIds:E,removeMemberIds:b,initialMemberIds:T,setInitialMemberIds:w,quantity:O,selectedSeatCount:R,subscription:t,currentUser:n,setSelectedPriceId:f,setSelectedProductId:u,setAddMemberIds:v,setRemoveMemberIds:y,setSelectedSeatCount:A,setQuantity:_,dispatchOpenIntercomMessages:o,dispatchFetchSubscriptionDetails:a,dispatchNavigateTo:l,dispatchNavigateBack:()=>{const[e,...t]=x;t.length>0?l(t[0]):c()}};return C.debug("CheckoutContext",{selectedPriceId:m,selectedProductId:d,products:D}),i.createElement(S.Provider,{value:L},N?i.createElement(I,{error:N}):e)},w=()=>(0,i.useContext)(S)},6401:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(68356);const o=n.n(r)()({loader:()=>n.e(3382).then(n.bind(n,95941)),loading:()=>null})},98840:(e,t,n)=>{"use strict";n.d(t,{fg:()=>s,sW:()=>l,zV:()=>a});var r=n(68356),o=n.n(r),i=n(48161);const s=o()({loader:()=>n.e(6993).then(n.bind(n,95861)),loading:()=>null}),a=o()({loader:()=>n.e(1674).then(n.bind(n,57735)),loading:()=>null}),l=()=>{s.preload(),a.preload(),(0,i.V9)()}},19255:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(68356);const o=n.n(r)()({loader:()=>n.e(2753).then(n.bind(n,4727)),loading:()=>null})},65306:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(63422),o=n.n(r),i=n(67294),s=n(45697),a=n.n(s),l=n(94184),c=n.n(l),d=n(16733),u=n(50448);const m=e=>{const{children:t,route:n}=e,r=n&&n.className,s=o()(["query","no_back"],e.location);return i.createElement(d.Z,Object.assign({},e,{showBack:!s,className:c()("PlanModal auto-width",r)}),i.createElement(u.default,{showSubscriptionDetails:!1},t))};m.propTypes={children:a().oneOfType([a().arrayOf(a().node),a().node]),route:a().object,location:a().object};const p=m},10536:(e,t,n)=>{"use strict";n.d(t,{g:()=>r,q:()=>o});const r=e=>e.getIn(["app","clientData","clientId"]),o=e=>e.getIn(["app","clientData","clientTick"])},72681:(e,t,n)=>{"use strict";n.d(t,{A:()=>r,g:()=>o});const r="USER_CONTACTS_TRACK_USER_IDS",o={GOOGLE:"google"}},34548:(e,t,n)=>{"use strict";n.d(t,{D6:()=>p,M1:()=>u,Th:()=>g,gX:()=>m,kA:()=>h,sb:()=>d});var r=n(42583),o=n.n(r),i=n(22222),s=n(43831),a=n(70555),l=n(33496),c=n(63749);const d=e=>e.getIn(["app","userContacts","contacts"]),u=(0,i.P1)(d,(e=>e.reduce(((e,t)=>(e[o()((0,a.OD)(t))]=t,e)),{}))),m=(0,i.P1)(d,(e=>e.reduce(((e,t)=>(e[(0,l.z)(t)]=t,e)),{}))),p=(0,i.P1)((e=>e.getIn(["app","userContacts","userIds"])),c.R,s.yS),h=(0,i.P1)(p,(e=>e.filter(a.AC))),g=((0,s.vg)("_id"),(0,s.vg)("contactType"))},33496:(e,t,n)=>{"use strict";n.d(t,{Y:()=>o,z:()=>i});var r=n(43831);const o=(0,r.vg)("resourceName"),i=(0,r.vg)("userId")},8779:(e,t,n)=>{"use strict";n.d(t,{$0:()=>oe,Dg:()=>ee,H6:()=>de,Jn:()=>ie,SF:()=>J,_7:()=>Ee,az:()=>ae,bh:()=>me,dj:()=>ce,eH:()=>ne,ej:()=>le,gg:()=>re,j:()=>fe,k:()=>se,kt:()=>te,p5:()=>pe,rl:()=>ue});var r=n(66604),o=n.n(r),i=n(3674),s=n.n(i),a=n(77606),l=n.n(a),c=n(63422),d=n.n(c),u=n(74322),m=n(45685),p=n(85597),h=n(22121),g=n(65147),f=n(37407),E=n(37574),v=n(28690),b=n(25552),y=n(35803),I=n(40825),C=n(27585),S=n(76277),T=n(28780),w=n(19690),O=n(80275),_=n(79900),R=n(10048),A=n(67557),D=n(50335),N=n(19092),x=n(1014),M=n(68468),P=n(52432),L=n(30840),k=n(95803),F=n(60742),B=n(25614),j=n(20354),z=n(68071),U=n(72902),H=n(89030),Z=n(81248),G=n(33853),K=n(14927),W=n(29812),V=n(81410),$=n(40201),q=n(69129),Y=n(51356),X=n(34595);const Q=["token"];const J=({changes:e,userId:t,personal:n=!1,sync:r=!0})=>(o,i)=>o((0,v.Nq)({userId:t||i().getIn(["app","currentUser","_id"]),changes:e,personal:n,sync:r})),ee=({userId:e,timestamp:t=(0,N.u3)()})=>({type:H.xb,timestamp:t,userId:e,sync:!0}),te=({userId:e,timestamp:t=(0,N.u3)()})=>({type:H.Pb,timestamp:t,userId:e,sync:!0}),ne=e=>J({changes:{contentLimit:{exceeded:e}}}),re=({userId:e,newBoardId:t,previousBoardId:n,sync:r=!0,operation:o})=>(i,s)=>{const a=s(),l=(0,M.$3)(a),c=(0,L.Yj)(l,t,[H.CJ]);if(!(0,x.Jj)(t))return;const d=(0,w._W)(a);if(d&&d.has(q.K2.SEARCH))return;const u=(0,_.XW)(a),m=(0,L.Yj)(l,t,u),p=!(0,P.ZV)(c)&&(0,P.YX)(m),h=(0,_.b1)()(a,{elementId:t});i({type:H.N1,newBoardId:t,previousBoardId:n,permissionId:h,permission:m,timestamp:(0,N.u3)(),userId:e,persist:p,sync:r,monitoring:{operation:o}})},oe=({newBoardId:e,previousBoardId:t,operation:n})=>(r,o)=>{const i=o(),s=(0,O.rc)(i);return r(re({userId:s,newBoardId:e,previousBoardId:t,operation:n}))},ie=({newBoardId:e,previousBoardId:t})=>async(n,r)=>{if(!(0,x.Jj)(e))return;const o=r(),i=(0,M.$3)(o),s=(0,L.Yj)(i,e,[H.CJ]),a=(0,A.Z)();if(!a)return;const l=(0,_.b1)()(o,{elementId:e}),c=(0,P.ZV)(s),d={type:H._L,newBoardId:e,previousBoardId:t,deviceId:a,permissionId:l,isDemo:c,timestamp:(0,N.u3)()};n(d),await(0,m.dJ)({url:"actions",method:K.Is.POST,data:{action:d}})},se=()=>(e,t)=>{e({type:U.Gy});(0,p._V)()?(0,h.aM)().then((n=>{const r=t(),{user:o,elements:i,boardNotificationPreferences:s}=n.data;(0,V.LH)(r)||(0,$._)(r)||e((0,W.D)({boardId:(0,z.uT)()!==X.Q.IOS_CANVAS&&o.lastViewedBoard||o.rootBoardId,restored:!!o.lastViewedBoard})),e((e=>({type:U.$P,user:e}))(o)),e((0,I.a)({currentUser:!0})),e((0,f.dY)(i)),e((0,B.Im)({boardNotificationPreferences:s}))})).catch((t=>{var n;if((null===(n=t.response)||void 0===n?void 0:n.status)===u.WY)return R.Z.error("The current user's token is no longer valid. Logging out this user."),void e((0,g.J)());console.error(t,t.response),e({type:U.X6}),e((0,E.eV)())})):console.error("Attempting to retrieve a user without a user token.")},ae=e=>async(t,n)=>{const r=e?e():void 0,i=(0,D.UL)(),a=await(0,h.cH)({timezone:r,disableCache:i}),{elements:l,remoteUserIds:c,elementCount:d,boardHierarchies:u}=a.data,m=s()(c),p=o()(c,(e=>({shareCount:e})));return t((0,f.dY)(l)),t((0,b.cw)(m)),t((0,b.p_)(p)),u&&t((0,T.AD)(u)),d&&t((0,y.KJ)(d)),a.data},le=()=>async(e,t)=>{try{const t=await(0,h.U1)(),{boardSummaries:n}=t.data;e((0,S.I7)(n))}catch(n){R.Z.error("Failed to retrieve quick notes board summaries",n)}},ce=()=>async(e,t)=>{try{const t=await(0,h.Mk)(),{elements:n}=t.data,r=Object.values(n);if(!l()(r)){e((0,f.dY)(r));const t=(0,Y.c)(r);e((0,S.I7)(t)),e((0,I.a)({customTemplates:!0}))}}catch(n){R.Z.error("Failed to retrieve current user custom templates",n)}},de=()=>async e=>{e((0,C.a)())},ue=e=>async t=>{const n=await(0,h.DO)({userChanges:e});t(J({userId:n._id,changes:n,sync:!1}))},me=({email:e,password:t})=>async n=>{const r=await(0,h.J_)({email:e,password:t}),{token:o}=r,i=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(r,Q);return o&&(0,p.se)(o),n(J({userId:i._id,changes:i,sync:!1})),i},pe=()=>({type:U.NZ}),he=(0,k.tu)({}),ge=Z.b[Z.v.AVATAR].sizes.reduce(((e,t)=>Object.assign({},e,{[t.name]:null})),{}),fe=({userId:e,file:t,transactionId:n=(0,F.k)()})=>r=>{r(he({id:e,file:t,transactionId:n,imageType:Z.v.AVATAR})).then((({uploadUrl:t,size:n})=>{r(J({userId:e,changes:{image:Object.assign({},ge,n,{original:t})}}))})).catch((e=>null))},Ee=()=>async(e,t)=>{try{const t=await(0,m.dJ)({url:"users/me/counts",timeout:2*N.yu.MINUTE}),{data:n}=t,r=d()("counts",n),o=d()("contentLimit",n);return r&&(e((0,y.KJ)(r)),e((0,I.a)({elementCounts:!0})),e(J({changes:{contentLimit:o},sync:!1}))),n}catch(n){(0,j.vl)({errorMessage:"Failed to retrieve user counts",error:n,sensitive:!1,level:G.n.ERROR})}return null}},72902:(e,t,n)=>{"use strict";n.d(t,{$P:()=>i,Gy:()=>r,NZ:()=>s,X6:()=>o,sG:()=>a});const r="CURRENT_USER_GET_DETAILS",o="CURRENT_USER_GET_FAILURE",i="CURRENT_USER_SET",s="CURRENT_USER_SET_GUEST",a="CURRENT_USER_INCREMENT_TICK"},80275:(e,t,n)=>{"use strict";n.d(t,{$3:()=>B,$S:()=>R,B7:()=>T,EF:()=>W,GE:()=>G,IP:()=>k,IT:()=>H,J5:()=>v,J9:()=>C,Kw:()=>b,OL:()=>K,PN:()=>E,Q9:()=>U,SZ:()=>M,T8:()=>x,V3:()=>Z,_J:()=>L,f1:()=>S,gG:()=>f,hU:()=>N,ht:()=>y,j_:()=>_,m8:()=>P,p_:()=>A,rc:()=>h,rx:()=>I,sb:()=>z,ts:()=>p,u9:()=>D,v1:()=>j,vz:()=>g,wB:()=>O,xK:()=>F,yg:()=>w});var r=n(22222),o=n(55781),i=n(43831),s=n(78327),a=n(63749),l=n(99489),c=n(90252),d=n(85263),u=n(68071),m=n(34595);const p=(0,i.P2)(["app","currentUser"]),h=e=>e.getIn(["app","currentUser","_id"]),g=e=>e.getIn(["app","currentUser","email"]),f=e=>!!e.getIn(["app","currentUser","emailVerifiedDate"]),E=e=>e.getIn(["app","currentUser","rootBoardId"]),v=e=>e.getIn(["app","currentUser","fetched"]),b=e=>e.getIn(["app","currentUser","quickNotesRootId"]),y=e=>e.getIn(["app","currentUser","isGuest"]),I=e=>e.getIn(["app","currentUser","lastCheckedQuickNotes"]),C=e=>e.getIn(["app","currentUser","experiments"]),S=e=>e.getIn(["app","currentUser","userSegment","segment"]),T=e=>e.getIn(["app","currentUser","segments"]),w=e=>e.getIn(["app","currentUser","lastViewedBoard"]),O=e=>e.getIn(["app","currentUser","education"]),_=e=>e.getIn(["app","currentUser","otToken"]),R=(0,i.P2)(["app","currentUser","accountRegistrationDate"]),A=e=>e.getIn(["app","currentUser","initialisationLastViewedBoardId"]),D=e=>(0,c.wu)(e.getIn(["app","currentUser"])),N=(0,i.P2)(["app","currentUser","role"]),x=e=>e.getIn(["app","currentUser","subscription","active"]),M=e=>e.getIn(["app","currentUser","subscriptionId"]),P=e=>e.getIn(["app","currentUser","subscription"]),L=e=>e.getIn(["app","currentUser","subscription","detail"]),k=e=>e.getIn(["app","currentUser","subscription","plan"]),F=e=>e.getIn(["app","currentUser","customer"]),B=e=>e.getIn(["app","currentUser","customerId"]),j=(0,r.P1)(p,(e=>{switch((0,u.uT)()){case m.Q.IOS_CANVAS:return!1;case m.Q.ANDROID_BOARD_LIST:case m.Q.IOS_BOARD_LIST:case m.Q.IPAD_OS:default:return(0,c._v)(e)}})),z=(0,r.P1)(p,(e=>(0,d.HM)()?(0,c.dA)(e):(0,c.wE)(e))),U=(0,r.P1)(p,P,((e,t)=>(0,l.z2)(e,t))),H=(0,s.y1)(P,a.R,((e,t)=>{const n=e&&e.get("teamMemberIds");return n?n.map((e=>t.get(e))).filter((e=>e)):null})),Z=(0,r.P1)(P,a.R,((e,t)=>{if(!t||!e)return;const n=e.get("adminId");return t.get(n)})),G=(0,r.P1)(p,y,((e,t)=>t||e.get("authenticated")&&e.get("fetched")||!1)),K=(0,r.P1)(p,(e=>(0,c.Xw)(e)||(0,o.default)()||"en-US")),W=(0,r.P1)(p,(e=>(0,c.V5)(e)||"USD"))},27585:(e,t,n)=>{"use strict";n.d(t,{a:()=>v,j:()=>y});var r=n(63422),o=n.n(r),i=n(84876),s=n(45685),a=n(25552),l=n(8779),c=n(22121),d=n(90252),u=n(20354),m=n(29144),p=n(33853),h=n(80275),g=n(63749),f=n(28690);let E=!1;const v=()=>async(e,t)=>{if(!E){E=!0;try{const{data:n}=await(0,s.dJ)({url:"users/me/subscription",timeout:3e4});E=!1;const r=(0,h.rc)(t()),{subscription:o,customer:i}=n;if(!o&&!i)return;e((0,l.SF)({userId:r,changes:{subscriptionId:null==o?void 0:o._id,subscription:o,customer:i},sync:!1}));const c=(null==o?void 0:o.teamMemberIds)||[];if(c.length>1){const n=(0,g.R)(t()),r=c.filter((e=>!n.has(e))).slice(0,10);e((0,a.cw)(r))}return o}catch(n){E=!1,console.error(n)}}},b=o()(["data","user"]),y=({subscriptionId:e})=>async t=>{let n=await(0,c.HJ)(),r=b(n),o=(0,d.FK)(r);o!==e&&((0,u.vl)({errorMessage:"First attempt at refreshing the user failed",error:{userId:(0,m.n5)(r),subscriptionId:e},sensitive:!1,level:p.n.ERROR}),await(0,i.Z)(500),n=await(0,c.HJ)(),r=b(n),o=(0,d.FK)(r)),o!==e&&(0,u.vl)({errorMessage:"Final attempt at refreshing the user failed",error:{userId:(0,m.n5)(r),subscriptionId:e},sensitive:!1,level:p.n.CRITICAL}),t((0,f.Ec)({userId:r._id,user:r}))}},35803:(e,t,n)=>{"use strict";n.d(t,{C1:()=>d,vw:()=>m,bF:()=>c,KJ:()=>u});var r=n(47404),o=n(96181),i=n(45685),s=n(19092),a=n(14927);var l=n(55655);const c=(e,t)=>({type:l.YJ,counts:e,transactionId:t}),d=(e,t)=>({type:l.H_,counts:e,transactionId:t}),u=e=>({type:l.Uk,counts:e}),m=e=>async t=>{const n=await t((0,o.xP)({elementIds:e}));return(await Promise.all(n.map((({token:e,elementIds:t})=>((e,t)=>(0,i.ZP)({url:"elements/counts",timeout:2*s.yu.MINUTE,params:{elementIds:e},headers:{[a.$7.PERMISSION_TOKENS]:t}}).then((e=>e.data)))(t,e).then((e=>e.elementCounts)))))).reduce(r.n7,{})}},55655:(e,t,n)=>{"use strict";n.d(t,{DI:()=>a,H_:()=>i,Nm:()=>l,Uk:()=>s,YJ:()=>o,z$:()=>c});var r=n(69129);const o="ELEMENT_COUNT_INCREASE",i="ELEMENT_COUNT_DECREASE",s="ELEMENT_COUNT_SET",a=20,l=10,c=r.K2.BILLING_ALERT},53019:(e,t,n)=>{"use strict";n.d(t,{J:()=>m,cK:()=>d,cg:()=>l,ej:()=>a,s3:()=>u,zt:()=>c});var r=n(22222),o=n(43831),i=n(11111),s=n(91727);const a=(0,o.vg)("elementCount"),l=(0,r.P1)(a,(e=>e.filter(((e,t)=>(0,i.rf)(t))))),c=(0,r.P1)(l,(e=>e.reduce(((e,t)=>e+t),0))),d=(0,r.P1)(l,(e=>e.get(s.Gk)||0)),u=e=>e.getIn(["app","currentUser","contentLimit","current"]),m=e=>e.getIn(["app","currentUser","contentLimit","exceeded"])||!1},603:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(43831),l=n(22121);const c=e=>{const{userIds:t,dispatchFetchUsers:n}=e;return r.useEffect((()=>{(0,a.xb)(t)||n(t)}),[]),null};c.propTypes={userIds:i().array,dispatchFetchUsers:i().func};const d=(0,s.$j)(null,(e=>({dispatchFetchUsers:t=>e((0,l.NE)(t))})))(c)},51202:(e,t,n)=>{"use strict";n.d(t,{XD:()=>c,hj:()=>u,tm:()=>d,zu:()=>l});var r=n(22222),o=n(78327),i=n(495),s=n(83547),a=n(81410);const l=e=>e.getIn(["app","navigationHistory"]),c=(0,o.y1)(l,(e=>{const t=e.toJS();return Object.entries(t).sort((([e,t],[n,r])=>r-t)).map((([e])=>e))})),d=(0,o.y1)(c,s.$,((e,t)=>e.filter((e=>!(0,i.U_)(t,e))))),u=(0,r.P1)(c,a.s4,((e,t)=>!e||e.length<=1?null:e[0]===t?e[1]:e[0]))},25552:(e,t,n)=>{"use strict";n.d(t,{II:()=>a,Nw:()=>c,cw:()=>i,fH:()=>d,n4:()=>l,p_:()=>s});var r=n(79049),o=n(636);const i=e=>({type:o.yA,userIds:e}),s=e=>({type:o.xx,users:e}),a=e=>({type:o.xx,users:{[e._id]:e}}),l=({users:e,disconnectedUserIds:t})=>({type:o.gg,users:e,disconnectedUserIds:t}),c=(e,t)=>({type:o.NH,userIds:e,error:(0,r.Ir)(t)}),d=e=>({type:o.oU,userId:e})},94121:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r,o=n(67294),i=n(45697),s=n.n(i),a=n(54688),l=n(94184),c=n.n(l),d=n(23615),u=n(99489),m=n(76201),p=n(50192),h=n(96504),g=n(89030);const f=({top:e,left:t})=>e&&t?(0,d.aX)({x:t,y:e}):null;let E=(0,m.ZP)(r=class extends o.Component{componentWillReceiveProps(e){const{user:t,userId:n,loadUser:r,isUserFetched:o}=e;t&&!o&&r(n)}render(){const{user:e,type:t,top:n,left:r,forceLeave:i}=this.props,s=e&&!!e.get("image"),a=t===m.gG,l=t===m.yM,d=c()("ElementUserTag",{active:a,pulse:a,filter:l,"animate-name":s&&a}),E=e?o.createElement("div",{className:"tag-contents"},s&&o.createElement(h.Z,{user:e,size:g.AR.SMALL,pulse:a,active:a,filter:l}),o.createElement("div",{className:"name-container"},o.createElement("div",{className:"name"},(0,u.S4)(e)))):null;return o.createElement(p.Z,{className:d,style:f({top:n,left:r}),forceLeave:i},E)}})||r;E.propTypes={remoteSelectionData:s().object,lastModifiedUser:s().object,isRemotelySelected:s().bool,filterQuery:s().string,user:s().object,userId:s().string,type:s().string,isUserFetched:s().bool,top:s().number,left:s().number,forceLeave:s().bool,loadUser:s().func};const v=(0,a.cr)(E)},76201:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>u,gG:()=>c,yM:()=>d});var r=n(37974),o=n(22222),i=n(53106),s=n(22121),a=n(72522),l=n(29176);const c="TAG_TYPE_ACTIVE",d="TAG_TYPE_FILTER",u=(0,r.$j)((()=>(0,o.P1)((0,a.R3)(l.P6.users),(0,o.P1)(((e,t)=>t.isRemotelySelected),((e,t)=>t.remoteSelectionData),(e=>e.get("users")),((e,t,n)=>{if(!e)return null;const r=t.get("userId");return{user:n.get(r),userId:r,type:c}})),((e,t)=>{if(!t)return{};const n=t,{userId:r}=n,o=null==e?void 0:e[r];return Object.assign({},n,{isUserFetched:(0,i.rD)(o)})}))),(e=>({loadUser:t=>e((0,s.uh)([t]))})))},636:(e,t,n)=>{"use strict";n.d(t,{AR:()=>r.AR,K7:()=>r.K7,N1:()=>r.N1,NH:()=>l,Nk:()=>r.Nk,cB:()=>r.cB,cc:()=>r.cc,cl:()=>r.cl,e0:()=>r.e0,gg:()=>s,oU:()=>a,xx:()=>i,yA:()=>o});var r=n(89030);const o="TRACK_USERS",i="USERS_LOAD",s="USER_ACTIVITY_LOAD",a="USER_ACTIVITY_CLEAR",l="USER_ACTIVITY_ERROR"},22121:(e,t,n)=>{"use strict";n.d(t,{CK:()=>z,DO:()=>M,Fj:()=>B,HJ:()=>L,J_:()=>P,Mk:()=>x,NE:()=>G,S4:()=>j,U1:()=>N,Vp:()=>k,aM:()=>A,cH:()=>D,hg:()=>W,lF:()=>K,uh:()=>U});var r=n(3674),o=n.n(r),i=n(41609),s=n.n(i),a=n(91966),l=n.n(a),c=n(8400),d=n.n(c),u=n(28583),m=n.n(u),p=n(59051),h=n.n(p),g=n(63422),f=n.n(g),E=n(45685),v=n(13260),b=n(25552),y=n(84876),I=n(80275),C=n(70555),S=n(25507),T=n(24691),w=n(67935),O=n(14927),_=n(19092),R=n(29176);const A=()=>(0,E.ZP)({url:"users/me",timeout:15e3,retry:1}),D=({timezone:e,disableCache:t}={})=>{const n={};t&&(n.disable_cache=!0),h()(e)||(n.timezone=e);const r=s()(n)?void 0:n;return(0,E.ZP)({url:"users/me/app-init",timeout:2*_.yu.MINUTE,retry:1,params:r})},N=()=>(0,E.ZP)({url:"users/me/quick-search-init",timeout:2*_.yu.MINUTE,retry:1}),x=()=>(0,E.ZP)({url:"users/me/custom-templates-init",timeout:2*_.yu.MINUTE,retry:1}),M=({userChanges:e})=>(0,E.ZP)({url:"users/me",method:O.Is.PUT,timeout:11e3,retry:1,data:{userChanges:e}}).then((e=>e.data)),P=({email:e,password:t})=>(0,E.ZP)({url:"users/me/email",method:O.Is.PUT,timeout:11e3,retry:1,data:{email:e,password:t}}).then((e=>e.data)),L=()=>(0,E.ZP)({url:"users/me/refresh",timeout:11e3}),k=({userId:e,password:t})=>(0,E.ZP)({url:"users/me",method:"delete",data:{id:e,password:t},timeout:1e5}).then((e=>e.data)),F=e=>{const t={url:"users/activity",params:{ids:e.join(",")}};return(0,E.ZP)(t)},B=e=>async(t,n)=>{const r=n();if((0,I.ht)(r))return;const i=e.filter(C.PE);if(!i.length)return Promise.resolve();const a=d()(i,100),c=(0,v.M)(),u=(0,I.rc)(r);try{const e=await Promise.all(a.map(F)),n={};let r=!1;e.forEach((e=>{const t=f()(["data","users"],e)||{};for(const o in t){if(!t.hasOwnProperty(o))continue;const e=t[o]||{};e.selectedElementsSessionId!==c&&(n[o]=e,o!==u||s()(e.selectedElementIds)||(r=!0))}}));const d=l()(i,o()(n));return t((0,b.n4)({users:n,disconnectedUserIds:d})),r&&t((async(e,t)=>{var n;await(0,y.Z)(2e3);const r=t(),o=(0,I.rc)(r),i=await F([o]),a=f()(["data","users"],i)||{};!s()(null===(n=a[o])||void 0===n?void 0:n.selectedElementIds)||e((0,b.fH)(o))})),e}catch(m){return t((0,b.Nw)(i,m)),m}},j=()=>(e,t)=>{const n=t(),r=(0,w.ig)(n);return e(B(r))},z=()=>(e,t)=>{const n=t(),r=(0,w.X0)(n);if(r.length)return e(B(r))},U=(e,t=!1)=>(n,r)=>{const o=e.filter(C.PE);s()(o)||n((0,S.S)(R.P6.users,o,t)((async e=>{const t=d()(e,100),r=await Promise.all(t.map((e=>(n(B(e)),(0,E.ZP)({url:"users",params:{ids:e.join(",")},retry:3}))))),o=r.reduce(((e,t)=>{const n=(0,T.gz)(t);return e?Math.min(e,n):n}),void 0);let i={};return r.forEach((e=>{const t=f()(["data","users"],e)||{};i=m()(i,t)})),n((0,b.p_)(i)),{responses:r,asyncResource:{expiry:o}}})))};let H,Z=[];const G=(e=[])=>t=>{Z=Z.concat(e),H&&clearTimeout(H),H=setTimeout((()=>{t(U(Z)),Z=[]}),100)},K=({userEmail:e})=>(t,n)=>{if(!e)return Promise.reject(new Error("Must provide a user email."));const r=e.toLowerCase(),o=n().get("users").find((e=>e.get("email")===r));if(o)return Promise.resolve(o.toJS());const i={method:O.Is.GET,url:"users",params:{email:r}};return(0,E.ZP)(i).then((e=>{const n=e.data.user;if(n&&n._id)return t((0,b.II)(n)),n}))},W=({userEmail:e,initialEducation:t,onboarding:n})=>r=>{if(!e)return Promise.reject(new Error("Must provide a user email."));const o=e.toLowerCase(),i={method:O.Is.POST,url:"users/get-or-invite",data:{email:o,initialEducation:t,onboarding:n},retry:3};return(0,E.ZP)(i).then((e=>{const t=e.data.user;return r((0,b.II)(t)),t}))}},99489:(e,t,n)=>{"use strict";n.d(t,{B2:()=>s.B2,Gf:()=>a,Gg:()=>d,Qm:()=>c,S4:()=>l,YK:()=>m,nJ:()=>u,wX:()=>h,z2:()=>p});var r=n(43831),o=n(89030),i=n(70555),s=n(90252);const a=e=>e&&((0,i.Gf)(e)||(0,i.OD)(e))||"Someone",l=(e,t=":)")=>e&&(0,i.vz)(e)||t,c=e=>{const t=(0,i.vz)(e),n=(0,i.X0)(e);return t&&n?t[0]+n[0]:"•••"},d=e=>e&&(0,i.Dp)(e)===o.Nk.CONNECTED,u=e=>!e||(0,s.Ho)(e),m=e=>(0,r.P2)(["subscription","active"],e),p=(e,t)=>e&&t&&(0,r.vg)("_id",e)===(0,r.vg)("adminId",t),h=e=>(0,r.vg)("lastAccessDate",e)},63749:(e,t,n)=>{"use strict";n.d(t,{$:()=>s,R:()=>i});var r=n(78327),o=n(70555);const i=e=>e.get("users"),s=(0,r.y1)(i,(e=>e.reduce(((e,t)=>(e[(0,o.OD)(t)]=t,e)),{})))},45138:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(7923),o=n(23842);const i=({scrollableElement:e,targetRect:t,margins:n={},viewportOptions:i={},interpolationFactor:s=.3})=>{n.top=n.top||0,n.right=n.right||0,n.bottom=n.bottom||0,n.left=n.left||0;const a=(0,r.lG)(n,t),{scrollLeft:l,scrollTop:c}=(0,o.qV)({scrollableElement:e,targetRect:a,viewportOptions:i});return(({scrollableElement:e,fromScrollLeft:t,toScrollLeft:n,fromScrollTop:r,toScrollTop:o,interpolationFactor:i})=>{let s=null;const a=(t,n,r,o)=>{const l=n-t,c=o-r;if(Math.abs(l)<1&&Math.abs(c)<1)return e.scrollLeft=n,void(e.scrollTop=o);const d=t+i*l,u=r+i*c;e.scrollTop=u,e.scrollLeft=d,s=requestAnimationFrame((()=>a(d,n,u,o)))};return s=requestAnimationFrame((()=>a(t,n,r,o))),()=>{if(s)return cancelAnimationFrame(s)}})({scrollableElement:e,fromScrollLeft:e.scrollLeft,fromScrollTop:e.scrollTop,toScrollLeft:l,toScrollTop:c,interpolationFactor:s})}},67935:(e,t,n)=>{"use strict";n.d(t,{X0:()=>f,fB:()=>m,gp:()=>h,ig:()=>c,kz:()=>d});var r=n(78327),o=n(99489),i=n(43831),s=n(63749),a=n(80275),l=n(89030);const c=(0,r.y1)(s.R,(e=>e.keySeq().toArray())),d=(0,r.y1)(c,(e=>e.length>1)),u=e=>e.reduce(((e,t)=>{const n=t.get("currentBoardId");return n&&-1===e.indexOf(n)&&e.push(n),e}),[]),m=(0,r.y1)(s.R,u),p=(0,r.y1)(s.R,(e=>e.filter(o.Gg))),h=(0,r.y1)(p,u),g=(0,r.y1)(p,a.rc,((e,t)=>{const n=Date.now()-l.mP;return e.filter((e=>e.get("timestamp")<n&&t!==e.get("_id")))})),f=(0,r.y1)(g,i.pL)},23615:(e,t,n)=>{"use strict";n.d(t,{CU:()=>p,Ic:()=>h,Kb:()=>s,OF:()=>m,VY:()=>c,aX:()=>u,c3:()=>g,ed:()=>i,qx:()=>o});var r=n(43831);n(41013);const o=e=>`url(${e})`,i=e=>`${e}px`,s=e=>parseFloat(e.replace("px","")),a=e=>({x:(0,r.vg)("x",e),y:(0,r.vg)("y",e)}),l=e=>({transform:e,WebkitTransform:e}),c=(e,t="rad")=>l(`rotate(${e}${t})`),d=({x:e,y:t,suffix:n="px",transformAppend:r=""})=>l(`translate3d(${e}${n}, ${t}${n}, 0) ${r}`),u=(e,t)=>{if(!e)return t;const{x:n,y:r}=a(e);return d({x:n,y:r,transformAppend:t})},m=(e,t=1)=>{if(e)return d(Object.assign({},e,{transformAppend:`scale(${t})`}))},p=e=>e?`matrix3d(${e.toString()})`:null,h=e=>l(p(e)),g=e=>e?{transformOrigin:`${e.x}px ${e.y}px`}:null},94262:(e,t,n)=>{"use strict";n.d(t,{S:()=>o});const r=(e,t)=>e?`${new Intl.DisplayNames(t,{type:"currency"}).of(e)} (${e})`:"",o=e=>Intl.supportedValuesOf("currency").map((t=>({id:t,name:r(t,e)}))).sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:0))},12785:(e,t,n)=>{"use strict";n.d(t,{R:()=>f,Z:()=>b});var r=n(10910),o=n.n(r),i=n(63422),s=n.n(i),a=n(77606),l=n.n(a),c=n(67294),d=n(82628),u=n.n(d),m=n(81396),p=n(28719);function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let g=null;const f=e=>{if(!g)return e;if(g.type!==p.BV.IMAGE_LINK)return e;const t=Object.create(e);return t.getItemType=()=>g.type,t.getItem=()=>g,t},E=e=>parseInt(e,10)||0;class v extends c.Component{constructor(...e){super(...e),h(this,"onDrop",(e=>{const t=s()(["dataTransfer","types"],e)||[];if(l()(t))return;if(o()(m.F2.JSON,t))return;if(!o()(m.F2.HTML,t))return;if(o()(m.F2.FILES,t))return;const n=e.dataTransfer.getData(m.F2.HTML),r=(new DOMParser).parseFromString(n,m.F2.HTML);if(1!==s()(["body","childNodes","length"],r))return;const i=s()(["body","childNodes",0],r);if(!i||"IMG"!==i.tagName)return;if(!i.src)return;const a=i.src.toString(),c=a.match(u()()),d=c?e.dataTransfer.getData(m.F2.URI_LIST):a,h=(f=i,{width:E(s()(["style","width"],f)||f.width),height:E(s()(["style","height"],f)||f.height)});var f;g=Object.assign({type:p.BV.IMAGE_LINK,src:a,url:d,isDataUri:!!c},h),document.addEventListener("dragover",this.clearData,!0)})),h(this,"clearData",(()=>{g=null,document.removeEventListener("dragover",this.clearData,!0)}))}componentDidMount(){document.addEventListener("drop",this.onDrop,!0)}componentWillUnmount(){document.removeEventListener("drop",this.onDrop,!0)}render(){return null}}const b=v},48213:(e,t,n)=>{"use strict";n.d(t,{I:()=>o,Z:()=>i});var r=n(54142);const o=(e,t)=>({type:r.Ns,hoveredElementId:e,attachModeType:t}),i=e=>({type:r.ds,hoveredElementId:e})},54142:(e,t,n)=>{"use strict";n.d(t,{Ls:()=>o,Ns:()=>i,XZ:()=>a,ds:()=>s,rb:()=>r});const r={x:0,y:0},o={x:3,y:3},i="ATTACH_MODE_START",s="ATTACH_MODE_END",a={HOT_SPOT:"HOT_SPOT",LINE_EDGE:"LINE_EDGE"}},28719:(e,t,n)=>{"use strict";n.d(t,{$V:()=>M,BV:()=>y,EM:()=>N,Kd:()=>O,Kz:()=>C,OG:()=>P,OQ:()=>k,Qv:()=>R,Z6:()=>L,g2:()=>x,gQ:()=>D,l:()=>T,mJ:()=>I,nI:()=>S,zM:()=>_,zh:()=>A});var r=n(81629),o=n.n(r),i=n(97527),s=n.n(i),a=n(73540),l=n.n(a),c=n(73935),d=n(42166),u=n(43393),m=n(8698),p=n(60658),h=n(40565),g=n(25841),f=n(22453),E=n(97245),v=n(75188),b=n(59551);const y={IMAGE_LINK:"_image_link_"},I=[d.FILE,d.URL,d.TEXT],C={ELEMENT:"element",LINE:"line",NATIVE:"native"},S=(e,t)=>{const n=c.findDOMNode(t),r=e.getDropResult();return r&&r.handledBy&&n.contains(r.handledBy)},T=({gridSize:e})=>h.F8(f.B*e/2,f.B*e/2),w=T,O=({initialSourceClientOffset:e,initialClientOffset:t})=>h.e5(e,t),_=l()([[({item:e})=>e.fromList&&(0,m.KX)(e.element),w],[s(),O]]),R=({clientOffset:e,sourceClientOffset:t})=>h.e5(t,e),A=e=>(t,n,r,o,i,s)=>{const{isEditable:a,createShortcutCard:l,currentBoardId:d}=t;if(!a)return;const{text:u}=n.getItem();l({location:e(t,n,r),text:u,currentBoardId:d});return{handledBy:s||c.findDOMNode(r)}},D=e=>(t,n,r,o,i,s)=>{const{isEditable:a,createShortcutFile:l,currentBoardId:d}=t;if(!a)return;const{files:u}=n.getItem();u.forEach(((o,i)=>{const s=e(t,n,r,i);l({location:s,file:o,currentBoardId:d,creationSource:E.S1.DROPPED_ONTO_WINDOW}).catch((e=>e.type===g.Z.type?null:Promise.reject(e)))}));return{handledBy:s||c.findDOMNode(r)}},N=e=>(t,n,r,o,i,s)=>{const{isEditable:a,createShortcutLink:l,currentBoardId:d,deselectAll:u}=t;if(!a)return;const{urls:m}=n.getItem();m.forEach(((o,i)=>{const s=e(t,n,r,i);l({location:s,url:o,currentBoardId:d,creationSource:E.S1.DROPPED_ONTO_WINDOW}).then(u)}));return{handledBy:s||c.findDOMNode(r)}},x=e=>(t,n,r,o,i,s)=>{const{isEditable:a,createShortcutImageLink:l,currentBoardId:d}=t;if(!a)return;const{url:u,src:m,width:p,height:h,isDataUri:g}=n.getItem();l({location:e(t,n,r),currentBoardId:d,src:m,url:u,width:p,height:h,isDataUri:g});return{handledBy:s||c.findDOMNode(r)}},M=(e,t)=>(n,r,o,i,s,a)=>{const{getContextZoomScale:l=(()=>1)}=n,d=a||c.findDOMNode(o);return{location:e(n,r,o),dropState:t?t(n,r,o):void 0,handledBy:d,dropTargetElement:(null==n?void 0:n.element)||(null==n?void 0:n.currentBoard),acceptedElementIds:i,transactionId:s,zoomScaleOnDropTarget:l(),clientOffset:null==r?void 0:r.getClientOffset()}},P=e=>(t,n,r)=>{const{createTaskList:i,dispatchHideElement:s,dispatchRevealElement:a}=t,{draggedElementIds:l}=n.getItem(),d=c.findDOMNode(r),u=e(t,n,r),{taskListElementId:m,transactionId:h}=i({location:u,content:{[v.SZ]:!1}});s({elementId:m}),o()((()=>a({elementId:m})));return M((()=>(0,p.mK)({listId:m})))(t,n,r,l,h,d)},L=e=>(t,n,r)=>{const{dispatchMoveElementsToTrash:o,currentBoardId:i}=t,{draggedElementIds:s,draggedElements:a}=n.getItem(),l=o({elements:u.List(a),currentBoardId:i});return M(e)(t,n,r,s,l)},k=e=>{switch(e){case E.XX:return C.ELEMENT;case b.Sf:case b.Vk:return C.LINE;case d.FILE:case d.TEXT:case d.URL:return C.NATIVE;default:return null}}},80903:(e,t,n)=>{"use strict";n.d(t,{Cf:()=>i,Mb:()=>r,nl:()=>o});const r="DRAG_MODIFIER_KEYS_SET",o={ctrlKey:"ctrlKey",shiftKey:"shiftKey",altKey:"altKey",metaKey:"metaKey"},i=Object.keys(o)},8737:(e,t,n)=>{"use strict";n.d(t,{U:()=>r});const r=e=>e.getIn(["app","dragModifierKeys"])},4426:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=e=>{const t=n=>n&&n!==window?e(n)?n:t(n.parentNode):null;return t}},11154:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const r=e=>{if(!(e&&e instanceof Element))return!1;const t=window.getComputedStyle(e);return!!t&&("auto"===t.overflow||"scroll"===t.overflow||"auto"===t["overflow-y"]||"scroll"===t["overflow-y"]||"auto"===t["overflow-x"]||"scroll"===t["overflow-x"])},o=(0,n(4426).Z)(r)},31282:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=e=>{const t=[];let n=e;for(;n;)t.push(n),n=n.parentElement;return t}},85625:(e,t,n)=>{"use strict";n.d(t,{R:()=>i,b:()=>s});const{hiddenPropName:r,visibilityChangeEventName:o}=void 0!==document.msHidden?{hiddenPropName:"msHidden",visibilityChangeEventName:"msvisibilitychange"}:void 0!==document.webkitHidden?{hiddenPropName:"webkitHidden",visibilityChangeEventName:"webkitvisibilitychange"}:{hiddenPropName:"hidden",visibilityChangeEventName:"visibilitychange"},i=o,s=()=>!document[r]},23842:(e,t,n)=>{"use strict";n.d(t,{Og:()=>C,UJ:()=>E,du:()=>I,ns:()=>a,qV:()=>y,t_:()=>s});var r=n(42981),o=n.n(r),i=n(7923);const s=(e,{excludeScrollbars:t=!0,insetMargins:n}={})=>{const r=e;if(!r)return null;const o=r.getBoundingClientRect(),{top:i=0,right:s=0,bottom:a=0,left:l=0}=n||{},c=t&&r.offsetWidth-r.clientWidth||0,d=t&&r.offsetHeight-r.clientHeight||0,u=o.width-c-l-s,m=o.height-d-i-a;return{x:r.scrollLeft,y:r.scrollTop,top:r.scrollTop+i,left:r.scrollLeft+l,bottom:r.scrollTop+i+m,right:r.scrollLeft+l+u,width:u,height:m}},a=(e,t)=>{const n=e.getBoundingClientRect(),r={x:e.scrollLeft-n.left,y:e.scrollTop-n.top};return i.Iu(r,t)},l=e=>e.scrollWidth!==e.clientWidth,c=e=>e.scrollHeight!==e.clientHeight,d=e=>({viewportRect:t,targetRect:n})=>n[e]-t[e],u=d("left"),m=d("right"),p=d("top"),h=d("bottom"),g=({viewportRect:e,targetRect:t})=>(({viewportRect:e,targetRect:t})=>e.left>t.left)({viewportRect:e,targetRect:t})||(({viewportRect:e,targetRect:t})=>e.right<t.right)({viewportRect:e,targetRect:t})&&!(({viewportRect:e,targetRect:t})=>0===u({viewportRect:e,targetRect:t}))({viewportRect:e,targetRect:t}),f=({viewportRect:e,targetRect:t})=>(({viewportRect:e,targetRect:t})=>e.top>t.top)({viewportRect:e,targetRect:t})||(({viewportRect:e,targetRect:t})=>e.bottom<t.bottom)({viewportRect:e,targetRect:t})&&!(({viewportRect:e,targetRect:t})=>0===p({viewportRect:e,targetRect:t}))({viewportRect:e,targetRect:t}),E=(e,t,n)=>{const r=s(e,n);return l(e)&&g({viewportRect:r,targetRect:t})||c(e)&&f({viewportRect:r,targetRect:t})},v=({scrollableElement:e,viewportRect:t,targetRect:n})=>{const r=o()((e=>-e.scrollLeft)(e),(e=>e.scrollWidth-e.scrollLeft)(e)),i=u({viewportRect:t,targetRect:n}),s=m({viewportRect:t,targetRect:n});if(i>=0&&s<=0)return e.scrollLeft;const a=r(Math.min(i,i<0?1/0:s));return e.scrollLeft+a},b=({scrollableElement:e,viewportRect:t,targetRect:n})=>{const r=o()((e=>-e.scrollTop)(e),(e=>e.scrollHeight-e.scrollTop)(e)),i=p({viewportRect:t,targetRect:n}),s=h({viewportRect:t,targetRect:n});if(i>=0&&s<=0)return e.scrollTop;const a=r(Math.min(i,i<0?1/0:s));return e.scrollTop+a},y=({scrollableElement:e,targetRect:t,viewportOptions:n})=>{const r=s(e,n);return{scrollLeft:v({scrollableElement:e,viewportRect:r,targetRect:t}),scrollTop:b({scrollableElement:e,viewportRect:r,targetRect:t})}},I=e=>e?{x:e.scrollLeft,y:e.scrollTop}:{x:0,y:0},C=e=>{e&&c(e)&&(e.scrollTop=e.scrollHeight-e.clientHeight)}},86139:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(23493),o=n.n(r),i=n(67294);const s=()=>[window.innerWidth,window.innerHeight],a=(e=100)=>{const[t,n]=(0,i.useState)(s),r=o()((()=>{n(s())}),e);return(0,i.useEffect)((()=>(r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)})),[]),t}},47894:(e,t,n)=>{"use strict";n.d(t,{I7:()=>i,Id:()=>o,ah:()=>r});const r={HTML:"HTML",DIV:"DIV",SPAN:"SPAN"},o={MOUSE:"mouse",PEN:"pen",TOUCH:"touch"},i={DIRECT:"direct",STYLUS:"stylus"}},39702:(e,t,n)=>{"use strict";n.d(t,{Id:()=>p,MS:()=>T,Mf:()=>I,PA:()=>E,Sk:()=>c,Xt:()=>u,_l:()=>l,bM:()=>d,bU:()=>b,c:()=>m,en:()=>y,fM:()=>a,gp:()=>s,hE:()=>g,j3:()=>h,jb:()=>f,mT:()=>v,ut:()=>S});var r=n(7923),o=n(61473),i=n(40565);const s=()=>window.innerHeight||document.documentElement.clientHeight,a=()=>window.innerWidth||document.documentElement.clientWidth,l=()=>{var e,t;return{x:Math.max(null===(e=n.g.visualViewport)||void 0===e?void 0:e.offsetLeft,0),y:Math.max(null===(t=n.g.visualViewport)||void 0===t?void 0:t.offsetTop,0)}},c=e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=s()&&t.right<=a()},d=e=>{if(!e)return null;const t=l();return i.Iu(e,t)},u=(e,t)=>{if(!e||!t)return;const n=t.getBoundingClientRect();return{x:e.x-n.left,y:e.y-n.top}},m=e=>2===e.button,p=e=>0===e.button,h=e=>e.preventDefault(),g=e=>e.stopPropagation(),f=e=>{e&&(e.preventDefault(),e.stopPropagation())},E=e=>{e.setSelectionRange(e.value.length,e.value.length)},v=e=>{e.setSelectionRange(0,e.value.length)},b=e=>{e.focus(),v(e),document.execCommand("copy")},y=e=>{e.target.focus(),v(e.target)},I=()=>window.getSelection?window.getSelection():document.getSelection?document.getSelection():document.selection?document.selection.createRange().text:void 0,C=e=>{if(null===e||!(e instanceof HTMLElement))return null;const{overflowY:t}=getComputedStyle(e);return"visible"!==t&&"hidden"!==t&&e.scrollHeight>e.clientHeight?e:C(e.parentNode)},S=e=>{if(!e)return new DOMRect;const t=e.getBoundingClientRect(),n=C(e),o=n&&n.getBoundingClientRect&&n.getBoundingClientRect();if(!n)return t;const{x:i,y:s,width:a,height:l}=(0,r.TX)(t,o);return new DOMRect(i,s,a,l)},T=e=>{const t=document.getElementById((0,o.Oc)(e));return t?t.getBoundingClientRect():null}},79049:(e,t,n)=>{"use strict";n.d(t,{Ir:()=>a,TX:()=>c,eE:()=>m,eV:()=>u,o8:()=>d,oN:()=>l});var r=n(63422),o=n.n(r),i=n(43831),s=n(23865);const a=e=>e.response?Object.assign({id:e.id,url:e.url},e.response):{id:e.id,url:e.url,message:e.message,code:e.code},l=(o()(["message"]),o()(["response","data","error","message"])),c=o()(["response","data","error","inner","displayMessage"]),d=o()(["response","data","error","name"]),u=o()(["response","status"]),m=e=>(0,i.vg)("code",e)===s.uL.TIMEOUT||(0,i.vg)("code",e)===s.uL.CONNECTION_LOST||(0,i.vg)("message",e)===s.RZ.NETWORK_ERROR},59856:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});var r=n(39702);const o=(e,t={x:0,y:0})=>{window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.milanoteDownloader&&window.webkit.messageHandlers.milanoteDownloader.postMessage({domPath:e,offset:t})};window.getElementBoundingRect=r.ut},59161:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(88306);const o=n.n(r)()((()=>{if("undefined"!=typeof window)return window.__clientconf||{};if(void 0!==n.g)return n.g.__clientconf||{};throw new Error("Could not load client config from window or global")}))},53360:(e,t,n)=>{"use strict";n.d(t,{Vv:()=>s,_3:()=>a,fQ:()=>l});var r=n(48791),o=n(50335),i=n(41013);const s=(e,t)=>({type:i.Yc,gridSize:e,sizeName:t}),a=()=>(e,t)=>{const{size:n,name:a}=(e=>{switch(e){case i.HR.LARGE.name:return i.HR.MEDIUM;case i.HR.MEDIUM.name:return i.HR.SMALL;case i.HR.SMALL.name:case i.HR.MOBILE.name:default:return(0,o.HW)()?i.HR.MOBILE:i.HR.SMALL}})((0,r.Og)(t()));e(s(n,a))},l=()=>(e,t)=>{const{size:n,name:o}=(e=>{switch(e){case i.HR.MOBILE.name:return i.HR.SMALL;case i.HR.SMALL.name:return i.HR.MEDIUM;case i.HR.MEDIUM.name:case i.HR.LARGE.name:default:return i.HR.LARGE}})((0,r.Og)(t()));e(s(n,o))}},41013:(e,t,n)=>{"use strict";n.d(t,{HR:()=>r,I4:()=>o,Yc:()=>s,Zf:()=>i});const r={MOBILE:{size:10,breakpoint:0,name:"mobile"},SMALL:{size:8,breakpoint:600,name:"small"},MEDIUM:{size:9,breakpoint:1300,name:"medium"},LARGE:{size:10,breakpoint:1900,name:"large"}},o=[{size:10,breakpoint:0,name:"mobile"},{size:8,breakpoint:600,name:"small"},{size:9,breakpoint:1300,name:"medium"},{size:10,breakpoint:1900,name:"large"}],i=[{size:10,breakpoint:0,name:"mobile"},{size:8,breakpoint:1e3,name:"small"},{size:9,breakpoint:1190,name:"medium"},{size:10,breakpoint:1200,name:"large"}],s="GRID_RESIZE"},48791:(e,t,n)=>{"use strict";n.d(t,{FP:()=>i,Og:()=>s,UK:()=>l,ZP:()=>c,jE:()=>a,lT:()=>o});var r=n(41013);const o=e=>e.getIn(["app","gridSize","size"]),i=(e,t)=>t&&t.gridSize||e.getIn(["app","gridSize","size"]),s=e=>e.getIn(["app","gridSize","name"]),a=e=>({gridSize:i(e)}),l=e=>s(e)===r.HR.MOBILE.name,c=i},57110:(e,t,n)=>{"use strict";n.d(t,{_:()=>s,c:()=>i});var r=n(69e3);const o="milanote.gridSize",i=()=>r.Z.getItem(o),s=e=>r.Z.setItem(o,e)},9300:(e,t,n)=>{"use strict";n.d(t,{Nr:()=>g,OA:()=>d,RK:()=>f,Rk:()=>s,Rl:()=>a,W9:()=>m,Zk:()=>E,bS:()=>h,cb:()=>p,qr:()=>v,to:()=>c,wh:()=>l,wq:()=>b});var r=n(40565),o=n(57110),i=n(41013);const s=(e,t)=>Math.round(e/t),a=(e,t)=>Math.ceil(e/t),l=(e,t)=>e*t,c=(e,t)=>l(s(e,t),t),d=(e,t)=>l(a(e,t),t),u=(e,t)=>t.reduce(((t,n)=>n.breakpoint>=e?t:n),t[0]),m=(e,t,n)=>n?u(Math.max(e,t),i.Zf):u(e,i.I4),p=e=>`app-size-${e}`,h=(e,t,n)=>({width:n?"auto":l(e,t)-2}),g=(e,t)=>r.NM(r.bA(1/t,e)),f=(e,t)=>t/i.HR.LARGE.size*e,E=(e,t)=>i.HR.LARGE.size/t*e,v=()=>{const e=(0,o.c)();return i.I4.find((({name:t})=>t===e))},b=e=>e===i.HR.SMALL.size},17173:(e,t,n)=>{"use strict";n.d(t,{Kl:()=>c,gL:()=>a,z9:()=>l});var r=n(39702),o=n(85263);const i="fake-element-create-input",s=`${i} mousetrap`,a=(e,t,n=!1)=>{if(!(0,o.T)())return;if(!t||!e)return;let r=document.getElementById(i);r||(r=document.createElement("input"),r.setAttribute("id",i),r.setAttribute("class",s),r.setAttribute("type","text")),r.parentElement!==t&&t.appendChild(r),r.style.left=`${e.x}px`,r.style.top=`${e.y}px`,r.readOnly=n,r.focus(),n||requestAnimationFrame((()=>{r=document.getElementById(i),r&&(r.readOnly=!0)}))},l=(e,t)=>{if(!e||!t)return null;const n=t.getBoundingClientRect(),o=(0,r._l)();return{x:e.x+t.scrollLeft-n.left-o.x,y:e.y+t.scrollTop-n.top-o.y}},c=(e,t=!1)=>{if(!(0,o.T)())return;if(!e)return;const n=e.currentTarget,r=l({x:e.pageX,y:e.pageY},n);return a(r,n,t)}},57007:(e,t,n)=>{"use strict";n.d(t,{LI:()=>s,MO:()=>i,e6:()=>r,td:()=>o});const r=e=>{if(e)if(e.focus(),void 0!==window.getSelection&&void 0!==document.createRange){const t=document.createRange();t.selectNodeContents(e),t.collapse(!1);const n=window.getSelection();n.removeAllRanges(),n.addRange(t)}else if(void 0!==document.body.createTextRange){const t=document.body.createTextRange();t.moveToElementText(e),t.collapse(!1),t.select()}},o=e=>{if(e)if(e.focus(),void 0!==window.getSelection&&void 0!==document.createRange){const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n.removeAllRanges(),n.addRange(t)}else if(void 0!==document.body.createTextRange){const t=document.body.createTextRange();t.moveToElementText(e),t.select()}},i=()=>{window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},s=()=>window.getSelection().isCollapsed},40253:(e,t,n)=>{"use strict";n.d(t,{XS:()=>o,nx:()=>r,tW:()=>i});const r={BACKSPACE:8,DELETE:46,TAB:9,SHIFT:16,ENTER:13,CTRL:17,ALT:18,CAPS:20,ESC:27,SPACEBAR:32,CMD_LEFT:91,CMD_RIGHT:93,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,ACCENT:192,DASH:189,FORWARD_SLASH:191,BACK_SLASH:220,OPEN_BRACKET:219,CLOSE_BRACKET:221,SEMICOLON:186,SINGLE_QUOTE:222,COMMA:188,PERIOD:190,CLEAR:12,MULTIPLY:106,ADD:107,SUBTRACT:109,DECIMAL_POINT:110,DIVIDE:111,EQUAL:187,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130},o=[r.BACKSPACE,r.DELETE,r.TAB,r.SHIFT,r.ENTER,r.CTRL,r.ALT,r.CAPS,r.ESC,r.SPACEBAR,r.CMD_LEFT,r.CMD_RIGHT,r.PAGE_UP,r.PAGE_DOWN,r.END,r.HOME,r.LEFT_ARROW,r.UP_ARROW,r.RIGHT_ARROW,r.DOWN_ARROW],i={BACKSPACE:"Backspace"}},51752:(e,t,n)=>{"use strict";n.d(t,{$u:()=>m,Up:()=>a,_W:()=>l,gq:()=>h,jv:()=>p,lk:()=>d,nY:()=>c,p9:()=>u});var r=n(43831),o=n(85263),i=n(80903),s=n(40253);const a=e=>!!(0,r.vg)(i.nl.ctrlKey,e),l=a,c=e=>!!(0,r.vg)(i.nl.altKey,e),d=e=>o.mL?!!(0,r.vg)(i.nl.metaKey,e):a(e),u=e=>e&&(0,r.vg)(i.nl.shiftKey,e),m=e=>o.mL?e.keyCode===s.nx.CMD_LEFT||e.keyCode===s.nx.CMD_RIGHT:e.keyCode===s.nx.CTRL,p=e=>e.keyCode===s.nx.BACKSPACE||e.keyCode===s.nx.DELETE,h=e=>e.keyCode===s.nx.LEFT_ARROW||e.keyCode===s.nx.UP_ARROW||e.keyCode===s.nx.RIGHT_ARROW||e.keyCode===s.nx.DOWN_ARROW},66284:(e,t,n)=>{"use strict";n.d(t,{E:()=>i});var r=n(85263),o=n(40565);const i=e=>(0,o.NN)(r.jj?.5:1,e)},99699:(e,t,n)=>{"use strict";n.d(t,{C:()=>r});const r=(e,t=1)=>{const n=Object.keys(e);return n.length<=t?e:n.slice(n.length-t,n.length).reduce(((t,n)=>Object.assign({},t,{[n]:e[n]})),{})}},27461:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(57557),o=n.n(r),i=n(54688);const s=((e,t,n=!0,r=!1)=>e)((e=>(0,i.BY)(((t,n)=>!(0,i.wU)(o()(n,e),o()(t,e))))),"dontUpdateForKeys")},78327:(e,t,n)=>{"use strict";n.d(t,{T1:()=>u,hH:()=>m,mR:()=>p,y1:()=>d});var r=n(25387),o=n.n(r),i=n(43393),s=n(54688),a=n(22222);const l=(e,t)=>{const n=e.length;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0},c=(e,t=l,n=s.wU)=>{let r=null,o=null;return function(){if(((e,t,n)=>null!==t&&null!==n&&t.length===n.length&&(t===n||e(t,n)))(t,r,arguments))return o;r=arguments;const s=e.apply(null,arguments);if(s===o)return o;if(!s)return o=s,o;let a=!1;return a=s.hashCode?i.is(s,o):n(o,s),a||(o=s),o}},d=(0,a.wN)(c),u=e=>(0,a.wN)(c,e),m=(0,a.wN)(c,l,o()),p=e=>(0,a.wN)(c,e,o())},91040:(e,t,n)=>{"use strict";n.d(t,{E8:()=>te,Eu:()=>J,Ft:()=>j,G7:()=>$,Hq:()=>B,Ie:()=>x,Jv:()=>W,QN:()=>Z,UK:()=>P,XE:()=>ie,ZP:()=>N,_u:()=>H,a8:()=>V,cQ:()=>ee,cv:()=>Q,ft:()=>z,k1:()=>F,kw:()=>A,l:()=>Y,mr:()=>X,p9:()=>L,rt:()=>oe,tM:()=>re,wA:()=>k,xm:()=>ne});var r=n(63422),o=n.n(r),i=n(98980),s=n.n(i),a=n(22222),l=n(47915),c=n(11111),d=n(78327),u=n(81410),m=n(80275),p=n(495),h=n(63749),g=n(43831),f=n(30840),E=n(70555),v=n(83547),b=n(68071),y=n(87393),I=n(81897),C=n(79900),S=n(75763),T=n(52432),w=n(52781),O=n(36309),_=n(90624),R=n(34595);const A=(0,a.P1)(I.ZG,u.nv,((e,t)=>(0,p.QZ)(e,t))),D=(0,a.P1)(I.ZG,(e=>e.some((e=>!!e&&!(0,c.ph)(e))))),N=(0,a.P1)(A,D,((e,t)=>e&&t)),x=(0,a.P1)(I.ZG,u.nv,C.XW,f.Yj),M=(0,a.P1)(I.ZG,u.nv,f.FL),P=e=>{const t=x(e),n=(0,_.li)(e)&&(0,_.fu)(e);if((0,T.IT)(t))return t;if(!(0,b.Z$)()&&(0,l.$)())return t&O.Jo.READ_ONLY;if((0,m.ht)(e))return t&O.Jo.READ_ONLY;if(n&&(0,b.uT)()===R.Q.IOS_CANVAS)return t;if(n)return t&O.Jo.READ_ONLY;if(!(0,w.Yf)(e))return t;const r=(e=>M(e).feedbackEnabled)(e);return r?O.Jo.READ_AND_FEEDBACK:O.Jo.READ_ONLY},L=(0,a.P1)(I.ZG,u.s4,m.rc,f.Yj),k=(0,a.P1)(I.ZG,u.nv,C.XW,((e,t,n)=>(0,f.Em)(e,t,n,O.Ou.READ))),F=(0,a.P1)(I.ZG,u.nv,p.U_),B=(0,a.P1)(I.ZG,u.Vn,C.XW,((e,t,n)=>{if(t)return(0,f.Yj)(e,t,n)})),j=(0,d.hH)(I.ZG,u.s4,f.Ol),z=()=>(0,a.P1)(v.$,((e,t)=>(0,S.nRF)(t.element)||t.elementId),C.XW,f.Yj),U=e=>(0,a.P1)(I.ZG,u.nv,C.XW,e),H=(U(f.Od),U(f.Up),(0,I.R4)(S.rwk)),Z=(0,I.R4)((e=>(0,S.yAS)(e)||(0,f.PW)(e))),G=(0,I.R4)(S.yL2),K=(0,I.R4)(S.rJG),W=(0,a.P1)(N,H,((e,t)=>e&&!!t)),V=(0,a.P1)(N,Z,((e,t)=>e&&!!t)),$=(0,a.P1)(N,K,((e,t)=>e&&!!t)),q=(0,a.P1)(N,G,((e,t)=>e&&!!t)),Y=(0,a.P1)(P,q,((e,t)=>!(t&&((0,T.G6)(e)||(0,T.os)(e))))),X=e=>{const t=(0,u.nv)(e),n=L(e);if(!(0,T.gH)(n))return(0,C.b1)()(e,{elementId:t});return W(e)?(0,C.Yj)(e,{elementId:t}):null},Q=e=>{const t=(0,u.nv)(e);return(0,C.g7)(e,{elementId:t})},J=((0,a.P1)(j,s()),(0,d.y1)(j,f.pT)),ee=(0,d.y1)(j,f.Vd),te=(0,d.y1)(J,h.R,g.yS),ne=(0,d.y1)(te,(e=>e.filter(E.AC))),re=(0,a.P1)(j,(e=>{const t=Object.values(e);return(0,g.kE)(t.filter((e=>(0,T.YC)(o()("permission",e)))))>1})),oe=((0,a.P1)(j,W,((e,t)=>{if(t)return!0;const n=Object.values(e);return(0,g.kE)(n.filter((e=>(0,T.up)(o()("permission",e)))))>1})),(e,t)=>{const n=t.element?(0,S.G8z)(t.element):t.elementId,r={elementId:n},o=(0,y.FE)();return(0,a.P1)((e=>o(e,r)),C.XW,((e,t)=>(0,f.Em)(e,n,t,O.Ou.READ)))}),ie=(0,a.P1)(W,V,I.Mm,C.P,C.Mb,C.aA,((e,t,n,r,o,i)=>{const s=e&&n.find((e=>null==r?void 0:r.get(e)));if(s)return r.get(s);const a=t&&n.find((e=>null==o?void 0:o.get(e)));if(a)return o.get(a);if(!t&&!e)return null;const l=n.find((e=>null==i?void 0:i.get(e)));return l?i.get(l):null}))},96181:(e,t,n)=>{"use strict";n.d(t,{oV:()=>A,up:()=>F,pg:()=>P,$P:()=>M,QQ:()=>B,LR:()=>j,xP:()=>k,Gj:()=>x,XV:()=>D});var r=n(23905),o=n.n(r),i=n(4835),s=n.n(i),a=n(44236),l=n.n(a),c=n(46489),d=n.n(c),u=n(45685),m=n(43831),p=n(52432),h=n(25507),g=n(79900),f=n(91040),E=n(81410),v=n(77606),b=n.n(v),y=n(68738),I=n.n(y),C=n(63422),S=n.n(C),T=n(20354);var w=n(75763),O=n(69753),_=n(29176),R=n(14927);const A=({permissionId:e,boardId:t})=>({type:O.Sw,permissionId:e,boardId:t}),D=e=>{const{token:t}=e,n=t?d()(t):{};return Object.assign({type:O.B_},n,e)},N=({permissionId:e,elementId:t})=>async(n,r)=>{const o=r(),i=(0,g.f6)(o);if(i&&i.includes(e))return;n({type:_.lQ,resource:_.P6.boards,ids:[t]});const s=await(({permissionId:e,elementId:t})=>(0,u.dJ)({url:`permissions/token/${e}`,params:{elementId:t}}).then(S()("data")).catch((e=>{throw(0,T.vl)({errorMessage:"Unable to retrieve permissions",error:e,sensitive:!1}),e})))({permissionId:e,elementId:t}).catch((e=>null));return s?(n(D(s)),s):void 0},x=({elementId:e,permissionIdOverride:t})=>async(n,r)=>{const o=r(),i=t||(0,g.b1)()(o,{elementId:e});if(!i)return;await n(N({permissionId:i,elementId:e}));const s=r();return(0,g.Bx)(s,{permissionId:i})},M=({permissionIds:e,elementIds:t})=>async(n,r)=>{const o=r(),i=(0,g.SW)(o,{permissionIds:e});if((0,m.xb)(i))return;const s=await(async({permissionIds:e,elementIds:t})=>{if(b()(e))return null;const n=I()(e)?e:e.join(","),r=I()(t)?t:t.join(",");return(0,u.dJ)({url:"permissions/token/",params:{ids:n,elementIds:r}}).then(S()("data")).catch((e=>{throw(0,T.vl)({errorMessage:"Unable to retrieve permissions",error:e,sensitive:!1}),e}))})({permissionIds:i,elementIds:t}).catch((e=>null));return s?(n(D(s)),s):void 0},P=({permissionIds:e,permissionIdToElementIdsMap:t})=>(n,r)=>{if((0,m.xb)(e))return;const i=o()(20,e);return Promise.all(i.map((e=>{const r=e.reduce(((e,n)=>e.concat(t[n])),[]).slice(0,20);return n(M({permissionIds:e,elementIds:r}))})))},L="NO_TOKEN",k=({elementIds:e,permissionIdsOverride:t})=>async(n,r)=>{const o=r(),i=t||(0,g.tf)(o,{elementIds:e}),a=e.reduce(((e,t,n)=>{const r=i[n]||L;return e[r]=e[r]||[],e[r].push(t),e}),{}),c=l()(s()(i));await n(P({permissionIds:c,permissionIdToElementIdsMap:a}));const d=r(),u=(0,g.TC)(d,{permissionIds:c}).reduce(((e,t,n)=>{const r=c[n];e[t]=e[t]||{token:t,elementIds:[]};const o=a[r];return e[t].elementIds=e[t].elementIds.concat(o),e}),{}),m=Object.values(u),p=a[L];return p&&m.push({token:null,elementIds:p}),m},F=({permissions:e})=>({type:O.Pr,permissions:e}),B=({boardId:e})=>async t=>t((0,h.S)(_.P6.boardPermissions,e)((async()=>{const n=await t(x({elementId:e})),r=await(0,u.dJ)({url:`permissions/board/${e}`,headers:{[R.$7.PERMISSION_TOKENS]:n}}),{permissions:o}=r.data;return t(F({permissions:o}))}))),j=()=>async(e,t)=>{const n=t(),r=(0,f.UK)(n);if(!(0,p.gH)(r))return;const o=[],i=(0,E.tQ)(n);(0,w.hN)(i)&&o.push((0,w.nRF)(i));const s=(0,f.QN)(n);s&&o.push((0,w.nRF)(s));const a=(0,f._u)(n);return a&&o.push((0,w.nRF)(a)),(0,m.xb)(o)?void 0:o.forEach((t=>e(B({boardId:t}))))}},69753:(e,t,n)=>{"use strict";n.d(t,{B_:()=>r,Pr:()=>i,Sw:()=>o});const r="PERMISSION_TOKEN_SET",o="PERMISSION_ID_ASSOCIATE_TO_BOARD",i="BOARD_PERMISSION_LOAD"},79900:(e,t,n)=>{"use strict";n.d(t,{Bx:()=>C,Mb:()=>b,P:()=>v,SW:()=>_,TC:()=>S,XW:()=>I,Yj:()=>R,aA:()=>E,b1:()=>w,dy:()=>y,f6:()=>f,g7:()=>A,ll:()=>D,tf:()=>O});var r=n(17351),o=n.n(r),i=n(22222),s=n(43831),a=n(78327),l=n(495),c=n(75763),d=n(83547),u=n(87393),m=n(81410),p=n(87430),h=n(80275),g=n(89030);const f=e=>e.getIn(["permissions","permissionIds"]),E=e=>e.getIn(["permissions","boardIdPermissionIdMap"]),v=e=>e.getIn(["permissions","boardIdEditPermissionIdMap"]),b=e=>e.getIn(["permissions","boardIdPublishPermissionIdMap"]),y=e=>e.getIn(["permissions","tokens"]),I=(0,a.y1)(h.ht,h.rc,(e=>e.getIn(["permissions","aclIds"])),((e,t,n)=>e?[...n.toArray(),g.CJ]:[t,...n.toArray(),g.CJ])),C=(e,{permissionId:t})=>{const n=e.getIn(["permissions","permissionIdTokenIndexMap",t]);return e.getIn(["permissions","tokens",n])},S=(e,{permissionIds:t})=>t.map((t=>C(e,{permissionId:t}))),T=({ancestorIds:e,boardIdPermissionIdMap:t})=>{if(!e||!t)return null;for(const n of e){const e=(0,s.vg)(n,t);if(e)return e}return null},w=()=>(0,i.P1)(((e,{elementId:t})=>t),m.nv,p.en,E,(0,u.mh)(),((e,t,n,r,o)=>n&&t===e?n:r&&r.get(e)?r.get(e):n&&o&&o.includes(t)?n:T({ancestorIds:o,boardIdPermissionIdMap:r}))),O=(e,{elementIds:t})=>t.map((t=>w()(e,{elementId:t}))),_=(e,{permissionIds:t})=>{const n=f(e).toArray();return o()(t,n)},R=(0,i.P1)(d.$,v,((e,t)=>t.elementId),((e,t,n)=>{const r=(0,l.uV)(e,n).filter(c.rwk).map(c.nRF);return T({ancestorIds:r,boardIdPermissionIdMap:t})})),A=(0,i.P1)(d.$,b,((e,t)=>t.elementId),((e,t,n)=>{const r=(0,l.uV)(e,n).filter(c.yAS).map(c.nRF);return T({ancestorIds:r,boardIdPermissionIdMap:t})})),D=(0,i.P1)(d.$,b,((e,t)=>t.elementId),((e,t,n)=>{const r=(0,l.uV)(e,n).map(c.nRF);return T({ancestorIds:r,boardIdPermissionIdMap:t})}))},95372:(e,t,n)=>{"use strict";n.d(t,{k:()=>s});var r=n(56426),o=n(68071),i=n(89030);const s=()=>(0,o.Z$)()?i.VT.APP:(0,o.ZS)()?i.VT.IPAD:(0,o.YF)()?i.VT.IPHONE:(0,o.CN)()?i.VT.ANDROID:(0,r.z)()?i.VT.PWA:i.VT.WEB},39383:()=>{Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{value(e,t){const n=t||this;if(null===n)throw new TypeError("Array.prototype.flatMap called on null or undefined");if("function"!=typeof e)throw new TypeError(`${e} is not a function`);let r=[];const o=Object(n),i=o.length>>>0;for(let s=0;s<i;++s)if(s in o){const t=e.call(n,o[s],s,o);r=r.concat(t)}return r}})},57789:(e,t,n)=>{"use strict";n(39383),n(67712),n(56456)},67712:()=>{Intl.supportedValuesOf||Object.defineProperty(Intl,"supportedValuesOf",{value:e=>{if("currency"===e)return["ADP","AED","AFA","AFN","ALK","ALL","AMD","ANG","AOA","AOK","AON","AOR","ARA","ARL","ARM","ARP","ARS","ATS","AUD","AWG","AZM","AZN","BAD","BAM","BAN","BBD","BDT","BEC","BEF","BEL","BGL","BGM","BGN","BGO","BHD","BIF","BMD","BND","BOB","BOL","BOP","BOV","BRB","BRC","BRE","BRL","BRN","BRR","BRZ","BSD","BTN","BUK","BWP","BYB","BYN","BYR","BZD","CAD","CDF","CHE","CHF","CHW","CLE","CLF","CLP","CNH","CNX","CNY","COP","COU","CRC","CSD","CSK","CUC","CUP","CVE","CYP","CZK","DDM","DEM","DJF","DKK","DOP","DZD","ECS","ECV","EEK","EGP","ERN","ESA","ESB","ESP","ETB","EUR","FIM","FJD","FKP","FRF","GBP","GEK","GEL","GHC","GHS","GIP","GMD","GNF","GNS","GQE","GRD","GTQ","GWE","GWP","GYD","HKD","HNL","HRD","HRK","HTG","HUF","IDR","IEP","ILP","ILR","ILS","INR","IQD","IRR","ISJ","ISK","ITL","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRH","KRO","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LTL","LTT","LUC","LUF","LUL","LVL","LVR","LYD","MAD","MAF","MCF","MDC","MDL","MGA","MGF","MKD","MKN","MLF","MMK","MNT","MOP","MRO","MRU","MTL","MTP","MUR","MVP","MVR","MWK","MXN","MXP","MXV","MYR","MZE","MZM","MZN","NAD","NGN","NIC","NIO","NLG","NOK","NPR","NZD","OMR","PAB","PEI","PEN","PES","PGK","PHP","PKR","PLN","PLZ","PTE","PYG","QAR","RHD","ROL","RON","RSD","RUB","RUR","RWF","SAR","SBD","SCR","SDD","SDG","SDP","SEK","SGD","SHP","SIT","SKK","SLE","SLL","SOS","SRD","SRG","SSP","STD","STN","SUR","SVC","SYP","SZL","THB","TJR","TJS","TMM","TMT","TND","TOP","TPE","TRL","TRY","TTD","TWD","TZS","UAH","UAK","UGS","UGX","USD","USN","USS","UYI","UYP","UYU","UYW","UZS","VEB","VED","VEF","VES","VND","VNN","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XEU","XFO","XFU","XOF","XPD","XPF","XPT","XRE","XSU","XTS","XUA","XXX","YDD","YER","YUD","YUM","YUN","YUR","ZAL","ZAR","ZMK","ZMW","ZRN","ZRZ","ZWD","ZWL","ZWR"];throw RangeError("Invalid key: "+e)},enumerable:!0,writable:!1,configurable:!1})},39273:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=e=>e.map((e=>{const t=new Image;return t.src=e,t}))},75481:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=e=>({__html:e})},28644:(e,t,n)=>{"use strict";n.d(t,{FB:()=>h,Q5:()=>p,X4:()=>b,XA:()=>v,aU:()=>m,cl:()=>f,i4:()=>y,t4:()=>E,zO:()=>g});var r=n(43831);const o=(e,t)=>e!==t,i=(e,t)=>e===t,s=(e,t)=>e&&!t,a=(e,t)=>!e&&t,l=(e,t)=>e&&t,c=(e,t)=>!e&&!t,d=e=>t=>(n,r)=>e(n[t],r[t]),u=e=>t=>{const n=(e=>{const t=e[0],n=(0,r.P2)(e.slice(1));return e=>n(e[t])})(t);return(t,r)=>e(n(t),n(r))},m=d(o),p=d(i),h=d(s),g=d(a),f=d(l),E=d(c),v=u(o),b=(u(i),u(s),u(a)),y=u(l);u(c)},85491:(e,t,n)=>{"use strict";n.d(t,{B:()=>o});var r=n(10048);const o=(e,t)=>{null!=e&&e.persist?(e.persist(),e.handled=!0,e.handledBy=t):r.Z.warn("markEventAsHandled: An event that cannot be persisted was provided. Are you sure it's a react event?",e)}},40156:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(23279),o=n.n(r),i=n(67294);const s=(e,t,n)=>{const r=(0,i.useRef)(e),s=(0,i.useRef)(o()(((e,t,n)=>r.current(e,t,n)),t));return(0,i.useEffect)((()=>(r.current=e,()=>{s.current.cancel()})),n),s.current}},76073:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294);const o=(e,t)=>{const n=(0,r.useRef)(t);return(0,r.useEffect)((()=>{n.current=e})),n.current}},72268:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294),o=n(19092);function i(e,t=1e3){const[n,i]=(0,r.useState)(e),s=(0,r.useRef)(0);return(0,r.useEffect)((()=>{let n;if(e)s.current=(0,o.u3)(),i(e);else{const r=(0,o.u3)();let a=s.current+t-r;a=a>0?a:0,n=setTimeout((()=>{i&&i(e)}),a)}return()=>clearTimeout(n)}),[e]),n}},22624:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(23493),o=n.n(r),i=n(67294);const s=(e,t,n)=>{const r=(0,i.useRef)(e),s=(0,i.useRef)(o()((e=>r.current(e)),t));return(0,i.useEffect)((()=>(r.current=e,()=>{s.current.cancel()})),n),s.current}},3309:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294);const o=(e,t)=>{const n=r.useRef(!1);r.useEffect((()=>{if(n.current)return e();n.current=!0}),t)}},93618:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294);const o=(e,t)=>{const n=r.useRef(!1);r.useLayoutEffect((()=>{if(n.current)return e();n.current=!0}),t)}},85263:(e,t,n)=>{"use strict";n.d(t,{Dt:()=>m,Em:()=>h,G6:()=>v,HM:()=>p,Mn:()=>f,T:()=>o,Xf:()=>l,gn:()=>u,i7:()=>y,ij:()=>s,jj:()=>r,mL:()=>d,oZ:()=>i,tq:()=>g,vU:()=>b});const r=n.g.window&&(window.devicePixelRatio>1||window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),(-moz-min-device-pixel-ratio: 1.5),(min-device-pixel-ratio: 1.5)").matches),o=()=>n.g.window&&"ontouchstart"in window&&(n.g.navigator&&navigator.maxTouchPoints||0)>2,i=()=>matchMedia("(pointer:fine)").matches,s=()=>{var e,t;return(null===(e=n.g.window)||void 0===e||null===(t=e.navigator)||void 0===t?void 0:t.userAgent)||""};let a;!function(e){e.windows="windows",e.mac="mac",e.unix="unix",e.linux="linux",e.ipad="ipad",e.iphone="iphone",e.ipod="ipod",e.android="android"}(a||(a={}));const l=()=>{if(!n.g.navigator)return null;const{userAgent:e,appVersion:t=""}=navigator;return e.match(/iPad/i)?a.ipad:e.match(/iPhone/i)?a.iphone:e.match(/iPod/i)?a.ipod:e.match(/Android/i)?a.android:-1!==t.indexOf("Win")?a.windows:-1!==t.indexOf("Mac")?o()?a.ipad:a.mac:-1!==t.indexOf("X11")?a.unix:-1!==t.indexOf("Linux")?a.linux:null},c=l(),d=c===a.mac||c===a.ipad||c===a.iphone||c===a.ipod,u=()=>c===a.ipad||c===a.iphone||c===a.ipod,m=()=>c===a.android,p=()=>c===a.ipad,h=()=>/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(n.g.navigator.userAgent.toLowerCase()),g=()=>c===a.android||c===a.iphone||c===a.ipad||c===a.ipod,f=()=>g()&&!p(),E=e=>e.test(s()),v=()=>{var e;return!(null===(e=n.g.window)||void 0===e||!e.safari)},b=()=>E(/Firefox/g),y=()=>E(/Chrome/g)},25507:(e,t,n)=>{"use strict";n.d(t,{S:()=>P});var r=n(41609),o=n.n(r),i=n(91966),s=n.n(i),a=n(3674),l=n.n(a),c=n(44379),d=n(19092),u=n(7594),m=n.n(u),p=n(54061),h=n.n(p),g=n(47037),f=n.n(g),E=n(1469),v=n.n(E),b=n(29204),y=n(10048),I=n(53106),C=n(41748);var S=n(24691),T=n(72522),w=n(395),O=n(29176);const _=(e,t)=>Object.assign({},e,{id:t}),R="UnknownError",A=e=>{if(f()(e))return{details:{},inner:{},name:R,status:0,code:e,message:e};if(!(e instanceof Error)){return{details:m()(e)?Object.assign({},e):{},inner:{},name:R,status:0,code:"Unknown error",message:"err is not an instance of Error"}}if((e=>e instanceof C.Z)(e))return{details:e.details||{},inner:e.inner||{},name:e.name,status:e.status,code:e.code,message:e.message};if((0,b.IZ)(e)){var t,n,r,o,i,s,a,l;const m=Object.assign({},e);delete m.request,null===(t=m.response)||void 0===t||delete t.request,null===(n=m.config)||void 0===n||delete n.env,null===(r=m.config)||void 0===r||delete r.transformRequest,null===(o=m.config)||void 0===o||delete o.transformResponse,null===(i=m.config)||void 0===i||delete i.transitional,null===(s=m.config)||void 0===s||delete s.validateStatus;const f={details:Object.assign({url:null===(a=e.config)||void 0===a?void 0:a.url},m),inner:{},name:e.name||R,status:e.status||0,code:e.code||"Unknown axios error",message:e.message||"Unknown axios error",url:null===(l=e.config)||void 0===l?void 0:l.url};if(e.response){var c,d,u,p,h,g,E;const t=(null===(c=e.response.data)||void 0===c?void 0:c.details)||f.details;return{details:Object.assign({url:null===(d=e.config)||void 0===d?void 0:d.url},t),inner:(null===(u=e.response.data)||void 0===u?void 0:u.inner)||f.inner,name:(null===(p=e.response.data)||void 0===p?void 0:p.name)||f.name,status:(null===(h=e.response.data)||void 0===h?void 0:h.status)||f.status,code:(null===(g=e.response.data)||void 0===g?void 0:g.code)||f.code,message:(null===(E=e.response.data)||void 0===E?void 0:E.message)||f.message}}return f}return{details:Object.assign({},e),inner:{},name:e.name||R,status:0,code:e.toString()||"Unknown error",message:e.message||e.toString()||"Unknown error type"}},D=(e,t)=>t?s()(e,t):e;var N=n(20354),x=n(53989);const M=c.ZP.createChannel(c.SI.ASYNC_RESOURCE),P=(e,t,n=!1,r=!1)=>i=>async(a,c)=>{const u=(e=>e?v()(e)?e:[e]:[O.OP])(t);let m=c();const[p,g]=((e,t,n,r)=>{if(r)return[!0,n];const i=(0,w.X)(e),s=null==n?void 0:n.filter((n=>{const r=(0,T.Rf)(e,t,n);return(0,I.Zb)(r,i)}));return[!o()(s),s]})(m,e,u,n);if(!p||o()(g))return void M.info("Ignoring async resource request",{resourceName:e,ids:t,forceFetch:n});const f=(0,d.u3)();a((0,x.mc)(e,g));try{const t=await i(g);m=c();const n=(e=>{var t;if(e)return(0,S.$z)(e)?e.data.fetchedTime?e.data.fetchedTime:(0,S.mi)(e):null===(t=e.asyncResource)||void 0===t?void 0:t.fetchedTime})(t)||f,u=(e=>{var t,n;if(e)return(0,S.$z)(e)?null!=e&&null!==(n=e.data)&&void 0!==n&&n.expiry?e.data.expiry:(0,S.gz)(e):null===(t=e.asyncResource)||void 0===t?void 0:t.expiry})(t)||(0,d.u3)()+O.JF,p=(e=>{if(e)return(0,S.$z)(e)?e.data:e})(t),v=(e=>{var t,n;if(e)return(0,S.$z)(e)?null===(n=e.data)||void 0===n?void 0:n.errors:null===(t=e.asyncResource)||void 0===t?void 0:t.errors})(t),b=(e=>{var t;if(!(0,S.$z)(e))return null==e||null===(t=e.asyncResource)||void 0===t?void 0:t.alreadyHandledIds})(t),I=l()(v),C=s()(g,I),T=D(C,b);if(!o()(T)){a((r?x.cu:x.R2)(e,T,{fetchedTime:n,data:p,expiry:u}))}const w=D(I,b),R=(E=v,h()(E,((e,t,n)=>t?(e.push(_(t.error,n)),e):(y.Z.warn("Async Resources: An error map was provided without an error object",{errorMap:E,elementId:n}),e)),[]));!o()(w)&&null!=R&&R.length&&a((0,x.kM)(e,R,(0,d.u3)(),w))}catch(b){const t=(e=>{var t;return null==e||null===(t=e.asyncResource)||void 0===t?void 0:t.alreadyHandledIds})(b),n=D(g,t);if(!o()(n)){const t=A(b),r=n.map((e=>_(t,e)));a((0,x.kM)(e,r,(0,d.u3)(),n))}return(0,N.vl)({errorMessage:`${e} resource fetching error: ${b}`,error:b,sensitive:!1}),Promise.reject(b)}var E}},53989:(e,t,n)=>{"use strict";n.d(t,{R2:()=>i,aX:()=>l,cu:()=>s,j$:()=>a,kM:()=>c,mc:()=>o,y$:()=>d});var r=n(29176);const o=(e,t)=>({type:r.lQ,resource:e,ids:t}),i=(e,t,n)=>Object.assign({type:r.tl,resource:e,ids:t},n),s=(e,t,n)=>Object.assign({type:r.Pl,resource:e,ids:t},n),a=(e,t,n)=>Object.assign({type:r.T2,resource:e,ids:t},n),l=(e,t,n)=>Object.assign({type:r.hV,resource:e,ids:t},n),c=(e,t,n,o)=>({type:r.Fs,resource:e,errors:t,errorTime:n,ids:o}),d=(e,t)=>({type:r.rF,resource:e,ids:t})},29176:(e,t,n)=>{"use strict";n.d(t,{Fs:()=>c,JF:()=>g,OP:()=>p,P6:()=>m,Pl:()=>s,T2:()=>a,hV:()=>l,lQ:()=>o,mO:()=>u,ni:()=>h,rF:()=>d,tl:()=>i});var r=n(19092);const o="RESOURCES_FETCHING",i="RESOURCES_FETCHED",s="RESOURCES_CACHED",a="RESOURCES_FETCHED_FROM_CACHE",l="RESOURCES_UPDATE_FETCHED_TIME",c="RESOURCES_FETCH_ERROR",d="RESOURCES_MARKED_AS_STALE",u="RESOURCES_INVALIDATED";let m;!function(e){e.elements="elements",e.boards="boards",e.cloneInstances="cloneInstances",e.users="users",e.boardPermissions="boardPermissions",e.boardEditors="boardEditors",e.publishedBoardViewers="publishedBoardViewers",e.cms="cms",e.contacts="contacts",e.notifications="notifications",e.history="history",e.trash="trash"}(m||(m={}));const p="resourceState";let h;!function(e){e.NOT_FETCHED="NOT_FETCHED",e.FETCHING="FETCHING",e.FETCHED="FETCHED",e.CACHED="CACHED",e.ERRORED="ERRORED",e.STALE="STALE"}(h||(h={}));const g=30*r.yu.MINUTE},72522:(e,t,n)=>{"use strict";n.d(t,{R3:()=>a,Rf:()=>l,Vs:()=>d,Xu:()=>c});var r=n(43831),o=n(53106),i=n(29176);const s=(0,r.vg)("asyncResources"),a=e=>t=>(0,r.vg)(e,s(t))||{},l=(e,t,n)=>n?(0,r.P2)([t,n],s(e)):(0,r.P2)([t,i.OP],s(e)),c=(e,t,n)=>(0,o.pl)(l(e,t,n)),d=(e,t,n)=>(0,o.rD)(l(e,t,n))},53106:(e,t,n)=>{"use strict";n.d(t,{BN:()=>u,IB:()=>m,OT:()=>a,Z3:()=>c,Zb:()=>p,pl:()=>i,rD:()=>s,vc:()=>l});var r=n(19092),o=n(29176);const i=e=>(null==e?void 0:e.fetching)||!1,s=e=>(null==e?void 0:e.fetched)||!1,a=e=>(null==e?void 0:e.status)===o.ni.CACHED,l=e=>(null==e?void 0:e.hasError)&&!i(e),c=e=>null==e?void 0:e.error,d=e=>null==e?void 0:e.expiry,u=e=>null==e?void 0:e.fetchedTime,m=e=>{const t=d(e);return!!t&&t<(0,r.u3)()},p=(e,t)=>{if(i(e))return!1;const n=u(e);if(!s(e)||!n)return!0;if(t&&n<t)return!0;const o=d(e);if(!o)return!1;return(0,r.u3)()>o}},24691:(e,t,n)=>{"use strict";n.d(t,{$z:()=>a,gz:()=>i,mi:()=>s});var r=n(14927),o=n(19092);const i=e=>{const t=(e=>{const t=e.headers[r.$7.DATA_EXPIRY];if(t)return parseInt(t)})(e);if(t)return(0,o.u3)()+t},s=e=>{const t=e.headers[r.$7.DATA_FETCHED_TIME];if(t)return parseInt(t)},a=e=>"object"==typeof e&&null!==e&&"data"in e&&"status"in e&&"statusText"in e&&"headers"in e&&"config"in e&&"request"in e},45685:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>P,dJ:()=>M});var r=n(71257),o=n(10048),i=n(59161),s=n(68071),a=n(14927);const l=()=>void 0!==window.AwsWafIntegration,c=async e=>{if(!e)return;const t=await(async()=>{var e;if(l())return await(null===(e=window.AwsWafIntegration)||void 0===e?void 0:e.getToken().catch((e=>{o.Z.warn("Failed to generate a firewall token",e)})))})();t&&e.set(a.Q7.WAF_TOKEN,t)};n(98601);var d=n(36968),u=n.n(d),m=(n(27361),n(3945)),p=n.n(m),h=n(53416),g=n(85597);const f=e=>{const t=(0,g._V)();return t&&(e.headers.Authorization=`Bearer ${t}`),e},E=e=>(e.headers["Cache-Control"]||(e.headers["Cache-Control"]="no-cache"),e),v=(0,s.cE)()&&("undefined"!=typeof window&&window&&window.flutter_inappwebview||"undefined"!=typeof window&&window&&window.webkit&&window.webkit.messageHandlers.milanoteHttpRequest),b=e=>new Promise(((t,n)=>{const r=(0,h.x0)();((e,{resolve:t,reject:n})=>{u()(window,`milanoteHttpRequest.promises.${e}`,{resolve:t,reject:n})})(r,{resolve:t,reject:n});const o=f(E((i=e,JSON.parse(JSON.stringify(i)))));var i;o.method=o.method?p()(o.method):"GET",o.uuid=r,window.flutter_inappwebview&&window.flutter_inappwebview.callHandler?window.flutter_inappwebview.callHandler("flutterHttpRequest",o):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.milanoteHttpRequest&&window.webkit.messageHandlers.milanoteHttpRequest.postMessage(o)}));var y=n(29204),I=n(74322);const C=e=>e&&e.status===I.yI&&e.headers instanceof y.uu&&e.headers[a.Q7.WAF_ACTION]===a.zQ.WAF_ACTION.CHALLENGE;var S=n(84876);const T=e=>e.code===a.O1.CONNECTION_ABORTED||e.code===a.O1.CONNECTION_RESET,w=e=>(e=>e.response&&e.response.status>=I.be)(e)||T(e)||e.response&&C(e.response),O=e=>T(e)?(e=>{var t,n;return((null===(t=e.config)||void 0===t?void 0:t.timeout)||1e3)*((null===(n=e.config)||void 0===n?void 0:n._retryCount)||0)})(e):(e=>{var t;return 100*Math.pow((null===(t=e.config)||void 0===t?void 0:t._retryCount)||0,3)})(e),_=(0,i.Z)(),R=_.apiRoot||"",A={method:a.Is.GET,timeout:21e3,responseType:"json",prefix:`${R}/api`,headers:{"Accept-Version":_.appVersion||"1.0.0","Content-Type":"application/json"}};r.default.interceptors.request.use(f),r.default.interceptors.request.use(E),r.default.interceptors.request.use((async e=>(await c(e.headers),e)));const D=(N=r.default,x=e=>{var t,n;return o.Z.warn(`RETRYING: A http error occurred (${((null===(t=e.config)||void 0===t?void 0:t.retry)||0)-((null===(n=e.config)||void 0===n?void 0:n._retryCount)||0)} attempts remaining)`,e,e.response,JSON.stringify(e))},e=>{if(!r.default.isAxiosError(e))throw e;if(!(e=>e.config&&e.config.retry&&e.config._retryCount!==e.config.retry)(e)||!w(e))throw e;if(!e.config)throw e;e.config._retryCount=e.config._retryCount||0,x&&x(e),e.config._retryCount=e.config._retryCount+1;const t=O(e);return(0,S.Z)(t).then((()=>N(e.config)))});var N,x;r.default.interceptors.response.use(((e,t)=>async n=>{if(!C(n))return Promise.resolve(n);if(!e())return Promise.reject(new y.d7("Request failed due to Firewall challenge.  Unable to respond",n.status.toString(),n.config,n.request,n));try{return await(async(e,t)=>{if(!t)return Promise.reject(new y.d7("Request failed due to Firewall challenge.  Retry not configured",e.status.toString(),e.config,e.request,e));e.config.retry||=1,e.config._retryCount||=0;const n=new y.d7("Request failed due to Firewall challenge",e.status.toString(),e.config,e.request,e);return await t(n),Promise.resolve(e)})(n,t)}catch(r){return Promise.reject(r)}})(l,D),D);const M=async e=>{const t=Object.assign({},A,e,{headers:Object.assign({},A.headers,e.headers)});return t.url=`${t.prefix}/${e.url}`,(0,s.cE)()&&v?b(t):(0,r.default)(t)},P=M},83903:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const r=n(71257).default.create(),o=async e=>{try{const{headers:t}=await r({url:e,method:"head"}),n=parseInt(t["content-length"],10)||0,o=t["content-type"];return{url:e,size:n,mime:o,modifiedTime:new Date(t["last-modified"]).getTime()}}catch(t){return{error:t,url:e,size:0,modifiedTime:0,type:"image/jpeg"}}}},47915:(e,t,n)=>{"use strict";n.d(t,{$:()=>r});const r=()=>window.self!==window.top},88007:(e,t,n)=>{"use strict";n.d(t,{D:()=>r});n(63805);const r=e=>new Promise(((t,n)=>{const r=new Image;r.onload=t,r.onerror=n,r.src=e}))},69e3:(e,t,n)=>{"use strict";n.d(t,{I:()=>r,Z:()=>o});const r=()=>{const e="local_storage";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}},o=r()?localStorage:{getItem:()=>null,setItem:()=>null,removeItem:()=>null,key:()=>null,length:0}},99187:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294),o=n(69e3);const i=(e,t,n=JSON.parse)=>{const[i,s]=(0,r.useState)((()=>{try{const r=o.Z.getItem(e);return r?n(r):t}catch(r){return t}})),a=t=>{try{const n=t instanceof Function?t(i):t;s(n),o.Z.setItem(e,JSON.stringify(n))}catch(n){console.error(n)}};return[i,a,()=>{a(t)}]}},52102:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(71257),o=n(19092),i=n(14927);const s={method:i.Is.GET,timeout:2*o.yu.SECOND,responseType:"json"},a=e=>({exportElement:({elementId:t,format:n,fileType:r,quality:s,permissionId:a,permissionToken:l,userToken:c,includeChildBoards:d,locale:u,timezone:m})=>{const p={url:`export/${t}`,method:i.Is.POST,timeout:2*o.yu.MINUTE,data:{format:n,fileType:r,quality:s,permissionId:a,includeChildBoards:d,locale:u,timezone:m},headers:{}};return l&&(p.headers[i.$7.PERMISSION_TOKENS]=l),c&&(p.headers.Authorization=`Bearer ${c}`),e(p)},bulkExportBoard:({userId:t,boardId:n,format:r,fileType:s,quality:a})=>{const l={url:`export/${n}/bulk`,method:i.Is.POST,timeout:10*o.yu.SECOND,data:{userId:t,format:r,fileType:s,quality:a},headers:{}};return e(l)},exportBoardMedia:({boardId:t,sessionId:n,permissionId:r,permissionToken:s})=>{const a={url:`export/${t}/zip`,method:i.Is.POST,timeout:10*o.yu.SECOND,data:{sessionId:n,permissionId:r},headers:{}};return s&&(a.headers[i.$7.PERMISSION_TOKENS]=s),e(a)}});var l=n(47037),c=n.n(l);const d=n.g.FormData||n(6230),u=e=>({uploadMediaFile:(t,n)=>{const r=JSON.stringify(n);let s;c()(t)?s={dataUri:t,options:r}:(s=new d,s.append("file",t),s.append("options",r));const a={url:"image",method:i.Is.POST,timeout:5*o.yu.MINUTE,data:s};return s.getHeaders&&(a.headers=s.getHeaders()),e(a)},resizeImage:({url:t,slug:n,callbackUrl:r,imageType:s})=>{const a={url:"image/resize",method:i.Is.POST,timeout:o.yu.MINUTE,data:{url:t,slug:n,callbackUrl:r,imageType:s}};return e(a)},createThumbnail:({url:t})=>{const n={url:"image/thumb",method:i.Is.GET,timeout:o.yu.MINUTE,params:{url:t}};return e(n)}}),m=e=>({fetchLink:({id:t,url:n,environmentFolder:r,userId:s})=>{const a={url:"link",method:i.Is.POST,timeout:o.yu.MINUTE,data:{url:n,elementId:t,environmentFolder:r,userId:s}};return e(a)}});var p=n(45915);const h=e=>({fetchBoardPreview:({boardId:t,permissionId:n,maxAge:r,userToken:s,locale:a})=>{const l={url:`preview/${t}`,method:i.Is.GET,timeout:o.yu.MINUTE,params:{[p.RY.PERMISSION]:n}};return s&&(l.headers={Authorization:`Bearer ${s}`}),r&&(l.params={"max-age":r}),a&&(l.params=Object.assign({},l.params,{locale:a})),e(l)}});const g=((e,t)=>{const n=((e,t)=>n=>{const o=Object.assign({},s,n);return t&&(o.headers=Object.assign({Authorization:`Bearer ${t}`},o.headers)),o.url=`${e}/${n.url}`,(0,r.default)(o)})(e,t);return{export:a(n),image:u(n),link:m(n),preview:h(n)}})((0,n(59161).Z)().mediaServer.apiUrl)},24588:(e,t,n)=>{"use strict";n.d(t,{L$:()=>i,cQ:()=>s,mL:()=>a,zh:()=>o});var r=n(71014);const o=e=>({type:r.nC,timestamp:e}),i=()=>({type:r.iz}),s=()=>({type:r.Ms}),a=({joined:e,left:t,boardChannels:n})=>({type:r.x4,joined:e,left:t,boardChannels:n})},56207:(e,t,n)=>{"use strict";n.d(t,{CR:()=>d,Du:()=>a,Fn:()=>m,Me:()=>l,Wx:()=>p,hh:()=>s,rr:()=>u,z8:()=>i.z8});var r=n(43831),o=n(71014),i=n(10798);const s=e=>e.getIn(["app","socketConnection"]),a=e=>e.getIn(["app","socketConnection","interruptionTime"]),l=e=>e.getIn(["app","socketConnection","disconnectTime"]),c=e=>e.getIn(["app","socketConnection","status"]),d=e=>e.getIn(["app","socketConnection","reconnectionMode"]),u=e=>c(e)===o.pI.CONNECTED,m=e=>c(e)===o.pI.DISCONNECTED,p=e=>(0,r.vg)("status",e)===o.pI.DISCONNECTED},71014:(e,t,n)=>{"use strict";n.d(t,{H6:()=>o,Ms:()=>a,_s:()=>c,eR:()=>u,iz:()=>s,k4:()=>l,nC:()=>i,pI:()=>r,x4:()=>d});const r={CONNECTED:"CONNECTED",INTERRUPTED:"INTERRUPTED",DISCONNECTED:"DISCONNECTED"},o={PAGE_LOAD:"PAGE_LOAD",CONNECTION_LOST:"CONNECTION_LOST",REHYDRATION:"REHYDRATION"},i="SOCKET_CONNECT",s="SOCKET_INTERRUPTION",a="SOCKET_DISCONNECT",l="SOCKET_FORCE_CONNECT",c="SOCKET_FORCE_DISCONNECT",d="CHANNELS_UPDATED",u={CONNECTION_FAILURE:"CONNECTION_FAILURE",ACTION_FAILURE:"ACTION_FAILURE",ACTION_LIMIT_EXCEEDED:"ACTION_LIMIT_EXCEEDED"}},33740:(e,t,n)=>{"use strict";n.d(t,{MP:()=>a,l1:()=>l,oe:()=>s});var r=n(27856),o=n(75481),i=n(7923);const s=e=>(0,o.Z)((0,r.sanitize)(atob(e))),a=e=>(0,o.Z)((0,r.sanitize)(e)),l=e=>{if(!e)return null;const t=(0,i.nZ)(e)||0,n=(0,i.Ff)(e)||0,r=(0,i.dz)(e),o=(0,i.Cr)(e);return r&&o?`${t} ${n} ${r} ${o}`:null}},10615:(e,t,n)=>{"use strict";n.d(t,{a7:()=>y,tt:()=>I,X0:()=>C,AU:()=>_,wr:()=>A,lC:()=>R,cP:()=>O,cn:()=>w,WQ:()=>T,tJ:()=>S,fK:()=>E,b:()=>v,bO:()=>b,wK:()=>f});n(10048),n(90252),n(80275);const r=e=>t=>(n,r)=>e(r(),t);var o=n(18260),i=n(43831),s=n(60742),a=n(495),l=n(68468),c=n(87447),d=n(7575),u=n(74657),m=n(19884);const p=[],h=(e,t,n)=>{let r=0;return n.forEach((n=>{if(((e,t)=>{if(!t)return!1;if(t.type!==u.t0)return!0;const n=e(),r=(0,c.Sp)(n);if((0,i.xb)(r)||1!==(0,i.kE)(r))return!1;const o=r.first(),{id:s}=t;if(s===o)return!0;const d=(0,l.$3)(n);return(0,a.ed)(d,s)===o})(t,n))return r++,e(n)})),r},g=(e,t)=>{const n=t(),r=n.getIn(["undoRedo",e]);if(r.size<=0)return p;const o=r.peek();return n.getIn(["undoRedo","transactions",o])||[]},f=()=>(e,t)=>{let n=g("undoStack",t);n=n.reverse().map((0,i.vg)("undo")),h(e,t,n),n.size&&(0,o.Y)("used-undo")},E=e=>({type:m.rK,transactionId:e}),v=()=>(e,t)=>{let n=g("redoStack",t);if(n===p)return;n=n.map((0,i.vg)("redo"));if(h(e,t,n)>0)return;const r=t(),o=(0,d.uO)(r);e({transactionId:o,type:m.tA}),e(v())},b=e=>(t,n)=>{const r=n();if(!(0,d.$x)(r))return t({type:m.lA,name:e,transactionId:(0,s.k)()})},y=e=>(t,n)=>{const r=n();if(!(0,d.$x)(r))return;const o=(0,d.vd)(r);return t({type:m.mL,name:e,transactionId:o}),o},I=()=>({type:m.Uw}),C=r(d.vd),S=r(d.Ix),T=r(d.pr),w=r(d.Wv),O=r(d.HL),_=r(d.lI),R=r(d.uO),A=r(d.N7)},19884:(e,t,n)=>{"use strict";n.d(t,{NQ:()=>o,Uw:()=>l,lA:()=>i,mL:()=>s,qE:()=>r,rK:()=>a,tA:()=>c});const r=500,o=400,i="START_OPERATION",s="END_OPERATION",a="POP_UNDO_STACK_TO",l="UNDO_REDO_FINISH",c="UNDO_REDO_REMOVE_TRANSACTION"},7575:(e,t,n)=>{"use strict";n.d(t,{$x:()=>a,HL:()=>f,Ix:()=>p,Mi:()=>I,N7:()=>b,Nm:()=>C,Wv:()=>g,YX:()=>S,ij:()=>y,lI:()=>E,pr:()=>h,uO:()=>v,vd:()=>l});var r=n(63422),o=n.n(r),i=n(97245),s=n(31368);const a=e=>e.getIn(["undoRedo","operation"]),l=e=>e.getIn(["undoRedo","mostRecentTransactionId"]),c=o()(["redo","type"]),d=e=>t=>n=>{const r=n.getIn(["undoRedo",e]),o=n.getIn(["undoRedo","transactions"]);if(r&&r.size)return r.find((e=>{const n=o.get(e);return n&&n.some((e=>c(e)===t))}))},u=d("undoStack"),m=d("redoStack"),p=e=>e.getIn(["undoRedo","undoStack",0]),h=u("@@router/LOCATION_CHANGE"),g=u(i.XI),f=u(i.hA),E=u(s.Bf),v=(u(i.EY),e=>e.getIn(["undoRedo","redoStack",0])),b=(m(i.EY),m(i.hA),m(s.Bf)),y=e=>e.getIn(["undoRedo","undoStack"]),I=e=>e.getIn(["undoRedo","redoStack"]),C=e=>e.getIn(["undoRedo","isUndoing"]),S=e=>e.getIn(["undoRedo","isRedoing"])},60742:(e,t,n)=>{"use strict";n.d(t,{F:()=>o,k:()=>i});let r=0;const o=()=>r,i=()=>(r++,r)},32931:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});const r="ENABLE_PREVIEW_MODE"},40201:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});const r=e=>e.getIn(["app","boardPreview","enabled"])},98540:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s),l=n(1174),c=n.n(l),d=n(87701),u=n(26457),m=n(75763),p=n(13784),h=n(49870),g=r.createElement(d.Z,{name:"milanote-logo-small"}),f=r.createElement(u.Z,{show:!0,strokeWeightMultiplier:2});const E=({element:e,isRoot:t,isLoading:n,isDarkModeTheme:o})=>{if(!e&&!t)return null;const i=(0,m.Lq4)(e),s=(0,p.yp)(i),l={backgroundColor:t?"transparent":s},d=a()("BreadcrumbIcon",{loading:n,"low-contrast":!t&&(0,h.Vd)(s,o)});return r.createElement("div",{className:d,style:l},t&&g,r.createElement(c(),{key:"spinner",transitionName:"scale",transitionAppear:!0,transitionAppearTimeout:300,transitionEnterTimeout:300,transitionLeaveTimeout:300},n&&f))};E.propTypes={element:i().object,isRoot:i().bool,isLoading:i().bool,isDarkModeTheme:i().bool};const v=E},98211:(e,t,n)=>{"use strict";n.d(t,{L:()=>v,r:()=>b});var r=n(22222),o=n(28644),i=n(78327),s=n(97414),a=n(80275),l=n(81410),c=n(83547),d=n(10798),u=n(79900),m=n(49508),p=n(81188);const h=(0,o.Q5)(0),g=(0,o.Q5)(3),f=(0,o.Q5)(5),E=(0,o.Q5)(6),v=(0,i.mR)(((e,t)=>f(e,t)&&g(e,t)&&h(e,t)&&E(e,t)))(l.s4,a.PN,c.$,u.XW,m.ZM,m.gS,p.Ct,s.kn),b=(0,r.P1)(d.tQ,a.ht,((e,t)=>t||e))},97414:(e,t,n)=>{"use strict";n.d(t,{kn:()=>y});var r=n(8804),o=n.n(r),i=n(41609),s=n.n(i),a=n(10048),l=n(93034),c=n(11111),d=n(495),u=n(30840),m=n(75763),p=n(20354);let h=!1;const g=(e,t)=>e[t],f=(e,t,n)=>{const r=e.get(n);if(!r)return a.Z.info("No element in BFS",n),[];const o=g(t,n),i=(0,m.CKs)(r);return o||i?o?(o.unshift(i),o):[i]:[]},E=(e,t)=>t.filter((t=>!e.get(t))),v=(e,t,n)=>(0,d.uV)(t,e).filter((e=>(0,u.$U)(t,(0,m.nRF)(e),n))).map((e=>(0,m.nRF)(e))).reverse(),b=e=>t=>{const n=e.get(t);return(0,c.pi)(n)},y=(e,t,n,r,i)=>((e,t,n,r,i)=>{const a=v(e,n,r);if(s()(a))return;const l=o()(a);if(l===t)return{complete:!0,detached:!1,path:a.filter(b(n)),fullPath:a};const c=g(i,l);if(!c||1!==c.length)return;const d=o()(c),u=v(d,n,r);if(o()(u)!==t)return;const m=[...u,...a];return{complete:!0,detached:!1,path:m.filter(b(n)),fullPath:m}})(e,t,n,r,i)||((e,t,n,r,o)=>{if(!e)return{complete:!1,detached:!1,error:!0,missingElementIds:[e]};let i=e,s=[i],c=[],d=0;const u={},m={[i]:null},g=e=>{m[e]=m[e]||i};for(;t&&s.length&&d<300;){if(d++,i=s.shift(),u[i])continue;if(u[i]=!0,i===t){const e=(0,l.a)(m,i);return{complete:!0,detached:!1,path:e.filter(b(n)),fullPath:e}}const e=f(n,o,i);e.filter((e=>!u[e])).forEach(g),s=s.concat(e),c=c.concat(E(n,e))}if(d>=300){a.Z.error("Max breadcrumb iterations reached",r),h||((0,p.vl)({errorMessage:"Max breadcrumb iterations reached",custom:{aclIds:r,currentBoardId:e}}),h=!0);const t=v(e,n,r);return{complete:!0,error:!0,detached:!0,path:t.filter(b(n)),fullPath:t}}if(c.length)return{complete:!1,detached:!1,missingElementIds:c};const y=v(e,n,r);return y.length?{complete:!0,detached:!0,path:y.filter(b(n)),fullPath:y}:{complete:!0,detached:!0,protected:!0,path:[e],fullPath:[e]}})(e,t,n,r,i)},62574:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(8779);function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=e=>({initialiseCurrentUser:()=>e((0,a.k)()),setGuestUser:t=>e((0,a.p5)())}),d=e=>{var t;let n=(0,s.$j)(null,c)(t=class extends r.Component{constructor(...e){super(...e),l(this,"initialise",(e=>{const{initialiseCurrentUser:t,isUserAvailable:n,isGuest:r,setGuestUser:o}=e;n||t(),r&&o()}))}componentWillMount(){this.initialise(this.props)}componentWillReceiveProps(e){!e.isGuest&&this.props.isGuest&&this.initialise(e)}render(){return r.createElement(e,this.props)}})||t;return n.propTypes={isGuest:i().bool,isUserAvailable:i().bool,initialiseCurrentUser:i().func,setGuestUser:i().func},n}},78179:(e,t,n)=>{"use strict";let r,o,i;n.d(t,{IG:()=>i,Pt:()=>r,jb:()=>o}),function(e){e[e.ATTACH=0]="ATTACH",e[e.DEFAULT=1]="DEFAULT"}(r||(r={})),function(e){e[e.NONE=0]="NONE",e[e.SNAP_HORIZONTAL=1]="SNAP_HORIZONTAL",e[e.SNAP_VERTICAL=2]="SNAP_VERTICAL"}(o||(o={})),function(e){e[e.NONE=0]="NONE",e[e.TWO_D=1]="TWO_D",e[e.THREE_D=2]="THREE_D"}(i||(i={}))},82862:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(67294),o=n(37974),i=n(59856),s=n(85263),a=n(79334),l=n(33348),c=n(60434),d=n(48679),u=n(25270),m=n(1931),p=n(19092),h=n(69129),g=n(90957);n(25350);const f=(0,o.$j)(null,(e=>({dispatchExportElement:({elementId:t,format:n,fileType:r,quality:o,includeChildBoards:i})=>e((0,l.P)({elementId:t,format:n,fileType:r,quality:o,includeChildBoards:i})),dispatchClosePopup:()=>e((0,c.j4)(h.K2.EXPORT)),dispatchTriggerDownload:t=>e((0,d.OP)(t))})))((e=>{const{children:t,elementId:n,disabled:o,fileType:l,mimeType:c,format:d,quality:h,includeChildBoards:f,dispatchExportElement:E,dispatchClosePopup:v,dispatchTriggerDownload:b}=e,[y,I]=r.useState(null),[C,S]=r.useState(null);return r.createElement(u.Z,{status:y,errorText:C,onClickFn:async()=>{I(g.is.GENERATING);try{const e=await E({elementId:n,format:d,fileType:c,quality:h,includeChildBoards:f});(0,i.P)(".ExportUtil .button-content",{x:0,y:30}),b({url:e,onDownloadEnd:()=>{(0,s.HM)()&&v()},id:n}),I(g.is.DOWNLOADING)}catch(e){I(g.is.ERROR);const t=(0,a.O)(e);S(t)}setTimeout((()=>{I(null)}),2*p.yu.SECOND)},disabled:o},r.createElement(m.Z,{fileType:l,iconStyle:"mini"}),r.createElement("span",null,t," "))}))},25270:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),o=n(80877),i=n(26457),s=n(87701);n(25350);const a="GENERATING",l="DOWNLOADING",c="ERROR";var d=r.createElement(s.Z,{name:"link-fail"}),u=r.createElement(i.Z,{show:!0});const m=e=>{const{children:t,status:n,disabled:i,errorText:s,onClickFn:m}=e;if(n===c)return r.createElement("div",{className:"ExportPopupExportButton error"},d,r.createElement("span",{className:"text"},s));if(n===a||n===l){const e=n===a?"Generating":"Downloading";return r.createElement("div",{className:"ExportPopupExportButton loading"},u,r.createElement("span",{className:"text"},e))}return r.createElement(o.Z,{className:"ExportPopupExportButton",onClick:i?void 0:m,disabled:i},t)}},97173:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(54688),l=n(22616),c=n(58964),d=n(23680);const u=({children:e,className:t})=>r.createElement("div",{className:t},e);u.propTypes={children:i().oneOfType([i().arrayOf(i().node),i().node]),className:i().string};class m extends r.Component{render(){const{onToggle:e,popupSection:t,popupId:n,exportPopupElement:o,WrapperComponent:i=u}=this.props;return r.createElement(i,{className:"ExportUtil"},r.createElement(l.Z,{popupId:n,closeSection:t,onToggle:e,text:"Export",showArrow:!0}),r.createElement(c.Z,Object.assign({},this.props,{popupId:n,className:"ExportPopup"}),o))}}m.propTypes={elementId:i().string,popupId:i().string,popupSection:i().string,onToggle:i().func,WrapperComponent:i().func,exportPopupElement:i().oneOfType([i().arrayOf(i().node),i().node]).isRequired};const p=(0,a.qC)((0,s.$j)(null,(e=>({onToggle:t=>{t&&e((0,d.yJ)())}}))),a.Le)(m)},90957:(e,t,n)=>{"use strict";n.d(t,{is:()=>o,sH:()=>r});const r="export-root",o={GENERATING:"GENERATING",DOWNLOADING:"DOWNLOADING",ERROR:"ERROR"}},79334:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});var r=n(74322),o=n(79049);const i=e=>{if((0,o.eV)(e)===r.Zo)return"Failed - please wait 20 seconds";return"LimitExceededError"===(0,o.o8)(e)?"Too many cards to export":"Failed to create export"}},33348:(e,t,n)=>{"use strict";n.d(t,{b:()=>f,P:()=>g});var r=n(10048),o=n(52102),i=n(23680),s=n(20354),a=n(79900),l=n(80275),c=n(39956),d=n(61542);const u=(e,t)=>e===c.o.canvas?(e=>{switch(e){case d.L.PDF:return"pdf-html";case d.L.PNG:default:return"png-html"}})(t):(e=>{switch(e){case d.L.PDF:return"pdf";case d.L.DOCX:return"docx";case d.L.PLAIN_TEXT:return"txt";case d.L.MARKDOWN:default:return"md"}})(t);var m=n(56884),p=n(53976),h=n(26434);const g=({elementId:e,format:t,fileType:n,quality:c,includeChildBoards:d})=>(g,f)=>{g((0,i.yJ)()),(0,m.dO)({eventType:h.Xc.EXPORTED_DOCUMENT,eventProperties:{format:u(t,n)},userProperties:{[p.YV.FEATURE]:{[p.x2.EXPORTED_DOCUMENT]:!0}}});const E=f(),v=(0,a.b1)()(E,{elementId:e}),b=(0,a.Bx)(E,{permissionId:v}),y=(0,l.OL)(E),I=Intl.DateTimeFormat().resolvedOptions().timeZone;return o.Z.export.exportElement({elementId:e,format:t,fileType:n,quality:c,permissionId:v,permissionToken:b,includeChildBoards:d,locale:y,timezone:I}).then((({data:e})=>{const t=e.fileUrl;if(!t)throw new Error("No URL returned");return t})).catch((o=>(r.Z.error("Failed to export element",o),(0,s.vl)({errorMessage:"Failed to export element",error:o,custom:{elementId:e,format:t,fileType:n}}),Promise.reject(o))))},f=({elementId:e,sessionId:t})=>async(n,i)=>{try{const n=i(),r=(0,a.b1)()(n,{elementId:e}),s=(0,a.Bx)(n,{permissionId:r});return await o.Z.export.exportBoardMedia({boardId:e,sessionId:t,permissionId:r,permissionToken:s})}catch(l){throw r.Z.error("Failed to export board",l),(0,s.vl)({errorMessage:"Failed to export board",error:l,custom:{elementId:e}}),l}}},89339:(e,t,n)=>{"use strict";n.d(t,{m:()=>r});const r="BOARD_EDITORS_LOAD"},64322:(e,t,n)=>{"use strict";n.d(t,{Vx:()=>P,HE:()=>x,jL:()=>L});var r=n(63422),o=n.n(r),i=n(77606),s=n.n(i),a=n(43831),l=n(90252),c=n(70555),d=n(41995),u=n(39301),m=n(10048),p=n(45685),h=n(25507),g=n(56884),f=n(65624),E=n(81410),v=n(80275),b=n(51532),y=n(39693),I=n.n(y),C=n(74322),S=n(41748),T=n(7547),w=n(23865);class O extends S.Z{constructor(e){e.name="ValidationError",e.status=C.y3,e.code=w.ws.VALIDATION_FAILURE;const t=I()([e.field,...e.fields||[]]);e.details||(e.details=t.reduce(((t,n)=>Object.assign({},t,{[n]:{type:T.o3.ERROR,message:e.showPrimaryError?void 0:e.message,value:e.value}})),{})),super(e)}}var _=n(72681),R=n(53976),A=n(36309),D=n(29176),N=n(89339);const x=(e,t)=>async(n,r)=>n((0,h.S)(D.P6.boardEditors,e,t)((async()=>{const t=await(0,p.dJ)({url:`elements/${e}/editors`}),r=o()(["data","editors"],t);if(!s()(r))return n({type:N.m,elementId:e,editors:r})}))),M=({addUserIds:e=[],addNewUserEmails:t=[]})=>{(0,g.dO)({eventType:"Shared a board with someone",eventProperties:{shareType:(0,d.V)(A.Jo.FULL_ACCESS),usersAdded:e.length+t.length},userProperties:{[R.YV.FEATURE]:{[R.x2.INVITED_USER]:!0}}})},P=({user:e})=>async(t,n)=>{if(!e)return;const r=n(),o=(0,E.nv)(r);if(!(0,v.gG)(r))return;const i=[],s=[],d=(e=>(0,a.vg)("contactType",e)===_.g.GOOGLE?(0,a.vg)("userId",e):(0,l.n5)(e))(e);if(d)i.push(d);else{const t=(0,c.OD)(e);s.push(t)}M({addUserIds:i,addNewUserEmails:s});try{await t((0,b.P2)({boardId:o,addNewUserEmails:s,addUserIds:i,permissions:A.Jo.FULL_ACCESS}))}catch(u){throw m.Z.error("Failed to add user as editor",u),u}},L=({inputText:e})=>async(t,n)=>{const r=n();if(!(0,v.gG)(r))return;const o=(0,f.Z)(e);if(o)throw o.value&&o.value.length>1&&(o.message="Multiple emails are invalid"),new O(o);const i=(0,u.a6)(e);if(!s()(i)){if(i.length>20)throw new O({message:"A maximum of 20 users can be added at once"});M({addNewUserEmails:i});try{const e=(0,E.nv)(r);await t((0,b.P2)({boardId:e,addNewUserEmails:i,permissions:A.Jo.FULL_ACCESS}))}catch(a){throw m.Z.error("Failed to add emails as editors",a),a}}}},55207:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,g:()=>o});var r=n(43831);const o=(0,r.vg)("viewer"),i=(0,r.P2)(["viewer","_id"])},45278:(e,t,n)=>{"use strict";n.d(t,{V:()=>o,g:()=>r});const r="PUBLISHED_BOARD_VIEWERS_LOAD",o="RESET_PUBLISHED_BOARD_VIEWERS"},1638:(e,t,n)=>{"use strict";n.d(t,{E:()=>s,v:()=>i});var r=n(69e3);const o="milanote.dark_mode.suggested",i=()=>r.Z.getItem(o)||!1,s=()=>r.Z.setItem(o,!0)},36662:(e,t,n)=>{"use strict";n.d(t,{S:()=>i,p:()=>o});var r=n(69129);const o="NOTIFICATION_SET_SELECTED",i=r.K2.NOTIFICATIONS},19699:(e,t,n)=>{"use strict";n.d(t,{w:()=>r});const r="PUSH_NOTIFICATIONS_SUGGESTION_SHOWN"},13415:(e,t,n)=>{"use strict";n.d(t,{$x:()=>c,Jv:()=>s,aq:()=>l,uG:()=>a});var r=n(69e3);const o="milanote.push.suggested",i="milanote.push.dismissed_permanently",s=()=>r.Z.getItem(o)||!1,a=()=>r.Z.getItem(i)||!1,l=()=>r.Z.setItem(o,!0),c=()=>r.Z.setItem(i,!0)},79589:(e,t,n)=>{"use strict";n.d(t,{Wb:()=>d,in:()=>u,lZ:()=>m});var r=n(22222),o=n(78327),i=n(43831),s=n(49508),a=n(80275),l=n(83547);const c=(0,r.P1)(l.$,a.Kw,((e,t)=>e.get(t))),d=(0,r.zB)({element:c,elementId:a.Kw,quickNotesRootId:a.Kw}),u=(0,o.y1)(s.cs,a.Kw,((e,t)=>e[t]||[])),m=(0,o.y1)(u,l.$,i.yS)},87975:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(19495),o=n(19092);const i=(()=>{let e=0,t=0,n=!1,i=!1,s=!1;const a=performance.now(),l=()=>{if(i)return;const o=((e,t,n)=>!(!e||!t&&n))(e,t,n);o&&(()=>{const n=Math.max(e,t);(0,r.mE)(n),i=!0})()};return{initialiseTimer:()=>{i||(s=performance.now()-a<10*o.yu.SECOND)},cancelTimer:()=>{s=!1},setActivityIndicatorsInitialised:()=>{e||!s||i||(e=Date.now(),setTimeout(l,o.yu.SECOND))},setBoardCountsInitialised:()=>{t||!s||i||(t=Date.now(),l())},registerBoardCountsWaiting:()=>{n=!0}}})()},43418:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a,r:()=>s});var r=n(43393);const o=r.Map();let i;const s=()=>n.e(902).then(n.bind(n,98042)).then((e=>{i=e.default})),a=e=>i?i.get(e):(console.warn(`Trying to load onboarding step "${e}", but step config isn't loaded yet`),o)},1326:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(43393);const o=r.Map(),i=e=>o},27177:(e,t,n)=>{"use strict";n.d(t,{RA:()=>s,RG:()=>a,ky:()=>i});var r=n(69e3);const o="milanote.onboarding.progress",i=()=>r.Z.getItem(o),s=()=>r.Z.removeItem(o),a=e=>r.Z.setItem(o,e)},80637:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(29095);let o,i;o=n(43418).r;const s=()=>e=>i||(i=o().then((()=>(i=null,e((0,r.BJ)())))),i)},29095:(e,t,n)=>{"use strict";n.d(t,{BJ:()=>E,Ei:()=>p,R$:()=>m,UR:()=>u,WN:()=>y,WX:()=>g,Z1:()=>h,hz:()=>I,mo:()=>f,o6:()=>b,xj:()=>v});var r=n(10048),o=n(56884),i=n(80275),s=n(8779),a=n(32471),l=n(37574),c=n(45238),d=n(33921);const u=(e,t)=>({type:c.Ju,step:e,meta:t}),m=(e,t)=>({type:c.A2,step:e,meta:t}),p=()=>({type:c.cG}),h=e=>({type:c.Gz,listener:e}),g=e=>({type:c.l5,listenerId:e}),f=e=>({type:c.MU,data:e}),E=()=>({type:c.u2}),v=e=>({type:c.mp,step:e}),b=()=>(e,t)=>{const n=t();if((0,i.f1)(n))return r.Z.info("navigateToSegmentPicker: User already has a segment, skipping navigate to segment picker."),void e({type:"MODAL_CLOSE"});e((0,l.hw)())},y=()=>(0,s.SF)({changes:{onboarding:null},personal:!0,sync:!0}),I=e=>(t,n)=>{const r=n().getIn(["app","currentUser","education"]),i=(0,a.y5)(r,e);(0,a.Nc)(i,d.UW.EXPLAIN_NOTE)&&(0,a.Nc)(i,d.UW.EXPLAIN_DOCUMENT)&&(0,a.Nc)(i,d.UW.EXPLAIN_LINE)&&(0,a.Nc)(i,d.UW.EXPLAIN_LINK)&&(0,a.Nc)(i,d.UW.EXPLAIN_COLUMN)&&(0,a.Nc)(i,d.UW.EXPLAIN_BOARD)&&(0,o.dO)({eventType:"Viewed all element explanation tooltips"}),t((0,s.SF)({changes:{education:i},personal:!0,sync:!0}))}},45238:(e,t,n)=>{"use strict";n.d(t,{A2:()=>o,Gz:()=>a,Ju:()=>r,MU:()=>l,cG:()=>i,l5:()=>s,mp:()=>d,u2:()=>c});const r="ONBOARDING_GOTO_STEP",o="ONBOARDING_SET_STEP",i="ONBOARDING_FINISH",s="ONBOARDING_REMOVE_LISTENER",a="ONBOARDING_ADD_LISTENER",l="ONBOARDING_SET_METADATA",c="ONBOARDING_STEPS_LOADED",d="ONBOARDING_STEP_PASSED"},97973:(e,t,n)=>{"use strict";n.d(t,{E4:()=>g,FP:()=>f,NN:()=>I,QH:()=>T,Qx:()=>w,Wu:()=>O,X1:()=>E,m:()=>C,zJ:()=>S});var r=n(16226),o=n.n(r),i=n(11560),s=n.n(i),a=n(31736),l=n.n(a),c=n(8816),d=n.n(c),u=n(22222),m=n(87430),p=n(33921),h=n(45915);const g=e=>e.getIn(["app","onboarding","currentStep"]),f=e=>e.getIn(["app","onboarding","currentStep","id"]),E=e=>e.getIn(["app","onboarding","listeners"]),v="data_",b=o()(v),y=d()(l()(((e,t)=>b(t))),s()((e=>e.replace(v,"")))),I=(0,u.P1)(m.gz,(e=>e[h.RY.INITIAL_ONBOARDING])),C=(0,u.P1)(m.gz,(e=>e[h.RY.ONBOARDING_FLOW_ID])),S=(0,u.P1)(m.gz,(e=>e[h.RY.LOGGED_OUT_REDIRECT])),T=(0,u.P1)(m.gz,(e=>y(e))),w=(0,u.P1)(m.gz,(e=>e[h.RY.INITIAL_EDUCATION]||p.Dh)),O=(0,u.P1)(m.k$,(e=>`${e.pathname}${e.search}`))},11155:(e,t,n)=>{"use strict";n.d(t,{x:()=>l});var r=n(80841),o=n.n(r),i=n(68071),s=n(34595);let a;a=(()=>{switch((0,i.uT)()){case s.Q.ANDROID_BOARD_LIST:case s.Q.IOS_CANVAS:case s.Q.IOS_BOARD_LIST:return!0;case s.Q.IPAD_OS:default:return!1}})()?n(1326).Z:n(43418).Z;const l=(e,t,n)=>{let r=a(e);return r&&(e=>o()(e.getIn(["tip","selector"])))(r)&&(r=r.setIn(["tip","selector"],r.getIn(["tip","selector"])(t,n))),r}},8520:(e,t,n)=>{"use strict";n.d(t,{Jq:()=>I,MU:()=>O,NM:()=>C,OU:()=>S});var r=n(74691),o=n.n(r),i=n(7923),s=n(40565),a=n(61473),l=n(23842),c=n(11111),d=n(8698),u=n(75763),m=n(60658),p=n(68071),h=n(76491),g=n(1266),f=n(46563),E=n(75188),v=n(11535),b=n(45575),y=n(34595);const I=()=>{const e=document.querySelector(".PresentationModeFocusLayer");return e?e.getBoundingClientRect():null},C=e=>!((0,d.KX)(e)&&!(0,c.F_)(e))&&(!(0,c.P7)(e)&&(!(0,c.N2)(e)&&(!(0,c.Ag)(e)&&(!(0,c.Iw)(e)||!(0,u.esd)(e)&&!(0,m.N0)(e))))),S=(e,t)=>{const n=document.getElementById((0,a.Oc)(e)),r=document.querySelector(".PresentationModeFocusLayer"),o=I();if(!n||!r||!o)return;const i=n.getBoundingClientRect(),c=(0,l.du)(r);return{position:s.Iu(c,s.Yw(o,i)),scale:t,size:i}},T=()=>(0,p.uT)()===y.Q.IOS_CANVAS?15:50,w=(e,t,n,r)=>{const i=t.width/e.width*n,s=t.height/e.height*n,a=(0,p.uT)()===y.Q.IOS_CANVAS?i:Math.min(i,s),l=(0,p.uT)()===y.Q.IOS_CANVAS?1:1.5,c=(e=>{switch((0,u.BGE)(e)){case h.WK:case g.X:case f.BA:case E.Kl:case v.KY:case b.lq:return 2;default:return 10}})(r);return o()(a,l,c)},O=(e,t,n)=>{const r=document.getElementById((0,a.Oc)(e)),o=document.querySelector(".PresentationModeFocusLayer"),s=I();if(!r||!o||!s)return;const l=r.getBoundingClientRect(),c=((e,t,n,r)=>{const o=w(e,t,n,r),s=T()/o*n,a=i.lG({top:s,right:s,bottom:s,left:s},e);return w(a,t,n,r)})(l,s,t,n),d=i.bA(c/t,i.rI(l)),u=((e,t,n)=>{const r=T();return{x:Math.max((t.width-e.width)/2,r),y:Math.max((t.height-e.height)/2,r)}})(d,s);return{size:d,position:u,scale:c}}},81050:(e,t,n)=>{"use strict";n.d(t,{ON:()=>l,r8:()=>d,EE:()=>c,cE:()=>u,Qr:()=>m,JV:()=>p,Fe:()=>s,OP:()=>a});var r=n(56884),o=n(540),i=n(26434);const s=({hideComments:e,disableEditing:t,isFocusModeAllowed:n})=>async s=>{s({type:o.z0}),s(a({type:o.io,hideComments:e,disableEditing:t,isFocusModeAllowed:n})),document.fullscreenElement||document.webkitIsFullScreen||document.mozFullScreenElement||(document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.mozRequestFullscreen?document.documentElement.mozRequestFullscreen():document.documentElement.requestFullscreen()),(0,r.dO)({eventType:i.Xc.ENTERED_PRESENTATION_MODE})},a=({hideComments:e,disableEditing:t,isFocusModeAllowed:n})=>async s=>{s({type:o.io,hideComments:e,disableEditing:t,isFocusModeAllowed:n}),e&&(0,r.dO)({eventType:i.Xc.PRESENTATION_MODE_HIDE_COMMENTS_ENABLED}),t&&(0,r.dO)({eventType:i.Xc.PRESENTATION_MODE_PREVENT_EDITING_ENABLED})},l=()=>async e=>{e({type:o.wS}),document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozExitFullScreen?document.mozExitFullScreen():document.exitFullscreen()},c=(e,t,n)=>({type:o.eK,elementId:e,initialZoomScale:t,elementProps:n}),d=()=>({type:o.rr}),u=()=>({type:o.P3}),m=()=>({type:o.T_}),p=e=>({type:o.xq,elementId:e})},540:(e,t,n)=>{"use strict";n.d(t,{GY:()=>s,P3:()=>u,Q4:()=>a,T_:()=>m,dh:()=>h,eK:()=>d,fd:()=>l,io:()=>i,rr:()=>c,wS:()=>o,xq:()=>p,z0:()=>r});const r="PRESENTATION_MODE_START",o="PRESENTATION_MODE_END",i="PRESENTATION_MODE_SETTINGS_UPDATE",s="milanote.presentation.hide-comments",a="milanote.presentation.disable-editing",l="milanote.presentation.allow-focus-mode",c="FOCUS_MODE_ACTIVE",d="FOCUS_MODE_APPEARING",u="FOCUS_MODE_DISAPPEARING",m="FOCUS_MODE_INACTIVE",p="FOCUS_MODE_ELEMENT_CLICKED";let h;!function(e){e.APPEARING="APPEARING",e.DISAPPEARING="DISAPPEARING",e.ACTIVE="ACTIVE",e.INACTIVE="INACTIVE"}(h||(h={}))},90624:(e,t,n)=>{"use strict";n.d(t,{$D:()=>l,HW:()=>o,fu:()=>i,gB:()=>c,kh:()=>s,li:()=>r,qP:()=>a,yM:()=>d});const r=e=>!!e.getIn(["app","presentation","enabled"]),o=e=>e.getIn(["app","presentation","hideComments"]),i=e=>e.getIn(["app","presentation","disableEditing"]),s=e=>e.getIn(["app","presentation","isFocusModeAllowed"]),a=e=>e.getIn(["app","presentation","focusModeStatus"]),l=e=>e.getIn(["app","presentation","focusedElementId"]),c=e=>e.getIn(["app","presentation","focusModeInitialZoomScale"]),d=e=>e.getIn(["app","presentation","focusedElementProps"])},7624:(e,t,n)=>{"use strict";n.d(t,{Dk:()=>s,L2:()=>i,Rc:()=>o});var r=n(20219);const o=e=>({type:r.ji,startingBoardId:e,mode:r.D3.PUBLISH_PREVIEW}),i=()=>({type:r.Wm,mode:r.D3.DEFAULT}),s=()=>({type:r.rk})},20219:(e,t,n)=>{"use strict";n.d(t,{D3:()=>a,Wm:()=>i,ji:()=>o,rk:()=>s,tI:()=>r});const r="publish-preview",o="PREVIEW_MODE_START",i="PREVIEW_MODE_END",s="PUBLISH_PREVIEW_PASSWORD_VALIDATED",a={DEFAULT:"DEFAULT",PUBLISH_PREVIEW:"PUBLISH_PREVIEW"}},52781:(e,t,n)=>{"use strict";n.d(t,{U:()=>s,Yf:()=>i,s:()=>l,vJ:()=>a});var r=n(68468),o=n(20219);const i=e=>e.getIn(["app","preview","mode"])===o.D3.PUBLISH_PREVIEW,s=e=>e.getIn(["app","preview","startingBoardId"]),a=e=>e.getIn(["app","preview","passwordValidated"]),l=e=>(0,r.$3)(e).get(s(e))},51532:(e,t,n)=>{"use strict";n.d(t,{Ct:()=>D,MK:()=>O,P2:()=>C,RC:()=>A,YU:()=>w,YY:()=>T,_A:()=>R,rm:()=>N,w5:()=>_});var r=n(58809),o=n.n(r),i=n(41609),s=n.n(i),a=n(39693),l=n.n(a),c=n(57043),d=n.n(c),u=n(36428),m=n(79900),p=n(80275),h=n(10305),g=n(25552),f=n(96181),E=n(20354),v=n(79925);const b=["boardId","addUserIds","addNewUserEmails","updateUserIds","removeUserIds"];const y=o()("_id"),I=e=>t=>{let{boardId:n,addUserIds:r,addNewUserEmails:o,updateUserIds:i,removeUserIds:a}=t,c=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,b);return async(t,u)=>{t({type:v.d,id:n,addUserIds:r,addNewUserEmails:o,updateUserIds:i,removeUserIds:a});try{const l=u(),d=(0,m.b1)()(l,{elementId:n}),f=(0,m.Bx)(l,{permissionId:d}),E=(0,p.OL)(l),v=await e(Object.assign({boardId:n,addUserIds:r,addNewUserEmails:o,updateUserIds:i,removeUserIds:a,permissionToken:f,locale:E},c)),{element:b,addedUsers:I}=v.data;if(!s()(I)){const e=y(I);t((0,g.p_)(e))}return t((0,h.eI)({id:b.id,acl:b.acl,addUserIds:r,addNewUserEmails:o,updateUserIds:i,removeUserIds:a,addedUsers:I,sync:!1})),v.data}catch(f){const e=f.message,s=l()(d()(r,i,a,o));throw(0,E.vl)({errorMessage:e,error:f}),t({type:v.h,id:n,error:e,userIds:s}),f}}},C=I(u.j2),S=I(u.vE),T=I(u.cu),w=I(u.cu),O=I(u.MK),_=I(u.w5),R=I(u._A),A=I(u.RC),D=({boardId:e,newOwnerId:t})=>n=>n(S({boardId:e,updateUserIds:[t]})),N=({boardId:e,permissionId:t})=>async n=>{const r=await u._M({boardId:e,permissionId:t}),{permission:o}=r.data;return n((0,f.up)({permissions:[o]}))}},79925:(e,t,n)=>{"use strict";n.d(t,{d:()=>r,h:()=>o});const r="ELEMENT_UPDATE_PERMISSIONS",o="ELEMENT_UPDATE_PERMISSIONS_ERROR"},36428:(e,t,n)=>{"use strict";n.d(t,{MK:()=>h,O9:()=>E,RC:()=>b,_A:()=>v,_M:()=>y,cu:()=>p,j2:()=>m,qD:()=>f,vE:()=>u,w5:()=>g});var r=n(91175),o=n.n(r),i=n(45685),s=n(19092),a=n(14927);const l=["boardId","addUserIds","updateUserIds","removeUserIds","permissionToken"],c=["tokens","boardId","feature"];function d(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}const u=({boardId:e,updateUserIds:t})=>(0,i.ZP)({method:a.Is.PUT,url:`elements/${e}/owner`,timeout:15*s.yu.SECOND,data:{newOwnerId:o()(t)}}),m=e=>{let{boardId:t,addUserIds:n,updateUserIds:r,removeUserIds:o,permissionToken:c}=e,u=d(e,l);return(0,i.ZP)(Object.assign({method:a.Is.PUT,url:`elements/${t}/permissions-invite`,timeout:15*s.yu.SECOND,retry:2,data:Object.assign({addUserIds:n,updateUserIds:r,removeUserIds:o},u)},c&&{headers:{[a.$7.PERMISSION_TOKENS]:c}}))},p=({boardId:e,removeUserIds:t,updateUserIds:n,permissions:r,permissionToken:o})=>(0,i.ZP)(Object.assign({method:a.Is.PUT,url:`elements/${e}/permissions`,timeout:15*s.yu.SECOND,retry:2,data:{removeUserIds:t,updateUserIds:n,permissions:r}},o&&{headers:{[a.$7.PERMISSION_TOKENS]:o}})),h=e=>{let{tokens:t,boardId:n,feature:r}=e,o=d(e,c);return(0,i.ZP)({method:a.Is.PUT,url:`elements/${n}/publish`,timeout:15*s.yu.SECOND,retry:2,data:o,headers:{[a.$7.API_FEATURE]:r,[a.$7.PERMISSION_TOKENS]:t}})},g=({tokens:e,boardId:t})=>(0,i.ZP)({method:a.Is.DELETE,url:`elements/${t}/publish`,timeout:15*s.yu.SECOND,retry:2,headers:{[a.$7.PERMISSION_TOKENS]:e}}),f=({boardId:e,permissionId:t,password:n,tokens:r})=>(0,i.ZP)({method:a.Is.PUT,url:`elements/${e}/publish/${t}/password`,timeout:30*s.yu.SECOND,retry:1,data:{password:n},headers:{[a.$7.PERMISSION_TOKENS]:r}}),E=({boardId:e,permissionId:t,tokens:n})=>(0,i.ZP)({method:a.Is.DELETE,url:`elements/${e}/publish/${t}/password`,timeout:30*s.yu.SECOND,retry:1,headers:{[a.$7.PERMISSION_TOKENS]:n}}),v=({boardId:e,permissionToken:t})=>(0,i.ZP)(Object.assign({method:a.Is.PUT,url:`elements/${e}/public-edit`,timeout:15*s.yu.SECOND,retry:2},t&&{headers:{[a.$7.PERMISSION_TOKENS]:t}})),b=({boardId:e,permissionToken:t})=>(0,i.ZP)(Object.assign({method:a.Is.DELETE,url:`elements/${e}/public-edit`,timeout:15*s.yu.SECOND,retry:2},t&&{headers:{[a.$7.PERMISSION_TOKENS]:t}})),y=({boardId:e,permissionId:t})=>(0,i.ZP)({method:a.Is.PUT,url:`elements/${e}/reset-link/${t}`,timeout:15*s.yu.SECOND,retry:1})},41995:(e,t,n)=>{"use strict";n.d(t,{V:()=>o});var r=n(36309);const o=e=>{switch(e){case r.Jo.FULL_ACCESS:return"edit";case r.Jo.READ_AND_FEEDBACK:return"feedback";default:return"read"}}},64772:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294),o=n(45697),i=n.n(o),s=n(26815);const a=e=>{const{shortcut:t,preferSymbol:n,size:o}=e;return t?r.createElement("div",{className:"ShortcutKeyGroup"},t.map(((e,t)=>r.createElement(s.ZP,{preferSymbol:n,key:t,size:o},e)))):null};a.propTypes={size:i().string,shortcut:i().array,preferSymbol:i().bool};const l=a},81396:(e,t,n)=>{"use strict";n.d(t,{B4:()=>u,F2:()=>o,Pt:()=>s,Qd:()=>a,U0:()=>c,_7:()=>i,aK:()=>r,aT:()=>l,os:()=>d});const r={FILE:"file"},o={PLAIN_TEXT:"text/plain",RICH_TEXT:"text/rtf",HTML:"text/html",FILES:"Files",ELEMENTS:"application/milanote-elements",URI_LIST:"text/uri-list",JSON:"application/json"},i="ELEMENT_CLIPBOARD_UNDO",s="ELEMENT_CLIPBOARD_SAVE",a="ELEMENT_CLIPBOARD_PASTE",l=2,c=2,d="CUT",u="COPY"},63015:(e,t,n)=>{"use strict";n.d(t,{Jp:()=>r,Pt:()=>d,UH:()=>c,_k:()=>l,hd:()=>i,lz:()=>s,sw:()=>a,u:()=>o});const r=e=>e.getIn(["local","clipboard","pasteCount"]),o=e=>e.getIn(["local","clipboard","operation"]),i=e=>e.getIn(["local","clipboard","saveId"]),s=e=>e.getIn(["local","clipboard","elements"]),a=e=>e.getIn(["local","clipboard","visibleOnCanvas"]),l=e=>e.getIn(["local","clipboard","elementsBoundingRect"]),c=e=>e.getIn(["local","clipboard","cutElementsIdMap"]),d=(e,t)=>e.getIn(["local","clipboard","cutElementsIdMap",t.elementId])},18758:(e,t,n)=>{"use strict";n.d(t,{B0:()=>w,JP:()=>R,JV:()=>O,fn:()=>D,fz:()=>A,jR:()=>_,sx:()=>T});var r=n(43831),o=n(51752),i=n(11111),s=n(75763),a=n(80583),l=n(42168),c=n(51170),d=n(81188),u=n(87447),m=n(91040),p=n(81410),h=n(99238),g=n(48791),f=n(25926),E=n(90624),v=n(24389),b=n(73141),y=n(40253),I=n(56860),C=n(97245),S=n(48126);const T=e=>(t,n)=>{const r=n();if((0,E.li)(r)&&(0,E.$D)(r))return;if(!(0,u.Sp)(r).size)return;if((0,h._)(r))return;e.preventDefault();const i={[e.keyCode===y.nx.LEFT_ARROW||e.keyCode===y.nx.RIGHT_ARROW?"x":"y"]:((0,o.p9)(e)?5:1)*(e.keyCode===y.nx.LEFT_ARROW||e.keyCode===y.nx.UP_ARROW?-1:1)};t((0,v.Il)(i))},w=()=>(e,t)=>{const n=t(),r=(0,p.nv)(n);if((0,h._)(n))return;const o=(0,u.Sp)(n).toJS();e((0,b.fC)({currentBoardId:r,elementIds:o}))},O=()=>(e,t)=>{const n=t(),o=(0,p.nv)(n);if((0,h._)(n))return;const l=(0,m.UK)(n),c=(0,u.eD)(n).filter((e=>(0,a.mN)(l,e)&&!(0,s.cOT)(e)&&!((0,i.P7)(e)||(0,i.Iw)(e)&&(0,s.esd)(e))));if(!c.size)return;const d=c.map((e=>({id:(0,s.nRF)(e),location:Object.assign({},(0,r.su)((0,s.qEr)(e)),{parentId:o,section:I.WI.INBOX})}))).toJS();e((0,v.Zq)({moves:d,moveOperation:C.Pm.UNSORTED}))},_=(e,t)=>(0,b.np)({increaseScore:!0},t),R=(e,t)=>(0,b.np)({increaseScore:!1},t),A=e=>(t,{measurementsDispatch:n})=>(t,r)=>{const o=r(),i=(0,u.eD)(o);if(!i||i.size<2)return;const s=(0,g.FP)(o),a=n((0,f.hU)()),c=(0,d.tQ)(o),m=(0,l.v)({elements:i,currentBoard:c,measurements:a,gridSize:s,alignSide:e});t((0,v.Zq)({moves:m,moveOperation:C.Pm.ALIGN}))},D=e=>(t,{measurementsDispatch:n})=>(t,r)=>{const o=r(),i=(0,u.eD)(o);if(!i||i.size<3)return;const s=(0,g.FP)(o),a=n((0,f.hU)()),l=(0,d.tQ)(o),m=e===S.r.VERTICAL?(0,c.Gr)({measurements:a,selectedElements:i,currentBoard:l,gridSize:s}):(0,c.$9)({measurements:a,selectedElements:i,currentBoard:l,gridSize:s});t((0,v.Zq)({moves:m,moveOperation:C.Pm.ALIGN}))}},79532:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>a,tG:()=>s});var r=n(68356),o=n.n(r);const i=o()({loader:()=>n.e(3947).then(n.bind(n,38759)),loading:()=>null}),s=o()({loader:()=>n.e(9238).then(n.bind(n,53352)),loading:()=>null}),a=i},26815:(e,t,n)=>{"use strict";n.d(t,{kO:()=>c,Rq:()=>d,ZP:()=>p});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s),l=n(85263);const c=e=>{switch(e.toLowerCase()){case"ctrl":return"ctrl";case"⌘":case"cmd":case"command":return l.mL?"⌘":"ctrl";case"⌥":case"alt":case"opt":case"option":return l.mL?"option":"alt";default:return e}},d=e=>{switch(e.toLowerCase()){case"ctrl":return"⌃";case"⌘":case"cmd":case"command":return l.mL?"⌘":"⌃";case"⌥":case"alt":case"opt":case"option":return l.mL?"⌥":"alt";case"shift":return"⇧";case"return":return"⏎";case"tab":return"⇥";default:return e}},u=e=>{switch(e){case">":case"<":return!0;default:return!1}},m=({children:e,size:t="normal",preferSymbol:n=!1})=>{const o=n?d(e):c(e),i=o!==e?e:null,s=a()("ShortcutKey",`shortcut-${t}`,{char:1===o.length,"shift-up":u(e)});return r.createElement("span",{className:s,title:i},o)};m.propTypes={children:i().string.isRequired,size:i().string,preferSymbol:i().bool};const p=m},64101:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(15886),o=n.n(r),i=n(17351),s=n.n(i),a=n(63422),l=n.n(a),c=n(67294),d=n(45697),u=n.n(d),m=n(44335),p=n(49513),h=n(56580),g=n.n(h),f=n(41013);const E=g()((e=>{switch(e){case f.HR.SMALL.name:return 32;case f.HR.MEDIUM.name:return 37;case f.HR.LARGE.name:default:return 41}})),v=g()((e=>{switch(e){case f.HR.SMALL.name:return 13;case f.HR.MEDIUM.name:case f.HR.LARGE.name:default:return 18}})),b=(e,t,n)=>(l()([e,"height",t],n)||l()(["default","height",t],n)||0)+v(t),y=({availableTools:e,collapseOrder:t,toolsConfig:n,gridSizeName:r,hasConfiguredMoreTool:i,availableHeight:a=0,unavailableHeight:l=0})=>{const c=((e,t=[])=>[...s()(e,t),...o()(e,t).reverse()])(e,t),d=(e,t)=>{const{totalHeight:o,visibleTools:i}=e,s=o+b(t,r,n);return Object.assign({},e,{visibleTools:[...i,t],totalHeight:s})},u=a-l-(i?0:E(r)),{visibleTools:m}=c.reduce(((e,t)=>{var o;const{totalHeight:i,limited:s}=e,a=n[t]||n.default;if(null===(o=a.alwaysVisiblePredicate)||void 0===o?void 0:o.call(a,n))return d(e,t);if(s)return e;if(a.alwaysCollapsed)return e;return i+b(t,r,n)<u?d(e,t):Object.assign({},e,{limited:!0})}),{visibleTools:[],totalHeight:0,limited:!1});return m};var I=n(65531);const C=e=>{const{availableTools:t,toolsConfig:n,collapseOrder:r,gridSizeName:i,availableHeight:a,unavailableHeight:d}=e,u=t.some((e=>e===I.x$)),h=y({availableTools:t,collapseOrder:r,toolsConfig:n,gridSizeName:i,availableHeight:a,unavailableHeight:d,hasConfiguredMoreTool:u}),g=o()(h,t),f=s()(t,h).filter((e=>!l()([e,"hideWhenCollapsed"],n)));return c.createElement("div",{className:"CollapsableTools"},c.createElement(m.Z,Object.assign({},e,{collapsedTools:f,toolsConfig:n,className:"tools",tools:g}),u?null:c.createElement(p.Z,Object.assign({},e,{toolsConfig:n,collapsedTools:f}))))};C.propTypes={moreClassName:u().string,toolsId:u().string.isRequired,toolsConfig:u().object.isRequired,availableTools:u().array.isRequired,collapseOrder:u().array,gridSizeName:u().string.isRequired,unavailableHeight:u().number,availableHeight:u().number};const S=C},44335:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(23905),o=n.n(r),i=n(63422),s=n.n(i),a=n(67294),l=n(45697),c=n.n(l),d=n(94184),u=n.n(d);const m=["className","tools","toolsConfig","children","groupSize"];const p=e=>{let{className:t,tools:n,toolsConfig:r,children:i,groupSize:l=4}=e,c=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,m);return a.createElement("div",{className:u()("GroupedToolList",t)},o()(l,n).map(((e,t)=>a.createElement("div",{key:t,className:"toolGroup"},e.map((e=>{const t=r[e],n=(({toolName:e,toolsConfig:t})=>s()([e,"component"],t)||s()(["default","component"],t))({toolName:e,toolsConfig:r});return a.createElement(n,Object.assign({key:e},c,t,{toolsConfig:r,toolName:e}),null)}))))),i)};p.propTypes={className:c().string,groupSize:c().number,toolsConfig:c().object,tools:c().array.isRequired,children:c().oneOfType([c().arrayOf(c().node),c().node])};const h=p},49513:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(67294),o=n(45697),i=n.n(o),s=n(28200),a=n(94184),l=n.n(a),c=n(67789),d=n(44335);class u extends r.Component{componentWillUnmount(){this.props.closePopup()}render(){const{collapsedTools:e}=this.props;return r.createElement(d.Z,Object.assign({},this.props,{className:"MorePopupContents",tools:e}))}}const m=e=>r.createElement(c.Z,{ignoredClicksSelector:`#more-tool-${e.toolsId}`,popupId:e.popupId,buttonSelector:`#more-tool-${e.toolsId} .Icon.toolbar-more`,className:l()("MorePopup",`toolbar-size-${e.gridSizeName}`,e.className),arrowColor:"var(--ws-canvas-background)",closePopup:e.closePopup},r.createElement(u,e));u.propTypes=m.propTypes={className:i().string,popupId:i().string.isRequired,toolsId:i().string.isRequired,collapsedTools:i().array.isRequired,toolsConfig:i().object.isRequired,closePopup:i().func.isRequired,gridSizeName:i().string.isRequired};const p=m,h=e=>{const{collapsedTools:t=[]}=e;return 0===t.length?null:r.createElement(s.Z,Object.assign({},e,{id:`more-tool-${e.toolsId}`,popupId:`more-${e.toolsId}`,toolName:"more",preventFocus:!0,name:"",PopupComponent:p}))};h.propTypes={toolsId:i().string.isRequired,collapsedTools:i().array.isRequired};const g=h},96326:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(67294),o=n(45697),i=n.n(o),s=n(69164),a=r.createElement("div",{className:"ToolbarMeasure"});const l=({setAvailableHeight:e})=>r.createElement(s.Z,{whitelist:["height"],onMeasure:({height:t})=>e(t)},a);l.propTypes={setAvailableHeight:i().func};const c=l},7495:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(23279),o=n.n(r),i=n(67294),s=n(45697),a=n.n(s),l=n(94184),c=n.n(l),d=n(28644),u=n(85263),m=n(41563),p=n(77875);function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=(0,d.aU)("onClick"),f=(0,d.aU)("onPointerDown");class E extends i.Component{constructor(e){super(e),h(this,"createDebouncedMouseHandlers",(e=>{this.onMouseDown=e.onMouseDown&&o()(e.onMouseDown,250,{leading:!0,trailing:!1}),this.onPointerDown=e.onPointerDown&&o()(e.onPointerDown,250,{leading:!0,trailing:!1}),this.onClick=e.onClick&&o()(e.onClick,250,{leading:!0,trailing:!1})})),this.createDebouncedMouseHandlers(e)}componentWillReceiveProps(e){(g(this.props,e)||f(this.props,e))&&this.createDebouncedMouseHandlers(e)}render(){const{id:e,isDragging:t,isActive:n,isDraggable:r,disabled:o,name:s,className:a,children:l,tooltipEnabled:d,tooltipText:h,shortcut:g}=this.props,f={dragging:t,active:n,draggable:r,hoverable:(0,u.oZ)(),disabled:o},E=s?i.createElement("span",{className:"tool-name"},s):null;return i.createElement("div",{id:e,className:c()("Tool",a,f),onClick:this.onClick,onMouseDown:this.onMouseDown,onPointerDown:this.onPointerDown},i.createElement("div",{className:"contents"},i.createElement(m.Z,{enabled:d,tooltipText:h,shortcut:g,position:p.as.RIGHT,delay:700,pollPosition:!0,triggerOnMouseEnter:!0},i.createElement("div",{className:"icon"},r&&i.createElement("div",{className:"draggable-shadow"},l),l)),E))}}E.propTypes={children:a().oneOfType([a().element,a().array]).isRequired,name:a().string,iconName:a().string,isDraggable:a().bool,isDragging:a().bool,isActive:a().bool,onClick:a().func,onPointerDown:a().func,className:a().string,id:a().string,tooltip:a().string,disabled:a().bool,tooltipEnabled:a().bool,tooltipText:a().string,shortcut:a().array};const v=E},71188:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294),o=r.createElement("div",{className:"ToolSeparator"},r.createElement("div",{className:"separator-line"}));const i=()=>o},28200:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(25468),o=n.n(r),i=n(52905),s=n.n(i),a=n(67294),l=n(45697),c=n.n(l),d=n(37974),u=n(22222),m=n(94184),p=n.n(m),h=n(19690),g=n(9365),f=n(12767),E=n(87701),v=n(60434);function b(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const y=({toolName:e,gridSize:t})=>a.createElement(E.Z,{gridSize:t,name:`toolbar-${o()(e)}`});y.propTypes={gridSize:c().number,toolName:c().string};const I=(0,u.P1)(((e,t)=>t.popupId||t.toolName),h._W,((e,t)=>({isPopupOpen:t.has(e)})));class C extends a.Component{constructor(...e){super(...e),b(this,"openPopup",(e=>{const{dispatchOpenPopup:t,toolName:n,popupId:r}=this.props;e.preventDefault(),t(r||n)})),b(this,"closePopup",(e=>{const{dispatchClosePopup:t,toolName:n,popupId:r}=this.props;t(r||n)})),b(this,"eventProps",{openPopup:this.openPopup,closePopup:this.closePopup})}render(){const{name:e,toolName:t,IconComponent:n,PopupComponent:r,id:o,show:i=!0,disabled:l,popupId:c,stayActivePredicate:d,preventFocus:u,isPopupOpen:m,children:h}=this.props;if(!i)return null;const E=n||y;return a.createElement("div",{className:p()("ToolbarPopupTool",`${s()(t)}Tool`),id:o},a.createElement(f.ZP,{popupId:c||t,stayActivePredicate:d,preventFocus:u,disabled:l},(t=>a.createElement(g.Z,Object.assign({},this.props,{name:e,isOpen:t}),h||a.createElement(E,Object.assign({},this.props,this.eventProps))))),a.createElement(r,Object.assign({},this.props,this.eventProps,{popupIsOpen:m})))}}C.propTypes={id:c().string,toolName:c().string.isRequired,name:c().string,children:c().node,preventFocus:c().bool,PopupComponent:c().func.isRequired,IconComponent:c().func,openPopup:c().func,dispatchOpenPopup:c().func,dispatchClosePopup:c().func,popupId:c().string,stayActivePredicate:c().func,isPopupOpen:c().bool,show:c().bool,disabled:c().bool,distance:c().number};const S=(0,d.$j)(I,(e=>({dispatchOpenPopup:t=>e((0,v.zI)(t)),dispatchClosePopup:t=>e((0,v.j4)(t,!1))})))(C)},9365:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s),l=n(7495);const c=e=>r.createElement(l.Z,Object.assign({},e,{className:a()("ToolbarTool",e.className,{open:e.isOpen})}));c.propTypes={className:i().string,isOpen:i().bool};const d=c},65531:(e,t,n)=>{"use strict";n.d(t,{Bj:()=>v,DH:()=>w,v1:()=>O,Iq:()=>R,N4:()=>A,uK:()=>T,m$:()=>I,W:()=>b,x$:()=>S,OT:()=>C,Dd:()=>y});var r=n(76491),o=n(59551),i=n(56860),s=n(46563),a=n(75188),l=n(45575),c=n(79762),d=n(11535),u=n(6690),m=n(94081),p=n(91727),h=n(82681),g=n(96886),f=n(54301),E=n(70483);const v=`${u.xE}-${u.rm.AUDIO}`,b=`${u.xE}-${u.rm.MAP}`,y=`${u.xE}-${u.rm.VIDEO}`,I=`${r.WK}-HEADER`,C="TOOL_SEPARATOR",S="MORE_TOOL",T=[r.WK,u.xE,a.Kl,o.H3,i.V_,s.BA,l.lq,f.vj,c.xe,d.KY,g.tE,v,b,y,I,S,C,m.nr,p.Gk,h.Mc],w=[b,v,y,I,c.xe,o.H3,g.tE,d.KY,p.Gk,f.vj,l.lq,u.xE,m.nr,E.c,h.Mc,a.Kl,s.BA,i.V_],O=[b,v,y,I,c.xe,o.H3,g.tE,d.KY,f.vj,l.lq,u.xE,m.nr,E.c,h.Mc,p.Gk,a.Kl,s.BA,i.V_],_=e=>[...e].reduce(((e,t)=>(e[t]=!0,e)),{}),R=_([r.WK,u.xE,a.Kl,o.H3,i.V_,s.BA,f.vj,l.lq,m.nr,p.Gk,h.Mc,E.c]),A=_([r.WK,u.xE,a.Kl,i.V_,s.BA,f.vj,l.lq,c.xe,m.nr,p.Gk,h.Mc])},68180:(e,t,n)=>{"use strict";n.d(t,{P0:()=>l,Qq:()=>c,S_:()=>i,UR:()=>a,fw:()=>o,mi:()=>r,qx:()=>s});const r="IMAGE_SEARCH_SUBMIT",o="IMAGE_SEARCH_SUCCESS",i="IMAGE_SEARCH_FAILURE",s="IMAGE_SEARCH_SET_MODE",a="__DEFAULT__",l="__UPLOAD__",c="milanote.image-search.web-extension-panel-visibility"},83073:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s),l=n(71188),c=r.createElement(l.Z,null);const d=e=>{const{className:t,showSeparators:n,children:o}=e;return r.createElement("div",{className:a()("SubToolList",t)},o,n&&c)};d.propTypes={children:i().oneOfType([i().arrayOf(i().node),i().node]),className:i().string,showSeparators:i().bool};const u=d},67736:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(94184),l=n.n(a),c=n(80275),d=n(60434),u=n(67789);const m=({children:e,popupId:t,buttonSelector:n,className:o,closeArrangementPopup:i})=>r.createElement(u.Z,{popupId:t,buttonSelector:n,className:l()("ArrangementPopup",o),closePopup:()=>i(t)},r.createElement("div",{className:"tools"},e));m.propTypes={children:i().oneOfType([i().arrayOf(i().node),i().node]),popupId:i().string,buttonSelector:i().string,className:i().string,isSubscribed:i().bool,closeArrangementPopup:i().func};const p=(0,s.$j)((e=>({isSubscribed:(0,c.T8)(e)})),(e=>({closeArrangementPopup:t=>e((0,d.j4)(t))})))(m)},8512:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(54688),l=n(22222),c=n(24389),d=n(31650),u=n(81897),m=n(25926),p=n(67736),h=n(80877),g=n(87701),f=n(41563),E=n(42168),v=n(43831),b=n(75763),y=n(64242),I=n(14616),C=n(77875),S=n(97245),T=n(69129);const w=(0,l.zB)({currentBoard:u.tQ}),O=(0,a.qC)((0,s.$j)(w,(e=>({dispatchMoveMultipleElements:t=>e((0,c.Zq)({moves:t,moveOperation:S.Pm.ALIGN})),dispatchForceElementsMeasurements:t=>e((0,d.gX)(t))}))),(0,y.Z)(null,(e=>({dispatchGetMeasurementsMap:()=>e((0,m.hU)())}))),(0,a.CA)({alignElements:({gridSize:e,selectedElements:t,dispatchGetMeasurementsMap:n,dispatchMoveMultipleElements:r,dispatchForceElementsMeasurements:o,closePopup:i,currentBoard:s})=>a=>async()=>{const l=(0,v.qo)(t.map((e=>(0,b.nRF)(e))));o(l);const c=n(),d=(0,E.v)({elements:t,currentBoard:s,measurements:c,gridSize:e,alignSide:a});r(d),i()}}));var _=r.createElement(g.Z,{name:"align-left"}),R=r.createElement(g.Z,{name:"align-center-horiz"}),A=r.createElement(g.Z,{name:"align-right"}),D=r.createElement(g.Z,{name:"align-top"}),N=r.createElement(g.Z,{name:"align-center-vert"}),x=r.createElement(g.Z,{name:"align-bottom"});const M=e=>{const{alignElements:t}=e;return r.createElement(p.Z,{popupId:T.K2.ALIGNMENT,className:"AlignmentPopup",buttonSelector:".AlignmentTool .icon"},r.createElement(h.Z,{onClickFn:t(I.O.LEFT)},r.createElement(f.Z,{enabled:!0,tooltipText:"Align left",position:C.as.RIGHT,pollPosition:!0,delay:700,triggerOnMouseEnter:!0},_)),r.createElement(h.Z,{onClickFn:t(I.O.CENTER_HORIZ)},r.createElement(f.Z,{enabled:!0,tooltipText:"Align horizontal centers",position:C.as.RIGHT,pollPosition:!0,delay:700,triggerOnMouseEnter:!0},R)),r.createElement(h.Z,{onClickFn:t(I.O.RIGHT)},r.createElement(f.Z,{enabled:!0,tooltipText:"Align right",position:C.as.RIGHT,pollPosition:!0,delay:700,triggerOnMouseEnter:!0},A)),r.createElement(h.Z,{onClickFn:t(I.O.TOP)},r.createElement(f.Z,{enabled:!0,tooltipText:"Align top",position:C.as.RIGHT,pollPosition:!0,delay:700,triggerOnMouseEnter:!0},D)),r.createElement(h.Z,{onClickFn:t(I.O.CENTER_VERT)},r.createElement(f.Z,{enabled:!0,tooltipText:"Align vertical centers",position:C.as.RIGHT,pollPosition:!0,delay:700,triggerOnMouseEnter:!0},N)),r.createElement(h.Z,{onClickFn:t(I.O.BOTTOM)},r.createElement(f.Z,{enabled:!0,tooltipText:"Align bottom",position:C.as.RIGHT,pollPosition:!0,delay:700,triggerOnMouseEnter:!0},x)))};M.propTypes={selectedType:i().string,selectedElements:i().object,alignElements:i().func,distributeHorizontally:i().func,distributeVertically:i().func,closePopup:i().func,dispatchForceElementsMeasurements:i().func,dispatchGetMeasurementsMap:i().func,currentBoard:i().object};const P=O(M);var L=n(28200);const k=e=>r.createElement(L.Z,Object.assign({},e,{toolName:"alignment",PopupComponent:P}))},14616:(e,t,n)=>{"use strict";n.d(t,{O:()=>r,k:()=>o});const r={LEFT:"LEFT",CENTER_HORIZ:"CENTER_HORIZ",RIGHT:"RIGHT",TOP:"TOP",CENTER_VERT:"CENTER_VERT",BOTTOM:"BOTTOM"},o=1},42168:(e,t,n)=>{"use strict";n.d(t,{v:()=>K});var r=n(54061),o=n.n(r),i=n(46488),s=n.n(i),a=n(11558),l=n.n(a),c=n(8816),d=n.n(c),u=n(42981),m=n.n(u),p=n(39974),h=n.n(p),g=n(27617),f=n.n(g),E=n(88846),v=n.n(E),b=n(93951),y=n.n(b),I=n(7923),C=n(95019),S=n(14616);const T=l()(0),w=m()(0,1/0),O=e=>d()(v()(e),f(),w),_=e=>d()(v()(e),h(),w),R=(e,t)=>(e+t)/2,A=T,D=T,N=_("width"),x=_("height"),M=O("left"),P=_("right"),L=O("top"),k=_("bottom"),F=({getMinPossibleVal:e,getFallbackVal:t,getCurrentRectVal:n,alignTo:r})=>i=>{const a=e(i),l=t(i),c=((e,t)=>{const n=y()(s(),e),r=o()(n,((e,n,r)=>n>e.numberOfOccurrences||n===e.numberOfOccurrences&&Math.abs(r-t)<Math.abs(e.key-t)?{key:r,numberOfOccurrences:n}:e),{key:t,numberOfOccurrences:1});return parseInt(r.key,10)})(i.map(n),l),d=Math.max(a,c);return i.map(r(d))},B=F({getMinPossibleVal:A,getFallbackVal:M,getCurrentRectVal:I.IS,alignTo:e=>t=>Object.assign({},t,{x:e,left:e,right:e+t.width})}),j=F({getMinPossibleVal:N,getFallbackVal:P,getCurrentRectVal:I.EK,alignTo:e=>t=>Object.assign({},t,{x:e-t.width,right:e,left:e-t.width})}),z=F({getMinPossibleVal:e=>R(0,N(e)),getFallbackVal:e=>R(M(e),P(e)),getCurrentRectVal:e=>R((0,I.IS)(e),(0,I.EK)(e)),alignTo:e=>t=>Object.assign({},t,{x:e-R(0,t.width),left:e-R(0,t.width),right:e+R(0,t.width)})}),U=F({getMinPossibleVal:D,getFallbackVal:L,getCurrentRectVal:I.vF,alignTo:e=>t=>Object.assign({},t,{y:e,top:e,bottom:e+t.height})}),H=F({getMinPossibleVal:x,getFallbackVal:k,getCurrentRectVal:I.LT,alignTo:e=>t=>Object.assign({},t,{y:e-t.height,bottom:e,top:e-t.height})}),Z=F({getMinPossibleVal:e=>R(0,x(e)),getFallbackVal:e=>R(L(e),k(e)),getCurrentRectVal:e=>R((0,I.vF)(e),(0,I.LT)(e)),alignTo:e=>t=>Object.assign({},t,{y:e-R(0,t.height),top:e-R(0,t.height),bottom:e+R(0,t.height)})}),G={[S.O.LEFT]:B,[S.O.RIGHT]:j,[S.O.CENTER_HORIZ]:z,[S.O.TOP]:U,[S.O.BOTTOM]:H,[S.O.CENTER_VERT]:Z},K=({elements:e,currentBoard:t,measurements:n,gridSize:r,alignSide:o})=>{const i=e.filter(C.b4),s=(0,C._c)({elements:i,measurements:n,gridSize:r}),a=(0,G[o])(s),l=(0,C.aE)({rects:a,elements:i,gridSize:r});return(0,C.JD)({elements:i,rects:l,gridSize:r,currentBoard:t})}},95019:(e,t,n)=>{"use strict";n.d(t,{JD:()=>S,_c:()=>T,aE:()=>w,b4:()=>C});var r=n(42981),o=n.n(r),i=n(7108),s=n.n(i),a=n(80369),l=n.n(a),c=n(63422),d=n.n(c),u=n(58809),m=n.n(u),p=n(43831),h=n(11111),g=n(75763),f=n(9300),E=n(7923),v=n(42942),b=n(8698),y=n(14616);const I=o()(0,1/0),C=e=>!((0,h.P7)(e)&&(0,g.XSh)(e)),S=({elements:e,rects:t,gridSize:n,currentBoard:r})=>{const o=m()("id",t);return e.map((e=>{if(!e)return null;const t=(0,g.nRF)(e),i=(0,g.qEr)(e).toJS(),s=o[t];if(!s)return null;const a=(0,g.eVc)(r),l=(0,p.vg)("x",a)||0,c=(0,p.vg)("y",a)||0,u=(0,f.Rk)((0,E.IS)(s),n)+l,m=(0,f.Rk)((0,E.vF)(s),n)+c;return u===(0,g.oNe)(e)&&m===(0,g.uLQ)(e)?null:{id:t,location:Object.assign({},i,{position:Object.assign({},d()("position",i),{x:u,y:m})})}})).filter(l()(s())).toJS()},T=({measurements:e,elements:t,gridSize:n})=>(0,p.qo)(t.map((0,v.o)(e,n)))||[],w=({rects:e,elements:t,gridSize:n})=>{const r=m()("id",e);return t.map((e=>{const t=(0,g.nRF)(e),o=r[t];if(!o)return null;if((0,b.KX)(e)){const e=(e=>t=>I(t-y.k*e))(n);return Object.assign({},o,{x:e(o.x),y:e(o.y),left:e(o.left),right:e(o.right),top:e(o.top),bottom:e(o.bottom)})}return o})).filter(l()(s())).toArray()}},46797:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var r=n(67294),o=n(28200),i=n(45697),s=n.n(i),a=n(37974),l=n(54688),c=n(22222),d=n(24389),u=n(31650),m=n(81410),p=n(25926),h=n(67736),g=n(80877),f=n(87701),E=n(41563),v=n(43831),b=n(75763),y=n(64242),I=n(51170),C=n(69129),S=n(77875),T=n(97245);function w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const O=(0,c.zB)({currentBoard:m.tQ}),_=(0,l.qC)((0,a.$j)(O,(e=>({dispatchMoveMultipleElements:t=>e((0,d.Zq)({moves:t,moveOperation:T.Pm.ALIGN})),dispatchForceElementsMeasurements:t=>e((0,u.gX)(t))}))),(0,y.Z)(null,(e=>({dispatchGetMeasurementsMap:()=>e((0,p.hU)())}))));var R=r.createElement(f.Z,{name:"distribute-horizontally"}),A=r.createElement(f.Z,{name:"distribute-vertically"});class D extends r.Component{constructor(...e){var t;super(...e),t=this,w(this,"distributeHorizontally",(async function(){const{dispatchForceElementsMeasurements:e,dispatchGetMeasurementsMap:n,selectedElements:r,currentBoard:o,gridSize:i}=t.props,s=(0,v.qo)(r.map(b.nRF));await e(s);const a=n(),l=(0,I.$9)({measurements:a,selectedElements:r,currentBoard:o,gridSize:i});t.performDistribution({moves:l})})),w(this,"distributeVertically",(async function(){const{dispatchForceElementsMeasurements:e,dispatchGetMeasurementsMap:n,selectedElements:r,currentBoard:o,gridSize:i}=t.props,s=(0,v.qo)(r.map(b.nRF));await e(s);const a=n(),l=(0,I.Gr)({measurements:a,selectedElements:r,currentBoard:o,gridSize:i});t.performDistribution({moves:l})})),w(this,"performDistribution",(({moves:e})=>{const{dispatchMoveMultipleElements:t,closePopup:n}=this.props;t(e),n()}))}render(){const{selectedElements:e}=this.props;return r.createElement(h.Z,{popupId:C.K2.DISTRIBUTE,className:"DistributePopup",buttonSelector:".DistributeTool .icon"},r.createElement(g.Z,{onClickFn:this.distributeHorizontally,disabled:e.size<=2},r.createElement(E.Z,{enabled:!0,tooltipText:"Distribute horizontally",position:S.as.RIGHT,delay:700,pollPosition:!0,triggerOnMouseEnter:!0},R)),r.createElement(g.Z,{onClickFn:this.distributeVertically,disabled:e.size<=2},r.createElement(E.Z,{enabled:!0,tooltipText:"Distribute vertically",position:S.as.RIGHT,delay:700,pollPosition:!0,triggerOnMouseEnter:!0},A)))}}D.propTypes={gridSize:s().number,dispatchGetMeasurementsMap:s().func,dispatchMoveMultipleElements:s().func,dispatchForceElementsMeasurements:s().func,selectedElements:s().object,closePopup:s().func,currentBoard:s().object};const N=_(D),x=e=>r.createElement(o.Z,Object.assign({},e,{toolName:"distribute",PopupComponent:N}))},48126:(e,t,n)=>{"use strict";n.d(t,{r:()=>r});const r={VERTICAL:"VERTICAL",HORIZONTAL:"HORIZONTAL"}},51170:(e,t,n)=>{"use strict";n.d(t,{$9:()=>c,Gr:()=>d});var r=n(95019),o=n(9300);const i=e=>e.top,s=e=>e.left,a=(e,t,n,r,i)=>(s,a)=>{const l=s.sort(((t,r)=>{const o=e(t),i=e(r);return o===i?n(t)-n(r):o-i})),c=((e,t)=>n=>n.reduce(((n,r)=>n?e(r)<e(n)||e(r)===e(n)&&t(r)<t(n)?r:n:r),null))(e,n)(l),d=((e,t)=>n=>n.reduce(((n,r)=>n?e(r)>e(n)||e(r)===e(n)&&t(r)>t(n)?r:n:r),null))(t,n)(l),u=e(c),m=t(d)-u,p=l.filter((({id:e})=>e!==c.id)),h=m-l.reduce(((e,t)=>e+r(t)),0),g=((e,t,n)=>e>0?Math.max(t,n):0===e||n>-t?0:Math.min(-1*t,n))(h,a,Math.round(h/p.length)),f=(0,o.OA)(g,a),E=p.reduce(((e,t,n)=>(e.push(e[n]+r(t)+f),e)),[u+r(c)+f]);return p.reduce(((e,t,n)=>{const r=i(t,E[n]);return e.push(r),e}),[])},l=(e,t,n,o,i)=>{const s=a(e,t,n,o,i);return({measurements:e,selectedElements:t,currentBoard:n,gridSize:o})=>{const i=t.filter(r.b4),a=(0,r._c)({elements:i,measurements:e,gridSize:o}),l=s(a,o),c=(0,r.aE)({rects:l,elements:i,gridSize:o});return(0,r.JD)({elements:i,rects:c,gridSize:o,currentBoard:n})}},c=l(s,(e=>e.right),i,(e=>e.width),((e,t)=>Object.assign({},e,{x:t,left:t}))),d=l(i,(e=>e.bottom),s,(e=>e.height),((e,t)=>Object.assign({},e,{y:t,top:t})))},31530:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(37407),l=n(9365),c=n(87701),d=n(59551);function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends r.Component{constructor(...e){super(...e),u(this,"toggleArrow",(()=>{const{isActive:e,styleProp:t,dispatchUpdateSelectedElements:n}=this.props;n({changes:{[t]:e?d.lX.NONE:d.lX.ARROW}})}))}render(){const{iconDirection:e,isActive:t}=this.props;return r.createElement(l.Z,Object.assign({},this.props,{onPointerDown:this.toggleArrow,isActive:t}),r.createElement(c.Z,Object.assign({},this.props,{name:`toolbar-arrow-${e}`})))}}m.propTypes={name:i().string,isActive:i().bool,styleProp:i().string.isRequired,selectedElements:i().object.isRequired,dispatchUpdateSelectedElements:i().func,iconDirection:i().string.isRequired};const p=(0,s.$j)(((e,t)=>{var n;return{isActive:(null===(n=t.selectedElements.first())||void 0===n?void 0:n.getIn(["content",t.styleProp]))===d.lX.ARROW}}),(e=>({dispatchUpdateSelectedElements:({changes:t})=>e((0,a.vU)({changes:t}))})))(m)},94642:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294),o=n(31530);const i=e=>r.createElement(o.Z,Object.assign({},e,{styleProp:"endStyle",iconDirection:"right"}))},92608:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294),o=n(31530);const i=e=>r.createElement(o.Z,Object.assign({},e,{styleProp:"startStyle",iconDirection:"left"}))},52848:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(22222),l=n(75763),c=n(59118),d=n(25090),u=n(87701),m=n(9365);const p=(0,a.P1)(c.R,l.aDg),h=(0,a.zB)({selectedTaskId:c.A,isShowingAssignments:p});var g=r.createElement(u.Z,{name:"toolbar-assign"});const f=e=>{const{isShowingAssignments:t,dispatchToggleShowAssignments:n,selectedTaskId:o}=e,i=r.useCallback((()=>{n(o)}),[o]);return r.createElement("div",{className:"AssignUserTool"},r.createElement(m.Z,Object.assign({},e,{onPointerDown:i,name:"Assign",isActive:t}),g))};f.propTypes={selectedTaskId:i().string,isShowingAssignments:i().bool,dispatchToggleShowAssignments:i().func};const E=(0,s.$j)(h,(e=>({dispatchToggleShowAssignments:t=>e((0,d.QO)({id:t}))})))(f)},66530:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(22222),l=n(75763),c=n(59118),d=n(75174),u=n(87701),m=n(9365);const p=(0,a.P1)(c.R,l.Sw1),h=(0,a.zB)({selectedTaskId:c.A,isShowingDueDate:p});var g=r.createElement(u.Z,{name:"toolbar-due-date"});const f=e=>{const{isShowingDueDate:t,dispatchToggleShowDueDate:n,selectedTaskId:o}=e,i=r.useCallback((()=>{n(o)}),[o]);return r.createElement("div",{className:"AssignUserTool"},r.createElement(m.Z,Object.assign({},e,{onPointerDown:i,name:"Due date",isActive:t}),g))};f.propTypes={selectedTaskId:i().string,isShowingDueDate:i().bool,dispatchToggleShowDueDate:i().func};const E=(0,s.$j)(h,(e=>({dispatchToggleShowDueDate:t=>e((0,d.WE)({id:t}))})))(f)},78185:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(75763),l=n(46855),c=n(10305),d=n(43905),u=n(9365),m=n(87701),p=n(43612);var h=r.createElement(m.Z,{name:"toolbar-autoplay"});const g=e=>{const{showTool:t,isActive:n,name:o,selectedElements:i,dispatchSetMediaAutoplay:s}=e,l=i.every((e=>(0,d.ZP)(e)===p.WK.AUDIO||(0,d.ZP)(e)===p.WK.VIDEO));if(!t||!n||!l)return null;const c=i.every(a.u$E);return r.createElement(u.Z,Object.assign({},e,{onClick:()=>s({elementIds:i.map(a.nRF).toArray(),mediaPlayerAutoplay:!(0,a.u$E)(i.first())}),name:o,isActive:c}),h)};g.propTypes={selectedElements:i().object,showTool:i().bool,isActive:i().bool,name:i().string,dispatchSetMediaAutoplay:i().func};const f=(0,s.$j)(l.K,(e=>({dispatchSetMediaAutoplay:({elementIds:t,mediaPlayerAutoplay:n})=>{e((0,c.Az)({updates:t.map((e=>({id:e,changes:{mediaPlayerAutoplay:n}})))}))}})))(g)},39565:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(75763),l=n(46855),c=n(10305),d=n(43905),u=n(9365),m=n(87701),p=n(43612);var h=r.createElement(m.Z,{name:"toolbar-loop"});const g=e=>{const{showTool:t,isActive:n,name:o,selectedElements:i,dispatchSetMediaLoop:s}=e,l=i.every((e=>(0,d.ZP)(e)===p.WK.AUDIO||(0,d.ZP)(e)===p.WK.VIDEO));if(!t||!n||!l)return null;const c=i.every(a.R03);return r.createElement(u.Z,Object.assign({},e,{onClick:()=>s({elementIds:i.map(a.nRF).toArray(),mediaPlayerLoop:!(0,a.R03)(i.first())}),name:o,isActive:c}),h)};g.propTypes={selectedElements:i().object,showTool:i().bool,isActive:i().bool,name:i().string,dispatchSetMediaLoop:i().func};const f=(0,s.$j)(l.K,(e=>({dispatchSetMediaLoop:({elementIds:t,mediaPlayerLoop:n})=>{e((0,c.Az)({updates:t.map((e=>({id:e,changes:{mediaPlayerLoop:n}})))}))}})))(g)},22178:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(54688),l=n(75763),c=n(43905),d=n(46855),u=n(9365),m=n(87701),p=n(30861),h=n(54626);const g={onPointerDown:({dispatchToggleMedia:e,isActive:t,selectedElements:n,resetMediaPlayer:r})=>o=>{if(o.preventDefault(),t){n.filter((e=>!!(0,c.ZP)(e))).map(l.nRF).forEach((e=>{r(e)}))}e(t)}},f=e=>{const{showTool:t,isActive:n,displayName:o,selectedElements:i}=e;if(!t)return null;const s=(0,c.ZP)(i.first())?"toolbar-media-preview":"toolbar-image-preview";return r.createElement(u.Z,Object.assign({},e,{name:o,isActive:n}),r.createElement(m.Z,{name:s}))};f.propTypes={selectedElements:i().object,showTool:i().bool,isActive:i().bool,displayName:i().string,dispatchToggleMedia:i().func};const E=(0,a.qC)((0,s.$j)(d.K,(e=>({dispatchToggleMedia:t=>{e((0,p.x)(t))},resetMediaPlayer:t=>{e((0,h.$A)({playerId:t}))}}))),(0,a.CA)(g))(f)},46855:(e,t,n)=>{"use strict";n.d(t,{K:()=>u});var r=n(22222),o=n(34734),i=n(75763),s=n(6442),a=n(6690),l=n(91727),c=n(96886);const d=e=>{switch((0,i.BGE)(e)){case a.xE:return(e=>e.getIn(["content","link","hasAttachment"])||(0,i.V4D)(e)===s.w_.IMAGE||!(0,i.V4D)(e)&&!!(0,i.ywY)(e)||!!(0,i.omV)(e))(e);case l.Gk:return(0,i.xTd)(e);case c.tE:return!0;default:return!1}},u=(0,r.P1)(((e,t)=>t.selectedElements),(e=>{const t=e.every(d);return{showTool:t,isActive:t&&(e=>{switch((0,i.BGE)(e)){case a.xE:return(0,i.h3z)(e);case l.Gk:return(0,o.Z)(e);default:return!1}})(e.first()),displayName:t&&e.every((e=>e.getIn(["content","link","hasAttachment"])||(0,i.V4D)(e)===s.w_.IMAGE||!(0,i.V4D)(e)&&!!(0,i.ywY)(e)))?"Image":"Preview"}}))},53771:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(22222),l=n(61473),c=n(75763),d=n(9365),u=n(87701),m=n(64791);const p=(0,a.P1)(((e,t)=>t.selectedElements),(e=>{const t=e.first();return{showingCaption:!!t&&(0,c.A7z)(t)}}));var h=r.createElement(u.Z,{name:"toolbar-caption"});const g=e=>{const{showingCaption:t,name:n}=e,o=(0,l.Nn)(e);return r.createElement("div",{className:"CaptionTool"},r.createElement(d.Z,Object.assign({},e,{name:n||"Caption",isActive:t,disabled:o}),h))};g.propTypes={name:i().string,iconName:i().string,styleType:i().string,showingCaption:i().bool};const f=(0,s.$j)(p,((e,t)=>({onPointerDown:t=>{t.preventDefault(),e((0,m.RP)())}})))(g)},63171:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(22222),l=n(19690),c=n(11865),d=n.n(c),u=n(94184),m=n.n(u),p=n(7495);const h=({className:e,name:t,onPointerDown:n,isActive:o,colorDisplay:i})=>r.createElement(p.Z,{className:m()(`color-display-tool-option-${d()(i)}`,e),name:t,onPointerDown:n,isActive:o},r.createElement("div",{className:"color-display-label"},i));h.propTypes={className:i().string,name:i().string,onPointerDown:i().func,isActive:i().bool,colorDisplay:i().string};const g=h;var f=n(67789),E=n(60434),v=n(10305),b=n(75763),y=n(11111),I=n(43831),C=n(18952),S=n(97245),T=n(30402);var w=n(8779),O=n(69129);const _=(0,a.P1)((0,l.ZP)(O.K2.COLOR_DISPLAY),(e=>({popupIsOpen:e}))),R=e=>{const{openColorDisplayPopup:t,popupIsOpen:n,selectedElements:o,closeColorDisplayPopup:i,dispatchConvertToColorDisplay:s}=e,a=o.first(),l=(0,b.cQ0)(a),c=(0,b.RLN)(a)||T.ME.HEX,d=l?c:T.et.OFF;return r.createElement("div",{className:"ColorDisplayTool"},r.createElement(g,{className:"color-display-toolbar-option",name:"Display",colorDisplay:d,onPointerDown:t,isActive:n}),r.createElement(f.Z,{popupId:O.K2.COLOR_DISPLAY,className:"color-display-popup",buttonSelector:".ColorDisplayTool .icon",closePopup:i},r.createElement("div",{className:"color-display-popup-content"},r.createElement(g,{colorDisplay:T.et.HEX,onPointerDown:()=>s(T.et.HEX),isActive:d===T.et.HEX}),r.createElement(g,{colorDisplay:T.et.RGB,onPointerDown:()=>s(T.et.RGB),isActive:d===T.et.RGB}),r.createElement(g,{colorDisplay:T.et.HSL,onPointerDown:()=>s(T.et.HSL),isActive:d===T.et.HSL}),r.createElement(g,{colorDisplay:T.et.OFF,onPointerDown:()=>s(T.et.OFF),isActive:d===T.et.OFF}))))};R.propTypes={gridSize:i().number.isRequired,popupIsOpen:i().bool,selectedElements:i().object,firstElementId:i().string,openColorDisplayPopup:i().func,closeColorDisplayPopup:i().func,dispatchConvertToColorDisplay:i().func};const A=(0,s.$j)(_,((e,t)=>({openColorDisplayPopup:()=>e((0,E.zI)(O.K2.COLOR_DISPLAY)),closeColorDisplayPopup:()=>e((0,E.j4)(O.K2.COLOR_DISPLAY)),dispatchConvertToColorDisplay:n=>{e((({elements:e,colorDisplay:t})=>n=>{if((0,I.xb)(e))return null;const r=S._q.COLOR_SPACE,o=[];return e.forEach((e=>{if(!(0,y.k5)(e))return null;const n={};if(t===T.et.OFF)n.showColorValue=!1;else{const r=(0,b.Lq4)(e),o=(0,C.Qx)(r,t);n.showColorValue=!0,o&&(n.color=o)}o.push({id:(0,b.nRF)(e),changes:n,updateType:r})})),(0,I.xb)(o)?null:n((0,v.Az)({updateType:r,updates:o}))})({elements:t.selectedElements,colorDisplay:n})),e((0,w.SF)({changes:{settings:{preferredColorDisplay:n}}}))}})))(R)},72477:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(33260),l=n(11111),c=n(28200),d=n(46827),u=n(67703),m=n(19561),p=n(30402),h=n(69129);const g=({selectedElements:e,selectedColor:t,selectedBackgroundColor:n,selectedBackgroundColorName:o,isPopupOpen:i,supportBackgroundColor:s})=>{var l;const c=(0,a.pr)(e),d=(0,a.wA)(e),m=(0,a.X2)(e),h=(0,a.w2)(e),g=null===(l=p.Jf[o])||void 0===l?void 0:l.className;return r.createElement(u.Z,{key:`${t}${n}`,className:g,supportColorBar:m,supportBackgroundColor:s,selectedType:c,selectedStatus:d,color:t,backgroundColor:n,isActive:i,secondaryColor:h})};g.propTypes={openColorPopup:i().func,isPopupOpen:i().bool,selectedElements:i().object,selectedColor:i().string,selectedBackgroundColor:i().string,selectedBackgroundColorName:i().string,supportBackgroundColor:i().bool};const f=e=>{const{selectedElements:t,item:n}=e,o=t.every(l.F_)?"Card color":"Color";return r.createElement(c.Z,Object.assign({},e,{buttonSelector:".ColorTool .ColorToolIcon",popupId:(null==n?void 0:n.uid)||h.K2.COLOR,toolName:"color",name:(null==n?void 0:n.name)||o,IconComponent:g,PopupComponent:d.Z}))};f.propTypes={selectedElements:i().object,useEditingElementColorTool:i().bool,name:i().string,editorKey:i().string,item:i().object};const E=(0,s.$j)(m.U)(f)},67703:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s);n(55641);const l=({className:e,color:t,backgroundColor:n,isActive:o,selectedType:i,selectedStatus:s,supportColorBar:l,supportBackgroundColor:c,secondaryColor:d})=>r.createElement("div",{className:a()("ColorToolIcon",i,s,e,{active:o,"no-color":!t,"support-color-bar":l,"support-background-color":c,"color-combination":!!d})},r.createElement("div",{className:a()("color-icon color-target",{"background-color-target":!t}),style:{backgroundColor:t||n}},r.createElement("div",{className:"secondary-color-container"},r.createElement("div",{className:"secondary-color",style:{backgroundColor:d,transform:"rotate(-52deg)"}}))),l&&r.createElement("div",{className:"background-color-icon background-color-target",style:{backgroundColor:n}}));l.propTypes={className:i().string,color:i().string,secondaryColor:i().oneOfType([i().string,i().object]),backgroundColor:i().string,backgroundColorName:i().string,isActive:i().bool,supportColorBar:i().bool,supportBackgroundColor:i().bool,selectedType:i().string,selectedStatus:i().string};const c=l},51777:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(63422),o=n.n(r),i=n(67294),s=n(45697),a=n.n(s),l=n(94184),c=n.n(l),d=n(5987),u=n(76472),m=n(28644),p=n(10048),h=n(54490);function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f=(0,m.aU)("initialColor"),E=(0,m.aU)("openerEventTarget");class v extends i.Component{constructor(e){var t;super(e),g(this,"onInput",(e=>{const t=o()(["target","value"],e);this.setState({color:t}),this.throttledOnColorChange(t)})),g(this,"onColorChange",(e=>{e&&(this.allowTransition&&(this.allowTransition=!1,(0,u.Y)(this.allowTransition)),this.hasChanged=!0,this.props.setTempColor&&this.props.setTempColor(e),this.attachCommitListener())})),g(this,"throttledOnColorChange",(0,d.Z)(this.onColorChange)),g(this,"onChange",(e=>{})),g(this,"onFocus",(()=>{var e,t;null===(e=(t=this.props).onFocus)||void 0===e||e.call(t,this.state.color)})),g(this,"onBlur",(()=>{var e,t;null===(e=(t=this.props).onBlur)||void 0===e||e.call(t,this.state.color)})),g(this,"attachCommitListener",(()=>{this.commitListenerAttached||(this.commitListenerAttached=!0,document.addEventListener("pointerdown",this.commitChange,!0),document.addEventListener("mousedown",this.commitChange,!0),document.addEventListener("keydown",this.commitChange,!0))})),g(this,"removeCommitListener",(()=>{this.commitListenerAttached&&(this.commitListenerAttached=!1,document.removeEventListener("pointerdown",this.commitChange,!0),document.removeEventListener("mousedown",this.commitChange,!0),document.removeEventListener("keydown",this.commitChange,!0))})),g(this,"commitChange",(()=>{this.removeCommitListener();const{color:e}=this.state,{setColor:t}=this.props;this.allowTransition||(this.allowTransition=!0,(0,u.Y)(this.allowTransition)),this.hasChanged&&(this.hasChanged=!1,null==t||t(e))})),g(this,"open",(()=>{var e,t;this.inputRef&&this.inputRef.current?(this.inputRef.current.focus(),this.inputRef.current.click(),null===(e=(t=this.props).onOpen)||void 0===e||e.call(t)):p.Z.warn("The CustomColorPicker cannot be opened because its ref is null")})),this.state={color:this.props.initialColor},this.inputRef=i.createRef(),null===(t=this.props.openerEventTarget)||void 0===t||t.addEventListener(h._,this.open)}componentWillMount(){this.hasChanged=!1,this.mounted=!0,this.allowTransition=!0}componentWillReceiveProps(e){var t,n;(f(this.props,e)&&this.setState({color:e.initialColor}),E(this.props,e))&&(null===(t=this.props.openerEventTarget)||void 0===t||t.removeEventListener(h._,this.open),null===(n=e.openerEventTarget)||void 0===n||n.addEventListener(h._,this.open))}componentWillUnmount(){this.mounted=!1}render(){const{color:e}=this.state,{className:t}=this.props;return i.createElement("input",{ref:this.inputRef,type:"color",className:c()("CustomColorInput",t),onInput:this.onInput,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,value:e||"#ffffff"})}}v.propTypes={className:a().string,initialColor:a().string,setColor:a().func,setTempColor:a().func,onOpen:a().func,onBlur:a().func,onFocus:a().func,openerEventTarget:a().object};const b=v},42097:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(33260),l=n(46716),c=n(76472),d=n(9365),u=n(51777),m=n(67703),p=n(69412),h=n(19561);const g=(0,s.$j)(h.U,(e=>({setTempColor:c.Z,setColor:t=>{const n=(0,l.un)(t);e((0,p.Bl)({color:n,useExistingColorSpace:!0}))}}))),f=e=>{const{selectedElements:t,selectedColor:n,selectedColorHex:o,setColor:i,setTempColor:s}=e,l=(0,a.pr)(t),c=(0,a.wA)(t);return r.createElement("div",{className:"CustomColorTool"},r.createElement(d.Z,Object.assign({},e,{name:"Color"}),r.createElement(m.Z,{color:n,selectedType:l,selectedStatus:c}),r.createElement(u.Z,{className:"custom-color-picker-input",initialColor:o,setTempColor:s,setColor:i})))};f.propTypes={selectedElements:i().object,selectedColor:i().string,selectedColorHex:i().string,setColor:i().func,setTempColor:i().func};const E=g(f)},54490:(e,t,n)=>{"use strict";n.d(t,{_:()=>r,u:()=>o});const r="openPicker";class o extends Event{constructor(){super(r)}}},69412:(e,t,n)=>{"use strict";n.d(t,{Bl:()=>b,I3:()=>y,Y4:()=>v,x$:()=>E});var r=n(80369),o=n.n(r),i=n(49546),s=n.n(i),a=n(43831),l=n(75763),c=(n(495),n(11111)),d=n(18952),u=n(83515),m=n(92295),p=n(89201),h=n(37407),g=n(87447),f=(n(71154),n(59118),n(30402));const E=({color:e,elements:t,useExistingColorSpace:n,secondaryColor:r})=>o=>{const i=(0,a.su)(t.map((t=>{const o={color:e};if((0,p.J)(t)&&(o.secondaryColor=r),s()((0,l.U3W)(t))&&(o.autoColorIndex=null),(0,c.k5)(t)){const r=n?(0,l.RLN)(t):null,i=(0,d.Qx)(e||"#ffffff",r);if(i){o.color=i;(0,l.m$1)(t)||(o.caption=(0,m.Z)((0,u.E)(i)))}else delete o.color}return{id:(0,l.nRF)(t),changes:o}})));return o((0,h.Az)({updates:i}))},v=e=>(t,n)=>{const r=n(),i=(0,g.eD)(r).filter(o()(c.ph));return t((({color:e,elements:t})=>n=>{const r=e===f.Jf.TRANSPARENT.name,o={background:r?null:{color:e},transparent:{enabled:r}},i=(0,a.su)(t.map((e=>({id:(0,l.nRF)(e),changes:o}))));return n((0,h.Az)({updates:i}))})({color:e,elements:i}))},b=({color:e,useExistingColorSpace:t,secondaryColor:n})=>(r,i)=>{const s=i(),a=(0,g.eD)(s).filter(o()(c.ph));return r(E({color:e,elements:a,useExistingColorSpace:t,secondaryColor:n}))},y=({color:e,useExistingColorSpace:t})=>(n,r)=>{const i=r(),s=(0,g.eD)(i).filter(o()(c.ph));return n((({color:e,elements:t})=>n=>{const r=(0,a.su)(t.map((t=>{const n={secondaryColor:e};return{id:(0,l.nRF)(t),changes:n,transactionId:-1}})));return n((0,h.Az)({updates:r}))})({color:e,elements:s,useExistingColorSpace:t}))}},89201:(e,t,n)=>{"use strict";n.d(t,{J:()=>o,N:()=>i});var r=n(11111);const o=e=>(0,r.pi)(e)||(0,r.lA)(e),i=(e,t)=>{const n=[],r=[...e.slice(4,e.length),...e.slice(0,4)],o=Math.min(e.length,t.length);for(let i=0;i<o;i++)n.push(t[i],r[i]);return n.push(...r.slice(o),...t.slice(o)),n}},20637:(e,t,n)=>{"use strict";n.d(t,{Y:()=>f});var r=n(39693),o=n.n(r),i=n(99154),s=n(78327),a=n(81897),l=n(89201),c=n(75763),d=n(49468),u=n(28644);const m=e=>[...new Set(e.map((e=>JSON.stringify(e))))].map((e=>JSON.parse(e)));var p=n(30402);const h=(0,u.Q5)(0),g=(0,s.mR)(((e,t)=>h(e,t)))(a.Js,a.zP,((e,t)=>{const n=[];return t.forEach((e=>{(0,l.J)(e)&&(0,c.pww)(e)&&n.push({primary:(0,c.Lq4)(e),secondary:(0,c.pww)(e)})})),m(n)})),f=(0,s.hH)(i.Z,g,((e,t)=>{const n=o()(null!=e&&e.length?e:p.m0),r=(0,d.vJ)(n),i=m([...r,...t]);return i.slice(Math.max(i.length-d.wE,0))}))},19561:(e,t,n)=>{"use strict";n.d(t,{U:()=>g});var r=n(44236),o=n.n(r),i=n(22222),s=n(33260),a=n(46716),l=n(13784),c=n(11111),d=n(75763),u=n(43831),m=n(87447),p=n(30402),h=n(74830);const g=(0,i.P1)(((e,t)=>(0,m.eD)(e)),((e,t)=>t.name),((e,t)=>{const n=(0,s.vK)(e),r=(0,l.yp)(n),i=(0,a.TJ)(n)||p.Yr,m=(0,s.pr)(e),g=(0,h.YN)(m),f=(0,s.e1)(e),E=(0,l.yp)(f,g),v=(0,a.TJ)(f)||p.Yr,b=e.every((e=>(0,c.F_)(e)||(0,c.Se)(e)||(0,c.t3)(e)));return{name:o()((0,u.su)(e.map(d.BGE))).length>1?"Color":t,elementType:(0,d.BGE)(null==e?void 0:e.first()),supportBackgroundColor:b,selectedColor:r,selectedColorHex:i,selectedBackgroundColorName:f,selectedBackgroundColor:E,selectedBackgroundColorHex:v}}))},33260:(e,t,n)=>{"use strict";n.d(t,{ED:()=>b,X2:()=>O,e1:()=>S,pr:()=>T,vK:()=>y,w2:()=>I,wA:()=>w});var r=n(75763),o=n(29144),i=n(8698),s=n(30402),a=n(45575),l=n(897),c=n(92544),d=n(56860),u=n(59551),m=n(93776),p=n(82681),h=n(11535),g=n(91727),f=n(96886),E=n(54301);const v=e=>!(0,r.Lq4)(e),b=(e,t)=>{const n=t&&t!==s.DM.NONE?(e=>t=>e===(0,r.Lq4)(t))(t.name||t):v;return e.every(n)},y=e=>{if(e&&e.first())return(0,r.Lq4)(e.first())},I=e=>{if(e&&e.first())return(0,r.pww)(e.first())},C=(0,l._2)(c.A.TRANSPARENT),S=e=>{if(!e||!e.first())return;const t=(0,r.dFx)(e.first());return C(e.first())?s.Jf.TRANSPARENT.name:t},T=e=>(null==e?void 0:e.first())&&(0,r.BGE)(e.first()),w=e=>{const t=null==e?void 0:e.first();if((0,r.BGE)(t)===a.lq){return(0,o.Em)(t)?"collapsed":null}return null},O=e=>{const t=e.first();switch((0,r.BGE)(t)){case p.Mc:case d.V_:case m.C:case u.H3:case h.KY:case E.vj:return!1;case a.lq:return!(0,o.Em)(t);case g.Gk:case f.tE:return!(0,i.KX)(t);default:return!0}}},99154:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(44236),o=n.n(r),i=n(4835),s=n.n(i),a=n(49546),l=n.n(a),c=n(65068),d=n.n(c),u=n(52151),m=n.n(u),p=n(65792),h=n.n(p),g=n(22222);if(!f)var f={map:function(e,t){var n={};return t?e.map((function(e,r){return n.index=r,t.call(n,e)})):e.slice()},naturalOrder:function(e,t){return e<t?-1:e>t?1:0},sum:function(e,t){var n={};return e.reduce(t?function(e,r,o){return n.index=o,e+t.call(n,r)}:function(e,t){return e+t},0)},max:function(e,t){return Math.max.apply(null,t?f.map(e,t):e)}};const E=function(){var e=5,t=8-e;function n(t,n,r){return(t<<2*e)+(n<<e)+r}function r(e){var t=[],n=!1;function r(){t.sort(e),n=!0}return{push:function(e){t.push(e),n=!1},peek:function(e){return n||r(),void 0===e&&(e=t.length-1),t[e]},pop:function(){return n||r(),t.pop()},size:function(){return t.length},map:function(e){return t.map(e)},debug:function(){return n||r(),t}}}function o(e,t,n,r,o,i,s){var a=this;a.r1=e,a.r2=t,a.g1=n,a.g2=r,a.b1=o,a.b2=i,a.histo=s}function i(){this.vboxes=new r((function(e,t){return f.naturalOrder(e.vbox.count()*e.vbox.volume(),t.vbox.count()*t.vbox.volume())}))}function s(e,t){if(t.count()){var r=t.r2-t.r1+1,o=t.g2-t.g1+1,i=t.b2-t.b1+1,s=f.max([r,o,i]);if(1==t.count())return[t.copy()];var a,l,c,d,u=0,m=[],p=[];if(s==r)for(a=t.r1;a<=t.r2;a++){for(d=0,l=t.g1;l<=t.g2;l++)for(c=t.b1;c<=t.b2;c++)d+=e[n(a,l,c)]||0;u+=d,m[a]=u}else if(s==o)for(a=t.g1;a<=t.g2;a++){for(d=0,l=t.r1;l<=t.r2;l++)for(c=t.b1;c<=t.b2;c++)d+=e[n(l,a,c)]||0;u+=d,m[a]=u}else for(a=t.b1;a<=t.b2;a++){for(d=0,l=t.r1;l<=t.r2;l++)for(c=t.g1;c<=t.g2;c++)d+=e[n(l,c,a)]||0;u+=d,m[a]=u}return m.forEach((function(e,t){p[t]=u-e})),h(s==r?"r":s==o?"g":"b")}function h(e){var n,r,o,i,s,l=e+"1",c=e+"2",d=0;for(a=t[l];a<=t[c];a++)if(m[a]>u/2){for(o=t.copy(),i=t.copy(),s=(n=a-t[l])<=(r=t[c]-a)?Math.min(t[c]-1,~~(a+r/2)):Math.max(t[l],~~(a-1-n/2));!m[s];)s++;for(d=p[s];!d&&m[s-1];)d=p[--s];return o[c]=s,i[l]=o[c]+1,[o,i]}}}return o.prototype={volume:function(e){var t=this;return t._volume&&!e||(t._volume=(t.r2-t.r1+1)*(t.g2-t.g1+1)*(t.b2-t.b1+1)),t._volume},count:function(e){var t=this,r=t.histo;if(!t._count_set||e){var o,i,s,a=0;for(o=t.r1;o<=t.r2;o++)for(i=t.g1;i<=t.g2;i++)for(s=t.b1;s<=t.b2;s++)a+=r[n(o,i,s)]||0;t._count=a,t._count_set=!0}return t._count},copy:function(){var e=this;return new o(e.r1,e.r2,e.g1,e.g2,e.b1,e.b2,e.histo)},avg:function(t){var r=this,o=r.histo;if(!r._avg||t){var i,s,a,l,c=0,d=1<<8-e,u=0,m=0,p=0;for(s=r.r1;s<=r.r2;s++)for(a=r.g1;a<=r.g2;a++)for(l=r.b1;l<=r.b2;l++)c+=i=o[n(s,a,l)]||0,u+=i*(s+.5)*d,m+=i*(a+.5)*d,p+=i*(l+.5)*d;r._avg=c?[~~(u/c),~~(m/c),~~(p/c)]:[~~(d*(r.r1+r.r2+1)/2),~~(d*(r.g1+r.g2+1)/2),~~(d*(r.b1+r.b2+1)/2)]}return r._avg},contains:function(e){var n=this,r=e[0]>>t,o=e[1]>>t,i=e[2]>>t;return r>=n.r1&&r<=n.r2&&o>=n.g1&&o<=n.g2&&i>=n.b1&&i<=n.b2}},i.prototype={push:function(e){this.vboxes.push({vbox:e,color:e.avg()})},palette:function(){return this.vboxes.map((function(e){return e.color}))},size:function(){return this.vboxes.size()},map:function(e){for(var t=this.vboxes,n=0;n<t.size();n++)if(t.peek(n).vbox.contains(e))return t.peek(n).color;return this.nearest(e)},nearest:function(e){for(var t,n,r,o=this.vboxes,i=0;i<o.size();i++)((n=Math.sqrt(Math.pow(e[0]-o.peek(i).color[0],2)+Math.pow(e[1]-o.peek(i).color[1],2)+Math.pow(e[2]-o.peek(i).color[2],2)))<t||void 0===t)&&(t=n,r=o.peek(i).color);return r},forcebw:function(){var e=this.vboxes;e.sort((function(e,t){return f.naturalOrder(f.sum(e.color),f.sum(t.color))}));var t=e[0].color;t[0]<5&&t[1]<5&&t[2]<5&&(e[0].color=[0,0,0]);var n=e.length-1,r=e[n].color;r[0]>251&&r[1]>251&&r[2]>251&&(e[n].color=[255,255,255])}},{quantize:function(a,l){if(!a.length||l<2||l>256)return!1;var c=function(r){var o,i,s,a,l=new Array(1<<3*e);return r.forEach((function(e){i=e[0]>>t,s=e[1]>>t,a=e[2]>>t,o=n(i,s,a),l[o]=(l[o]||0)+1})),l}(a);c.forEach((function(){0}));var d=function(e,n){var r,i,s,a=1e6,l=0,c=1e6,d=0,u=1e6,m=0;return e.forEach((function(e){r=e[0]>>t,i=e[1]>>t,s=e[2]>>t,r<a?a=r:r>l&&(l=r),i<c?c=i:i>d&&(d=i),s<u?u=s:s>m&&(m=s)})),new o(a,l,c,d,u,m,n)}(a,c),u=new r((function(e,t){return f.naturalOrder(e.count(),t.count())}));function m(e,t){for(var n,r=1,o=0;o<1e3;)if((n=e.pop()).count()){var i=s(c,n),a=i[0],l=i[1];if(!a)return;if(e.push(a),l&&(e.push(l),r++),r>=t)return;if(o++>1e3)return}else e.push(n),o++}u.push(d),m(u,.75*l);for(var p=new r((function(e,t){return f.naturalOrder(e.count()*e.volume(),t.count()*t.volume())}));u.size();)p.push(u.pop());m(p,l-p.size());for(var h=new i;p.size();)h.push(p.pop());return h}}}().quantize;var v=n(78327),b=n(75763),y=n(11111),I=n(8686),C=n(81897),S=n(35572),T=n(49468),w=n(18952),O=n(30402);const _=[],R=h()("#000000"),A=e=>{const[t,n,r]=e.hsv();return n+r},D=(0,v.y1)(C.zP,(e=>{const t=[];return e.filter(y.k5).map((e=>{const t=(0,w.sY)((0,b.Lq4)(e)),n=(0,b.RLN)(e);if(t)return n===O.ME.HEX?t:h()(t).hex("rgb")})).forEach((e=>{e&&-1===t.indexOf(e)&&t.push(e)})),t.length?t:_})),N=(0,v.y1)(C.zP,(e=>{let t=[];return e.forEach((e=>{const n=(0,b.qpH)(e);n&&(t=t.concat(n.toJS()))})),t.length?t:_})),x=(0,v.y1)(N,(e=>{if(e.length<=10)return e;const t=s()(e.map(I.oo));if(!t||t.length<=0)return e;const n=E(t,10);if(!n)return e;const r=n.palette();return r?r.map(I.vq):e})),M=(0,v.y1)(C.zP,(e=>{const t=[];return e.forEach((e=>{if(!(0,y.pi)(e))return;const n=(0,b.Lq4)(e);(0,b.pww)(e)||l()((0,b.U3W)(e))||!(0,I.Sq)(n)||t.indexOf(n)>-1||t.push(n)})),t})),P=(0,g.P1)(C.tQ,(e=>{const t=(0,b.fa0)(e);if(t)return t.toJS();const n=(0,b.Gzf)(e)%S.k.length;return S.k[n]})),L=(0,v.y1)(x,M,D,P,((e,t,n,r)=>{if(!e||0===e.length)return{isDefaultPalette:!0,colors:r};const i=o()([...e,...t,...n]).filter(I.Sq).map((e=>h()(e)));i.sort(((e,t)=>A(t)-A(e)));const s=(e=>{const t=[e.shift()||R];for(;e.length>0;){const n=m()(t)||R,[r,o,i]=e.reduce((([e,t,r],o,i)=>{const s=h().deltaE(n,o);return s<=r?[o,i,s]:[e,t,r]}),[R,-1,1/0]);e.splice(o,1),r.get("hsl.s")<.2&&i<15||t.push(r)}return t})(((e,t=10)=>{const n=[e.shift()||R];for(;e.length>0&&n.length<=t;){const t=m()(n)||R,[r,o]=e.reduce((([e,n,r],o,i)=>{const s=h().deltaE(t,o);return s>=r?[o,i,s]:[e,n,r]}),[R,-1,-1/0]);e.splice(o,1);const i=r.get("hsl.l")>T.Jw,s=r.get("hsl.l")<T.eF;i||s||n.push(r)}return n})(i));if(s.length<=3)return{isDefaultPalette:!0,colors:r};const a=s.map((e=>e.hex("rgb")));return{isDefaultPalette:!1,colors:d()(10,a)}})),k=(0,g.P1)(L,(({colors:e})=>e))},88849:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(52353),o=n.n(r),i=n(67294),s=n(45697),a=n.n(s),l=n(94184),c=n.n(l),d=n(49870),u=n(13784),m=n(80877),p=n(2992),h=(n(55641),i.createElement("div",{className:"selection-border"}));const g=({color:e,secondaryColor:t,isActive:n,setColor:r,selectedType:s,selectedStatus:a,isContextMenu:l,className:g,colorPopupMode:f,isDarkModeTheme:E,allowColorCombos:v})=>{const b=n=>{const i=o()(e&&e.name)?e:e.name;r&&r(i,(v?t:null)||null)},y=e&&e.css?e.css:(0,u.yp)(e),I=c()("ColorButton",g,s,a,f,{"color-combination":!!t,active:n,"no-color":!y,"low-contrast-color":(0,d.Vd)(y,E),"high-contrast-color":(0,d.Vd)(y,!E),"remove-color":!y&&f===p.p.COLOR_BAR});return i.createElement(m.Z,{className:I,style:{"--ui-color-button-background":y},onClickFn:b,onContextMenu:l&&b,onMouseUp:l&&b},i.createElement("div",{className:"secondary-color-container"},i.createElement("div",{className:"secondary-color",style:{backgroundColor:t}})),h)};g.propTypes={selectedType:a().string,selectedStatus:a().string,className:a().string,colorPopupMode:a().string,color:a().oneOfType([a().string,a().object]),secondaryColor:a().oneOfType([a().string,a().object]),isActive:a().bool,isContextMenu:a().bool,isDarkModeTheme:a().bool,setColor:a().func,disabled:a().bool,allowColorCombos:a().bool};const f=g},46827:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(23279),o=n.n(r),i=n(67294),s=n(45697),a=n.n(s),l=n(37974),c=n(94184),d=n.n(c),u=n(22222),m=n(46716),p=n(33260),h=n(76472),g=n(8049);const f=e=>{const t=(0,m.un)(e),n=(0,g.KJ)(t),r=document.querySelectorAll(".background-color-target");(r?Array.from(r):[]).forEach((e=>{e.style.backgroundImage="none",e.style.backgroundColor=t,e.style.setProperty("--ws-element-background-primary",t)}));const o=document.querySelectorAll(".background-color-contrast-target");Array.from(o).forEach((e=>{n?(e.classList.add("colored-background"),e.classList.add("colored-background-light"),e.classList.remove("colored-background-dark")):(e.classList.add("colored-background"),e.classList.add("colored-background-dark"),e.classList.remove("colored-background-light"))}))};var E=n(11111),v=n(89201),b=n(81188),y=n(99154),I=n(60434),C=n(69412),S=n(67789),T=n(78058),w=n(51777),O=n(76073),_=n(2992);const R=({isPopupOpen:e,isBackgroundMode:t,supportColorBar:n,selectedColor:r,selectedBackgroundColor:o,setColorPopupMode:s})=>{const a=(0,O.Z)(e);let l;return(0,i.useLayoutEffect)((()=>{e&&e!==a&&(t&&r&&!o?s(_.p.COLOR):t||r||s(_.p.BACKGROUND))}),[e,a]),l=t?_.p.BACKGROUND:!t&&n?_.p.COLOR_BAR:_.p.COLOR,l};var A=n(30402);const D=Object.values(A.DM),N=Object.values(A.Jf),x=Object.values(A.Uo),M=Object.values(A.aj),P=(0,u.zB)({currentBoard:b.tQ,suggestedColors:y.Z}),L=e=>{const{isPopupOpen:t,closeColorPopup:n,popupId:r,buttonSelector:s,selectedElements:a,elementType:l,selectedColor:c,selectedColorHex:u,selectedBackgroundColor:m,selectedBackgroundColorHex:h,setTempColor:g,setColor:f,setSecondaryColor:b,setBackgroundColor:y,setTempBackgroundColor:I,suggestedColors:C,supportBackgroundColor:O,customDefaultColors:A,customColorHandler:P,customTempColorHandler:L}=e,[k,F]=(0,i.useState)(_.p.BACKGROUND),B=(0,i.useRef)(),j=(0,p.X2)(a),z=k===_.p.BACKGROUND&&O,U=(0,v.J)(a.first()),H=(0,p.w2)(a),Z=R({isPopupOpen:t,isBackgroundMode:z,supportColorBar:j,selectedColor:c,selectedBackgroundColor:m,setColorPopupMode:F}),G=(({colorPopupMode:e,elementType:t})=>e!==_.p.BACKGROUND?D:(0,E.Se)(t)?x:(0,E.t3)(t)?M:(0,E.Se)(t)?x:N)({colorPopupMode:Z,elementType:l}),K=z?y:f,W=z?I:e=>{U&&H&&b(null),g(e)},V=z?m:c,$=z?h:u,q=(0,i.useCallback)((()=>{B&&B.current&&B.current.open()}),[B]);return i.createElement("div",{className:d()("ColorPopup",{"is-open":t})},i.createElement(w.Z,{className:"custom-color-picker-input",ref:B,initialColor:$,setTempColor:L||W,setColor:P||K,onBlur:o()(n,200)}),i.createElement(S.Z,{popupId:r,className:"color-popup",buttonSelector:s,closePopup:n},i.createElement(T.Z,Object.assign({},e,{defaultColors:A||G,supportColorBar:j,setColor:P||K,selectedColor:V,openCustomColorPicker:q,colorPopupMode:Z,setColorPopupMode:F,supportColorCombos:U,suggestedColors:C}))))};L.propTypes={selectedElements:a().object,elementType:a().string,setTempColor:a().func.isRequired,setColor:a().func.isRequired,setSecondaryColor:a().func,setBackgroundColor:a().func,setTempBackgroundColor:a().func,closeColorPopup:a().func,selectedColor:a().string,selectedColorHex:a().string,selectedBackgroundColor:a().string,selectedBackgroundColorHex:a().string,dispatchAddColorHistoryEntry:a().func,currentUserId:a().string,isPopupOpen:a().bool,supportBackgroundColor:a().bool,currentBoard:a().object,suggestedColors:a().array,setAppStateSuggestedColors:a().func,popupId:a().string.isRequired,buttonSelector:a().string,customDefaultColors:a().array,customColorHandler:a().func,customTempColorHandler:a().func};const k=(0,l.$j)(P,((e,t)=>({closeColorPopup:()=>e((0,I.j4)(t.popupId)),setTempColor:h.Z,setTempBackgroundColor:f,setColor:(t,n)=>{const r=(0,m.un)(t),o=(0,m.un)(n);e((0,C.Bl)({color:r,secondaryColor:o}))},setSecondaryColor:t=>{const n=(0,m.un)(t);e((0,C.I3)({color:n}))},setBackgroundColor:t=>{const n=(0,m.un)(t);e((0,C.Y4)(n))}})))(L)},78058:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var r=n(67294),o=n(45697),i=n.n(o),s=n(22222),a=n(37974),l=n(33260),c=n(89201),d=n(48935),u=n(20637),m=n(88849),p=n(80877);function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=r.createElement("div",{className:"color-wheel"}),f=r.createElement("div",{className:"color-picker-text"},"Custom color...");class E extends r.Component{constructor(...e){super(...e),h(this,"onCustomColorButtonClick",(()=>{const{closePopup:e,openCustomColorPicker:t}=this.props;t(),e()}))}render(){return window.IntersectionObserver?r.createElement("div",{className:"CustomColorPickerContainer"},r.createElement("div",{className:"custom-color-picker-button-container"},r.createElement(p.Z,{className:"custom-color-picker",onClick:this.onCustomColorButtonClick},g,f))):null}}E.propTypes={selectedElements:i().object,openCustomColorPicker:i().func,setColor:i().func,closePopup:i().func};const v=E;var b=n(94184),y=n.n(b),I=n(87701),C=n(2992),S=r.createElement(I.Z,{name:"toolbar-color-mode-background"}),T=r.createElement(I.Z,{name:"toolbar-color-mode-bar"});const w=({colorPopupMode:e,setColorPopupMode:t})=>r.createElement("div",{className:"ColorPopupModeSwitcher"},r.createElement(p.Z,{className:y()("color-mode-button",{active:e===C.p.BACKGROUND}),onClick:()=>t(C.p.BACKGROUND)},S,"Background"),r.createElement(p.Z,{className:y()("color-mode-button",{active:e!==C.p.BACKGROUND}),onClick:()=>t(C.p.COLOR)},T,"Top strip"));w.propTypes={colorPopupMode:i().string,setColorPopupMode:i().func};const O=w;var _=n(30402);const R=Object.values(_.DM),A=(0,s.zB)({isDarkModeTheme:d.v2,colorComboList:u.Y});var D=r.createElement("div",{className:"divider"}),N=r.createElement("div",{className:"divider"});const x=({supportBackgroundColor:e,supportColorBar:t,setColor:n,defaultColors:o=R,selectedElements:i,selectedColor:s,suggestedColors:a=[],colorPopupMode:d,closePopup:u,openCustomColorPicker:p,setColorPopupMode:h,isDarkModeTheme:g,colorComboList:f=[],supportColorCombos:E})=>{const b=(0,l.pr)(i),y=(0,l.wA)(i),I=(0,l.w2)(i);return r.createElement("div",{className:"ColorPopupContent"},e&&t&&r.createElement(O,{colorPopupMode:d,setColorPopupMode:h}),r.createElement("ul",{className:"colors"},o.map((e=>r.createElement("li",{key:e.name},r.createElement(m.Z,{selectedType:b,selectedStatus:y,setColor:n,color:e,colorPopupMode:d,isActive:s===e.css||s===e.name,className:e.className,isDarkModeTheme:g}))))),E&&r.createElement(r.Fragment,null,D,r.createElement("ul",{className:"colors"},f.map((e=>{const{primary:t,secondary:o}=e;return r.createElement("li",{key:`${t}${o}`},r.createElement(m.Z,{selectedType:b,selectedStatus:y,setColor:n,color:t,secondaryColor:o,colorPopupMode:d,isActive:s===t&&I===o,isDarkModeTheme:g,allowColorCombos:(0,c.J)(i.first())}))})))),a.length>0&&r.createElement(r.Fragment,null,N,r.createElement("ul",{className:"colors"},a.map((e=>r.createElement("li",{key:e},r.createElement(m.Z,{selectedType:b,selectedStatus:y,setColor:n,color:e,colorPopupMode:d,isActive:s===e&&!I,className:e.className,isDarkModeTheme:g})))))),r.createElement(v,{closePopup:u,openCustomColorPicker:p}))};x.propTypes={supportBackgroundColor:i().bool,supportColorBar:i().bool,isDarkModeTheme:i().bool,colorPopupMode:i().string,openCustomColorPicker:i().func,selectedElements:i().object,suggestedColors:i().oneOfType([i().array,i().object]),colorComboList:i().array,defaultColors:i().array,setColorPopupMode:i().func,setColor:i().func,closePopup:i().func,selectedColor:i().string,elementType:i().string,supportColorCombos:i().bool};const M=(0,a.$j)(A)(x)},2992:(e,t,n)=>{"use strict";n.d(t,{p:()=>r});const r={COLOR:"mode-color",COLOR_BAR:"mode-color-bar",BACKGROUND:"mode-background"}},76472:(e,t,n)=>{"use strict";n.d(t,{Y:()=>u,Z:()=>m});var r=n(3945),o=n.n(r),i=n(46716),s=n(13784),a=n(8049),l=n(18952),c=n(83515),d=n(8686);const u=e=>{const t=document.querySelectorAll(".color-target, .background-color-target");(t?Array.from(t):[]).forEach((t=>{e?t.classList.remove("no-transition"):t.classList.add("no-transition")}))},m=e=>{const t=(0,i.un)(e),n=(0,a.KJ)(t),r=document.querySelectorAll(".color-target");(r?Array.from(r):[]).forEach((e=>{e.style.backgroundImage="none",e.style.backgroundColor=t}));const u=document.querySelectorAll(".Line.selected");(u?Array.from(u):[]).forEach((e=>{e.style.setProperty("--ws-line-color",t)}));const m=document.querySelectorAll(".Line.selected .LineLabel");(m?Array.from(m):[]).forEach((e=>{const t=n?"var(--ws-element-dark-text-on-color)":"var(--ws-element-light-text-on-color)";e.style.setProperty("color",t)}));const p=document.querySelectorAll(".CommentThreadCollapsed.selected");(p?Array.from(p):[]).forEach((e=>{const r=n?"var(--ws-element-dark-text-on-color)":"var(--ws-element-light-text-on-color)";e.style.setProperty("--comment-thread-background-color",t),e.style.setProperty("--comment-thread-text-color",r)}));const h=document.querySelectorAll(".selected .color-target-stroke");(h?Array.from(h):[]).forEach((e=>{e.style.stroke=t}));const g=document.querySelectorAll(".selected .color-target-fill");(g?Array.from(g):[]).forEach((e=>{e.style.fill=t}));const f=document.querySelectorAll(".color-contrast-target");Array.from(f).forEach((e=>{n?e.classList.remove("light"):e.classList.add("light")}));const E=document.querySelectorAll(".ColorSwatch.selected");(r?Array.from(E):[]).forEach((n=>{const r=n.querySelector(".ColorSwatchRenderer");r&&(r.style.background=t);const a=n.querySelector(".ColorSwatchContentEditable"),u=n.querySelector(".ElementSimpleContentEditable .title-text span")||n.querySelector(".ElementSimpleContentEditable");if(a&&u){const t=u.textContent,n=(0,d.vJ)(t),r=(0,i.AE)((0,l.Qx)(e,n));a.style.color=(0,s.zm)(e),u.textContent=o()(r)||""}const m=n.querySelector(".Caption:not(.caption-modified) .Editor span[data-text]");m&&(m.textContent=(0,c.E)(e))}));document.querySelectorAll(".selected .ElementPaperIcon").forEach((t=>{n?(t.classList.add("background-light"),t.classList.remove("background-dark")):(t.classList.add("background-dark"),t.classList.remove("background-light")),t.style.setProperty("--ws-document-icon-background-color",e),t.style.setProperty("--ws-document-icon-fold-color",e)}))}},59375:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(75763),l=n(60658),c=n(60742),d=n(77297),u=n(43831),m=n(11111),p=n(13608),h=n(83547),g=n(87447),f=n(24389),E=n(37407),v=n(56884),b=n(26434),y=n(53976),I=n(97245);var C=n(87701),S=n(9365);const T=e=>{const{show:t,isActive:n,dispatchToggleCollapseSelectedCommentThreads:o}=e,i=r.useCallback((()=>{o(!n)}),[n]);return t?r.createElement(S.Z,Object.assign({},e,{onPointerDown:i,isActive:n}),r.createElement(C.Z,Object.assign({},e,{name:"toolbar-collapse"}))):null};T.propTypes={name:i().string,show:i().bool,isActive:i().bool,selectedElements:i().object.isRequired,dispatchToggleCollapseSelectedCommentThreads:i().func};const w=(0,s.$j)(((e,t)=>({show:!(0,l.N0)(t.selectedElements.first())&&!(0,l.Mc)(t.selectedElements.first()),isActive:(0,a.esd)(t.selectedElements.first())})),(e=>({dispatchToggleCollapseSelectedCommentThreads:t=>e(((e,t=(0,c.k)())=>(n,r)=>{if(e){(0,v.dO)({eventType:b.Xc.COLLAPSED_COMMENT_THREAD,userProperties:{[y.YV.FEATURE]:{[y.x2.COLLAPSED_COMMENT_THREAD]:!0}}});const e=r(),o=(0,h.$)(e),i=(0,g.Sp)(e),s=(0,d.RC)(o.valueSeq(),i);if(!(0,u.xb)(s)){const e=s.reduce(((e,t)=>{if(!(0,m.P7)(t))return null;const n=(0,p.nZ)(t);return e.push(n),e}),[]);n((0,f.Zq)({moves:e,transactionId:t,moveOperation:I.Pm.CONNECTION_TRASH}))}}n((0,E.vU)({changes:{collapsed:e},transactionId:t}))})(t))})))(T)},44091:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(40500),l=n(9365),c=n(87701);var d=r.createElement(c.Z,{name:"toolbar-connect"});const u=e=>r.createElement(l.Z,Object.assign({},e,{name:e.name}),d);u.propTypes={name:i().string,isActive:i().bool};const m=(0,s.$j)(null,((e,t)=>({onPointerDown:n=>e((0,a.l)(t.selectedElements))})))(u)},40500:(e,t,n)=>{"use strict";n.d(t,{l:()=>S});var r=n(52612),o=n.n(r),i=n(58809),s=n.n(i),a=n(94885),l=n.n(a),c=n(43831),d=n(11111),u=n(7923),m=n(60742),p=n(60658),h=n(75763),g=n(81897),f=n(81410),E=n(25926),v=n(37407),b=n(59551),y=n(56860);const I=s()("id"),C=(e,t)=>t.distance-e.distance,S=e=>(t,n,{measurementsStore:r})=>{const i=(0,c.su)((0,E.gd)(r.getState())),s=n(),a=(0,f.nv)(s),S=(0,g.gk)(s).filter((e=>(0,d.P7)(e)&&!!(0,h.Xdc)(e)&&!!(0,h.ov8)(e))),T=e.filter(l()(d.P7)).filter(p.PY).toJS(),w=I(T),O=T.map(h.nRF),_=(0,m.k)(),R=((e,t)=>{const n={},r={};for(const o of e){n[o]=!0;const i=(0,c.vg)(o,t);for(const s of e){if(n[s])continue;const e=(0,c.vg)(s,t),a={nodes:[o,s],distance:(0,u.Qy)(i,e)};r[o]=r[o]||[],r[o].push(a),r[s]=r[s]||[],r[s].push(a)}}return r})(O,i),A=(e=>{const t=Object.keys(e);let n=t.length;const r={},i=o()(t);let s=e[i];const a=[];for(s=s.sort(C);n>0&&s.length>0;){const t=s.pop(),o=t.nodes[0],i=t.nodes[1];r[o]&&r[i]||(t.nodes.forEach((t=>{r[t]||(r[t]=!0,s=s.concat(e[t]))})),a.push(t),n-=1,s=s.sort(C))}return a})(R);for(const e of A){const n=e.nodes[0],r=e.nodes[1];if(S.some((e=>{const t=(0,h.Xdc)(e),o=(0,h.ov8)(e);return!(t!==n&&t!==r||o!==n&&o!==r)})))continue;const o=w[n],i=w[n],s=(0,h.FX_)(o),l=(0,h.FX_)(i),c={x:null==s?void 0:s.x,y:null==s?void 0:s.y,snapped:!0,elementId:n},d={x:null==l?void 0:l.x,y:null==l?void 0:l.y,snapped:!0,elementId:r},u={elementType:b.H3,location:{parentId:a,position:{x:null==s?void 0:s.x,y:null==s?void 0:s.y},section:y.WI.CANVAS},content:{start:c,end:d,startStyle:b.lX.NONE,endStyle:b.lX.NONE},currentBoardId:a,select:!1,edit:!1,transactionId:_};t((0,v.bc)(u))}}},21407:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(594),l=n(9365),c=n(37407),d=n(43905),u=n(75763),m=n(22453);const p=e=>{const{selectedElements:t,setDisplayMode:n}=e,o=t.first(),i=(0,u.nMc)(o)||(0,d.ZP)(o),s=i?"Preview":"Card View",c=i?"toolbar-image-preview":"toolbar-card-view",p=(0,u.olH)(o)===m.oE.DETAIL_VIEW;return r.createElement(l.Z,Object.assign({},e,{name:s,isActive:p,onClick:()=>n({showMedia:!p,displayMode:p?m.oE.ICON_VIEW:m.oE.DETAIL_VIEW})}),r.createElement(a.default,{name:c}))};p.propTypes={selectedElements:i().object,setDisplayMode:i().func};const h=(0,s.$j)(null,(e=>({setDisplayMode:({showMedia:t,displayMode:n})=>{e((0,c.vU)({changes:{showMedia:t,displayMode:n}}))}})))(p)},44230:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(19018),l=n(23680),c=n(37574),d=n(75763),u=n(11111),m=n(87701),p=n(9365);const h=e=>{const{name:t,selectedElements:n,dispatchEditAnnotationElement:o,dispatchDeselectAndNavigateToElement:i}=e;let s=t;const a=null==n?void 0:n.first();(0,u.Or)(a)&&!(0,d.Yo_)(a)&&(s="Draw on top");return r.createElement(p.Z,Object.assign({},e,{onClick:()=>{const e=(0,d.nRF)(a);e&&((0,u.Ag)(a)?o(e):i(e,(0,d.BGE)(a)))},name:s}),r.createElement(m.Z,Object.assign({},e,{name:"toolbar-draw"})))};h.propTypes={name:i().string,show:i().bool,isActive:i().bool,selectedElements:i().object.isRequired,dispatchEditAnnotationElement:i().func,dispatchDeselectAndNavigateToElement:i().func};const g=(0,s.$j)(null,(e=>({dispatchEditAnnotationElement:t=>e((0,a.A5)({elementId:t})),dispatchDeselectAndNavigateToElement:(t,n)=>{e((0,l.yJ)({sync:!1}));const r=(0,u.Se)(n)?null:{"editing-drawing":!0};e((0,c.nI)({elementId:t,params:r}))}})))(h)},53013:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Me});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(22222),l=n(19690),c=n(43393),d=n(78327),u=n(13612),m=n(3744),p=n(87447),h=n(75763),g=n(74528),f=n(86340),E=n(69129);const v=e=>t=>t.first()?t.first().getIn(e):null,b=v(["content","icon"]),y=v(["id"]),I=(0,a.P1)(p.eD,y),C=((0,a.P1)(p.eD,b),(0,a.P1)(p.eD,u.Dc,((e,t)=>((e,t)=>{const n=e.first(),r=(0,h.nRF)(n);return(0,u.nE)(t.get(r))})(e,t)||v(["content","image","regular"])(e)||v(["content","image","original"])(e)))),S=(0,a.P1)(((e,t)=>e.getIn(["app","popup","icons","mode"])),C,((e,t)=>{let n=e;return n||(n=t?f.V0:f.k6),n})),T=(0,a.P1)(((e,t)=>t.selectedElements),(e=>e&&e.first().getIn(["content","title"]))),w=(0,a.P1)(S,T,((e,t)=>e===f.k6?t:e===f.ul?f.ul:e)),O=(0,d.y1)(T,(e=>{const t=(0,g.ls)(e).map((e=>(0,m.Z)(e)));return c.List(t)})),_=(0,d.y1)(S,w,T,O,((e,t)=>e.getIn(["app","popup","icons","searchResults"])),((e,t,n,r,o)=>{switch(e){case f.k6:return o.get(t)&&o.get(t).slice(0,8).concat(r).concat(f.ot);case f.ul:return r.concat(f.ot).concat(f.pQ);default:return o.get(t)}})),R=(0,a.P1)(((e,t)=>t.selectedElements),T,(e=>e.getIn(["app","popup","icons","elementSearches"])),C,((e,t,n,r)=>{let o=[{slug:f.k6,title:"Recommended"}],i=[];const s=(t||"").split(" ").filter((0,g.w7)()).map(g.A2).filter((e=>e.length>0));s.length>1&&s.forEach((e=>{i.push({slug:e,title:e})}));const a=(0,h.nRF)(e.first()),l=n.get(a)&&n.get(a).valueSeq().toArray();l&&l.forEach((e=>{i.push({title:e,slug:e})})),i=i.slice(-(f.nY-3)),o=o.concat(i),o.push({slug:f.ul,title:"Letters & numbers"});const c=r?"Custom image":"Upload an image";return o.push({slug:f.V0,title:c}),o})),A=(0,a.P1)((0,l.ZP)(E.K2.ICON),w,R,_,C,((e,t,n,r,o)=>e?{isActive:e,popupQuery:t,modeList:n,iconList:r,selectedImage:o}:{isActive:e}));var D=n(7495),N=n(81136),x=n(54688),M=n(55290);var P=n(94184),L=n.n(P),k=n(28),F=n(80877),B=n(95803),j=n(37407),z=n(36410);const U=e=>r.createElement(F.Z,{className:L()("IconButton",{active:e.isActive}),onClickFn:e.selectIcon},r.createElement(N.Z,{icon:e.icon}));U.propTypes={icon:i().object,selectedElements:i().object,selectIcon:i().func,isActive:i().bool};const H=(0,s.$j)(null,((e,t)=>({selectIcon:n=>{const{icon:r,selectedElements:o,popupQuery:i}=t,s=r.toJS();(0,k.J)({icon:s,boardId:(0,h.nRF)(o.first()),searchQuery:i,setMode:z.U.USER_ACTION}),e(((e,t)=>(n,r)=>{n((0,j.vU)({changes:{icon:e,image:null}})),n((0,B.X6)({ids:t.map(h.nRF)}))})(s,o))}})))(U);var Z=n(26457);const G=(e,t)=>{let n=!0;return e.forEach((e=>{const r=e.getIn(["content","icon","id"]),o=t&&t.get("id");n=n&&!r&&!o||o&&r===o})),n};var K=r.createElement("div",{className:"IconList"},r.createElement("div",{className:"iconlist-loading"},r.createElement(Z.Z,{show:!0})));const W=e=>K,V=({popupQuery:e,setModeDefault:t})=>r.createElement("div",{className:"IconList"},r.createElement("div",{className:"iconlist-loading"},r.createElement("div",{className:"no-results"},r.createElement("p",null,'No icons found for "',e,'".'),r.createElement("p",null,r.createElement("a",{href:"#",onClick:t},"See recommended icons")))));V.propTypes={popupQuery:i().string,setModeDefault:i().func};const $=e=>r.createElement("div",{className:"IconList"},r.createElement("ul",null,e.iconList.map(((t,n)=>r.createElement("li",{key:n},r.createElement(H,Object.assign({},e,{icon:t,isActive:G(e.selectedElements,t)})))))));$.propTypes={iconList:i().object,selectedElements:i().object};const q=e=>{const{iconList:t}=e;return t?t.size?r.createElement($,e):r.createElement(V,e):r.createElement(W,e)};q.propTypes={iconList:i().object};const Y=q;var X=n(60434),Q=n(87961),J=n(60742),ee=n(86937),te=n(21007),ne=n(87701),re=r.createElement("div",{className:"BoardImageUploadIcon"},r.createElement(ne.Z,{name:"image-form-upload"}));const oe=()=>re;oe.propTypes={};const ie=oe;var se,ae=n(19428),le=n(73497);function ce(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var de=r.createElement(ie,null);let ue=(0,ee.Z)()(se=class extends r.Component{constructor(e){super(e),ce(this,"openFileSelect",(e=>{this.fileInputRef.current&&this.fileInputRef.current.click()})),this.fileInputRef=r.createRef()}render(){const{selectedImage:e,selectedElements:t,gridSize:n,uploadFile:o,connectFileDropTarget:i}=this.props,s=t.first(),a=e?"Change image":"Choose an image",l=e?r.createElement("div",{className:"board-image-wrapper"},r.createElement(ae.Z,{element:s,size:8,gridSize:n})):de;return i(r.createElement("div",{className:"BoardImagePicker",onClick:this.openFileSelect},r.createElement("div",null,r.createElement(te.Z,{ref:this.fileInputRef,id:"board",uploadFile:o}),l),r.createElement(le.Z,{className:"primary upload-title"},a)))}})||se;ue.propTypes={gridSize:i().number.isRequired,selectedElements:i().object.isRequired,selectedImage:i().string,dispatchBoardImage:i().func,uploadFile:i().func.isRequired,fileIsHovered:i().bool,connectFileDropTarget:i().func};const me=ue;var pe,he=n(81248);function ge(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let fe=(0,s.$j)(null,(e=>({dispatchBoardImage:(t,n,r=(0,J.k)())=>{e((0,j.yj)({id:t,changes:{icon:null},transactionId:r})),e((0,B.Ix)({id:t,file:n,imageType:he.v.BOARD,transactionId:r}))},dispatchClosePopup:()=>e((0,X.j4)())})))(pe=class extends r.Component{constructor(...e){var t;super(...e),t=this,ge(this,"uploadImage",(async function(e,n){const{dispatchBoardImage:r,dispatchClosePopup:o,selectedElements:i}=t.props;await(0,Q.o1)(e)||(i.forEach((t=>r((0,h.nRF)(t),e,n))),o())}))}render(){return r.createElement(me,Object.assign({},this.props,{openFileSelect:this.openFileSelect,uploadFile:this.uploadImage}))}})||pe;fe.propTypes={gridSize:i().number.isRequired,selectedElements:i().object.isRequired,selectedImage:i().string,dispatchBoardImage:i().func,dispatchClosePopup:i().func};const Ee=fe;var ve=r.createElement("div",{className:"instructions"},"Tip: 160 x 160px works best.");const be=e=>r.createElement("div",{className:"IconTabContentImagePicker"},r.createElement(Ee,e),ve);be.propTypes={gridSize:i().number.isRequired,selectedElements:i().object.isRequired,dispatchBoardImage:i().func};const ye=be;var Ie,Ce=n(55404),Se=n(85180);const Te=e=>e.popupMode===f.V0;let we=(0,s.$j)(A,(e=>({searchForIcons:({query:t,id:n})=>e((({query:e,id:t})=>n=>{n({type:f.dF,query:e,id:t}),(0,M.A)(e,32).then((t=>{const{icons:r}=t.data;n({type:f.lk,query:e,icons:r})})).catch((t=>{console.error("ERROR: Retrieving icons.",t,t.response),n({type:f.aT,query:e})}))})({query:t,id:n})),setMode:({mode:t,id:n})=>{t&&e((({mode:e,id:t})=>({type:f.k$,mode:e,id:t}))({mode:t,id:n}))}})))(Ie=(0,x.CA)({submitSearch:({setMode:e,selectedElements:t})=>n=>{e({mode:n,id:t&&(0,h.nRF)(t.first())})},setModeDefault:({setMode:e,selectedElements:t})=>t=>{t&&t.preventDefault(),e({mode:f.k6})}})(Ie=class extends r.Component{componentWillMount(){const{searchForIcons:e,popupQuery:t,selectedElements:n,iconList:r}=this.props;r&&r.size||e({query:t,id:(0,h.nRF)(n.first())})}componentWillReceiveProps(e){const{searchForIcons:t}=this.props;e.isActive&&((e,t)=>(((e,t)=>t.popupMode!==e.popupMode)(e,t)||((e,t)=>t.isActive&&!e.isActive)(e,t))&&!Te(t)&&!t.iconList)(this.props,e)&&t({query:e.popupQuery,id:(0,h.nRF)(e.selectedElements.first())})}render(){return r.createElement("div",{className:"icon-popup-content"},r.createElement(Ce.Z,Object.assign({},this.props,{showSearch:!0,searchPlaceholder:"Search icons..."})),r.createElement(Se.Z,null,Te(this.props)?r.createElement(ye,this.props):r.createElement(Y,this.props)))}})||Ie)||Ie;we.propTypes={gridSize:i().number.isRequired,isActive:i().bool,selectedElements:i().object,iconList:i().object,popupMode:i().string,modeList:i().array,popupQuery:i().string,setMode:i().func,setModeDefault:i().func,submitQuery:i().func,searchForIcons:i().func};const Oe=we;var _e=n(14505);const Re=({imageSource:e})=>r.createElement(_e.Z,{className:"IconToolImage",source:e});Re.propTypes={imageSource:i().string.isRequired};const Ae=Re;var De=n(67789);const Ne=(0,a.P1)((0,l.ZP)(E.K2.ICON),S,I,((e,t,n)=>({popupIsOpen:e,popupMode:t,firstElementId:n}))),xe=e=>{const{openIconPopup:t,selectedElements:n,popupIsOpen:o,closeIconPopup:i}=e,s=(e=>e.first()&&(e.first().getIn(["attachment","data"])||e.first().getIn(["content","image","regular"])||e.first().getIn(["content","image","original"])))(n),a=(e=>e.first()&&e.first().getIn(["content","icon"]))(n),l=s?r.createElement(Ae,Object.assign({},e,{imageSource:s})):r.createElement(N.Z,Object.assign({},e,{icon:a}));return r.createElement("div",{className:"icon-tool-container"},r.createElement(D.Z,{className:"IconTool",name:"Icon",onPointerDown:t,isActive:o},l),r.createElement(De.Z,{popupId:E.K2.ICON,className:"icon-popup",buttonSelector:".IconTool .icon",closePopup:i},r.createElement(Oe,e)))};xe.propTypes={gridSize:i().number.isRequired,openIconPopup:i().func,closeIconPopup:i().func,popupIsOpen:i().bool,selectedElements:i().object,firstElementId:i().string};const Me=(0,s.$j)(Ne,((e,t)=>({openIconPopup:()=>e((0,X.zI)(E.K2.ICON)),closeIconPopup:()=>e((0,X.j4)(E.K2.ICON))})))(xe)},86340:(e,t,n)=>{"use strict";n.d(t,{Fg:()=>m,V0:()=>s,aT:()=>d,dF:()=>l,k$:()=>a,k6:()=>o,lk:()=>c,nY:()=>u,ot:()=>p,pQ:()=>h,ul:()=>i});var r=n(3744);const o="___default___",i="___letters___",s="___images___",a="ICON_POPUP_STATE_SET",l="ICON_POPUP_SEARCH_SUBMIT",c="ICON_POPUP_SEARCH_SUCCESS",d="ICON_POPUP_SEARCH_FAILURE",u=5,m=["a","an","and","as","at","but","by","for","in","into","is","it","its","nor","of","onto","or","so","than","that","the","then","to","too","until","with","yet","my","i","his","her","their","theres","/","&","!","@","#","&"],p=["1","2","3","4","5","6","7","8","9","0"].map((e=>(0,r.Z)(e))),h=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","!","#","$","%","&","=","~"].map((e=>(0,r.Z)(e,"strdefault")))},95074:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(75763),l=n(43831),c=n(37574),d=n(23680),u=n(9365),m=n(87701),p=n(6442);const h=e=>{const{selectedElements:t}=e;return!t||(0,l.xb)(t)||(0,a.V4D)(t.first())===p.w_.NO_MEDIA?null:r.createElement(u.Z,Object.assign({},e,{name:e.name,isActive:!1}),r.createElement(m.Z,Object.assign({},e,{name:"toolbar-image-edit"})))};h.propTypes={selectedElements:i().object,name:i().string,isActive:i().bool};const g=(0,s.$j)(null,((e,t)=>({onPointerDown:n=>{const r=(0,a.nRF)(t.selectedElements.first());e((0,d.yJ)()),e((0,c.nI)({elementId:r,params:{editing:!0}}))}})))(h)},21207:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(68302),o=n.n(r),i=n(67294),s=n(45697),a=n.n(s),l=n(37974),c=n(22222),d=n(75763),u=n(85263),m=n(62107),p=n(71154),h=n(23680),g=n(37407),f=n(9365),E=n(87701);const v=(0,c.P1)(((e,t)=>t.selectedElements.first()),p.pJ,((e,t)=>({isActive:!!t||(0,d.AU0)(e)&&!!(0,d.Wt9)(e)}))),b=e=>{const{isActive:t,selectedElements:n,dispatchStartEditing:r,dispatchStopEditing:s,dispatchUpdateLineLabel:a}=e,l=i.useCallback((()=>{const e=n.first(),i=(0,d.nRF)(e);if(t)return s({id:i}),void o()((()=>a({id:i,lineLabelEnabled:!1})));(0,u.HM)()?r({id:i,editorId:(0,m.s6)({element:e}),editorKey:(0,m.iS)({element:e})}):o()((()=>{r({id:i,editorId:(0,m.s6)({element:e}),editorKey:(0,m.iS)({element:e})})}))}),[t,n]);return i.createElement(f.Z,Object.assign({},e,{onPointerDown:l,isActive:t}),i.createElement(E.Z,Object.assign({},e,{name:"toolbar-line-label"})))};b.propTypes={name:a().string,isActive:a().bool,selectedElements:a().object.isRequired,dispatchUpdateLineLabel:a().func,dispatchStartEditing:a().func,dispatchStopEditing:a().func};const y=(0,l.$j)(v,(e=>({dispatchUpdateLineLabel:({id:t,lineLabelEnabled:n})=>e((0,g.yj)({id:t,changes:{lineLabelEnabled:n}})),dispatchStartEditing:({id:t,editorKey:n,editorId:r})=>e((0,h.TV)({id:t,editorKey:n,editorId:r})),dispatchStopEditing:({id:t})=>e((0,h.gR)(t))})))(b)},89205:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(75763),l=n(37407),c=n(87701),d=n(9365),u=n(59551);const m=e=>{const{isActive:t,dispatchUpdateSelectedElements:n}=e,o=r.useCallback((()=>{const e=t?u.j2.SOLID:u.j2.DASHED;n({changes:{lineStyle:e}})}),[t]);return r.createElement(d.Z,Object.assign({className:"LineStyleTool"},e,{onPointerDown:o,isActive:t}),r.createElement(c.Z,Object.assign({},e,{name:"toolbar-line-style-dash"})))};m.propTypes={name:i().string,isActive:i().bool,selectedElements:i().object.isRequired,dispatchUpdateSelectedElements:i().func};const p=(0,s.$j)(((e,t)=>({isActive:(0,a.v9c)(t.selectedElements.first())===u.j2.DASHED})),(e=>({dispatchUpdateSelectedElements:({changes:t})=>e((0,l.vU)({changes:t}))})))(m)},50680:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var r=n(67294),o=n(45697),i=n.n(o),s=n(28200),a=n(37974),l=n(94184),c=n.n(l),d=n(75763),u=n(37407),m=n(67789),p=n(80877),h=n(87701),g=n(59551),f=n(69129);var E=r.createElement(h.Z,{name:"toolbar-line-weight-1-px"}),v=r.createElement(h.Z,{name:"toolbar-line-weight-2-px"}),b=r.createElement(h.Z,{name:"toolbar-line-weight-4-px"});let y=e=>{const{lineWeight:t,dispatchUpdateSelectedElements:n}=e,o=r.useCallback((e=>()=>{n({changes:{lineWeight:e}})}));return r.createElement(r.Fragment,null,r.createElement(p.Z,{onClick:o(g.Xq.S),className:c()({active:t===g.Xq.S})},E),r.createElement(p.Z,{onClick:o(g.Xq.M),className:c()({active:t===g.Xq.M||!t})},v),r.createElement(p.Z,{onClick:o(g.Xq.L),className:c()({active:t===g.Xq.L})},b))};y.propTypes={lineWeight:i().number,dispatchUpdateSelectedElements:i().func},y=(0,a.$j)(((e,t)=>({lineWeight:(0,d.vbV)(t.selectedElements.first())})),(e=>({dispatchUpdateSelectedElements:({changes:t})=>e((0,u.vU)({changes:t}))})))(y);const I=e=>{const{closePopup:t}=e;return r.createElement(m.Z,{popupId:f.K2.LINE_WEIGHT,className:"LineWeightPopup LinePopup",buttonSelector:".LineweightTool .icon",closePopup:t},r.createElement(y,e))};I.propTypes={closePopup:i().func};const C=I,S=e=>r.createElement(s.Z,Object.assign({},e,{toolName:"lineWeight",PopupComponent:C}));S.propTypes={name:i().string,selectedElements:i().object.isRequired};const T=S},2161:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(22222),l=n(75763),c=n(59118),d=n(67789),u=n(91310),m=n(69129),p=n(77875);const h=["isPopupOpen","selectedElements","selectedTaskListId"];const g=(0,a.zB)({selectedTaskListId:c.A}),f=e=>{let{selectedElements:t,selectedTaskListId:n}=e,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,h);const i=t.map(l.nRF).toArray(),s=n?[n]:i;return r.createElement(d.Z,Object.assign({},o,{alignment:p.UV.CENTER,popupId:m.K2.REACTION_TOOL,className:"ReactionPopup"}),r.createElement(u.Z,Object.assign({},o,{closePopup:null,elementIds:s})))};f.propTypes={isPopupOpen:i().bool,selectedElements:i().object,selectedTaskListId:i().string};const E=(0,s.$j)(g)(f);var v=n(28200);const b=e=>r.createElement(v.Z,Object.assign({},e,{popupId:m.K2.REACTION_TOOL,toolName:"Reaction",buttonSelector:".ReactionTool .icon",PopupComponent:E}));b.propTypes={selectedElements:i().object};const y=b},28171:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(67294),o=n(45697),i=n.n(o),s=n(75583),a=n(74386),l=n(62523),c=n(5191),d=n(12896),u=n(54288),m=n(26911),p=n(45575);const h=e=>{const{editorKey:t}=e;return t===p.lq?null:r.createElement(u.Z,e)};h.propTypes={editorKey:i().string};const g=(0,s.Z)((e=>{const t=(0,d.hZ)(e);if(!t)return{isActive:!1};const n=(0,a.Z)(t);if(!n)return{isActive:!1};const r=n.getType();if(!(0,l.Z)(r))return{disabled:!0};const o=n.getData();return o?{isActive:!!o.get(m.kk.TEXT_ALIGN_CENTER)}:{isActive:!1}}),(e=>({onPointerDown:t=>{t.preventDefault(),e(((e,t)=>{const n=t(),r=(0,d.hZ)(n),o=(0,a.Z)(r);if(!o)return;const i=o.getData();if(!i)return;const s=!i.get(m.kk.TEXT_ALIGN_CENTER);e((0,c.K9)({[m.kk.TEXT_ALIGN_CENTER]:s}))}))}})))(h)},55716:(e,t,n)=>{"use strict";n.d(t,{Z:()=>F});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(54688),l=n(75583),c=n(60434),d=n(19690),u=n(12896),m=n(80177),p=n(72923),h=n(67789),g=n(54288),f=n(77606),E=n.n(f),v=n(22222),b=n(28644),y=n(39702),I=n(51752),C=n(71154),S=n(5191),T=n(59916),w=n(34398),O=n(26911),_=n(40253),R=n(75146),A=n(69129);function D(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const N=(0,b.aU)("url"),x=(0,v.zB)({currentlyEditingId:C.pJ});class M extends r.Component{constructor(e){super(e),D(this,"onChange",(e=>{const t=e.target.value.replace(/[\s,\n]/g,"");this.setState({url:t})})),D(this,"onKeyPress",(e=>{if(e.which===_.nx.ENTER)return this.onSubmit(e)})),D(this,"onSubmit",(e=>{e.preventDefault();const{dispatchEditorEntityChange:t,dispatchEditorEntityRemove:n,dispatchClosePopup:r}=this.props,{url:o}=this.state;r(),E()(o)?n():t(o)})),D(this,"handlePointerDown",(e=>{this.component.contains(e.target)||(e.preventDefault(),e.stopPropagation(),this.saveOrCancelChanges())})),D(this,"handleKeyDown",(e=>{if((0,I.lk)(e)&&e.which===_.nx.K)return this.cancelChanges(e);switch(e.which){case _.nx.ESC:return this.cancelChanges(e);case _.nx.TAB:return e.preventDefault(),e.stopPropagation(),this.saveOrCancelChanges(e);case _.nx.SPACEBAR:return e.preventDefault(),e.stopPropagation(),null;default:return null}})),D(this,"saveOrCancelChanges",(()=>{if(E()(this.state.url))return this.removeHyperlink();this.props.dispatchEditorEntityChange(this.state.url),this.props.dispatchClosePopup()})),D(this,"cancelChanges",(e=>{const{dispatchEditorEntityChange:t,dispatchClosePopup:n}=this.props;if(e.preventDefault(),E()(this.props.url))return this.removeHyperlink();t(this.props.url),n()})),D(this,"removeHyperlink",(()=>{const{dispatchEditorEntityRemove:e,dispatchClosePopup:t}=this.props;e(),t()})),this.state={url:this.props.url||""}}componentDidMount(){requestAnimationFrame((()=>{this.inputComponent.focus(),(0,y.mT)(this.inputComponent)})),document.addEventListener("pointerdown",this.handlePointerDown,{capture:!0}),document.addEventListener("keydown",this.handleKeyDown,{capture:!0})}componentWillReceiveProps(e){N(this.props,e)&&this.setState({url:e.url})}componentWillUnmount(){const{dispatchClearLocalEditorState:e,currentlyEditingId:t}=this.props;e({id:t}),document.removeEventListener("pointerdown",this.handlePointerDown,{capture:!0}),document.removeEventListener("keydown",this.handleKeyDown,{capture:!0})}render(){const{url:e}=this.state;return r.createElement("div",{className:"HyperlinkPopup",ref:e=>{this.component=e}},r.createElement("input",{className:"hyperlink-input",tabIndex:-1,ref:e=>{this.inputComponent=e},type:"text",placeholder:"Enter a URL...",onChange:this.onChange,onKeyPress:this.onKeyPress,value:e}),r.createElement(w.Z,{show:!!e,canClear:!!e,onPointerDown:this.removeHyperlink}))}}M.propTypes={dispatchEditorEntityChange:i().func,dispatchEditorEntityRemove:i().func,dispatchClosePopup:i().func,dispatchClearLocalEditorState:i().func,currentlyEditingId:i().string,url:i().string};const P=(0,a.qC)((0,l.Z)((e=>{const t=(0,u.hZ)(e),n=(0,m.Z)(t);if(!n)return{url:""};const r=t.getCurrentContent().getEntity(n);return r&&r.get("type")===O.l3.LINK?{url:r.get("data").url||""}:{url:""}}),(e=>({dispatchEditorEntityChange:t=>{e((0,S.JH)({entityType:O.l3.LINK,mutability:R.NQ.MUTABLE,data:{url:t}}))},dispatchEditorEntityRemove:()=>e((0,S.Gf)())}))),(0,s.$j)(x,(e=>({dispatchClosePopup:()=>e((0,c.j4)(A.K2.HYPERLINK,!1)),dispatchClearLocalEditorState:({id:t})=>e((0,T.T)({id:t,data:{editorState:null}}))}))))(M),L=["closeHyperlinkPopup","openHyperlinkPopup","isPopupOpen"];const k=e=>{let{closeHyperlinkPopup:t,openHyperlinkPopup:n,isPopupOpen:o}=e,i=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,L);return r.createElement("div",{className:"HyperLinkRichTextToolContainer"},r.createElement(g.Z,Object.assign({},i,{onPointerDown:n,isOpen:o,tooltipEnabled:!o}),r.createElement(h.Z,{popupId:A.K2.HYPERLINK,className:"hyperlink-popup",buttonSelector:".RichTextTool.link .icon",closePopup:t},r.createElement(P,i))))};k.propTypes={isPopupOpen:i().bool,openHyperlinkPopup:i().func,closeHyperlinkPopup:i().func};const F=(0,a.qC)((0,l.Z)((e=>{const t=(0,u.hZ)(e);if(!t)return{disabled:!0};const n=(0,m.Z)(t);if(t.getSelection().isCollapsed()&&!n)return{disabled:!0};if(!n)return{isActive:!1,url:""};const r=t.getCurrentContent().getEntity(n),o=r&&r.get("data")&&r.get("data").url||"";return{isActive:!!o,url:o}})),p.Z,(0,s.$j)((e=>({isPopupOpen:(0,d.wg)(A.K2.HYPERLINK)(e)})),(e=>({closeHyperlinkPopup:()=>e((0,c.j4)(A.K2.HYPERLINK))}))))(k)},54288:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s),l=n(9365),c=n(87701);const d=e=>{var t;const{iconName:n,item:o,isActive:i,disabled:s,children:d,tooltipEnabled:u=!0}=e,m=(null==o||null===(t=o.toolSettings)||void 0===t?void 0:t.styleCommand)||e.styleCommand||"";return r.createElement(r.Fragment,null,r.createElement(l.Z,Object.assign({},e,{name:null,isActive:i,className:a()("RichTextTool",m.toLowerCase()),disabled:s,tooltipEnabled:u}),r.createElement(c.Z,Object.assign({},e,{name:n}))),d)};d.propTypes={name:i().string,iconName:i().string.isRequired,styleCommand:i().string,tooltipText:i().string,isActive:i().bool,disabled:i().bool,tooltipEnabled:i().bool,shortcut:i().array,item:i().object,children:i().oneOfType([i().arrayOf(i().node),i().node])};const u=d},10025:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(67294),o=n(45697),i=n.n(o),s=n(68071),a=n(64101),l=n(50203),c=n(83073),d=n(26399),u=n(83263),m=n(76491),p=n(45575),h=n(73440),g=n(56313);const f=e=>{const{editorKey:t,gridSizeName:n,availableHeight:o,unavailableHeight:i}=e;if((0,s.cE)())return null;const f=t===u.h||t===p.lq||t===h.A,E=t===m.WK||t===g.U;if(!E&&!f)return null;const v=E?d.dX:d.hy;return r.createElement(c.Z,Object.assign({},e,{className:"RichTextToolList"}),r.createElement(l.Z,Object.assign({},e,{showBlockStyleTools:E})),r.createElement(a.Z,Object.assign({},e,{toolsId:"text",toolsConfig:d.SC,collapseOrder:d.qK,availableTools:v,availableHeight:o,gridSizeName:n,unavailableHeight:i})))};f.propTypes={editorKey:i().string,gridSizeName:i().string,availableHeight:i().number,unavailableHeight:i().number};const E=f},67026:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(75583),o=n(56884),i=n(5191),s=n(54288),a=n(12896),l=n(74386),c=n(26911),d=n(53976),u=n(26434),m=n(22733);const p=(0,r.Z)(((e,t)=>{var n,r;const o=(null===(n=t.item)||void 0===n||null===(r=n.toolSettings)||void 0===r?void 0:r.styleCommand)||t.styleCommand||"",i=(0,a.hZ)(e);if(!i)return{isActive:!1};const s=c.ow[o],d=(0,l.Z)(i);if(!d)return{isActive:!1};const u=d.getType();if(s===c.lx.BLOCK)return{isActive:u===o};if(o===c.K2.BOLD&&(u===c.K2.HEADING||u===c.K2.LARGE_HEADING))return{disabled:!0};if(o===c.K2.ITALIC&&u===c.K2.BLOCKQUOTE)return{disabled:!0};return{isActive:(0,m.Z)(i).has(o)}}),((e,t)=>({onPointerDown:n=>{var r,s;const a=(null===(r=t.item)||void 0===r||null===(s=r.toolSettings)||void 0===s?void 0:s.styleCommand)||t.styleCommand||"";n.preventDefault();const l=(0,i.D4)({styleCommand:a});e(l),a===c.K2.CHECKLIST&&(0,o.dO)({eventType:u.Xc.CHECKLIST,userProperties:{[d.YV.FEATURE]:{[d.x2.CHECKLIST]:!0}}})}})))(s.Z)},73131:(e,t,n)=>{"use strict";n.d(t,{Z:()=>H});var r=n(67294),o=n(45697),i=n.n(o),s=n(75583),a=n(12896),l=n(80177),c=n(83073),d=n(71071),u=n(81995),m=n(33659),p=n(63662),h=n(81996),g=n(53086),f=n(64101),E=n(50203),v=n(26399);const b={default:v.SC.default,[v.WI.BOLD]:v.SC[v.WI.BOLD],[v.WI.ITALIC]:v.SC[v.WI.ITALIC],[v.WI.STRIKETHROUGH]:v.SC[v.WI.STRIKETHROUGH]},y=[v.WI.BOLD,v.WI.ITALIC,v.WI.STRIKETHROUGH],I=e=>{const{gridSizeName:t,availableHeight:n,unavailableHeight:o}=e;return r.createElement("div",{"data-table-util":!0},r.createElement(c.Z,Object.assign({},e,{className:"TableEditorToolList"}),r.createElement(E.Z,Object.assign({},e,{showBlockStyleTools:!1})),r.createElement(f.Z,Object.assign({},e,{toolsId:"text",toolsConfig:b,availableTools:y,availableHeight:n,gridSizeName:t,unavailableHeight:o}))))};I.propTypes={editorKey:i().string,gridSizeName:i().string,availableHeight:i().number,unavailableHeight:i().number,hasEditorSelection:i().bool};const C=I;var S=n(37974),T=n(22222),w=n(55777),O=n(43831);const _=(0,T.zB)({currentCellSelections:w.pF}),R=e=>{const{currentCellSelections:t}=e;return r.createElement(E.Z,Object.assign({},e,{disabled:0===(0,O.kE)(t)}))};R.propTypes={currentCellSelections:i().object};const A=(0,S.$j)(_)(R);var D=n(54301);const N="RichTextTools",x="CellType",M="TableCellColor",P="TableCellAlignment",L="TableCellFormula",k="AddColumn",F="AddRow",B={default:{height:{large:48,medium:48,small:43}},TableCellAlignment:{name:"Alignment",component:h.Z},TableCellFormula:{name:"Formula",component:d.Z},AddColumn:{name:"Add Column",component:u.Z},AddRow:{name:"Add Row",component:m.Z},CellType:{name:"Cell Type",component:p.Z,alwaysVisiblePredicate:()=>!0},TableCellColor:{name:"Cell Color",component:g.Z,alwaysVisiblePredicate:()=>!0},RichTextTools:{name:"Text style",component:A,alwaysVisiblePredicate:()=>!0}},j=[N,x,M,L,P,k,F],z=[F,k,P,L],U=e=>{const{editorKey:t,hasEditorSelection:n,gridSizeName:o,availableHeight:i,unavailableHeight:s}=e;if(t===D.AA)return r.createElement(c.Z,Object.assign({},e,{className:"RichTextToolList"}),r.createElement(E.Z,e),r.createElement(f.Z,Object.assign({},e,{toolsId:"text",toolsConfig:v.SC,collapseOrder:v.qK,availableTools:v.hy,availableHeight:i,gridSizeName:o,unavailableHeight:s})));return t===D.Am&&n?r.createElement(C,Object.assign({},e,{showSeparators:!1})):r.createElement(c.Z,e,r.createElement(f.Z,Object.assign({},e,{toolsId:"text",toolsConfig:B,availableTools:j,collapseOrder:z,availableHeight:i,gridSizeName:o,unavailableHeight:s})))};U.propTypes={editorKey:i().string,gridSizeName:i().string,availableHeight:i().number,unavailableHeight:i().number,hasEditorSelection:i().bool};const H=(0,s.Z)((e=>{const t=(0,a.hZ)(e);if(!t)return{hasEditorSelection:!1};const n=(0,l.Z)(t);return t.getSelection().isCollapsed()&&!n?{hasEditorSelection:!1}:{hasEditorSelection:!0}}))(U)},26399:(e,t,n)=>{"use strict";n.d(t,{hy:()=>C,dX:()=>S,SC:()=>w,qK:()=>T,WI:()=>I});var r=n(67026),o=n(55716),i=n(28171),s=n(56884),a=n(75583),l=n(5191),c=n(54288),d=n(12896),u=n(74386),m=n(22733),p=n(95669),h=n(24749),g=n(26911),f=n(26434);const E=(0,a.Z)((e=>{const t=(0,d.hZ)(e);if(!t)return{isActive:!1};const n=(0,u.Z)(t);if(!n)return{isActive:!1};if(n.getType()===g.K2.CODE_BLOCK)return{isActive:!0};return{isActive:(0,m.Z)(t).has(g.K2.CODE)}}),(e=>({onPointerDown:t=>{t.preventDefault(),e(((e,t)=>{const n=t(),r=(0,d.hZ)(n);(0,s.dO)({eventType:f.Xc.TEXT_STYLE_TOGGLE,eventProperties:{style:g.K2.CODE_BLOCK}});let o=(0,p.Z)(r)||(0,h.Z)(r);if(!o){const e=r.getSelection(),t=(0,m.Z)(r),n=(0,u.Z)(r);o=e.isCollapsed()&&!t.has(g.K2.CODE)||n.type===g.K2.CODE_BLOCK}const i=o?g.K2.CODE_BLOCK:g.K2.CODE;e((0,l.D4)({styleCommand:i}))}))}})))(c.Z);var v=n(92975),b=n(37126),y=n(41013);const I={BOLD:"BOLD",ITALIC:"ITALIC",LIST:"LIST",ORDERED_LIST:"ORDERED_LIST",CHECKLIST:"CHECKLIST",HYPERLINK:"HYPERLINK",HIGHLIGHT:"HIGHLIGHT",STRIKETHROUGH:"STRIKETHROUGH",CENTER_TEXT:"CENTER_TEXT",CODE:"CODE",INDENT:"INDENT",UNINDENT:"UNINDENT"},C=[I.BOLD,I.ITALIC,I.STRIKETHROUGH,I.HYPERLINK,I.CENTER_TEXT],S=[I.BOLD,I.ITALIC,I.STRIKETHROUGH,I.LIST,I.ORDERED_LIST,I.CENTER_TEXT,I.HYPERLINK],T=[I.STRIKETHROUGH,I.ORDERED_LIST,I.ITALIC,I.LIST,I.CHECKLIST,I.BOLD,I.CENTER_TEXT],w={default:{height:{[y.HR.LARGE.name]:40,[y.HR.MEDIUM.name]:36,[y.HR.SMALL.name]:32},component:r.Z},[I.BOLD]:{name:"Bold",tooltipText:"Bold",shortcut:["command","b"],styleCommand:g.K2.BOLD,iconName:"toolbar-bold"},[I.ITALIC]:{name:"Italic",tooltipText:"Italic",shortcut:["command"," "," ","i"],styleCommand:g.K2.ITALIC,iconName:"toolbar-italic"},[I.LIST]:{name:"Bullet",tooltipText:"Bullet",shortcut:["command","shift","u"],styleCommand:g.K2.LIST,iconName:"toolbar-list"},[I.ORDERED_LIST]:{name:"Numbered list",tooltipText:"Numbered list",shortcut:["command","shift","o"],styleCommand:g.K2.ORDERED_LIST,iconName:"toolbar-numlist"},[I.HYPERLINK]:{name:"Hyperlink",tooltipText:"Hyperlink",shortcut:["command","k"],styleCommand:g.K2.HYPERLINK,iconName:"toolbar-hyperlink",component:o.Z},[I.STRIKETHROUGH]:{name:"Strikethrough",tooltipText:"Strikethrough",shortcut:["command","shift","X"],styleCommand:g.K2.STRIKETHROUGH,iconName:"toolbar-strikethrough"},[I.CODE]:{name:"Code",tooltipText:"Code",shortcut:["command"," "," ",">"],styleCommand:g.K2.CODE,iconName:"toolbar-code",component:E},[I.CENTER_TEXT]:{name:"Align center",tooltipText:"Align center",shortcut:["command"," "," ","\\"],styleCommand:g.K2.CENTER_TEXT,iconName:"toolbar-center-text",component:i.Z},[I.INDENT]:{name:"Indent",tooltipText:"Indent",iconName:"toolbar-indent",shortcut:["tab"],component:v.Z},[I.UNINDENT]:{name:"Unindent",tooltipText:"Unindent",iconName:"toolbar-unindent",shortcut:["shift","tab"],component:b.Z}}},50203:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Q});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(54688),l=n(75583),c=n(74386),d=n(60434),u=n(19690),m=n(12896),p=n(94184),h=n.n(p),g=n(43393),f=n(5191),E=n(22733),v=n(18534),b=n(75763),y=n(43831),I=n(44256),C=n(48233),S=n(26911);var T=n(55777);const w=e=>{const{currentStyle:t,preset:n,onTextColorClick:o}=e,i=n?t.has(n):!t.some((e=>e.startsWith(C.QP)||e.startsWith(C.WD))),s=n?n.toLowerCase():"text-standard";return r.createElement("div",{className:h()("TextColorButton",s,{active:i}),onPointerDown:e=>{e.preventDefault(),o(n)}},"A")};w.propTypes={currentStyle:i().object,preset:i().string,className:i().string,onTextColorClick:i().func};const O=w;var _=n(56884),R=n(87701),A=n(64772),D=n(26434),N=r.createElement(R.Z,{name:"block-style-tick"});const x=e=>{const{blockType:t,entryBlockType:n,name:o,shortcut:i,onTextStyleClick:s,otherBlockTypes:a}=e,l=t===n||a&&a.includes(t);return r.createElement("div",{className:h()("TextStyleEntry",{active:l}),onPointerDown:e=>{e.preventDefault(),s(n),(0,_.dO)({eventType:D.Xc.TEXT_STYLE_TOGGLE,eventProperties:{style:n}})}},r.createElement("div",{className:`block-style-text ${n}`},o),l?N:r.createElement(A.Z,{shortcut:i,preferSymbol:!0}))};x.propTypes={blockType:i().string,entryBlockType:i().string,name:i().string,shortcut:i().array,onTextStyleClick:i().func,otherBlockTypes:i().array};const M=x;var P=n(54301),L=n(90010);const k=["showBlockStyleTools"];var F=r.createElement("div",{className:"text-color-section-title"},"Color"),B=r.createElement("div",{className:"text-color-section-title"},"Highlight");const j=e=>{let{showBlockStyleTools:t}=e,n=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,k);return r.createElement("div",{className:h()("TextStyleRichTextToolPopupContent",{"color-only":!t})},t&&r.createElement("div",{className:"block-styles"},r.createElement(M,Object.assign({},n,{name:"Large heading",shortcut:["command","shift","1"],entryBlockType:S.K2.LARGE_HEADING})),r.createElement(M,Object.assign({},n,{name:"Normal heading",shortcut:["command","shift","2"],entryBlockType:S.K2.HEADING})),r.createElement(M,Object.assign({},n,{name:"Normal text",shortcut:["command","shift","0"],otherBlockTypes:[S.K2.ORDERED_LIST,S.K2.LIST,S.K2.CHECKLIST,null],entryBlockType:S.K2.UNSTYLED})),r.createElement(M,Object.assign({},n,{name:"Small text",shortcut:["command","shift","9"],entryBlockType:S.K2.SMALL_TEXT})),r.createElement(M,Object.assign({},n,{name:"Code block",shortcut:["command",">"],entryBlockType:S.K2.CODE_BLOCK})),r.createElement(M,Object.assign({},n,{name:'"Quote block"',shortcut:["command",'"'],entryBlockType:S.K2.BLOCKQUOTE}))),r.createElement("div",{className:"text-color-section color"},F,r.createElement("div",{className:"text-color-row"},r.createElement(O,Object.assign({},n,{preset:null})),r.createElement(O,Object.assign({},n,{preset:`${C.QP}-blue`})),r.createElement(O,Object.assign({},n,{preset:`${C.QP}-green`})),r.createElement(O,Object.assign({},n,{preset:`${C.QP}-orange`})),r.createElement(O,Object.assign({},n,{preset:`${C.QP}-red`})),r.createElement(O,Object.assign({},n,{preset:`${C.QP}-grey`})))),r.createElement("div",{className:"text-color-section background"},B,r.createElement("div",{className:"text-color-row"},r.createElement(O,Object.assign({},n,{preset:`${C.WD}-dark-grey`})),r.createElement(O,Object.assign({},n,{preset:`${C.WD}-blue`})),r.createElement(O,Object.assign({},n,{preset:`${C.WD}-green`})),r.createElement(O,Object.assign({},n,{preset:`${C.WD}-orange`})),r.createElement(O,Object.assign({},n,{preset:`${C.WD}-pink`})),r.createElement(O,Object.assign({},n,{preset:`${C.WD}-grey`})))))};j.propTypes={blockType:i().string,onTextStyleClick:i().func,showBlockStyleTools:i().bool};const z=(0,l.Z)((e=>{const t=(0,m.hZ)(e);return{blockType:t?(0,c.Z)(t).getType():null,currentStyle:(0,E.Z)(t)}}),(e=>({onTextStyleClick:t=>e((0,f.D4)({styleCommand:t})),onTextColorClick:t=>e((({colorStyle:e,addToUndoStack:t,showPseudoSelection:n})=>(r,o)=>{const i=o(),s=(0,m.hZ)(i),a=(0,I.Z)(s),l=e?[e]:[],c=a.filter((t=>t!==e&&(t.startsWith(C.QP)||t.startsWith(C.WD)||t===S.K2.HIGHLIGHT||t===C.wT&&!n))).toArray();(0,y.xb)(l)&&(0,y.xb)(c)||(n&&l.push(C.wT),r((0,f.Yl)({addedStyles:l,removedStyles:c,addToUndoStack:t})))})({colorStyle:t,addToUndoStack:!0,showPseudoSelection:!1}))})))(j),U=(0,s.$j)(((e,t)=>{const{element:n}=t,r=(0,T.pF)(e,t),o=(0,v.MV)(r),i=o.shift();if(!i)return g.OrderedSet();const s=g.OrderedSet((0,b.VWX)(i)(n));return{currentStyle:o.reduce(((e,t)=>e.intersect((0,b.VWX)(t)(n))),s)}}),((e,t)=>({onTextColorClick:e=>{const{element:n}=t;L.ZP.getHotTableComponent((0,b.nRF)(n)).tableOperationsRef.current.applyTextStyle(e)}})))(j),H=e=>{var t;const{editorKey:n,item:o}=e,i=(null==o||null===(t=o.toolSettings)||void 0===t?void 0:t.showBlockStyleTools)||e.showBlockStyleTools;return n===P.MY?r.createElement(U,Object.assign({},e,{showBlockStyleTools:i})):r.createElement(z,Object.assign({},e,{showBlockStyleTools:i}))};H.propTypes={showBlockStyleTools:i().bool,editorKey:i().string,item:i().object};const Z=H;var G=n(12767),K=n(9365),W=r.createElement("div",{className:"text-style-icon"});const V=({isOpen:e,name:t,disabled:n})=>r.createElement(K.Z,{className:"TextStyleRichTextTool",isOpen:e,name:t,disabled:n},W);V.propTypes={isOpen:i().bool,name:i().string,disabled:i().bool};const $=V;var q=n(67789),Y=n(69129);const X=e=>{const{item:t,isPopupOpen:n,disabled:o,currentBlockType:i,showBlockStyleTools:s}=e,a=i===S.K2.LARGE_HEADING?"var(--popup-arrow-color)":void 0,l=(null==t?void 0:t.uid)||(null==t?void 0:t.id)||Y.K2.BLOCK_STYLE;return r.createElement("div",{className:"TextStyleRichTextToolContainer"},r.createElement(G.ZP,{popupId:l,disabled:o,preventFocus:!0},(e=>r.createElement($,{isOpen:e,name:"Text style",disabled:o}))),r.createElement(q.Z,Object.assign({},e,{arrowColor:a,popupId:l,buttonSelector:".TextStyleRichTextTool .icon",className:"TextStyleRichTextPopup",popupIsOpen:n}),r.createElement(Z,Object.assign({},e,{showBlockStyleTools:s}))))};X.propTypes={item:i().object,editorKey:i().string,isPopupOpen:i().bool,disabled:i().bool,showBlockStyleTools:i().bool,dispatchClosePopup:i().func,currentBlockType:i().string,currentCellSelections:i().object,gridSize:i().number,realGridSize:i().number};const Q=(0,a.qC)((0,l.Z)((e=>{const t=(0,m.hZ)(e);if(!t)return{currentBlockType:S.K2.UNSTYLED};const n=(0,c.Z)(t);return{currentBlockType:(null==n?void 0:n.getType())||S.K2.UNSTYLED}})),(0,s.$j)((e=>({isPopupOpen:(0,u.wg)(Y.K2.BLOCK_STYLE)(e)})),(e=>({closePopup:()=>e((0,d.j4)(Y.K2.BLOCK_STYLE))}))))(X)},59118:(e,t,n)=>{"use strict";n.d(t,{A:()=>p,R:()=>h});var r=n(69937),o=n.n(r),i=n(22222),s=n(11111),a=n(75763),l=n(43831),c=n(71154),d=n(49508),u=n(87447),m=n(83547);const p=(0,i.P1)(u.eD,c.a3,d.pD,((e,t,n)=>{if(t&&(0,s.N2)(t))return(0,a.nRF)(t);const r=e.first(),i=n[(0,a.nRF)(r)];return 1===e.size&&(0,s.k8)(r)&&1===(0,l.kE)(i)?o()(i):null})),h=(0,i.P1)(p,m.$,((e,t)=>t.get(e)))},55445:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(22222),l=n(75763),c=n(37407),d=n(13612),u=n(9365),m=n(87701);const p=e=>e.first().getIn(["content","showBackground"])||!1,h=(0,a.P1)(((e,t)=>t.selectedElements),d.Dc,((e,t)=>{const n=p(e),r=((e,t)=>e.reduce(((e,n)=>{if(e)return e;if(n.getIn(["content","image","transparent"]))return!0;if(n.getIn(["content","image"])||!t)return!1;const r=(0,l.nRF)(n);return t.getIn([r,"data","transparent"])}),!1))(e,t);return{isActive:n,showTool:r}}));var g=r.createElement(m.Z,{name:"toolbar-transparent"});const f=e=>e.showTool?r.createElement(u.Z,Object.assign({},e,{name:e.name,isActive:!e.isActive,className:"ShowBackgroundTool"}),g):null;f.propTypes={name:i().string,isActive:i().bool,showTool:i().bool};const E=(0,s.$j)(h,((e,t)=>({onPointerDown:n=>{const r={showBackground:!p(t.selectedElements)};e((0,c.vU)({changes:r}))}})))(f)},81995:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(22222),l=n(9365),c=n(87701),d=n(18534),u=n(55777),m=n(75763),p=n(90010);const h=(0,a.zB)({currentCellSelections:u.pF});var g=r.createElement(c.Z,{name:"toolbar-add-column"});const f=e=>{const{element:t,currentCellSelections:n}=e,o=(0,m.nRF)(t);return r.createElement("div",{className:"AddColumnTool"},r.createElement(l.Z,Object.assign({},e,{onPointerDown:()=>{var e;const t=null===p.ZP||void 0===p.ZP?void 0:p.ZP.getHotTableComponent(o);null!=t&&null!==(e=t.tableOperationsRef)&&void 0!==e&&e.current&&t.tableOperationsRef.current.addColsRight()},name:"Add column",isActive:!1,disabled:(0,d.FX)(n),tooltipEnabled:!0,tooltipText:"Add column",shortcut:["alt","→"]}),g))};f.propTypes={iconName:i().string,element:i().object,currentCellSelections:i().object};const E=(0,s.$j)(h)(f)},33659:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(22222),l=n(55777),c=n(18534),d=n(9365),u=n(87701),m=n(75763),p=n(90010);const h=(0,a.zB)({currentCellSelections:l.pF});var g=r.createElement(u.Z,{name:"toolbar-add-row"});const f=e=>{const{element:t,currentCellSelections:n}=e,o=(0,m.nRF)(t);return r.createElement("div",{className:"AddRowTool"},r.createElement(d.Z,Object.assign({},e,{onPointerDown:()=>{var e;const t=null===p.ZP||void 0===p.ZP?void 0:p.ZP.getHotTableComponent(o);null!=t&&null!==(e=t.tableOperationsRef)&&void 0!==e&&e.current&&t.tableOperationsRef.current.addRowsBelow()},name:"Add row",isActive:!1,disabled:(0,c.FX)(n),tooltipEnabled:!0,tooltipText:"Add row",shortcut:["alt","↓"]}),g))};f.propTypes={iconName:i().string,element:i().object,currentCellSelections:i().object,dispatchAddRow:i().func};const E=(0,s.$j)(h)(f)},63662:(e,t,n)=>{"use strict";n.d(t,{Z:()=>pe});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(22222),l=n(75763),c=n(43831),d=n(29742),u=n(18534),m=n(55777),p=n(80275),h=n(28200),g=n(69129),f=n(67789),E=n(25468),v=n.n(E),b=n(94184),y=n.n(b),I=n(87701),C=n(80877),S=n(57390),T=n(87384),w=n(94262),O=n(46015),_=r.createElement("div",{className:"celltype-format-title"},"Currency:"),R=r.createElement("option",{value:"",disabled:!0},"Select currency"),A=r.createElement("div",{className:"arrow-icon-container"},r.createElement(I.Z,{name:"dropdown-arrow"})),D=r.createElement("div",{className:"arrow-icon-container"},r.createElement(I.Z,{name:"dropdown-arrow"}));const N=e=>{const{sharedFormattingValues:t,updateCellTypeFormat:n,locale:o}=e,{currency:i,currencyDisplay:s}=t;return r.createElement("div",{className:"CurrencyFormatOptions celltype-format-section"},_,r.createElement("div",{className:"celltype-format-inputs"},r.createElement("div",{className:"dropdown-container celltype-format-input"},r.createElement("select",{value:i||"",onChange:e=>n({[T.kX.CURRENCY]:e.target.value}),className:"dropdown"},R,(0,w.S)(o).map((({id:e,name:t})=>r.createElement("option",{key:e,value:e},t)))),A),i&&r.createElement("div",{className:"dropdown-container celltype-format-input"},r.createElement("select",{value:s,onChange:e=>n({[T.kX.CURRENCY_DISPLAY]:e.target.value}),className:"dropdown"},(0,O.Hp)(i,o).map(((e,t)=>r.createElement("option",{key:t,value:e.option},e.value)))),D)))};N.propTypes={sharedFormattingValues:i().object,updateCellTypeFormat:i().func,locale:i().string};const x=N;var M=n(57595),P=r.createElement(I.Z,{name:"button-toggle-top"}),L=r.createElement(I.Z,{name:"button-toggle-down"});const k=({className:e,value:t,maxValue:n,minValue:o,onChange:i,onIncrease:s,onDecrease:a,placeholder:l,showButtons:c})=>r.createElement("div",{className:"NumberInput"},r.createElement("input",{className:y()("number-input",e),type:"number",min:o,max:n,placeholder:l,value:t,onChange:e=>i(e.target.value)}),c&&r.createElement("div",{className:"number-input-buttons"},r.createElement("button",{onClick:s||(()=>{const e=Number(t);e>=n||i(isNaN(e)?0:e+1)}),className:"up-button"},P),r.createElement("button",{onClick:a||(()=>{const e=Number(t);e<=o||isNaN(e)||i(e-1)}),className:"down-button"},L)));k.propTypes={className:i().string,value:i().any,maxValue:i().number,minValue:i().number,onChange:i().func,onIncrease:i().func,onDecrease:i().func,placeholder:i().string,showButtons:i().bool};const F=k;var B=r.createElement("div",{className:"celltype-format-title"},"Decimals:"),j=r.createElement("span",null,"Thousands separator"),z=r.createElement("span",null,"Accounting style");const U=e=>{const{sharedFormattingValues:t,currentCellType:n,updateCellTypeFormat:o,shouldShowOption:i}=e,s=(0,d.KK)(n),{decimals:a=s[T.kX.DECIMALS],thousandsSeparator:l=s[T.kX.THOUSANDS_SEPARATOR],accounting:c=s[T.kX.ACCOUNTING]}=t,u=e=>{"auto"===a&&e<0||e>20||o("auto"!==a||"1"!==e?""===e||"0"===a&&"-1"===e?{[T.kX.DECIMALS]:"auto"}:{[T.kX.DECIMALS]:e}:{[T.kX.DECIMALS]:"0"})};return r.createElement("div",{className:"DecimalFormatOptions celltype-format-section"},B,r.createElement("div",{className:"celltype-format-inputs"},r.createElement("div",{className:"celltype-format-input"},r.createElement(F,{value:a>=0?a:"",maxValue:20,minValue:-1,onChange:u,onIncrease:()=>{const e="auto"===a?0:Number(a)+1;u(String(e))},onDecrease:()=>{const e="auto"===a?"auto":Number(a)-1;u(String(e))},placeholder:"Auto",showButtons:!0})),i(T.kX.THOUSANDS_SEPARATOR)&&r.createElement("div",{className:"checkbox-input celltype-format-input"},r.createElement(M.Z,{checked:l,onClick:()=>o({[T.kX.THOUSANDS_SEPARATOR]:!l})}),j),i(T.kX.ACCOUNTING)&&r.createElement("div",{className:"checkbox-input celltype-format-input"},r.createElement(M.Z,{checked:c,onClick:()=>o({[T.kX.ACCOUNTING]:!c})}),z)))};U.propTypes={sharedFormattingValues:i().object.isRequired,currentCellType:i().string.isRequired,updateCellTypeFormat:i().func.isRequired,shouldShowOption:i().func.isRequired};const H=U;var Z=r.createElement("div",{className:"celltype-format-title"},"Date format:"),G=r.createElement("div",{className:"arrow-icon-container"},r.createElement(I.Z,{name:"dropdown-arrow"})),K=r.createElement("div",{className:"celltype-format-title"},"Time format:"),W=r.createElement("div",{className:"arrow-icon-container"},r.createElement(I.Z,{name:"dropdown-arrow"})),V=r.createElement("span",null,"Show time in brackets");const $=e=>{const{sharedFormattingValues:t,updateCellTypeFormat:n,locale:o}=e,{dateFormat:i,timeFormat:s,timeInBrackets:a}=t,l=new Date("February 29, 2016 13:24:56"),c=i===T.$2.NONE,d=s===T.TimeStringFormatOptions.NONE;return r.createElement(r.Fragment,null,r.createElement("div",{className:"DateFormatOptions celltype-format-section"},Z,r.createElement("div",{className:"celltype-format-inputs"},r.createElement("div",{className:"dropdown-container celltype-format-input"},r.createElement("select",{value:i,onChange:e=>n({[T.kX.DATE_FORMAT]:e.target.value}),className:"dropdown"},Object.values(T.$2).map(((e,t)=>r.createElement("option",{key:t,value:e,disabled:e===T.$2.NONE&&d},(0,O.L0)(l,e,o)||"None")))),G))),r.createElement("div",{className:"DateFormatOptions celltype-format-section"},K,r.createElement("div",{className:"celltype-format-inputs"},r.createElement("div",{className:"dropdown-container celltype-format-input"},r.createElement("select",{value:s,onChange:e=>{n(Object.assign({[T.kX.TIME_FORMAT]:e.target.value},e.target.value!==T.TimeStringFormatOptions.NONE&&{[T.kX.HAS_TIME]:!0}))},className:"dropdown"},Object.values(T.TimeStringFormatOptions).map(((e,t)=>r.createElement("option",{key:t,value:e,disabled:e===T.TimeStringFormatOptions.NONE&&c},(0,O.xz)(l,e,o)||"None")))),W),s!==T.TimeStringFormatOptions.NONE&&r.createElement("div",{className:"checkbox-input celltype-format-input"},r.createElement(M.Z,{checked:a,onClick:()=>n({[T.kX.TIME_IN_BRACKETS]:!a})}),V))))};$.propTypes={sharedFormattingValues:i().object,updateCellTypeFormat:i().func,locale:i().string};const q=$;var Y=n(82520),X=n(77875);const Q=e=>{const{showFormattingOptions:t,currentCellType:n,updateCellTypeFormat:o,sharedFormattingValues:i,locale:s}=e,{formattingOptions:a}=T.kE[n],l=e=>Object.keys(a).includes(e);return r.createElement(S.Z,{className:"CellTypeFormattingOptionsPopup light",selector:`.CellTypePopup .CellTypeButton.${v()(n)}`,pollPosition:!0,offset:20,arrowWidth:0,distance:-4,alignment:X.UV.START,position:X.as.RIGHT},r.createElement(Y.Z,Object.assign({},e,{visible:t,popupId:g.K2.CELL_TYPE_FORMATTING_OPTIONS,closePopup:()=>{}}),r.createElement("div",{className:"FormattingOptionsPopupContent"},l(T.kX.DECIMALS)&&r.createElement(H,{sharedFormattingValues:i,currentCellType:n,updateCellTypeFormat:o,shouldShowOption:l}),l(T.kX.CURRENCY)&&r.createElement(x,{sharedFormattingValues:i,updateCellTypeFormat:o,locale:s}),l(T.kX.DATE_FORMAT)&&r.createElement(q,{sharedFormattingValues:i,updateCellTypeFormat:o,locale:s}))))};Q.propTypes={showFormattingOptions:i().bool,currentCellType:i().string,updateCellTypeFormat:i().func,sharedFormattingValues:i().object,locale:i().string};const J=Q;var ee=n(90010),te=n(12133),ne=r.createElement(I.Z,{name:"block-style-tick"}),re=r.createElement(I.Z,{name:"chevron-right"});const oe=e=>{const{element:t,currentCellType:n,isActive:o,allSelectedCells:i,lastClickedType:s,setLastClickedType:a,locale:c}=e,{displayName:u,icon:m,formattingOptions:p}=T.kE[n],h=(0,l.nRF)(t),g=!!p&&(o||s===n),f=(0,ee.nM)(h),E=!i.some((({row:e,col:t})=>{const r=(0,te.u1)(h,e,t,f);return(0,d.WE)(r,n,c)})),b=(0,r.useCallback)((()=>{var e;E||(null===(e=(0,ee.gH)(h))||void 0===e||e.updateCellType(n),setTimeout((()=>{a(n)})))}),[h,n,E]),S=(0,r.useCallback)((e=>{var t;null===(t=(0,ee.gH)(h))||void 0===t||t.updateCellTypeFormat(e)}),[h]);return r.createElement(r.Fragment,null,r.createElement(C.Z,{onMouseDown:b,className:y()("CellTypeButton",v()(n),{active:o,disabled:E})},r.createElement(I.Z,{name:m,className:"CellTypeIcon"}),r.createElement("span",null,u),o&&ne,!o&&!!p&&re),g&&r.createElement(J,Object.assign({},e,{showFormattingOptions:g,updateCellTypeFormat:S})))};oe.propTypes={currentCellType:i().string,dispatchUpdateCellType:i().func,element:i().object,isActive:i().bool,allSelectedCells:i().array,lastClickedType:i().string,setLastClickedType:i().func,locale:i().string};const ie=e=>{const{activeCellType:t}=e;return r.createElement(r.Fragment,null,Object.keys(T.kE).map((n=>r.createElement(oe,Object.assign({},e,{key:n,currentCellType:n,isActive:t===n})))))};ie.propTypes={activeCellType:i().string};const se=ie,ae=["isPopupOpen","selectedElements"];const le=e=>{let{selectedElements:t}=e,n=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,ae);const o=t.first();return r.createElement(f.Z,Object.assign({},n,{popupId:g.K2.CELL_TYPE,className:"CellTypePopup"}),r.createElement(se,Object.assign({},n,{closePopup:null,element:o})))};le.propTypes={isPopupOpen:i().bool,selectedElements:i().object};const ce=le,de=(0,a.zB)({currentCellSelections:m.pF,locale:p.OL}),ue=e=>{var t;const{activeCellType:n}=e,o=(null===(t=T.kE[n])||void 0===t?void 0:t.icon)||"toolbar-cell-type";return r.createElement(I.Z,{name:o})};ue.propTypes={activeCellType:i().string};const me=e=>{const{currentCellSelections:t,element:n}=e,o=(0,u.MV)((0,c.qo)(t)),{data:i}=(0,c.su)((0,l.SLC)(n)),s=(0,d._M)(i,o),a=null==s?void 0:s.name,[m,p]=(0,r.useState)(null);return(0,r.useEffect)((()=>{p(null)}),[t]),r.createElement(h.Z,Object.assign({},e,{name:"Cell type",popupId:g.K2.CELL_TYPE,active:!1,IconComponent:ue,toolName:"CellType",disabled:0===(0,c.kE)(t),buttonSelector:".CelltypeTool .Icon",PopupComponent:ce,activeCellType:a,sharedFormattingValues:s,allSelectedCells:o,lastClickedType:m,setLastClickedType:p}))};me.propTypes={name:i().string,iconName:i().string,element:i().object,currentCellSelections:i().object,dispatchAddRow:i().func};const pe=(0,s.$j)(de,null)(me)},81996:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(22222),l=n(55777),c=n(80275),d=n(28200),u=n(87701),m=n(94184),p=n.n(m),h=n(67789),g=n(80877),f=n(69129),E=n(87384);const v=["isPopupOpen","selectedElements","commonTextAlignment","commonVerticalAlignment","currentCellSelections","hotTableInstance"];var b=r.createElement(u.Z,{name:"toolbar-align-left"}),y=r.createElement(u.Z,{name:"toolbar-align-center"}),I=r.createElement(u.Z,{name:"toolbar-align-right"}),C=r.createElement("div",{className:"divider"}),S=r.createElement(u.Z,{name:"toolbar-align-top"}),T=r.createElement(u.Z,{name:"toolbar-align-middle"}),w=r.createElement(u.Z,{name:"toolbar-align-bottom"});const O=e=>{let{commonTextAlignment:t,commonVerticalAlignment:n,hotTableInstance:o}=e,i=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,v);return r.createElement(h.Z,Object.assign({},i,{popupId:f.K2.TABLE_CELL_ALIGNMENT_TOOL,className:"TableCellAlignmentToolbarPopup"}),r.createElement("ul",{className:"cell-alignment-options"},r.createElement("li",null,r.createElement(g.Z,{className:p()("cell-alignment-options-button",{active:t===E.H.LEFT}),onClickFn:()=>o.tableOperationsRef.current.updateCellTextAlignment(E.H.LEFT)()},b)),r.createElement("li",null,r.createElement(g.Z,{className:p()("cell-alignment-options-button",{active:t===E.H.CENTER}),onClickFn:()=>o.tableOperationsRef.current.updateCellTextAlignment(E.H.CENTER)()},y)),r.createElement("li",null,r.createElement(g.Z,{className:p()("cell-alignment-options-button",{active:t===E.H.RIGHT}),onClickFn:()=>o.tableOperationsRef.current.updateCellTextAlignment(E.H.RIGHT)()},I))),C,r.createElement("ul",{className:"cell-alignment-options"},r.createElement("li",null,r.createElement(g.Z,{className:p()("cell-alignment-options-button",{active:n===E.Q4.TOP}),onClickFn:()=>o.tableOperationsRef.current.updateCellVerticalAlignment(E.Q4.TOP)()},S)),r.createElement("li",null,r.createElement(g.Z,{className:p()("cell-alignment-options-button",{active:n===E.Q4.MIDDLE}),onClickFn:()=>o.tableOperationsRef.current.updateCellVerticalAlignment(E.Q4.MIDDLE)()},T)),r.createElement("li",null,r.createElement(g.Z,{className:p()("cell-alignment-options-button",{active:n===E.Q4.BOTTOM}),onClickFn:()=>o.tableOperationsRef.current.updateCellVerticalAlignment(E.Q4.BOTTOM)()},w))))};O.propTypes={isPopupOpen:i().bool,selectedElements:i().object,currentCellSelections:i().object,hotTableInstance:i().object,commonTextAlignment:i().string,commonVerticalAlignment:i().string};const _=O;var R=n(18534),A=n(75763),D=n(43831),N=n(12133),x=n(90010),M=n(54301);const P=(0,a.zB)({currentCellSelections:l.pF,locale:c.OL}),L=e=>{const{currentCellSelections:t,element:n,locale:o}=e,i=(0,A.nRF)(n),s=x.ZP.getHotTableComponent(i),a=(0,r.useMemo)((()=>{if(!t||0===(0,D.kE)(t)||!s.hotTableInstanceRef.current)return;const e=(0,R.MV)(t),n=e[0],{cellData:r}=s.hotTableInstanceRef.current.getCellMeta(n.row,n.col),i=s.hotTableInstanceRef.current.getDataAtCell(n.row,n.col),a=(0,N.z8)(r,o,i);if(!a)return;const l=e.some((({row:e,col:t})=>{const{cellData:n}=s.hotTableInstanceRef.current.getCellMeta(e,t),r=s.hotTableInstanceRef.current.getDataAtCell(e,t);return(0,N.z8)(n,o,r)!==a}));return l?void 0:a}),[n,t]),l=(0,r.useMemo)((()=>{if(!t||0===(0,D.kE)(t))return M.PN;const e=(0,R.MV)(t),{cellData:n}=s.hotTableInstanceRef.current.getCellMeta(e[0].row,e[0].col),r=null==n?void 0:n.verticalAlignment;if(!r)return M.PN;return e.some((({row:e,col:t})=>{const{cellData:r}=s.hotTableInstanceRef.current.getCellMeta(e,t);return(null==r?void 0:r.verticalAlignment)!==(null==n?void 0:n.verticalAlignment)}))?M.PN:r}),[n,t]);return r.createElement(d.Z,Object.assign({},e,{name:"Alignment",currentCellSelections:t,hotTableInstance:s,commonTextAlignment:a,commonVerticalAlignment:l,popupId:f.K2.TABLE_CELL_ALIGNMENT_TOOL,active:!1,toolName:"CellAlignment",disabled:0===(0,D.kE)(t),buttonSelector:".CellalignmentTool .icon",PopupComponent:_}),r.createElement(u.Z,{name:`toolbar-align-${(null==a?void 0:a.toLowerCase())||"justified"}`}))};L.propTypes={iconName:i().string,element:i().object,locale:i().string,currentCellSelections:i().object,dispatchAddRow:i().func};const k=(0,s.$j)(P,null)(L)},53086:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(75763),l=n(90010),c=n(22222),d=n(55777),u=n(43831),m=n(46716),p=n(48935),h=n(12133),g=n(28200),f=n(46827),E=n(67703),v=n(69129),b=n(54301);const y=(0,c.zB)({currentCellSelections:d.pF,isDarkMode:p.v2}),I=({selectedColor:e,isPopupOpen:t,currentCellSelections:n})=>{const o=n&&n.size>0?(0,m.AE)(e):"var(--ui-toolbar-tool-disabled-foreground)",i=e===b.co?"var(--ws-table-header-row-background)":o;return r.createElement(E.Z,{color:i,isActive:t})};I.propTypes={selectedColor:i().string,isPopupOpen:i().bool,currentCellSelections:i().object};const C=e=>{const{selectedElements:t,currentCellSelections:n,isDarkMode:o}=e,i=(0,a.nRF)(t.first()),s=l.ZP.getHotTableComponent(i);if(!s)return null;const{setCellBackground:c,getCellBackground:d,setTempColor:m}=null==s?void 0:s.tableOperationsRef.current,p=d(n);return r.createElement(g.Z,Object.assign({},e,{name:"Cell color",buttonSelector:".ColorTool .ColorToolIcon",popupId:v.K2.COLOR,toolName:"color",className:"table-cell-color-tool",disabled:0===(0,u.kE)(n),customColorHandler:c,IconComponent:I,PopupComponent:f.Z,selectedColor:p,selectedColorHex:(0,h.CB)(p,o),customDefaultColors:Object.values(b.mW),customTempColorHandler:m,currentCellSelections:n}))};C.propTypes={selectedElements:i().object,currentCellSelections:i().object,isDarkMode:i().bool};const S=(0,s.$j)(y,null)(C)},71071:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(22222),l=n(9365),c=n(87701),d=n(18534),u=n(55777),m=n(75763),p=n(90010);const h=(0,a.zB)({currentCellSelections:u.pF});var g=r.createElement(c.Z,{name:"toolbar-formula"});const f=e=>{const{element:t,currentCellSelections:n}=e,o=(0,m.nRF)(t);return r.createElement("div",{className:"TableCellFormulaTool"},r.createElement(l.Z,Object.assign({},e,{onPointerDown:()=>{var e;const t=p.ZP.getHotTableComponent(o);null!=t&&null!==(e=t.tableOperationsRef)&&void 0!==e&&e.current&&t.tableOperationsRef.current.addFormulaToCell()},name:"Formula",isActive:!1,disabled:!(0,d._U)(n)}),g))};f.propTypes={iconName:i().string,element:i().object,currentCellSelections:i().object};const E=(0,s.$j)(h)(f)},92975:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(495),l=n(26138),c=n(95521),d=n(90693),u=n(83547),m=n(49508),p=n(71154),h=n(5191),g=n(12896),f=n(76045),E=n(9365),v=n(87701),b=n(41563),y=n(77875);const I=e=>{const{tooltipEnabled:t=!0,tooltipText:n,shortcut:o,iconName:i,disabled:s}=e;return r.createElement(b.Z,{enabled:t,tooltipText:n,shortcut:o,position:y.as.RIGHT,offset:8,delay:700,pollPosition:!0,triggerOnMouseEnter:!0},r.createElement(E.Z,Object.assign({},e,{name:null,className:"RichTextTool",disabled:s}),r.createElement(v.Z,Object.assign({},e,{name:i}))))};I.propTypes={tooltipEnabled:i().bool,tooltipText:i().string,shortcut:i().array,iconName:i().string,isActive:i().bool,disabled:i().bool};const C=(0,s.$j)((e=>{const t=(0,p.pJ)(e),n=(0,u.$)(e),r=(0,m.pD)(e);if(!(0,d.I5)({elements:n,elementGraph:r,elementId:t,sortFn:c.bj}))return{disabled:!0};const o=(0,l.nH)(n,t),i=(0,a.hh)(n,o,t);return f.EN-i<1?{disabled:!0}:{}}),(e=>({onPointerDown:t=>{t.preventDefault(),e(((e,t,{editorStore:n})=>{const r=t(),o=(0,p.pJ)(r);return e((0,f.uD)({elementId:o,dispatchSaveCurrentSelection:()=>{const e=n.dispatch,t=n.getState(),r=(0,g.hZ)(t),o=(0,g._W)(t),i=r.getSelection();e((0,h.l6)({editorId:o,selection:i}))}}))}))}})))(I)},37126:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(11111),l=n(495),c=n(83547),d=n(71154),u=n(5191),m=n(12896),p=n(76045),h=n(9365),g=n(87701),f=n(41563),E=n(77875);const v=e=>{const{tooltipEnabled:t=!0,tooltipText:n,shortcut:o,iconName:i,disabled:s}=e;return r.createElement(f.Z,{enabled:t,tooltipText:n,shortcut:o,position:E.as.RIGHT,offset:8,delay:700,pollPosition:!0,triggerOnMouseEnter:!0},r.createElement(h.Z,Object.assign({},e,{name:null,className:"RichTextTool",disabled:s}),r.createElement(g.Z,Object.assign({},e,{name:i}))))};v.propTypes={tooltipEnabled:i().bool,tooltipText:i().string,shortcut:i().array,iconName:i().string,isActive:i().bool,disabled:i().bool};const b=(0,s.$j)((e=>{const t=(0,d.pJ)(e),n=(0,c.$)(e),r=(0,l.G_)(n,t);return!r||(0,a.k8)(r)?{disabled:!0}:{}}),(e=>({onPointerDown:t=>{t.preventDefault(),e(((e,t,{editorStore:n})=>{const r=t(),o=(0,d.pJ)(r);return e((0,p.Cv)({elementId:o,dispatchSaveCurrentSelection:()=>{const e=n.dispatch,t=n.getState(),r=(0,m.hZ)(t),o=(0,m._W)(t),i=r.getSelection();e((0,u.l6)({editorId:o,selection:i}))}}))}))}})))(v)},66412:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(67294),o=n(45697),i=n.n(o),s=n(37974),a=n(75763),l=n(62107),c=n(37407),d=n(23680),u=n(60817),m=n(9365),p=n(87701),h=n(75188),g=n(87447);const f=["selectedElements","dispatchToggleTitle"];var E=r.createElement(p.Z,{name:"toolbar-title"});const v=e=>{let{selectedElements:t,dispatchToggleTitle:n}=e,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,f);const i=null==t?void 0:t.first(),s=(0,u.u3)(i);return r.createElement(m.Z,Object.assign({},o,{isActive:s,onPointerDown:e=>{i&&n(i)}}),E)};v.propTypes={name:i().string,isActive:i().bool,selectedElements:i().object,dispatchToggleTitle:i().func};const b=(0,s.$j)(((e,t)=>({selectedElements:(0,g.eD)(e)})),((e,t)=>({dispatchToggleTitle:t=>{const n=(0,u.u3)(t),r={[h.SZ]:!n};e((0,c.vU)({changes:r})),!n&&t&&e((0,d.K$)({id:(0,a.nRF)(t),editorId:(0,l.s6)({element:t}),editorKey:(0,l.iS)({element:t}),editDelay:0}))}})))(v)},12248:(e,t,n)=>{"use strict";n.d(t,{EJ:()=>a,Tk:()=>s});var r=n(11111),o=n(36309);const i=()=>o.Ou.FEEDBACK,s={ELEMENT_FEATURES:{id:"ELEMENT_FEATURES",name:"Features",multiSelect:!0},RICH_TEXT:{id:"RICH_TEXT",name:null,multiSelect:!1},TASK_RICH_TEXT:{id:"TASK_RICH_TEXT",name:null,multiSelect:!1},TASK_COLOR:{id:"TASK_COLOR",name:"Color",multiSelect:!1},ICON:{id:"ICON",name:"Icon",multiSelect:!1},CAPTION:{id:"CAPTION",name:"Caption",multiSelect:!0},MEDIA:{id:"MEDIA",name:"Media",multiSelect:!0},MEDIA_LOOP:{id:"MEDIA_LOOP",name:"Loop",multiSelect:!0},MEDIA_AUTOPLAY:{id:"MEDIA_AUTOPLAY",name:"Autoplay",multiSelect:!0},LOCK:{id:"LOCK",name:"Lock position",multiSelect:!0},SHOW_BACKGROUND:{id:"SHOW_BACKGROUND",name:"Transparent",multiSelect:!0},ALIGNMENT:{id:"ALIGNMENT",name:"Align",multiSelect:!0},CONNECT_WITH_LINES:{id:"CONNECT_WITH_LINES",name:"Connect",multiSelect:!0},DISCONNECT_LINES:{id:"DISCONNECT_LINES",name:"Disconnect",multiSelect:!0},DISTRIBUTE:{id:"DISTRIBUTE",name:"Distribute",multiSelect:!0},TITLE:{id:"TITLE",name:"Title",multiSelect:!0},ASSIGNMENT:{id:"ASSIGNMENT",name:null,multiSelect:!1},IMAGE_EDIT:{id:"IMAGE_EDIT",name:"Edit image",multiSelect:!1},REACTION:{id:"REACTION",name:"Add reaction",multiSelect:!0,permissionRequired:i},DISPLAY_MODE:{id:"DISPLAY_MODE",name:"Preview",multiSelect:!0},COLOR:{id:"COLOR",name:"Color",multiSelect:!0,permissionRequired:e=>e.every(r.Iw)?o.Ou.FEEDBACK:o.Ou.WRITE},CUSTOM_COLOR:{id:"CUSTOM_COLOR",name:"Color",multiSelect:!0},COLOR_DISPLAY:{id:"COLOR_DISPLAY",name:"Display",multiSelect:!0},START_ARROW:{id:"START_ARROW",name:"Start",multiSelect:!0},END_ARROW:{id:"END_ARROW",name:"End",multiSelect:!0},LINE_STYLE:{id:"LINE_STYLE",name:"Dashed",multiSelect:!0},LINE_WEIGHT:{id:"LINE_WEIGHT",name:"Weight",multiSelect:!0},LINE_LABEL:{id:"LINE_LABEL",name:"Label",multiSelect:!1},COLLAPSE:{id:"COLLAPSE",name:"Collapse",multiSelect:!0,permissionRequired:i},EDIT_DRAWING:{id:"EDIT_DRAWING",name:"Edit drawing",multiSelect:!1},TABLE_OPERATIONS:{id:"TABLE_OPERATIONS",name:null,multiSelect:!1}},a={SMALL:680}},67789:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(67294),o=n(45697),i=n.n(o),s=n(94184),a=n.n(s),l=n(22222),c=n(37974),d=n(49965),u=n(19690),m=n(48791),p=n(81410),h=n(57390),g=n(82520),f=n(77875);const E=["buttonSelector","popupId","className","isPopupOpen","closePopup","ignoredClicksSelector","children","offset","distance","alignment","position","closeOnMouseUp","arrowColor","arrowTranslation","arrowStrokeColor","arrowStrokeWidth","globalGridSize","currentBoard"];const v=(0,l.zB)({isPopupOpen:u.Z$,currentBoard:p.tQ,globalGridSize:m.lT}),b=e=>{let{buttonSelector:t,popupId:n,className:o,isPopupOpen:i,closePopup:s,ignoredClicksSelector:l,children:c,offset:u=0,distance:m=15,alignment:p,position:v=f.as.RIGHT,closeOnMouseUp:b=!1,arrowColor:y,arrowTranslation:I=u-2+"px",arrowStrokeColor:C="none",arrowStrokeWidth:S,globalGridSize:T,currentBoard:w}=e,O=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,E);return i?r.createElement(h.Z,{selector:t,className:a()("ToolbarPopup light",o),arrowColor:y,arrowStrokeColor:C,arrowWidth:13,arrowHeight:8,arrowStrokeWidth:S,arrowStyle:{transform:`translate(${I}, 0.5px)`},distance:m,offset:u,position:v,alignment:p,pollPosition:!0,positionOffsetY:100,insets:(0,d.W)(T,w)},r.createElement(g.Z,Object.assign({},O,{visible:i,closePopup:s,popupId:n,closeOnMouseUp:b,ignoredClicksSelector:l}),r.createElement("div",{className:"popup-content"},c))):null};b.propTypes={buttonSelector:i().string,popupId:i().string,className:i().string,isPopupOpen:i().bool,closePopup:i().func,ignoredClicksSelector:i().string,children:i().oneOfType([i().element,i().array,i().string]),currentBoard:i().object,offset:i().number,distance:i().number,closeOnMouseUp:i().bool,stayOpen:i().bool,alignment:i().string,position:i().string,arrowColor:i().string,globalGridSize:i().number,arrowStrokeColor:i().string,arrowStrokeWidth:i().number,arrowTranslation:i().string};const y=(0,c.$j)(v)(b)},80874:(e,t,n)=>{"use strict";let r;n.d(t,{_:()=>r}),function(e){e.DATE="date",e.ELEMENT="Element"}(r||(r={}))},15923:(e,t,n)=>{"use strict";n.d(t,{OL:()=>r,bB:()=>i,eZ:()=>s,k1:()=>o});const r="TRASH_CLEAR_COMPLETE",o="TRASH_CLEAR_START",i="TRASH_CLEAR_FAILED",s={PERSONAL:"PERSONAL",OTHERS:"OTHERS"}},84929:(e,t,n)=>{"use strict";n.d(t,{yj:()=>$,ws:()=>X,Ep:()=>K,gp:()=>ce,wI:()=>le,l6:()=>oe,AY:()=>ie,gt:()=>se,MR:()=>ae,hI:()=>V,Mh:()=>J,Nf:()=>ne,OJ:()=>Y,eo:()=>ee,LI:()=>re});var r=n(7739),o=n.n(r),i=n(80369),s=n.n(i),a=n(63422),l=n.n(a),c=n(22222),d=n(78327),u=n(60658),m=n(43831),p=n(45446),h=n(11111),g=n(75763),f=n(13608),E=n(75188),v=n(46563),b=n(45575),y=n(76491),I=n(56860),C=n(93776),S=n(73440),T=n(59551),w=n(91727),O=n(94081),_=n(6690),R=n(96886);const A=({element:e,elementGraph:t})=>{const n=t[(0,g.nRF)(e)];return!(0,m.xb)(n)},D=({element:e,elementGraph:t,commentsByThreadId:n})=>{switch((0,g.BGE)(e)){case R.tE:case y.WK:return(0,f.a$)(e);case O.nr:return(0,f.mK)(e);case _.xE:return(0,f.p5)(e);case E.Kl:return A({element:e,elementGraph:t});case b.lq:return(({element:e,commentsByThreadId:t})=>{const n=t[(0,g.nRF)(e)];return!(0,m.xb)(n)})({element:e,commentsByThreadId:n});case v.BA:return(0,f.EB)(e)||A({element:e,elementGraph:t});case I.V_:case C.C:case w.Gk:return!0;case S.A:case T.H3:return!1;default:return!0}};var N=n(72522),x=n(53106),M=n(83547),P=n(19092),L=n(80275),k=n(49508),F=n(39222),B=n(15923),j=n(29176),z=n(80874);const U=(e,t)=>{const n=(0,g.Lks)(t)-(0,g.Lks)(e);if(0!==n)return n;return(0,g.nRF)(e)<(0,g.nRF)(t)?1:-1},H=(e,t)=>l()("timestamp",t)-l()("timestamp",e),Z=(0,d.y1)(M.$,(e=>e.filter(u.O3))),G=(0,d.y1)(Z,(e=>e.filter((e=>!(0,h.P7)(e)&&!(0,h.N2)(e)&&!(0,h.Ag)(e))))),K=(0,d.y1)(G,(e=>e.map(g.nRF).toArray())),W=(0,d.y1)(G,L.rc,((e,t)=>{const n=(0,p.gF)(t);return e.filter(n)})),V=(0,d.y1)(W,(e=>e.map(g.nRF).toArray())),$=(0,d.y1)(W,m.xb),q=(0,d.y1)(G,L.rc,k.pD,F._m,((e,t,n,r)=>{const o=s()((0,p.gF)(t));return e.filter((e=>o(e)&&D({element:e,elementGraph:n,commentsByThreadId:r})))})),Y=(0,d.y1)(q,(e=>e.map(g.nRF).toArray())),X=(0,d.y1)(q,m.xb),Q=e=>(0,c.P1)(e,(e=>{const t=o()(e.toArray(),(e=>{const t=(0,g.Lks)(e);return(0,P.T6)(t).getTime()})),n=[];for(const o in t){if(!t.hasOwnProperty(o))continue;const e=parseInt(o,10);n.push({timestamp:e,elementIds:t[o].sort(U).map(g.nRF)})}const r=new Map;return n.sort(H).forEach((e=>{const{elementIds:t,timestamp:n}=e;r.set(n.toString(),{type:z._.DATE,timestamp:n}),t.forEach((e=>{r.set(e,{type:z._.ELEMENT,elementId:e})}))})),r})),J=Q(W),ee=Q(q),te=e=>Array.from(null==e?void 0:e.keys()),ne=(0,c.P1)(J,te),re=(0,c.P1)(ee,te),oe=e=>t=>(0,x.rD)((0,N.Rf)(t,j.P6.trash,e)),ie=e=>t=>(0,x.pl)((0,N.Rf)(t,j.P6.trash,e)),se=e=>t=>{var n,r;return(null===(n=(0,N.Rf)(t,j.P6.trash,e))||void 0===n||null===(r=n.meta)||void 0===r?void 0:r.hasMore)||!1},ae=e=>t=>{var n,r;return(null===(n=(0,N.Rf)(t,j.P6.trash,e))||void 0===n||null===(r=n.meta)||void 0===r?void 0:r.hasOlderTrash)||!1},le=e=>t=>{var n,r;return null===(n=(0,N.Rf)(t,j.P6.trash,e))||void 0===n||null===(r=n.meta)||void 0===r?void 0:r.earliestTimestamp},ce=e=>{var t,n;return(null===(t=(0,N.Rf)(e,j.P6.trash,B.eZ.PERSONAL))||void 0===t||null===(n=t.meta)||void 0===n?void 0:n.clearing)||!1}},58123:(e,t,n)=>{"use strict";n.d(t,{z:()=>ce,l:()=>le});var r=n(59837),o=n(43905),i=n(72477),s=n(66412),a=n(53771),l=n(2161),c=n(53013),d=n(22178),u=n(39565),m=n(78185),p=n(21407),h=n(95074),g=n(55445),f=n(42097),E=n(92608),v=n(94642),b=n(89205),y=n(50680),I=n(21207),C=n(59375),S=n(44230),T=n(73131),w=n(8512),O=n(46797),_=n(44091),R=n(92339),A=n(43612),D=n(63171);const N={COLOR:{id:"COLOR",name:"Color",component:i.Z,height:R.q.SQUARE,multiSelect:!0,permissionPredicate:r.bs},TITLE:{id:"TITLE",name:"Title",component:s.Z,height:R.q.SQUARE,multiSelect:!0},CAPTION:{id:"CAPTION",name:"Caption",component:a.Z,height:R.q.SQUARE,multiSelect:!0},REACTION:{id:"REACTION",name:"Add reaction",component:l.Z,height:R.q.SQUARE,multiSelect:!1},ICON:{id:"ICON",name:"Icon",component:c.Z,height:R.q.SQUARE,multiSelect:!1},MEDIA:{id:"MEDIA",name:"Media",component:d.Z,height:R.q.SQUARE,multiSelect:!1},MEDIA_LOOP:{id:"MEDIA_LOOP",name:"Loop",component:u.Z,height:R.q.SQUARE,multiSelect:!0,availabilityPredicate:({selectedElements:e})=>e.every((e=>(0,o.ZP)(e)===A.WK.AUDIO||(0,o.ZP)(e)===A.WK.VIDEO))},MEDIA_AUTOPLAY:{id:"MEDIA_AUTOPLAY",name:"Autoplay",component:m.Z,height:R.q.SQUARE,multiSelect:!0,availabilityPredicate:({selectedElements:e})=>e.every((e=>(0,o.ZP)(e)===A.WK.AUDIO||(0,o.ZP)(e)===A.WK.VIDEO))},DISPLAY_MODE:{id:"DISPLAY_MODE",name:"Preview",component:p.Z,height:R.q.SQUARE,multiSelect:!0},IMAGE_EDIT:{id:"IMAGE_EDIT",name:"Edit image",component:h.Z,height:R.q.SQUARE,multiSelect:!1},SHOW_BACKGROUND:{id:"SHOW_BACKGROUND",name:"Transparent",component:g.Z,height:R.q.SQUARE,multiSelect:!0},CUSTOM_COLOR:{id:"CUSTOM_COLOR",name:"Color",component:f.Z,height:R.q.SQUARE,multiSelect:!0},COLOR_DISPLAY:{id:"COLOR_DISPLAY",name:"Display",component:D.Z,height:R.q.SQUARE,multiSelect:!0},START_ARROW:{id:"START_ARROW",name:"Start",component:E.Z,height:R.q.SQUARE,multiSelect:!0},END_ARROW:{id:"END_ARROW",name:"End",component:v.Z,height:R.q.SQUARE,multiSelect:!0},LINE_STYLE:{id:"LINE_STYLE",name:"Dashed",component:b.Z,height:R.q.SQUARE,multiSelect:!0},LINE_WEIGHT:{id:"LINE_WEIGHT",name:"Weight",component:y.Z,height:R.q.SQUARE,multiSelect:!0},LINE_LABEL:{id:"LINE_LABEL",name:"Label",component:I.Z,height:R.q.SQUARE,multiSelect:!1},COLLAPSE:{id:"COLLAPSE",name:"Collapse",component:C.Z,height:R.q.SQUARE,multiSelect:!0,permissionPredicate:r.qO},EDIT_DRAWING:{id:"EDIT_DRAWING",name:"Edit drawing",component:S.Z,height:R.q.SQUARE,multiSelect:!1},TABLE_OPERATIONS:{id:"TABLE_OPERATIONS",name:null,component:T.Z,height:R.q.SQUARE,multiSelect:!1},ALIGNMENT:{id:"ALIGNMENT",name:"Alignment",component:w.Z,height:R.q.SQUARE,multiSelect:!0,availabilityPredicate:({selectedElements:e})=>e.size>1&&(0,r.nB)(e)},DISTRIBUTE:{id:"DISTRIBUTE",name:"Distribute",component:O.Z,height:R.q.SQUARE,multiSelect:!0,availabilityPredicate:({selectedElements:e})=>e.size>2&&(0,r.nB)(e)},CONNECT_WITH_LINES:{id:"CONNECT_WITH_LINES",name:"Connect",component:_.Z,height:R.q.SQUARE,multiSelect:!0,availabilityPredicate:({selectedElements:e})=>e.size>1&&(0,r.nB)(e)}};var x=n(67026),M=n(28171),P=n(55716),L=n(50203),k=n(52848),F=n(92975),B=n(37126),j=n(66530),z=n(81996),U=n(71071),H=n(81995),Z=n(33659),G=n(63662),K=n(53086),W=n(26911);const V={TEXT_STYLES:{id:"TEXT_STYLE",name:"Text style",height:R.q.SQUARE,component:L.Z,collapseOrder:R.D.DEFAULT,toolSettings:{showBlockStyleTools:!1}},TEXT_BLOCK_STYLES:{id:"TEXT_BLOCK_STYLES",name:"Block styles",height:R.q.SQUARE,component:L.Z,collapseOrder:R.D.DEFAULT,toolSettings:{showBlockStyleTools:!0}},TEXT_BOLD:{id:"TEXT_BOLD",name:"Bold",tooltipText:"Bold",shortcut:["command","b"],iconName:"toolbar-bold",height:R.q.SQUARE,component:x.Z,collapseOrder:R.D.DEFAULT,toolSettings:{styleCommand:W.K2.BOLD}},TEXT_ITALIC:{id:"TEXT_ITALIC",name:"Italic",tooltipText:"Italic",shortcut:["command"," "," ","i"],iconName:"toolbar-italic",component:x.Z,height:R.q.SQUARE,collapseOrder:R.D.DEFAULT,toolSettings:{styleCommand:W.K2.ITALIC}},TEXT_STRIKETHROUGH:{id:"TEXT_STRIKETHROUGH",name:"Strikethrough",tooltipText:"Strikethrough",shortcut:["command","shift","X"],iconName:"toolbar-strikethrough",component:x.Z,height:R.q.SQUARE,collapseOrder:R.D.DEFAULT,toolSettings:{styleCommand:W.K2.STRIKETHROUGH}},TEXT_BULLET_LIST:{id:"TEXT_BULLET_LIST",name:"Bullet",tooltipText:"Bullet",shortcut:["command","shift","u"],iconName:"toolbar-list",component:x.Z,height:R.q.SQUARE,collapseOrder:R.D.DEFAULT,toolSettings:{styleCommand:W.K2.LIST}},TEXT_ORDERED_LIST:{id:"TEXT_ORDERED_LIST",name:"Numbered list",tooltipText:"Numbered list",shortcut:["command","shift","o"],iconName:"toolbar-numlist",component:x.Z,height:R.q.SQUARE,collapseOrder:R.D.DEFAULT,toolSettings:{styleCommand:W.K2.ORDERED_LIST}},TEXT_CENTERED:{id:"TEXT_CENTERED",name:"Align center",tooltipText:"Align center",shortcut:["command"," "," ","\\"],iconName:"toolbar-center-text",component:M.Z,height:R.q.SQUARE,collapseOrder:R.D.DEFAULT},TEXT_HYPERLINK:{id:"TEXT_HYPERLINK",name:"Hyperlink",tooltipText:"Hyperlink",shortcut:["command","k"],iconName:"toolbar-hyperlink",component:P.Z,height:R.q.SQUARE,collapseOrder:R.D.DEFAULT,toolSettings:{styleCommand:W.K2.HYPERLINK}},TABLE_CELL_ALIGNMENT:{id:"TABLE_CELL_ALIGNMENT",name:"Alignment",height:R.q.SQUARE,collapseOrder:R.D.DEFAULT,component:z.Z},TABLE_CELL_FORMULA:{id:"TABLE_CELL_FORMULA",name:"Formula",height:R.q.SQUARE,collapseOrder:R.D.DEFAULT,component:U.Z},TABLE_CELL_TYPE:{id:"TABLE_CELL_TYPE",name:"Cell type",height:R.q.SQUARE,collapseOrder:R.D.NEVER,component:G.Z},TABLE_CELL_COLOR:{id:"TABLE_CELL_COLOR",name:"Cell Color",height:R.q.SQUARE,collapseOrder:R.D.NEVER,component:K.Z},TABLE_ADD_COLUMN:{id:"TABLE_ADD_COLUMN",name:"Add column",height:R.q.SQUARE,collapseOrder:R.D.DEFAULT,component:H.Z},TABLE_ADD_ROW:{id:"TABLE_ADD_ROW",name:"Add row",height:R.q.SQUARE,collapseOrder:R.D.DEFAULT,component:Z.Z},ASSIGNMENT:{id:"ASSIGNMENT",name:"Assign",height:R.q.SQUARE,collapseOrder:R.D.DEFAULT,component:k.Z,tooltipText:"Assign to user",shortcut:["shift","@"]},INDENT_INCREASE:{id:"INDENT_INCREASE",name:"Indent",height:R.q.SQUARE,collapseOrder:R.D.DEFAULT,tooltipText:"Indent",shortcut:["\t"],iconName:"toolbar-indent",component:F.Z},INDENT_DECREASE:{id:"INDENT_DECREASE",name:"Outdent",height:R.q.SQUARE,collapseOrder:R.D.DEFAULT,tooltipText:"Unindent",shortcut:["shift","\t"],iconName:"toolbar-unindent",component:B.Z},DUE_DATE:{id:"DUE_DATE",name:"Due date",height:R.q.SQUARE,collapseOrder:R.D.DEFAULT,tooltipText:"Unindent",shortcut:["command","shift","@"],component:j.Z}};var $=n(67294),q=n(28200),Y=n(94184),X=n.n(Y),Q=n(67789),J=n(12623);const ee=["item","closePopup","toolListId"];const te=e=>{let{item:t,closePopup:n,toolListId:r}=e,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,ee);$.useEffect((()=>()=>{n()}),[]);const i=t.toolSettings;return $.createElement("div",{className:"MoreToolPopupContents",style:{"--popup-columns":Math.ceil(i.items.length/i.groupSize)}},$.createElement(J.Z,Object.assign({},o,{toolListId:t.uid||r,items:i.items})))},ne=e=>$.createElement(Q.Z,{ignoredClicksSelector:`#${e.item.uid}`,popupId:e.popupId,buttonSelector:`#${e.item.uid} .Icon.toolbar-more`,className:X()("MoreToolPopup",`toolbar-size-${e.gridSizeName}`,e.className),arrowColor:"var(--ws-canvas-background)",closePopup:e.closePopup},$.createElement(te,e));var re=n(87701),oe=$.createElement(re.Z,{name:"toolbar-more"});const ie=e=>$.createElement(q.Z,Object.assign({},e,{id:e.item.uid,popupId:e.item.uid,toolName:"more",preventFocus:!0,name:"",PopupComponent:ne}),oe);var se=n(71188);const ae={META_MORE:{id:"META_MORE",name:"More",height:{large:16,medium:16,small:14},collapseOrder:R.D.NEVER,component:ie,toolSettings:{groupSize:3,items:[],popupId:""}},META_DIVIDER:{id:"META_DIVIDER",name:"Divider",height:{large:1,medium:1,small:1},collapseOrder:R.D.NEVER,collapseBehavior:"hide",component:se.Z}},le={MULTI_SELECT_ARRANGEMENT:[N.ALIGNMENT,N.DISTRIBUTE,N.CONNECT_WITH_LINES],TEXT_EDITING_INLINE:[V.TEXT_STYLES,V.TEXT_BOLD,V.TEXT_ITALIC,V.TEXT_STRIKETHROUGH,V.TEXT_HYPERLINK],TEXT_EDITING_INLINE_AND_BLOCK:[V.TEXT_BLOCK_STYLES,V.TEXT_BOLD,V.TEXT_ITALIC,V.TEXT_STRIKETHROUGH,V.TEXT_BULLET_LIST,V.TEXT_ORDERED_LIST,V.TEXT_CENTERED,V.TEXT_HYPERLINK],TEXT_EDITING_CAPTION:[V.TEXT_STYLES,V.TEXT_BOLD,V.TEXT_ITALIC,V.TEXT_STRIKETHROUGH,V.TEXT_HYPERLINK,V.TEXT_CENTERED]},ce=Object.assign({},N,V,ae)},92339:(e,t,n)=>{"use strict";n.d(t,{D:()=>o,q:()=>r});const r={SQUARE:{large:48,medium:48,small:43},SHORT:{large:38,medium:38,small:35}},o={NEVER:0,LATE:10,DEFAULT:100,EARLY:1e3,ALWAYS:1e4}},59837:(e,t,n)=>{"use strict";n.d(t,{YB:()=>u,bs:()=>c,nB:()=>d,qO:()=>l});var r=n(11111),o=n(8698),i=n(75763),s=n(56860),a=n(65240);const l=()=>a.O.FEEDBACK,c=e=>e.every(r.Iw)?a.O.FEEDBACK:a.O.WRITE,d=e=>e.every((e=>(0,i.PRW)(e)===s.WI.CANVAS)),u=e=>e.every((e=>!(0,o.KX)(e)))},12623:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),o=n(37974),i=n(22222),s=n(52457);const a=["items"];var l=r.createElement("div",null);const c=()=>l,d=(0,i.P1)(s.Gl,(e=>null==e?void 0:e.first())),u=(0,i.zB)({selectedElements:s.Gl,element:d}),m=(0,o.$j)(u)(r.memo((e=>{let{items:t}=e,n=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);return r.createElement(r.Fragment,null,t.map((e=>{const t=e.component||c;return r.createElement(t,Object.assign({},n,e,{id:void 0,key:e.uid||e.id,item:e}),void 0)})))}),((e,t)=>e.toolListId===t.toolListId&&e.currentUser===t.currentUser&&e.selectedElementIds===t.selectedElementIds&&e.element===t.element&&e.editorKey===t.editorKey&&e.hasEditorSelection===t.hasEditorSelection&&e.currentBoardId===t.currentBoardId&&e.gridSize===t.gridSize)))},52457:(e,t,n)=>{"use strict";n.d(t,{Gl:()=>f,KQ:()=>p,Pn:()=>E,Yh:()=>h,oQ:()=>b,wf:()=>v});var r=n(22222),o=n(43393),i=n(78327),s=n(90693),a=n(71154),l=n(87447),c=n(83547),d=n(12896),u=n(49508),m=n(80177);const p=(0,i.y1)(l.Sp,a.pJ,((e,t)=>t?o.List([t]):e)),h=(0,i.y1)(p,c.$,((e,t)=>(0,l.Ak)(e,t))),g=o.List(),f=(0,i.y1)(((e,t)=>t.selectedElementIds||g),c.$,((e,t)=>(0,l.Ak)(e,t))),E=(0,i.y1)(p,c.$,u.pD,((e,t,n)=>1!==e.size?o.List():(0,s.CB)({elements:t,elementGraph:n,parentId:e.first()}).toList())),v=(0,r.P1)(d.hZ,(e=>{if(!e)return!1;const t=(0,m.Z)(e);return!(e.getSelection().isCollapsed()&&!t)})),b=e=>e.getIn(["app","onboarding","currentStep","disable","contextMenu"])||!1},53555:(e,t,n)=>{"use strict";n.d(t,{j:()=>o});var r=n(56860);const o={CANVAS:r.WI.CANVAS,INBOX:r.WI.INBOX,TRASH_PERSONAL:"TRASH_PERSONAL",TRASH_OTHERS:"TRASH_OTHERS",QUICK_NOTES:"QUICK_NOTES"}},91824:(e,t,n)=>{"use strict";n.d(t,{YT:()=>s});var r=n(43831),o=n(53555);const i=(0,r.vg)("workspaceSection"),s=e=>i(e)===o.j.CANVAS},70483:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});const r="AI_ASSISTANT_TOOL"},93776:(e,t,n)=>{"use strict";n.d(t,{C:()=>o,g:()=>i});var r=n(56860);const o="ALIAS",i=r.RJ},32752:(e,t,n)=>{"use strict";n.d(t,{IU:()=>a,V$:()=>s,c1:()=>i});var r=n(75763),o=n(43831);const i=e=>({linkTo:(0,r.nRF)(e),originalColor:(0,r.Lq4)(e),originalSecondaryColor:(0,r.pww)(e),originalTitle:(0,r.YQ0)(e),originalIcon:(0,r.q7_)(e),originalImage:(0,r.ywY)(e)}),s=e=>({title:(0,r.L3_)(e),color:(0,r.ON9)(e),secondaryColor:(0,r.JbF)(e),icon:(0,r.LQZ)(e),image:(0,r.HU5)(e)}),a=(e,t)=>Object.assign({},(0,o.su)((0,r.L5g)(t)),{title:(0,r.YQ0)(e)||(0,r.YQ0)(t)||(0,r.L3_)(e),color:(0,r.Lq4)(e)||(0,r.Lq4)(t)||(0,r.ON9)(e),secondaryColor:(0,r.pww)(e)||null,icon:(0,o.su)((0,r.q7_)(e))||(0,o.su)((0,r.q7_)(t))||(0,r.LQZ)(e),image:(0,o.su)((0,r.ywY)(e))||(0,o.su)((0,r.ywY)(t))||(0,r.HU5)(e)})},26434:(e,t,n)=>{"use strict";n.d(t,{Xc:()=>m,l$:()=>g,nF:()=>f});var r=n(66604),o=n.n(r),i=n(97245),s=n(89030),a=n(53976),l=n(22479),c=n(69203);const d="SERVER",u="CLIENT",m={ELEMENT_CREATE:"Element created",ELEMENT_CLONE:"Element cloned",ELEMENT_UPDATE:"Element updated (move/edit/delete)",NAVIGATION:"Navigated to a board",ELEMENT_SHARE:"Shared a board with someone",USER_INVITE:"Invited to a board (but not signed up yet)",USER_REGISTER:"Signed up",USER_REFERRAL:"Successfully referred a friend",USER_EMAIL_VERIFIED:"Verified email",SUBSCRIPTION_START:"Pro account: subscribed as admin",SUBSCRIPTION_ADD:"Pro account: person added to team",SUBSCRIPTION_CANCEL:"Pro account: subscription cancelled by admin",SUBSCRIPTION_REMOVE:"Pro account: person removed from team",SUBSCRIPTION_REQUEST_CANCEL:"Pro account: requested cancellation",SUBSCRIPTION_RESUBSCRIBE:"Pro account: resubscribed before cancellation",ELEMENT_SEARCH_SUBMIT:"Used search",CHECKLIST:"Checklist used",ADDED_TITLE_TO_TO_DO_LIST:"Added title to to-do list",DRAGGED_TO_DO_ITEM:"Dragged a to-do item",TEXT_STYLE_TOGGLE:"Toggled text block style",IMAGE_DRAWING:"Drew on image",ATTACHED_LINE:"Attached line",ATTACHED_COMMENT_THREAD:"Attached comment thread",COLLAPSED_COMMENT_THREAD:"Collapsed comment thread",EXPORTED_DOCUMENT:"Exported document",INVITED_USER:"Invited user",SECRET_LINK:"Secret link",PUSH_PERMISSION_DECISION:"Push permission decision",PUSH_SENT:"Push sent",MENTIONED_A_USER:"Mentioned another user",MENTIONED_BY_USER:"Mentioned by a user",ASSIGNED_TASK_TO_A_USER:"Assigned task to another user",ASSIGNED_TASK_BY_A_USER:"Assigned task by a user",ENTERED_PRESENTATION_MODE:"Entered Presentation Mode",PRESENTATION_MODE_HIDE_COMMENTS_ENABLED:"Presentation Mode: Hide comments enabled",PRESENTATION_MODE_PREVENT_EDITING_ENABLED:"Presentation Mode: Prevent editing enabled",SWITCHED_TO_V1:"Switched to V1",SWITCHED_THEME:"Switched theme",SET_PREFERENCE:"Set preference",SET_BOARD_BACKGROUND:"Set board background",LOADED_IN_IFRAME:"Loaded in iframe",VIEW_PAYMENT_SCREEN_REFER:"Viewed payment screen: refer a friend",VIEW_PAYMENT_SCREEN_PLANS:"Viewed payment screen: plans list",VIEW_PAYMENT_SCREEN_PLAN_INDIVIDUAL_TEAM:"Viewed payment screen: pro individual / team",VIEW_PAYMENT_SCREEN_TEAM:"Viewed payment screen: team selection",VIEW_PAYMENT_SCREEN_PAYMENT:"Viewed payment screen: payment",VIEW_PAYMENT_SCREEN_PAYMENT_SUCCESS:"Viewed payment screen: payment success",VIEW_PAYMENT_SCREEN_PAYMENT_UPDATED:"Viewed payment screen: payment updated",REFERRAL_TWITTER_SHARE:"Referral: Twitter share",REFERRAL_FACEBOOK_SHARE:"Referral: Facebook share",REFERRAL_EMAIL_SHARE:"Referral: Email share",DOMAIN_SUBSCRIPTION_INVITE_SENT:"Invited to a domain subscription",DOMAIN_SUBSCRIPTION_INVITE_CLAIMED:"Claimed invite to a domain subscription",DOMAIN_SUBSCRIPTION_RENEWAL_SENT:"Sent a domain subscription renewal",DOMAIN_SUBSCRIPTION_RENEWAL_CLAIMED:"Renewed domain subscription",CLICKED_UNDO_BUTTON:"Clicked undo button",CLICKED_REDO_BUTTON:"Clicked redo button",USED_AI_SHORTCUT:"Used an AI prompt shortcut",AI_SUBMISSION:"AI submission",AI_RESULT_GENERATED:"AI result generated",VIEWED_AI_HISTORY:"Viewed AI history",SELECTED_AI_HISTORY_ENTRY:"Selected AI history entry",APP_MULTI_REFRESH:"Refreshed app multiple times"},p={[i.hA]:{name:m.ELEMENT_CREATE,origin:u},[l.k2]:{name:m.ELEMENT_SEARCH_SUBMIT,origin:u},[i.wh]:{name:m.ELEMENT_UPDATE,origin:u},[i.EY]:{name:m.ELEMENT_UPDATE,origin:u},[i.XI]:{name:m.ELEMENT_UPDATE,origin:u},[s.N1]:{name:m.NAVIGATION,origin:u},[s._L]:{name:m.NAVIGATION,origin:u},[a.CW]:{name:m.NAVIGATION,origin:d},[a.Sj]:{name:m.USER_INVITE,origin:d},[a.pS]:{name:m.USER_REGISTER,origin:d},[a.Tp]:{name:m.USER_REFERRAL,origin:d},[a.qi]:{name:m.USER_EMAIL_VERIFIED,origin:d},[a.aF]:{name:m.SUBSCRIPTION_START,origin:d},[a.$R]:{name:m.SUBSCRIPTION_ADD,origin:d},[a.Ne]:{name:m.SUBSCRIPTION_CANCEL,origin:d},[a.uC]:{name:m.SUBSCRIPTION_REMOVE,origin:d},[a.JA]:{name:m.SUBSCRIPTION_REQUEST_CANCEL,origin:d},[a.Gu]:{name:m.SUBSCRIPTION_RESUBSCRIBE,origin:d},[c.M]:{name:m.PUSH_SENT},[a.KS]:{name:m.MENTIONED_A_USER,origin:d},[a.ud]:{name:m.MENTIONED_BY_USER,origin:d},[a.tG]:{name:m.ASSIGNED_TASK_TO_A_USER,origin:d},[a.a$]:{name:m.ASSIGNED_TASK_BY_A_USER,origin:d}},h=(o()(p,(e=>e.origin===d)),o()(p,(e=>e.origin===u))),g=e=>!!h[e],f=e=>p[e]&&p[e].name},53976:(e,t,n)=>{"use strict";n.d(t,{$R:()=>u,CW:()=>i,Gu:()=>g,JA:()=>h,K1:()=>C,KS:()=>f,LP:()=>o,Ne:()=>p,Sj:()=>s,Tp:()=>l,YV:()=>y,a$:()=>b,aF:()=>d,pS:()=>a,qi:()=>c,tG:()=>v,uC:()=>m,ud:()=>E,x2:()=>I});var r=n(92544);const o="ELEMENT_DUPLICATE",i="FETCH_ME",s="USER_INVITE",a="USER_REGISTER",l="USER_REFERRAL",c="USER_EMAIL_VERIFIED",d="SUBSCRIPTION_START",u="SUBSCRIPTION_ADD",m="SUBSCRIPTION_REMOVE",p="SUBSCRIPTION_CANCEL",h="SUBSCRIPTION_REQUEST_CANCEL",g="SUBSCRIPTION_RESUBSCRIBE",f="MENTIONED_A_USER",E="MENTIONED_BY_USER",v="ASSIGNED_TASK_TO_A_USER",b="ASSIGNED_TASK_BY_A_USER",y={FEATURE:"Has used feature",EXAMPLE_BOARDS:"Example boards viewed",EXAMPLE_BOARDS_FLAG:"Example boards viewed",DEFAULT_CONTENT_LIMIT:"Original content limit",CURRENT_CONTENT_LIMIT:"Current content limit",MAX_REFERRAL_BONUS:"Max referral bonus",GIFT_BONUS:"Gift bonus",REGISTRATION_DATE:"Registration date",REGISTRATION_MONTH:"Registration month",REGISTRATION_AVENUE:"Registration avenue",GUEST_AB_GROUP:"Guest AB group",REGISTRATION_ENTRY_POINT:"Registration entry point",INVITATION_DATE:"Invitation date",INVITED_FROM_BOARD_FLAG:"Invited from board",REGISTERED_ON_PUBLIC_EDIT_FLAG:"Registered on public editable board",REGISTERED_ON_PUBLISHED_FLAG:"Registered on published board",SUBSCRIPTION:"Subscription",STATUS:"Status",EMAIL:"Email",GUEST_VIEWED_PUBLIC_BOARDS:"Has viewed public boards as guest",REFERRED_A_FRIEND:"Successfully referred a friend",REFERRED_BY_USER:"Referred by user",REGISTERED_WITH_REFERRAL_CODE:"Registered with referral code",REFERRAL_CAMPAIGN:"Referral campaign",REFERRAL_URL:"referrer",REFERRAL_DOMAIN:"referring_domain",EMAIL_VERIFIED:"Email verified",THEME:"Theme",SHOW_GRID:"Show grid",PUSH_CARDS:"Push cards",TEMPLATE_PICKER:"Enable template picker",DRAWING_INK_EFFECT:"Enable drawing ink effect",THREE_D_EFFECTS:"3D effects",ANONYMOUS_VIEWING:"Anonymous viewing",SANS_SERIF_HEADINGS:"Disable serif headings",CREATE_NOTES_ON_DOUBLE_CLICK:"Disable create Notes on double click",SHOW_UNDO_REDO_BUTTONS:"Show undo redo buttons",LANGUAGE_PREFERENCE:"Language preference",CURRENCY_PREFERENCE:"Currency preference",EXPERIMENTS:"Experiments",DOMAIN_SUBSCRIPTION_INVITED:"Invited to domain subscription",DOMAIN_SUBSCRIPTION_CLAIMED:"Claimed domain subscription",DOMAIN_SUBSCRIPTION_ID:"Domain subscription id"},I={DESKTOP_APP:"Desktop app",PWA:"PWA",IPHONE_APP:"iPhone app",FILES:"Files",COMMENTS:"Comments",SEARCH:"Search",BOARD_SEARCH:"Board search",IMAGE_SEARCH:"ImageSearch",FILE_UPLOAD_VIA_POPUP:"File upload via popup",IMAGE_UPLOAD_VIA_POPUP:"Image upload via popup",DOUBLE_CLICK_NOTE:"Double click card creation",CMD_ENTER_NOTE:"Cmd enter note",QUICK_LINE:"Quick line",CHECKLIST:"Checklist used",MARKDOWN:"Markdown",EXPORTED_DOCUMENT:"Exported document",ATTACHED_COMMENT_THREAD:"Attached comment thread",COLLAPSED_COMMENT_THREAD:"Collapsed comment thread",ATTACHED_LINE:"Attached line",IMAGE_DRAWING:"Image drawing",RESIZE_CARD:"Resized card",CLONED_CARD:"Cloned card",INVITED_USER:"Invited user",SECRET_LINK:"Secret link",EDITABLE_LINK:"Editable link",TEMPLATE_PICKER:"Template Picker",TEMPLATE_CUSTOM:"Custom Template",PUSH_NOTIFICATIONS:"Push notifications",RECEIVED_PUSH_NOTIFICATIONS:"Received push notifications",CLICKED_PUSH_NOTIFICATIONS:"Clicked push notifications",MENTIONED_A_USER:"Mentioned another user",MENTIONED_BY_USER:"Mentioned by a user",ASSIGNED_TASK_TO_A_USER:"Assigned task to another user",ASSIGNED_TASK_BY_A_USER:"Assigned task by a user",DUE_DATE:"Due date",BOARD_BACKGROUND:"Set board background",UI_V2:"Visited UI V2",[r.A.DOCUMENT]:"Document element",[r.A.TRANSPARENT]:"Transparent element",ZOOM:"Zoom",ZOOM_TO_FIT:"Zoom to fit",AI:"AI Ideas",CLIENT_LOCAL_CACHE:"Client Local cache"},C={ZOOM_IN:"zoom in",ZOOM_OUT:"zoom out",RESET_ZOOM:"Reset to 100%"}},56860:(e,t,n)=>{"use strict";n.d(t,{Mu:()=>i,RJ:()=>c,V_:()=>l,W8:()=>s,WI:()=>o,q2:()=>d,tr:()=>r,wN:()=>u});const r="-trash";let o,i,s,a;!function(e){e.CANVAS="CANVAS",e.INBOX="INBOX",e.TRASH="TRASH",e.DELETED="DELETED",e.ATTACHED="ATTACHED"}(o||(o={})),function(e){e.OPEN="OPEN",e.CLOSED="CLOSED"}(i||(i={})),function(e){e.WORKSPACE="WORKSPACE",e.TEMPLATES="TEMPLATES",e.QUICK_NOTES="QUICK_NOTES"}(s||(s={})),function(e){e.WORKSPACE="Home",e.TEMPLATES="Templates",e.QUICK_NOTES="Quick notes"}(a||(a={}));const l="BOARD",c="Board",d="New Board",u="BOARD_CANVAS_ORDER_LOAD"},35572:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});const r=[["#6592c5","#918abc","#b090c4","#c17b8a","#f47772","#eab174","#eaca8b"],["#55b2a6","#82b29b","#e1ddca","#e9c56a","#f4a361","#e07a60","#e77051"],["#98b3bc","#a3bfcd","#bbd2d8","#cfddda","#d69f9d","#df8288","#ef6660"],["#e9785e","#dda16d","#d5b3a3","#d1cbc6","#accde1","#98c1d9","#839fc3"],["#75a4be","#8abbd6","#6ab8b3","#b4d9d7","#db9db7","#c889a8","#b992b4"],["#96b74a","#d0db85","#c9d6a9","#ddd9bd","#f4ce6d","#eab86a","#e39d5e"],["#8aabe7","#acaee1","#c5c6dc","#f2d686","#f7b801","#f18701","#f65f0e"],["#cd8b69","#cb997e","#ddbea9","#ead5c5","#d4c7b0","#b7b7a4","#b8b882"],["#b262c0","#d47ff8","#98dbb6","#7ac7bf","#93beca","#82a9c0","#6c9ec5"],["#8bafba","#a1c8cb","#82cec7","#a1dbd0","#f5ceaa","#e2aca8","#f07167"],["#fd4e7a","#eb728f","#e8a5c4","#ddd9bd","#decc9e","#dbc07b","#c7b27b"],["#7db4c0","#80c7ca","#a8dadc","#c9d4c7","#e4d1b6","#f09035","#ed6c18"],["#d9ed92","#99d98c","#52b69a","#4aaba2","#5e9cb9","#95acbd","#b8c7d1"],["#c5a87a","#e5c590","#e9d3af","#ffcdb2","#ffb4a2","#e6989c","#d592a0"],["#7db6c0","#9dbec4","#bcc8cb","#fefbfc","#e6ced4","#e2b4bd","#e87f93"]]},76491:(e,t,n)=>{"use strict";n.d(t,{WK:()=>r,mO:()=>o,uV:()=>a,vR:()=>s,zF:()=>i});const r="CARD",o="Note",i="Heading",s=3.3,a=7},1266:(e,t,n)=>{"use strict";n.d(t,{X:()=>r,d:()=>o});const r="CLONE",o="Clone"},11535:(e,t,n)=>{"use strict";n.d(t,{KK:()=>d,KY:()=>r,S$:()=>o,X:()=>a,aA:()=>c,gD:()=>i,ug:()=>l,v1:()=>s});const r="COLOR_SWATCH",o="Color",i="COLOR_SWATCH_COLOR",s="COLOR_SWATCH_COLOR_PICKER",a=17,l=12,c=4,d=4},49468:(e,t,n)=>{"use strict";n.d(t,{Jw:()=>m,Z:()=>g,eF:()=>p,vJ:()=>b,wE:()=>h});var r=n(47037),o=n.n(r),i=n(18446),s=n.n(i),a=n(65792),l=n.n(a),c=n(30845),d=n(43831),u=n(8049);const m=.8,p=.2,h=18,g=e=>!(!e||o()(e))&&("primary"in e&&"secondary"in e||(0,d.vg)("primary",e)&&(0,d.vg)("secondary",e)),f=(e,t,n)=>{let r=100;return n.forEach((n=>{const o=l().deltaE(n.primary,e)+l().deltaE(n.secondary,t);r=Math.min(r,o)})),r},E=(e,t,n)=>f(e,t,n)<30,v=(e,t,n)=>{for(let r=0;r<t.length;r++){const o=t[r];if(!(0,u.Nd)(o,e))continue;const i=(0,u.yv)(o)>(0,u.yv)(e)?o:e,s=(0,u.yv)(o)>(0,u.yv)(e)?e:o;if(!((0,u.yv)(i)<.35||E(i,s,n)))return{primary:i,secondary:s}}},b=(0,c.default)((e=>{const t=e.map((e=>(0,u.yv)(e)>m?l()(e).set("hsl.l",m).hex():e)),n=t.map((e=>l()(e).luminance())),r=Math.max(...n),o=Math.max(...t.map((e=>(0,u.yv)(e)))),i=Math.max(...t.map((e=>(0,u.CN)(e)))),s=r<.3&&i>.5,a=[];t.forEach((e=>{const n=v(e,t,a);n&&a.push(n)}));const c=[],d=[],p=[];t.forEach((e=>{const t=i-(0,u.CN)(e)<.3||s?i:.5,n=l()(e).set("hsl.s",t);c.push(l()(n).set("hsl.l",Math.min(o,m)).hex(),l()(n).set("hsl.l",.3).hex()),d.push(l()(n).set("hsl.l",.8).hex(),l()(n).set("hsl.l",.25).hex()),p.push(l()(n).set("hsl.l",.15).hex())})),t.forEach((e=>{const t=v(e,c,a)??v(e,d,a)??v(e,p,a);if(t)return void a.push(t);const n=(0,u.CN)(e),r=n>.5?n+.1:Math.min(i,.5),o=s?i:r;let m=l()(e).set("hsl.l",.75).set("hsl.s",o).hex(),h=l()(e).set("hsl.l",.2).set("hsl.s",o).hex(),g=0;for(;E(m,h,a||!(0,u.Nd)(m,h))&&g<2;){const e=(0,u.CN)(m)-.1;m=l()(m).set("hsl.s",e).hex(),h=l()(h).set("hsl.s",e).hex(),g+=1}f(m,h,a)>20&&a.push({primary:m,secondary:h})}));let h=0;const g=[...c,...d,...p];for(;a.length<7&&h<=100;){const e=g[h],t=v(e,g,a);t&&!E(t.primary,t.secondary,a)&&(g.splice(g.indexOf(e),1),a.push(t)),h+=1,g.push(l()(e).set("hsl.s",(0,u.CN)(e)-.1).hex())}return a}),s())},49870:(e,t,n)=>{"use strict";n.d(t,{Qr:()=>d,Vd:()=>c,vB:()=>u});var r=n(65792),o=n.n(r),i=n(8049),s=n(46716),a=n(74830),l=n(30402);const c=(e,t)=>{if((0,a.AG)(e))return(0,a.k3)(e,t);const n=(0,s.yT)(e);if(!n)return!t;const r=t?l.Uf:l.Ru;return o().contrast(r,n)<=(t?1.6:1.2)},d=(e,t=!0,n=l.DM)=>{if(!e)return t;const r=n[e],o=(null==r?void 0:r.hex)||e;return(0,i.KJ)(o)},u=e=>d(e,!0,l.MN)},30402:(e,t,n)=>{"use strict";n.d(t,{$H:()=>c,DM:()=>o,FV:()=>g,Jf:()=>s,ME:()=>f,MN:()=>i,OS:()=>m,Ru:()=>b,Uf:()=>v,Uo:()=>a,WE:()=>u,Yr:()=>h,_O:()=>p,aj:()=>l,et:()=>E,m0:()=>d});var r=n(25418);const o={NONE:{name:null,css:null,hex:null},GREY:{name:"GREY",css:"var(--color-element-grey)",hex:"#5f6672"},CYAN:{name:"CYAN",css:"var(--color-element-cyan)",hex:"#62dbc8"},GREEN:{name:"GREEN",css:"var(--color-element-green)",hex:"#7cd651"},BROWN:{name:"BROWN",css:"var(--color-element-brown)",hex:"#d58558"},YELLOW:{name:"YELLOW",css:"var(--color-element-yellow)",hex:"#ffd14d"},ORANGE:{name:"ORANGE",css:"var(--color-element-orange)",hex:"#ff8d48"},RED:{name:"RED",css:"var(--color-element-red)",hex:"#ff5757"},PINK:{name:"PINK",css:"var(--color-element-pink)",hex:"#ff6ed4"},PURPLE:{name:"PURPLE",css:"var(--color-element-purple)",hex:"#ad6fff"},BLUE:{name:"BLUE",css:"var(--color-element-blue)",hex:"#4ebafd"},DEEP_BLUE:{name:"DEEP_BLUE",css:"var(--color-element-deep-blue)",hex:"#5882f8"}},i=Object.assign({},o,{GREY:{name:"GREY",css:"var(--color-element-grey)",hex:"#bbbec3"}}),s={NONE:Object.assign({},o.NONE),GREY:Object.assign({},o.GREY,{hex:"#bbbec3"}),CYAN:Object.assign({},o.CYAN),GREEN:Object.assign({},o.GREEN),BROWN:Object.assign({},o.BROWN),YELLOW:Object.assign({},o.YELLOW),ORANGE:Object.assign({},o.ORANGE),RED:Object.assign({},o.RED),PINK:Object.assign({},o.PINK),PURPLE:Object.assign({},o.PURPLE),BLUE:Object.assign({},o.BLUE),DEEP_BLUE:Object.assign({},o.DEEP_BLUE),TRANSPARENT:{name:"TRANSPARENT",css:"rgba(0,0,0,0)",hex:"#00000000",className:"transparent"}},a={WHITE:{name:"WHITE",css:"rgba(255,255,255,1)",hex:"#ffffff"},CHARCOAL:{name:"CHARCOAL",css:"rgba(51,51,51,1)",hex:"#333333"},GREY:Object.assign({},o.GREY),CYAN:Object.assign({},o.CYAN),GREEN:Object.assign({},o.GREEN),BROWN:Object.assign({},o.BROWN),YELLOW:Object.assign({},o.YELLOW),ORANGE:Object.assign({},o.ORANGE),RED:Object.assign({},o.RED),PINK:Object.assign({},o.PINK),PURPLE:Object.assign({},o.PURPLE),BLUE:Object.assign({},o.BLUE),DEEP_BLUE:Object.assign({},o.DEEP_BLUE)},l={NONE:Object.assign({},o.NONE),GREY:Object.assign({},o.GREY,r.Z.element.element_light_grey_900),CYAN:Object.assign({},o.CYAN,r.Z.element.element_teal_900),GREEN:Object.assign({},o.GREEN,r.Z.element.element_green_900),YELLOW:Object.assign({},o.YELLOW,r.Z.element.element_yellow_900),ORANGE:Object.assign({},o.ORANGE,r.Z.element.element_orange_900),RED:Object.assign({},o.RED,r.Z.element.element_red_900),PINK:Object.assign({},o.PINK,r.Z.element.element_pink_900),PURPLE:Object.assign({},o.PURPLE,r.Z.element.element_purple_900),BLUE:Object.assign({},o.BLUE,r.Z.element.element_blue_900),DEEP_BLUE:Object.assign({},o.DEEP_BLUE,r.Z.element.element_royal_blue_900)},c=Object.values(o).filter((e=>e.name!==o.NONE.name)).map((e=>e.name)),d=Object.values(o).filter((e=>e.hex!==o.NONE.hex)).map((e=>e.hex)),u=Object.assign({},o,{WHITE:{name:"WHITE",css:"rgba(255,255,255,1)",hex:"#ffffff"}}),m=Object.values(u),p="#cacaca",h="#ffffff",g={NONE:{name:null,css:null,displayName:"Grey"},BLUE:{name:"BLUE",css:"var(--color-canvas-blue)"},GREEN:{name:"GREEN",css:"var(--color-canvas-green)"},YELLOW:{name:"YELLOW",css:"var(--color-canvas-yellow)"},WARM_GREY:{name:"WARM_GREY",css:"var(--color-canvas-warm-grey)"}},f={HEX:"HEX",RGB:"RGB",HSL:"HSL"},E=Object.assign({},f,{OFF:"Off"}),v="#3d4554",b="#ffffff"},83515:(e,t,n)=>{"use strict";n.d(t,{E:()=>c});var r=n(68738),o=n.n(r);const i={init(){let e,t,n;for(let r=0;r<i.names.length;r++)e=`#${i.names[r][0]}`,t=i.rgb(e),n=i.hsl(e),i.names[r].push(t[0],t[1],t[2],n[0],n[1],n[2])},name(e){let t=e.toUpperCase();if(t.length<3||t.length>7)return["#000000",`Invalid Color: ${t}`,!1];t.length%3==0&&(t=`#${t}`),4===t.length&&(t=`#${t.substr(1,1)}${t.substr(1,1)}${t.substr(2,1)}${t.substr(2,1)}${t.substr(3,1)}${t.substr(3,1)}`);const n=i.rgb(t),r=n[0],o=n[1],s=n[2],a=i.hsl(t),l=a[0],c=a[1],d=a[2];let u=0,m=0,p=0,h=-1,g=-1;for(let f=0;f<i.names.length;f++){if(t===`#${i.names[f][0]}`)return[`#${i.names[f][0]}`,i.names[f][1],!0];u=Math.pow(r-i.names[f][2],2)+Math.pow(o-i.names[f][3],2)+Math.pow(s-i.names[f][4],2),m=Math.pow(l-i.names[f][5],2)+Math.pow(c-i.names[f][6],2)+Math.pow(d-i.names[f][7],2),p=u+2*m,(g<0||g>p)&&(g=p,h=f)}return h<0?["#000000",`Invalid Color: ${t}`,!1]:[`#${i.names[h][0]}`,i.names[h][1],!1]},hsl(e){const t=[parseInt(`0x${e.substring(1,3)}`)/255,parseInt(`0x${e.substring(3,5)}`)/255,parseInt(`0x${e.substring(5,7)}`)/255],n=t[0],r=t[1],o=t[2],i=Math.min(n,Math.min(r,o)),s=Math.max(n,Math.max(r,o)),a=s-i,l=(i+s)/2;let c=0;l>0&&l<1&&(c=a/(l<.5?2*l:2-2*l));let d=0;return a>0&&(s===n&&s!==r&&(d+=(r-o)/a),s===r&&s!==o&&(d+=2+(o-n)/a),s===o&&s!==n&&(d+=4+(n-r)/a),d/=6),[parseInt(255*d),parseInt(255*c),parseInt(255*l)]},rgb:e=>[parseInt(`0x${e.substring(1,3)}`),parseInt(`0x${e.substring(3,5)}`),parseInt(`0x${e.substring(5,7)}`)],names:[["000000","Black"],["000080","Navy Blue"],["0000C8","Dark Blue"],["0000FF","Blue"],["000741","Stratos"],["001B1C","Swamp"],["002387","Resolution Blue"],["002900","Deep Fir"],["002E20","Burnham"],["002FA7","International Klein Blue"],["003153","Prussian Blue"],["003366","Midnight Blue"],["003399","Smalt"],["003532","Deep Teal"],["003E40","Cyprus"],["004620","Kaitoke Green"],["0047AB","Cobalt"],["004816","Crusoe"],["004950","Sherpa Blue"],["0056A7","Endeavour"],["00581A","Camarone"],["0066CC","Science Blue"],["0066FF","Blue Ribbon"],["00755E","Tropical Rain Forest"],["0076A3","Allports"],["007BA7","Deep Cerulean"],["007EC7","Lochmara"],["007FFF","Azure Radiance"],["008080","Teal"],["0095B6","Bondi Blue"],["009DC4","Pacific Blue"],["00A693","Persian Green"],["00A86B","Jade"],["00CC99","Caribbean Green"],["00CCCC","Robin's Egg Blue"],["00FF00","Green"],["00FF7F","Spring Green"],["00FFFF","Cyan / Aqua"],["010D1A","Blue Charcoal"],["011635","Midnight"],["011D13","Holly"],["012731","Daintree"],["01361C","Cardin Green"],["01371A","County Green"],["013E62","Astronaut Blue"],["013F6A","Regal Blue"],["014B43","Aqua Deep"],["015E85","Orient"],["016162","Blue Stone"],["016D39","Fun Green"],["01796F","Pine Green"],["017987","Blue Lagoon"],["01826B","Deep Sea"],["01A368","Green Haze"],["022D15","English Holly"],["02402C","Sherwood Green"],["02478E","Congress Blue"],["024E46","Evening Sea"],["026395","Bahama Blue"],["02866F","Observatory"],["02A4D3","Cerulean"],["03163C","Tangaroa"],["032B52","Green Vogue"],["036A6E","Mosque"],["041004","Midnight Moss"],["041322","Black Pearl"],["042E4C","Blue Whale"],["044022","Zuccini"],["044259","Teal Blue"],["051040","Deep Cove"],["051657","Gulf Blue"],["055989","Venice Blue"],["056F57","Watercourse"],["062A78","Catalina Blue"],["063537","Tiber"],["069B81","Gossamer"],["06A189","Niagara"],["073A50","Tarawera"],["080110","Jaguar"],["081910","Black Bean"],["082567","Deep Sapphire"],["088370","Elf Green"],["08E8DE","Bright Turquoise"],["092256","Downriver"],["09230F","Palm Green"],["09255D","Madison"],["093624","Bottle Green"],["095859","Deep Sea Green"],["097F4B","Salem"],["0A001C","Black Russian"],["0A480D","Dark Fern"],["0A6906","Japanese Laurel"],["0A6F75","Atoll"],["0B0B0B","Cod Gray"],["0B0F08","Marshland"],["0B1107","Gordons Green"],["0B1304","Black Forest"],["0B6207","San Felix"],["0BDA51","Malachite"],["0C0B1D","Ebony"],["0C0D0F","Woodsmoke"],["0C1911","Racing Green"],["0C7A79","Surfie Green"],["0C8990","Blue Chill"],["0D0332","Black Rock"],["0D1117","Bunker"],["0D1C19","Aztec"],["0D2E1C","Bush"],["0E0E18","Cinder"],["0E2A30","Firefly"],["0F2D9E","Torea Bay"],["10121D","Vulcan"],["101405","Green Waterloo"],["105852","Eden"],["110C6C","Arapawa"],["120A8F","Ultramarine"],["123447","Elephant"],["126B40","Jewel"],["130000","Diesel"],["130A06","Asphalt"],["13264D","Blue Zodiac"],["134F19","Parsley"],["140600","Nero"],["1450AA","Tory Blue"],["151F4C","Bunting"],["1560BD","Denim"],["15736B","Genoa"],["161928","Mirage"],["161D10","Hunter Green"],["162A40","Big Stone"],["163222","Celtic"],["16322C","Timber Green"],["163531","Gable Green"],["171F04","Pine Tree"],["175579","Chathams Blue"],["182D09","Deep Forest Green"],["18587A","Blumine"],["19330E","Palm Leaf"],["193751","Nile Blue"],["1959A8","Fun Blue"],["1A1A68","Lucky Point"],["1AB385","Mountain Meadow"],["1B0245","Tolopea"],["1B1035","Haiti"],["1B127B","Deep Koamaru"],["1B1404","Acadia"],["1B2F11","Seaweed"],["1B3162","Biscay"],["1B659D","Matisse"],["1C1208","Crowshead"],["1C1E13","Rangoon Green"],["1C39BB","Persian Blue"],["1C402E","Everglade"],["1C7C7D","Elm"],["1D6142","Green Pea"],["1E0F04","Creole"],["1E1609","Karaka"],["1E1708","El Paso"],["1E385B","Cello"],["1E433C","Te Papa Green"],["1E90FF","Dodger Blue"],["1E9AB0","Eastern Blue"],["1F120F","Night Rider"],["1FC2C2","Java"],["20208D","Jacksons Purple"],["202E54","Cloud Burst"],["204852","Blue Dianne"],["211A0E","Eternity"],["220878","Deep Blue"],["228B22","Forest Green"],["233418","Mallard"],["240A40","Violet"],["240C02","Kilamanjaro"],["242A1D","Log Cabin"],["242E16","Black Olive"],["24500F","Green House"],["251607","Graphite"],["251706","Cannon Black"],["251F4F","Port Gore"],["25272C","Shark"],["25311C","Green Kelp"],["2596D1","Curious Blue"],["260368","Paua"],["26056A","Paris M"],["261105","Wood Bark"],["261414","Gondola"],["262335","Steel Gray"],["26283B","Ebony Clay"],["273A81","Bay of Many"],["27504B","Plantation"],["278A5B","Eucalyptus"],["281E15","Oil"],["283A77","Astronaut"],["286ACD","Mariner"],["290C5E","Violent Violet"],["292130","Bastille"],["292319","Zeus"],["292937","Charade"],["297B9A","Jelly Bean"],["29AB87","Jungle Green"],["2A0359","Cherry Pie"],["2A140E","Coffee Bean"],["2A2630","Baltic Sea"],["2A380B","Turtle Green"],["2A52BE","Cerulean Blue"],["2B0202","Sepia Black"],["2B194F","Valhalla"],["2B3228","Heavy Metal"],["2C0E8C","Blue Gem"],["2C1632","Revolver"],["2C2133","Bleached Cedar"],["2C8C84","Lochinvar"],["2D2510","Mikado"],["2D383A","Outer Space"],["2D569B","St Tropaz"],["2E0329","Jacaranda"],["2E1905","Jacko Bean"],["2E3222","Rangitoto"],["2E3F62","Rhino"],["2E8B57","Sea Green"],["2EBFD4","Scooter"],["2F270E","Onion"],["2F3CB3","Governor Bay"],["2F519E","Sapphire"],["2F5A57","Spectra"],["2F6168","Casal"],["300529","Melanzane"],["301F1E","Cocoa Brown"],["302A0F","Woodrush"],["304B6A","San Juan"],["30D5C8","Turquoise"],["311C17","Eclipse"],["314459","Pickled Bluewood"],["315BA1","Azure"],["31728D","Calypso"],["317D82","Paradiso"],["32127A","Persian Indigo"],["32293A","Blackcurrant"],["323232","Mine Shaft"],["325D52","Stromboli"],["327C14","Bilbao"],["327DA0","Astral"],["33036B","Christalle"],["33292F","Thunder"],["33CC99","Shamrock"],["341515","Tamarind"],["350036","Mardi Gras"],["350E42","Valentino"],["350E57","Jagger"],["353542","Tuna"],["354E8C","Chambray"],["363050","Martinique"],["363534","Tuatara"],["363C0D","Waiouru"],["36747D","Ming"],["368716","La Palma"],["370202","Chocolate"],["371D09","Clinker"],["37290E","Brown Tumbleweed"],["373021","Birch"],["377475","Oracle"],["380474","Blue Diamond"],["381A51","Grape"],["383533","Dune"],["384555","Oxford Blue"],["384910","Clover"],["394851","Limed Spruce"],["396413","Dell"],["3A0020","Toledo"],["3A2010","Sambuca"],["3A2A6A","Jacarta"],["3A686C","William"],["3A6A47","Killarney"],["3AB09E","Keppel"],["3B000B","Temptress"],["3B0910","Aubergine"],["3B1F1F","Jon"],["3B2820","Treehouse"],["3B7A57","Amazon"],["3B91B4","Boston Blue"],["3C0878","Windsor"],["3C1206","Rebel"],["3C1F76","Meteorite"],["3C2005","Dark Ebony"],["3C3910","Camouflage"],["3C4151","Bright Gray"],["3C4443","Cape Cod"],["3C493A","Lunar Green"],["3D0C02","Bean  "],["3D2B1F","Bistre"],["3D7D52","Goblin"],["3E0480","Kingfisher Daisy"],["3E1C14","Cedar"],["3E2B23","English Walnut"],["3E2C1C","Black Marlin"],["3E3A44","Ship Gray"],["3EABBF","Pelorous"],["3F2109","Bronze"],["3F2500","Cola"],["3F3002","Madras"],["3F307F","Minsk"],["3F4C3A","Cabbage Pont"],["3F583B","Tom Thumb"],["3F5D53","Mineral Green"],["3FC1AA","Puerto Rico"],["3FFF00","Harlequin"],["401801","Brown Pod"],["40291D","Cork"],["403B38","Masala"],["403D19","Thatch Green"],["405169","Fiord"],["40826D","Viridian"],["40A860","Chateau Green"],["410056","Ripe Plum"],["411F10","Paco"],["412010","Deep Oak"],["413C37","Merlin"],["414257","Gun Powder"],["414C7D","East Bay"],["4169E1","Royal Blue"],["41AA78","Ocean Green"],["420303","Burnt Maroon"],["423921","Lisbon Brown"],["427977","Faded Jade"],["431560","Scarlet Gum"],["433120","Iroko"],["433E37","Armadillo"],["434C59","River Bed"],["436A0D","Green Leaf"],["44012D","Barossa"],["441D00","Morocco Brown"],["444954","Mako"],["454936","Kelp"],["456CAC","San Marino"],["45B1E8","Picton Blue"],["460B41","Loulou"],["462425","Crater Brown"],["465945","Gray Asparagus"],["4682B4","Steel Blue"],["480404","Rustic Red"],["480607","Bulgarian Rose"],["480656","Clairvoyant"],["481C1C","Cocoa Bean"],["483131","Woody Brown"],["483C32","Taupe"],["49170C","Van Cleef"],["492615","Brown Derby"],["49371B","Metallic Bronze"],["495400","Verdun Green"],["496679","Blue Bayoux"],["497183","Bismark"],["4A2A04","Bracken"],["4A3004","Deep Bronze"],["4A3C30","Mondo"],["4A4244","Tundora"],["4A444B","Gravel"],["4A4E5A","Trout"],["4B0082","Pigment Indigo"],["4B5D52","Nandor"],["4C3024","Saddle"],["4C4F56","Abbey"],["4D0135","Blackberry"],["4D0A18","Cab Sav"],["4D1E01","Indian Tan"],["4D282D","Cowboy"],["4D282E","Livid Brown"],["4D3833","Rock"],["4D3D14","Punga"],["4D400F","Bronzetone"],["4D5328","Woodland"],["4E0606","Mahogany"],["4E2A5A","Bossanova"],["4E3B41","Matterhorn"],["4E420C","Bronze Olive"],["4E4562","Mulled Wine"],["4E6649","Axolotl"],["4E7F9E","Wedgewood"],["4EABD1","Shakespeare"],["4F1C70","Honey Flower"],["4F2398","Daisy Bush"],["4F69C6","Indigo"],["4F7942","Fern Green"],["4F9D5D","Fruit Salad"],["4FA83D","Apple"],["504351","Mortar"],["507096","Kashmir Blue"],["507672","Cutty Sark"],["50C878","Emerald"],["514649","Emperor"],["516E3D","Chalet Green"],["517C66","Como"],["51808F","Smalt Blue"],["52001F","Castro"],["520C17","Maroon Oak"],["523C94","Gigas"],["533455","Voodoo"],["534491","Victoria"],["53824B","Hippie Green"],["541012","Heath"],["544333","Judge Gray"],["54534D","Fuscous Gray"],["549019","Vida Loca"],["55280C","Cioccolato"],["555B10","Saratoga"],["556D56","Finlandia"],["5590D9","Havelock Blue"],["56B4BE","Fountain Blue"],["578363","Spring Leaves"],["583401","Saddle Brown"],["585562","Scarpa Flow"],["587156","Cactus"],["589AAF","Hippie Blue"],["591D35","Wine Berry"],["592804","Brown Bramble"],["593737","Congo Brown"],["594433","Millbrook"],["5A6E9C","Waikawa Gray"],["5A87A0","Horizon"],["5B3013","Jambalaya"],["5C0120","Bordeaux"],["5C0536","Mulberry Wood"],["5C2E01","Carnaby Tan"],["5C5D75","Comet"],["5D1E0F","Redwood"],["5D4C51","Don Juan"],["5D5C58","Chicago"],["5D5E37","Verdigris"],["5D7747","Dingley"],["5DA19F","Breaker Bay"],["5E483E","Kabul"],["5E5D3B","Hemlock"],["5F3D26","Irish Coffee"],["5F5F6E","Mid Gray"],["5F6672","Shuttle Gray"],["5FA777","Aqua Forest"],["5FB3AC","Tradewind"],["604913","Horses Neck"],["605B73","Smoky"],["606E68","Corduroy"],["6093D1","Danube"],["612718","Espresso"],["614051","Eggplant"],["615D30","Costa Del Sol"],["61845F","Glade Green"],["622F30","Buccaneer"],["623F2D","Quincy"],["624E9A","Butterfly Bush"],["625119","West Coast"],["626649","Finch"],["639A8F","Patina"],["63B76C","Fern"],["6456B7","Blue Violet"],["646077","Dolphin"],["646463","Storm Dust"],["646A54","Siam"],["646E75","Nevada"],["6495ED","Cornflower Blue"],["64CCDB","Viking"],["65000B","Rosewood"],["651A14","Cherrywood"],["652DC1","Purple Heart"],["657220","Fern Frond"],["65745D","Willow Grove"],["65869F","Hoki"],["660045","Pompadour"],["660099","Purple"],["66023C","Tyrian Purple"],["661010","Dark Tan"],["66B58F","Silver Tree"],["66FF00","Bright Green"],["66FF66","Screamin' Green"],["67032D","Black Rose"],["675FA6","Scampi"],["676662","Ironside Gray"],["678975","Viridian Green"],["67A712","Christi"],["683600","Nutmeg Wood Finish"],["685558","Zambezi"],["685E6E","Salt Box"],["692545","Tawny Port"],["692D54","Finn"],["695F62","Scorpion"],["697E9A","Lynch"],["6A442E","Spice"],["6A5D1B","Himalaya"],["6A6051","Soya Bean"],["6B2A14","Hairy Heath"],["6B3FA0","Royal Purple"],["6B4E31","Shingle Fawn"],["6B5755","Dorado"],["6B8BA2","Bermuda Gray"],["6B8E23","Olive Drab"],["6C3082","Eminence"],["6CDAE7","Turquoise Blue"],["6D0101","Lonestar"],["6D5E54","Pine Cone"],["6D6C6C","Dove Gray"],["6D9292","Juniper"],["6D92A1","Gothic"],["6E0902","Red Oxide"],["6E1D14","Moccaccino"],["6E4826","Pickled Bean"],["6E4B26","Dallas"],["6E6D57","Kokoda"],["6E7783","Pale Sky"],["6F440C","Cafe Royale"],["6F6A61","Flint"],["6F8E63","Highland"],["6F9D02","Limeade"],["6FD0C5","Downy"],["701C1C","Persian Plum"],["704214","Sepia"],["704A07","Antique Bronze"],["704F50","Ferra"],["706555","Coffee"],["708090","Slate Gray"],["711A00","Cedar Wood Finish"],["71291D","Metallic Copper"],["714693","Affair"],["714AB2","Studio"],["715D47","Tobacco Brown"],["716338","Yellow Metal"],["716B56","Peat"],["716E10","Olivetone"],["717486","Storm Gray"],["718080","Sirocco"],["71D9E2","Aquamarine Blue"],["72010F","Venetian Red"],["724A2F","Old Copper"],["726D4E","Go Ben"],["727B89","Raven"],["731E8F","Seance"],["734A12","Raw Umber"],["736C9F","Kimberly"],["736D58","Crocodile"],["737829","Crete"],["738678","Xanadu"],["74640D","Spicy Mustard"],["747D63","Limed Ash"],["747D83","Rolling Stone"],["748881","Blue Smoke"],["749378","Laurel"],["74C365","Mantis"],["755A57","Russett"],["7563A8","Deluge"],["76395D","Cosmic"],["7666C6","Blue Marguerite"],["76BD17","Lima"],["76D7EA","Sky Blue"],["770F05","Dark Burgundy"],["771F1F","Crown of Thorns"],["773F1A","Walnut"],["776F61","Pablo"],["778120","Pacifika"],["779E86","Oxley"],["77DD77","Pastel Green"],["780109","Japanese Maple"],["782D19","Mocha"],["782F16","Peanut"],["78866B","Camouflage Green"],["788A25","Wasabi"],["788BBA","Ship Cove"],["78A39C","Sea Nymph"],["795D4C","Roman Coffee"],["796878","Old Lavender"],["796989","Rum"],["796A78","Fedora"],["796D62","Sandstone"],["79DEEC","Spray"],["7A013A","Siren"],["7A58C1","Fuchsia Blue"],["7A7A7A","Boulder"],["7A89B8","Wild Blue Yonder"],["7AC488","De York"],["7B3801","Red Beech"],["7B3F00","Cinnamon"],["7B6608","Yukon Gold"],["7B7874","Tapa"],["7B7C94","Waterloo "],["7B8265","Flax Smoke"],["7B9F80","Amulet"],["7BA05B","Asparagus"],["7C1C05","Kenyan Copper"],["7C7631","Pesto"],["7C778A","Topaz"],["7C7B7A","Concord"],["7C7B82","Jumbo"],["7C881A","Trendy Green"],["7CA1A6","Gumbo"],["7CB0A1","Acapulco"],["7CB7BB","Neptune"],["7D2C14","Pueblo"],["7DA98D","Bay Leaf"],["7DC8F7","Malibu"],["7DD8C6","Bermuda"],["7E3A15","Copper Canyon"],["7F1734","Claret"],["7F3A02","Peru Tan"],["7F626D","Falcon"],["7F7589","Mobster"],["7F76D3","Moody Blue"],["7FFF00","Chartreuse"],["7FFFD4","Aquamarine"],["800000","Maroon"],["800B47","Rose Bud Cherry"],["801818","Falu Red"],["80341F","Red Robin"],["803790","Vivid Violet"],["80461B","Russet"],["807E79","Friar Gray"],["808000","Olive"],["808080","Gray"],["80B3AE","Gulf Stream"],["80B3C4","Glacier"],["80CCEA","Seagull"],["81422C","Nutmeg"],["816E71","Spicy Pink"],["817377","Empress"],["819885","Spanish Green"],["826F65","Sand Dune"],["828685","Gunsmoke"],["828F72","Battleship Gray"],["831923","Merlot"],["837050","Shadow"],["83AA5D","Chelsea Cucumber"],["83D0C6","Monte Carlo"],["843179","Plum"],["84A0A0","Granny Smith"],["8581D9","Chetwode Blue"],["858470","Bandicoot"],["859FAF","Bali Hai"],["85C4CC","Half Baked"],["860111","Red Devil"],["863C3C","Lotus"],["86483C","Ironstone"],["864D1E","Bull Shot"],["86560A","Rusty Nail"],["868974","Bitter"],["86949F","Regent Gray"],["871550","Disco"],["87756E","Americano"],["877C7B","Hurricane"],["878D91","Oslo Gray"],["87AB39","Sushi"],["885342","Spicy Mix"],["886221","Kumera"],["888387","Suva Gray"],["888D65","Avocado"],["893456","Camelot"],["893843","Solid Pink"],["894367","Cannon Pink"],["897D6D","Makara"],["8A3324","Burnt Umber"],["8A73D6","True V"],["8A8360","Clay Creek"],["8A8389","Monsoon"],["8A8F8A","Stack"],["8AB9F1","Jordy Blue"],["8B00FF","Electric Violet"],["8B0723","Monarch"],["8B6B0B","Corn Harvest"],["8B8470","Olive Haze"],["8B847E","Schooner"],["8B8680","Natural Gray"],["8B9C90","Mantle"],["8B9FEE","Portage"],["8BA690","Envy"],["8BA9A5","Cascade"],["8BE6D8","Riptide"],["8C055E","Cardinal Pink"],["8C472F","Mule Fawn"],["8C5738","Potters Clay"],["8C6495","Trendy Pink"],["8D0226","Paprika"],["8D3D38","Sanguine Brown"],["8D3F3F","Tosca"],["8D7662","Cement"],["8D8974","Granite Green"],["8D90A1","Manatee"],["8DA8CC","Polo Blue"],["8E0000","Red Berry"],["8E4D1E","Rope"],["8E6F70","Opium"],["8E775E","Domino"],["8E8190","Mamba"],["8EABC1","Nepal"],["8F021C","Pohutukawa"],["8F3E33","El Salva"],["8F4B0E","Korma"],["8F8176","Squirrel"],["8FD6B4","Vista Blue"],["900020","Burgundy"],["901E1E","Old Brick"],["907874","Hemp"],["907B71","Almond Frost"],["908D39","Sycamore"],["92000A","Sangria"],["924321","Cumin"],["926F5B","Beaver"],["928573","Stonewall"],["928590","Venus"],["9370DB","Medium Purple"],["93CCEA","Cornflower"],["93DFB8","Algae Green"],["944747","Copper Rust"],["948771","Arrowtown"],["950015","Scarlett"],["956387","Strikemaster"],["959396","Mountain Mist"],["960018","Carmine"],["964B00","Brown"],["967059","Leather"],["9678B6","Purple Mountain's Majesty"],["967BB6","Lavender Purple"],["96A8A1","Pewter"],["96BBAB","Summer Green"],["97605D","Au Chico"],["9771B5","Wisteria"],["97CD2D","Atlantis"],["983D61","Vin Rouge"],["9874D3","Lilac Bush"],["98777B","Bazaar"],["98811B","Hacienda"],["988D77","Pale Oyster"],["98FF98","Mint Green"],["990066","Fresh Eggplant"],["991199","Violet Eggplant"],["991613","Tamarillo"],["991B07","Totem Pole"],["996666","Copper Rose"],["9966CC","Amethyst"],["997A8D","Mountbatten Pink"],["9999CC","Blue Bell"],["9A3820","Prairie Sand"],["9A6E61","Toast"],["9A9577","Gurkha"],["9AB973","Olivine"],["9AC2B8","Shadow Green"],["9B4703","Oregon"],["9B9E8F","Lemon Grass"],["9C3336","Stiletto"],["9D5616","Hawaiian Tan"],["9DACB7","Gull Gray"],["9DC209","Pistachio"],["9DE093","Granny Smith Apple"],["9DE5FF","Anakiwa"],["9E5302","Chelsea Gem"],["9E5B40","Sepia Skin"],["9EA587","Sage"],["9EA91F","Citron"],["9EB1CD","Rock Blue"],["9EDEE0","Morning Glory"],["9F381D","Cognac"],["9F821C","Reef Gold"],["9F9F9C","Star Dust"],["9FA0B1","Santas Gray"],["9FD7D3","Sinbad"],["9FDD8C","Feijoa"],["A02712","Tabasco"],["A1750D","Buttered Rum"],["A1ADB5","Hit Gray"],["A1C50A","Citrus"],["A1DAD7","Aqua Island"],["A1E9DE","Water Leaf"],["A2006D","Flirt"],["A23B6C","Rouge"],["A26645","Cape Palliser"],["A2AAB3","Gray Chateau"],["A2AEAB","Edward"],["A3807B","Pharlap"],["A397B4","Amethyst Smoke"],["A3E3ED","Blizzard Blue"],["A4A49D","Delta"],["A4A6D3","Wistful"],["A4AF6E","Green Smoke"],["A50B5E","Jazzberry Jam"],["A59B91","Zorba"],["A5CB0C","Bahia"],["A62F20","Roof Terracotta"],["A65529","Paarl"],["A68B5B","Barley Corn"],["A69279","Donkey Brown"],["A6A29A","Dawn"],["A72525","Mexican Red"],["A7882C","Luxor Gold"],["A85307","Rich Gold"],["A86515","Reno Sand"],["A86B6B","Coral Tree"],["A8989B","Dusty Gray"],["A899E6","Dull Lavender"],["A8A589","Tallow"],["A8AE9C","Bud"],["A8AF8E","Locust"],["A8BD9F","Norway"],["A8E3BD","Chinook"],["A9A491","Gray Olive"],["A9ACB6","Aluminium"],["A9B2C3","Cadet Blue"],["A9B497","Schist"],["A9BDBF","Tower Gray"],["A9BEF2","Perano"],["A9C6C2","Opal"],["AA375A","Night Shadz"],["AA4203","Fire"],["AA8B5B","Muesli"],["AA8D6F","Sandal"],["AAA5A9","Shady Lady"],["AAA9CD","Logan"],["AAABB7","Spun Pearl"],["AAD6E6","Regent St Blue"],["AAF0D1","Magic Mint"],["AB0563","Lipstick"],["AB3472","Royal Heath"],["AB917A","Sandrift"],["ABA0D9","Cold Purple"],["ABA196","Bronco"],["AC8A56","Limed Oak"],["AC91CE","East Side"],["AC9E22","Lemon Ginger"],["ACA494","Napa"],["ACA586","Hillary"],["ACA59F","Cloudy"],["ACACAC","Silver Chalice"],["ACB78E","Swamp Green"],["ACCBB1","Spring Rain"],["ACDD4D","Conifer"],["ACE1AF","Celadon"],["AD781B","Mandalay"],["ADBED1","Casper"],["ADDFAD","Moss Green"],["ADE6C4","Padua"],["ADFF2F","Green Yellow"],["AE4560","Hippie Pink"],["AE6020","Desert"],["AE809E","Bouquet"],["AF4035","Medium Carmine"],["AF4D43","Apple Blossom"],["AF593E","Brown Rust"],["AF8751","Driftwood"],["AF8F2C","Alpine"],["AF9F1C","Lucky"],["AFA09E","Martini"],["AFB1B8","Bombay"],["AFBDD9","Pigeon Post"],["B04C6A","Cadillac"],["B05D54","Matrix"],["B05E81","Tapestry"],["B06608","Mai Tai"],["B09A95","Del Rio"],["B0E0E6","Powder Blue"],["B0E313","Inch Worm"],["B10000","Bright Red"],["B14A0B","Vesuvius"],["B1610B","Pumpkin Skin"],["B16D52","Santa Fe"],["B19461","Teak"],["B1E2C1","Fringy Flower"],["B1F4E7","Ice Cold"],["B20931","Shiraz"],["B2A1EA","Biloba Flower"],["B32D29","Tall Poppy"],["B35213","Fiery Orange"],["B38007","Hot Toddy"],["B3AF95","Taupe Gray"],["B3C110","La Rioja"],["B43332","Well Read"],["B44668","Blush"],["B4CFD3","Jungle Mist"],["B57281","Turkish Rose"],["B57EDC","Lavender"],["B5A27F","Mongoose"],["B5B35C","Olive Green"],["B5D2CE","Jet Stream"],["B5ECDF","Cruise"],["B6316C","Hibiscus"],["B69D98","Thatch"],["B6B095","Heathered Gray"],["B6BAA4","Eagle"],["B6D1EA","Spindle"],["B6D3BF","Gum Leaf"],["B7410E","Rust"],["B78E5C","Muddy Waters"],["B7A214","Sahara"],["B7A458","Husk"],["B7B1B1","Nobel"],["B7C3D0","Heather"],["B7F0BE","Madang"],["B81104","Milano Red"],["B87333","Copper"],["B8B56A","Gimblet"],["B8C1B1","Green Spring"],["B8C25D","Celery"],["B8E0F9","Sail"],["B94E48","Chestnut"],["B95140","Crail"],["B98D28","Marigold"],["B9C46A","Wild Willow"],["B9C8AC","Rainee"],["BA0101","Guardsman Red"],["BA450C","Rock Spray"],["BA6F1E","Bourbon"],["BA7F03","Pirate Gold"],["BAB1A2","Nomad"],["BAC7C9","Submarine"],["BAEEF9","Charlotte"],["BB3385","Medium Red Violet"],["BB8983","Brandy Rose"],["BBD009","Rio Grande"],["BBD7C1","Surf"],["BCC9C2","Powder Ash"],["BD5E2E","Tuscany"],["BD978E","Quicksand"],["BDB1A8","Silk"],["BDB2A1","Malta"],["BDB3C7","Chatelle"],["BDBBD7","Lavender Gray"],["BDBDC6","French Gray"],["BDC8B3","Clay Ash"],["BDC9CE","Loblolly"],["BDEDFD","French Pass"],["BEA6C3","London Hue"],["BEB5B7","Pink Swan"],["BEDE0D","Fuego"],["BF5500","Rose of Sharon"],["BFB8B0","Tide"],["BFBED8","Blue Haze"],["BFC1C2","Silver Sand"],["BFC921","Key Lime Pie"],["BFDBE2","Ziggurat"],["BFFF00","Lime"],["C02B18","Thunderbird"],["C04737","Mojo"],["C08081","Old Rose"],["C0C0C0","Silver"],["C0D3B9","Pale Leaf"],["C0D8B6","Pixie Green"],["C1440E","Tia Maria"],["C154C1","Fuchsia Pink"],["C1A004","Buddha Gold"],["C1B7A4","Bison Hide"],["C1BAB0","Tea"],["C1BECD","Gray Suit"],["C1D7B0","Sprout"],["C1F07C","Sulu"],["C26B03","Indochine"],["C2955D","Twine"],["C2BDB6","Cotton Seed"],["C2CAC4","Pumice"],["C2E8E5","Jagged Ice"],["C32148","Maroon Flush"],["C3B091","Indian Khaki"],["C3BFC1","Pale Slate"],["C3C3BD","Gray Nickel"],["C3CDE6","Periwinkle Gray"],["C3D1D1","Tiara"],["C3DDF9","Tropical Blue"],["C41E3A","Cardinal"],["C45655","Fuzzy Wuzzy Brown"],["C45719","Orange Roughy"],["C4C4BC","Mist Gray"],["C4D0B0","Coriander"],["C4F4EB","Mint Tulip"],["C54B8C","Mulberry"],["C59922","Nugget"],["C5994B","Tussock"],["C5DBCA","Sea Mist"],["C5E17A","Yellow Green"],["C62D42","Brick Red"],["C6726B","Contessa"],["C69191","Oriental Pink"],["C6A84B","Roti"],["C6C3B5","Ash"],["C6C8BD","Kangaroo"],["C6E610","Las Palmas"],["C7031E","Monza"],["C71585","Red Violet"],["C7BCA2","Coral Reef"],["C7C1FF","Melrose"],["C7C4BF","Cloud"],["C7C9D5","Ghost"],["C7CD90","Pine Glade"],["C7DDE5","Botticelli"],["C88A65","Antique Brass"],["C8A2C8","Lilac"],["C8A528","Hokey Pokey"],["C8AABF","Lily"],["C8B568","Laser"],["C8E3D7","Edgewater"],["C96323","Piper"],["C99415","Pizza"],["C9A0DC","Light Wisteria"],["C9B29B","Rodeo Dust"],["C9B35B","Sundance"],["C9B93B","Earls Green"],["C9C0BB","Silver Rust"],["C9D9D2","Conch"],["C9FFA2","Reef"],["C9FFE5","Aero Blue"],["CA3435","Flush Mahogany"],["CABB48","Turmeric"],["CADCD4","Paris White"],["CAE00D","Bitter Lemon"],["CAE6DA","Skeptic"],["CB8FA9","Viola"],["CBCAB6","Foggy Gray"],["CBD3B0","Green Mist"],["CBDBD6","Nebula"],["CC3333","Persian Red"],["CC5500","Burnt Orange"],["CC7722","Ochre"],["CC8899","Puce"],["CCCAA8","Thistle Green"],["CCCCFF","Periwinkle"],["CCFF00","Electric Lime"],["CD5700","Tenn"],["CD5C5C","Chestnut Rose"],["CD8429","Brandy Punch"],["CDF4FF","Onahau"],["CEB98F","Sorrell Brown"],["CEBABA","Cold Turkey"],["CEC291","Yuma"],["CEC7A7","Chino"],["CFA39D","Eunry"],["CFB53B","Old Gold"],["CFDCCF","Tasman"],["CFE5D2","Surf Crest"],["CFF9F3","Humming Bird"],["CFFAF4","Scandal"],["D05F04","Red Stage"],["D06DA1","Hopbush"],["D07D12","Meteor"],["D0BEF8","Perfume"],["D0C0E5","Prelude"],["D0F0C0","Tea Green"],["D18F1B","Geebung"],["D1BEA8","Vanilla"],["D1C6B4","Soft Amber"],["D1D2CA","Celeste"],["D1D2DD","Mischka"],["D1E231","Pear"],["D2691E","Hot Cinnamon"],["D27D46","Raw Sienna"],["D29EAA","Careys Pink"],["D2B48C","Tan"],["D2DA97","Deco"],["D2F6DE","Blue Romance"],["D2F8B0","Gossip"],["D3CBBA","Sisal"],["D3CDC5","Swirl"],["D47494","Charm"],["D4B6AF","Clam Shell"],["D4BF8D","Straw"],["D4C4A8","Akaroa"],["D4CD16","Bird Flower"],["D4D7D9","Iron"],["D4DFE2","Geyser"],["D4E2FC","Hawkes Blue"],["D54600","Grenadier"],["D591A4","Can Can"],["D59A6F","Whiskey"],["D5D195","Winter Hazel"],["D5F6E3","Granny Apple"],["D69188","My Pink"],["D6C562","Tacha"],["D6CEF6","Moon Raker"],["D6D6D1","Quill Gray"],["D6FFDB","Snowy Mint"],["D7837F","New York Pink"],["D7C498","Pavlova"],["D7D0FF","Fog"],["D84437","Valencia"],["D87C63","Japonica"],["D8BFD8","Thistle"],["D8C2D5","Maverick"],["D8FCFA","Foam"],["D94972","Cabaret"],["D99376","Burning Sand"],["D9B99B","Cameo"],["D9D6CF","Timberwolf"],["D9DCC1","Tana"],["D9E4F5","Link Water"],["D9F7FF","Mabel"],["DA3287","Cerise"],["DA5B38","Flame Pea"],["DA6304","Bamboo"],["DA6A41","Red Damask"],["DA70D6","Orchid"],["DA8A67","Copperfield"],["DAA520","Golden Grass"],["DAECD6","Zanah"],["DAF4F0","Iceberg"],["DAFAFF","Oyster Bay"],["DB5079","Cranberry"],["DB9690","Petite Orchid"],["DB995E","Di Serria"],["DBDBDB","Alto"],["DBFFF8","Frosted Mint"],["DC143C","Crimson"],["DC4333","Punch"],["DCB20C","Galliano"],["DCB4BC","Blossom"],["DCD747","Wattle"],["DCD9D2","Westar"],["DCDDCC","Moon Mist"],["DCEDB4","Caper"],["DCF0EA","Swans Down"],["DDD6D5","Swiss Coffee"],["DDF9F1","White Ice"],["DE3163","Cerise Red"],["DE6360","Roman"],["DEA681","Tumbleweed"],["DEBA13","Gold Tips"],["DEC196","Brandy"],["DECBC6","Wafer"],["DED4A4","Sapling"],["DED717","Barberry"],["DEE5C0","Beryl Green"],["DEF5FF","Pattens Blue"],["DF73FF","Heliotrope"],["DFBE6F","Apache"],["DFCD6F","Chenin"],["DFCFDB","Lola"],["DFECDA","Willow Brook"],["DFFF00","Chartreuse Yellow"],["E0B0FF","Mauve"],["E0B646","Anzac"],["E0B974","Harvest Gold"],["E0C095","Calico"],["E0FFFF","Baby Blue"],["E16865","Sunglo"],["E1BC64","Equator"],["E1C0C8","Pink Flare"],["E1E6D6","Periglacial Blue"],["E1EAD4","Kidnapper"],["E1F6E8","Tara"],["E25465","Mandy"],["E2725B","Terracotta"],["E28913","Golden Bell"],["E292C0","Shocking"],["E29418","Dixie"],["E29CD2","Light Orchid"],["E2D8ED","Snuff"],["E2EBED","Mystic"],["E2F3EC","Apple Green"],["E30B5C","Razzmatazz"],["E32636","Alizarin Crimson"],["E34234","Cinnabar"],["E3BEBE","Cavern Pink"],["E3F5E1","Peppermint"],["E3F988","Mindaro"],["E47698","Deep Blush"],["E49B0F","Gamboge"],["E4C2D5","Melanie"],["E4CFDE","Twilight"],["E4D1C0","Bone"],["E4D422","Sunflower"],["E4D5B7","Grain Brown"],["E4D69B","Zombie"],["E4F6E7","Frostee"],["E4FFD1","Snow Flurry"],["E52B50","Amaranth"],["E5841B","Zest"],["E5CCC9","Dust Storm"],["E5D7BD","Stark White"],["E5D8AF","Hampton"],["E5E0E1","Bon Jour"],["E5E5E5","Mercury"],["E5F9F6","Polar"],["E64E03","Trinidad"],["E6BE8A","Gold Sand"],["E6BEA5","Cashmere"],["E6D7B9","Double Spanish White"],["E6E4D4","Satin Linen"],["E6F2EA","Harp"],["E6F8F3","Off Green"],["E6FFE9","Hint of Green"],["E6FFFF","Tranquil"],["E77200","Mango Tango"],["E7730A","Christine"],["E79F8C","Tonys Pink"],["E79FC4","Kobi"],["E7BCB4","Rose Fog"],["E7BF05","Corn"],["E7CD8C","Putty"],["E7ECE6","Gray Nurse"],["E7F8FF","Lily White"],["E7FEFF","Bubbles"],["E89928","Fire Bush"],["E8B9B3","Shilo"],["E8E0D5","Pearl Bush"],["E8EBE0","Green White"],["E8F1D4","Chrome White"],["E8F2EB","Gin"],["E8F5F2","Aqua Squeeze"],["E96E00","Clementine"],["E97451","Burnt Sienna"],["E97C07","Tahiti Gold"],["E9CECD","Oyster Pink"],["E9D75A","Confetti"],["E9E3E3","Ebb"],["E9F8ED","Ottoman"],["E9FFFD","Clear Day"],["EA88A8","Carissma"],["EAAE69","Porsche"],["EAB33B","Tulip Tree"],["EAC674","Rob Roy"],["EADAB8","Raffia"],["EAE8D4","White Rock"],["EAF6EE","Panache"],["EAF6FF","Solitude"],["EAF9F5","Aqua Spring"],["EAFFFE","Dew"],["EB9373","Apricot"],["EBC2AF","Zinnwaldite"],["ECA927","Fuel Yellow"],["ECC54E","Ronchi"],["ECC7EE","French Lilac"],["ECCDB9","Just Right"],["ECE090","Wild Rice"],["ECEBBD","Fall Green"],["ECEBCE","Aths Special"],["ECF245","Starship"],["ED0A3F","Red Ribbon"],["ED7A1C","Tango"],["ED9121","Carrot Orange"],["ED989E","Sea Pink"],["EDB381","Tacao"],["EDC9AF","Desert Sand"],["EDCDAB","Pancho"],["EDDCB1","Chamois"],["EDEA99","Primrose"],["EDF5DD","Frost"],["EDF5F5","Aqua Haze"],["EDF6FF","Zumthor"],["EDF9F1","Narvik"],["EDFC84","Honeysuckle"],["EE82EE","Lavender Magenta"],["EEC1BE","Beauty Bush"],["EED794","Chalky"],["EED9C4","Almond"],["EEDC82","Flax"],["EEDEDA","Bizarre"],["EEE3AD","Double Colonial White"],["EEEEE8","Cararra"],["EEEF78","Manz"],["EEF0C8","Tahuna Sands"],["EEF0F3","Athens Gray"],["EEF3C3","Tusk"],["EEF4DE","Loafer"],["EEF6F7","Catskill White"],["EEFDFF","Twilight Blue"],["EEFF9A","Jonquil"],["EEFFE2","Rice Flower"],["EF863F","Jaffa"],["EFEFEF","Gallery"],["EFF2F3","Porcelain"],["F091A9","Mauvelous"],["F0D52D","Golden Dream"],["F0DB7D","Golden Sand"],["F0DC82","Buff"],["F0E2EC","Prim"],["F0E68C","Khaki"],["F0EEFD","Selago"],["F0EEFF","Titan White"],["F0F8FF","Alice Blue"],["F0FCEA","Feta"],["F18200","Gold Drop"],["F19BAB","Wewak"],["F1E788","Sahara Sand"],["F1E9D2","Parchment"],["F1E9FF","Blue Chalk"],["F1EEC1","Mint Julep"],["F1F1F1","Seashell"],["F1F7F2","Saltpan"],["F1FFAD","Tidal"],["F1FFC8","Chiffon"],["F2552A","Flamingo"],["F28500","Tangerine"],["F2C3B2","Mandys Pink"],["F2F2F2","Concrete"],["F2FAFA","Black Squeeze"],["F34723","Pomegranate"],["F3AD16","Buttercup"],["F3D69D","New Orleans"],["F3D9DF","Vanilla Ice"],["F3E7BB","Sidecar"],["F3E9E5","Dawn Pink"],["F3EDCF","Wheatfield"],["F3FB62","Canary"],["F3FBD4","Orinoco"],["F3FFD8","Carla"],["F400A1","Hollywood Cerise"],["F4A460","Sandy brown"],["F4C430","Saffron"],["F4D81C","Ripe Lemon"],["F4EBD3","Janna"],["F4F2EE","Pampas"],["F4F4F4","Wild Sand"],["F4F8FF","Zircon"],["F57584","Froly"],["F5C85C","Cream Can"],["F5C999","Manhattan"],["F5D5A0","Maize"],["F5DEB3","Wheat"],["F5E7A2","Sandwisp"],["F5E7E2","Pot Pourri"],["F5E9D3","Albescent White"],["F5EDEF","Soft Peach"],["F5F3E5","Ecru White"],["F5F5DC","Beige"],["F5FB3D","Golden Fizz"],["F5FFBE","Australian Mint"],["F64A8A","French Rose"],["F653A6","Brilliant Rose"],["F6A4C9","Illusion"],["F6F0E6","Merino"],["F6F7F7","Black Haze"],["F6FFDC","Spring Sun"],["F7468A","Violet Red"],["F77703","Chilean Fire"],["F77FBE","Persian Pink"],["F7B668","Rajah"],["F7C8DA","Azalea"],["F7DBE6","We Peep"],["F7F2E1","Quarter Spanish White"],["F7F5FA","Whisper"],["F7FAF7","Snow Drift"],["F8B853","Casablanca"],["F8C3DF","Chantilly"],["F8D9E9","Cherub"],["F8DB9D","Marzipan"],["F8DD5C","Energy Yellow"],["F8E4BF","Givry"],["F8F0E8","White Linen"],["F8F4FF","Magnolia"],["F8F6F1","Spring Wood"],["F8F7DC","Coconut Cream"],["F8F7FC","White Lilac"],["F8F8F7","Desert Storm"],["F8F99C","Texas"],["F8FACD","Corn Field"],["F8FDD3","Mimosa"],["F95A61","Carnation"],["F9BF58","Saffron Mango"],["F9E0ED","Carousel Pink"],["F9E4BC","Dairy Cream"],["F9E663","Portica"],["F9EAF3","Amour"],["F9F8E4","Rum Swizzle"],["F9FF8B","Dolly"],["F9FFF6","Sugar Cane"],["FA7814","Ecstasy"],["FA9D5A","Tan Hide"],["FAD3A2","Corvette"],["FADFAD","Peach Yellow"],["FAE600","Turbo"],["FAEAB9","Astra"],["FAECCC","Champagne"],["FAF0E6","Linen"],["FAF3F0","Fantasy"],["FAF7D6","Citrine White"],["FAFAFA","Alabaster"],["FAFDE4","Hint of Yellow"],["FAFFA4","Milan"],["FB607F","Brink Pink"],["FB8989","Geraldine"],["FBA0E3","Lavender Rose"],["FBA129","Sea Buckthorn"],["FBAC13","Sun"],["FBAED2","Lavender Pink"],["FBB2A3","Rose Bud"],["FBBEDA","Cupid"],["FBCCE7","Classic Rose"],["FBCEB1","Apricot Peach"],["FBE7B2","Banana Mania"],["FBE870","Marigold Yellow"],["FBE96C","Festival"],["FBEA8C","Sweet Corn"],["FBEC5D","Candy Corn"],["FBF9F9","Hint of Red"],["FBFFBA","Shalimar"],["FC0FC0","Shocking Pink"],["FC80A5","Tickle Me Pink"],["FC9C1D","Tree Poppy"],["FCC01E","Lightning Yellow"],["FCD667","Goldenrod"],["FCD917","Candlelight"],["FCDA98","Cherokee"],["FCF4D0","Double Pearl Lusta"],["FCF4DC","Pearl Lusta"],["FCF8F7","Vista White"],["FCFBF3","Bianca"],["FCFEDA","Moon Glow"],["FCFFE7","China Ivory"],["FCFFF9","Ceramic"],["FD0E35","Torch Red"],["FD5B78","Wild Watermelon"],["FD7B33","Crusta"],["FD7C07","Sorbus"],["FD9FA2","Sweet Pink"],["FDD5B1","Light Apricot"],["FDD7E4","Pig Pink"],["FDE1DC","Cinderella"],["FDE295","Golden Glow"],["FDE910","Lemon"],["FDF5E6","Old Lace"],["FDF6D3","Half Colonial White"],["FDF7AD","Drover"],["FDFEB8","Pale Prim"],["FDFFD5","Cumulus"],["FE28A2","Persian Rose"],["FE4C40","Sunset Orange"],["FE6F5E","Bittersweet"],["FE9D04","California"],["FEA904","Yellow Sea"],["FEBAAD","Melon"],["FED33C","Bright Sun"],["FED85D","Dandelion"],["FEDB8D","Salomie"],["FEE5AC","Cape Honey"],["FEEBF3","Remy"],["FEEFCE","Oasis"],["FEF0EC","Bridesmaid"],["FEF2C7","Beeswax"],["FEF3D8","Bleach White"],["FEF4CC","Pipi"],["FEF4DB","Half Spanish White"],["FEF4F8","Wisp Pink"],["FEF5F1","Provincial Pink"],["FEF7DE","Half Dutch White"],["FEF8E2","Solitaire"],["FEF8FF","White Pointer"],["FEF9E3","Off Yellow"],["FEFCED","Orange White"],["FF0000","Red"],["FF007F","Rose"],["FF00CC","Purple Pizzazz"],["FF00FF","Magenta / Fuchsia"],["FF2400","Scarlet"],["FF3399","Wild Strawberry"],["FF33CC","Razzle Dazzle Rose"],["FF355E","Radical Red"],["FF3F34","Red Orange"],["FF4040","Coral Red"],["FF4D00","Vermilion"],["FF4F00","International Orange"],["FF6037","Outrageous Orange"],["FF6600","Blaze Orange"],["FF66FF","Pink Flamingo"],["FF681F","Orange"],["FF69B4","Hot Pink"],["FF6B53","Persimmon"],["FF6FFF","Blush Pink"],["FF7034","Burning Orange"],["FF7518","Pumpkin"],["FF7D07","Flamenco"],["FF7F00","Flush Orange"],["FF7F50","Coral"],["FF8C69","Salmon"],["FF9000","Pizazz"],["FF910F","West Side"],["FF91A4","Pink Salmon"],["FF9933","Neon Carrot"],["FF9966","Atomic Tangerine"],["FF9980","Vivid Tangerine"],["FF9E2C","Sunshade"],["FFA000","Orange Peel"],["FFA194","Mona Lisa"],["FFA500","Web Orange"],["FFA6C9","Carnation Pink"],["FFAB81","Hit Pink"],["FFAE42","Yellow Orange"],["FFB0AC","Cornflower Lilac"],["FFB1B3","Sundown"],["FFB31F","My Sin"],["FFB555","Texas Rose"],["FFB7D5","Cotton Candy"],["FFB97B","Macaroni and Cheese"],["FFBA00","Selective Yellow"],["FFBD5F","Koromiko"],["FFBF00","Amber"],["FFC0A8","Wax Flower"],["FFC0CB","Pink"],["FFC3C0","Your Pink"],["FFC901","Supernova"],["FFCBA4","Flesh"],["FFCC33","Sunglow"],["FFCC5C","Golden Tainoi"],["FFCC99","Peach Orange"],["FFCD8C","Chardonnay"],["FFD1DC","Pastel Pink"],["FFD2B7","Romantic"],["FFD38C","Grandis"],["FFD700","Gold"],["FFD800","School bus Yellow"],["FFD8D9","Cosmos"],["FFDB58","Mustard"],["FFDCD6","Peach Schnapps"],["FFDDAF","Caramel"],["FFDDCD","Tuft Bush"],["FFDDCF","Watusi"],["FFDDF4","Pink Lace"],["FFDEAD","Navajo White"],["FFDEB3","Frangipani"],["FFE1DF","Pippin"],["FFE1F2","Pale Rose"],["FFE2C5","Negroni"],["FFE5A0","Cream Brulee"],["FFE5B4","Peach"],["FFE6C7","Tequila"],["FFE772","Kournikova"],["FFEAC8","Sandy Beach"],["FFEAD4","Karry"],["FFEC13","Broom"],["FFEDBC","Colonial White"],["FFEED8","Derby"],["FFEFA1","Vis Vis"],["FFEFC1","Egg White"],["FFEFD5","Papaya Whip"],["FFEFEC","Fair Pink"],["FFF0DB","Peach Cream"],["FFF0F5","Lavender blush"],["FFF14F","Gorse"],["FFF1B5","Buttermilk"],["FFF1D8","Pink Lady"],["FFF1EE","Forget Me Not"],["FFF1F9","Tutu"],["FFF39D","Picasso"],["FFF3F1","Chardon"],["FFF46E","Paris Daisy"],["FFF4CE","Barley White"],["FFF4DD","Egg Sour"],["FFF4E0","Sazerac"],["FFF4E8","Serenade"],["FFF4F3","Chablis"],["FFF5EE","Seashell Peach"],["FFF5F3","Sauvignon"],["FFF6D4","Milk Punch"],["FFF6DF","Varden"],["FFF6F5","Rose White"],["FFF8D1","Baja White"],["FFF9E2","Gin Fizz"],["FFF9E6","Early Dawn"],["FFFACD","Lemon Chiffon"],["FFFAF4","Bridal Heath"],["FFFBDC","Scotch Mist"],["FFFBF9","Soapstone"],["FFFC99","Witch Haze"],["FFFCEA","Buttery White"],["FFFCEE","Island Spice"],["FFFDD0","Cream"],["FFFDE6","Chilean Heath"],["FFFDE8","Travertine"],["FFFDF3","Orchid White"],["FFFDF4","Quarter Pearl Lusta"],["FFFEE1","Half and Half"],["FFFEEC","Apricot White"],["FFFEF0","Rice Cake"],["FFFEF6","Black White"],["FFFEFD","Romance"],["FFFF00","Yellow"],["FFFF66","Laser Lemon"],["FFFF99","Pale Canary"],["FFFFB4","Portafino"],["FFFFF0","Ivory"],["FFFFFF","White"]]};i.init();const s=i;var a=n(46716);const l={"Double Colonial White":"Double Colonial","Double Spanish White":"Double Spanish","International Klein Blue":"International Klein","Macaroni and Cheese":"Macaroni & Cheese","Purple Mountain's Majesty":"Purple Mountain","Quarter Spanish White":"Quarter Spanish","School bus Yellow":"School Bus Yellow","Beauty Bush":"Beauty Blush"},c=e=>{const t=(0,a.TJ)(e);if(!t)return null;const[n,r]=s.name(t);if(!o()(r))return null;return l[r]||r}},18952:(e,t,n)=>{"use strict";n.d(t,{BD:()=>u,F1:()=>g,Qx:()=>f,ko:()=>E,sY:()=>v});var r=n(68738),o=n.n(r),i=n(65792),s=n.n(i),a=n(43831),l=n(74830),c=n(8686),d=n(30402);const u=e=>(0,a.vg)("space",e),m=e=>{if(!e)return null;const t=(0,c.oo)(e);if(!t)return null;const[n,r,o]=t;return{space:"HEX",value:(0,c.vq)([n,r,o]),r:n,g:r,b:o}},p=([e,t,n])=>({space:"RGB",r:e,g:t,b:n}),h=([e,t,n])=>({space:"HSL",h:Math.round(e||0),s:Math.round(t),l:Math.round(n)}),g=e=>{const t=(0,a.su)(e||{});switch(null==t?void 0:t.space){case"HEX":return s()(t.value);case"RGB":return s()([t.r,t.g,t.b]);case"HSL":return s()({h:t.h,s:t.s/100,l:t.l/100});default:return null}},f=(e,t)=>{const n=o()(e)?(e=>{if(!e)return null;const t=(0,l.Rc)(e);if(t)return m(t.hex);switch((0,c.vJ)(e)){case d.ME.HEX:return m(e);case d.ME.RGB:{const t=(0,c.GN)(e);return t?p(t):null}case d.ME.HSL:{const t=(0,c.Tb)(e);return t?h(t):null}default:return null}})(e):e;return t?((e,t)=>{if(u(e)===t)return e;const n=g(e);if(!n)return null;switch(t){case d.ME.HEX:{const e=n.hex();return m(e)}case d.ME.RGB:{const e=n.rgb();return p(e)}case d.ME.HSL:{const[e,t,r]=n.hsl();return h([e,100*t,100*r])}default:return null}})(n,t):n},E=e=>{switch(u(e)){case d.ME.HEX:return(0,a.vg)("value",e);case d.ME.RGB:return`${(0,a.vg)("r",e)},${(0,a.vg)("g",e)},${(0,a.vg)("b",e)}`;case d.ME.HSL:return`${(0,a.vg)("h",e)},${(0,a.vg)("s",e)}%,${(0,a.vg)("l",e)}%`;default:return null}},v=e=>{switch(u(e)){case d.ME.HEX:return(0,a.vg)("value",e);case d.ME.RGB:return`rgb(${(0,a.vg)("r",e)},${(0,a.vg)("g",e)},${(0,a.vg)("b",e)})`;case d.ME.HSL:return`hsl(${(0,a.vg)("h",e)},${(0,a.vg)("s",e)}%,${(0,a.vg)("l",e)}%)`;default:return null}}},25418:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={alert:{alert_blue_050:{hex:"#e8f5fc",rgba:"rgba(232, 245, 252, 1)",css:"var(--alert-alertblue-050)"},alert_blue_1000:{hex:"#0e84bf",rgba:"rgba(14, 132, 191, 1)",css:"var(--alert-alertblue-1000)"},alert_blue_1500:{hex:"#0a4f72",rgba:"rgba(10, 79, 114, 1)",css:"var(--alert-alertblue-1500)"},alert_blue_200:{hex:"#cde9f7",rgba:"rgba(205, 233, 247, 1)",css:"var(--alert-alertblue-200)"},alert_blue_900:{hex:"#16a0e5",rgba:"rgba(22, 160, 229, 1)",css:"var(--alert-alertblue-900)"},alert_green_050:{hex:"#edf8ee",rgba:"rgba(237, 248, 238, 1)",css:"var(--alert-alertgreen-050)"},alert_green_1000:{hex:"#429d4c",rgba:"rgba(66, 157, 76, 1)",css:"var(--alert-alertgreen-1000)"},alert_green_1500:{hex:"#3a5a3e",rgba:"rgba(58, 90, 62, 1)",css:"var(--alert-alertgreen-1500)"},alert_green_200:{hex:"#d9eedb",rgba:"rgba(217, 238, 219, 1)",css:"var(--alert-alertgreen-200)"},alert_green_900:{hex:"#4eb85a",rgba:"rgba(78, 184, 90, 1)",css:"var(--alert-alertgreen-900)"},alert_orange_050:{hex:"#fff3e9",rgba:"rgba(255, 243, 233, 1)",css:"var(--alert-alertorange-050)"},alert_orange_1000:{hex:"#e4750e",rgba:"rgba(228, 117, 14, 1)",css:"var(--alert-alertorange-1000)"},alert_orange_1500:{hex:"#704d2d",rgba:"rgba(112, 77, 45, 1)",css:"var(--alert-alertorange-1500)"},alert_orange_200:{hex:"#ffe4ce",rgba:"rgba(255, 228, 206, 1)",css:"var(--alert-alertorange-200)"},alert_orange_900:{hex:"#ff8d22",rgba:"rgba(255, 141, 34, 1)",css:"var(--alert-alertorange-900)"},alert_red_050:{hex:"#fdefef",rgba:"rgba(253, 239, 239, 1)",css:"var(--alert-alertred-050)"},alert_red_1000:{hex:"#d6223e",rgba:"rgba(214, 34, 62, 1)",css:"var(--alert-alertred-1000)"},alert_red_1500:{hex:"#6a4141",rgba:"rgba(106, 65, 65, 1)",css:"var(--alert-alertred-1500)"},alert_red_200:{hex:"#f9dede",rgba:"rgba(249, 222, 222, 1)",css:"var(--alert-alertred-200)"},alert_red_900:{hex:"#f02848",rgba:"rgba(240, 40, 72, 1)",css:"var(--alert-alertred-900)"}},avatar:{avatar_bert:{hex:"#ebdc91",rgba:"rgba(235, 220, 145, 1)",css:"var(--avatar-avatarbert)"},avatar_elmo:{hex:"#e68c8c",rgba:"rgba(230, 140, 140, 1)",css:"var(--avatar-avatarelmo)"},avatar_ernie:{hex:"#f3bd7f",rgba:"rgba(243, 189, 127, 1)",css:"var(--avatar-avatarernie)"},avatar_gonzo:{hex:"#92c1f5",rgba:"rgba(146, 193, 245, 1)",css:"var(--avatar-avatargonzo)"},avatar_grover:{hex:"#92c1f5",rgba:"rgba(146, 193, 245, 1)",css:"var(--avatar-avatargrover)"},avatar_kermit:{hex:"#8ce696",rgba:"rgba(140, 230, 150, 1)",css:"var(--avatar-avatarkermit)"},avatar_piggy:{hex:"#e68cba",rgba:"rgba(230, 140, 186, 1)",css:"var(--avatar-avatarpiggy)"},avatar_rosita:{hex:"#94dcd5",rgba:"rgba(148, 220, 213, 1)",css:"var(--avatar-avatarrosita)"},avatar_von_count:{hex:"#ba9af3",rgba:"rgba(186, 154, 243, 1)",css:"var(--avatar-avatarvoncount)"}},canvas:{canvas_dark_forest:{hex:"#1c2624",rgba:"rgba(28, 38, 36, 1)",css:"var(--canvas-canvasdarkforest)"},canvas_dark_galaxy:{hex:"#26232a",rgba:"rgba(38, 35, 42, 1)",css:"var(--canvas-canvasdarkgalaxy)"},canvas_dark_sand:{hex:"#27241f",rgba:"rgba(39, 36, 31, 1)",css:"var(--canvas-canvasdarksand)"},canvas_dark_sky:{hex:"#1c2329",rgba:"rgba(28, 35, 41, 1)",css:"var(--canvas-canvasdarksky)"},canvas_darkmode:{hex:"#262626",rgba:"rgba(38, 38, 38, 1)",css:"var(--canvas-canvasdarkmode)"},canvas_light_forest:{hex:"#d9ebe6",rgba:"rgba(217, 235, 230, 1)",css:"var(--canvas-canvaslightforest)"},canvas_light_galaxy:{hex:"#e5e3e8",rgba:"rgba(229, 227, 232, 1)",css:"var(--canvas-canvaslightgalaxy)"},canvas_light_sand:{hex:"#f0eedf",rgba:"rgba(240, 238, 223, 1)",css:"var(--canvas-canvaslightsand)"},canvas_light_sky:{hex:"#dceaf6",rgba:"rgba(220, 234, 246, 1)",css:"var(--canvas-canvaslightsky)"},canvas_lightmode:{hex:"#ebedee",rgba:"rgba(235, 237, 238, 1)",css:"var(--canvas-canvaslightmode)"}},element:{element_blue_1000:{hex:"#47b9ff",rgba:"rgba(71, 185, 255, 1)",css:"var(--element-elementblue-1000)"},element_blue_900:{hex:"#6cc7ff",rgba:"rgba(108, 199, 255, 1)",css:"var(--element-elementblue-900)"},element_brown_1000:{hex:"#e78358",rgba:"rgba(231, 131, 88, 1)",css:"var(--element-elementbrown-1000)"},element_brown_900:{hex:"#ed936e",rgba:"rgba(237, 147, 110, 1)",css:"var(--element-elementbrown-900)"},element_green_1000:{hex:"#7cd651",rgba:"rgba(124, 214, 81, 1)",css:"var(--element-elementgreen-1000)"},element_green_900:{hex:"#92e36b",rgba:"rgba(146, 227, 107, 1)",css:"var(--element-elementgreen-900)"},element_light_grey_1000:{hex:"#d1d3d6",rgba:"rgba(209, 211, 214, 1)",css:"var(--element-elementlightgrey-1000)"},element_light_grey_900:{hex:"#dcdcdc",rgba:"rgba(220, 220, 220, 1)",css:"var(--element-elementlightgrey-900)"},element_medium_grey_1000:{hex:"#5f6672",rgba:"rgba(95, 102, 114, 1)",css:"var(--element-elementmediumgrey-1000)"},element_medium_grey_900:{hex:"#767c86",rgba:"rgba(118, 124, 134, 1)",css:"var(--element-elementmediumgrey-900)"},element_orange_1000:{hex:"#ff9329",rgba:"rgba(255, 147, 41, 1)",css:"var(--element-elementorange-1000)"},element_orange_900:{hex:"#ffa954",rgba:"rgba(255, 169, 84, 1)",css:"var(--element-elementorange-900)"},element_pink_1000:{hex:"#ff6dd4",rgba:"rgba(255, 109, 212, 1)",css:"var(--element-elementpink-1000)"},element_pink_900:{hex:"#ff8add",rgba:"rgba(255, 138, 221, 1)",css:"var(--element-elementpink-900)"},element_purple_1000:{hex:"#af72ff",rgba:"rgba(175, 114, 255, 1)",css:"var(--element-elementpurple-1000)"},element_purple_900:{hex:"#bf8eff",rgba:"rgba(191, 142, 255, 1)",css:"var(--element-elementpurple-900)"},element_red_1000:{hex:"#ff4d4d",rgba:"rgba(255, 77, 77, 1)",css:"var(--element-elementred-1000)"},element_red_900:{hex:"#ff7171",rgba:"rgba(255, 113, 113, 1)",css:"var(--element-elementred-900)"},element_royal_blue_1000:{hex:"#5882f8",rgba:"rgba(88, 130, 248, 1)",css:"var(--element-elementroyalblue-1000)"},element_royal_blue_900:{hex:"#799bf9",rgba:"rgba(121, 155, 249, 1)",css:"var(--element-elementroyalblue-900)"},element_teal_1000:{hex:"#62dbc8",rgba:"rgba(98, 219, 200, 1)",css:"var(--element-elementteal-1000)"},element_teal_900:{hex:"#7be6d5",rgba:"rgba(123, 230, 213, 1)",css:"var(--element-elementteal-900)"},element_yellow_1000:{hex:"#ffc92d",rgba:"rgba(255, 201, 45, 1)",css:"var(--element-elementyellow-1000)"},element_yellow_900:{hex:"#ffd96a",rgba:"rgba(255, 217, 106, 1)",css:"var(--element-elementyellow-900)"}},highlight:{light_blue_050:{hex:"#ebf9ff",rgba:"rgba(235, 249, 255, 1)",css:"var(--highlight-lightblue-050)"},light_blue_1500:{hex:"#1e7d9f",rgba:"rgba(30, 125, 159, 1)",css:"var(--highlight-lightblue-1500)"},light_blue_200:{hex:"#cdf1ff",rgba:"rgba(205, 241, 255, 1)",css:"var(--highlight-lightblue-200)"},light_blue_900:{hex:"#8ae0ff",rgba:"rgba(138, 224, 255, 1)",css:"var(--highlight-lightblue-900)"},light_lime_050:{hex:"#f8ffe5",rgba:"rgba(248, 255, 229, 1)",css:"var(--highlight-lightlime-050)"},light_lime_1500:{hex:"#55740e",rgba:"rgba(85, 116, 14, 1)",css:"var(--highlight-lightlime-1500)"},light_lime_200:{hex:"#daf88d",rgba:"rgba(218, 248, 141, 1)",css:"var(--highlight-lightlime-200)"},light_lime_900:{hex:"#c9f201",rgba:"rgba(201, 242, 1, 1)",css:"var(--highlight-lightlime-900)"},light_orange_050:{hex:"#fff8e0",rgba:"rgba(255, 248, 224, 1)",css:"var(--highlight-lightorange-050)"},light_orange_1000:{hex:"#ffce26",rgba:"rgba(255, 206, 38, 1)",css:"var(--highlight-lightorange-1000)"},light_orange_1500:{hex:"#984d00",rgba:"rgba(152, 77, 0, 1)",css:"var(--highlight-lightorange-1500)"},light_orange_200:{hex:"#ffefb9",rgba:"rgba(255, 239, 185, 1)",css:"var(--highlight-lightorange-200)"},light_pink_050:{hex:"#fff7fc",rgba:"rgba(255, 247, 252, 1)",css:"var(--highlight-lightpink-050)"},light_pink_1500:{hex:"#9b3e74",rgba:"rgba(155, 62, 116, 1)",css:"var(--highlight-lightpink-1500)"},light_pink_200:{hex:"#ffdef3",rgba:"rgba(255, 222, 243, 1)",css:"var(--highlight-lightpink-200)"},light_pink_900:{hex:"#ffa4de",rgba:"rgba(255, 164, 222, 1)",css:"var(--highlight-lightpink-900)"},light_yellow_050:{hex:"#fffce6",rgba:"rgba(255, 252, 230, 1)",css:"var(--highlight-lightyellow-050)"},light_yellow_1500:{hex:"#80792b",rgba:"rgba(128, 121, 43, 1)",css:"var(--highlight-lightyellow-1500)"},light_yellow_200:{hex:"#fffac0",rgba:"rgba(255, 250, 192, 1)",css:"var(--highlight-lightyellow-200)"},light_yellow_900:{hex:"#ffed00",rgba:"rgba(255, 237, 0, 1)",css:"var(--highlight-lightyellow-900)"}},neutral:{darkmode_grey_050:{hex:"#f2f2f2",rgba:"rgba(242, 242, 242, 1)",css:"var(--neutral-darkmodegrey-050)"},darkmode_grey_100:{hex:"#e6e6e6",rgba:"rgba(230, 230, 230, 1)",css:"var(--neutral-darkmodegrey-100)"},darkmode_grey_1000:{hex:"#000000",rgba:"rgba(0, 0, 0, 1)",css:"var(--neutral-darkmodegrey-1000)"},darkmode_grey_200:{hex:"#cccccc",rgba:"rgba(204, 204, 204, 1)",css:"var(--neutral-darkmodegrey-200)"},darkmode_grey_300:{hex:"#b3b3b3",rgba:"rgba(179, 179, 179, 1)",css:"var(--neutral-darkmodegrey-300)"},darkmode_grey_400:{hex:"#999999",rgba:"rgba(153, 153, 153, 1)",css:"var(--neutral-darkmodegrey-400)"},darkmode_grey_500:{hex:"#808080",rgba:"rgba(128, 128, 128, 1)",css:"var(--neutral-darkmodegrey-500)"},darkmode_grey_600:{hex:"#666666",rgba:"rgba(102, 102, 102, 1)",css:"var(--neutral-darkmodegrey-600)"},darkmode_grey_700:{hex:"#4d4d4d",rgba:"rgba(77, 77, 77, 1)",css:"var(--neutral-darkmodegrey-700)"},darkmode_grey_750:{hex:"#3d3d3d",rgba:"rgba(61, 61, 61, 1)",css:"var(--neutral-darkmodegrey-750)"},darkmode_grey_800:{hex:"#333333",rgba:"rgba(51, 51, 51, 1)",css:"var(--neutral-darkmodegrey-800)"},darkmode_grey_900:{hex:"#1a1a1a",rgba:"rgba(26, 26, 26, 1)",css:"var(--neutral-darkmodegrey-900)"},lightmode_grey_050:{hex:"#f3f3f4",rgba:"rgba(243, 243, 244, 1)",css:"var(--neutral-lightmodegrey-050)"},lightmode_grey_100:{hex:"#e8e9eb",rgba:"rgba(232, 233, 235, 1)",css:"var(--neutral-lightmodegrey-100)"},lightmode_grey_1000:{hex:"#1b2536",rgba:"rgba(27, 37, 54, 1)",css:"var(--neutral-lightmodegrey-1000)"},lightmode_grey_200:{hex:"#d1d3d6",rgba:"rgba(209, 211, 214, 1)",css:"var(--neutral-lightmodegrey-200)"},lightmode_grey_300:{hex:"#bbbec3",rgba:"rgba(187, 190, 195, 1)",css:"var(--neutral-lightmodegrey-300)"},lightmode_grey_400:{hex:"#a3a7ae",rgba:"rgba(163, 167, 174, 1)",css:"var(--neutral-lightmodegrey-400)"},lightmode_grey_500:{hex:"#8d929a",rgba:"rgba(141, 146, 154, 1)",css:"var(--neutral-lightmodegrey-500)"},lightmode_grey_600:{hex:"#767c86",rgba:"rgba(118, 124, 134, 1)",css:"var(--neutral-lightmodegrey-600)"},lightmode_grey_700:{hex:"#5f6672",rgba:"rgba(95, 102, 114, 1)",css:"var(--neutral-lightmodegrey-700)"},lightmode_grey_800:{hex:"#48505e",rgba:"rgba(72, 80, 94, 1)",css:"var(--neutral-lightmodegrey-800)"},lightmode_grey_900:{hex:"#323b4a",rgba:"rgba(50, 59, 74, 1)",css:"var(--neutral-lightmodegrey-900)"},opacity:{darkmode_grey_1000_00:{hex:"#00000000",rgba:"rgba(0, 0, 0, 0)",css:"var(--opacity-darkmodegrey-1000-00)"},darkmode_grey_1000_05:{hex:"#0000000d",rgba:"rgba(0, 0, 0, 0.05)",css:"var(--opacity-darkmodegrey-1000-05)"},darkmode_grey_1000_10:{hex:"#0000001a",rgba:"rgba(0, 0, 0, 0.1)",css:"var(--opacity-darkmodegrey-1000-10)"},darkmode_grey_1000_15:{hex:"#00000026",rgba:"rgba(0, 0, 0, 0.15)",css:"var(--opacity-darkmodegrey-1000-15)"},darkmode_grey_1000_20:{hex:"#00000033",rgba:"rgba(0, 0, 0, 0.2)",css:"var(--opacity-darkmodegrey-1000-20)"},darkmode_grey_1000_30:{hex:"#0000004d",rgba:"rgba(0, 0, 0, 0.3)",css:"var(--opacity-darkmodegrey-1000-30)"},darkmode_grey_1000_60:{hex:"#00000099",rgba:"rgba(0, 0, 0, 0.6)",css:"var(--opacity-darkmodegrey-1000-60)"},darkmode_grey_1000_80:{hex:"#000000cc",rgba:"rgba(0, 0, 0, 0.8)",css:"var(--opacity-darkmodegrey-1000-80)"},lightmode_grey_1000_00:{hex:"#1b253600",rgba:"rgba(27, 37, 54, 0)",css:"var(--opacity-lightmodegrey-1000-00)"},lightmode_grey_1000_05:{hex:"#1b25360d",rgba:"rgba(27, 37, 54, 0.05)",css:"var(--opacity-lightmodegrey-1000-05)"},lightmode_grey_1000_10:{hex:"#1b25361a",rgba:"rgba(27, 37, 54, 0.1)",css:"var(--opacity-lightmodegrey-1000-10)"},lightmode_grey_1000_15:{hex:"#1b253626",rgba:"rgba(27, 37, 54, 0.15)",css:"var(--opacity-lightmodegrey-1000-15)"},lightmode_grey_1000_20:{hex:"#1b253633",rgba:"rgba(27, 37, 54, 0.2)",css:"var(--opacity-lightmodegrey-1000-20)"},lightmode_grey_1000_30:{hex:"#1b25364d",rgba:"rgba(27, 37, 54, 0.3)",css:"var(--opacity-lightmodegrey-1000-30)"},lightmode_grey_1000_60:{hex:"#1b253699",rgba:"rgba(27, 37, 54, 0.6)",css:"var(--opacity-lightmodegrey-1000-60)"},lightmode_grey_1000_80:{hex:"#1b2536cc",rgba:"rgba(27, 37, 54, 0.8)",css:"var(--opacity-lightmodegrey-1000-80)"},white_1000_00:{hex:"#ffffff00",rgba:"rgba(255, 255, 255, 0)",css:"var(--opacity-white-1000-00)"},white_1000_05:{hex:"#ffffff0d",rgba:"rgba(255, 255, 255, 0.05)",css:"var(--opacity-white-1000-05)"},white_1000_10:{hex:"#ffffff1a",rgba:"rgba(255, 255, 255, 0.1)",css:"var(--opacity-white-1000-10)"},white_1000_15:{hex:"#ffffff26",rgba:"rgba(255, 255, 255, 0.15)",css:"var(--opacity-white-1000-15)"},white_1000_20:{hex:"#ffffff33",rgba:"rgba(255, 255, 255, 0.2)",css:"var(--opacity-white-1000-20)"},white_1000_30:{hex:"#ffffff4d",rgba:"rgba(255, 255, 255, 0.3)",css:"var(--opacity-white-1000-30)"},white_1000_60:{hex:"#ffffff99",rgba:"rgba(255, 255, 255, 0.6)",css:"var(--opacity-white-1000-60)"},white_1000_80:{hex:"#ffffffcc",rgba:"rgba(255, 255, 255, 0.8)",css:"var(--opacity-white-1000-80)"}},white_1000:{hex:"#ffffff",rgba:"rgba(255, 255, 255, 1)",css:"var(--neutral-white-1000)"}},primary:{deep_orange_050:{hex:"#fef6f3",rgba:"rgba(254, 246, 243, 1)",css:"var(--primary-deeporange-050)"},deep_orange_100:{hex:"#fdede8",rgba:"rgba(253, 237, 232, 1)",css:"var(--primary-deeporange-100)"},deep_orange_1000:{hex:"#f4511c",rgba:"rgba(244, 81, 28, 1)",css:"var(--primary-deeporange-1000)"},deep_orange_200:{hex:"#fcdcd1",rgba:"rgba(252, 220, 209, 1)",css:"var(--primary-deeporange-200)"},deep_orange_300:{hex:"#fbcbbb",rgba:"rgba(251, 203, 187, 1)",css:"var(--primary-deeporange-300)"},deep_orange_400:{hex:"#fab9a4",rgba:"rgba(250, 185, 164, 1)",css:"var(--primary-deeporange-400)"},deep_orange_500:{hex:"#f9a88d",rgba:"rgba(249, 168, 141, 1)",css:"var(--primary-deeporange-500)"},deep_orange_600:{hex:"#f89676",rgba:"rgba(248, 150, 118, 1)",css:"var(--primary-deeporange-600)"},deep_orange_700:{hex:"#f78560",rgba:"rgba(247, 133, 96, 1)",css:"var(--primary-deeporange-700)"},deep_orange_800:{hex:"#f67349",rgba:"rgba(246, 115, 73, 1)",css:"var(--primary-deeporange-800)"},deep_orange_900:{hex:"#f56233",rgba:"rgba(245, 98, 51, 1)",css:"var(--primary-deeporange-900)"},royal_blue_050:{hex:"#f4f7fe",rgba:"rgba(244, 247, 254, 1)",css:"var(--primary-royalblue-050)"},royal_blue_100:{hex:"#eaeffe",rgba:"rgba(234, 239, 254, 1)",css:"var(--primary-royalblue-100)"},royal_blue_1000:{hex:"#2f63f7",rgba:"rgba(47, 99, 247, 1)",css:"var(--primary-royalblue-1000)"},royal_blue_200:{hex:"#d5dffd",rgba:"rgba(213, 223, 253, 1)",css:"var(--primary-royalblue-200)"},royal_blue_300:{hex:"#c1d0fc",rgba:"rgba(193, 208, 252, 1)",css:"var(--primary-royalblue-300)"},royal_blue_400:{hex:"#abc0fb",rgba:"rgba(171, 192, 251, 1)",css:"var(--primary-royalblue-400)"},royal_blue_500:{hex:"#97b1fb",rgba:"rgba(151, 177, 251, 1)",css:"var(--primary-royalblue-500)"},royal_blue_600:{hex:"#82a1fa",rgba:"rgba(130, 161, 250, 1)",css:"var(--primary-royalblue-600)"},royal_blue_700:{hex:"#6d92f9",rgba:"rgba(109, 146, 249, 1)",css:"var(--primary-royalblue-700)"},royal_blue_800:{hex:"#5882f8",rgba:"rgba(88, 130, 248, 1)",css:"var(--primary-royalblue-800)"},royal_blue_900:{hex:"#4472f7",rgba:"rgba(68, 114, 247, 1)",css:"var(--primary-royalblue-900)"}}}},74830:(e,t,n)=>{"use strict";n.d(t,{AG:()=>l,Rc:()=>u,YN:()=>a,ZA:()=>d,k3:()=>c});var r=n(30402),o=n(46563),i=n(79762);const s=new RegExp("^var\\(.*\\)$","i"),a=e=>{switch(e){case o.BA:return r.aj;case i.xe:return r.Uo;default:return r.DM}},l=e=>e&&e.match&&!!e.match(s)||!1,c=(e,t)=>e===r.Uo.WHITE.css&&!t,d=e=>r.Jf[e]||r.Uo[e],u=(e,t)=>(null==t?void 0:t[e])||(e=>r.DM[e])(e)||d(e)},8686:(e,t,n)=>{"use strict";n.d(t,{E7:()=>w,GN:()=>M,MD:()=>y,Sq:()=>E,Tb:()=>P,oo:()=>x,vJ:()=>A,vq:()=>N});var r=n(60519),o=n.n(r),i=n(30402);const s="([01]?\\d\\d?|2[0-4]\\d|25[0-5])",a="((?:\\d\\d?(?:\\.[0-9]*)?|100(?:.0*)?))%",l="[0-9A-Fa-f]",c=`(${l})(${l})(${l})`,d=`(${l}{2})(${l}{2})(${l}{2})`,u=`${s}, *${s}, *${s}`,m=`([0-9]+(?:.[0-9]*)?), *${a}, *${a}`,p=new RegExp(`^#${c}$`,"i"),h=new RegExp(`^#${d}$`,"i"),g=new RegExp(`^rgb\\(${u}\\)$`,"i"),f=new RegExp(`^hsl\\(${m}\\)$`,"i"),E=e=>e&&e.match&&(e.match(h)||e.match(p))||!1,v=e=>e&&e.match&&e.match(g)||!1,b=e=>e&&e.match&&e.match(f)||!1,y=e=>E(e)||b(e)||v(e),I=new RegExp(`^${u}$`,"i"),C=new RegExp(`^${m}$`,"i"),S=e=>e&&e.match&&e.match(I)||!1,T=e=>e&&e.match&&e.match(C)||!1,w=e=>E(e)||T(e)||S(e),O=new RegExp(`^#?${c}$`,"i"),_=new RegExp(`^#?${d}$`,"i"),R=e=>e&&e.match&&(e.match(_)||e.match(O))||!1,A=e=>E(e)||R(e)?i.ME.HEX:v(e)||S(e)?i.ME.RGB:b(e)||T(e)?i.ME.HSL:null,D=o()("0",2),N=([e,t,n])=>`#${[e,t,n].map((e=>D(e.toString(16)))).join("")}`,x=e=>{let t=e;const n=e.match(O);if(n){const[e,r,o,i]=n;t=(([e,t,n])=>`#${e}${e}${t}${t}${n}${n}`)([r,o,i])}const r=R(t);if(!r)return null;const[o,i,s,a]=r;return[parseInt(i,16),parseInt(s,16),parseInt(a,16)]},M=e=>{const t=v(e)||S(e);if(!t)return null;const[n,r,o,i]=t;return[parseInt(r,10),parseInt(o,10),parseInt(i,10)]},P=e=>{const t=b(e)||T(e);if(!t)return null;const[n,r,o,i]=t;return[parseInt(r,10),parseInt(o,10),parseInt(i,10)]}},8049:(e,t,n)=>{"use strict";n.d(t,{CN:()=>a,KJ:()=>c,N4:()=>d,Nd:()=>l,Xl:()=>u,i0:()=>m,yv:()=>s});var r=n(65792),o=n.n(r),i=n(30402);const s=e=>o()(e).get("hsl.l"),a=e=>o()(e).get("hsl.s"),l=(e,t)=>o().contrast(e,t)>4.5,c=e=>{try{const t=o().contrast(i.Uf,e);return t>o().contrast(i.Ru,e)}catch(t){return!0}},d=(e,t,n=.1)=>o().mix(e,t,n,"rgb").toString(),u=(e,t)=>o()(e).luminance()<o()(t).luminance(),m=e=>{try{const t=o()(e);return t.get("hsl.s")>.3&&t.get("hsl.l")>.2}catch(t){return!1}}},46716:(e,t,n)=>{"use strict";n.d(t,{AE:()=>h,TJ:()=>m,un:()=>g,yT:()=>p});var r=n(68738),o=n.n(r),i=n(8816),s=n.n(i),a=n(43831),l=n(74830),c=n(8686),d=n(18952),u=n(30402);const m=e=>(0,a.vg)("value",(0,d.Qx)(e,u.ME.HEX)),p=(e,t=u.DM)=>{if(!e)return null;if(o()(e)){const n=t[e];if(n)return n.hex;if((0,c.Sq)(e))return e}return m(e)},h=e=>{if(!e)return null;if((0,d.BD)(e))return(0,d.ko)(e);if(!o()(e))return null;if((0,c.E7)(e))return e;if((0,c.MD)(e))return s()(d.Qx,d.ko)(e);const t=(0,l.Rc)(e);return t?t.hex:null},g=e=>e?o()(e)?e:(null==e?void 0:e.name)||null:null},46563:(e,t,n)=>{"use strict";n.d(t,{BA:()=>r,Mv:()=>s,bf:()=>i,jp:()=>o});const r="COLUMN",o="Column",i="New Column",s=15},74951:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var r=n(11111);const o=e=>!(0,r.P7)(e)&&!(0,r.Ag)(e)&&!(0,r.t3)(e)},56124:(e,t,n)=>{"use strict";n.d(t,{IJ:()=>y,VK:()=>C,uE:()=>b,H_:()=>I});var r=n(19092),o=n(45575),i=n(43393),s=n(23420),a=n.n(s),l=n(67924),c=n(93011);let d=null;const u=(e=0,t=0)=>a().encode(e%l.jN)+a().encode(t%l.jN)+(0,c.Z)(a().encode((d=(d+1)%l.nc,d)),"0000");let m,p;i.Map(),i.Map();const h=()=>({clientId:u(m,p),clientTick:Math.floor(Math.random()*l.ej*.25)});var g=n(11581);class f{constructor(){this.refreshClientId()}refreshClientId(){const e=h();this.clientId=e.clientId,this.clientTick=e.clientTick}getClientId(){return this.clientId}getTick(){return this.clientTick=this.clientTick+1,this.clientTick>=l.ej&&this.refreshClientId(),this.clientTick}getElementId(){const e=this.getTick(),t=this.getClientId();return(0,g.Z)(t,e)}}let E;const v=()=>(E||(E=new f),E),b=({comments:e})=>({type:o.iO,comments:e}),y=({id:e=v().getElementId(),text:t,threadId:n,sync:i=!0,userId:s,transactionId:a})=>({_id:`${o.GS}${e}`,type:o.Eb,createdAt:(0,r.u3)(),userId:s,threadId:n,text:t,transactionId:a,sync:i}),I=({_id:e,text:t,contentUpdate:n,userId:r,sync:i=!0,transactionId:s})=>({_id:e,type:o.DE,text:t,contentUpdate:n,userId:r,transactionId:s,sync:i}),C=({_id:e,userId:t,threadId:n,sync:r=!0,transactionId:i})=>({_id:e,type:o.b$,threadId:n,userId:t,transactionId:i,sync:r})},45575:(e,t,n)=>{"use strict";n.d(t,{Bh:()=>m,DE:()=>a,Eb:()=>s,FY:()=>d,GS:()=>f,XU:()=>g,aQ:()=>h,b$:()=>l,b2:()=>c,b9:()=>u,dp:()=>o,iO:()=>i,lq:()=>r,sS:()=>p});const r="COMMENT_THREAD",o="Comment",i="COMMENTS_LOAD",s="COMMENTS_ADD",a="COMMENTS_UPDATE",l="COMMENTS_DELETE",c="COMMENTS_STOP_EDITING",d="COMMENTS_START_EDITING",u="COMMENTS_CANCEL_EDITING",m="COMMENTS_PRE_COMMIT",p="COMMENTS_CLEAR_PRE_COMMIT",h="COMMENTS_TYPING_PING",g="COMMENTS_TYPING_STOP",f="cm_"},29144:(e,t,n)=>{"use strict";n.d(t,{Em:()=>h,GK:()=>m,LG:()=>d,Q:()=>c,l3:()=>p,n5:()=>u,s3:()=>l,v2:()=>a});var r=n(43831),o=n(75763),i=n(60658),s=n(45575);const a=(0,r.vg)("_id"),l=(0,r.vg)("threadId"),c=(0,r.vg)("text"),d=(0,r.vg)("createdAt"),u=((0,r.vg)("updatedAt"),(0,r.vg)("userId")),m=(0,r.vg)("content"),p=e=>e&&e.startsWith(s.GS),h=e=>(0,o.esd)(e)&&!(0,i.Mc)(e)||(0,i.N0)(e)},48421:(e,t,n)=>{"use strict";n.d(t,{Bs:()=>c,Hj:()=>m,eu:()=>E,qE:()=>d,sI:()=>u,us:()=>f,xT:()=>g,yY:()=>p});var r=n(17351),o=n.n(r),i=n(71479),s=n.n(i),a=n(10910),l=n.n(a);const c=(e,t)=>e[t]||[],d=(e,t)=>t?t.reduce(((t,n)=>t.concat(c(e,n))),[]):[],u=(e,t,n=0,r={},o=0,i=[])=>{const s=c(e,t),a=r[t];return!s||a?i:(i.push({id:t,depth:o}),r[t]=!0,n&&o===n?i:s.reduce(((t,s)=>u(e,s,n,r,o+1,i)),i))},m=(e,t,n={},r=[])=>{if(!t)return r;const o=e[t]||[],i=n[t];return!o||i?r:(r.push(t),n[t]=!0,o.reduce(((t,o)=>m(e,o,n,r)),r))},p=(e,t)=>e&&t?e.findIndex((e=>e.id===t)):-1,h=(e,t)=>u(e,t).map((e=>e.id)),g=(e,t)=>h(e,t).slice(1),f=(e,t,n)=>{const r=g(e,t);return l()(n,r)},E=e=>{let t=Object.keys(e),n=[];const r=[];for(;t.length>0;){const i=t[0],a=h(e,i);r.push(a),n=s()(n,a),t=o()(t,n)}return r}},93034:(e,t,n)=>{"use strict";n.d(t,{T:()=>r,a:()=>o});const r=(e,t)=>{const n=[],r={};let o=e[t];for(;o&&(n.push(o),o=e[o],o);){if(r[o]){console.warn(`Infinite loop in treeUtils/getAllAncestorIds for: ${t}`);break}r[o]=!0}return n},o=(e,t)=>{const n=r(e,t);return n.unshift(t),n}},63719:(e,t,n)=>{"use strict";n.d(t,{AJ:()=>d});var r=n(89935),o=n.n(r),i=n(43831);const s=(e,t)=>({x:e,y:t}),a=o()(((e,t,n)=>e(...n.map((0,i.vg)(t))))),l=a(Math.min,"x"),c=(a(Math.max,"x"),a(Math.min,"y")),d=(a(Math.max,"y"),e=>s(l(e),c(e)))},96886:(e,t,n)=>{"use strict";n.d(t,{Cx:()=>a,H1:()=>i,Pj:()=>o,tE:()=>r,uE:()=>s});const r="DOCUMENT",o="Document",i="DOCUMENT_TITLE",s="New Document",a=60},82681:(e,t,n)=>{"use strict";n.d(t,{Mc:()=>o,Vx:()=>s,eq:()=>i});var r=n(94081);const o="ANNOTATION",i="Annotation",s=r.fi},79762:(e,t,n)=>{"use strict";n.d(t,{$F:()=>m,HH:()=>u,J$:()=>a,TH:()=>c,TL:()=>l,tf:()=>d,uX:()=>s,w:()=>p,xe:()=>i});var r=n(97245),o=n(94081);const i="SKETCH",s="Sketch",a="Sketches",l=10,c=o.fi,d=o.fi,u=r.cv,m=20.9,p=u/m},80901:(e,t,n)=>{"use strict";n.d(t,{J9:()=>i,PJ:()=>l,Z5:()=>c,ZE:()=>d,_V:()=>s,_v:()=>r,n4:()=>o,nF:()=>a});const r="AUTOUPDATE_UPDATE_INSTALL",o="AUTOUPDATE_FORCE_POLL",i="ELECTRON_APP_SLEEP",s="ELECTRON_APP_WAKE",a="ELECTRON_STORE_REHYDRATED",l="ELECTRON_APP_CLOSE_MESSAGE_SET",c="ELECTRON_APP_CLOSE_MESSAGE_CLEAR",d={NONE:void 0,CHECKING:"CHECKING",DOWNLOADING:"DOWNLOADING",READY:"READY",ERROR:"ERROR"}},23026:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});const r=e=>e.getIn(["app","electron","spellCheck"])},10305:(e,t,n)=>{"use strict";n.d(t,{Az:()=>f,SS:()=>I,TK:()=>C,Zq:()=>b,dY:()=>T,eI:()=>y,fK:()=>g,fP:()=>S,gk:()=>w,hT:()=>O,rz:()=>E,yj:()=>v});var r=n(74613),o=n.n(r),i=n(19092),s=n(89546),a=n(43831),l=n(77938),c=n(495),d=n(83547),u=n(97245),m=n(85264),p=n(50235);const h=["id","acl","sync","transactionId"];const g=e=>{const{id:t,elementType:n,location:r,content:a={},acl:l,sync:c=!0,timestamp:d,meta:m={},transactionId:p,duplicate:h,duplicatedId:g,creationSource:f,markAsFetched:E=!0}=e,v=(0,s.O4)(e),b={id:t,elementType:n,location:r,content:a,meta:m,acl:l},y=o()(v,b);return Object.assign({},y,{type:u.hA,timestamp:d||(0,i.u3)(),sync:c,transactionId:p,duplicate:h,duplicatedId:g,creationSource:f,markAsFetched:E})},f=({updates:e,undoUpdates:t,sync:n=!0,transactionId:r,silent:o,updateType:s,batchUndoActions:a,batchRedoActions:l})=>({type:u.XI,updateType:s,updates:e,batchUndoActions:a,batchRedoActions:l,undoUpdates:t,silent:o,sync:n,timestamp:(0,i.u3)(),transactionId:r}),E=({id:e,changes:t,sync:n=!0,transactionId:r,silent:o})=>(s,m)=>{const p=m(),h=(0,d.$)(p),g=(0,c.sb)(h,e),{textContent:f}=t,E=(0,a.su)(g.getIn(["content","textContent"])),v={textContent:(0,l._)(E,f)};s({type:u.Zv,id:e,changes:v,silent:o,sync:n,timestamp:(0,i.u3)(),transactionId:r})},v=({id:e,changes:t,undoChanges:n,sync:r=!0,transactionId:o,silent:i,updateType:s,meta:a,batchUndoActions:l,batchRedoActions:c})=>{const d={updateType:s,updates:[{id:e,changes:t,meta:a}],silent:i,sync:r,transactionId:o,batchUndoActions:l,batchRedoActions:c};return n&&(d.undoUpdates=[{id:e,changes:n}]),f(d)},b=({moves:e,sync:t=!0,transactionId:n,silent:r,moveOperation:o,initialMeasurements:s})=>({type:u.EY,moves:e,initialMeasurements:s,sync:t,timestamp:(0,i.u3)(),transactionId:n,moveOperation:o,monitoring:{[p.vO.OPERATION]:o}}),y=e=>{let{id:t,acl:n,sync:r=!0,transactionId:o}=e,i=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,h);return Object.assign({},i,{type:u.jY,id:t,acl:n,sync:r,transactionId:o})},I=({id:e,originalElementId:t,clonedElementType:n,sync:r=!0,transactionId:o})=>({type:u.m9,id:e,originalElementId:t,clonedElementType:n,sync:r,timestamp:(0,i.u3)(),transactionId:o}),C=({id:e,elementType:t,changes:n,undoChanges:r,sync:o=!0,transactionId:s})=>({type:u.go,id:e,elementType:t,changes:n,undoChanges:r,sync:o,timestamp:(0,i.u3)(),transactionId:s}),S=({id:e,location:t,elementType:n,sync:r=!0,transactionId:o})=>({type:u.bD,id:e,location:t,elementType:n,sync:r,transactionId:o}),T=(e={},t=[])=>({type:m.QI,elements:e,deletedElementIds:t}),w=(e={},t=[])=>({type:m.t1,elements:e,deletedElementIds:t}),O=(e,t)=>({type:m.nN,elementIds:e,boardIds:t})},97245:(e,t,n)=>{"use strict";n.d(t,{$E:()=>R,Av:()=>L,B0:()=>u,EY:()=>p,F9:()=>W,LO:()=>P,P3:()=>j,Pm:()=>Z,R7:()=>M,S1:()=>H,TQ:()=>O,UR:()=>C,Vn:()=>E,Vq:()=>N,XI:()=>s,XX:()=>k,Xn:()=>_,Zf:()=>w,Zv:()=>a,_B:()=>V,_q:()=>U,a6:()=>m,aY:()=>g,bB:()=>v,bD:()=>i,bq:()=>f,cv:()=>K,dj:()=>r,eQ:()=>G,fG:()=>y,go:()=>l,hA:()=>o,iu:()=>D,jY:()=>h,kf:()=>S,m$:()=>x,m9:()=>d,pH:()=>A,pI:()=>F,rI:()=>T,rN:()=>I,vc:()=>z,wh:()=>c,xL:()=>b});const r="ELEMENT_MOVE",o="ELEMENT_CREATE",i="ELEMENT_DELETE",s="ELEMENT_UPDATE",a="ELEMENT_DIFF_UPDATE",l="ELEMENT_SET_TYPE",c="ELEMENT_MOVE_AND_UPDATE",d="ELEMENT_CONVERT_TO_CLONE",u="ELEMENT_UNDO_CONVERT_TO_CLONE",m="ELEMENT_MARK_AS_CLONED",p="ELEMENT_MOVE_MULTI",h="ELEMENT_UPDATE_ACL",g="ELEMENT_FORCE_LOAD",f="ELEMENT_ATTACHMENT_UPLOADING",E="ELEMENT_ATTACHMENT_DATA_READY",v="ELEMENT_ATTACHMENT_CANCEL_FN_SET",b="ELEMENT_ATTACHMENT_UPLOAD_PROGRESSED",y="ELEMENT_ATTACHMENT_UPLOAD_COMPLETED",I="ELEMENT_ATTACHMENT_CLEAN",C="ELEMENT_ATTACHMENT_UPLOAD_ERROR",S="ELEMENT_ATTACHMENT_CLEAR_ERROR",T="ELEMENT_ATTACHMENT_CLEAR_ALL_ERRORS",w="ELEMENT_ATTACHMENT_PROGRESS_RESET",O="ELEMENT_ATTACHMENT_DOWNLOAD_PROGRESSED",_="ELEMENT_ATTACHMENT_DOWNLOAD_COMPLETED",R="ELEMENT_ATTACHMENT_DOWNLOADING",A="ELEMENT_ATTACHMENT_ACCEPT_UNDO",D="ELEMENT_ATTACHMENT_CANCEL_UPLOAD",N="ELEMENT_ICON_FIND",x="ELEMENT_ICON_FIND_SUCCESS",M="ELEMENT_ICON_FIND_FAILURE",P="ELEMENT_ICON_SEARCH",L="ELEMENT_SET_LOCAL_DATA_MULTI",k="ELEMENT",F="SKELETON",B="shrink",j={NONE:null,FOCUS:"filter-focus",PASS:"filter-pass",FAIL:"filter-fail"},z={IMAGE:B,BOARD:B,TRASH:B,BREADCRUMB:B,INBOX_CLOSED:B,LIST:"shrink-list",TEMPLATE_LIST:"shrink-template-list",NONE:null},U={ASSIGNMENT:"ASSIGNMENT",TOGGLE_ASSIGNMENT:"TOGGLE_ASSIGNMENT",TOGGLE_COMPLETION:"TOGGLE_COMPLETION",DUE_DATE:"DUE_DATE",TOGGLE_DUE_DATE:"TOGGLE_DUE_DATE",REACTION:"REACTION",TOGGLE_REACTION:"TOGGLE_REACTION",COLOR_SPACE:"COLOR_SPACE",CANVAS_ORIGIN:"CANVAS_ORIGIN",TABLE:"TABLE",DIFF_UPDATE_ERROR_RECOVERY:"DIFF_UPDATE_ERROR_RECOVERY"},H={SHORTCUT_KEY:"SHORTCUT_KEY",CMD_ENTER:"CMD_ENTER",DOUBLE_CLICK:"DOUBLE_CLICK",IMAGE_SEARCH:"IMAGE_SEARCH",TEMPLATE_POPUP:"TEMPLATE_POPUP",FILE_UPLOAD_POPUP:"FILE_UPLOAD_POPUP",IMAGE_UPLOAD_POPUP:"IMAGE_UPLOAD_POPUP",TOOLBAR:"TOOLBAR",DROPPED_ONTO_WINDOW:"DROPPED_ONTO_WINDOW",CONTEXT_MENU:"CONTEXT_MENU",QUICK_LINE:"QUICK_LINE",AI_ASSISTANT:"AI_ASSISTANT"},Z={DROP:"DROP",TASK:"TASK",COLLISION:"COLLISION",NUDGE:"NUDGE",ALIGN:"ALIGN",TRASH:"TRASH",CUT:"CUT",CONNECTION_TRASH:"CONNECTION_TRASH",CONNECTION_SWITCH:"CONNECTION_SWITCH",PERMANENT_DELETE:"PERMANENT_DELETE",CHANGE_ORDER:"CHANGE_ORDER",UNSORTED:"UNSORTED",REST:"REST"},G={UPLOAD:"UPLOAD",DOWNLOAD:"DOWNLOAD"},K=34,W=8,V=["textContent","tableContent"]},47404:(e,t,n)=>{"use strict";n.d(t,{HH:()=>l,n7:()=>a});n(12297);var r=n(30236),o=n.n(r),i=n(75763);n(11111),n(56860),n(93776);const s=(e=0,t=0)=>e+t,a=(e,t)=>o()(e,t,s),l=(e,t)=>{const n=(0,i.BGE)(t),r=e[n]||0;return e[n]=r+1,e}},22453:(e,t,n)=>{"use strict";n.d(t,{B:()=>o,G$:()=>i,oE:()=>r});const r={ICON_VIEW:"ICON_VIEW",DETAIL_VIEW:"DETAIL_VIEW"},o=10,i=14},89546:(e,t,n)=>{"use strict";n.d(t,{Az:()=>b,Gk:()=>v,O4:()=>d,Pc:()=>f,Pj:()=>I,QS:()=>c,Z7:()=>E,g6:()=>g,kw:()=>y,p_:()=>u,qr:()=>h,ri:()=>m,sL:()=>p});var r=n(52628),o=n.n(r),i=(n(3674),n(13218),n(36309));const s=["elementType","displayName","displayNamePlural","objectConstructorFn","containerComponent","presentationalComponent","modalComponent","toStringFn","tools","selectedTools","editingTools","editingRangeTools","features","editPermission","savePermission","showTool"];let a={};const l=e=>{const t=a[e];return t||console.error(`Unknown element type: ${e}`),t},c=e=>{let{elementType:t,displayName:n,displayNamePlural:r,objectConstructorFn:o,containerComponent:l,presentationalComponent:c,modalComponent:d,toStringFn:u,tools:m,selectedTools:p,editingTools:h,editingRangeTools:g,features:f,editPermission:E=i.Ou.WRITE,savePermission:v=i.Ou.SAVE,showTool:b=!0}=e,y=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,s);const I=a[t]||{};a[t]=Object.assign({},I,{elementType:t,displayName:n,displayNamePlural:r,objectConstructorFn:o,containerComponent:l,presentationalComponent:c,modalComponent:d,toStringFn:u,tools:m,selectedTools:p,editingTools:h,editingRangeTools:g,features:f,showTool:b,editPermission:E,savePermission:v},y)},d=e=>{const t=l(e.elementType);return t&&t.objectConstructorFn(e)},u=e=>l(e)&&l(e).tools,m=e=>l(e)&&l(e).selectedTools||[],p=(e,t="")=>{const n=l(e);return n&&(n[`editingTools_${t}`]||n.editingTools)||[]},h=(e,t="")=>{const n=l(e);return n&&(n[`editingRangeTools_${t}`]||n.editingRangeTools)||[]},g=e=>l(e)&&l(e).containerComponent,f=e=>l(e)&&l(e).presentationalComponent,E=e=>l(e)&&l(e).modalComponent,v=()=>o()(a),b=()=>a,y=e=>l(e)&&l(e).displayName,I=e=>l(e)&&l(e).displayNamePlural},85264:(e,t,n)=>{"use strict";n.d(t,{QI:()=>r,mH:()=>s,nN:()=>o,t1:()=>i});const r="ELEMENTS_LOAD",o="ELEMENTS_PURGE",i="ELEMENTS_LOAD_INTO_WORKER_CACHE",s="ELEMENTS_RESET_SCORES"},43236:(e,t,n)=>{"use strict";n.d(t,{Je:()=>d,XL:()=>c,xU:()=>p});var r=n(42981),o=n.n(r),i=n(31351),s=n.n(i),a=n(96026),l=n.n(a);const c=65536,d=e=>{const t=[];for(let n=0;n<e;n++)t[n]=n*c;return t},u=(e,t,n)=>null==t?c:null==e?-c:(t-e)/(n+1),m=(e,t,n)=>null==e&&null==t?0:null==e?t+n:e+n,p=(e,t,n)=>{const r=o()(0,e.length,t),i=e[r-1],a=e[r],c=u(i,a,n),d=m(i,a,c);if(d===i||d===a)return null;const p=d+n*c;return c<0?s()(l()(d,p,c)):l()(d,p,c)}},10808:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(19092),o=n(74657);const i=({userId:e,sync:t=!0})=>({type:o.zf,timestamp:(0,r.u3)(),user:{_id:e},sync:t})},74657:(e,t,n)=>{"use strict";n.d(t,{TR:()=>l,V6:()=>i,_:()=>o,t0:()=>r,xy:()=>s,zf:()=>a});const r="ELEMENT_EDIT_START",o="ELEMENT_EDIT_COMPLETE",i="ELEMENTS_SELECTED",s="ELEMENTS_DESELECTED",a="ELEMENTS_DESELECT_ALL",l="TABLE_ELEMENT_CELL_SELECTIONS_UPDATE"},51356:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var r=n(11111),o=n(36219),i=n(75763);const s=e=>e.reduce(((e,t)=>(0,r.pi)(t)?(e.push({id:(0,i.nRF)(t),title:(0,i.YQ0)(t),color:(0,i.Lq4)(t),isTemplate:!!(0,o.e7)(t)||void 0}),e):e),[])},8698:(e,t,n)=>{"use strict";n.d(t,{Fd:()=>s,KX:()=>l});var r=n(75763),o=n(11111),i=n(22453);const s=(a=i.oE.ICON_VIEW,e=>(0,r.olH)(e)===a);var a;const l=e=>(0,o.v8)(e)||s(e)},90693:(e,t,n)=>{"use strict";n.d(t,{Bj:()=>T,CB:()=>E,Ff:()=>b,I5:()=>I,Jc:()=>f,QF:()=>C,UF:()=>v,uV:()=>y,vp:()=>S});n(63772);var r=n(7108),o=n.n(r),i=n(80369),s=n.n(i),a=n(17351),l=n.n(a),c=n(43831),d=n(495),u=n(75763),m=n(11111),p=n(48421),h=n(95521),g=n(60658);const f=({elements:e})=>e.reduce(((e,t)=>{const n=(0,u.CKs)(t);return e[n]=e[n]||[],e[n].push((0,u.nRF)(t)),e}),{}),E=({elements:e,elementGraph:t,parentId:n})=>{const r=(0,p.Bs)(t,n);return(0,c.yS)(r,e)},v=({elements:e,elementGraph:t,parentId:n})=>E({elements:e,elementGraph:t,parentId:n}).filter(g.PY),b=({elements:e,elementGraph:t,parentId:n})=>E({elements:e,elementGraph:t,parentId:n}).filter(g.Mc),y=({elements:e,elementGraph:t,parentId:n,section:r,sortFn:o})=>(0,h.Ne)({elements:E({elements:e,elementGraph:t,parentId:n}),sortFn:o,section:r}),I=({elements:e,elementGraph:t,elementId:n,sortFn:r})=>{const o=(0,d.sb)(e,n),i=(({elements:e,elementGraph:t,elementId:n,sortFn:r})=>{const o=(0,d.sb)(e,n),i=E({elements:e,elementGraph:t,parentId:(0,u.CKs)(o)});return r?i.sort(r):i})({elements:e,elementGraph:t,elementId:n,sortFn:r}).toList(),s=i.indexOf(o);return s>0?i.get(s-1):null},C=({elements:e,elementGraph:t,parentId:n})=>{const r=(0,p.xT)(t,n);return(0,c.yS)(r,e)},S=({elements:e,elementGraph:t,startElementId:n,visited:r={},graph:i={},elementSortFn:a})=>{if(r[n])return i;if(!(0,d.sb)(e,n))return i;let c=E({elements:e,elementGraph:t,parentId:n});c=a?c.sort(a):c;const p=c.map(u.nRF).filter(s()(o())).toArray();r[n]=!0,i[n]=p;const h=c.filter(m.Nm).map(u.nRF).filter(s()(o())).toArray();return l()(p,h).forEach((e=>{i[e]=[]})),h.reduce(((n,o)=>S({elements:e,elementGraph:t,startElementId:o,visited:r,graph:i,elementSortFn:a})),i)},T=e=>{const t={},n={},r={},o={};return e.forEach((e=>{if((0,m.t3)(e)){const t=(0,u.nRF)(e);r[t]=(0,u.CKs)(e)}else if((0,m.lA)(e)){const n=(0,u.Sb0)(e);t[n]=t[n]||[];const r=(0,u.CKs)(e);t[n].push(r)}else if((0,m.pi)(e)){const t=(0,u.nRF)(e);n[t]=!0}})),e.forEach((e=>{const r=(0,u.nRF)(e),i=t[r];if(!i)return;const s=(0,u.CKs)(e);n[s]&&i.push(s),o[r]=i})),{columnIdToParentBoardIdMap:r,elementIdToVirtualParentIdsMap:o}}},60658:(e,t,n)=>{"use strict";n.d(t,{CU:()=>k,JC:()=>C,Mc:()=>R,N0:()=>O,O3:()=>w,OA:()=>S,PY:()=>_,Rj:()=>N,dY:()=>z,fH:()=>F,fX:()=>x,i$:()=>M,jP:()=>A,mK:()=>P,nV:()=>D,pO:()=>B});var r=n(28252),o=n.n(r),i=n(27617),s=n.n(i),a=n(39974),l=n.n(a),c=n(88846),d=n.n(c),u=n(8816),m=n.n(u),p=n(30179),h=n.n(p),g=n(20354),f=n(11111),E=n(495),v=n(75763),b=n(19092),y=n(56860),I=n(33853);const C=e=>t=>(0,v.PRW)(t)===e,S=C(y.WI.DELETED),T=C(y.WI.TRASH),w=e=>T(e)||S(e),O=C(y.WI.ATTACHED),_=C(y.WI.CANVAS),R=C(y.WI.INBOX),A=e=>!0===(0,v.Jbb)(e),D=e=>t=>R(t)&&(0,f.t3)((0,E.G_)(e,t)),N=(e,t)=>n=>{const r=(0,E.G_)(e,n);return R(n)&&(0,v.CKs)(n)===t||R(r)&&(0,v.CKs)(r)===t},x=e=>e.length&&m()(d()(v.F7m),l())(e),M=e=>e.length&&m()(d()(v.F7m),s())(e),P=({listId:e,index:t=0})=>({parentId:e,section:y.WI.INBOX,position:{index:t}}),L=h()(y.tr),k=e=>e&&e.replace(y.tr,""),F=e=>{const t=L(e);if(t){const t='A "-trash" location is being added to a trash board ID';console.warn(t,e,Error().stack),(0,g.vl)({errorMessage:t,level:I.n.WARNING,error:{code:"CUSTOM",boardId:e,stack:Error().stack}})}return t?e:(e=>`${e}${y.tr}`)(e)},B=({currentBoardId:e,addedDate:t=(0,b.u3)()})=>({parentId:F(e),section:y.WI.TRASH,position:{addedDate:t}}),j=o()(["location","position","restoreLocation"]),z=(o()(["location","position","addedDate"]),e=>w(e)?j(e.from,e):e)},76095:(e,t,n)=>{"use strict";n.d(t,{CR:()=>p,Mb:()=>h,PF:()=>g});var r=n(89935),o=n.n(r),i=n(46488),s=n.n(i),a=n(25309),l=n.n(a),c=n(43831),d=n(75763),u=n(495);const m=o()(((e,t,n)=>{const r={};let o=(0,u.sb)(t,n);for(;o;){e(o,t);const i=(0,d.CKs)(o);if(o=(0,u.sb)(t,i),r[i]){console.warn(`Infinite loop in forEachBranchElement for: ${n}`);break}r[i]=!0}})),p=o()(((e,t,n)=>{const r=[];return m(((t,n)=>{r.push(e(t,n))}),t,n),r}))(s()),h=o()(((e,t,n,r)=>p(n,r).reduce(e,l()(t)))),g=o()(((e,t,n,r)=>h(((r,o)=>{const i=e(o,r,n);return(0,c.NW)(((e,n,r)=>t(e,o,n,r)),r,i)}),{},n,r)))},78210:(e,t,n)=>{"use strict";n.d(t,{DW:()=>c,FQ:()=>a,LO:()=>p,RQ:()=>u,an:()=>d,dM:()=>m,h:()=>l,yp:()=>s});var r=n(40565),o=n(60658),i=n(75763);const s={x:0,y:0},a=-500,l=0,c=1e4,d=100,u=(e,t,n)=>r.bA(n,((e,t=s)=>r.e5(t,e))(e,t)),m=e=>e.reduce(((e,t)=>{const n=(0,i.oNe)(t),r=(0,i.uLQ)(t);return n<e.x&&(e.x=n),r<e.y&&(e.y=r),e}),{x:1/0,y:1/0});function p(e){if(null==e||!e.location)return e;if(!(0,o.PY)(e))return e;const t=(0,i.oNe)(e),n=(0,i.uLQ)(e);return Number.isInteger(t)&&Number.isInteger(n)?e:Object.assign({},e,{location:Object.assign({},e.location,{position:Object.assign({},e.location.position,{x:Math.round(t),y:Math.round(n)})})})}},75763:(e,t,n)=>{"use strict";n.d(t,{A$$:()=>pe,A7z:()=>Q,AU0:()=>gt,B3m:()=>ct,BGE:()=>m,C0q:()=>Ge,CKs:()=>I,CYk:()=>Ht,Cch:()=>we,Cmh:()=>be,DCx:()=>q,DPh:()=>jt,Dxk:()=>v,E1L:()=>ke,F7m:()=>A,FBA:()=>te,FX_:()=>w,G8z:()=>u,GAd:()=>f,Gvb:()=>Ze,Gzf:()=>E,H8y:()=>h,HU5:()=>At,H_f:()=>et,IJe:()=>y,Ic2:()=>$e,IrM:()=>$t,J43:()=>g,JBL:()=>It,JT3:()=>Pe,JWl:()=>ne,JbF:()=>_t,Jbb:()=>S,JxE:()=>d,K8:()=>yt,KTp:()=>J,KqD:()=>He,L3_:()=>wt,L5g:()=>L,LQZ:()=>Rt,LWs:()=>rt,Lks:()=>_,Lq4:()=>z,NO5:()=>zt,NaL:()=>k,Ngj:()=>Ft,Nzy:()=>ft,ON9:()=>Ot,OY1:()=>Ne,Oh5:()=>xt,PBx:()=>N,PRW:()=>T,PlF:()=>Ee,Pqp:()=>Dt,Q5Y:()=>$,QI4:()=>Te,R$W:()=>ce,R03:()=>_e,RLN:()=>H,RvU:()=>Z,SJ9:()=>Ut,SLC:()=>Vt,Sb0:()=>l,Sw1:()=>Mt,TjO:()=>Y,Tt_:()=>c,U3W:()=>Ye,UwW:()=>le,V$E:()=>Ke,V4D:()=>De,VWX:()=>qt,VjH:()=>p,Vu1:()=>Ve,Wt9:()=>ht,XNn:()=>de,XSh:()=>lt,XV9:()=>it,Xdc:()=>Je,XfM:()=>b,YQ0:()=>B,YmW:()=>Gt,Yo_:()=>Zt,_4D:()=>ve,_Ap:()=>Bt,_Nr:()=>tt,aDg:()=>Nt,aK5:()=>Ce,bAH:()=>D,bti:()=>x,cOT:()=>F,cQ0:()=>G,cwh:()=>ye,dFx:()=>qe,dS2:()=>st,dzi:()=>V,eVc:()=>se,esd:()=>Tt,fa0:()=>Xe,h3z:()=>Oe,hN:()=>ze,hRX:()=>vt,ipg:()=>ut,jcm:()=>Yt,k4p:()=>Wt,kKk:()=>oe,m$1:()=>ee,m_A:()=>xe,nM0:()=>ge,nMc:()=>he,nRF:()=>a,ncQ:()=>X,oCs:()=>ue,oNe:()=>P,olH:()=>re,omV:()=>Ae,ov8:()=>ot,pww:()=>U,q7_:()=>K,qEr:()=>C,qat:()=>fe,qmF:()=>bt,qpH:()=>Ie,rJG:()=>Be,rZ9:()=>Lt,rtd:()=>Kt,rwk:()=>Fe,s36:()=>St,sxe:()=>Se,tyq:()=>ae,u$E:()=>Re,u3P:()=>j,uLQ:()=>M,u_:()=>at,un1:()=>Me,v9c:()=>mt,vbV:()=>pt,vjE:()=>nt,vt7:()=>Et,vyv:()=>We,x7o:()=>dt,xH:()=>Qe,xTd:()=>Le,xwm:()=>O,yAS:()=>Ue,yEU:()=>Pt,yL2:()=>je,yXy:()=>W,yvq:()=>Xt,ywY:()=>me,zI$:()=>Ct,zYj:()=>kt});var r=n(68738),o=n.n(r),i=n(43831),s=n(11111);const a=e=>e&&e.get&&(e.get("id")||e.get("_id"))||e&&(e._id||e.id),l=(0,i.P2)(["content","linkTo"]),c=(0,i.P2)(["content","linkAlias"]),d=(0,i.P2)(["content","permissionId"]),u=e=>(0,s.lA)(e)||(0,s.vu)(e)?l(e):a(e),m=e=>o()(e)?e:(0,i.vg)("elementType",e),p=(0,i.vg)("acl"),h=(0,i.P2)(["meta","creator"]),g=(0,i.P2)(["meta","modifiedBy"]),f=(0,i.P2)(["meta","modifiedTime"]),E=((0,i.P2)(["meta","aclModifiedTime"]),(0,i.P2)(["meta","significantModified"]),(0,i.P2)(["meta","createdTime"])),v=(0,i.P2)(["meta","tempId"]),b=(0,i.P2)(["meta","platform"]),y=(0,i.P2)(["meta","versionId"]),I=e=>{var t;return e&&((null===(t=e.location)||void 0===t?void 0:t.parentId)||e.getIn&&e.getIn(["location","parentId"]))},C=(0,i.vg)("location"),S=(0,i.P2)(["location","rootBoard"]),T=(0,i.P2)(["location","section"]),w=(0,i.P2)(["location","position"]),O=(0,i.P2)(["location","position","restoreLocation"]),_=((0,i.P2)(["location","position","restoreLocation","parentId"]),(0,i.P2)(["location","position","addedDate"])),R=(0,i.P2)(["location","position","score"]),A=e=>R(e)||0,D=(0,i.P2)(["location","position","index"]),N=e=>(0,i.P2)(["location","position","order"],e)||0,x=e=>t=>(0,i.P2)(["location","position",e],t)||0,M=x("y"),P=x("x"),L=((0,i.P2)(["location","position","deletedDate"]),(0,i.P2)(["content"])),k=(0,i.P2)(["content","inbox"]),F=(0,i.P2)(["content","locked"]),B=(0,i.P2)(["content","title"]),j=(0,i.P2)(["content","showTitle"]),z=(0,i.P2)(["content","color"]),U=(0,i.P2)(["content","secondaryColor"]),H=((0,i.P2)(["content","colorComboList"]),(0,i.P2)(["content","color","space"])),Z=(0,i.P2)(["content","color","value"]),G=(0,i.P2)(["content","showColorValue"]),K=(0,i.P2)(["content","icon"]),W=(0,i.P2)(["content","icon","id"]),V=((0,i.P2)(["content","icon","type"]),(0,i.P2)(["content","width"])),$=((0,i.P2)(["content","height"]),(0,i.P2)(["content","minHeight"])),q=(0,i.P2)(["content","maxHeight"]),Y=(0,i.P2)(["content","autoHeight"]),X=e=>B(e)||(0,i.P2)(["content","link","title"])(e),Q=(0,i.P2)(["content","showCaption"]),J=(0,i.P2)(["content","caption"]),ee=(0,i.P2)(["content","captionModified"]),te=(0,i.P2)(["content","textContent"]),ne=(0,i.P2)(["content","keywords"]),re=((0,i.P2)(["content","attachmentId"]),(0,i.P2)(["content","displayMode"])),oe=(0,i.P2)(["content","inboxAutomaticOpenTimestamp"]),ie={x:0,y:0},se=e=>(0,i.P2)(["content","canvasOrigin"],e)||ie,ae=((0,i.P2)(["content","previousCanvasOrigin"]),(0,i.P2)(["content","link"])),le=(0,i.P2)(["content","link","url"]),ce=(0,i.P2)(["content","linkType"]),de=(0,i.P2)(["content","link","favicon"]),ue=e=>!!(0,i.P2)(["content","ignoreAutoType"],e),me=(0,i.P2)(["content","image"]),pe=(0,i.P2)(["content","image","regular"]),he=((0,i.P2)(["content","image","huge"]),(0,i.P2)(["content","image","large"]),(0,i.P2)(["content","image","original"])),ge=(0,i.P2)(["content","image","thumb"]),fe=(0,i.P2)(["content","image","error"]),Ee=(0,i.P2)(["content","image","width"]),ve=(0,i.P2)(["content","image","height"]),be=(0,i.P2)(["content","showBackground"]),ye=(0,i.P2)(["content","image","isDataUri"]),Ie=(0,i.P2)(["content","image","colors"]),Ce=((0,i.P2)(["content","image","primaryColor"]),e=>!!(0,i.P2)(["content","image","transparent"],e)),Se=e=>!v(e)||(0,i.OE)(me(e))>0,Te=e=>!!(0,i.P2)(["content","showFullAspectRatio"],e),we=(0,i.P2)(["content","imageOriginal"]),Oe=e=>!1!==(0,i.P2)(["content","showMedia"],e),_e=(0,i.P2)(["content","mediaPlayerLoop"]),Re=(0,i.P2)(["content","mediaPlayerAutoplay"]),Ae=(0,i.P2)(["content","media"]),De=(0,i.P2)(["content","mediaType"]),Ne=(0,i.P2)(["content","media","width"]),xe=(0,i.P2)(["content","media","height"]),Me=(0,i.P2)(["content","media","originalWidth"]),Pe=(0,i.P2)(["content","media","originalHeight"]),Le=(0,i.P2)(["content","previewReady"]),ke=(0,i.P2)(["content","audioOnly"]),Fe=e=>!!(0,i.P2)(["content","publicEditEnabled"],e),Be=((0,i.P2)(["content","publicEditEnabledTimestamp"]),(0,i.P2)(["content","publishedFeedbackEnabled"])),je=(0,i.P2)(["content","publishedMediaDownloadDisabled"]),ze=e=>!!(0,i.P2)(["content","publishedPasswordProtected"],e),Ue=e=>!!(0,i.P2)(["content","published"],e),He=(0,i.P2)(["content","welcomeMessage"]),Ze=e=>!!(0,i.P2)(["content","welcomeMessage","enabled"],e),Ge=(0,i.P2)(["content","welcomeMessage","textContent"]),Ke=(0,i.P2)(["content","welcomeMessage","modifier"]),We=e=>!!(0,i.P2)(["content","embedGenerated"],e),Ve=(0,i.P2)(["content","background"]),$e=((0,i.P2)(["content","background","hideImage"]),(0,i.P2)(["content","background","showGrid"])),qe=(0,i.P2)(["content","background","color"]),Ye=(0,i.P2)(["content","autoColorIndex"]),Xe=(0,i.P2)(["content","defaultColorPalette"]),Qe=(0,i.P2)(["content","start"]),Je=(0,i.P2)(["content","start","elementId"]),et=e=>!!(0,i.P2)(["content","start","snapped"],e),tt=e=>(0,i.P2)(["content","start","x"],e),nt=e=>(0,i.P2)(["content","start","y"],e),rt=(0,i.P2)(["content","end"]),ot=(0,i.P2)(["content","end","elementId"]),it=e=>!!(0,i.P2)(["content","end","snapped"],e),st=e=>(0,i.P2)(["content","end","x"],e),at=e=>(0,i.P2)(["content","end","y"],e),lt=e=>et(e)||it(e),ct=(0,i.P2)(["content","control"]),dt=(0,i.P2)(["content","startStyle"]),ut=(0,i.P2)(["content","endStyle"]),mt=(0,i.P2)(["content","lineStyle"]),pt=(0,i.P2)(["content","lineWeight"]),ht=(0,i.P2)(["content","lineLabel"]),gt=e=>!!(0,i.P2)(["content","lineLabelEnabled"],e),ft=(0,i.P2)(["content","file"]),Et=(0,i.P2)(["content","file","filename"]),vt=(0,i.P2)(["content","file","size"]),bt=(0,i.P2)(["content","file","url"]),yt=(0,i.P2)(["content","file","mime"]),It=(0,i.P2)(["content","file","type"]),Ct=(0,i.P2)(["content","file","uploadedTimestamp"]),St=(0,i.P2)(["content","threadId"]),Tt=(0,i.P2)(["content","collapsed"]),wt=(0,i.P2)(["content","originalTitle"]),Ot=(0,i.P2)(["content","originalColor"]),_t=(0,i.P2)(["content","originalSecondaryColor"]),Rt=(0,i.P2)(["content","originalIcon"]),At=(0,i.P2)(["content","originalImage"]),Dt=((0,i.P2)(["content","originalImage","original"]),(0,i.P2)(["content","originalImage","regular"]),(0,i.P2)(["content","originalImage","large"]),(0,i.P2)(["content","originalImage","huge"]),e=>!!(0,i.P2)(["content","isComplete"],e)),Nt=e=>!!(0,i.P2)(["content","showAssignments"],e),xt=(0,i.P2)(["content","assignments"]),Mt=e=>!!(0,i.P2)(["content","showDueDate"],e),Pt=e=>!!(0,i.P2)(["content","hasDueDateTime"],e),Lt=(0,i.P2)(["content","dueDate"]),kt=(0,i.P2)(["content","dueReminder"]),Ft=(0,i.P2)(["content","dueReminderTimestamp"]),Bt=(0,i.P2)(["content","drawing"]),jt=(0,i.P2)(["content","drawing","svg"]),zt=(0,i.P2)(["content","drawing","width"]),Ut=(0,i.P2)(["content","drawing","height"]),Ht=e=>!!(0,i.P2)(["content","transparent","enabled"],e),Zt=((0,i.P2)(["content","drawingMode"]),e=>!!(0,i.P2)(["content","hasDrawing"],e)),Gt=(0,i.P2)(["content","reactions"]),Kt=e=>!!(0,i.P2)(["content","hasClones"],e),Wt=(0,i.P2)(["content","clonedElementType"]),Vt=(0,i.P2)(["content","tableContent"]),$t=(0,i.P2)(["content","tableContent","data"]),qt=({row:e,col:t})=>(0,i.P2)(["content","tableContent","data",e,t,"textStyle"]),Yt=({row:e,col:t})=>(0,i.P2)(["content","tableContent","data",e,t,"verticalAlignment"]),Xt=(0,i.P2)(["content","tableContent","colWidthsGU"])},95521:(e,t,n)=>{"use strict";n.d(t,{Ne:()=>d,Q4:()=>s,Ye:()=>a,bj:()=>i,qM:()=>l,qp:()=>c});var r=n(75763),o=n(60658);const i=(e,t)=>(0,r.F7m)(e)-(0,r.F7m)(t),s=(e,t)=>((0,r.GAd)(e)||0)-((0,r.GAd)(t)||0),a=(e,t)=>((0,r.Gzf)(e)||0)-((0,r.Gzf)(t)||0),l=(e,t)=>{const n=(0,r.uLQ)(e)-(0,r.uLQ)(t);return 0!==n?n:(0,r.oNe)(e)-(0,r.oNe)(t)},c=(e,t)=>{const n=(0,r.cOT)(e),o=(0,r.cOT)(t);if(n&&!o)return-1;if(o&&!n)return 1;const a=i(e,t);if(0!==a)return a;const c=s(e,t);if(Math.abs(c)>2)return c;const d=(u=e,m=t,(0,r.PBx)(u)-(0,r.PBx)(m));var u,m;return 0!==d?d:l(e,t)},d=({elements:e,section:t,sortFn:n=i})=>e.valueSeq().filter((0,o.JC)(t)).sort(n)},13608:(e,t,n)=>{"use strict";n.d(t,{EB:()=>u,a$:()=>d,mK:()=>m,nZ:()=>h,p5:()=>p});var r=n(19092),o=n(43831),i=n(79319),s=n(60658),a=n(75763),l=(n(59551),n(46563));n(56860),n(94081),n(6690),n(93776),n(91727),n(82681);const c=e=>{if(!(0,a.A7z)(e))return!1;const t=(0,a.KTp)(e);return(0,i.Z)(t)},d=e=>{const t=(0,a.FBA)(e);return!!(0,i.Z)(t)||c(e)},u=e=>{const t=(0,a.YQ0)(e);return!(0,o.xb)(t)&&t!==l.bf},m=e=>{const t=(0,a.ywY)(e);return!(0,o.xb)(t)||c(e)},p=e=>!!(0,a.UwW)(e),h=e=>(0,s.dY)({id:(0,a.nRF)(e),location:(0,s.pO)({currentBoardId:(0,a.CKs)(e),addedDate:(0,r.u3)()}),from:(0,o.su)((0,a.qEr)(e))})},495:(e,t,n)=>{"use strict";n.d(t,{Bt:()=>y,G:()=>w,G_:()=>u,QZ:()=>S,T_:()=>v,U_:()=>g,YS:()=>m,Zr:()=>h,ed:()=>b,g5:()=>_,hC:()=>A,hh:()=>T,jg:()=>C,jz:()=>f,re:()=>p,sb:()=>d,uV:()=>I});var r=n(68738),o=n.n(r),i=n(43831),s=n(60658),a=n(75763),l=n(11111),c=n(67924);const d=(e,t)=>e.get?e.get(t):e[t],u=(e,t)=>{const n=o()(t)?d(e,t):t;return(0,i.vg)((0,a.CKs)(n),e)},m=e=>function t(n,r,o=0){const i=d(n,r);return i?o===e?i:(0,s.jP)(i)?null:t(n,(0,a.CKs)(i),o+1):null},p=m(2),h=e=>(t,n)=>{const r={};let o=(0,i.vg)(n,t);for(;o&&(0,a.CKs)(o)&&!e(o,t,n)&&(o=u(t,o),!r[(0,a.nRF)(o)]);)r[(0,a.nRF)(o)]=!0;return e(o,t,n)?(0,a.nRF)(o):null},g=(h((e=>(0,a.VjH)(e))),(e,t)=>!!h(s.O3)(e,t)),f=(E=l.pi,h(((e,t,n)=>E(e,t,n)&&(0,a.nRF)(e)!==n)));var E;const v=h(l.pi),b=h(l.k8),y=h(((e,t)=>{const n=(0,a.CKs)(e),r=d(t,n);return(0,l.pi)(r)})),I=(e,t)=>{const n=[];let r=(0,i.vg)(t,e);const o={[t]:!0};for(;r;){n.push(r);let i=(0,a.CKs)(r);if(i=i&&i.length>c.xj+1?(0,s.CU)(i):i,o[i]){console.warn(`Infinite loop in getPhysicalAncestors for: ${t}`);break}o[i]=!0,r=d(e,i)}return n},C=(e,t)=>I(e,t).map(a.nRF),S=(e,t)=>{if(!e)return!1;let n=d(e,t);if(!n)return!1;const r={};let o=!0,i=n;for(;n&&o;){o=o&&!!(0,a.qEr)(n),i=n;const t=(0,a.CKs)(n);if(n=d(e,t),r[t]){console.warn(`Infinite loop in hasRetrievedAllAncestors for: ${t}`);break}r[t]=!0}return(0,s.jP)(i)&&o},T=(e,t,n)=>{const r={};let o=0,s=n,l=(0,i.vg)(s,e);for(;l&&(0,a.CKs)(l)&&s!==t&&(l=u(e,l),s=(0,a.nRF)(l),o++,!r[s]);)r[s]=!0;return s!==t?-1:o},w=(e,t)=>e.filter((e=>(0,a.nRF)(e)&&(0,a.CKs)(e)===t)),O=h((e=>!e||(!!(0,s.O3)(e)||(0,a.Jbb)(e)))),_=(e,t)=>!O(e,t),R=h(((e,t)=>{const n=(0,a.CKs)(e);return!d(t,n)})),A=(e,t)=>{const n=R(e,t);return(0,a.CKs)(d(e,n))}},80583:(e,t,n)=>{"use strict";n.d(t,{mN:()=>m,rA:()=>u,rS:()=>p});var r=n(89935),o=n.n(r),i=n(52432),s=n(75763),a=n(45575),l=n(82681),c=n(97245),d=n(36309);const u=e=>{switch((0,s.BGE)(e)){case a.lq:case l.Mc:case c._q.REACTION:case c._q.TOGGLE_REACTION:return d.Ou.FEEDBACK;default:return d.Ou.SAVE}},m=o()(((e,t)=>(0,i.Fs)((e=>{switch((0,s.BGE)(e)){case a.lq:case l.Mc:case c._q.REACTION:case c._q.TOGGLE_REACTION:return d.Ou.FEEDBACK;default:return d.Ou.WRITE}})(t),e))),p=o()(((e,t)=>(0,i.Fs)(u(t),e)))},11111:(e,t,n)=>{"use strict";n.d(t,{Ag:()=>z,Bn:()=>V,F_:()=>w,Fo:()=>G,Hu:()=>C,Iw:()=>U,JM:()=>W,N2:()=>N,Nm:()=>q,Or:()=>R,P7:()=>j,PG:()=>Z,Se:()=>x,Y$:()=>$,k5:()=>M,k8:()=>D,lA:()=>k,ph:()=>T,pi:()=>B,qk:()=>O,rf:()=>Y,t3:()=>L,u$:()=>_,v8:()=>H,vu:()=>F,wb:()=>P,y2:()=>K,zE:()=>A});var r=n(75763),o=n(93776),i=n(56860),s=n(46563),a=n(76491),l=n(6690),c=n(59551),d=n(97245),u=n(94081),m=n(91727),p=n(45575),h=n(75188),g=n(73440),f=n(1266),E=n(79762),v=n(82681),b=n(11535),y=n(96886),I=n(54301);const C=[o.C,i.V_,s.BA,a.WK,l.xE,c.H3,u.nr,m.Gk,p.lq,h.Kl,g.A,f.X,E.xe,v.Mc,b.KY,y.tE,I.vj],S=e=>t=>(0,r.BGE)(t)===e,T=S(d.pI),w=S(a.WK),O=S(y.tE),_=S(l.xE),R=S(u.nr),A=S(m.Gk),D=S(h.Kl),N=S(g.A),x=S(E.xe),M=S(b.KY),P=S(I.vj),L=S(s.BA),k=S(o.C),F=S(f.X),B=S(i.V_),j=S(c.H3),z=S(v.Mc),U=S(p.lq),H=e=>B(e)||k(e),Z=e=>D(e)||N(e),G=e=>O(e)||F(e)&&(0,r.k4p)(e)===y.tE,K=e=>x(e)||z(e),W=e=>w(e)||O(e)||F(e),V=e=>L(e)||D(e)||N(e),$=e=>V(e)||w(e)||O(e)||_(e)||R(e)||A(e)||x(e)||M(e)||P(e),q=e=>B(e)||k(e)||L(e)||D(e)||N(e),Y=e=>{switch((0,r.BGE)(e)){case b.KY:case a.WK:case y.tE:case l.xE:case u.nr:case m.Gk:case h.Kl:case E.xe:case I.vj:return!0;default:return!1}}},45446:(e,t,n)=>{"use strict";n.d(t,{fH:()=>s,gF:()=>i});var r=n(66705),o=n(75763);n(89030);const i=e=>t=>(0,r.qp)((0,o.J43)(t))===(0,r.qp)(e),s=e=>t=>(0,r.qp)((0,o.H8y)(t))===(0,r.qp)(e)},41748:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(57557),o=n.n(r),i=n(74322);function s(e){Error.call(this,e.message),Error.captureStackTrace(this,this.constructor),this.name=e.name||"ApplicationError",this.message=e.message,this.code=e.code,this.type=e.type,this.status=e.status||i.y3,this.details=e.details,this.inner=o()(e,["status","code","message","name","details"])}s.prototype=Object.create(Error.prototype),s.prototype.constructor=s;const a=s},25841:(e,t,n)=>{"use strict";function r(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let o;n.d(t,{B:()=>o,Z:()=>i}),function(e){e.MAX_SIZE="MAX_SIZE",e.INVALID_TYPE="INVALID_TYPE",e.NO_FILE="NO_FILE",e.NO_FILENAME="NO_FILENAME",e.INVALID_FILENAME="INVALID_FILENAME",e.INVALID_EXTENSION="INVALID_EXTENSION"}(o||(o={}));class i extends Error{constructor(e){super(e.message),r(this,"error",void 0),r(this,"code",void 0),r(this,"explanation",void 0),r(this,"details",void 0),this.error=!0,this.code=e.code,this.message=e.message,this.explanation=e.explanation,this.details=e.details}}r(i,"type","VALIDATION")},23865:(e,t,n)=>{"use strict";n.d(t,{Bu:()=>l,RZ:()=>s,SQ:()=>i,uL:()=>o,ws:()=>c,zA:()=>a});var r=n(14927);const o={GENERIC_ERROR:"GENERIC_ERROR",NOT_FOUND:"BOARD_NOT_FOUND",DELETED:"BOARD_DELETED",ACCESS_DENIED:"BOARD_ACCESS_DENIED",PASSWORD_PROTECTED:"BOARD_PASSWORD_PROTECTED",TIMEOUT:r.O1.CONNECTION_ABORTED,CONNECTION_LOST:r.O1.CONNECTION_RESET,CANVAS_SIZE:"CANVAS_SIZE"},i={DIFF_UPDATE_ERROR:"ElementDiffUpdateError"},s={NETWORK_ERROR:"Network Error"},a={NOT_FOUND:"USER_NOT_FOUND",APP_INIT_ERROR:"APP_INIT_ERROR"},l={FREE_FILE_COUNT_LIMIT:"FREE_FILE_COUNT_LIMIT",GENERAL_ERROR:"GENERAL_ERROR"},c={VALIDATION_FAILURE:"INVALID",LOCKED:"LOCKED",NOT_ADMIN:"NOT_ADMIN",NOT_SUBSCRIBED:"NOT_SUBSCRIBED",BAD_REQUEST:"BAD_REQUEST",FORBIDDEN:"FORBIDDEN"}},62287:(e,t,n)=>{"use strict";let r;n.d(t,{Iu:()=>r}),function(e){e.disableInviteLimit="disableInviteLimit",e.disableAutoShiftLimit="disableAutoShiftLimit",e.bypassRecaptchaChecks="bypassRecaptchaChecks",e.publicTemplateCreation="publicTemplateCreation",e.renderSecureImagesThroughProxy="renderSecureImagesThroughProxy",e.renderSecureImagesThroughCF="renderSecureImagesThroughCF",e.templateOnboardingV2="templateOnboardingV2",e.documentDiffSyncing="documentDiffSyncing",e.toolbarV2="toolbarV2",e.aiAssistant="aiAssistant",e.graphDb="graphDb",e.graphDbAppInit="graphDbAppInit",e.disableQQInvites="disableQQInvites",e.boardSearch="boardSearch",e.customTemplatesGraphMigration="customTemplatesGraphMigration",e.clientLocalCache="clientLocalCache",e.androidHybridBoardList="androidHybridBoardList",e.iosCanvas="iosCanvas",e.shareButtonV2="shareButtonV2",e.graphDbSynced="graphDbSynced",e.boardSearchIndexComplete="boardSearchIndexComplete",e.useIframelyForEmbeds="useIframelyForEmbeds",e.checkoutV2="checkoutV2",e.clientPersistence="clientPersistence"}(r||(r={}));r.disableInviteLimit,r.disableAutoShiftLimit,r.bypassRecaptchaChecks,r.publicTemplateCreation,r.renderSecureImagesThroughProxy,r.renderSecureImagesThroughCF,r.templateOnboardingV2,r.aiAssistant,r.graphDb,r.graphDbAppInit,r.disableQQInvites,r.documentDiffSyncing,r.boardSearch,r.clientLocalCache,r.androidHybridBoardList,r.iosCanvas,r.toolbarV2,r.shareButtonV2,r.useIframelyForEmbeds,r.checkoutV2,r.clientPersistence},39956:(e,t,n)=>{"use strict";n.d(t,{Zw:()=>a,d6:()=>o,gE:()=>i,o:()=>r,wf:()=>s});const r={canvas:"canvas",linear:"linear"},o={regular:"regular",high:"high"},i={ELEMENT:"ELEMENT",BOARD_MEDIA:"BOARD_MEDIA"},s="BOARD_EXPORT_MEDIA",a="BOARD_EXPORT_MEDIA_RESET"},91727:(e,t,n)=>{"use strict";n.d(t,{Gk:()=>d,HY:()=>u,Hf:()=>h,Jx:()=>g,N0:()=>b,_0:()=>m,al:()=>f,ld:()=>E,t0:()=>v,wH:()=>p});var r,o=n(63422),i=n.n(o),s=n(11151),a=n.n(s),l=n(44339);const c=n(59161).Z(),d="FILE",u="File",m={FILE:"file",IMAGE:"image",FILEPREVIEW:"filepreview"},p=null==c||null===(r=c.aws)||void 0===r?void 0:r.s3MediaStorageUrl,h=10,g={free:512e5,pro:512e7},f=/^image\/(webp|png|gif|jpe?g|svg\+xml)/g,E={GENERIC:{type:l.m.GENERIC,preview:!1,maxSize:g},IMAGE:{type:l.m.IMAGE,mimePattern:f,extensions:["jpg","jpeg","jpe","gif","png","webp","tif","tiff","bmp","ico","pbm","pgm","ppm","svg"],iconName:"file-image",maxSize:{free:1024e4,pro:1024e5},preview:!0},RAW_IMAGE:{type:l.m.RAW_IMAGE,extensions:["jxr","cr2","crw","dng","mrw","orf","raw","xmp","nef","x3f","erf","eps","raf","cube","3dl"],iconName:"file-raw-image",preview:!0},SVG:{type:l.m.SVG,extensions:["svg"],iconName:"file-svg",preview:!0},ZIP:{type:l.m.ZIP,extensions:["zip","rar","tar","7z","gz"],iconName:"file-zip",preview:!1},HTML:{type:l.m.HTML,extensions:["htm","html"],iconName:"file-html",preview:!0},CODE:{type:l.m.CODE,extensions:["c","css","ini","ins","h","js","jar","java","json","py","pl","php","swift","ts","xml"],iconName:"file-code",preview:!1},PDF:{type:l.m.PDF,extensions:["pdf"],iconName:"file-acrobat",preview:!0},AUDIO:{type:l.m.AUDIO,extensions:["mp3","m4a","mid","wav","wave","amr","3ga","mka","mpa","opus","oga","pkf","ra","ram","aiff","pcm"],iconName:"file-audio",preview:!1,mediaPlayerMimePattern:/^audio\/(x-)?(mp3|m4a|aac|mpeg|ogg|wav)/g},VIDEO:{type:l.m.VIDEO,extensions:["mp4","m4p","m4b","m4r","m4v","mkv","mk3d","mks","webm","mov","qt","wmv","divx","xvid","mpg","mpeg","mpeg4","mp1","mp2","mlv","m1a","m2a","mpv","ogg","ogv","ogx","ogm","spx","avi","drp","wma","asf"],iconName:"file-movie",preview:!0,mediaPlayerMimePattern:/^video\/(x-)?(mp4|quicktime|mov|mpeg|ogg)/g},MSG:{type:l.m.MSG,extensions:["msg"],iconName:"file-plaintext",preview:!1},EMAIL:{type:l.m.EMAIL,extensions:["eml"],iconName:"file-email",preview:!1},TEXT:{type:l.m.TEXT,extensions:["rtf","txt","md"],iconName:"file-plaintext",preview:!0},CSV:{type:l.m.CSV,extensions:["csv","tsv","tab"],iconName:"file-numbers",preview:!0},DOCX:{type:l.m.DOCX,extensions:["docx","docm","doc","odt","ott","otg","odg"],iconName:"file-word",preview:!0},PPTX:{type:l.m.PPTX,extensions:["pptx","pptm","ppt","odp","otp"],iconName:"file-ppt",preview:!0},XLSX:{type:l.m.XLSX,extensions:["xlsx","xlsm","xls","ods","odc","otc"],iconName:"file-excel",preview:!0},PAGES:{type:l.m.PAGES,extensions:["pages"],iconName:"file-pages",preview:!1},KEYNOTE:{type:l.m.KEYNOTE,extensions:["key"],iconName:"file-keynote",preview:!1},NUMBERS:{type:l.m.NUMBERS,extensions:["numbers"],iconName:"file-numbers",preview:!1},SKETCH:{type:l.m.SKETCH,extensions:["sketch"],iconName:"file-sketch",preview:!0,forcePreview:!0},AFDESIGN:{type:l.m.AFDESIGN,extensions:["afdesign"],iconName:"file-image",preview:!1},PSD:{type:l.m.PSD,extensions:["psd"],iconName:"file-photoshop",preview:!0,forcePreview:!0},LR:{type:l.m.LR,extensions:["lrtemplate","lrcat","lrdata","lrdb","lrprev","lrpreview"],iconName:"file-lightroom",preview:!1},PR:{type:l.m.PR,extensions:["cfa","cpa","prproj"],iconName:"file-premiere",preview:!1},MODEL_3D:{type:l.m.MODEL_3D,extensions:["max","blend","mp","ma","3ds","dwg","gltf","gltb","obj","fbx","stl","stp","collade","glb","dae","step","wrl","x3d","3mf","amf"],iconName:"file-3d",preview:!1},AI:{type:l.m.AI,extensions:["ai","eps","ps","ai3","ai4","ai5","ai6","ai7","ai8","psf"],iconName:"file-illustrator",preview:!0,forcePreview:!0},IND:{type:l.m.IND,extensions:["ind","indd","idlk","indt"],iconName:"file-indesign",preview:!0,forcePreview:!0},AE:{type:l.m.AE,extensions:["aec","aep","aet","aetx","amx"],iconName:"file-aftereffects",preview:!1},XD:{type:l.m.XD,extensions:["xd"],iconName:"file-experience-design",preview:!0,forcePreview:!0},MUSE:{type:l.m.MUSE,extensions:["muse","mulib"],iconName:"file-muse",preview:!1},DW:{type:l.m.DW,extensions:["dw","dwt"],iconName:"file-dreamweaver",preview:!0,forcePreview:!0},AXURE:{type:l.m.AXURE,extensions:["rp"],iconName:"file-axure",preview:!1},FONT:{type:l.m.FONT,extensions:["otf","ttc","ttf"],iconName:"file-font",preview:!0},NON_PREVIEWABLE_FONT:{type:l.m.NON_PREVIEWABLE_FONT,extensions:["eot","woff","woff2","ffil","afm","pfa","pfb","pfm","tfil"],iconName:"file-font",preview:!1}},v=[".htaccess","web.config","robots.txt","crossdomain.xml","clientaccesspolicy.xml"],b=["ade","adp","apk","appx","appxbundle","bat","cab","chm","cmd","com","cpl","dll","dmg","exe","hta","htm","html","isp","iso","jse","lib","lnk","mde","msc","msi","msix","msixbundle","msp","mst","nsh","pif","ps1","scr","sct","shb","sys","vb","vbe","vbs","vxd","wsc","wsf","wsh"];a()(i()("extensions"),E)},41875:(e,t,n)=>{"use strict";n.d(t,{E9:()=>p,iT:()=>u,q3:()=>c});var r=n(63422),o=n.n(r),i=n(98421),s=n(73936),a=n(43905),l=n(91727);const c=e=>o()([e,"preview"],l.ld)||!1,d=e=>{const t=(0,i.Z)(e);return(0,s.uT)(t)},u=e=>{const t=d(e);return t&&c(t.type)},m=e=>{const t=d(e);return t&&(e=>o()([e,"forcePreview"],l.ld)||!1)(t.type)},p=e=>!!(0,a.I1)(null==e?void 0:e.type)||m(null==e?void 0:e.name)},58270:(e,t,n)=>{"use strict";n.d(t,{gK:()=>a,mL:()=>i,wd:()=>l});const r=["GB","MB","KB","B"],o={GB:1,MB:1},i=(e,t,n=!1)=>{const i=t/(e=>{let t=r.indexOf(e);return-1===t&&(t=0),Math.pow(1e3,r.length-1-t)})(e);let s=o[e]||0;return(n&&i>=10||i>=100)&&(s=0),i.toFixed(s)},s=(e=0)=>r.reduce(((t,n,r)=>{if(t)return t;return i(n,e)>=1?n:null}),null)||"B",a=(e=0)=>{const t=s(e);return`${i(t,e)} ${t}`},l=(e,t,n=!1)=>{const r=s(t),o=i(r,t,n);return`${i(r,e,n)} / ${o} ${r}`}},91443:(e,t,n)=>{"use strict";n.d(t,{ip:()=>r,z0:()=>o});const r=async e=>{if(e.type&&""!==e.type)return e.type;const t=new FileReader,n=e.slice(0,4),r=new Promise((e=>{t.onloadend=()=>{const n=new Uint8Array(t.result);let r="";for(let e=0;e<n.length;e++)r+=n[e].toString(16);e(r.toUpperCase())},t.onerror=()=>{e("")}}));t.readAsArrayBuffer(n);return(e=>{switch(e){case"89504E47":return"image/png";case"FFD8FFDB":case"FFD8FFE0":case"FFD8FFE1":case"FFD8FFE2":case"FFD8FFE3":case"FFD8FFE4":case"FFD8FFE5":case"FFD8FFE6":case"FFD8FFE7":case"FFD8FFE8":case"FFD8FFE9":case"FFD8FFEA":case"FFD8FFEB":case"FFD8FFEC":case"FFD8FFED":case"FFD8FFEE":case"FFD8FFEF":return"image/jpeg";case"52494646":return"image/webp";case"49492A00":case"4d4d002A":return"image/tiff";case"47494638":return"image/gif";default:return}})(await r)},o=async e=>{const{type:t}=e;if(t)return t;const n=await r(e);return n||""}},44339:(e,t,n)=>{"use strict";let r;n.d(t,{m:()=>r}),function(e){e.GENERIC="GENERIC",e.IMAGE="IMAGE",e.RAW_IMAGE="RAW_IMAGE",e.SVG="SVG",e.ZIP="ZIP",e.HTML="HTML",e.CODE="CODE",e.PDF="PDF",e.AUDIO="AUDIO",e.VIDEO="VIDEO",e.MSG="MSG",e.EMAIL="EMAIL",e.TEXT="TEXT",e.CSV="CSV",e.DOCX="DOCX",e.PPTX="PPTX",e.XLSX="XLSX",e.PAGES="PAGES",e.KEYNOTE="KEYNOTE",e.NUMBERS="NUMBERS",e.SKETCH="SKETCH",e.AFDESIGN="AFDESIGN",e.PSD="PSD",e.LR="LR",e.PR="PR",e.AI="AI",e.IND="IND",e.AE="AE",e.XD="XD",e.MUSE="MUSE",e.DW="DW",e.AXURE="AXURE",e.FONT="FONT",e.NON_PREVIEWABLE_FONT="NON_PREVIEWABLE_FONT",e.MODEL_3D="MODEL_3D"}(r||(r={}))},87961:(e,t,n)=>{"use strict";n.d(t,{Uj:()=>u,I4:()=>m,D0:()=>g,o1:()=>h});var r=n(91727),o=n(10910),i=n.n(o),s=n(98421),a=n(25841);var l=n(73936),c=n(58270),d=n(91443);const u=async e=>{const t=await(0,d.ip)(e);return!!(t&&t.match(r.al))},m=e=>!!(e&&e.type&&e.type.match(r.al)),p=(e,t)=>{const{isSubscribed:n=!1}=t,o=(0,s.Z)(e.name),i=(0,l.uT)(o),d=(i.maxSize||r.Jx)[n?"pro":"free"],u=(0,c.gK)(d),m=(0,c.gK)(e.size);if(e.size<=d)return null;const p=`The maximum .${o} size is ${u}, this file is ${m}`;return console.warn(p),new a.Z({code:a.B.MAX_SIZE,message:p,explanation:`The maximum .${o} size is ${u}`,details:{type:i.type,max:d,actual:e.size}})},h=async(e,t={})=>{if(!(await u(e))){const t="Sorry, this file type is not supported";return console.warn(t),new a.Z({code:a.B.INVALID_TYPE,message:t,explanation:"You can upload PNGs, WEBPs, JPEGs and GIFs",details:{type:r.ld.IMAGE.type,expected:"image/*",actual:e.type}})}const n=p(e,t);return n||null},g=(e,t={})=>{if(!e)return new a.Z({code:a.B.NO_FILE,message:"A file must be provided"});const n=(e=>{if(!e)return new a.Z({code:a.B.NO_FILENAME,message:"A filename must be provided"});if(i()(e,r.t0))return new a.Z({code:a.B.INVALID_FILENAME,message:`The filename "${e}" is not allowed`});if(0===e.lastIndexOf("."))return new a.Z({code:a.B.INVALID_FILENAME,message:"Dot files are not allowed"});const t=(0,s.Z)(e);return i()(t,r.N0)?new a.Z({code:a.B.INVALID_EXTENSION,message:`.${t} files are not supported`}):null})(e.name);if(n)return n;const o=p(e,t);return o||null}},98421:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(42583),o=n.n(r);const i=e=>{const t=e.lastIndexOf(".");return t<=0?"":o()(e.substring(t+1,e.length))}},73936:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>f,uT:()=>g});var r=n(42583),o=n.n(r),i=n(63422),s=n.n(i),a=n(8816),l=n.n(a),c=n(10910),d=n.n(c),u=n(84063),m=n.n(u),p=n(98421),h=n(91727);const g=e=>m()(l()(s()("extensions"),d()(o()(e))),h.ld)||h.ld.GENERIC,f=e=>{const t=(0,p.Z)(e.name);return{type:g(t).type,ext:t,mime:e.type}}},63805:(e,t,n)=>{"use strict";function r(e){return(t,n=0)=>new Promise(((r,o)=>{const i=new FileReader;i.onload=e=>r(i.result),i.onabort=e=>o(e),i.onerror=e=>o(e);const s=n?t.slice(0,n):t;i[e](s)}))}n.d(t,{Vu:()=>i,hR:()=>o});const o=r("readAsDataURL"),i=(r("readAsArrayBuffer"),r("readAsText"))},36410:(e,t,n)=>{"use strict";n.d(t,{U:()=>r});const r={USER_ACTION:"user_action",BOARD_CREATE:"board_create"}},94081:(e,t,n)=>{"use strict";n.d(t,{Af:()=>g,Kj:()=>s,__:()=>a,db:()=>f,eM:()=>h,f8:()=>u,fi:()=>c,i3:()=>m,jq:()=>d,nr:()=>o,ss:()=>i,yz:()=>l,z6:()=>p});var r=n(97245);const o="IMAGE",i="Image",s=1,a=800,l=1600,c=4,d=r.F9,u=20,m={width:10*r.cv,height:10*u},p=m,h={THUMB:{name:"thumb",width:s,isDataUri:!0},REGULAR:{name:"regular",width:400,quality:75},LARGE:{name:"large",width:a,quality:70},HUGE:{name:"huge",width:l,quality:65},ORIGINAL:{name:"original",width:1/0,original:!0}},g=999999999,f="https://www.pexels.com"},59551:(e,t,n)=>{"use strict";n.d(t,{BK:()=>u,FK:()=>l,H3:()=>r,Sf:()=>i,Vk:()=>s,Xq:()=>d,cH:()=>o,fr:()=>p,j2:()=>a,lX:()=>c,py:()=>m});const r="LINE",o="Line",i="LINE_EDGE",s="LINE_CONTROL_POINT",a={SOLID:"SOLID",DASHED:"DASHED",DOTTED:"DOTTED"},l={start:"start",end:"end"},c={ARROW:"ARROW",DOT:"DOT",NONE:"NONE"},d={S:1,M:2,L:4},u=4,m=17,p=m},6690:(e,t,n)=>{"use strict";n.d(t,{$7:()=>o,aA:()=>s,rm:()=>i,xE:()=>r});const r="LINK",o="Link",i={AUDIO:"AUDIO",VIDEO:"VIDEO",MAP:"MAP"},s={Twitter:"Twitter",LinkedIn:"linkedin",GoogleMaps:"Google Maps",Google:"Google",GoogleDocs:"Google Docs",GitHub:"GitHub",YouTube:"YouTube",Vimeo:"Vimeo",CodePen:"CodePen",SoundCloud:"SoundCloud",Spotify:"Spotify",Figma:"Figma",Airtable:"Airtable",Instagram:"Instagram",Behance:"Behance",Facebook:"Facebook",ProductHunt:"Product Hunt",TwitchTV:"Twitch.tv",Tumblr:"Tumblr",MarvelApp:"MarvelApp",Kickstarter:"Kickstarter",Typeform:"Typeform",ConvertKit:"ConvertKit",IndieGoGo:"IndieGoGo",Gumroad:"Gumroad",OverflowIO:"Overflow.io",SmugMug:"SmugMug",Reddit:"reddit"};s.GoogleDocs},6442:(e,t,n)=>{"use strict";n.d(t,{D2:()=>i,IG:()=>s,jS:()=>o,w_:()=>r});const r={IMAGE:"IMAGE",VIDEO:"VIDEO",AUDIO:"AUDIO",RICH:"RICH",MAP:"MAP",DOC:"DOC",PDF:"PDF",NO_MEDIA:"NO_MEDIA"},o=[r.IMAGE,r.VIDEO,r.AUDIO,r.RICH,r.MAP,r.PDF],i=[r.IMAGE,r.VIDEO],s=8},12761:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r={IN_LIST_COLUMN:"in-list-column",IN_LIST_QUICK_NOTES:"in-list-quick-notes",IN_LIST_UNSORTED_NOTES:"in-list-unsorted-notes",IN_LIST_DOCUMENT_MODE:"in-list-document-mode",IN_LIST_TRASH:"in-list-trash"}},29743:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(89935);const o=n.n(r)()(((e,t,n)=>Math.max(Math.min(n,t),e)))},84405:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(45637),o=n.n(r);const i=o();i.lineVector=function(e,t){return(t instanceof o()?t.clone():o().fromObject(t)).subtract(e)},i.prototype.perpendicular=function(){const e=-this.y;return this.y=this.x,this.x=e,this},i.prototype.perpendicularRight=function(){const e=this.y;return this.y=-this.x,this.x=e,this},i.prototype.toLength=function(e){return this.normalize().multiplyScalar(e)},i.prototype.clampLength=function(e){return this.lengthSq()<e*e?this:this.normalize().multiplyScalar(e)},i.prototype.projectedMagnitude=function(e){return this.dot(e)/this.length()},i.prototype.projectedRatio=function(e){return this.dot(e)/this.lengthSq()},i.prototype.toFixed=function(e){const t=e||8;return this.x=Number(this.x.toFixed(t)),this.y=Number(this.y.toFixed(t)),this};const s=i},5488:(e,t,n)=>{"use strict";n.d(t,{M8:()=>d,Ux:()=>m,h9:()=>c,kp:()=>u});var r=n(54061),o=n.n(r),i=n(55874),s=n.n(i),a=n(7923);const l=e=>(t,n,r,o)=>(r[e]-Math.pow(1-o,2)*t[e]-Math.pow(o,2)*n[e])/(2*o*(1-o)),c=(l("x"),l("y"),(e,t,n=!1)=>{if(!t)return null;return((e,t,n=!1)=>{const r=o()(e,((e,r)=>{const o=((e,t,n)=>{const r=t.intersects({p1:e.start,p2:e.end});if(r.length)return r.sort(),r[n?0:r.length-1]})(r,t,n);return!e||n&&o<e||!n&&o>e?o:e}),null);if(!r)return;const i=t.get(r);return i.t=r,i})(a.zM(e),t,n)}),d=(e,t,n)=>{const r={x:n.x+.01,y:n.y+.01};return new(s())([e,t,r])},u=(e,t,n,r=.5)=>{const o={x:n.x+.01,y:n.y+.01};return t?s().quadraticFromPoints(e,t,o,r):new(s())([e,o])},m=({start:e,controlPoint:t,end:n,controlT:r=.5,t1:o=0,t2:i=1})=>u(e,t,n,r).split(o,i)},47566:(e,t,n)=>{"use strict";n.d(t,{Ff:()=>s,nZ:()=>i,wM:()=>o});var r=n(43831);const o=e=>e||0,i=e=>o((0,r.vg)("x",e)||(0,r.vg)("left",e)),s=e=>o((0,r.vg)("y",e)||(0,r.vg)("top",e))},19182:(e,t,n)=>{"use strict";n.d(t,{reverseScale:()=>S,cH:()=>w,roundVals:()=>T,scale:()=>C});var r=n(54372),o=n.n(r),i=n(45825),s=n.n(i),a=n(83927),l=n.n(a),c=n(11484),d=n.n(c),u=n(77382),m=n.n(u),p=n(74432),h=n.n(p),g=n(89935),f=n.n(g),E=n(40087),v=n.n(E),b=n(66604),y=n.n(b);const I=v()(((e,t,n)=>y()(n,((n,r)=>e(n,t[r]))))),C=(I(h()),I(m()),f()(((e,t)=>l()(d()(e),t)))),S=f()(((e,t)=>l()(d()(1/e),t))),T=l()(s()),w=l()(o())},56623:(e,t,n)=>{"use strict";n.d(t,{Cy:()=>s,Oj:()=>i,Ym:()=>l,cM:()=>a});var r=n(40565),o=n(84405);const i=(e,t)=>({start:e,end:t}),s=({start:e,end:t})=>r.Sp(e,t),a=({start:e,end:t,length:n})=>{const i=o.Z.lineVector(e,t);i.toLength(n);return{start:e,end:r.Iu(i,e)}},l=(e,t)=>r.F8(t.x-e.x,t.y-e.y)},40565:(e,t,n)=>{"use strict";n.d(t,{A2:()=>I,Ah:()=>g,F8:()=>l,Iu:()=>v,NM:()=>u,NN:()=>m,Nb:()=>p,Sp:()=>h,Yw:()=>y,ZX:()=>E,bA:()=>c,e5:()=>b,fS:()=>f,wk:()=>C,xH:()=>d});var r=n(89935),o=n.n(r),i=n(74046),s=n(19182),a=n(47566);const l=(e,t)=>({x:e,y:t}),{scale:c,reverseScale:d}=s,u=s.roundVals,m=(s.cH,(e,t)=>({x:(0,i.N)((0,a.nZ)(t),e),y:(0,i.N)((0,a.Ff)(t),e)})),p=(e,t)=>{const n=(0,a.nZ)(e)-(0,a.nZ)(t),r=(0,a.Ff)(e)-(0,a.Ff)(t);return n*n+r*r},h=(e,t)=>Math.sqrt(p(e,t)),g=(e,t,n)=>{if(!e||!t)return!1;return p(e,t)<n*n},f=(e,t)=>e.x===t.x&&e.y===t.y,E=(e,t)=>Math.atan2(t.y-e.y,t.x-e.x),v=o()(((e,t)=>l((0,a.nZ)(t)+(0,a.nZ)(e),(0,a.Ff)(t)+(0,a.Ff)(e)))),b=o()(((e,t)=>l((0,a.nZ)(t)-(0,a.nZ)(e),(0,a.Ff)(t)-(0,a.Ff)(e)))),y=b,I=e=>Math.sqrt(e.x*e.x+e.y*e.y),C=e=>e?{x:(0,a.nZ)(e),y:(0,a.Ff)(e)}:e},7923:(e,t,n)=>{"use strict";n.d(t,{lG:()=>K,H4:()=>G,jV:()=>$,rI:()=>a.rI,d0:()=>W,BD:()=>C,Qd:()=>S,Qy:()=>k,bg:()=>V.b,LT:()=>a.LT,iQ:()=>E,hC:()=>v,w$:()=>f,lP:()=>O,Cr:()=>a.Cr,IS:()=>a.IS,G4:()=>b,CZ:()=>y,mU:()=>Y,EK:()=>a.EK,jP:()=>g,zM:()=>L,R0:()=>_,vF:()=>a.vF,OY:()=>p,rL:()=>m,Xv:()=>h,dz:()=>a.dz,nZ:()=>r.nZ,Ff:()=>r.Ff,Xy:()=>I,dI:()=>T,Ao:()=>Z,TX:()=>w,Yw:()=>H,p5:()=>z,bA:()=>B,Iu:()=>U,K:()=>q});var r=n(47566),o=n(89935),i=n.n(o),s=n(43831),a=n(87186),l=n(40565),c=n(72488);const d=e=>(0,a.IS)(e)+(0,a.dz)(e)/2,u=e=>(0,a.vF)(e)+(0,a.Cr)(e)/2,m=e=>l.F8((0,a.IS)(e),(0,a.vF)(e)),p=e=>l.F8(d(e),(0,a.vF)(e)),h=e=>l.F8((0,a.EK)(e),(0,a.vF)(e)),g=e=>l.F8((0,a.EK)(e),u(e)),f=e=>l.F8((0,a.EK)(e),(0,a.LT)(e)),E=e=>l.F8(d(e),(0,a.LT)(e)),v=e=>l.F8((0,a.IS)(e),(0,a.LT)(e)),b=e=>l.F8((0,a.IS)(e),u(e)),y=e=>l.F8(d(e),u(e)),I=(e,t)=>(0,a.IS)(e)===(0,a.IS)(t)&&(0,a.EK)(e)===(0,a.EK)(t)&&(0,a.vF)(e)===(0,a.vF)(t)&&(0,a.LT)(e)===(0,a.LT)(t),C=i()(((e,t)=>e&&t&&(0,r.nZ)(t)>=(0,a.IS)(e)&&(0,r.nZ)(t)<=(0,a.EK)(e)&&(0,r.Ff)(t)>=(0,a.vF)(e)&&(0,r.Ff)(t)<=(0,a.LT)(e)||!1)),S=i()(((e,t)=>(0,a.IS)(t)>=(0,a.IS)(e)&&(0,a.EK)(t)<=(0,a.EK)(e)&&(0,a.vF)(t)>=(0,a.vF)(e)&&(0,a.LT)(t)<=(0,a.LT)(e))),T=(i()(((e,t)=>{if(!e||!t)return!1;const n=(0,r.nZ)(t),o=(0,r.Ff)(t),i=(0,a.IS)(e),s=(0,a.EK)(e),l=(0,a.vF)(e),c=(0,a.LT)(e);return(n===i||n===s)&&o>=l&&o<=c||(o===l||o===c)&&n>=i&&n<=s})),i()(((e,t)=>{if(!e||!t)return!1;const n=m(e),r=f(e),o=m(t),i=f(t);return!(r.x<=o.x||r.y<=o.y||i.x<=n.x||i.y<=n.y)}))),w=i()(((e,t)=>T(e,t)?(0,a.rI)({left:Math.max((0,a.IS)(e),(0,a.IS)(t)),right:Math.min((0,a.EK)(e),(0,a.EK)(t)),top:Math.max((0,a.vF)(e),(0,a.vF)(t)),bottom:Math.min((0,a.LT)(e),(0,a.LT)(t))}):null)),O=e=>!e||(0,s.kE)(e)<1?(0,a.rI)({x:0,y:0,width:0,height:0}):(0,a.rI)({left:Math.min(...e.map(a.IS)),right:Math.max(...e.map(a.EK)),top:Math.min(...e.map(a.vF)),bottom:Math.max(...e.map(a.LT)),width:Math.max(...e.map(a.EK))-Math.min(...e.map(a.IS)),height:Math.max(...e.map(a.LT))-Math.min(...e.map(a.vF))}),_=(e,t)=>(0,a.rI)({left:Math.min((0,a.IS)(e),(0,a.IS)(t)),right:Math.max((0,a.EK)(e),(0,a.EK)(t)),top:Math.min((0,a.vF)(e),(0,a.vF)(t)),bottom:Math.max((0,a.LT)(e),(0,a.LT)(t))});var R=n(56623);const A=(e,t,n,r)=>o=>R.Oj(l.F8(e(o),t(o)),l.F8(n(o),r(o))),D=A(a.IS,a.vF,a.EK,a.vF),N=A(a.EK,a.vF,a.EK,a.LT),x=A(a.IS,a.LT,a.EK,a.LT),M=A(a.IS,a.vF,a.IS,a.LT),P={[c.e.top]:D,[c.e.right]:N,[c.e.bottom]:x,[c.e.left]:M},L=(i()(((e,t)=>{const n=P[e];return n?n(t):null})),e=>({top:D(e),right:N(e),bottom:x(e),left:M(e)})),k=i()(((e,t)=>{if(T(e,t))return 0;const n=(0,a.IS)(e)<(0,a.IS)(t)?e:t,r=(0,a.EK)(e)>(0,a.EK)(t)?e:t;let o=(0,a.IS)(r)-(0,a.EK)(n);o=Math.max(0,o);const i=(0,a.vF)(e)<(0,a.vF)(t)?e:t,s=(0,a.LT)(e)>(0,a.LT)(t)?e:t;let l=(0,a.vF)(s)-(0,a.LT)(i);return l=Math.max(0,l),Math.hypot(o,l)}));var F=n(19182);const{scale:B,reverseScale:j,roundVals:z}=F,U=i()(((e,t)=>(0,a.rI)({x:(0,a.IS)(t)+(0,r.nZ)(e),y:(0,a.vF)(t)+(0,r.Ff)(e),width:(0,a.dz)(t),height:(0,a.Cr)(t)}))),H=i()(((e,t)=>(0,a.rI)({x:(0,a.IS)(t)-(0,r.nZ)(e),y:(0,a.vF)(t)-(0,r.Ff)(e),width:(0,a.dz)(t),height:(0,a.Cr)(t)}))),Z=(e,t)=>(0,a.rI)({x:(0,r.nZ)(e),y:(0,r.Ff)(e),width:(0,a.dz)(t),height:(0,a.Cr)(t)}),G=i()(((e,t,n)=>(0,a.rI)({x:(0,r.nZ)(n)-e,y:(0,r.Ff)(n)-t,width:(0,a.dz)(n)+2*e,height:(0,a.Cr)(n)+2*t}))),K=i()(((e,t)=>(0,a.rI)({x:(0,r.nZ)(t)-(0,a.IS)(e),y:(0,r.Ff)(t)-(0,a.vF)(e),width:(0,a.dz)(t)+(0,a.IS)(e)+(0,a.EK)(e),height:(0,a.Cr)(t)+(0,a.vF)(e)+(0,a.LT)(e)}))),W=(e,t)=>{if(!e||!t)return t;const n=(0,r.nZ)(e),o=(0,r.Ff)(e),i=(0,a.dz)(e),s=(0,a.Cr)(e),l=(0,r.nZ)(t),c=(0,r.Ff)(t),d=(0,a.dz)(t),u=(0,a.Cr)(t);let m=n>l?n-l:0;m=n+i<l+d?m-n+i-l+d:m;let p=o>c?o-c:0;return p=o+s<c+u?p-o+s-c+u:p,0===p&&0===m?t:U({x:m,y:p},t)};var V=n(75970);const $=(e,t)=>!(!e||!t)&&e.some((e=>C(e,t))),q=(e,t)=>t?e?t.map((t=>U(e,t))):t:null,Y=e=>{const t=Object.keys(e),n={},r={};for(const o of t){if(n[o])continue;n[o]=!0;const i=e[o];r[o]=r[o]||[];for(const s of t){if(n[s])continue;const t=e[s];T(i,t)&&(r[o].push(s),r[s]=r[s]||[],r[s].push(o))}}return r}},72488:(e,t,n)=>{"use strict";n.d(t,{e:()=>r,w:()=>o});const r={top:"top",right:"right",bottom:"bottom",left:"left"},o={TOP_LEFT:"TOP_LEFT",TOP_RIGHT:"TOP_RIGHT",BOTTOM_RIGHT:"BOTTOM_RIGHT",BOTTOM_LEFT:"BOTTOM_LEFT"}},75970:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var r=n(87186);const o=e=>(0,r.dz)(e)*(0,r.Cr)(e)},87186:(e,t,n)=>{"use strict";n.d(t,{Cr:()=>d,EK:()=>a,IS:()=>i,LT:()=>l,dz:()=>c,rI:()=>u,vF:()=>s});var r=n(43831),o=n(47566);const i=o.nZ,s=o.Ff,a=e=>(0,o.wM)((0,r.vg)("right",e)||i(e)+(0,r.vg)("width",e)),l=e=>(0,o.wM)((0,r.vg)("bottom",e)||s(e)+(0,r.vg)("height",e)),c=e=>(0,o.wM)((0,r.vg)("width",e)||a(e)-i(e)),d=e=>(0,o.wM)((0,r.vg)("height",e)||l(e)-s(e)),u=e=>{const t=(0,o.nZ)(e),n=(0,o.Ff)(e);return{x:t,y:n,top:n,right:a(e),bottom:l(e),left:t,width:c(e),height:d(e)}}},76232:(e,t,n)=>{"use strict";n.d(t,{Ib:()=>a,OF:()=>d,QK:()=>u,XK:()=>m,ZP:()=>i,_2:()=>c,i0:()=>l,yZ:()=>o});var r=n(74046);const o=e=>{const t=null==e?void 0:e[0];return t||0===t?t:1},i=(e,t)=>{if(!e)return e;const n=[...e];return n[0]=t,n[5]=t,n},s=e=>(null==e?void 0:e[12])||0,a=e=>(null==e?void 0:e[13])||0,l=e=>({x:s(e),y:a(e)}),c=(e,t)=>{if(!e||!t)return e;const n=[...e];return(t.x||0===t.x)&&(n[12]=t.x),(t.y||0===t.y)&&(n[13]=t.y),n},d=(e,t=1)=>{if(!e)return e;const n=[...e];return n[12]=(0,r.N)(n[12],t),n[13]=(0,r.N)(n[13],t),n},u=(e,t)=>{if(!e)return e;const n=[...e];return n[12]=Math.min(n[12],t.x),n[13]=Math.min(n[13],t.y),n},m=(e,t=[])=>t.map((t=>((e,t)=>{if(!e||!t)return t;const n=e[0],r=e[1],o=e[2],i=e[3],s=e[4],a=e[5],l=e[6],c=e[7],d=e[8],u=e[9],m=e[10],p=e[11],h=e[12],g=e[13],f=e[14],E=e[15],v=t[0],b=t[1],y=t[2],I=t[3];return[v*n+b*s+y*d+I*h,v*r+b*a+y*u+I*g,v*o+b*l+y*m+I*f,v*i+b*c+y*p+I*E]})(e,t)))},62988:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r,b:()=>o});const r=e=>e?[[e.left,e.top,1,1],[e.right,e.top,1,1],[e.right,e.bottom,1,1],[e.left,e.bottom,1,1]]:[[0,0,1,1],[0,0,1,1],[0,0,1,1],[0,0,1,1]],o=e=>{const t=e[0][1],n=e[0][0],r=e[2][1],o=e[2][0];return{x:n,y:t,top:t,left:n,bottom:r,right:o,width:o-n,height:r-t}}},74046:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});const r=(e,t=1)=>Math.round(e/t)*t},81248:(e,t,n)=>{"use strict";n.d(t,{b:()=>l,v:()=>a});var r=n(52628),o=n.n(r),i=n(94081),s=n(89030);const a={ELEMENT:"ELEMENT",LINK:"LINK",AVATAR:"AVATAR",BOARD:"BOARD",BOARD_BACKGROUND:"BOARD_BACKGROUND",FILE:"FILE"},l={[a.ELEMENT]:{name:a.ELEMENT,sizes:o()(i.eM).sort(((e,t)=>e.width-t.width)).filter((e=>"thumb"!==e.name)),thumb:{enabled:!0,width:i.Kj}},[a.LINK]:{name:a.LINK,sizes:[{name:"regular",width:338,height:190,quality:80},{name:"large",width:676,height:380,quality:60}],thumb:{enabled:!0,width:i.Kj}},[a.AVATAR]:{name:a.AVATAR,sizes:[{name:"small",width:2*s.AR.SMALL,quality:90},{name:"regular",width:2*s.AR.REGULAR,quality:90},{name:"large",width:2*s.AR.LARGE,quality:90},{name:"original",width:1/0,original:!0}],thumb:{enabled:!1}},[a.BOARD]:{name:a.BOARD,sizes:[{name:"regular",width:144,height:144,quality:75,enlargeIfRequired:!0},{name:"original",width:1/0,original:!0}],thumb:{enabled:!1}},[a.BOARD_BACKGROUND]:{name:a.BOARD,sizes:[{name:"original",width:1/0,original:!0}],thumb:{enabled:!1}},[a.FILE]:{name:a.FILE,sizes:[{name:"regular",width:300},{name:"large",width:600},i.eM.ORIGINAL],thumb:{enabled:!0,width:i.Kj}}}},61542:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r={PDF:"application/pdf",HTML:"text/html",DOCX:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",MARKDOWN:"text/markdown; charset=UTF-8",PLAIN_TEXT:"text/plain; charset=UTF-8",GIF:"image/gif",WEBP:"image/webp",JPEG:"image/jpeg",SVG:"image/svg+xml",PNG:"image/png",OCTET_STREAM:"application/octet-stream",ZIP:"application/zip"}},91171:(e,t,n)=>{"use strict";n.d(t,{Df:()=>a,Ew:()=>i,JK:()=>o,Vh:()=>s});var r=n(43831);(0,r.vg)("userId");const o=(0,r.vg)("elementId"),i=((0,r.vg)("permissionId"),(0,r.vg)("lastView")),s=((0,r.vg)("lastEdit"),(0,r.vg)("viewCount")),a=(0,r.vg)("deviceId")},48055:(e,t,n)=>{"use strict";n.d(t,{Fq:()=>z,IJ:()=>Z,RY:()=>H,kf:()=>U,pO:()=>F,pQ:()=>j});var r=n(35364),o=n.n(r),i=n(78085),s=n.n(i),a=n(77606),l=n.n(a),c=n(44236),d=n.n(c),u=n(88846),m=n.n(u),p=n(63422),h=n.n(p),g=n(39301),f=n(75763),E=n(89546),v=n(75188),b=n(45575),y=n(59551),I=n(46563),C=n(91727),S=n(76491),T=n(73440),w=n(6690),O=n(94081),_=n(56860),R=n(11111),A=n(40102),D=n(96886);const N=["Added","Updated","Completed"],x=[_.V_,S.WK,O.nr,D.tE,C.Gk,w.xE,v.Kl,T.A,y.H3,I.BA,b.lq],M=s().convert({cap:!1}),P=o().convert({cap:!1}),L=(e,t)=>{const n=N.indexOf(e.changeType),r=N.indexOf(t.changeType);if(n!==r)return n-r;return x.indexOf(e.elementType)-x.indexOf(t.elementType)},k=e=>!!e||(console.warn("No changes to check"),!1),F=({elementType:e,changes:t})=>k(t)?(0,R.N2)(e)&&t.every((e=>e.changeType===A.fm.COMPLETE))?null:t.some((e=>e.changeType===A.fm.CREATE||e.changeType===A.fm.MOVE_IN))?"Added":"Updated":null,B=e=>e&&e.isNewBoard&&(l()(e.boardTitle)||e.boardTitle.toLowerCase()===_.q2.toLowerCase()),j=e=>{const t=M(((e,t)=>{const{elementType:n,changes:r}=t;if(B(t))return e;e[n]=e[n]||{};const o=F({elementType:n,changes:r});return o&&(e[n][o]=(e[n][o]||0)+1),(({elementType:e,changes:t})=>!!k(t)&&(0,R.N2)(e)&&t.some((e=>e.changeType===A.fm.COMPLETE)))({elementType:n,changes:r})&&(e[n].Completed=(e[n].Completed||0)+1),e}),{},e);return M(((e,t,n)=>(P(((t,r)=>{t&&e.push({elementType:n,groupName:n.toLowerCase(),changeType:r,count:t})}),t),e)),[],t).sort(L)},z=e=>(e=>M(((e,t)=>{const{_id:n,elementType:r,isNewBoard:o,boardTitle:i}=t;return(0,R.pi)(r)&&o&&!B(t)&&e.push({boardId:n,title:i}),e}),[],e))(e).map(h()("title")),U=e=>{const t=m()(f.BGE,e);return d()(t)},H=({elementType:e,count:t})=>{if((0,R.Se)(e))return(0,g.E0)(t,"sketch","sketches");let n=(0,E.kw)(e).toLowerCase();return n=(0,R.N2)(e)?`${n} item`:n,(0,g.gY)(n,t)},Z=e=>{if(l()(e))return{conjunction:"in"};const t=j(e),n=1===t.length&&"Added"===t[0].changeType?"to":"in";let r=" ";return t.forEach(((e,n)=>{const{count:o,changeType:i,elementType:s}=e,a=(0,g.TA)(n,t.length),l=0===n,c=l?H({elementType:s,count:o}):"",d=l?` ${c}`:"";r+=`${i.toLowerCase()} ${o}${d}${a}`})),{sentence:r,conjunction:n}}},70834:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});var r=n(40102);const o=({userId:e,notificationIds:t,sync:n=!0})=>({type:r.FH,userId:e,notificationIds:t,sync:n})},40102:(e,t,n)=>{"use strict";n.d(t,{FH:()=>p,Fc:()=>a,GT:()=>c,Nv:()=>h,XI:()=>s,XQ:()=>l,Xl:()=>b,Xx:()=>f,_U:()=>i,fm:()=>d,fq:()=>v,gO:()=>u,ky:()=>E,o1:()=>o,uI:()=>g,z2:()=>m});var r=n(19092);const o=3,i=Math.pow(34,2),s=["textContent","caption","showCaption","title","showTitle","image","link","isComplete","assignments","showAssignments","dueDate","tableContent"],a={DEVELOPER:"developer@milanote.com",SUPPORT:"support@milanote.com",INFO:"info@milanote.com"},l={NEW_LINE:"%0A",TAB:"%09"},c={ASSIGNMENT:"ASSIGNMENT",MENTION:"MENTION",SHARE:"SHARE",SHARE_REMINDER:"SHARE_REMINDER",UNSHARE:"UNSHARE",NEW_TEMPLATE:"NEW_TEMPLATE",COMMENT:"COMMENT",REACTION:"REACTION",BOARD_VIEW:"BOARD_VIEW",BOARD_UPDATE:"BOARD_UPDATE",BOARD_TASKS_UPDATE:"BOARD_TASKS_UPDATE",BOARD_TASKS_REMINDER:"BOARD_TASKS_REMINDER",CLIENT_ONLY_GROUPED_BOARD_VIEW:"CLIENT_ONLY_GROUPED_BOARD_VIEW"},d={CREATE:"CREATE",UPDATE:"UPDATE",MOVE_IN:"MOVE_IN",MOVE_OUT:"MOVE_OUT",DELETE:"DELETE",RESTORE:"RESTORE",COMPLETE:"COMPLETE"},u="NOTIFICATIONS_MARK_ELEMENTS_VIEWED",m="NOTIFICATIONS_MARK_VIEWED",p="NOTIFICATIONS_REMOVE",h="NOTIFICATIONS_MARK_ALL_VIEWED",g="NOTIFICATIONS_MARK_OBSERVED",f="NOTIFICATIONS_ADD_OR_UPDATE",E="BOARD_NOTIFICATION_PREFERENCES_LOAD",v="BOARD_NOTIFICATION_PREFERENCES_SET",b=2*r.yu.WEEK},81329:(e,t,n)=>{"use strict";n.d(t,{AV:()=>$,AX:()=>M,B5:()=>j,Db:()=>F,Dt:()=>C,ES:()=>T,G:()=>z,G5:()=>q,K7:()=>_,Nc:()=>W,OH:()=>d,Oj:()=>ee,P_:()=>m,QL:()=>I,XW:()=>E,Xm:()=>l,Y0:()=>h,YU:()=>a,b$:()=>w,bT:()=>H,dR:()=>b,do:()=>X,et:()=>f,fW:()=>U,fc:()=>V,gJ:()=>A,gX:()=>N,hw:()=>G,jA:()=>S,jD:()=>K,l8:()=>k,lt:()=>y,mL:()=>p,oC:()=>u,os:()=>O,ot:()=>J,p0:()=>B,q1:()=>Y,qf:()=>x,r:()=>R,r7:()=>Z,s:()=>g,vM:()=>c,z2:()=>P});var r=n(68738),o=n.n(r),i=n(43831),s=n(40102);const a=e=>o()(e)?e:(0,i.vg)("type",e),l=(0,i.vg)("_id"),c=(0,i.vg)("userId"),d=(0,i.vg)("timestamp"),u=(0,i.vg)("viewedTimestamp"),m=(0,i.vg)("observedTimestamp"),p=(0,i.vg)("actorIds"),h=e=>(0,i.su)(p(e)||[]),g=((0,i.vg)("details"),(0,i.P2)(["details","elementId"])),f=(0,i.P2)(["details","permissionId"]),E=(0,i.P2)(["details","boardTitle"]),v=(0,i.P2)(["details","ancestorTitles"]),b=e=>(0,i.su)(v(e)||[]),y=(0,i.P2)(["details","elementChanges"]),I=e=>(0,i.su)(y(e)||{}),C=e=>Object.keys(I(e)).length,S=(e,t)=>(0,i.P2)(["details","elementChanges",t,"seen"],e)||!1,T=(e,t)=>(0,i.P2)(["details","commentChanges",t,"seen"],e)||!1,w=((0,i.P2)(["details","boardColor"]),(0,i.P2)(["details","message"])),O=(0,i.P2)(["details","mentionElementId"]),_=(0,i.P2)(["details","mentionCommentId"]),R=(0,i.P2)(["details","mentionCommentThreadId"]),A=((0,i.P2)(["details","mentionElementType"]),(0,i.P2)(["details","mentionRange"])),D=(0,i.P2)(["details","mentionRanges"]),N=e=>(0,i.su)(D(e)||[]),x=(0,i.P2)(["details","shareTimestamp"]),M=(0,i.P2)(["details","shareActorId"]),P=(0,i.P2)(["details","collectionId"]),L=((0,i.P2)(["details","collectionTitle"]),(0,i.P2)(["details","templateIds"])),k=e=>(0,i.su)(L(e)||[]),F=((0,i.P2)(["details","templateTitles"]),(0,i.P2)(["details","commentThreadIds"])),B=e=>(0,i.su)(F(e)||[]),j=(0,i.P2)(["details","commentIds"]),z=e=>(0,i.su)(j(e)||[]),U=(0,i.P2)(["details","isReply"]),H=(0,i.P2)(["details","assignments"]),Z=e=>(0,i.su)(H(e)||[]),G=(0,i.vg)("assignedElementId"),K=((0,i.vg)("assignerUserId"),(0,i.vg)("assigneeId"),(0,i.vg)("text")),W=(0,i.P2)(["details","reminders"]),V=e=>(0,i.su)(W(e)||[]),$=(0,i.vg)("elementId"),q=(0,i.vg)("text"),Y=(0,i.vg)("dueDate"),X=(0,i.vg)("hasDueDateTime"),Q=((0,i.P2)(["details","reactedElementIds"]),e=>t=>a(t)===e),J=(Q(s.GT.BOARD_TASKS_REMINDER),Q(s.GT.ASSIGNMENT),Q(s.GT.MENTION),Q(s.GT.SHARE),Q(s.GT.SHARE_REMINDER),Q(s.GT.COMMENT)),ee=Q(s.GT.BOARD_VIEW);Q(s.GT.BOARD_UPDATE),Q(s.GT.BOARD_TASKS_UPDATE),Q(s.GT.REACTION)},72102:(e,t,n)=>{"use strict";n.d(t,{$E:()=>w,DT:()=>y,F9:()=>b,GS:()=>C,Qq:()=>O,WN:()=>_,re:()=>T});var r=n(44236),o=n.n(r),i=n(8816),s=n.n(i),a=n(4835),l=n.n(a),c=n(11151),d=n.n(c),u=n(63422),m=n.n(u),p=n(77606),h=n.n(p),g=n(43831),f=n(29144),E=n(81329),v=n(40102);const b=s()(d()((e=>(0,E.YU)(e)===v.GT.SHARE_REMINDER?[...(0,E.Y0)(e),(0,E.AX)(e)]:(0,E.Y0)(e))),o(),l()),y=s()(d()(E.et),o(),l()),I=e=>{const t=(0,E.et)(e);return t?[t,(0,E.s)(e)]:null},C=e=>{if(h()(e))return{};const t=l()(e.map(I));if(h()(t))return{};let n=[];const r={};return t.forEach((([e,t])=>{r[e]=r[e]||[],r[e].push(t),n.push(e)})),n=o()(l()(n)),{permissionIds:n,permissionIdToElementIdsMap:r}},S=e=>{switch((0,E.YU)(e)){case v.GT.COMMENT:return(0,E.G)(e);case v.GT.MENTION:return[(0,E.K7)(e)];default:return[]}},T=s()(d()(S),o(),l()),w=(e,t)=>S(e).filter((n=>{const r=(0,g.P2)(["details","commentChanges",n,"seen"],e);return!r||t&&t<r})),O=(e,t)=>{const n=(0,E.QL)(e);return Object.keys(n).filter((e=>{const r=n[e],o=(0,g.vg)("seen",r);return!o||o>t}))},_=s()(d()((e=>{const t=(0,E.s)(e),n=(0,E.p0)(e),r=(0,E.os)(e),o=(0,E.r)(e),i=(e=>{const t=(0,E.r7)(e);return t?t.map(m()("assignedElementId")):null})(e),s=(e=>{const t=(0,E.fc)(e);return t?t.map(m()("elementId")):null})(e),a=(e=>{const t=(0,E.QL)(e);return Object.keys(t).filter((e=>!(0,f.l3)(e)))})(e);return[t,...n,r,o,...i,...s,...(0,E.l8)(e),...a,(0,E.z2)(e)]})),o(),l())},96014:(e,t,n)=>{"use strict";n.d(t,{C3:()=>H,Db:()=>p,FK:()=>i,I$:()=>T,J5:()=>_,LQ:()=>B,ML:()=>w,Mj:()=>M,NS:()=>E,OF:()=>D,T$:()=>A,UO:()=>S,Vr:()=>a,YW:()=>f,_3:()=>Z,_9:()=>g,_Q:()=>v,aE:()=>O,aP:()=>s,b1:()=>U,bz:()=>N,eq:()=>d,fK:()=>k,fh:()=>C,hZ:()=>c,iU:()=>b,ku:()=>l,lZ:()=>F,mZ:()=>j,oe:()=>h,pA:()=>L,qi:()=>x,s0:()=>W,sW:()=>I,tL:()=>u,w9:()=>z,yY:()=>y,z3:()=>m,zk:()=>R});var r=n(43831),o=n(38453);const i=(0,r.P2)(["_id"]),s=(0,r.P2)(["adminId"]),a=e=>e&&((0,r.P2)(["provider"],e)||o.P.STRIPE),l=(0,r.P2)(["status"]),c=(0,r.vg)("canceled"),d=(0,r.P2)(["teamMemberCount"]),u=(0,r.P2)(["plan","name"]),m=(0,r.P2)(["plan","quantity"]),p=(0,r.P2)(["plan","maxSeats"]),h=((0,r.P2)(["plan","status"]),(0,r.P2)(["plan","active"])),g=(0,r.P2)(["plan","createdAt"]),f=(0,r.P2)(["plan","renewAt"]),E=(0,r.P2)(["plan","cancelStatus","cancelAtPeriodEnd"]),v=((0,r.P2)(["plan","cancelStatus","cancelAt"]),(0,r.P2)(["plan","cancelStatus","canceledAt"])),b=(0,r.P2)(["plan","product","pricingScheme"]),y=(0,r.P2)(["plan","product","settings","hideNonAdminTeamMembers"]),I=(0,r.P2)(["plan","product","_id"]),C=(0,r.P2)(["plan","price","_id"]),S=(0,r.P2)(["plan","price","amount"]),T=(0,r.P2)(["plan","price","interval"]),w=(0,r.P2)(["plan","price","currency"]),O=(0,r.P2)(["plan","price","providerPriceId"]),_=(0,r.P2)(["team","name"]),R=(0,r.P2)(["team","autoAddUsers"]),A=(0,r.P2)(["team","domains"]),D=(0,r.P2)(["team","autoAddDuration"]),N=(0,r.P2)(["team","autoAddMaxRenewals"]),x=(0,r.P2)(["detail","customer"]),M=(0,r.P2)(["detail","start"]),P=(0,r.P2)(["detail","plan"]),L=(0,r.P2)(["metadata","fixed_frequency"]),k=(0,r.P2)(["metadata","plan_type"]),F=(0,r.P2)(["metadata","store_save_text"]),B=((0,r.P2)(["metadata","hide_from_checkout"]),e=>{if(!e)return 0;const t=Z(P(e));return t?Number(t):(0,r.P2)(["detail","quantity"],e)||1}),j=(0,r.vg)("id"),z=((0,r.vg)("current_period_start"),(0,r.vg)("current_period_end")),U=(0,r.vg)("cancel_at_period_end"),H=(0,r.vg)("interval"),Z=e=>{const t=(0,r.P2)(["metadata","max_units"],e);if(t)return Number(t)},G=(0,r.P2)(["metadata","display_name"]),K=(0,r.P2)(["name"]),W=e=>G(e)||K(e)},38453:(e,t,n)=>{"use strict";let r;n.d(t,{P:()=>r}),function(e){e.APPLE="apple",e.STRIPE="stripe"}(r||(r={}))},58124:(e,t,n)=>{"use strict";n.d(t,{J:()=>i,d:()=>s});var r=n(96014),o=n(38453);const i=e=>(0,r.Vr)(e)===o.P.STRIPE,s=e=>(0,r.Vr)(e)===o.P.APPLE},30840:(e,t,n)=>{"use strict";n.d(t,{$U:()=>_,Em:()=>T,FG:()=>P,FL:()=>L,Od:()=>w,Ol:()=>I,PW:()=>E,Rf:()=>x,Up:()=>O,Vd:()=>D,Yj:()=>b,_i:()=>R,pT:()=>A,ss:()=>M});var r=n(68738),o=n.n(r),i=(n(77522),n(77606),n(10910)),s=n.n(i),a=(n(98980),n(52612),n(84486),n(35937),n(54061),n(43831)),l=n(76095),c=n(75763),d=n(495),u=n(52432),m=n(70555),p=n(89030),h=n(36309);const g=(e,t)=>(0,u.IT)(t)?(0,u.HZ)(e)?t:e:e|t,f=(e,t)=>(0,a.P2)(["acl",t],e)||0,E=e=>(0,u.YX)(f(e,p.CJ)),v=(e,t=[])=>o()(t)?f(e,t):t.reduce(((t,n)=>t|f(e,n)),0),b=(e,t,n)=>(0,d.uV)(e,t).reduce(((e,t)=>g(e,v(t,n))),0),y=(0,l.PF)((e=>(0,c.VjH)(e)||[]),((e,t,n,r)=>(e[r]=g(e[r],n),e))),I=(0,l.PF)((e=>(0,c.VjH)(e)||[]),((e,t,n,r)=>(e[r]=e[r]||{},e[r].permission=g(e[r].permission,n),e[r].elementId=e[r].elementId||(0,c.nRF)(t),e))),C=(e,t,n,r)=>(0,u.Fs)(r,b(e,t,n))?h.bV.VALID:(0,d.QZ)(e,t)?h.bV.INVALID:h.bV.UNKNOWN,S=(e,t,n,r)=>C(e,t,n,r)===h.bV.VALID,T=(e,t,n,r)=>C(e,t,n,r)===h.bV.INVALID,w=(e,t,n)=>S(e,t,n,h.Ou.SAVE),O=(e,t,n)=>S(e,t,n,h.Ou.FEEDBACK),_=(e,t,n)=>(0,u.YX)(b(e,t,n)),R=(e,t,n)=>(0,u.gH)(b(e,t,n)),A=e=>{const t=[];if(!e)return t;for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],o=Number.isInteger(r)?r:(null==r?void 0:r.permission)||0;!(0,u.HZ)(o)&&(0,m.PE)(n)&&t.push(n)}return t},D=e=>{const t=[];if(!e)return t;for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],o=Number.isInteger(r)?r:(null==r?void 0:r.permission)||0;(0,u.IT)(o)&&(0,m.PE)(n)&&t.push(n)}return t},N=({elements:e,elementId:t})=>{const n=y(e,t);return A(n)},x=({elements:e,elementId:t})=>{const n=y(e,t);return Object.values(n).some((e=>(0,u.YC)(e)&&!(0,u.mF)(e)))},M=(e,t,n)=>{const r=(0,d.G_)(e,t),o=N({elements:e,elementId:(0,c.nRF)(r)});return o.length<=1||!s()(n,o)},P=(e,t,n)=>{const r=(0,d.uV)(e,t),o=[];return r.forEach((t=>{const r=N({elements:e,elementId:(0,c.nRF)(t)});r.length>1&&s()(n,r)&&o.push(t)})),o},L=(0,l.Mb)(((e,t)=>{const n=(0,c.nRF)(t);(0,c.rwk)(t)&&(e.publicEditEnabled=!0,e.publicEditEnabledElementIds.push(n)),E(t)&&(e.legacySecretLinkEnabled=!0,e.legacySecretLinkIds.push(n));const r=(0,c.yAS)(t),o=(0,c.rJG)(t);return o&&(e.feedbackEnabled=!0),r&&o&&(e.publishedFeedbackEnabled=!0,e.publishedFeedbackEnabledElementIds.push(n)),r&&(e.published=!0,e.publishedElementIds.push(n)),(0,c.hN)(t)&&(e.publishedPasswordProtected=!0),e}),{publicEditEnabled:!1,publicEditEnabledElementIds:[],feedbackEnabled:!1,publishedFeedbackEnabled:!1,publishedFeedbackEnabledElementIds:[],publishedMediaDownloadDisabled:!1,publishedPasswordProtected:!1,published:!1,publishedElementIds:[],legacySecretLinkEnabled:!1,legacySecretLinkIds:[]})},65240:(e,t,n)=>{"use strict";n.d(t,{O:()=>r});const r={READ:1,WRITE:2,SAVE:4,PERMISSIONS:4,FEEDBACK:8,OWNER:16,BLOCKED:1<<31}},36309:(e,t,n)=>{"use strict";n.d(t,{Jo:()=>s,Ou:()=>o,bV:()=>i});var r=n(52432);const o=n(65240).O,i={VALID:"VALID",INVALID:"INVALID",UNKNOWN:"UNKNOWN"},s=(o.WRITE,{READ_ONLY:(0,r.BN)({read:!0,write:!1,save:!1,feedback:!1,owner:!1}),READ_AND_FEEDBACK:(0,r.BN)({read:!0,write:!1,save:!1,feedback:!0,owner:!1}),FULL_ACCESS:(0,r.BN)({read:!0,write:!0,save:!0,feedback:!0,owner:!1}),OWNER:(0,r.BN)({read:!0,write:!0,save:!0,feedback:!0,owner:!0})})},52432:(e,t,n)=>{"use strict";n.d(t,{$u:()=>p,BN:()=>E,Fs:()=>d,G6:()=>I,HZ:()=>l,IT:()=>c,Od:()=>m,YC:()=>h,YX:()=>u,ZV:()=>v,g1:()=>C,gH:()=>g,jk:()=>a,mF:()=>f,os:()=>b,up:()=>y});var r=n(89935),o=n.n(r),i=n(65240);const s=/^p_[a-zA-Z0-9]{14}$/,a=e=>s.test(e),l=e=>!e||e<=0,c=e=>e<0,d=o()(((e,t)=>c(t)?e===i.O.BLOCKED:e===(t&e))),u=d(i.O.READ),m=d(i.O.WRITE),p=d(i.O.SAVE),h=d(i.O.FEEDBACK),g=d(i.O.PERMISSIONS),f=d(i.O.OWNER),E=({read:e=!0,write:t=!0,save:n=!0,feedback:r=!0,owner:o=!1})=>(e?i.O.READ:0)|(t?i.O.WRITE:0)|(n?i.O.SAVE:0)|(r?i.O.FEEDBACK:0)|(o?i.O.OWNER:0),v=e=>u(e)&&m(e)&&!p(e),b=e=>u(e)&&!m(e)&&!h(e),y=e=>u(e)&&h(e)&&m(e)&&p(e),I=e=>u(e)&&h(e)&&!m(e)&&!p(e),C=e=>c(e)?["BLOCKED"]:Object.keys(i.O).reduce(((t,n)=>{const r=i.O[n]||0;return d(r,e)&&t.push(n),t}),[])},87384:(e,t,n)=>{"use strict";let r,o,i,s,a,l,c;n.d(t,{$2:()=>l,CellTypeNames:()=>r,Dr:()=>a,H:()=>i,Q4:()=>s,TimeStringFormatOptions:()=>c,kE:()=>d,kX:()=>o}),function(e){e.AUTO="Auto",e.NUMBER="Number",e.CURRENCY="Currency",e.PERCENTAGE="Percentage",e.TEXT="Text",e.DATE_TIME="DateTime",e.CHECKBOX="Checkbox"}(r||(r={})),function(e){e.DECIMALS="decimals",e.THOUSANDS_SEPARATOR="thousandsSeparator",e.ACCOUNTING="accounting",e.CURRENCY="currency",e.CURRENCY_DISPLAY="currencyDisplay",e.HAS_TIME="hasTime",e.HAS_SECONDS="hasSeconds",e.DATE_FORMAT="dateFormat",e.TIME_FORMAT="timeFormat",e.TIME_IN_BRACKETS="timeInBrackets"}(o||(o={})),function(e){e.LEFT="left",e.CENTER="center",e.RIGHT="right"}(i||(i={})),function(e){e.TOP="top",e.MIDDLE="middle",e.BOTTOM="bottom"}(s||(s={})),function(e){e.SYMBOL="symbol",e.NARROW_SYMBOL="narrowSymbol",e.CODE="code",e.NAME="name"}(a||(a={})),function(e){e.NONE="none",e.WORDS_LONG="wordsLong",e.WORDS_SHORT="wordsShort",e.NUMERIC_LONG="numericLong",e.NUMERIC_SHORT="numericShort",e.NUMERIC_DASHED="numericDashed",e.WEEKDAY="weekday"}(l||(l={})),function(e){e.NONE="none",e.TWELVE_HOUR_SECONDS="twelveHourSeconds",e.TWELVE_HOUR="twelveHour",e.TWENTY_FOUR_HOUR_SECONDS="twentyFourHourSeconds",e.TWENTY_FOUR_HOUR="twentyFourHour"}(c||(c={}));const d={[r.AUTO]:{displayName:"Auto",icon:"cell-type-auto",alignment:i.LEFT,allowCellEditing:!0},[r.NUMBER]:{displayName:"Number",icon:"cell-type-number",formattingOptions:{[o.DECIMALS]:{defaultValue:"auto"},[o.THOUSANDS_SEPARATOR]:{defaultValue:!0}},alignment:i.RIGHT,allowCellEditing:!0},[r.CURRENCY]:{displayName:"Currency",icon:"cell-type-currency",formattingOptions:{[o.DECIMALS]:{defaultValue:2},[o.THOUSANDS_SEPARATOR]:{defaultValue:!0},[o.ACCOUNTING]:{defaultValue:!1},[o.CURRENCY]:{defaultValue:"USD"},[o.CURRENCY_DISPLAY]:{defaultValue:a.NARROW_SYMBOL}},alignment:i.RIGHT,allowCellEditing:!0},[r.PERCENTAGE]:{displayName:"Percentage",icon:"cell-type-percentage",formattingOptions:{[o.DECIMALS]:{defaultValue:2},[o.THOUSANDS_SEPARATOR]:{defaultValue:!0}},alignment:i.RIGHT,allowCellEditing:!0},[r.TEXT]:{displayName:"Text",icon:"cell-type-text",alignment:i.LEFT,allowCellEditing:!0},[r.DATE_TIME]:{displayName:"Date & Time",icon:"cell-type-datetime",alignment:i.RIGHT,allowCellEditing:!0,formattingOptions:{[o.HAS_TIME]:{defaultValue:!1},[o.HAS_SECONDS]:{defaultValue:!1},[o.DATE_FORMAT]:{defaultValue:l.WORDS_SHORT},[o.TIME_FORMAT]:{defaultValue:c.NONE},[o.TIME_IN_BRACKETS]:{defaultValue:!0}}},[r.CHECKBOX]:{displayName:"Checkbox",icon:"cell-type-checkbox",alignment:i.CENTER,allowCellEditing:!1}}},54301:(e,t,n)=>{"use strict";n.d(t,{AA:()=>b,Am:()=>E,An:()=>d,CJ:()=>y,D3:()=>p,Gl:()=>l,MY:()=>f,PN:()=>I,Ut:()=>h,Ve:()=>c,_O:()=>m,co:()=>C,e0:()=>v,gQ:()=>u,mW:()=>S,pU:()=>s,vj:()=>i,wM:()=>g,yo:()=>a});var r=n(87384),o=n(30402);const i="TABLE",s="Table",a=12,l=6,c=4,d=3,u=4,m=1,p=2,h=12,g=3,f="TABLE-GRID",E="TABLE-CELL",v="TABLE-TITLE",b="TABLE-CAPTION",y=r.H.LEFT,I=r.Q4.TOP,C="TABLE_DEFAULT_HEADER_BACKGROUND_COLOR",S=Object.assign({},o.DM,{GREY:{name:"TABLE_DEFAULT_HEADER_BACKGROUND_COLOR",css:"var(--ws-table-header-row-background)",hex:"#D2D3D6"}})},99331:(e,t,n)=>{"use strict";n.d(t,{GU:()=>i,bQ:()=>s,tT:()=>a});var r=n(66774);const o="@@mn-draft-js:",i=e=>o+JSON.stringify(e),s=e=>{try{if("string"==typeof e&&(e=>"string"==typeof e&&e.startsWith(o))(e)){const t=e.slice(14);return JSON.parse(t)}}catch(t){}return e},a=e=>{const t=s(e);return"object"==typeof t?(0,r.Z)(t):e}},5527:(e,t,n)=>{"use strict";n.d(t,{$W:()=>l,C$:()=>g,C_:()=>i,Ei:()=>a,K2:()=>s,_I:()=>p,c1:()=>u,jF:()=>h,qj:()=>d});var r=n(87384),o=n(43831);const i=(0,o.vg)("value"),s=(0,o.vg)("resultValue"),a=e=>{const t=i(e);return!!t&&t.toString().startsWith("=")},l=e=>t=>{var n;return(null==t||null===(n=t.type)||void 0===n?void 0:n.name)===e},c=l(r.CellTypeNames.NUMBER),d=l(r.CellTypeNames.CURRENCY),u=l(r.CellTypeNames.PERCENTAGE),m=(l(r.CellTypeNames.TEXT),l(r.CellTypeNames.DATE_TIME)),p=l(r.CellTypeNames.CHECKBOX),h=e=>[r.CellTypeNames.CURRENCY,r.CellTypeNames.NUMBER,r.CellTypeNames.PERCENTAGE].includes(e),g=e=>c(e)||d(e)||u(e)||m(e)},46015:(e,t,n)=>{"use strict";n.d(t,{Hp:()=>d,Ii:()=>m,L0:()=>l,xz:()=>c});var r=n(14293),o=n.n(r),i=n(84576),s=n(19092),a=n(87384);const l=(e,t,n)=>{let r={};switch(t){case a.$2.NONE:return"";case a.$2.WORDS_LONG:r={dateStyle:"long"};break;case a.$2.WORDS_SHORT:r={dateStyle:"medium"};break;case a.$2.NUMERIC_SHORT:r={year:"2-digit",month:"numeric",day:"numeric"};break;case a.$2.WEEKDAY:r={dateStyle:"full"}}let o=new Intl.DateTimeFormat(n,r).format(e);return t===a.$2.NUMERIC_DASHED&&(o=o.replace(/\//g,"-")),t!==a.$2.NUMERIC_LONG&&t!==a.$2.NUMERIC_SHORT||(o=o.replace(/-/g,"/")),o},c=(e,t,n)=>{let r={};switch(t){case a.TimeStringFormatOptions.NONE:return"";case a.TimeStringFormatOptions.TWELVE_HOUR_SECONDS:r={hourCycle:"h12",hour:"numeric",minute:"numeric",second:"numeric"};break;case a.TimeStringFormatOptions.TWELVE_HOUR:r={hourCycle:"h12",hour:"numeric",minute:"numeric"};break;case a.TimeStringFormatOptions.TWENTY_FOUR_HOUR_SECONDS:r={hourCycle:"h23",hour:"numeric",minute:"numeric",second:"numeric"};break;case a.TimeStringFormatOptions.TWENTY_FOUR_HOUR:r={hourCycle:"h23",timeStyle:"short"}}return new Intl.DateTimeFormat(n,r).format(e)},d=(e,t)=>{const n=[],r=Object.values(a.Dr).map((r=>{const o=((e,t,n)=>new Intl.NumberFormat(n,{style:"currency",currency:t,currencyDisplay:e}).format(12345))(r,e,t);if(!n.includes(o))return n.push(o),{option:r,value:o}}));return r.filter((e=>e))},u=(e,t,n)=>{const{name:r,decimals:o,thousandsSeparator:s}=t;let l=Number((0,i.WV)(String(e),!1,n));if(isNaN(l))return e;"string"==typeof e&&e.match(i.nY)&&(l/=100);let c=Object.assign({useGrouping:s},((e,t)=>{var n;const r="auto"===t||isNaN(Number(t)),o=(null===(n=e.toString().split(".")[1])||void 0===n?void 0:n.length)||0,i=r?o:t;return{maximumFractionDigits:i,minimumFractionDigits:i}})(l,o));switch(r){case a.CellTypeNames.CURRENCY:c=Object.assign({},c,{style:"currency",currency:t.currency||"USD",currencyDisplay:t.currencyDisplay||a.Dr.NARROW_SYMBOL,currencySign:t.accounting?"accounting":"standard"});break;case a.CellTypeNames.PERCENTAGE:c=Object.assign({},c,{style:"percent"})}return new Intl.NumberFormat(n,c).format(l)},m=(e,t,n)=>{if(!e)return n;const{type:r}=e;if(!r||o()(n))return n;switch(r.name){case a.CellTypeNames.TEXT:return n;case a.CellTypeNames.DATE_TIME:return((e,t,n)=>{if(!e)return"";const r=(0,s.bl)(e,n);if(!r)return String(e);const{dateFormat:o,timeFormat:i,timeInBrackets:a}=t,d=l(r,o,n),u=c(r,i,n);return`${d} ${a&&u?`(${u})`:`${u}`}`.trim()})(n,r,t);case a.CellTypeNames.CURRENCY:case a.CellTypeNames.PERCENTAGE:case a.CellTypeNames.NUMBER:return u(n,r,t);default:return n}}},12515:(e,t,n)=>{"use strict";n.d(t,{B6:()=>a,Zu:()=>i,wq:()=>l});var r=n(88306);const o={$:"USD","£":"GBP",kr:"SEK","¥":"JPY","₩":"KRW",Rs:"PKR"},i=(e="USD")=>(0).toLocaleString("en-US",{style:"currency",currency:e,currencyDisplay:"narrowSymbol",minimumFractionDigits:0,maximumFractionDigits:0}).replace(/\d/g,"").trim(),s=n.n(r)()((e=>{const t=Intl.supportedValuesOf("currency"),n={};return t.forEach((e=>{const t=i(e);o[t]||n[t]||t.length>=3&&t===t.toUpperCase()||(n[t]=e)})),Object.keys(o).forEach((e=>{n[e]=o[e]})),e&&(n[i(e)]=e),n})),a=(e,t)=>{const n=s(t);for(let r=3;r>=1;r--){const t=e.substring(0,r);if(n[t])return{currencySymbol:t,currency:n[t]};const o=e.substring(e.length-r,e.length);if(n[o])return{currencySymbol:o,currency:n[o]}}return{currencySymbol:null,currency:null}},l=e=>{const{currencySymbol:t}=a(e);return t?e.replace(t,""):e}},31344:(e,t,n)=>{"use strict";n.d(t,{WC:()=>s,h8:()=>l,qv:()=>a});var r=n(87384),o=n(40470),i=n(19092);const s=(e,t,n)=>{if(!e||!t)return;const r=(0,i.bl)(e,n);if(!r)return e;const{hasTime:o,hasSeconds:s}=t;return(0,i.v)(r,{hasTime:o,hasSeconds:s},n)},a=(e,t,n,s=!1)=>{if(!e)return;let a,l=String(e).trim();if(s){const n=((e,t)=>{let n=String(e).trim().replace(",","").replace(".","").toLowerCase();const i=n.split(" "),s=i.length>1,a=(e,t)=>s?e.includes(t)&&i.includes(t):i.includes(t);let l;const{short:c,long:d,monthUS:u}=(0,o.kU)(t);for(let o=0;o<12;o++){if(a(n,d[o])){n=n.replace(d[o],u[o]),l=r.$2.WORDS_LONG;break}if(a(n,c[o])){n=n.replace(c[o],u[o]),l=r.$2.WORDS_SHORT;break}if(a(n,u[o])){l=r.$2.WORDS_LONG;break}}const{short:m,long:p}=(0,o.yJ)(t);for(let o=0;o<7;o++){const e=n.match(p[o])||n.match(m[o]),t=e?e[0]:null;if(t&&a(n,t)){n=n.replace(t,""),l=r.$2.WEEKDAY;break}}return(0,o.ar)(t).forEach((e=>{n.includes(e)&&i.includes(e)&&(n=n.replace(`${e} `,""))})),{inputString:n,inputFormat:l}})(e,t);l=n.inputString.trim(),a=n.inputFormat}const c=(0,i.bl)(l.trim(),t);if(!c)return;a||(l.match(i.d4)&&(a=r.$2.NUMERIC_DASHED),l.match(i.cx)&&(a=r.$2.NUMERIC_LONG),l.match(i.kR)&&(a=r.$2.NUMERIC_SHORT),a||(a=r.$2.WORDS_SHORT));const d=(null==n?void 0:n.hasTime)||(0,i.zb)(c)||!!l.match(/\d{1,2}:\d{1,2}/),u=(null==n?void 0:n.hasSeconds)||(0,i.st)(l),m=(0,i.Cn)(l),p=null!=n&&n.dateFormat||m?a:r.$2.NONE;return{numericDateTimeString:(0,i.v)(c,{hasTime:d,hasSeconds:u},t),hasTime:d,hasSeconds:u,dateFormat:p,timeInBrackets:(null==n?void 0:n.timeInBrackets)||m}},l=(e,t,n)=>{const{prevCellValue:o=null,prevTypeObject:s,locale:a,rawInput:l}=n;if(t&&t.name!==r.CellTypeNames.DATE_TIME||!e)return{};const c=s&&s.name===r.CellTypeNames.DATE_TIME,d=o?(0,i.bl)(o,a):o,u=(0,i.bl)(e,a);if(!u)return{};const m=u.getSeconds()||(null==t?void 0:t[r.kX.HAS_SECONDS]),p=(0,i.zb)(u)||t&&t[r.kX.HAS_TIME],h=((e,t,n,o)=>{const s=t&&t.name===r.CellTypeNames.DATE_TIME,a=s&&(null==t?void 0:t.dateFormat)!==r.$2.NONE,l=(null==o?void 0:o.dateFormat)!==r.$2.NONE,c=!(0,i.eT)(e,n);return(s?a&&!l||!a&&!c:!l)?r.$2.NONE:a?null==t?void 0:t.dateFormat:null==o?void 0:o.dateFormat})(d,s,u,t),g=h!==r.$2.NONE,f=c?s.timeInBrackets:g,E=((e,t,n,o,s,a)=>{const l=n&&n.name===r.CellTypeNames.DATE_TIME,c=o&&l&&(null==n?void 0:n[r.kX.HAS_SECONDS]),d=o&&l&&n[r.kX.HAS_TIME],u=c&&!a||!c&&a,m=d&&!s||!d&&s,p=m&&s,{NONE:h,TWELVE_HOUR_SECONDS:g,TWELVE_HOUR:f,TWENTY_FOUR_HOUR:E,TWENTY_FOUR_HOUR_SECONDS:v}=r.TimeStringFormatOptions;if(!s&&!l)return h;if(!s&&l&&m)return h;const b=(null==t?void 0:t.timeFormat)||f,y=l?n[r.kX.TIME_FORMAT]:b;if(!(u||p&&y===h))return y;const I=null==e?void 0:e.toString().match(i.FC),C=p?!I:[E,v].includes(b);return a?C?v:g:C?E:f})(l,t,s,d,p,m);return{[r.kX.HAS_TIME]:p,[r.kX.TIME_FORMAT]:E,[r.kX.TIME_IN_BRACKETS]:f,[r.kX.DATE_FORMAT]:h}}},44766:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(14293),o=n.n(r),i=n(87384),s=n(12515),a=n(31344),l=n(84576);const c=(e,t=!1,n,r)=>{const c=(0,l.pM)(e,t,n);if(!o()(c)){if(e.match(l.nY)){const r=t?(0,l.kg)(e,n):e;return{newCellType:i.CellTypeNames.PERCENTAGE,newCellValue:r}}const{currency:o}=(0,s.B6)(e,r);return o&&c?{newCellType:i.CellTypeNames.CURRENCY,newCellValue:c,otherTypeOptions:{currency:o}}:{newCellType:i.CellTypeNames.NUMBER,newCellValue:c}}const d=(0,a.qv)(e,n,void 0,t);if(d){const{numericDateTimeString:e,hasTime:t,hasSeconds:n,dateFormat:r}=d;return{newCellType:i.CellTypeNames.DATE_TIME,newCellValue:e,otherTypeOptions:{hasTime:t,hasSeconds:n,dateFormat:r}}}}},84576:(e,t,n)=>{"use strict";n.d(t,{WV:()=>d,kg:()=>c,nY:()=>l,pM:()=>u});var r=n(14293),o=n.n(r),i=n(40470),s=n(12515);const a=/^[0-9]{0,3}(,[0-9]{3})*(\.[0-9]*)?$/,l=/%$/,c=(e,t)=>{const{thousandsSeparator:n,decimalSeparator:r}=(0,i.Ul)(t);return e.replaceAll(n,"thousands").replaceAll(r,"decimals").replaceAll("thousands",",").replaceAll("decimals",".")},d=(e,t,n)=>{let r=e;r=t?c(r,n):r,r=r.replace(l,""),r=(0,s.wq)(r),r=r.replaceAll(/\s/g,"");return r.match(a)&&(r=r.replaceAll(",","")),r},u=(e,t,n)=>{const r=d(e,t,n),i=r.length>0?Number(r):null;return!o()(i)&&!isNaN(i)?i:null}},75188:(e,t,n)=>{"use strict";n.d(t,{Kl:()=>r,Qm:()=>s,SZ:()=>i,o8:()=>o,oW:()=>a});const r="TASK_LIST",o="To-do list",i="showTitle",s="titleSuggestionAck",a="deleteTasksDismissed"},26138:(e,t,n)=>{"use strict";n.d(t,{C3:()=>m,jA:()=>u,nH:()=>c,st:()=>d});var r=n(43831),o=n(95521),i=n(495),s=n(48421),a=n(11111),l=n(90693);const c=(0,i.Zr)(a.k8),d=e=>({elements:t,elementGraph:n,elementId:u})=>{const m=c(t,u),p=(0,l.vp)({elements:t,elementGraph:n,startElementId:m,elementSortFn:o.bj}),h=(0,s.sI)(p,m),g=(0,s.yY)(h,u);let f=null;f=g?g+(e?1:-1):e?1:h.length-1;const E=(0,r.P2)([f,"id"],h),v=(0,i.sb)(t,E);return v?(0,a.PG)(v)?v:d(e)({elements:t,elementGraph:n,elementId:E}):null},u=d(!1),m=d(!0)},73440:(e,t,n)=>{"use strict";n.d(t,{A:()=>r,I:()=>o});const r="TASK",o="To-do"},36219:(e,t,n)=>{"use strict";n.d(t,{H_:()=>a,KT:()=>l,Wq:()=>m,Wr:()=>i,Zk:()=>c,e7:()=>d,hq:()=>u,pZ:()=>o,qn:()=>p,yK:()=>s});var r=n(43831);const o=(0,r.P2)(["content","isTemplate"]),i=(0,r.P2)(["content","isPublicTemplateChild"]),s=(0,r.P2)(["content","templateLink"]),a=(0,r.P2)(["content","templateExampleLink"]),l=e=>!!o(e),c=e=>!!s(e),d=e=>l(e)&&!i(e),u=e=>!!(0,r.P2)(["content","templateCollection"])(e),m=(0,r.P2)(["content","isPublicTemplate"]),p=e=>m(e)?"Public Template":c(e)?"Template (example)":(e=>!!a(e))(e)?"Template (empty)":"Template"},11581:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(23420),o=n.n(r),i=n(93011),s=n(67924),a=n(61277);const l=(e,t,n=(new Date).getTime())=>{const r=(0,a.VN)(n),l=o().encode(t%s.ej);return r+e+(0,i.Z)(l,"00")}},1014:(e,t,n)=>{"use strict";n.d(t,{Jj:()=>u});var r=n(16226),o=n.n(r),i=n(23420),s=n.n(i),a=n(67924),l=n(19092);n(61277);const c=new Date("2016-02-29T00:00:00.000Z").getTime(),d=o()("_"),u=e=>{if(!e)return!1;if(d(e))return!1;if(e.length!==a.xj&&e.length!==a.xj+1)return!1;const t=e.substring(0,a.$o),n=1e3*s().decode(t),r=Date.now()+l.yu.DAY;return n>c&&n<r}},93011:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(e,t)=>`${t}${e}`.slice(-t.length)},63291:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(23420),o=n.n(r),i=n(93011);const s=e=>{const t=Math.floor(Math.random()*Math.pow(62,e));return(0,i.Z)(o().encode(t),(e=>new Array(e).join("0"))(e))}},61277:(e,t,n)=>{"use strict";n.d(t,{VN:()=>s});var r=n(23420),o=n.n(r),i=n(67924);const s=(e,t=i.lu)=>o().encode(Math.floor(e/t))},67924:(e,t,n)=>{"use strict";n.d(t,{$o:()=>i,ej:()=>a,jN:()=>o,lu:()=>r,nc:()=>l,xj:()=>s});const r=1e3,o=62,i=6,s=i+6+2,a=o*o,l=o*o*o*o},51910:(e,t,n)=>{"use strict";n.d(t,{LY:()=>a,MC:()=>i,ND:()=>o,pv:()=>s});const r=9999999999999,o=100,i=20,s=100,a=e=>e>=r},48538:(e,t,n)=>{"use strict";n.d(t,{Rd:()=>i,ez:()=>o,gs:()=>r});const r="CURSOR_UPDATE",o="CURSOR_REMOVE",i={POINTER:"pointer",PEN:"pen",ERASER:"eraser"}},28690:(e,t,n)=>{"use strict";n.d(t,{Ec:()=>a,Nq:()=>i,cE:()=>s});var r=n(19092),o=n(89030);const i=({userId:e,changes:t,personal:n=!1,sync:r=!0})=>({type:o.cB,userId:e,changes:t,personal:n,sync:r}),s=({userId:e})=>({type:o.cc,userId:e,timestamp:(0,r.u3)(),sync:!0}),a=({userId:e,user:t})=>({type:o.K7,userId:e,user:t})},89030:(e,t,n)=>{"use strict";n.d(t,{$R:()=>D,AR:()=>O,Ap:()=>R,CJ:()=>C,K7:()=>o,N1:()=>i,Nk:()=>f,Pb:()=>d,T:()=>y,TS:()=>a,U2:()=>b,VT:()=>_,Vw:()=>S,_L:()=>s,_i:()=>T,bF:()=>I,cB:()=>r,cc:()=>l,cj:()=>v,cl:()=>m,e0:()=>p,it:()=>E,mP:()=>w,pR:()=>h,rg:()=>u,xY:()=>g,xb:()=>c,yr:()=>A});const r="USER_UPDATE",o="USER_REFRESH",i="USER_NAVIGATE",s="GUEST_NAVIGATE",a="USER_NAVIGATE_TEMPLATE",l="USER_ACTIVITY_HEARTBEAT",c="USER_CHECKED_NOTIFICATIONS",d="USER_CHECKED_QUICK_NOTES",u="USER_ENABLE_EXPERIMENT",m="USER_CONNECT",p="USER_DISCONNECT",h={USER:"USER",CLIENT:"CLIENT",ADMIN:"ADMIN",STAFF:"STAFF",BETA:"BETA",SERVER:"SERVER",DATA:"DATA"},g={INVITED:"INVITED",ACTIVE:"ACTIVE",LOCKED:"LOCKED",REMOVED:"REMOVED"},f={CONNECTED:"CONNECTED",DISCONNECTED:"DISCONNECTED",IDLE:"IDLE"},E={GOOGLE:"google",APPLE:"apple"},v={GOOGLE_SIGN_IN:"GOOGLE_SIGN_IN",APPLE_SIGN_IN:"APPLE_SIGN_IN",PASSWORD:"PASSWORD"},b={PRODUCT_UPDATES:1,ACTIVITY_DIGEST:2,SHARED_BOARDS:4,MENTIONS:8,COMMENTS:16,ASSIGNMENTS:32,REMINDERS:64},y=b.PRODUCT_UPDATES|b.ACTIVITY_DIGEST|b.SHARED_BOARDS|b.MENTIONS|b.ASSIGNMENTS|b.REMINDERS,I=b.SHARED_BOARDS|b.MENTIONS|b.COMMENTS|b.ASSIGNMENTS|b.REMINDERS,C="_other",S="_default",T="guest",w=6e5,O={EXTRA_LARGE:128,LARGE:64,REGULAR:36,REGULAR_SMALL:30,SMALL:24},_={WEB:"WEB",PWA:"PWA",APP:"App",IPAD:"iPad",IPHONE:"IPHONE",ANDROID:"ANDROID",BROWSER_EXTENSION:"BROWSER_EXTENSION",CONFLICT:"CONFLICT"},R={BOARD_INVITE:"board invite"},A={PUBLIC_EDIT_REGISTRATION:"public_edit",PUBLISHED_REGISTRATION:"published",UTM_REGISTRATION:"utm"},D={[A.PUBLIC_EDIT_REGISTRATION]:"Registered on editable board",[A.PUBLISHED_REGISTRATION]:"Registered on published board",[A.UTM_REGISTRATION]:"Registered on utm board"}},33921:(e,t,n)=>{"use strict";n.d(t,{CL:()=>u,Dh:()=>m,MS:()=>l,OM:()=>g,Ox:()=>c,UW:()=>s,Vc:()=>d,g3:()=>h,wO:()=>p,wn:()=>a});var r=n(63360),o=n.n(r),i=n(32471);const s={DESKTOP_ONBOARDING:1,EXPLAIN_NOTE:16,EXPLAIN_LINE:32,EXPLAIN_LINK:64,EXPLAIN_COLUMN:128,EXPLAIN_BOARD:256,EXPLAIN_DOUBLE_CLICK_CARD:512,EXPLAIN_MORE_TOOL:1024,EXPLAIN_COMMENT:2048,EXPLAIN_BOARD_SHARING:4096,EXPLAIN_TEMPLATE_CREATION_SUCCESS:8192,EXPLAIN_IMAGE_PLACEHOLDER:16384,EXPLAIN_TASK_LIST:32768,EXPLAIN_COMMENT_THREAD:65536,EXPLAIN_DOCUMENT:1<<17,EXPLAIN_AUDIO:1<<18,EXPLAIN_MAP:1<<19,EXPLAIN_VIDEO:1<<20,EXPLAIN_SKETCH:1<<21,EXPLAIN_SWATCH:1<<22,EXPLAIN_TITLE:1<<23,EXPLAIN_ANNOTATION_TOOL:1<<24,EXPLAIN_BOARD_BREADCRUMBS:1<<25,ANNOUNCE_ZOOM:1<<26,EXPLAIN_TABLE:1<<27,ANNOUNCE_TABLE:1<<28},a="default-onboarding",l=0,c="has-segment-onboarding",d="invited-onboarding",u=(s.EXPLAIN_COMMENT,"mobile-onboarding"),m=(o()(s).reduce(i.y5,0),s.EXPLAIN_MORE_TOOL),p="public-edit-registration-onboarding",h="publish-feedback-registration-onboarding",g=s.EXPLAIN_COMMENT},32471:(e,t,n)=>{"use strict";n.d(t,{Nc:()=>o,y5:()=>r});const r=(e,t)=>e|t,o=(e,t)=>t===(e&t)},70555:(e,t,n)=>{"use strict";n.d(t,{AC:()=>S,Dp:()=>L,EN:()=>I,Gf:()=>O,Ht:()=>w,OD:()=>A,PE:()=>E,VQ:()=>B,Wf:()=>P,X0:()=>R,_h:()=>b,gJ:()=>x,iy:()=>k,mr:()=>y,oY:()=>F,uj:()=>D,vz:()=>_,y$:()=>M,yA:()=>C,zv:()=>T});var r=n(42583),o=n.n(r),i=n(12915),s=n.n(i),a=n(8816),l=n.n(a),c=n(43831),d=n(52432),u=n(89030);const m=e=>t=>t===e,p=m(u.CJ),h=m(u._i),g=m(u.Vw),f=/^[0-9a-fA-F]{24}$/,E=e=>e&&(e=>f.test(e))(e)&&!p(e)&&!(0,d.jk)(e)&&!h(e)&&!g(e),v=e=>l()((0,c.vg)("status"),s()(e)),b=v(u.xY.INVITED),y=v(u.xY.ACTIVE),I=v(u.xY.REMOVED),C=v(u.xY.LOCKED),S=e=>y(e)||C(e),T=(0,c.vg)("_id"),w=(0,c.vg)("name"),O=(0,c.P2)(["name","displayName"]),_=(0,c.P2)(["name","givenName"]),R=(0,c.P2)(["name","familyName"]),A=(0,c.vg)("email"),D=l()((0,c.vg)("email"),o()),N=((0,c.vg)("google"),(0,c.vg)("apple"),(0,c.vg)("role")),x=(0,c.vg)("image"),M=(0,c.vg)("rootBoardId"),P=((0,c.vg)("templateRootId"),(0,c.vg)("quickNotesRootId"),(0,c.vg)("customerId")),L=(0,c.vg)("onlineStatus"),k=l()(N,(e=>e===u.pR.STAFF||e===u.pR.ADMIN)),F=e=>O(e)||A(e)||"Someone",B=e=>_(e)||A(e)||"Someone"},90252:(e,t,n)=>{"use strict";n.d(t,{B2:()=>me,B_:()=>ee,FK:()=>x,HK:()=>R,Ho:()=>ne,IL:()=>f,Iw:()=>pe,J0:()=>E,J_:()=>ie,KK:()=>Q,L6:()=>I,Nu:()=>J,OC:()=>C,OK:()=>$,Ro:()=>k,U5:()=>q,UO:()=>de,V5:()=>W,Vu:()=>Y,Wf:()=>L,XD:()=>z,Xw:()=>K,ZH:()=>j,ZW:()=>te,_v:()=>H,b:()=>b,dA:()=>G,eW:()=>V,fK:()=>ce,g5:()=>T,g9:()=>F,gV:()=>h,gl:()=>M,kC:()=>re,kT:()=>v,l8:()=>N,lR:()=>_,m_:()=>y,n5:()=>O,n9:()=>le,o9:()=>X,pI:()=>P,pW:()=>A,py:()=>oe,sj:()=>B,vd:()=>S,wE:()=>Z,wu:()=>U,y$:()=>g,zA:()=>ae,zo:()=>D});var r=n(89935),o=n.n(r),i=n(68738),s=n.n(i),a=n(77606),l=n.n(a),c=n(43831),d=n(72945),u=(n(19092),n(89030)),m=n(51910);const p=(0,c.P2)(["google","scope"]),h=(0,c.vg)("email"),g=(0,c.vg)("rootBoardId"),f=((0,c.vg)("contentLimit"),(0,c.P2)(["contentLimit","current"])),E=e=>(0,c.P2)(["contentLimit","default"],e)||m.ND,v=e=>(0,c.P2)(["contentLimit","giftBonus"],e)||0,b=e=>(0,c.P2)(["contentLimit","maxReferralBonus"],e)||m.pv,y=e=>(0,c.vg)("lastCheckedNotifications",e)||0,I=(0,c.vg)("flags"),C=o()(((e,t)=>(0,c.P2)(["flags",e],t)||!1)),S=((0,c.vg)("timezone"),e=>(0,c.P2)(["userSegment","segment"],e)||(0,c.P2)(["segments",0],e)||"generic"),T=(0,c.vg)("experiments"),w=((0,c.P2)(["local","password"]),(0,c.vg)("google")),O=((0,c.P2)(["google","id"]),(0,c.P2)(["apple","id"]),(0,c.P2)(["google","accessToken"]),(0,c.P2)(["google","refreshToken"]),(0,c.vg)("_id")),_=(0,c.vg)("status"),R=((0,c.vg)("statusDetails"),(0,c.vg)("image")),A=(0,c.vg)("education"),D=(0,c.vg)("onboarding"),N=e=>!!(0,c.vg)("emailVerifiedDate",e),x=(0,c.vg)("subscriptionId"),M=((0,c.P2)(["subscriptionMeta","inviteId"]),(0,c.P2)(["subscriptionMeta","requiredDomains"])),P=(0,c.vg)("subscription"),L=(0,c.vg)("customerId"),k=((0,c.vg)("settings"),(0,c.P2)(["settings","pushNotifications"])),F=(0,c.P2)(["settings","email"]),B=(0,c.P2)(["settings","showGrid"]),j=(0,c.P2)(["settings","pushCards"]),z=(0,c.P2)(["settings","enableTemplatePicker"]),U=(0,c.P2)(["settings","enableDrawingInkEffect"]),H=(0,c.P2)(["settings","enableDoubleClickToCreateNotes"]),Z=(0,c.P2)(["settings","enableUndoRedoButtons"]),G=(0,c.P2)(["settings","enableUndoRedoButtonsForIpad"]),K=(0,c.P2)(["settings","languagePreference"]),W=(0,c.P2)(["settings","currencyPreference"]),V=e=>!!(0,c.P2)(["settings","enableAnonymousViewing"],e),$=(0,c.P2)(["settings","disableSerifHeadings"]),q=(0,c.P2)(["settings","preferredColorDisplay"]),Y=(0,c.P2)(["settings","enableFeatureSuggestion"]),X=(0,c.P2)(["settings","primaryTools"]),Q=(0,c.P2)(["settings","primaryToolsTouch"]),J=(0,c.P2)(["settings","reactionsRecent"]),ee=(0,c.P2)(["settings","reactionsSkinTone"]),te=((0,c.vg)("accountCreationDate"),(0,c.vg)("accountRegistrationDate"),e=>(0,c.P2)(["settings","browserExtensions"],e)),ne=(0,c.vg)("isGuest"),re=(0,c.vg)("isAnonymous"),oe=(0,c.vg)("referrerCode"),ie=(0,c.vg)("currentBoardId"),se=(0,c.vg)("authMethods"),ae=(0,c.vg)("shareCount"),le=e=>{const t=se(e);return t&&t.includes(u.cj.PASSWORD)},ce=(e,t)=>(e=>!l()(w(e)))(e)&&(0,d.MU)(p(e),t),de=e=>!!R(e),ue=e=>s()(e)?e:(0,c.vg)("role",e),me=e=>ue(e)===u.pR.STAFF||(e=>ue(e)===u.pR.ADMIN)(e),pe=(e,t)=>{var n;return!(null===(n=T(t))||void 0===n||!n.includes(e))}},7405:(e,t,n)=>{"use strict";n.d(t,{P:()=>r});const r={SIGN_IN:"sign-in",REGISTER:"register",REGISTER_CONFIRM:"register-confirm",AUTHORISATION:"authorisation"}},18626:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(7594),o=n.n(r),i=n(48116),s=n.n(i),a=n(19092);const l=({timestamp:e=Date.now(),simpleFormat:t="dddd, mmm d",longFormat:n="dddd, mmm d, yyyy",relativeTimestamp:r=Date.now()})=>{const i=o()(e)?e.getTime():e,l=o()(r)?r.getTime():r;return i>l?((e,t,n,r)=>{const o=(0,a.T6)(r).getTime()+a.yu.DAY,i=o+a.yu.DAY;if(e<o)return"Today";if(e<i)return"Tomorrow";const l=(0,a.N8)(r);l.setFullYear(l.getFullYear()+1);const c=e<l?t:n;return s()(e,c)})(i,t,n,l):((e,t,n,r)=>{const o=(0,a.T6)(r).getTime();if(e>=o)return"Today";if(e>=o-a.yu.DAY)return"Yesterday";const i=e>(0,a.N8)(r)?t:n;return s()(e,i)})(i,t,n,l)}},24621:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(48116),o=n.n(r),i=n(18429),s=n(19092);const a=({timestamp:e,fromTimestamp:t=(0,s.u3)(),lessThanMinuteMessage:n="A few seconds ago",showSuffix:r})=>{const a=t-e;return a<s.yu.MINUTE?n:a>4*s.yu.WEEK?o()(e,"d mmm yyyy"):(0,i.Z)(a/1e3,r)}},5113:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(32475),o=n.n(r),i=n(13218),s=n.n(i);const a=e=>{const t=s()(e)?e:new Date(e),n=t.getHours(),r=n>12?n-12:n||12,i=n>11?"pm":"am",a=t.getMinutes();return`${r}${a>0?`:${o()(a,2,"0")}`:""}${i}`}},77938:(e,t,n)=>{"use strict";n.d(t,{_:()=>i,l:()=>s});var r=n(35311);const o=r.create({objectHash:function(e,t){return e.key||e.text||`index: ${t}`}}),i=(e,t)=>{const n=o.diff(e,t);if(n)return n},s=(e,t)=>o.patch(e,t)},21992:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(87133),o=n(9041),i=n(3969),s=n(61542);const a=new i.DOMParser,l=e=>a.parseFromString(e,s.L.HTML).documentElement,c=e=>(0,o.convertToRaw)((0,r.M)((e=>`<div>${e.replace(/h[1-2]/g,"h2").replace(/<h[3-6]>/g,"<p><strong>").replace(/<\/h[3-6]>/g,"</strong></p>")}</div>`)(e),{parser:l}))},92295:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(9041);const o=e=>{if("string"!=typeof e)return e;const t=r.ContentState.createFromText(e);return(0,r.convertToRaw)(t)}},66774:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(43831),o=n(79319);const i=e=>{if("string"==typeof e)return e;if(!(0,o.Z)(e))return"";return(0,r.vg)("blocks",e).reduce(((e,t,n)=>{const o=(0,r.vg)("text",t);return 0===n?o:`${e}\n${o}`}),"")}},79319:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(92742),o=n.n(r),i=n(41609),s=n.n(i),a=n(43831);const l=e=>{const t=(0,a.vg)("blocks",e);return!!t&&((0,a.kE)(t)>1||!s()(o()((0,a.P2)([0,"text"],t))))}},16547:(e,t,n)=>{"use strict";n.d(t,{AE:()=>i,Hc:()=>o});var r=n(19092);const o=async(e,t,n={})=>{const{nTimes:r=5,timeout:i=50}=n,s=e();if(t())return s;if(r<=1)throw new Error("tryUntil: Condition not met");return await(e=>new Promise((t=>setTimeout((()=>t()),e))))(i),o(e,t,{nTimes:r-1,timeout:i})},i=(e,t={})=>new Promise(((n,o)=>{const{duration:i=10*r.yu.SECOND,interval:s=r.yu.SECOND/5}=t,a=Math.floor(i/s);let l=0;const c=window.setInterval((()=>(l++,!0===e()?(clearInterval(c),n()):l===a?(clearInterval(c),o(new Error("waitUntil: Predicate did not return true before duration"))):void 0)),s)}))},83887:(e,t,n)=>{"use strict";n.d(t,{AO:()=>a,ZP:()=>l,nJ:()=>i});var r=n(12742),o=n.n(r);let i;!function(e){e[e.PHRASE=0]="PHRASE",e[e.WORD=1]="WORD"}(i||(i={}));const s={a:String.fromCharCode(65,97,192,224,193,225,194,226,195,227,196,228),e:String.fromCharCode(69,101,200,232,201,233,202,234,203,235),i:String.fromCharCode(73,105,204,236,205,237,206,238,207,239),o:String.fromCharCode(79,111,210,242,211,243,212,244,213,245,214,246),n:String.fromCharCode(78,110,209,241),u:String.fromCharCode(85,117,217,249,218,250,219,251,220,252),c:String.fromCharCode(67,99,199,231),y:String.fromCharCode(89,121,221,253,159,255)},a=(e,t=i.WORD)=>{const n=(e=>e.split("").map((e=>s[e.toLowerCase()]?`[${s[e.toLowerCase()]}]`:e)).join(""))(o()(e));return((e,t)=>{const n=e.trim(),r=n.split(/ +/).filter((e=>e.trim().length>0));return r.length<=1?n:`(?:${t===i.PHRASE?r.join(" "):r.join("|")})`})(n,t)},l=(e,t=i.WORD,n="i")=>new RegExp(a(e,t),n)},72945:(e,t,n)=>{"use strict";n.d(t,{MU:()=>c,bQ:()=>a});var r=n(68738),o=n.n(r),i=n(10910),s=n.n(i);const a={openId:"openid email profile",contacts_read_only:"https://www.googleapis.com/auth/contacts.readonly"},l=e=>o()(e)?e.split(" "):e,c=(e,t)=>{const n=l(e);return!!n&&(!t||s()(t,n))}},14927:(e,t,n)=>{"use strict";n.d(t,{$7:()=>s,Is:()=>i,O1:()=>o,Q7:()=>a,ob:()=>r,zQ:()=>l});const r={ACCEPT:"Accept",CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",CACHE_CONTROL:"Cache-Control"},o={CONNECTION_ABORTED:"ECONNABORTED",CONNECTION_RESET:"ECONNRESET",CONNECTION_REFUSED:"ECONNREFUSED"},i={GET:"get",POST:"post",PUT:"put",DELETE:"delete",OPTIONS:"options"},s={PERMISSION_TOKENS:"milanote-com-permission-tokens",NO_THROTTLE:"milanote-com-no-throttle",API_FEATURE:"milanote-com-api-feature",DATA_EXPIRY:"milanote-com-data-expiry",DATA_FETCHED_TIME:"milanote-com-data-fetched-time",CMS_CACHE_RESPONSE_TYPE:"milanote-com-cms-cache"},a={WAF_ACTION:"x-amzn-waf-action",WAF_TOKEN:"x-aws-waf-token"},l={WAF_ACTION:{CHALLENGE:"challenge"}}},43831:(e,t,n)=>{"use strict";n.d(t,{NW:()=>R,OE:()=>S,P2:()=>v,RR:()=>b,Wo:()=>O,kE:()=>C,pL:()=>I,qo:()=>_,su:()=>w,vg:()=>E,xb:()=>T,yS:()=>y});var r=n(77606),o=n.n(r),i=n(98980),s=n.n(i),a=n(63422),l=n.n(a),c=n(16666),d=n.n(c),u=n(77948),m=n.n(u),p=n(89935),h=n.n(p),g=n(43393);const f=e=>g.Iterable.isIterable(e),E=h()(((e,t)=>t?f(t)?t.get(e):Array.isArray(t)?t[e]:null==t?void 0:t[e]:t)),v=h()(((e,t)=>t?f(t)?t.getIn(e):l()(e,t):t)),b=(d()(2,m()(E)),e=>e?"function"==typeof e.keys?[...e.keys()]:s()(e):[]),y=(e,t)=>f(t)?g.Map().withMutations((n=>e.forEach((e=>{const r=t.get(e);null!==r&&n.set(e,r)})))):t,I=e=>e.keySeq().toArray(),C=e=>e?f(e)?e.size:Array.isArray(e)?e.length:0:0,S=e=>e?void 0!==e.size?e.size:Object.keys(e).length:0,T=e=>!e||(e.isEmpty?e.isEmpty():o()(e)),w=e=>e&&e.toJS?e.toJS():e,O=e=>e&&e.toObject?e.toObject():e,_=e=>e?Array.isArray(e)?e:f(e)&&e.toArray?e.toArray():[]:e,R=(e,t,n)=>{if(n.reduce)return n.reduce(e,t);let r=t;for(const o in n)if(n.hasOwnProperty(o)){r=e(r,n[o],o,n)}return r}},83213:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=e=>e?e.reduce(((e,t)=>(e[t]=!0,e)),{}):{}},84876:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=e=>new Promise((t=>setTimeout((()=>t()),e)))},18429:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(e,t=!1)=>{e instanceof Date&&(e=Math.round((Date.now()-e)/1e3));const n=e<0?"from now":"ago",r=[(e=Math.abs(e))/60/60/24/365,e/60/60/24/30,e/60/60/24/7,e/60/60/24,e/60/60,e/60,e],o=["year","month","week","day","hour","min","sec"];for(let i=0;i<o.length;i++){const e=Math.floor(r[i]);if(e>=1){return`${e} ${o[i]}${e>1?"s":""}${t?` ${n}`:""}`}}return"Just now"}},20963:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o,b:()=>r});const r=window.cancelIdleCallback||(e=>{clearTimeout(e)}),o=window.requestIdleCallback||((e,t)=>{const n=Date.now();return setTimeout((()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-n))})}),1)})},5987:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=e=>{let t,n;const r=(...r)=>{n=r,t||(t=requestAnimationFrame((()=>{t=null,e(...n)})))};return r.cancel=()=>{t&&(cancelAnimationFrame(t),t=null)},r}},31095:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=e=>new Promise((t=>{requestAnimationFrame((()=>{const n=e();t(n)}))}))},97831:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=e=>{let t=null;return t=requestAnimationFrame((()=>{t=requestAnimationFrame(e)})),()=>{t&&cancelAnimationFrame(t)}}},40470:(e,t,n)=>{"use strict";n.d(t,{Ul:()=>l,ar:()=>a,kU:()=>i,yJ:()=>s});var r=n(88306),o=n.n(r);const i=o()((e=>{const t=[],n=[],r=[];for(let o=0;o<12;o++){const i=new Date(2e3,o,1);t.push(i.toLocaleString(e,{month:"short"}).toLowerCase().replace(".","")),n.push(i.toLocaleString(e,{month:"long"}).toLowerCase()),r.push(i.toLocaleString("en-US",{month:"long"}).toLowerCase())}return{short:t,long:n,monthUS:r}})),s=o()((e=>{const t=[],n=[];for(let r=0;r<7;r++){const o=new Date(2e3,0,r+1);t.push(o.toLocaleString(e,{weekday:"short"}).toLowerCase().replace(".","")),n.push(o.toLocaleString(e,{weekday:"long"}).toLowerCase())}return{short:t,long:n}})),a=o()((e=>{const t=new Date(2e3,0,1).toLocaleString(e,{dateStyle:"long"}).toLowerCase().replace(",","").split(" ");if(t.length<=1)return[];const n=i(e),r=s(e),o=[...n.short,...n.long,...r.short,...r.long],a=[];return t.forEach(((e,t)=>{if(a.includes(e))return;const n=o.includes(e),r=!isNaN(Number(e));n||r||a.push(e)})),a})),l=o()((e=>{var t,n;const r=new Intl.NumberFormat(e,{useGrouping:!0}).formatToParts(1000.1);return{thousandsSeparator:(null===(t=r.find((({type:e})=>"group"===e)))||void 0===t?void 0:t.value)||",",decimalSeparator:(null===(n=r.find((({type:e})=>"decimal"===e)))||void 0===n?void 0:n.value)||"."}}))},66705:(e,t,n)=>{"use strict";n.d(t,{dr:()=>i,qp:()=>a,s0:()=>s});var r=n(47037),o=n.n(r);const i=e=>o()(e)?parseInt(e.substring(0,8),16):0,s=e=>new Date(1e3*i(e)),a=e=>e&&(e.str||e.toString)?(e=>e&&(e.str||e.toString()))(e):e},82929:(e,t,n)=>{"use strict";n.d(t,{F:()=>o});var r=n(63686);const o=e=>`${e}${r.Q1}`},63686:(e,t,n)=>{"use strict";n.d(t,{Q1:()=>o,uD:()=>i,vp:()=>r});const r="-LIVE",o="-PERSONAL",i={CONNECT:"connect",DISCONNECT:"disconnect",ACTION:"action",UPDATE_CHANNELS:"update-channels"}},88786:(e,t,n)=>{"use strict";n.d(t,{J2:()=>o,bz:()=>r});const r=(e,t)=>e-t,o=(e,t)=>(n,r)=>{const o=e(n),i=e(r);return o&&!i?-1:i&&!o?1:o||i?o.localeCompare(i)||0:t(n,r)}},39301:(e,t,n)=>{"use strict";n.d(t,{B2:()=>y,E0:()=>d,L_:()=>u,SP:()=>b,TA:()=>p,a6:()=>E,fU:()=>h,gN:()=>I,gY:()=>m,lV:()=>g,xJ:()=>w,y0:()=>S});var r=n(83927),o=n.n(r),i=n(72669),s=n.n(i),a=n(59051),l=n.n(a),c=n(83887);const d=(e,t,n)=>((e,t,n)=>e?t:n)(1===e,t,n),u=" ",m=(e,t)=>d(t,e,`${e}s`),p=(e,t,n="and")=>e===t-2?` ${n} `:e>=t-1?"":", ",h=(e,t)=>e.reduce(((n,r,o)=>`${n}${r}${p(o,e?e.length:0,t)}`),""),g=(e="",t="-")=>e.toString().toLowerCase().replace(/\s+/g,t).replace(/\-\-+/g,t).replace(/[^\w\-]+/g,"").replace(/^-+/,"").replace(/-+$/,""),f=(e="")=>e?e.toString().toLowerCase().replace(/\s+/g,""):"",E=(e="")=>e?e.split(/[, ]+/).map(f).filter((e=>e&&""!==e)):[],v=e=>"object"==typeof e&&Array.isArray(e)?e.join(","):"object"==typeof e?JSON.stringify(e):l()(e)?"":e.toString(),b=e=>e?o()(v,e):e,y=e=>e?Object.keys(e).filter((t=>!l()(e[t]))).map((t=>`${t}=${v(e[t])}`)).join("&"):"",I=(e,t)=>{if(!t)return[];const n=s()(e);if(0===n.length)return[{textPart:t,isMatch:!1}];const r=new RegExp(`(${(0,c.AO)(n,c.nJ.PHRASE)})`,"gi");return t.split(r).filter((e=>null==e?void 0:e.length)).map((e=>{const t=!(""===s()(e))&&!!e.match(r);return{textPart:e,isMatch:t}}))},C=/([\s\S]*)(\([\s\S]+\))([\s\S]*)/,S=e=>{if(!e)return e;const t=e.match(C);if(t){const{1:e,2:n,3:r}=t;return`${e}${n.replace(/ /g," ")}${r}`}const n=e.split(/\s/).filter((e=>!!e));if(n.length<4)return e;const r=n[n.length-1],o=r.length,i=n[n.length-2],s=i.length;if(s+r.length>20)return e;const a=e.length;if(!(" "===e[a-o-1]&&e[a-o-2]===i[s-1]))return e;const l=a-(s+1+o);return`${e.substr(0,l)}${i} ${r}`},T=new RegExp(" ","g"),w=e=>e?e.replace(T," "):e},19092:(e,t,n)=>{"use strict";n.d(t,{$s:()=>h,Cn:()=>k,E4:()=>E,FC:()=>A,N8:()=>f,OV:()=>m,Pd:()=>B,Rx:()=>j,T6:()=>g,bl:()=>M,cx:()=>T,d4:()=>w,eT:()=>F,g_:()=>z,kR:()=>S,l8:()=>p,l9:()=>y,sO:()=>v,st:()=>L,tC:()=>b,u3:()=>u,v:()=>I,yu:()=>c,zb:()=>P});n(7108),n(63772),n(74432);var r=n(8816),o=n.n(r),i=n(88306),s=n.n(i);const a=36e5,l=24*a,c={SECOND:1e3,MINUTE:6e4,HOUR:a,DAY:l,WEEK:6048e5,MONTH:26784e5,YEAR:31536e6},d=e=>Math.floor(e/c.SECOND),u=()=>Date.now(),m=o()([u,d]),p=e=>{if(!C(e))return null;const t=6e4*e.getTimezoneOffset();return new Date(e.valueOf()-t).toISOString().replace("Z","")},h=s()((()=>(new Date).getTimezoneOffset())),g=e=>{const t=new Date(e);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t},f=e=>{const t=new Date(e);return t.setMonth(0),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t},E=(e,t)=>{const n=new Date(e);return n.setDate(n.getDate()+t),n},v=e=>"en-US"===e,b=(e=Date.now())=>new Date(e).toISOString().substr(0,10),y=(e=Date.now())=>new Date(e).toISOString().substr(0,7),I=(e,t,n)=>{const{hasTime:r,hasSeconds:o=!1,useTwelveHour:i=!1,showDate:s=!0}=t,a=s?((e,t)=>new Intl.DateTimeFormat(v(t)?"en-US":"en-GB").format(e))(e,n):"",l=r?((e,t,n)=>new Intl.DateTimeFormat("en-US",{timeStyle:t?"medium":"short",hourCycle:n?"h11":"h23"}).format(e))(e,o,i):"";return`${a} ${l}`.trim()},C=e=>!!e&&!isNaN(new Date(e).getTime()),S=/\d{1,2}\/\d{1,2}\/\d{2}($|\s)/,T=/\d{1,2}\/\d{1,2}\/\d{4}($|\s)/,w=/\d{1,2}-\d{1,2}-\d{2,4}($|\s)/,O=/^(\d{1,2})[\/-](\d{1,2})[\/-](\d{2,4})\s?(\d{1,2}(:\d{1,2})*\s?([a|p]m)?)?$/,_=/^((\d{1,2}\s\w{3,})|(\w{3,}\s\d{1,2})),?\s?(\d{4})?\s?(\d{1,2}(:\d{1,2})*\s?([a|p]m)?)?$/,R=/Jan(?:uary)?|Feb(?:ruary)?|Mar(?:ch)?|Apr(?:il)?|May|June?|July?|Aug(?:ust)?|Sep(?:tember)?|Oct(?:ober)?|Nov(?:ember)?|Dec(?:ember)?/i,A=/(^|\s)\d{1,2}(:\d{1,2}){0,2}\s?[a|p]m/i,D=/^\d{1,2}(:\d{1,2}){0,2}\s?[a|p]m$/i,N=/^\d{1,2}(:\d{1,2}){0,2}$/i,x=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/,M=(e,t)=>{if(!e)return null;let n=String(e).trim();if(n.match(x)){const e=new Date(n);if(C(e))return e}if(n.match(/-?\d{8,}$/)){const t=new Date(Number(e));if(C(t))return t}n=n.replace(/\(|\)/g,"");const r=n.match(A),o=r&&!r[0].includes(":");if(r||o){const e=/\s?([a|p]m)/i,t=n.match(e)[1];n=n.replace(e,`${o?":00":""} ${t}`)}if(n.match(D)||n.match(N)){const e=new Date(`${new Intl.DateTimeFormat("en-US").format(new Date)} ${n}`);return C(e)?e:null}const i=n.match(O),s=n.match(_),a=n.match(R);if(!i&&!(s&&a))return null;if(i){if(!v(t)){const[e,t,r,o,s]=i;n=`${r}/${t}/${o} ${s||""}`}n=n.replace(/-/g,"/")}if(s){const e=n.match(/\d{4}/);n=e?n:`${n} ${(new Date).getFullYear()}`}const l=new Date(n);return C(l)?l:null},P=e=>e&&e.getHours()+e.getMinutes()+e.getSeconds()>0,L=e=>!!e.match(/\d{1,2}:\d{1,2}:\d{1,2}/),k=e=>!e.match(D)&&!e.match(N),F=(e,t)=>e&&t&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate(),B=(e,t)=>e&&t&&e<t,j=(e,t,n=new Date)=>{const r=B(e,n),o=F(e,n);return r&&t||r&&!o},z=(e,t=new Date)=>F(e,t)},45915:(e,t,n)=>{"use strict";var r;n.d(t,{$F:()=>d,BM:()=>s,BT:()=>h,C0:()=>m,Ex:()=>g,H9:()=>v,IL:()=>f,RY:()=>S,a0:()=>C,a8:()=>E,dp:()=>b,f:()=>I,gO:()=>a,jK:()=>y,nY:()=>u,o2:()=>p,r9:()=>l});const o=n(59161).Z(),i=o.apiRoot||o.urlBase,s="https://www.milanote.com",a="http://help.milanote.com/",l="http://status.milanote.com/",c=o.aws.s3MediaStorageUrl,d=new URL(c).hostname,u=`${i}/media/`,m=new URL(u).hostname,p=new URL(i).hostname,h="https://milanote.com/download-web-clipper",g=`${s}/`,f=`${a}en/articles/4324593-sharing-a-board`,E="https://milanote.com/releases/web",v="https://milanote.com/releases/mac",b=`${a}/en/articles/3600891-i-m-trying-to-upgrade-but-my-payment-isn-t-working`,y="e",I="milanote.com",C=(null===(r=o.web)||void 0===r?void 0:r.alternateHosts)??[],S={PERMISSION:"p",PERMISSION_TOKENS:"p_tokens",EMAIL:"email",EMAIL_TYPE:"email_type",FILTER_IDS:"filter_ids",FILTER_QUERY:"filter_query",FILTER_CONTEXT:"filter_context",ONBOARDING_FLOW_ID:"flow",FEATURE_HIGHLIGHT:"feature",ORIGIN:"origin",INVITE_CODE:"invite",MARKETING_REFERRAL_CODE:"r",MARKETING_REFERRAL_CODE_2:"ref",USER_REFERRER_CODE:"referrer",SUCCESS_REDIRECT:"success_redirect",REGISTRATION_AVENUE:"registration_avenue",REGISTRATION_ENTRY_POINT:"registration_entry_point",FROM_REDIRECTION:"from",INITIAL_ONBOARDING:"onboarding",INITIAL_EDUCATION:"initial_education",PUBLIC_BOARD_ID:"public_board_id",AB_GROUP:"ab",FEATURE_FLAGS:"feature_flags",LOGGED_OUT_REDIRECT:"logged_out_redirect",AUTH_TOKEN:"token",HIDE_INBOX:"hide_inbox",HIDE_BACKGROUND:"hide_background",CENTER_CANVAS:"center_canvas",IMAGE_QUALITY:"image_quality",DIRECT:"direct",WORKSPACE_CLASS:"workspace_class",PAYMENT_PLAN_TYPE:"plan_type",PAYMENT_DEFAULT_SELECTED_PLAN_ID:"default_selected_plan",PAYMENT_PLAN_IDS:"plans",PAYMENT_TEAM_MEMBER_IDS:"members",PAYMENT_TEAM_ADD_MEMBER_IDS:"add_members",PAYMENT_TEAM_REMOVE_MEMBER_IDS:"remove_members",PAYMENT_MODAL_HIDE_BACK_BUTTON:"no_back",DOMAIN_SUBSCRIPTION_ERROR_CODE:"error_code",DOMAIN_SUBSCRIPTION_ERROR_MESSAGE:"error_message",DOMAIN_SUBSCRIPTION_ERROR_TEAM_NAME:"error_team_name",VERSION:"v",ELEMENT_ID:"elementId"}},21053:(e,t,n)=>{"use strict";n.d(t,{H7:()=>O,JS:()=>f,Jd:()=>h,O_:()=>S,Q2:()=>g,Qe:()=>T,SR:()=>E,ge:()=>p,o0:()=>b});var r=n(73918),o=n.n(r),i=n(77606),s=n.n(i),a=n(83927),l=n.n(a),c=n(39301),d=n(7547),u=n(45915);const m=/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:\/\n\?]+)/im,p=e=>{const t=null==e?void 0:e.match(m);return t&&t[1]},h=e=>{if(!e)return e;const t=e.match(d.wn);if(t){const n=t[0].length;return e.substring(n)}return e},g=(l()(encodeURIComponent),(e,t,n="?")=>{if(s()(t))return e;const r=-1!==e.indexOf(n)?"&":n,o=(0,c.B2)(t);return o.length?`${e}${r}${o}`:e}),f=e=>{if(!e)return{};const t=/^[?#]/.test(e)?e.slice(1):e;return t?t.split("&").reduce(((e,t)=>{const[n,r]=t.split("=");return e[n]=r?decodeURIComponent(r.replace(/\+/g," ")):"",e}),{}):{}},E=e=>e.match(/\.(webp|gif|png|jpe?g)/g),v=/(http|https):\/\/.+?\/(.+?)(\/|\?|#|$)/,b=e=>{if(!e)return null;const t=e.match(v);return t?t[2]:null},y=e=>t=>!!(t===e||null!=t&&t.endsWith(`.${e}`)),I=(y(u.$F),y(u.o2)),C=y(u.f),S=e=>C(p(e))||I(p(e)),T=e=>{return o()((t=p(e),e=>!!(t===e||null!=t&&t.endsWith(`.${e}`))),u.a0);var t},w=/^\/?(.+?)\//,O=e=>{if(!e)return null;const t=e.match(w);return s()(t)?null:t[1]}},24414:(e,t,n)=>{"use strict";n.d(t,{g:()=>r});const r=e=>{const t={};if(!e)return t;for(const n in e)0===n.indexOf("utm_")&&(t[n]=e[n]);return t}},69339:(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});var r={};n.r(r),n.d(r,{maxLengthValidator:()=>O,requiredValidator:()=>s,typeValidator:()=>w});var o=n(7547);const i={name:o.nf.required,type:o.o3.ERROR,hideBeforeSubmit:!0,hideIfTouched:!0},s=(e,t)=>t.required&&!e?Object.assign({},i,{fieldName:t.name}):null;var a=n(67875),l=n(65624);const c={name:o.nf.password,type:o.o3.ERROR,debounced:!0,message:"Must be at least 6 characters"},d={name:o.nf.date,type:o.o3.ERROR,debounced:!0,message:"Not a valid date"},u={name:o.nf.url,type:o.o3.ERROR,debounced:!0,message:"Not a valid url"};var m=n(1014);const p={name:o.nf.elementId,type:o.o3.ERROR,message:"Not a valid elementId"};var h=n(47037),g=n.n(h);const f={name:o.nf.object,type:o.o3.ERROR,message:"Must be a string"};var E=n(68630),v=n.n(E);const b={name:o.nf.object,type:o.o3.ERROR,message:"Must be a plain object"},y=new RegExp("^[0-9a-fA-F]{24}$"),I={name:o.nf.objectId,type:o.o3.ERROR,message:"Not a valid objectId"},C={name:o.nf.number,type:o.o3.ERROR,debounced:!0,message:"Not a valid number"};var S=n(60397);const T={[o.Z9.userText]:S.Z,[o.Z9.email]:a.Z,[o.Z9.multiEmail]:l.Z,[o.Z9.password]:(e,t)=>e&&e.length<6?c:null,[o.Z9.date]:(e,t)=>{if(!e)return;const n=parseInt(e,10);if(isNaN(n))return d;const r=new Date(n);return isNaN(r.getTime())?d:null},[o.Z9.select]:(e,t)=>{if(!e||!t.validValues)return;if(-1!==t.validValues.indexOf(e))return;const n=t.validValues.join(",");return{name:o.nf.select,type:o.o3.ERROR,debounced:!0,message:`Not a valid ${t.name} value [${e}].  Valid values are [${n}]`,validValues:n,value:e}},[o.Z9.url]:(e,t)=>e?e.match(o.wn)||e.match(o.CU)?u:e.match(o.Wh)||t.allowIPAddress&&e.match(o.sC)?null:u:null,[o.Z9.elementId]:(e,t)=>{if(e)return(0,m.Jj)(e)?null:p},[o.Z9.html]:(e,t)=>{if(e)return g()(e)?null:f},[o.Z9.object]:(e,t)=>{if(e){if(!v()(e))return Object.assign({},b,{details:e});if(t.keys){const n=t.keys.map((t=>R(e[t.name],t))).filter((e=>!!e));if(n.length)return Object.assign({},b,{message:"Object key validation failed",details:n})}return null}},[o.Z9.objectId]:e=>{return e?null!==(t=e)&&("number"==typeof t||"string"==typeof t&&(12===t.length||24===t.length&&y.test(t)))?null:(e=>Object.assign({},I,{value:e}))(e):null;var t},[o.Z9.number]:e=>{if(!e)return;const t=parseInt(e,10);return isNaN(t)?C:void 0}},w=(e,t)=>{if(t.disableTypeValidation)return null;const n=T[t.type];return n?n(e,t):null},O=(e,t)=>e?!t.maxLength||t.maxLength>=e.length?null:{name:o.nf.maxlength,type:o.o3.ERROR,debounced:!0,message:`Must be less than ${t.maxLength} characters`}:null,_=Object.keys(r),R=(e,t)=>{let n=null;for(const o of _){if(n=(0,r[o])(e,t),n)break}return n}},7547:(e,t,n)=>{"use strict";n.d(t,{CU:()=>r,Wh:()=>o,Z9:()=>a,_f:()=>d,bo:()=>m,fS:()=>u,nf:()=>c,o3:()=>l,sC:()=>i,wn:()=>s});const r=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,o=/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-z]{2,256}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g,i=/(http(s)?:\/\/.)?^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(:\d{2,4})?\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)?$/,s=/^(?!http).+?:(\/\/)?/,a={text:"text",userText:"userText",email:"email",multiEmail:"multiEmail",password:"password",date:"date",select:"select",html:"html",url:"url",elementId:"elementId",object:"object",objectId:"objectId",number:"number",checkbox:"checkbox"},l={ERROR:"ERROR",WARNING:"WARNING",INFO:"INFO"},c={required:"required",email:"email",date:"date",select:"select",password:"password",maxlength:"maxlength",url:"url",elementId:"elementId",object:"object",objectId:"objectId",number:"number"},d={givenName:{name:"givenName",type:a.userText,required:!0,maxLength:50},familyName:{name:"familyName",type:a.userText,required:!0,maxLength:50},email:{name:"email",type:a.email,required:!0,maxLength:255},multiEmail:{name:"multiEmail",type:a.multiEmail,required:!0},password:{name:"password",type:a.password,required:!0,maxLength:255},code:{name:"code",type:a.text,required:!0,maxLength:40,minLength:40}};d.loginPassword=Object.assign({},d.password,{disableTypeValidation:!0});d.email,d.loginPassword,a.text;const u={inviteCode:{name:"inviteCode",type:a.text},onboarding:{name:"onboarding",type:a.text},initialEducation:{name:"initialEducation",type:a.number},featureFlags:{name:"featureFlags",type:a.text},referrerCode:{name:"referrerCode",type:a.text},marketingReferralCode:{name:"marketingReferralCode",type:a.text},registrationAvenue:{name:"registrationAvenue",type:a.text},registrationEntryPoint:{name:"registrationEntryPoint",type:a.text},publicBoardId:{name:"publicBoardId",type:a.text},permissionId:{name:"permissionId",type:a.text},deviceId:{name:"deviceId",type:a.text},guestAbGroup:{name:"guestAbGroup",type:a.text},agreeToTerms:{name:"agreeToTerms",type:a.checkbox,required:!0},subscribeToProductUpdates:{name:"subscribeToProductUpdates",type:a.checkbox},utm:{name:"utm",type:a.object}},m=Object.assign({},u,{givenName:d.givenName,familyName:d.familyName,email:d.email,password:d.password}),p=(Object.assign({},m,{password:{name:"password",type:a.password,maxLength:255},avatar:{name:"avatar",type:a.text},googleSub:{name:"googleSub",type:a.text},appleSub:{name:"appleSub",type:a.text}}),d.email,d.password,d.email,Object.assign({},d.email,{name:"userEmail",hideBeforeSubmit:!0}),{id:{name:"id",type:a.elementId,required:!0},elementType:{name:"elementType",type:a.select,validValues:["TASK","CARD","LINK","IMAGE","TASK_LIST"],required:!0},location:{name:"location",type:a.object,keys:[{name:"parentId",type:a.elementId},{name:"section",type:a.select,validValues:["CANVAS","INBOX","TRASH"]},{name:"position",type:a.object}]},content:{name:"content",type:a.object,required:!0}}),h={name:"location",type:a.object,keys:[{name:"parentId",required:!0},{name:"section",required:!1,type:a.select,validValues:["CANVAS","INBOX","TRASH"]},{name:"position",required:!1,type:a.object}]};Object.assign({},h,{required:!0}),Object.assign({},h,{name:"from"}),Object.assign({},p.id,{required:!1}),Object.assign({},p.location,{required:!0}),Object.assign({},p.content,{required:!1}),Object.assign({},h,{required:!1}),a.object,a.object},71328:(e,t,n)=>{"use strict";n.d(t,{O:()=>a,W:()=>s});var r=n(41609),o=n.n(r),i=n(69339);const s=e=>(t,n,r)=>{const s=(0,i.Z)(t,e);if(o()(r))return s;return s&&(!s.hideBeforeSubmit||s.hideBeforeSubmit&&r.submitFailed)&&(!s.hideIfTouched||s.hideIfTouched&&!r.touched)?s:void 0},a=e=>t=>e.reduce(((e,n)=>{const r=t[n.name],o=s(n)(r);return o?Object.assign({},e,{[n.name]:o}):e}),{})},67875:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(7547);const o={name:r.nf.email,type:r.o3.ERROR,debounced:!0,message:"Not a valid email"},i=(e,t={})=>e?e.match(r.CU)?null:((e,t)=>Object.assign({},o,{value:e,hideBeforeSubmit:!!t.hideBeforeSubmit}))(e,t):null},65624:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(39301),o=n(67875),i=n(7547);const s=(e,t={})=>{if(!e)return null;const n=(0,r.a6)(e);if(n.length<=0)return null;const s=[];for(const r of n){(0,o.Z)(r,t)&&s.push(r)}return s.length>0?{name:i.nf.email,type:i.o3.ERROR,debounce:!0,message:`${(0,r.fU)(s)} ${(0,r.E0)(s.length,"is an invalid email","are invalid emails")}`,value:s,hideBeforeSubmit:!0}:null}},60397:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(7547);const o=/(<([^>]+)>)/gi,i=/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9_-]+)/gi,s={name:r.nf.email,type:r.o3.ERROR,debounced:!0},a=(e,t)=>Object.assign({},s,{value:e,name:t.name||s.name,hideBeforeSubmit:!!t.hideBeforeSubmit}),l=(e,t={maxLength:500})=>e?t.maxLength&&e.length>t.maxLength?Object.assign({},a(e,t),{message:`Max length is ${t.maxLength} characters`}):e.match(o)?Object.assign({},a(e,t),{message:"Contains invalid characters"}):e.match(i)?Object.assign({},a(e,t),{message:"Cannot include email addresses"}):e.match(r.Wh)?Object.assign({},a(e,t),{message:"Cannot include urls"}):null:null},69164:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(67294),o=n(73935),i=n(91033);function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a={x:0,y:0,width:0,height:0,top:0,right:0,bottom:0,left:0};class l extends r.Component{constructor(e){super(e),s(this,"_node",void 0),s(this,"_propsToMeasure",void 0),s(this,"_lastDimensions",a),s(this,"resizeObserver",null),s(this,"state",{dimensions:a}),s(this,"measure",(()=>{var e;if(!this.props.shouldMeasure)return;null!==(e=this._node)&&void 0!==e&&e.parentNode||this._setDOMNode();const t=this.getDimensions(this._node),n="function"==typeof this.props.children;this._propsToMeasure.some((e=>{if(t[e]!==this._lastDimensions[e])return this.props.onMeasure(t),n&&void 0!==this&&this.setState({dimensions:t}),this._lastDimensions=t,!0}))})),this._node=null,this._propsToMeasure=this._getPropsToMeasure(e)}componentDidMount(){this._setDOMNode(),this._node?(this.measure(),this.resizeObserver=new i.Z((()=>this.measure())),this.resizeObserver.observe(this._node)):console.warn("Cannot find DOM node in Measure component")}componentDidUpdate({whitelist:e,blacklist:t}){this.props.whitelist===e&&this.props.blacklist===t||(this._propsToMeasure=this._getPropsToMeasure({whitelist:e,blacklist:t}))}componentWillUnmount(){var e;this._node&&(null===(e=this.resizeObserver)||void 0===e||e.disconnect(),this._node=null)}_setDOMNode(){const e=o.findDOMNode(this);this._node=e||null}getDimensions(e=this._node){const t=null==e?void 0:e.getBoundingClientRect();return t?{x:t.x,y:t.y,width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left}:a}_getPropsToMeasure({whitelist:e,blacklist:t}){return e.filter((e=>t.indexOf(e)<0))}render(){const{children:e}=this.props;return r.Children.only("function"==typeof e?e(this.state.dimensions):e)}}s(l,"defaultProps",{whitelist:["width","height","top","right","bottom","left"],blacklist:[],shouldMeasure:!0,onMeasure:()=>{}});const c=l},24545:(e,t,n)=>{"use strict";n.d(t,{bJ:()=>l,hu:()=>p});const r=(e,t)=>{return n="0",r=t-e.toString().length,new Array(r+1).join(n)+e;var n,r},o="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date;var i=n(75259);const s={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}};function a(e,t,n,r){const o=(0,i.Z)(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(a){n.log("diff")}o?o.forEach((e=>{const{kind:t}=e,r=function(e){const{kind:t,path:n,lhs:r,rhs:o,index:i,item:s}=e;switch(t){case"E":return[n.join("."),r,"→",o];case"N":return[n.join("."),o];case"D":return[n.join(".")];case"A":return[`${n.join(".")}[${i}]`,s];default:return[]}}(e);n.log(`%c ${s[t].text}`,function(e){return`color: ${s[e].color}; font-weight: bold`}(t),...r)})):n.log("—— no diff ——");try{n.groupEnd()}catch(a){n.log("—— diff end —— ")}}const l="color: gray; font-weight: lighter;";function c(e,t,n,r){switch(typeof e){case"object":return"function"==typeof e[r]?e[r](...n):e[r];case"function":return e(t);default:return e}}function d(e){const{timestamp:t,duration:n}=e;return(e,r,o)=>{const i=["action"];return i.push(`%c${String(e.type)}`),t&&i.push(`%c@ ${r}`),n&&i.push(`%c(in ${o.toFixed(2)} ms)`),i.join(" ")}}const u=function(e,t){const{logger:n,actionTransformer:o,titleFormatter:i=d(t),collapsed:s,colors:u,level:m,diff:p,customStyles:h}=t,g=void 0===t.titleFormatter;e.forEach(((d,f)=>{const{started:E,startedTime:v,action:b,prevState:y,error:I}=d;let{took:C,nextState:S}=d;const T=e[f+1];T&&(S=T.prevState,C=T.started-E);const w=o(b),O="function"==typeof s?s((()=>S),b,d):s,_=`${r((R=v).getHours(),2)}:${r(R.getMinutes(),2)}:${r(R.getSeconds(),2)}.${r(R.getMilliseconds(),3)}`;var R;const A=u.title?`color: ${u.title(w)};`:"",D=[l];D.push(A),t.timestamp&&D.push(l),t.duration&&D.push(l);const N=i(w,_,C),x=null!=h&&h.title?h.title(w):[];try{O?u.title&&g?n.groupCollapsed(`%c ${N}`,...D):n.groupCollapsed(N,...x):u.title&&g?n.group(`%c ${N}`,...D):n.group(N,...x)}catch(F){n.log(N)}const M=c(m,w,[y],"prevState"),P=c(m,w,[w],"action"),L=c(m,w,[I,y],"error"),k=c(m,w,[S],"nextState");if(M)if(u.prevState){const e=`color: ${u.prevState(y)}; font-weight: bold`;n[M]("%c prev state",e,y)}else n[M]("prev state",y);if(P)if(u.action){const e=`color: ${u.action(w)}; font-weight: bold`;n[P]("%c action    ",e,w)}else n[P]("action    ",w);if(I&&L)if(u.error){const e=`color: ${u.error(I,y)}; font-weight: bold;`;n[L]("%c error     ",e,I)}else n[L]("error     ",I);if(k)if(u.nextState){const e=`color: ${u.nextState(S)}; font-weight: bold`;n[k]("%c next state",e,S)}else n[k]("next state",S);n.withTrace&&(n.groupCollapsed("TRACE"),n.trace(),n.groupEnd()),p&&a(y,S,n,O);try{n.groupEnd()}catch(F){n.log("—— log end ——")}}))},m={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:e=>e,actionTransformer:e=>e,errorTransformer:e=>e,colors:{title:()=>"inherit",prevState:()=>"#9E9E9E",action:()=>"#03A9F4",nextState:()=>"#4CAF50",error:()=>"#F20404"},diff:!1,diffPredicate:void 0,transformer:void 0};function p(e={}){const t=Object.assign({},m,e),{logger:n,stateTransformer:r,errorTransformer:i,predicate:s,logErrors:a,diffPredicate:l}=t;if(void 0===n)return()=>e=>t=>e(t);if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport { createLogger } from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),()=>e=>t=>e(t);const c=[];return({getState:e})=>n=>d=>{if("function"==typeof s&&!s(e,d))return n(d);const m={};let p;if(c.push(m),m.started=o.now(),m.startedTime=new Date,m.prevState=r(e()),m.action=d,a)try{p=n(d)}catch(g){m.error=i(g)}else p=n(d);m.took=o.now()-m.started,m.nextState=r(e());const h=t.diff&&"function"==typeof l?l(e,d):t.diff;if(u(c,Object.assign({},t,{diff:h})),c.length=0,m.error)throw m.error;return p}}},69203:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});const r="PUSH_NOTIFICATION_SENT"},61105:(e,t,n)=>{"use strict";n.d(t,{l3:()=>l,S6:()=>a,Dj:()=>c});var r=n(4588),o=n.n(r),i=n(63422),s=n.n(i);const a=s()("_id"),l=(s()("aclId"),s()("boardId")),c=s()("permission");s()("status"),s()("creatorId"),s()("createdTimestamp"),o()(["_id","aclId","status"]),o()(["_id","boardId"])},50235:(e,t,n)=>{"use strict";n.d(t,{t:()=>o,vO:()=>r});const r={USERID:"userId",ROLE:"userRole",PLATFORM:"userPlatform",USER_IS_SUBSCRIBED:"userIsSubscribed",USER_IS_SYNCED_IN_GRAPH_DB:"userIsSyncedInGraphDb",ERROR_REASON:"errorReason",INCREMENTAL_SEARCH_INDEX_COUNT:"indexCount",INCREMENTAL_SEARCH_INDEX_REINDEX_QUEUE_COUNT:"reIndexCount",INCREMENTAL_SEARCH_INDEX_ITERATIONS:"iterations",INCREMENTAL_SEARCH_INDEX_QUEUE_REMAINING:"queueRemaining",EXPORT_QUALITY:"quality",REMINDERS_COUNT:"remindersCount",NOTIFICATIONS_COUNT:"notificationsCount",BOARD_EVENTS_COUNT:"boardEventsCount",PENDING_UPDATE_NOTIFICATIONS_COUNT:"pendingUpdateNotificationCount",PENDING_VIEW_NOTIFICATIONS_COUNT:"pendingViewNotificationCount",NOTIFICATIONS_TO_EXPIRE_COUNT:"notificationsToExpireCount",NOTIFICATIONS_EXPIRED_COUNT:"notificationsExpiredCount",EMAILS_SENT_COUNT:"emailsSentCount",EMAILS_FAILED_COUNT:"emailsFailedCount",DIGEST_USERS_COUNT:"digestUsersCount",TIMEZONE_USERS_COUNT:"timezoneUsersCount",USERS_COUNT:"usersCount",USERS_ERROR_COUNT:"usersErrorCount",ELEMENTS_COUNT:"elementsCount",NAVIGATIONS_COUNT:"navigationsCount",FRESH_ELEMENTS_COUNT:"freshElementsCount",ELEMENTS_ERROR_COUNT:"elementsErrorCount",COMMENTS_COUNT:"commentsCount",ERRORS_COUNT:"errorsCount",IMAGES_COUNT:"imagesCount",IMAGE_PER_BOARD_MAX:"imagesPerBoardMax",USERS_DELETED_COUNT:"usersDeletedCount",USERS_TEAM_SIZE:"usersTeamSize",ELEMENTS_MARKED_AS_DELETED_COUNT:"elementsMarkedAsDeletedCount",ELEMENTS_DELETED_COUNT:"elementsDeletedCount",ELEMENTS_FAILED_DELETION_COUNT:"elementsFailedDeletionCount",USERS_SUBSCRIPTIONS_RENEWAL_COUNT:"usersSubscriptionsRenewalCount",USERS_SUBSCRIPTIONS_RENEWAL_FAILED_COUNT:"usersSubscriptionsRenewalFailedCount",USERS_SUBSCRIPTIONS_REMOVED_COUNT:"usersSubscriptionsRemovedCount",USERS_SUBSCRIPTIONS_REMOVE_FAILED_COUNT:"usersSubscriptionsRemoveFailedCount",BOARD_COUNT:"boardCount",PUBLISHED_BOARD_COUNT:"publishedBoardCount",SUSPICIOUS_BOARD_COUNT:"suspiciousBoardCount",FAILED_BOARD_COUNT:"failedBoardCount",OPERATION:"operation",REQUEST_MODE:"requestMode",IMAGE_SEARCH_PROVIDER_RATE_LIMIT:"imageSearchProviderRateLimit",ELEMENT_ID:"elementId",UPDATE_CONFLICT_STATUS:"updateConflictStatus",ELEMENT_RESTORATION_TYPE:"elementRestorationType",SEARCH_ENRICHED_BREADCRUMBS_LENGTH:"enrichedBreadcrumbsLength",ELEMENTS_CREATED:"elementsCreated",CREATOR_RELATIONSHIPS_CREATED:"creatorRelationshipsCreated",CHILD_OF_RELATIONSHIPS_CREATED:"childOfRelationshipsCreated",TRASH_OF_RELATIONSHIPS_CREATED:"trashOfRelationshipsCreated",DELETED_FROM_RELATIONSHIPS_CREATED:"deletedFromRelationshipsCreated",PARENT_CHILD_RELATIONSHIPS_DELETED:"parentChildRelationshipsDeleted",LINKED_FROM_RELATIONSHIPS_CREATED:"linkedFromRelationshipsCreated",ALIAS_USES_RELATIONSHIPS_CREATED:"aliasUsesRelationshipsCreated",USER_ACCESS_RELATIONSHIPS_CREATED:"userAccessRelationshipsCreated",USER_ACCESS_RELATIONSHIPS_DELETED:"userAccessRelationshipsDeleted",USER_USES_RELATIONSHIPS_CREATED:"userUsesRelationshipsCreated",PERMISSIONS_CREATED:"permissionsCreated",PERMISSION_ACCESS_RELATIONSHIPS_CREATED:"permissionAccessRelationshipsCreated",USERS_ARCHIVED_COUNT:"usersArchivedCount",USERS_ARCHIVED_FAILED_COUNT:"usersArchivedFailedCount",GRAPH_ELEMENTS_DELETE_COUNT:"graphElementsDeletedCount",QUEUE_SIZE:"queueSize"},o="LOG"},65256:(e,t,n)=>{e.exports=n.p+"image-e84d8f22b657.png"},3853:(e,t,n)=>{e.exports=n.p+"image-1ea755f253ca.png"},78593:(e,t,n)=>{e.exports=n.p+"image-ddb7480c4e49.png"},45389:(e,t,n)=>{e.exports=n.p+"image-79033fec3857.png"},35946:(e,t,n)=>{e.exports=n.p+"image-7bec10b868ea.png"},68913:(e,t,n)=>{e.exports=n.p+"image-f2b2cf512cab.png"},35784:(e,t,n)=>{e.exports=n.p+"image-3491e3f6299e.png"},24998:(e,t,n)=>{e.exports=n.p+"image-22d14e078665.png"},33439:(e,t,n)=>{e.exports=n.p+"image-e1486859061c.png"},93516:(e,t,n)=>{e.exports=n.p+"image-06b385366d01.png"},93223:(e,t,n)=>{e.exports=n.p+"image-a370ad22488b.png"},4355:(e,t,n)=>{e.exports=n.p+"image-254d40e0751c.png"},60109:(e,t,n)=>{e.exports=n.p+"image-10cdab4a2da4.png"},43650:(e,t,n)=>{e.exports=n.p+"image-81165aa97a3b.png"},876:(e,t,n)=>{e.exports=n.p+"image-8266afd71b08.png"},51421:(e,t,n)=>{e.exports=n.p+"image-a2dbc49a8e8b.png"},9307:(e,t,n)=>{e.exports=n.p+"image-ebc817fb8b0a.png"},67554:(e,t,n)=>{e.exports=n.p+"image-cca82c7041f7.png"},19810:()=>{},98545:()=>{},40587:()=>{},17692:()=>{},35434:()=>{},87995:()=>{},11993:()=>{},25350:()=>{},55641:()=>{},46700:(e,t,n)=>{var r={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":55684,"./bo.js":55684,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":87093,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":87093,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":37766,"./km.js":37766,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9450,"./th.js":9450,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=46700},37832:(e,t,n)=>{var r={"./en/checkout.json":[73078,5364]};function o(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return n.e(t[1]).then((()=>n.t(o,19)))}o.keys=()=>Object.keys(r),o.id=37832,e.exports=o}},e=>{e.O(0,[4736],(()=>{return t=21150,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=main-52e766c41e69-modern.js.map